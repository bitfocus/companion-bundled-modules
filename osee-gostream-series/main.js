(()=>{var e={701:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetActionsList=function(e){return{...m.DeviceInfoActions.create(e.deck),...r.MixEffectActions.create(e.deck),...y.AutoSwitchingActions.create(e.deck),...c.AudioMixerActions.create(e.deck,e.model),...o.MultiSourceActions.create(e.deck),...n.StreamingActions.create(e.deck),...a.RecordActions.create(e.deck,e.model),...s.PlaybackActions.create(e.deck),...u.ColorBackActions.create(e.deck),...d.DownstreamKeyerActions.create(e.deck),...l.MutiViewActions.create(e.deck),...p.MacroActions.create(e.deck),...b.KeyerActions.create(e.deck),...f.MediaPlayerActions.create(e.deck),...h.IOActions.create(e.deck)}};const o=i(5127),r=i(1956),n=i(8427),a=i(4160),s=i(208),c=i(4718),u=i(4483),d=i(7467),l=i(3466),p=i(8627),b=i(9528),m=i(6771),y=i(3842),f=i(4546),h=i(4239)},7206:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetConfigFields=function(){return[{label:"Information",id:"info",type:"static-text",value:"This module controls a GoStream device over IP protocol",width:12},{id:"bonjourDevices",type:"bonjour-device",label:"Device",width:6},{type:"dropdown",id:"modelId",label:"Model",width:6,choices:r.ALL_MODEL_CHOICES,default:n.Model.Unknown,isVisible:e=>!e.bonjourDevices},{label:"Target IP",id:"host",type:"textinput",default:"192.168.1.80",width:6,required:!0,regex:o.Regex.IP,tooltip:"GoSteamDeck address",isVisible:e=>!e.bonjourDevices}]};const o=i(6278),r=i(2317),n=i(7574)},1670:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.AudioMixerEffectEnable="audioMixerEffectEnable",e.AudioMixerEnable="audioMixerEnable",e.AudioMixerAFVEnable="AudioMixerAFVEnable",e.AudioMixerPanning="audioMixerPanning",e.AudioMixerFader="audioMixerFader",e.AudioMixerHPF="audioMixerHPF",e.AudioMixerHPFEnable="audioMixerHPFEnable",e.AudioMixerNoiseGate="audioMixerNoiseGate",e.AudioMixerNoiseGateEnable="audioMixerNoiseGateEnable",e.AudioMixerCompressor="audioMixerCompressor",e.AudioMixerCompressorEnable="audioMixerCompressorEnable",e.AudioMixerEQEnable="audioMixerEQEnable",e.AudioMixerLimiter="audioMixerLimiter",e.AudioMixerLimiterEnable="audioMixerLimiterEnable",e.AudioMixerHeadphoneSourceList="audioMixerHeadphoneSourceList",e.AudioMixerSwitchType="audioMixerSwitchType",e.AudioMixerHeadphone="audioMixerHeadphone",e.AudioMixerMicType="audioMixerMicType",e.AudioMixerMicTypeList="audioMixerMicTypeList",e.AudioMixerInput="audioMixerInput",e.AudioMixerDelay="audioMixerDelay"}(i||(t.ActionId=i={}))},3610:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.AutoSwitchingEnable="autoSwitchingEnable",e.AutoSwitchingAudioAList="autoSwitchingAudioAList",e.AutoSwitchingAudioBList="autoSwitchingAudioBList",e.AutoSwitchingSetAProperties="autoSwitchingSetAProperties",e.AutoSwitchingSetBProperties="autoSwitchingSetBProperties",e.AutoSwitchingAudio="autoSwitchingAudio",e.AutoSwitchingAudioThreshold="autoSwitchingAudioThreshold",e.AutoSwitchingAudioSource="autoSwitchingAudioSource",e.AutoSwitchingVideoAMapList="autoSwitchingVideoAMapList",e.AutoSwitchingVideoBMapList="autoSwitchingVideoBMapList",e.AutoSwitchingVideoABMapList="autoSwitchingVideoABMapList",e.AutoSwitchingVideoProperties="autoSwitchingVideoProperties",e.AutoSwitchingVideo="autoSwitchingVideo",e.AutoSwitchingVideoAMapping="autoSwitchingVideoAMapping",e.AutoSwitchingVideoBMapping="autoSwitchingVideoBMapping",e.AutoSwitchingVideoABMapping="autoSwitchingVideoABMapping",e.AutoSwitchingVideoSwitchingPeriod="autoSwitchingVideoSwitchingPeriod",e.AutoSwitchingVideoABPriority="autoSwitchingVideoABPriority"}(i||(t.ActionId=i={}))},6503:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.ColorHue="colorHue",e.ColorSaturation="colorSaturation",e.ColorBrightness="colorBrightness"}(i||(t.ActionId=i={}))},6871:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.DeviceType="deviceType",e.FWVersion="version",e.BuildInfo="buildInfo",e.DeviceId="deviceId",e.DeviceName="deviceName",e.InputList="inputList",e.AudioMixerInputSourceList="audioMixerInputSourceList",e.MultiSourceWindowCount="multiSourceWindowCount",e.KeyCount="keyCount",e.DskCount="dskCount",e.PlayCount="playCount",e.RecordISOChannelList="recordISOChannelList",e.VideoOutSourceList="outSourceList",e.AudioOutSourceList="audioMixerOutSourceList"}(i||(t.ActionId=i={}))},2773:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.DskEnable="dskEnable",e.DskOnAir="dskOnAir",e.DSKSourceProperties="dSKSourceProperties",e.DskFillSourceList="dskFillSourceList",e.DskFillSource="dskFillSource",e.DskKeySourceList="dskKeySourceList",e.DskKeySource="dskKeySource",e.DSKSetAllProperties="dSKSetAllProperties",e.DskMaskEnable="dskMaskEnable",e.DskMaskHStart="dskMaskHStart",e.DskMaskVStart="dskMaskVStart",e.DskMaskHEnd="dskMaskHEnd",e.DskMaskVEnd="dskMaskVEnd",e.DskPreMultipliedKey="dskPreMultipliedKey",e.DskClip="dskClip",e.DskGain="dskGain",e.DskInvert="dskInvert",e.DskRate="dskRate",e.DskResize="dskResize",e.DskSizeMinMax="dskSizeMinMax",e.DskSize="dskSize",e.DskXPosition="dskXPosition",e.DskYPosition="dskYPosition"}(i||(t.ActionId=i={}))},7004:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PgmIndex="pgmIndex",e.PvwIndex="pvwIndex",e.CutTransition="cutTransition",e.AutoTransition="autoTransition",e.TBar="tBar",e.TransitionStatus="transitionStatus",e.PreviewTransition="previewTransition",e.TransitionStyle="transitionStyle",e.TransitionRate="transitionRate",e.TransitionMixRate="transitionMixRate",e.TransitionDipRate="transitionDipRate",e.TransitionDipFillSourceList="transitionDipFillSourceList",e.TransitionDipFillSource="transitionDipFillSource",e.TransitionWipeRate="transitionWipeRate",e.TransitionWipePatternList="transitionWipePatternList",e.TransitionWipePatternIndex="transitionWipePatternIndex",e.TransitionWipeXPositionMinMax="transitionWipeXPositionMinMax",e.TransitionWipeXPosition="transitionWipeXPosition",e.TransitionWipeYPositionMinMax="transitionWipeYPositionMinMax",e.TransitionWipeYPosition="transitionWipeYPosition",e.TransitionWipeDirection="transitionWipeDirection",e.TransitionWipeSymmetry="transitionWipeSymmetry",e.TransitionWipeSoftness="transitionWipeSoftness",e.TransitionWipeBorder="transitionWipeBorder",e.TransitionWipeFillSourceList="transitionWipeFillSourceList",e.TransitionWipeFillSource="transitionWipeFillSource",e.Ftb="ftb",e.FtbStatus="ftbStatus",e.FtbAfv="ftbAfv",e.FtbRate="ftbRate"}(i||(t.ActionId=i={}))},1804:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.USK=t.Stream=t.Record=t.PlayBack=t.MutiView=t.MutiSource=t.Media=t.Macro=t.IOSetting=t.Effect=t.DSK=t.ColorBack=t.AudioSwitch=t.AudioMixer=t.Device=void 0;const a=n(i(6871));t.Device=a;const s=n(i(1670));t.AudioMixer=s;const c=n(i(3610));t.AudioSwitch=c;const u=n(i(6503));t.ColorBack=u;const d=n(i(2773));t.DSK=d;const l=n(i(7004));t.Effect=l;const p=n(i(8693));t.IOSetting=p;const b=n(i(7511));t.Macro=b;const m=n(i(6938));t.Media=m;const y=n(i(5179));t.MutiSource=y;const f=n(i(7615));t.MutiView=f;const h=n(i(4180));t.PlayBack=h;const S=n(i(4708));t.Record=S;const g=n(i(7329));t.Stream=g;const I=n(i(5942));t.USK=I},8693:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.OutFormatList="outFormatList",e.OutFormat="outFormat",e.OutSourceList="outSourceList",e.OutSourceRange="outSourceRange",e.OutSource="outSource",e.InputColorSpace="inputColorSpace",e.OutputColorSpace="outputColorSpace",e.ColorSpace="colorSpace",e.AudioMixerOutSource="audioMixerOutSource",e.AudioMixerOutSourceRange="audioMixerOutSourceRange",e.InputMode="inputMode"}(i||(t.ActionId=i={}))},7511:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.MacroRecordStart="macroRecordStart",e.MacroRecordStop="macroRecordStop",e.MacroRunStart="macroRunStart",e.MacroRunStop="macroRunStop",e.MacroRecordIndex="macroRecordIndex",e.MacroRunIndex="macroRunIndex",e.MacroInfo="macroInfo",e.MacroInfos="macroInfos",e.RemoveMacro="removeMacro",e.MacroAddSleep="macroAddSleep"}(i||(t.ActionId=i={}))},6938:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.MediaPlayer="mediaPlayer",e.Still="still",e.StillXPosition="stillXPosition",e.StillYPosition="stillYPosition",e.Browser="browser",e.Mp1Properties="mp1Properties",e.Mp2Properties="mp2Properties"}(i||(t.ActionId=i={}))},5179:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.MultiSourceEnable="multiSourceEnable",e.MultiSourceFillSourceList="multiSourceFillSourceList",e.MultiSourceFillSource="multiSourceFillSource",e.MultiSourceKeySourceList="multiSourceKeySourceList",e.MultiSourceKeySource="multiSourceKeySource",e.MultiSourcePlaceIn="multiSourcePlaceIn",e.MultiSourceControlStyle="multiSourceControlStyle",e.MultiSourceWindowBorderWidth="multiSourceWindowBorderWidth",e.MultiSourceWindowBorderHue="multiSourceWindowBorderHue",e.MultiSourceWindowBorderSaturation="multiSourceWindowBorderSaturation",e.MultiSourceWindowBorderBrightness="multiSourceWindowBorderBrightness",e.MultiSourceWindowProperties="multiSourceWindowProperties",e.MultiSourceWindowSourceList="multiSourceWindowSourceList",e.MultiSourceWindowSource="multiSourceWindowSource",e.MultiSourceWindowEnable="multiSourceWindowEnable",e.MultiSourceWindowXPositionMinMax="multiSourceWindowXPositionMinMax",e.MultiSourceWindowXPosition="multiSourceWindowXPosition",e.MultiSourceControlYPosition="multiSourceControlYPosition",e.MultiSourceWindowYPositionMinMax="multiSourceWindowYPositionMinMax",e.MultiSourceWindowYPosition="multiSourceWindowYPosition",e.MultiSourceWindowSizeMinMax="multiSourceWindowSizeMinMax",e.MultiSourceWindowSize="multiSourceWindowSize",e.MultiSourceWindowCropEnable="multiSourceWindowCropEnable",e.MultiSourceWindowBorderProperties="multiSourceWindowBorderProperties",e.MultiSourceWindowCropLeft="multiSourceWindowCropLeft",e.MultiSourceWindowCropRight="multiSourceWindowCropRight",e.MultiSourceWindowCropTop="multiSourceWindowCropTop",e.MultiSourceWindowCropBottom="multiSourceWindowCropBottom",e.MultiSourceWindowCropRadius="multiSourceWindowCropRadius",e.MultiSourceWindowCropProperties="multiSourceWindowCropProperties"}(i||(t.ActionId=i={}))},7615:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.MultiViewLayout="multiViewLayout",e.MultiViewWindowsSize="multiViewWindowsSize",e.MultiViewWindowsSourceList="multiViewWindowsSourceList",e.MultiViewWindows="multiViewWindows",e.MeterEnable="meterEnable",e.Marker="marker"}(i||(t.ActionId=i={}))},4180:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PlaybackModeRange="playbackModeRange",e.PlaybackMode="playbackMode",e.PlayRepeat="playRepeat",e.PlaybackCutLogic="playbackCutLogic",e.PlayPause="playPause",e.PlayStatus="playStatus"}(i||(t.ActionId=i={}))},4708:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PGMStartRecord="PGMStartRecord",e.ISOStartRecord="ISOStartRecord",e.RecordStart="recordStart",e.RecordStop="recordStop",e.RecordStatus="recordStatus",e.RecordFormat="recordFormat",e.RecordBitrate="recordBitrate",e.RecordISOChannel="recordISOChannel",e.RecordDuration="recordDuration",e.RecordFree="recordFree",e.ISORecordFree="ISORecordFree",e.RecordecordAlarm="recordecordAlarm",e.ISORecordStartError="ISORecordStartError"}(i||(t.ActionId=i={}))},7329:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.RemoveAllStreamSetting="removeAllStreamSetting",e.LiveStreamOutputEnable="liveStreamOutputEnable",e.LiveStreamOutputServiceName="liveStreamOutputServiceName",e.LiveStreamOutputUrl="liveStreamOutputUrl",e.LiveStreamOutputKey="liveStreamOutputKey",e.LiveStreamOutputStatus="liveStreamOutputStatus",e.LiveStreamOutputProfile="liveStreamOutputProfile",e.LiveStreamOutputBitrate="liveStreamOutputBitrate",e.LiveStreamPlatform="liveStreamPlatform",e.Live="live"}(i||(t.ActionId=i={}))},5942:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.KeyCount="keyCount",e.KeySizeRange="keySizeRange",e.KeySizeRangeList="keySizeRangeList",e.KeySizeRangeMinMax="keySizeRangeMinMax",e.KeyType="keyType",e.KeyEnable="keyEnable",e.KeyOnAir="keyOnAir",e.LumaKeySourceProperties="lumaKeySourceProperties",e.LumaKeySetProperties="lumaKeySetProperties",e.LumaFillSourceList="lumaFillSourceList",e.LumaFillSource="lumaFillSource",e.LumaKeySourceList="lumaKeySourceList",e.LumaKeySource="lumaKeySource",e.LumaMaskEnable="lumaMaskEnable",e.LumaMaskHStart="lumaMaskHStart",e.LumaMaskVStart="lumaMaskVStart",e.LumaMaskHEnd="lumaMaskHEnd",e.LumaMaskVEnd="lumaMaskVEnd",e.LumaPreMultipliedKey="lumaPreMultipliedKey",e.LumaClip="lumaClip",e.LumaGain="lumaGain",e.LumaInvert="lumaInvert",e.LumaResize="lumaResize",e.LumaSize="lumaSize",e.LumaXPosition="lumaXPosition",e.LumaYPosition="lumaYPosition",e.ChromaFillSourceList="chromaFillSourceList",e.ChromaKeySetMaskProperties="chromaKeySetMaskProperties",e.ChromaFillSource="chromaFillSource",e.ChromaMaskEnable="chromaMaskEnable",e.ChromaMaskHStart="chromaMaskHStart",e.ChromaMaskVStart="chromaMaskVStart",e.ChromaMaskHEnd="chromaMaskHEnd",e.ChromaMaskVEnd="chromaMaskVEnd",e.ChromaResize="chromaResize",e.ChromaSize="chromaSize",e.ChromaXPosition="chromaXPosition",e.ChromaYPosition="chromaYPosition",e.ChromaKeySetControlProperties="chromaKeySetControlProperties",e.ChromaSMPXPosition="chromaSMPXPosition",e.ChromaSMPYPosition="chromaSMPYPosition",e.ChromaSample="chromaSample",e.ChromaCurrentColor="chromaCurrentColor",e.ChromaForeground="chromaForeground",e.ChromaBackground="chromaBackground",e.ChromaKeyEdge="chromaKeyEdge",e.PatternKeySetMaskProperties="patternKeySetMaskProperties",e.PatternFillSourceList="patternFillSourceList",e.PatternFillSource="patternFillSource",e.PatternWipeList="patternWipeList",e.PatternWipeIndex="patternWipeIndex",e.PatternWipeSize="patternWipeSize",e.PatternMaskEnable="patternMaskEnable",e.PatternMaskHStart="patternMaskHStart",e.PatternMaskVStart="patternMaskVStart",e.PatternMaskHEnd="patternMaskHEnd",e.PatternMaskVEnd="patternMaskVEnd",e.PatternResize="patternResize",e.PatternSize="patternSize",e.PatternXPosition="patternXPosition",e.PatternYPosition="patternYPosition",e.PipKeySetMaskProperties="pipKeySetMaskProperties",e.PipFillSourceList="pipFillSourceList",e.PipFillSource="pipFillSource",e.PipMaskEnable="pipMaskEnable",e.PipMaskHStart="pipMaskHStart",e.PipMaskVStart="pipMaskVStart",e.PipMaskHEnd="pipMaskHEnd",e.PipMaskVEnd="pipMaskVEnd",e.PipSize="pipSize",e.PipXPosition="pipXPosition",e.PipYPosition="pipYPosition",e.PipBorderEnable="pipBorderEnable",e.PipBorderWidth="pipBorderWidth",e.PipBorderColorHue="pipBorderColorHue",e.PipBorderColorSaturation="pipBorderColorSaturation",e.PipBorderColorBrightness="pipBorderColorBrightness"}(i||(t.ActionId=i={}))},7273:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:r.ActionId.AudioMixerSwitchType,type:n.ReqType.Get},{id:r.ActionId.AudioMixerHeadphoneSourceList,type:n.ReqType.Get}];for(const t of e.device.audioMixSources)i.push({id:r.ActionId.AudioMixerCompressorEnable,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerEffectEnable,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerEnable,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerHPFEnable,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerNoiseGateEnable,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerEQEnable,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerLimiterEnable,type:n.ReqType.Get,value:[t]}),a(e,t);for(const t of e.device.micSources)i.push({id:r.ActionId.AudioMixerMicTypeList,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerMicType,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerInput,type:n.ReqType.Get,value:[t]}),i.push({id:r.ActionId.AudioMixerDelay,type:n.ReqType.Get,value:[t]}),s(e,t);return await t.sendCommands(i)},t.update=function(e,t){if(console.log(t),!t.value)return!1;let i=Number(t.value[0]),o=e.audioMixer.commonChannels[i];switch(t.id){case r.ActionId.AudioMixerEnable:o&&(o.audioMixerEnable=Number(t.value[1]));break;case r.ActionId.AudioMixerCompressor:o&&(o.compressorEnable=Boolean(t.value[1]));break;case r.ActionId.AudioMixerEffectEnable:o&&(o.audioMixerEffectEnable=Boolean(t.value[1]));break;case r.ActionId.AudioMixerHPF:o&&(o.lowCutEnable=Boolean(t.value[1]));break;case r.ActionId.AudioMixerNoiseGate:o&&(o.noiseGateEnable=Boolean(t.value[1]));break;case r.ActionId.AudioMixerEQEnable:o&&(o.EQEnable=Boolean(t.value[1]));break;case r.ActionId.AudioMixerLimiter:o&&(o.PGMLimiterEnable=Boolean(t.value[1]));break;case r.ActionId.AudioMixerSwitchType:e.audioMixer.audioFade=Number(t.value[0]);break;case r.ActionId.AudioMixerHeadphoneSourceList:var n=String(t.value);e.audioMixer.HeadphoneSources=n?n.split(",").map(Number):[];break;case r.ActionId.AudioMixerMicTypeList:var a=t.value,s=a.shift();(c=s?e.audioMixer.micChannels[s]:void 0)&&(c.micTypeRange=a);break;case r.ActionId.AudioMixerMicType:(c=e.audioMixer.micChannels[i])&&(c.micType=Number(t.value[1]));break;case r.ActionId.AudioMixerInput:(c=e.audioMixer.micChannels[i])&&(c.input=Number(t.value[1]));break;case r.ActionId.AudioMixerDelay:var c;(c=e.audioMixer.micChannels[i])&&(c.delay=Number(t.value[1]))}return!1};const o=i(7574),r=i(1670),n=i(7574);function a(e,t){e.audioMixer.commonChannels[t]={audioMixerEffectEnable:!1,lowCutEnable:!1,audioMixerEnable:o.AfvState.off,noiseGateEnable:!1,compressorEnable:!1,EQEnable:!1,PGMLimiterEnable:!1}}function s(e,t){e.audioMixer.micChannels[t]={micType:0,micTypeRange:[],inputRange:[],input:0,delay:0}}},88:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.AutoSwitchingEnable,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingAudioAList,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingAudioBList,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingAudio,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingVideoAMapList,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingVideoBMapList,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingVideoABMapList,type:r.ReqType.Get},{id:o.ActionId.AutoSwitchingVideo,type:r.ReqType.Get}];return await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.AutoSwitchingEnable:e.audioSwitching.enable=Boolean(t.value[0]);break;case o.ActionId.AutoSwitchingAudioAList:e.audioSwitching.ASources=t.value;break;case o.ActionId.AutoSwitchingAudioBList:e.audioSwitching.BSources=t.value;break;case o.ActionId.AutoSwitchingVideoAMapList:e.audioSwitching.AMapSources=t.value;break;case o.ActionId.AutoSwitchingVideoBMapList:e.audioSwitching.BMapSources=t.value;break;case o.ActionId.AutoSwitchingVideoABMapList:e.audioSwitching.ABMapSources=t.value}return!1};const o=i(3610),r=i(7574)},4382:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[];if(e.device.colorBackCount>0)for(let t=0;t<e.device.colorBackCount;t++)i.push({id:o.ActionId.ColorHue,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ColorBrightness,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ColorSaturation,type:r.ReqType.Get,value:[t]}),n(e,t);return await t.sendCommands(i)},t.update=function(e,t){if(!t.value)return!1;const i=Number(t.value[0]);switch(t.id){case o.ActionId.ColorBrightness:(r=e.colorBack.colorBacks[i])&&(r.brightness=Number(t.value[1]));break;case o.ActionId.ColorHue:(r=e.colorBack.colorBacks[i])&&(r.hue=Number(t.value[1]));break;case o.ActionId.ColorSaturation:var r;(r=e.colorBack.colorBacks[i])&&(r.saturation=Number(t.value[1]))}return!0};const o=i(6503),r=i(7574);function n(e,t){e.colorBack.colorBacks[t]={hue:0,saturation:0,brightness:0}}},5588:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.BuildInfo,type:r.ReqType.Get},{id:o.ActionId.DeviceId,type:r.ReqType.Get},{id:o.ActionId.DeviceName,type:r.ReqType.Get},{id:o.ActionId.InputList,type:r.ReqType.Get},{id:o.ActionId.FWVersion,type:r.ReqType.Get},{id:o.ActionId.DeviceType,type:r.ReqType.Get},{id:o.ActionId.AudioMixerInputSourceList,type:r.ReqType.Get},{id:o.ActionId.MultiSourceWindowCount,type:r.ReqType.Get},{id:o.ActionId.KeyCount,type:r.ReqType.Get},{id:o.ActionId.DskCount,type:r.ReqType.Get},{id:o.ActionId.PlayCount,type:r.ReqType.Get},{id:o.ActionId.RecordISOChannelList,type:r.ReqType.Get},{id:o.ActionId.AudioOutSourceList,type:r.ReqType.Get},{id:o.ActionId.VideoOutSourceList,type:r.ReqType.Get}];return await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.BuildInfo:e.device.buildInfo=String(t.value[0]);break;case o.ActionId.DeviceId:e.device.deviceID=String(t.value[0]);break;case o.ActionId.DeviceName:e.device.deviceName=String(t.value[0]);break;case o.ActionId.FWVersion:e.device.fwVersion=String(t.value[0]);break;case o.ActionId.DeviceType:switch(Number(t.value[0])){case 0:e.device.deviceModel=r.Model.Deck,e.device.mediaCount=2,e.device.multiSourceWindowCount=2,e.device.playCount=1,e.device.OutPutColorSpaceSources=[21001,21002],e.device.InputColorSpaceSources=[1,2,3,4],e.outputSetting.colorSpaceRange=["Auto","RGB Full","RGB Limit","YC422 Full","YC422 Limit","YC444 Full","YC444 Limit"];break;case 1:e.device.deviceModel=r.Model.Duet_SDI,e.device.mediaCount=2,e.device.multiSourceWindowCount=2,e.device.playCount=1,e.device.OutPutColorSpaceSources=[21001,21002],e.device.InputColorSpaceSources=[1,2,3,4],e.outputSetting.colorSpaceRange=["Auto","RGB Full","RGB Limit","YC422 Full","YC422 Limit","YC444 Full","YC444 Limit"];break;case 2:e.device.deviceModel=r.Model.Dect_FANS,e.device.mediaCount=2,e.device.multiSourceWindowCount=2,e.device.playCount=1,e.device.OutPutColorSpaceSources=[21001,21002],e.device.InputColorSpaceSources=[1,2,3,4],e.outputSetting.colorSpaceRange=["Auto","RGB Full","RGB Limit","YC422 Full","YC422 Limit","YC444 Full","YC444 Limit"];break;case 3:e.device.deviceModel=r.Model.Dect_PLUS,e.device.mediaCount=2,e.device.multiSourceWindowCount=2,e.device.playCount=1,e.device.OutPutColorSpaceSources=[21001,21002],e.device.InputColorSpaceSources=[1,2,3,4],e.outputSetting.colorSpaceRange=["Auto","RGB Full","RGB Limit","YC422 Full","YC422 Limit","YC444 Full","YC444 Limit"];break;case 10:e.device.deviceModel=r.Model.Duet_8ISO,e.device.mediaCount=2,e.device.multiSourceWindowCount=4,e.device.playCount=2,e.device.OutPutColorSpaceSources=[21001,21002],e.device.InputColorSpaceSources=[1,2,3,4],e.outputSetting.colorSpaceRange=["Auto","RGB Full","RGB Limit","YC422 Full","YC422 Limit","YC444 Full","YC444 Limit"];break;default:e.device.deviceModel=r.Model.Unknown}e.device.colorBackCount=2,e.device.streamCount=3,e.device.micSources=[r.sourceID.MIC1,r.sourceID.MIC2];break;case o.ActionId.InputList:var i=String(t.value);e.device.inputSources=i?i.split(",").map(Number):[];break;case o.ActionId.AudioMixerInputSourceList:i=String(t.value),e.device.audioMixSources=i?i.split(",").map(Number):[];break;case o.ActionId.MultiSourceWindowCount:e.device.multiSourceWindowCount=Number(t.value[0]);break;case o.ActionId.KeyCount:e.device.keyCount=Number(t.value[0]);break;case o.ActionId.DskCount:e.device.dskCount=Number(t.value[0]);break;case o.ActionId.PlayCount:e.device.playCount=Number(t.value[0]);break;case o.ActionId.RecordISOChannelList:i=String(t.value),e.device.RecordISOChannels=i?i.split(",").map(Number):[];break;case o.ActionId.AudioOutSourceList:i=String(t.value),e.device.AudioOutSources=i?i.split(",").map(Number):[];break;case o.ActionId.VideoOutSourceList:i=String(t.value),e.device.VideoOutSources=i?i.split(",").map(Number):[]}return!1};const o=i(6871),r=i(7574)},9581:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.DskFillSourceList,type:r.ReqType.Get},{id:o.ActionId.DskKeySourceList,type:r.ReqType.Get}];for(let t=0;t<e.device.dskCount;t++)i.push({id:o.ActionId.DskEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskOnAir,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskFillSource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskKeySource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskMaskEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskMaskHStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskMaskVStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskMaskHEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskPreMultipliedKey,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskClip,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskGain,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskInvert,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskResize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.DskYPosition,type:r.ReqType.Get,value:[t]}),n(e,t);return await t.sendCommands(i)},t.update=function(e,t){let i=Number(t.value[0]),r=e.downStreamKey.DSKS[i];switch(t.id){case o.ActionId.DskFillSourceList:var n=String(t.value);e.downStreamKey.FillSources=n?n.split(",").map(Number):[];break;case o.ActionId.DskKeySourceList:n=String(t.value),e.downStreamKey.KeySources=n?n.split(",").map(Number):[];break;case o.ActionId.DskEnable:void 0!==r&&(r.keyEnable=Boolean(t.value[1]));break;case o.ActionId.DskOnAir:void 0!==r&&(r.keyOnAir=Boolean(t.value[1]));break;case o.ActionId.DskFillSource:void 0!==r&&(r.source.fill=Number(t.value[1]));break;case o.ActionId.DskKeySource:void 0!==r&&(r.source.key=Number(t.value[1]));break;case o.ActionId.DskMaskEnable:void 0!==r&&(r.mask.enabled=Boolean(t.value[1]));break;case o.ActionId.DskMaskHStart:void 0!==r&&(r.mask.hStart=Number(t.value[1]));break;case o.ActionId.DskMaskVStart:void 0!==r&&(r.mask.vStart=Number(t.value[1]));break;case o.ActionId.DskMaskHEnd:void 0!==r&&(r.mask.hEnd=Number(t.value[1]));break;case o.ActionId.DskMaskVEnd:void 0!==r&&(r.mask.vEnd=Number(t.value[1]));break;case o.ActionId.DskPreMultipliedKey:void 0!==r&&(r.control.preMultipliedKey=Boolean(t.value[1]));break;case o.ActionId.DskClip:void 0!==r&&(r.control.clip=Number(t.value[1]));break;case o.ActionId.DskGain:void 0!==r&&(r.control.gain=Number(t.value[1]));break;case o.ActionId.DskInvert:void 0!==r&&(r.control.invert=Boolean(t.value[1]));break;case o.ActionId.DskResize:void 0!==r&&(r.sizePosition.enable=Boolean(t.value[1]));break;case o.ActionId.DskSize:void 0!==r&&(r.sizePosition.size=Number(t.value[1]));break;case o.ActionId.DskXPosition:void 0!==r&&(r.sizePosition.xPosition=Number(t.value[1]));break;case o.ActionId.DskYPosition:void 0!==r&&(r.sizePosition.yPosition=Number(t.value[1]))}return!1};const o=i(2773),r=i(7574);function n(e,t){e.downStreamKey.DSKS[t]={keyEnable:!1,keyOnAir:!1,source:{fill:r.sourceID.IN1,key:r.sourceID.IN1},mask:{enabled:!1,hStart:0,vStart:0,hEnd:0,vEnd:0},control:{invert:!1,preMultipliedKey:!1,clip:0,gain:0},rate:{rate:0},sizePosition:{enable:!1,size:0,xPosition:0,yPosition:0}}}},6343:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.PgmIndex,type:r.ReqType.Get},{id:o.ActionId.PvwIndex,type:r.ReqType.Get},{id:o.ActionId.PreviewTransition,type:r.ReqType.Get},{id:o.ActionId.TransitionStatus,type:r.ReqType.Get},{id:o.ActionId.TransitionStyle,type:r.ReqType.Get},{id:o.ActionId.TransitionDipFillSource,type:r.ReqType.Get},{id:o.ActionId.TransitionDipFillSourceList,type:r.ReqType.Get},{id:o.ActionId.TransitionDipRate,type:r.ReqType.Get},{id:o.ActionId.TransitionMixRate,type:r.ReqType.Get},{id:o.ActionId.TransitionWipeRate,type:r.ReqType.Get},{id:o.ActionId.TransitionWipeDirection,type:r.ReqType.Get}];return e.device.deviceModel!==r.Model.Duet_8ISO&&(i.push({id:o.ActionId.TransitionWipeXPosition,type:r.ReqType.Get}),i.push({id:o.ActionId.TransitionWipeYPosition,type:r.ReqType.Get}),i.push({id:o.ActionId.TransitionWipeSymmetry,type:r.ReqType.Get}),i.push({id:o.ActionId.TransitionWipeSoftness,type:r.ReqType.Get}),i.push({id:o.ActionId.TransitionWipeBorder,type:r.ReqType.Get}),i.push({id:o.ActionId.TransitionWipeFillSourceList,type:r.ReqType.Get}),i.push({id:o.ActionId.TransitionWipeFillSource,type:r.ReqType.Get}),i.push({id:o.ActionId.FtbRate,type:r.ReqType.Get}),i.push({id:o.ActionId.FtbAfv,type:r.ReqType.Get}),i.push({id:o.ActionId.FtbStatus,type:r.ReqType.Get})),await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.PvwIndex:e.effect.PvwSrc=Number(t.value[0]);break;case o.ActionId.PgmIndex:e.effect.PgmSrc=Number(t.value[0]);break;case o.ActionId.TransitionStatus:e.effect.transitionPosition.inTransition=1===t.value[0];break;case o.ActionId.PreviewTransition:e.effect.selectTransitionStyle.PrevState=Boolean(t.value[0]);break;case o.ActionId.TransitionStyle:{let i=0;switch(String(t.value[0])){case"Mix":i=0;break;case"Dip":i=1;break;case"Wipe":i=2}e.effect.selectTransitionStyle.style=i;break}case o.ActionId.TransitionDipFillSource:e.effect.selectTransitionStyle.dip.selectDipSource=Number(t.value[0]);break;case o.ActionId.TransitionDipFillSourceList:var i=String(t.value);e.effect.dipFillSources=i?i.split(",").map(Number):[];break;case o.ActionId.TransitionDipRate:e.effect.selectTransitionStyle.dip.rate=Number(t.value[0]);break;case o.ActionId.TransitionWipeRate:e.effect.selectTransitionStyle.wipe.rate=Number(t.value[0]);break;case o.ActionId.TransitionMixRate:e.effect.selectTransitionStyle.mix.rate=Number(t.value[0]);break;case o.ActionId.TransitionWipeXPosition:e.effect.selectTransitionStyle.wipe.x=Number(t.value[0]);break;case o.ActionId.TransitionWipeYPosition:e.effect.selectTransitionStyle.wipe.y=Number(t.value[0]);break;case o.ActionId.TransitionWipeDirection:e.effect.selectTransitionStyle.wipe.direction=Number(t.value[0]);break;case o.ActionId.TransitionWipeSymmetry:e.effect.selectTransitionStyle.wipe.symmetry=Number(t.value[0]);break;case o.ActionId.TransitionWipeSoftness:e.effect.selectTransitionStyle.wipe.softness=Number(t.value[0]);break;case o.ActionId.TransitionWipeBorder:e.effect.selectTransitionStyle.wipe.borderWidth=Number(t.value[0]);break;case o.ActionId.TransitionWipeFillSourceList:i=String(t.value),e.effect.wipeFillSource=i?i.split(",").map(Number):[];break;case o.ActionId.TransitionWipeFillSource:i=String(t.value),e.effect.selectTransitionStyle.wipe.selectWipeSource=Number(t.value[0]);break;case o.ActionId.FtbStatus:{const i=Number(t.value[0]);0===i?(e.effect.fadeToBlack.isFullyBlack=!1,e.effect.fadeToBlack.inTransition=!1):1===i?(e.effect.fadeToBlack.inTransition=!1,e.effect.fadeToBlack.isFullyBlack=!0):2===i&&(e.effect.fadeToBlack.inTransition=!0);break}case o.ActionId.FtbRate:e.effect.fadeToBlack.rate=Number(t.value[0]);break;case o.ActionId.FtbAfv:e.effect.fadeToBlack.AFV=Boolean(t.value[0])}return!1};const o=i(7004),r=i(7574)},6506:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.InputMode,type:r.ReqType.Get},{id:o.ActionId.OutFormat,type:r.ReqType.Get},{id:o.ActionId.AudioMixerOutSourceRange,type:r.ReqType.Get},{id:o.ActionId.OutFormatList,type:r.ReqType.Get}];for(const t of e.device.VideoOutSources)i.push({id:o.ActionId.OutSourceRange,type:r.ReqType.Get,value:[t]});return await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.InputMode:e.intputSetting.inputMode=Number(t.value[0]);break;case o.ActionId.OutFormat:e.outputSetting.outFormat=String(t.value[0]);break;case o.ActionId.OutSourceRange:var i=t.value,r=i.shift();r&&(e.outputSetting.videoSourcesRange[r]=i);break;case o.ActionId.AudioMixerOutSourceRange:e.outputSetting.audioSourcesRange=t.value;break;case o.ActionId.ColorSpace:break;case o.ActionId.OutFormatList:e.outputSetting.outFormatRange=t.value}return!1};const o=i(8693),r=i(7574)},4818:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){return await t.sendCommand(o.ActionId.MacroInfos,r.ReqType.Get)},t.update=function(e,t){const i=Number(t.value[0]),r=Number(t.value[1]);switch(t.id){case o.ActionId.MacroInfos:{const o={name:String(t.value[1]),description:String(t.value[2]),used:!0,waiting:!1,recording:!1,running:!1};return 0!=t.value?.length&&(e.macro.macros[i]=o),!0}case o.ActionId.MacroRunIndex:{const t=e.macro.macros[i];void 0!==t&&(t.running=1===r);break}case o.ActionId.MacroRecordIndex:{const t=e.macro.macros[i];void 0!==t?t.recording=1===r:e.macro.macros[i]={name:"",description:"",recording:1===r,used:!0,running:!1,waiting:!1};break}}return!1};const o=i(7511),r=i(7574)},7915:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){e.device.deviceModel===r.Model.Duet_8ISO?(n=32,a=1):(n=32,a=0),function(e){for(let t=0;t<e.device.mediaCount;t++)e.media.mpTypes.push({type:r.meType.Browser,selectIndex:0});for(let t=0;t<n;t++)e.media.mpStrills.push({index:t,path:""});for(let t=0;t<a;t++)e.media.mpBrowsers.push({index:t,url:""})}(e);const i=[{id:o.ActionId.MediaPlayer,type:r.ReqType.Get,value:[0]},{id:o.ActionId.MediaPlayer,type:r.ReqType.Get,value:[1]}];for(let e=0;e<n;e++)i.push({id:o.ActionId.Still,type:r.ReqType.Get,value:[e]});for(let e=0;e<a;e++)i.push({id:o.ActionId.Browser,type:r.ReqType.Get,value:[e]});return await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.MediaPlayer:var i=Number(t.value[0]);e.media.mpTypes[i].type=Number(t.value[1]),e.media.mpTypes[i].selectIndex=Number(t.value[2]);break;case o.ActionId.Still:var r=Number(t.value[0]);e.media.mpStrills[r].path=String(t.value[1]);break;case o.ActionId.Browser:r=Number(t.value[0]),e.media.mpBrowsers[r].url=String(t.value[1])}return!1};const o=i(6938),r=i(7574);let n=0,a=0},2626:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.MultiSourceWindowSourceList,type:r.ReqType.Get}];if(e.device.deviceModel===r.Model.Duet_8ISO)for(let t=0;t<e.device.multiSourceWindowCount;t++)n(e,t),i.push({id:o.ActionId.MultiSourceWindowEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowSource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowYPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropLeft,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropRight,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropTop,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropBottom,type:r.ReqType.Get,value:[t]});else{i.push({id:o.ActionId.MultiSourceEnable,type:r.ReqType.Get}),i.push({id:o.ActionId.MultiSourceFillSourceList,type:r.ReqType.Get}),i.push({id:o.ActionId.MultiSourceKeySourceList,type:r.ReqType.Get}),i.push({id:o.ActionId.MultiSourceControlStyle,type:r.ReqType.Get}),i.push({id:o.ActionId.MultiSourceWindowYPosition,type:r.ReqType.Get});for(let t=0;t<e.device.multiSourceWindowCount;t++)n(e,t),i.push({id:o.ActionId.MultiSourceWindowCropEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropLeft,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropRight,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropTop,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowCropBottom,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowBorderWidth,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowBorderHue,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowBorderSaturation,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.MultiSourceWindowBorderBrightness,type:r.ReqType.Get,value:[t]})}return await t.sendCommands(i)},t.update=function(e,t){let i=Number(t.value[0]),n=e.mutiSource.eightWins[i],a=e.mutiSource.fourWins[i];switch(t.id){case o.ActionId.MultiSourceWindowSourceList:var s=String(t.value);e.mutiSource.multiSourceWindowsSources=s?s.split(",").map(Number):[];break;case o.ActionId.MultiSourceEnable:e.mutiSource.enable=Boolean(t.value[0]);break;case o.ActionId.MultiSourceFillSourceList:s=String(t.value),e.mutiSource.fillSources=s?s.split(",").map(Number):[];break;case o.ActionId.MultiSourceKeySourceList:s=String(t.value),e.mutiSource.keySources=s?s.split(",").map(Number):[];break;case o.ActionId.MultiSourceControlStyle:e.mutiSource.control&&(e.mutiSource.control.style=i);break;case o.ActionId.MultiSourceWindowEnable:n&&(n.enable=Boolean(t.value[1]));break;case o.ActionId.MultiSourceWindowSource:e.device.deviceModel===r.Model.Duet_8ISO?n&&(n.selectSource=Number(t.value[1])):e.mutiSource.control&&(e.mutiSource.control.y=i);break;case o.ActionId.MultiSourceWindowXPosition:n&&(n.x=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowYPosition:n&&(n.y=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowSize:n&&(n.size=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowCropLeft:e.device.deviceModel===r.Model.Duet_8ISO?n&&(n.cropLeft=Number(t.value[1])):a&&(a.cropLeft=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowCropRight:e.device.deviceModel===r.Model.Duet_8ISO?n&&(n.cropRight=Number(t.value[1])):a&&(a.cropRight=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowCropTop:e.device.deviceModel===r.Model.Duet_8ISO?n&&(n.cropTop=Number(t.value[1])):a&&(a.cropTop=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowCropBottom:e.device.deviceModel===r.Model.Duet_8ISO?n&&(n.cropBottom=Number(t.value[1])):a&&(a.cropBottom=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowCropEnable:a&&(a.cropEnable=Boolean(t.value[1]));break;case o.ActionId.MultiSourceWindowBorderWidth:a&&(a.borderWidth=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowBorderHue:a&&(a.hue=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowBorderSaturation:a&&(a.saturation=Number(t.value[1]));break;case o.ActionId.MultiSourceWindowBorderBrightness:a&&(a.brightness=Number(t.value[1]))}return!1};const o=i(5179),r=i(7574);function n(e,t){e.device.deviceModel===r.Model.Duet_8ISO?e.mutiSource.eightWins[t]={enable:!1,selectSource:r.sourceID.IN1,x:0,y:0,size:0,cropLeft:0,cropTop:0,cropRight:0,cropBottom:0}:(e.mutiSource.control={style:r.MultiSourceControlStyle.crop,y:0},e.mutiSource.enable=!1,e.mutiSource.fourWins[t]={cropEnable:!1,cropLeft:0,cropTop:0,cropRight:0,cropBottom:0,borderWidth:0,hue:0,saturation:0,brightness:0})}},1102:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.MultiViewLayout,type:r.ReqType.Get},{id:o.ActionId.MultiViewWindows,type:r.ReqType.Get}];return t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.MultiViewLayout:e.mutiView.layoutStyle=Number(t.value[0]);case o.ActionId.MultiViewWindows:}return!1};const o=i(7615),r=i(7574)},2361:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.PlaybackModeRange,type:r.ReqType.Get}];for(let t=0;t<e.device.playCount;t++)i.push({id:o.ActionId.PlaybackMode,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PlayRepeat,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PlayStatus,type:r.ReqType.Get,value:[t]}),n(e,t);return await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.PlaybackModeRange:e.playBack.modeRanges=t.value;break;case o.ActionId.PlaybackMode:var i=Number(t.value[0]);(r=e.playBack.config[i])&&(r.selectMode=String(t.value[1]));break;case o.ActionId.PlayRepeat:i=Number(t.value[0]),(r=e.playBack.config[i])&&(r.repeatEnable=Boolean(t.value[1]));break;case o.ActionId.PlayStatus:var r;i=Number(t.value[0]),(r=e.playBack.config[i])&&(r.playStatus=Number(t.value[1]))}return!1};const o=i(4180),r=i(7574);function n(e,t){e.playBack.config[t]={selectMode:"",repeatEnable:!1,playStatus:0}}},5919:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.RecordStatus,type:r.ReqType.Get},{id:o.ActionId.RecordFormat,type:r.ReqType.Get},{id:o.ActionId.RecordBitrate,type:r.ReqType.Get},{id:o.ActionId.RecordDuration,type:r.ReqType.Get},{id:o.ActionId.RecordFree,type:r.ReqType.Get},{id:o.ActionId.ISORecordFree,type:r.ReqType.Get}];for(let t=0;t<e.device.RecordISOChannels.length;t++)i.push({id:o.ActionId.RecordISOChannel,type:r.ReqType.Get,value:[e.device.RecordISOChannels[t]]});return t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.RecordStatus:e.record.isRecording=Number(t.value[0]);break;case o.ActionId.RecordFormat:let i=String(t.value[0]);"H.265"===i?e.record.format=1:"H.264"===i&&(e.record.format=0);break;case o.ActionId.RecordBitrate:e.record.quality=Number(t.value[0]);break;case o.ActionId.RecordFree:e.record.recordFree.freeSpace=Number(t.value[0]),e.record.recordFree.freeTime=Number(t.value[1]);break;case o.ActionId.ISORecordFree:e.record.ISORecordFree.freeSpace=Number(t.value[0]),e.record.ISORecordFree.freeTime=Number(t.value[1]);break;case o.ActionId.RecordDuration:e.record.recordTime=Number(t.value[0]);break;case o.ActionId.RecordISOChannel:let r=Number(t.value[0]),n=e.record.channels[r];n&&(n=Boolean(t.value[1]));break;case o.ActionId.ISORecordStartError:e.record.isoErrCode=Number(t.value[0])}return!1};const o=i(4708),r=i(7574)},7934:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.LiveStreamOutputProfile,type:r.ReqType.Get}];for(let t=0;t<e.device.streamCount;t++)n(e,t),i.push({id:o.ActionId.LiveStreamOutputEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LiveStreamOutputKey,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LiveStreamOutputServiceName,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LiveStreamOutputStatus,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LiveStreamOutputUrl,type:r.ReqType.Get,value:[t]});return i.push({id:o.ActionId.LiveStreamOutputBitrate,type:r.ReqType.Get}),await t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.LiveStreamOutputBitrate:e.stream.quality=Number(t.value[0]),e.initComplete=!0;break;case o.ActionId.LiveStreamOutputProfile:{const i=t.value;return i.forEach((()=>{for(let o=0;o<3;o++){const o=i.shift(),r=i.shift(),n=i.shift();var t=e.stream.platforms.find((e=>e.name===o));null!=t?t.servers.push({serName:r,url:n}):e.stream.platforms.push({name:o,servers:[{serName:r,url:n}]})}})),!0}case o.ActionId.LiveStreamOutputEnable:var i=Number(t.value[0]);(n=e.stream.streamInfos[i])&&(n.enabled=Boolean(t.value[1]));break;case o.ActionId.LiveStreamOutputServiceName:i=Number(t.value[0]),(n=e.stream.streamInfos[i])&&(n.platform=String(t.value[1]));break;case o.ActionId.LiveStreamOutputUrl:i=Number(t.value[0]),(n=e.stream.streamInfos[i])&&(n.url=String(t.value[1]));break;case o.ActionId.LiveStreamOutputStatus:i=Number(t.value[0]),(n=e.stream.streamInfos[i])&&(n.status=Number(t.value[1]),e.stream.streamInfos[0]?.status===r.LiveStatus.On&&e.stream.streamInfos[1]?.status===r.LiveStatus.On&&e.stream.streamInfos[2]?.status===r.LiveStatus.On?e.stream.status=r.LiveStatus.On:e.stream.streamInfos[0]?.status===r.LiveStatus.Off&&e.stream.streamInfos[1]?.status===r.LiveStatus.Off&&e.stream.streamInfos[2]?.status===r.LiveStatus.Off?e.stream.status=r.LiveStatus.Off:e.stream.status=r.LiveStatus.Abnormal);break;case o.ActionId.LiveStreamOutputKey:var n;i=Number(t.value[0]),(n=e.stream.streamInfos[i])&&(n.key=String(t.value[1]))}return!1};const o=i(7329),r=i(7574);function n(e,t){e.stream.streamInfos[t]={enabled:!1,status:r.LiveStatus.Off,platform:"",url:"",key:""}}},1858:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sync=async function(e,t){const i=[{id:o.ActionId.LumaFillSourceList,type:r.ReqType.Get},{id:o.ActionId.LumaKeySourceList,type:r.ReqType.Get},{id:o.ActionId.ChromaFillSourceList,type:r.ReqType.Get},{id:o.ActionId.PatternFillSourceList,type:r.ReqType.Get},{id:o.ActionId.PipFillSourceList,type:r.ReqType.Get},{id:o.ActionId.PatternWipeList,type:r.ReqType.Get}];for(let t=0;t<e.device.keyCount;t++)n(e,t),i.push({id:o.ActionId.KeyEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.KeyType,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.KeyOnAir,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaFillSource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaKeySource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaMaskEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaMaskHStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaMaskVStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaMaskHEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaMaskVEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaPreMultipliedKey,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaClip,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaGain,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaResize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.LumaYPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaFillSource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaMaskEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaMaskHStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaMaskVStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaMaskHEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaMaskVEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaResize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaYPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaSMPXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaSMPYPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaSample,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaCurrentColor,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaForeground,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaBackground,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.ChromaKeyEdge,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternFillSource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternWipeIndex,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternWipeSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternMaskEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternMaskHStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternMaskVStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternMaskHEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternMaskVEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternResize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PatternYPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipFillSource,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipMaskEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipMaskHStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipMaskVStart,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipMaskHEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipMaskVEnd,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipSize,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipXPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipYPosition,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipBorderEnable,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipBorderWidth,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipBorderColorHue,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipBorderColorSaturation,type:r.ReqType.Get,value:[t]}),i.push({id:o.ActionId.PipBorderColorBrightness,type:r.ReqType.Get,value:[t]});return t.sendCommands(i)},t.update=function(e,t){switch(t.id){case o.ActionId.LumaFillSourceList:var i=String(t.value);e.upStreamKey.LumaFillSources=i?i.split(",").map(Number):[];break;case o.ActionId.LumaKeySourceList:i=String(t.value),e.upStreamKey.LumaKeySources=i?i.split(",").map(Number):[];break;case o.ActionId.ChromaFillSourceList:i=String(t.value),e.upStreamKey.ChromaFillSource=i?i.split(",").map(Number):[];break;case o.ActionId.PatternFillSourceList:i=String(t.value),e.upStreamKey.PatternFillSource=i?i.split(",").map(Number):[];break;case o.ActionId.PipFillSourceList:i=String(t.value),e.upStreamKey.PipFileSource=i?i.split(",").map(Number):[];break;case o.ActionId.PatternWipeList:i=String(t.value),e.upStreamKey.PatternWipes=i?i.split(",").map(String):[];break;case o.ActionId.KeyEnable:var n=Number(t.value[0]);(s=e.upStreamKey.USKS[n])&&(s.enabled=Boolean(t.value[1]));break;case o.ActionId.KeyType:n=Number(t.value[0]);var a=String(t.value[1]),s=e.upStreamKey.USKS[n];switch(a){case"Luma":default:s&&(s.keyType=r.USKKeyTypes.Luma);break;case"Chroma":s&&(s.keyType=r.USKKeyTypes.Chroma);break;case"Pattern":s&&(s.keyType=r.USKKeyTypes.Pattern);break;case"PIP":s&&(s.keyType=r.USKKeyTypes.Pip)}break;case o.ActionId.KeyOnAir:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.onAir=Boolean(t.value[1]));break;case o.ActionId.LumaFillSource:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.slectSource[0]=Number(t.value[1]));break;case o.ActionId.LumaKeySource:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.slectSource[1]=Number(t.value[1]));break;case o.ActionId.LumaMaskEnable:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.maskInfo.enabled=Boolean(t.value[1]));break;case o.ActionId.LumaMaskHStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.maskInfo.hStart=Number(t.value[1]));break;case o.ActionId.LumaMaskVStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.maskInfo.vStart=Number(t.value[1]));break;case o.ActionId.LumaMaskHEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.maskInfo.hEnd=Number(t.value[1]));break;case o.ActionId.LumaMaskVEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.maskInfo.vEnd=Number(t.value[1]));break;case o.ActionId.LumaPreMultipliedKey:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.keyControl.lumaPreMultipliedKey=Boolean(t.value[1]));break;case o.ActionId.LumaClip:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.keyControl.clip=Number(t.value[1]));break;case o.ActionId.LumaGain:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.keyControl.gain=Number(t.value[1]));break;case o.ActionId.LumaResize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.size.enable=Boolean(t.value[1]));break;case o.ActionId.LumaSize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.size.size=Number(t.value[1]));break;case o.ActionId.LumaXPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.size.x=Number(t.value[1]));break;case o.ActionId.LumaYPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Luma.size.y=Number(t.value[1]));break;case o.ActionId.ChromaFillSource:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.slectSource[0]=Number(t.value[1]));break;case o.ActionId.ChromaMaskEnable:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.maskInfo.enabled=Boolean(t.value[1]));break;case o.ActionId.ChromaMaskHStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.maskInfo.hStart=Number(t.value[1]));break;case o.ActionId.ChromaMaskVStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.maskInfo.vStart=Number(t.value[1]));break;case o.ActionId.ChromaMaskHEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.maskInfo.hEnd=Number(t.value[1]));break;case o.ActionId.ChromaMaskVEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.maskInfo.vEnd=Number(t.value[1]));break;case o.ActionId.ChromaResize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.size.enable=Boolean(t.value[1]));break;case o.ActionId.ChromaSize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.size.size=Number(t.value[1]));break;case o.ActionId.ChromaXPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.size.x=Number(t.value[1]));break;case o.ActionId.ChromaYPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.size.y=Number(t.value[1]));break;case o.ActionId.ChromaSMPXPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.SMPX=Number(t.value[1]));break;case o.ActionId.ChromaSMPYPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.SMPY=Number(t.value[1]));break;case o.ActionId.ChromaSample:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.sample=Boolean(t.value[1]));break;case o.ActionId.ChromaCurrentColor:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.currentColor=Number(t.value[1]));break;case o.ActionId.ChromaForeground:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.foreground=Number(t.value[1]));break;case o.ActionId.ChromaBackground:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.background=Number(t.value[1]));break;case o.ActionId.ChromaKeyEdge:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Chroma.control.keyEdge=Number(t.value[1]));break;case o.ActionId.PatternFillSource:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.slectSource[0]=Number(t.value[1]));break;case o.ActionId.PatternWipeIndex:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.wipe.selectWipeIndex=Number(t.value[1]));break;case o.ActionId.PatternWipeSize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.wipe.size=Number(t.value[1]));break;case o.ActionId.PatternMaskEnable:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.maskInfo.enabled=Boolean(t.value[1]));break;case o.ActionId.PatternMaskHStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.maskInfo.hStart=Number(t.value[1]));break;case o.ActionId.PatternMaskVStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.maskInfo.vStart=Number(t.value[1]));break;case o.ActionId.PatternMaskHEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.maskInfo.hEnd=Number(t.value[1]));break;case o.ActionId.PatternMaskVEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.maskInfo.vEnd=Number(t.value[1]));break;case o.ActionId.PatternResize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.size.enable=Boolean(t.value[1]));break;case o.ActionId.PatternSize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.size.size=Number(t.value[1]));break;case o.ActionId.PatternXPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.size.x=Number(t.value[1]));break;case o.ActionId.PatternYPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.Pattern.size.y=Number(t.value[1]));break;case o.ActionId.PipFillSource:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.slectSource[0]=Number(t.value[1]));break;case o.ActionId.PipMaskEnable:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.maskInfo.enabled=Boolean(t.value[1]));break;case o.ActionId.PipMaskHStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.maskInfo.hStart=Number(t.value[1]));break;case o.ActionId.PipMaskVStart:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.maskInfo.vStart=Number(t.value[1]));break;case o.ActionId.PipMaskHEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.maskInfo.hEnd=Number(t.value[1]));break;case o.ActionId.PipMaskVEnd:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.maskInfo.vEnd=Number(t.value[1]));break;case o.ActionId.PipSize:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.size.size=Number(t.value[1]));break;case o.ActionId.PipXPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.size.x=Number(t.value[1]));break;case o.ActionId.PipYPosition:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.size.y=Number(t.value[1]));break;case o.ActionId.PipBorderEnable:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.border.enable=Boolean(t.value[1]));break;case o.ActionId.PipBorderWidth:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.border.width=Number(t.value[1]));break;case o.ActionId.PipBorderColorHue:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.border.hue=Number(t.value[1]));break;case o.ActionId.PipBorderColorSaturation:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.border.saturation=Number(t.value[1]));break;case o.ActionId.PipBorderColorBrightness:n=Number(t.value[0]),(s=e.upStreamKey.USKS[n])&&(s.pip.border.brightness=Number(t.value[1]))}return!1};const o=i(5942),r=i(7574);function n(e,t){e.upStreamKey.USKS[t]={enabled:!1,onAir:!1,keyType:r.USKKeyTypes.Chroma,Luma:{slectSource:[0,0],maskInfo:{enabled:!1,hStart:0,hEnd:0,vStart:0,vEnd:0},keyControl:{lumaPreMultipliedKey:!1,clip:0,gain:0,invert:!1},size:{enable:!1,x:0,y:0,size:0}},Chroma:{slectSource:[0,0],maskInfo:{enabled:!1,hStart:0,hEnd:0,vStart:0,vEnd:0},control:{SMPX:0,SMPY:0,sample:!1,currentColor:0,foreground:0,background:0,keyEdge:0},size:{enable:!1,x:0,y:0,size:0}},Pattern:{slectSource:[0,0],maskInfo:{enabled:!1,hStart:0,hEnd:0,vStart:0,vEnd:0},size:{enable:!1,x:0,y:0,size:0},wipe:{selectWipeIndex:0,size:0}},pip:{slectSource:[0,0],maskInfo:{enabled:!1,hStart:0,hEnd:0,vStart:0,vEnd:0},size:{enable:!1,x:0,y:0,size:0},border:{enable:!1,width:0,hue:0,saturation:0,brightness:0}}}}},9145:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Sync=async function(e,t){await a.sync(e,t),await new Promise((e=>setTimeout(e,300))),await s.sync(e,t),await c.sync(e,t),await u.sync(e,t),await d.sync(e,t),await l.sync(e,t),await p.sync(e,t),await b.sync(e,t),await m.sync(e,t),await y.sync(e,t),await f.sync(e,t),await h.sync(e,t),await S.sync(e,t),await I.sync(e,t),await g.sync(e,t)},t.Update=function(e,t){t.forEach((t=>{a.update(e,t),s.update(e,t),c.update(e,t),u.update(e,t),d.update(e,t),l.update(e,t),p.update(e,t),b.update(e,t),m.update(e,t),y.update(e,t),f.update(e,t),h.update(e,t),S.update(e,t),I.update(e,t),g.update(e,t)}))};const a=n(i(5588)),s=n(i(7273)),c=n(i(88)),u=n(i(4382)),d=n(i(9581)),l=n(i(6343)),p=n(i(6506)),b=n(i(4818)),m=n(i(7915)),y=n(i(2626)),f=n(i(1102)),h=n(i(2361)),S=n(i(5919)),g=n(i(7934)),I=n(i(1858))},7574:(e,t)=>{"use strict";var i,o,r,n,a,s,c,u,d,l,p,b,m,y,f,h,S,g;Object.defineProperty(t,"__esModule",{value:!0}),t.WipeDirection=t.MultiSourceControlStyle=t.ReqType=t.WipePattern=t.USKKeyTypes=t.LiveStatus=t.recodingQuality=t.recodingFormat=t.meType=t.inputModeType=t.EffectStyle=t.Priority=t.Period=t.AudioFadeSwitching=t.AfvState=t.Model=t.sourceID=t.TcpStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.UnknownError="unknown_error"}(i||(t.TcpStatus=i={})),function(e){e[e.Black=0]="Black",e[e.IN1=1]="IN1",e[e.IN2=2]="IN2",e[e.IN3=3]="IN3",e[e.IN4=4]="IN4",e[e.ColorBar=1e3]="ColorBar",e[e.Color=2001]="Color",e[e.Color2=2002]="Color2",e[e.Multiview=9001]="Multiview",e[e.PGM=10010]="PGM",e[e.PVW=10011]="PVW",e[e.MP=3010]="MP",e[e.MPK=3011]="MPK",e[e.MP2=3020]="MP2",e[e.MP2K=3021]="MP2K",e[e.AUX1=4001]="AUX1",e[e.AUX2=4002]="AUX2",e[e.AUX3=4003]="AUX3",e[e.AUX4=4004]="AUX4",e[e.MultiSource=5001]="MultiSource",e[e.SDIOutput=20001]="SDIOutput",e[e.HDMIOutput=21001]="HDMIOutput",e[e.HDMIOutput2=21002]="HDMIOutput2",e[e.USBOutput=22001]="USBOutput",e[e.StreamingOutput=25001]="StreamingOutput",e[e.MIC1=1301]="MIC1",e[e.MIC2=1302]="MIC2",e[e.Headphone=2301]="Headphone"}(o||(t.sourceID=o={})),function(e){e[e.Deck=0]="Deck",e[e.Duet_SDI=1]="Duet_SDI",e[e.Dect_FANS=2]="Dect_FANS",e[e.Dect_PLUS=3]="Dect_PLUS",e[e.Duet_8ISO=16]="Duet_8ISO",e[e.Unknown=255]="Unknown"}(r||(t.Model=r={})),function(e){e[e.off=0]="off",e[e.on=1]="on",e[e.afv=2]="afv"}(n||(t.AfvState=n={})),function(e){e[e.HardCut=0]="HardCut",e[e.SwitchWithEffect=1]="SwitchWithEffect"}(a||(t.AudioFadeSwitching=a={})),function(e){e[e.Fast=0]="Fast",e[e.Normal=1]="Normal",e[e.Slow=2]="Slow"}(s||(t.Period=s={})),function(e){e[e.Low=0]="Low",e[e.Balance=1]="Balance",e[e.Hight=2]="Hight"}(c||(t.Priority=c={})),function(e){e[e.Mix=0]="Mix",e[e.Dip=1]="Dip",e[e.Wipe=2]="Wipe"}(u||(t.EffectStyle=u={})),function(e){e[e.physicalPorts_4_0=0]="physicalPorts_4_0",e[e.physicalPorts_8_1=1]="physicalPorts_8_1",e[e.physicalPorts_8_2=2]="physicalPorts_8_2",e[e.physicalPorts_8_3=3]="physicalPorts_8_3"}(d||(t.inputModeType=d={})),function(e){e[e.Strll=0]="Strll",e[e.Browser=1]="Browser"}(l||(t.meType=l={})),function(e){e[e.H264=0]="H264",e[e.H265=1]="H265"}(p||(t.recodingFormat=p={})),function(e){e[e.High=0]="High",e[e.Good=1]="Good",e[e.Medium=2]="Medium",e[e.Low=3]="Low"}(b||(t.recodingQuality=b={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Abnormal=2]="Abnormal"}(m||(t.LiveStatus=m={})),function(e){e[e.Luma=0]="Luma",e[e.Chroma=1]="Chroma",e[e.Pattern=2]="Pattern",e[e.Pip=3]="Pip"}(y||(t.USKKeyTypes=y={})),function(e){e[e.Horizontal_LeftToRight=0]="Horizontal_LeftToRight",e[e.Vertical_UpToDown=1]="Vertical_UpToDown",e[e.Horizontal_RightToLeft=2]="Horizontal_RightToLeft",e[e.Vertical_DownToUp=3]="Vertical_DownToUp",e[e.Surround=4]="Surround",e[e.Rectangle=5]="Rectangle",e[e.Diamond=6]="Diamond",e[e.Circle=7]="Circle",e[e.Rectangle_FromTopLeft=8]="Rectangle_FromTopLeft",e[e.Rectangle_FromTopRight=9]="Rectangle_FromTopRight",e[e.Rectangle_FromBottomRight=10]="Rectangle_FromBottomRight",e[e.Rectangle_FromBottomLeft=11]="Rectangle_FromBottomLeft",e[e.Rectangle_FromTopCenter=12]="Rectangle_FromTopCenter",e[e.Rectangle_FromRightCenter=13]="Rectangle_FromRightCenter",e[e.Rectangle_FromBottomCenter=14]="Rectangle_FromBottomCenter",e[e.Rectangle_FromLeftCenter=15]="Rectangle_FromLeftCenter",e[e.Diagonal_LeftToRight=16]="Diagonal_LeftToRight",e[e.Diagonal_RightToLeft=17]="Diagonal_RightToLeft"}(f||(t.WipePattern=f={})),function(e){e.Get="get",e.Set="set",e.Push="pus"}(h||(t.ReqType=h={})),function(e){e[e.zoomOut=0]="zoomOut",e[e.cropZoomOut=1]="cropZoomOut",e[e.zoomOutCrop=2]="zoomOutCrop",e[e.crop=3]="crop",e[e.CropZoomOut2_3=4]="CropZoomOut2_3",e[e.ZoomOutCrop2_3=5]="ZoomOutCrop2_3"}(S||(t.MultiSourceControlStyle=S={})),function(e){e[e.Normal=0]="Normal",e[e.Inverse=1]="Inverse"}(g||(t.WipeDirection=g={}))},2467:function(e,t,i){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const r=o(i(9278)),n=i(228),a=i(7574),s=o(i(2096)),c=new Uint8Array([235,166]);let u=null;class d extends n.EventEmitter{#e;#t;_socket;#i;#o=!1;#r=!1;#n=!1;#a;#s;#c;get isConnected(){return this.#o}get isConnecting(){return this.#r}get isDestroyed(){return this.#n}constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#i={reconnect_interval:2e3,reconnect:!0,...i},this._socket=new r.default.Socket,this._socket.setKeepAlive(!0,2e3),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#r=!1,this.#o=!1,this.#i.reconnect&&this.#u(),this.#d(a.TcpStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#o=!0,this.#r=!1,this.#d(a.TcpStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#o=!1,this.#d(a.TcpStatus.Disconnected),!this.#r&&this.#i.reconnect&&this.#u(),this.emit("end")})),this._socket.on("data",(e=>{let t=this.handleGoStreamPacket(e);this.emit("data",t)})),this._socket.on("drain",(()=>{this.emit("drain")})),setImmediate((()=>{this.#n||this.connect()})),this.#c=setTimeout((()=>{this.#c=void 0,this.#n||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#n)throw new Error("Cannot connect destroyed socket");return!this.#r&&(this.#r=!0,this._socket.connect(this.#t,this.#e),!0)}connection(e,t){return e&&(this.#e=e),t&&(this.#t=t),this.#i={reconnect_interval:2e3,reconnect:!0},this.connect()}async send(e){if(this.#n||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#o)return!1;try{return new Promise(((t,i)=>{this._socket.write(e,(e=>{e?i(e):t(!0)}))}))}catch(e){this.#o=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#d(a.TcpStatus.UnknownError,t.message),this.emit("error",t),t}}async sendCommands(e){if(this.#n||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(0===e.length)throw new Error("No command to send");if(!this.#o)return!1;const t=[];e.forEach((e=>{const i=JSON.stringify(e),o=Buffer.from(i,"utf-8");t.push(this.PackData(o))}));try{return new Promise(((e,i)=>{this._socket.write(Buffer.concat(t),(t=>{t?i(t):e(!0)}))}))}catch(e){this.#o=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#d(a.TcpStatus.UnknownError,t.message),this.emit("error",t),t}}async sendCommand(e,t,i){if(this.#n||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(""===e)throw new Error("No command to send");if(!this.#o)return!1;const o={id:e,type:t,value:i},r=JSON.stringify(o),n=Buffer.from(r,"utf-8"),s=this.PackData(n);try{return new Promise(((e,t)=>{this._socket.write(s,(i=>{i?t(i):e(!0)}))}))}catch(e){this.#o=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#d(a.TcpStatus.UnknownError,t.message),this.emit("error",t),t}}PackData(e){const t=e.length+7,i=Buffer.alloc(t);return i[0]=235,i[1]=166,i[2]=0,i.writeUInt16LE(t-5,3),null!=e&&e.copy(i,5,0,e.length),i.writeUInt16LE((0,s.default)(i.subarray(0,t-2)),i.length-2),i}handleGoStreamPacket(e){const t=[];let i=e.indexOf(c);if(0!==i){if(null==u)return console.error("packet data out of order, dropping packet!"),[];{const o=i>0?i:e.length,r=Buffer.alloc(u.length+o,u);if(e.subarray(0,o).copy(r,u.length),i>0)t.push(this.unpackData(r)),u=null;else if(i<0)return r.readUInt16LE(3)+5===r.length?(t.push(this.unpackData(r)),u=null):u=Buffer.from(r),t}}for(;i>=0;){const o=e.readUInt16LE(i+3),r=e.subarray(i,i+5+o);if(i+5+o>e.length){u=Buffer.alloc(e.length-i,e.subarray(i));break}t.push(this.unpackData(r)),i=e.indexOf(c,i+5+o)}return t}UnpackDatas(e){if(0==e.length)throw new Error("recv null");if(235!=e[0]||166!=e[1])throw new Error("recv head error");if(e.readInt16LE(3)!=e.length-5)throw console.log("Recv Error:"+e.toString("hex").match(/.{1,2}/g)?.join(" ")),new Error("recv data length error");if(!function(e){const t=e.length-2;return e.readUInt16LE(t)===(0,s.default)(e.subarray(0,t))}(e))throw new Error("recv data crc error");return e.subarray(5,e.length-2)}unpackData(e){const t=this.UnpackDatas(e).toString("utf8");return JSON.parse(t)}destroy(){this.#n=!0,void 0!==this.#s&&(clearTimeout(this.#s),this.#s=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#u(){void 0!==this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>{this.#s=void 0,this.#d(a.TcpStatus.Connecting),this.connect()}),this.#i.reconnect_interval)}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.TCPHelper=d},3170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5707:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2631:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3710:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1181:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidIdError=t.StateUtil=t.USK=t.Stream=t.Record=t.PlayBack=t.MutiView=t.MutiSource=t.Media=t.Macro=t.IOSetting=t.Effect=t.DSK=t.ColorBack=t.AudioSwitch=t.AudioMixer=t.Device=void 0;const a=n(i(2631));t.Device=a;const s=n(i(3170));t.AudioMixer=s;const c=n(i(5707));t.AudioSwitch=c;const u=n(i(3313));t.ColorBack=u;const d=n(i(3710));t.DSK=d;const l=n(i(9176));t.Effect=l;const p=n(i(6205));t.IOSetting=p;const b=n(i(8037));t.Macro=b;const m=n(i(9964));t.Media=m;const y=n(i(8765));t.MutiSource=y;const f=n(i(2641));t.MutiView=f;const h=n(i(2850));t.PlayBack=h;const S=n(i(8080));t.Record=S;const g=n(i(1865));t.Stream=g;const I=n(i(7757));t.USK=I;const k=n(i(3133));t.StateUtil=k;class v extends Error{constructor(e,...t){super(v.BuildErrorString(e,t)),Object.setPrototypeOf(this,new.target.prototype)}static BuildErrorString(e,t){return t&&t.length>0?`${e} ${t.join("-")} is not valid`:e}}t.InvalidIdError=v},6205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3133:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Create=function(){return{device:{fwVersion:"",buildInfo:"",deviceID:"",deviceName:"",deviceModel:o.Model.Deck,inputSources:[],audioMixSources:[],multiSourceWindowCount:0,keyCount:0,dskCount:0,playCount:0,micSources:[],colorBackCount:0,mediaCount:0,streamCount:0,RecordISOChannels:[],VideoOutSources:[],AudioOutSources:[],OutPutColorSpaceSources:[],InputColorSpaceSources:[]},audioSwitching:{enable:!1,ASources:[],BSources:[],AMapSources:[],BMapSources:[],ABMapSources:[],A:{threshold:0,selectSource:o.sourceID.IN1},B:{threshold:0,selectSource:o.sourceID.IN1},video:{AMapSelectSource:o.sourceID.IN1,BMapSelectSource:o.sourceID.IN1,ABMapSelectSource:o.sourceID.IN1,Period:o.Period.Normal,ABPriority:o.Priority.Balance}},audioMixer:{HeadphoneSources:[],commonChannels:[],audioFade:o.AudioFadeSwitching.HardCut,micChannels:[]},colorBack:{colorBacks:[]},downStreamKey:{FillSources:[],KeySources:[],DSKS:{[o.sourceID.IN1]:void 0}},effect:{PvwSrc:o.sourceID.IN1,PgmSrc:o.sourceID.IN1,transitionPosition:{inTransition:!1,handlePosition:0},fadeToBlack:{inTransition:!1,isFullyBlack:!1,AFV:!1,rate:0},selectTransitionStyle:{PrevState:!1,style:o.EffectStyle.Mix,mix:{rate:0},dip:{selectDipSource:o.sourceID.IN1,rate:0},wipe:{selectPattern:0,rate:0,x:0,y:0,direction:o.WipeDirection.Normal,symmetry:0,softness:0,borderWidth:0,selectWipeSource:o.sourceID.IN1}},tied:!1,dipFillSources:[],wipeFillSource:[]},intputSetting:{inputMode:o.inputModeType.physicalPorts_4_0},outputSetting:{outFormat:"",audioSourcesRange:[],videoSourcesRange:{},colorSpaceRange:[],outFormatRange:[]},macro:{macros:{0:void 0}},media:{mpTypes:[],mpStrills:[],mpBrowsers:[]},mutiSource:{multiSourceWindowsSources:[],eightWins:{0:void 0},fourWins:{0:void 0}},mutiView:{layoutStyle:0,mutiViewWinSources:[],meterEnable:!1,marker:!1},playBack:{modeRanges:[],config:{0:void 0}},record:{format:o.recodingFormat.H264,quality:o.recodingQuality.High,isRecording:0,recordTime:0,recordFree:{freeSpace:0,freeTime:0},ISORecordFree:{freeSpace:0,freeTime:0},channels:{[o.sourceID.IN1]:!1},channelsCount:0,isoErrCode:-1},stream:{status:o.LiveStatus.Off,streamInfos:[],platforms:[{name:"Loading",servers:[{serName:"Loading",url:""}]}],quality:0},upStreamKey:{USKS:{0:void 0},LumaFillSources:[],LumaKeySources:[],ChromaFillSource:[],PatternFillSource:[],PatternWipes:[],PipFileSource:[]},initComplete:!1}};const o=i(7574)},7698:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDeck=t.BasicStreamDeck=t.StreamDeckConnectionStatus=t.ProType=t.HEAD2=t.HEAD1=void 0;const s=i(2467),c=i(228),u=i(1181),d=i(7574),l=a(i(2096)),p=n(i(9145)),b=n(i(1804));var m;function y(e){const i=e.length+7,o=Buffer.alloc(i);return o[0]=t.HEAD1,o[1]=t.HEAD2,o[2]=t.ProType,o.writeUInt16LE(i-5,3),null!=e&&e.copy(o,5,0,e.length),o.writeUInt16LE((0,l.default)(o.subarray(0,i-2)),o.length-2),o}t.HEAD1=235,t.HEAD2=166,t.ProType=0,function(e){e[e.CLOSED=0]="CLOSED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.ERROR=3]="ERROR"}(m||(t.StreamDeckConnectionStatus=m={}));class f extends c.EventEmitter{_tcp;_state;_status;constructor(e){super(),this._state=u.StateUtil.Create(),this._status=m.CLOSED,this._tcp=new s.TCPHelper(e?.address||"",e?.port||19010,{reconnect:e?.reconnect,reconnect_interval:e?.reconnect_interval}),this._tcp.on("status_change",((e,t)=>{e===d.TcpStatus.Connecting&&(this._status=m.CONNECTING),e===d.TcpStatus.Ok&&(this._status=m.CONNECTED),e===d.TcpStatus.Disconnected&&(this._status=m.CLOSED),e===d.TcpStatus.UnknownError&&(this._status=m.ERROR),this.emit("status_change",this._status,t)})),this._tcp.on("connect",(()=>{this._state&&this._tcp&&p.Sync(this._state,this._tcp),console.log("connect.............tcp")})),this._tcp.on("error",(e=>{this.emit("error","Socket connect error: "+e),console.log("error.............tcp")})),this._tcp.on("drain",(()=>{this.emit("debug","Socket drain"),console.log("drain.............tcp")})),this._tcp.on("end",(()=>{this._status=m.CLOSED,this.emit("disconnect"),this._state=void 0,console.log("end.............tcp")})),this._tcp.on("data",(e=>{this.emit("rec_data",e),this._state&&(p.Update(this._state,e),this._state.initComplete&&this.emit("connected"))}))}get status(){return this._status}get state(){return this._state}async destroy(){return this._tcp?.destroy()}async sendCommands(e){if(null!==this._tcp){const t=[];return e.forEach((e=>{const i=JSON.stringify(e),o=Buffer.from(i,"utf-8");t.push(y(o))})),this._tcp.send(Buffer.concat(t))}return!1}async sendCommand(e,t,i){if(null!==this._tcp){const o={id:e,type:t,value:i},r=JSON.stringify(o),n=y(Buffer.from(r,"utf-8"));return this._tcp.send(n)}return!1}async connect(e,t){this._tcp&&await this._tcp.connection(e,t)}}t.BasicStreamDeck=f,t.StreamDeck=class extends f{constructor(e){super(e)}async setDeviceName(e){await this.sendCommand(b.Device.ActionId.DeviceName,d.ReqType.Set,[e])}async setTransitionStyle(e){await this.sendCommand(b.Effect.ActionId.TransitionStyle,d.ReqType.Set,[e])}async setAutoTransition(){await this.sendCommand(b.Effect.ActionId.AutoTransition,d.ReqType.Set)}async setCutTransition(){await this.sendCommand(b.Effect.ActionId.CutTransition,d.ReqType.Set)}async setFtbTransition(){await this.sendCommand(b.Effect.ActionId.Ftb,d.ReqType.Set)}async changePVWIndex(e){await this.sendCommand(b.Effect.ActionId.PvwIndex,d.ReqType.Set,[e])}async changePGMIndex(e){await this.sendCommand(b.Effect.ActionId.PgmIndex,d.ReqType.Set,[e])}async setPrevEnabled(e){await this.sendCommand(b.Effect.ActionId.PreviewTransition,d.ReqType.Set,[e])}async setStyleRate(e,t){switch(e){case d.EffectStyle.Mix:await this.sendCommand(b.Effect.ActionId.TransitionMixRate,d.ReqType.Set,[t]);break;case d.EffectStyle.Dip:await this.sendCommand(b.Effect.ActionId.TransitionDipRate,d.ReqType.Set,[t]);break;case d.EffectStyle.Wipe:await this.sendCommand(b.Effect.ActionId.TransitionWipeRate,d.ReqType.Set,[t])}}async setTranstionDipFillSource(e){await this.sendCommand(b.Effect.ActionId.TransitionDipFillSource,d.ReqType.Set,[e])}async setTransitionWipeDirection(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeDirection,d.ReqType.Set,[e])}async setFtbRate(e){await this.sendCommand(b.Effect.ActionId.FtbRate,d.ReqType.Set,[e])}async setFtbAfvEnabled(e){await this.sendCommand(b.Effect.ActionId.FtbAfv,d.ReqType.Set,[e])}async setTransitionWipeXPosition(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeXPosition,d.ReqType.Set,[e])}async setTransitionWipeYPosition(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeYPosition,d.ReqType.Set,[e])}async setTransitionWipeSymmetry(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeSymmetry,d.ReqType.Set,[e])}async setTransitionWipeSoftness(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeSoftness,d.ReqType.Set,[e])}async setTransitionWipeBorder(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeBorder,d.ReqType.Set,[e])}async setTransitionWipeFillSource(e){await this.sendCommand(b.Effect.ActionId.TransitionWipeFillSource,d.ReqType.Set,[e])}async setAudioSwitchingEnabled(e){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingEnable,d.ReqType.Set,[e])}async setAudioSwitchingAudioSource(e,t){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingAudioSource,d.ReqType.Set,[e,t])}async setAudioSwitchingAudioThreshold(e,t){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingAudioThreshold,d.ReqType.Set,[e,t])}async setAudioSwitchingVideoAMapping(e){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingVideoAMapping,d.ReqType.Set,[e])}async setAudioSwitchingVideoBMapping(e){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingVideoBMapping,d.ReqType.Set,[e])}async setAudioSwitchingVideoABMapping(e){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingVideoABMapping,d.ReqType.Set,[e])}async setAutoSwitchingVideoSwitchingPeriod(e){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingVideoSwitchingPeriod,d.ReqType.Set,[e])}async setAutoSwitchingVideoABPriority(e){await this.sendCommand(b.AudioSwitch.ActionId.AutoSwitchingVideoABPriority,d.ReqType.Set,[e])}async setAudioMixerEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerEnable,d.ReqType.Set,[e,t])}async setAudioMixerMicType(e,t){console.log("id:"+e+"--Type:"+t),await this.sendCommand(b.AudioMixer.ActionId.AudioMixerMicType,d.ReqType.Set,[e,t])}async setAudioMixerInput(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerInput,d.ReqType.Set,[e,t])}async setAudioMixerEffectEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerEffectEnable,d.ReqType.Set,[e,t])}async setAudioMixerPanning(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerPanning,d.ReqType.Set,[e,t])}async setAudioMixerFader(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerFader,d.ReqType.Set,[e,t])}async setAudioMixerDelay(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerDelay,d.ReqType.Set,[e,t])}async setAudioMixerHPFEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerHPFEnable,d.ReqType.Set,[e,t])}async setAudioMixerNoiseGateEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerNoiseGateEnable,d.ReqType.Set,[e,t])}async setAudioMixerCompressorEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerCompressorEnable,d.ReqType.Set,[e,t])}async setAudioMixerEQEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerEQEnable,d.ReqType.Set,[e,t])}async setAudioMixerLimiterEnable(e,t){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerLimiterEnable,d.ReqType.Set,[e,t])}async setAudioMixerHeadphone(e,t,i){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerHeadphone,d.ReqType.Set,[e,t,i])}async setAudioMixerSwitchType(e){await this.sendCommand(b.AudioMixer.ActionId.AudioMixerSwitchType,d.ReqType.Set,[e])}async setMultiSourceWindowEnable(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowEnable,d.ReqType.Set,[e,t])}async setMultiSourceWindowSource(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowSource,d.ReqType.Set,[e,t])}async setMultiSourceWindowXPosition(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowXPosition,d.ReqType.Set,[e,t])}async setMultiSourceControlYPosition(e){await this.sendCommand(b.MutiSource.ActionId.MultiSourceControlYPosition,d.ReqType.Set,[e])}async setMultiSourceWindowYPosition(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowYPosition,d.ReqType.Set,[e,t])}async setMultiSourceWindowSize(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowSize,d.ReqType.Set,[e,t])}async setMultiSourceWindowCropLeft(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowCropLeft,d.ReqType.Set,[e,t])}async setMultiSourceWindowCropRight(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowCropRight,d.ReqType.Set,[e,t])}async setMultiSourceWindowCropTop(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowCropTop,d.ReqType.Set,[e,t])}async setMultiSourceWindowCropBottom(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowCropBottom,d.ReqType.Set,[e,t])}async setMultiSourceEnable(e){await this.sendCommand(b.MutiSource.ActionId.MultiSourceEnable,d.ReqType.Set,[e])}async setMultiSourceKeySource(e){await this.sendCommand(b.MutiSource.ActionId.MultiSourceKeySource,d.ReqType.Set,[e])}async setMultiSourceFillSource(e){await this.sendCommand(b.MutiSource.ActionId.MultiSourceFillSource,d.ReqType.Set,[e])}async setMultiSourceControlStyle(e){await this.sendCommand(b.MutiSource.ActionId.MultiSourceControlStyle,d.ReqType.Set,[e])}async setMultiSourceWindowCropEnable(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowCropEnable,d.ReqType.Set,[e,t])}async setMultiSourceWindowBorderWidth(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowBorderWidth,d.ReqType.Set,[e,t])}async setMultiSourceWindowBorderHue(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowBorderHue,d.ReqType.Set,[e,t])}async setMultiSourceWindowBorderSaturation(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowBorderSaturation,d.ReqType.Set,[e,t])}async setMultiSourceWindowBorderBrightness(e,t){await this.sendCommand(b.MutiSource.ActionId.MultiSourceWindowBorderBrightness,d.ReqType.Set,[e,t])}async setLiveStreamOutputEnable(e,t){await this.sendCommand(b.Stream.ActionId.LiveStreamOutputEnable,d.ReqType.Set,[e,t])}async setLiveStreamOutputServiceName(e,t){await this.sendCommand(b.Stream.ActionId.LiveStreamOutputServiceName,d.ReqType.Set,[e,t])}async setLiveStreamOutputUrl(e,t){await this.sendCommand(b.Stream.ActionId.LiveStreamOutputUrl,d.ReqType.Set,[e,t])}async setLiveStreamOutputKey(e,t){await this.sendCommand(b.Stream.ActionId.LiveStreamOutputKey,d.ReqType.Set,[e,t])}async startOrStopLive(e){await this.sendCommand(b.Stream.ActionId.Live,d.ReqType.Set,[e])}async setLiveStreamOutputBitrate(e){await this.sendCommand(b.Stream.ActionId.LiveStreamOutputBitrate,d.ReqType.Set,[e])}async stopRecord(){await this.sendCommand(b.Record.ActionId.RecordStop,d.ReqType.Set)}async startRecord(e){await this.sendCommand(b.Record.ActionId.RecordStart,d.ReqType.Set,[e])}async setRecordFormat(e){await this.sendCommand(b.Record.ActionId.RecordFormat,d.ReqType.Set,[e])}async setRecordBitrate(e){await this.sendCommand(b.Record.ActionId.RecordBitrate,d.ReqType.Set,[e])}async setRecordISOChannel(e,t){await this.sendCommand(b.Record.ActionId.RecordISOChannel,d.ReqType.Set,[e,t])}async setPlaybackMode(e,t){await this.sendCommand(b.PlayBack.ActionId.PlaybackMode,d.ReqType.Set,[e,t])}async setPlayPause(e,t){await this.sendCommand(b.PlayBack.ActionId.PlayPause,d.ReqType.Set,[e,t])}async setPlayRepeat(e,t){await this.sendCommand(b.PlayBack.ActionId.PlayRepeat,d.ReqType.Set,[e,t])}async setColorHue(e,t){await this.sendCommand(b.ColorBack.ActionId.ColorHue,d.ReqType.Set,[e,t])}async setColorSaturation(e,t){await this.sendCommand(b.ColorBack.ActionId.ColorSaturation,d.ReqType.Set,[e,t])}async setColorBrightness(e,t){await this.sendCommand(b.ColorBack.ActionId.ColorBrightness,d.ReqType.Set,[e,t])}async setDskOnAir(e,t){await this.sendCommand(b.DSK.ActionId.DskOnAir,d.ReqType.Set,[e,t])}async setDskEnable(e,t){await this.sendCommand(b.DSK.ActionId.DskEnable,d.ReqType.Set,[e,t])}async setDskFillSource(e,t){await this.sendCommand(b.DSK.ActionId.DskFillSource,d.ReqType.Set,[e,t])}async setDskKeySource(e,t){await this.sendCommand(b.DSK.ActionId.DskKeySource,d.ReqType.Set,[e,t])}async setDskMaskEnable(e,t){await this.sendCommand(b.DSK.ActionId.DskMaskEnable,d.ReqType.Set,[e,t])}async setDskMaskHStart(e,t){await this.sendCommand(b.DSK.ActionId.DskMaskHStart,d.ReqType.Set,[e,t])}async setDskMaskHEnd(e,t){await this.sendCommand(b.DSK.ActionId.DskMaskHEnd,d.ReqType.Set,[e,t])}async setDskMaskVStart(e,t){await this.sendCommand(b.DSK.ActionId.DskMaskVStart,d.ReqType.Set,[e,t])}async setDskMaskVEnd(e,t){await this.sendCommand(b.DSK.ActionId.DskMaskVEnd,d.ReqType.Set,[e,t])}async setDskPreMultipliedKey(e,t){await this.sendCommand(b.DSK.ActionId.DskPreMultipliedKey,d.ReqType.Set,[e,t])}async setDskClip(e,t){await this.sendCommand(b.DSK.ActionId.DskClip,d.ReqType.Set,[e,t])}async setDskGain(e,t){await this.sendCommand(b.DSK.ActionId.DskGain,d.ReqType.Set,[e,t])}async setDskInvert(e,t){await this.sendCommand(b.DSK.ActionId.DskInvert,d.ReqType.Set,[e,t])}async setDskResize(e,t){await this.sendCommand(b.DSK.ActionId.DskResize,d.ReqType.Set,[e,t])}async setDskSize(e,t){await this.sendCommand(b.DSK.ActionId.DskSize,d.ReqType.Set,[e,t])}async setDskXPosition(e,t){await this.sendCommand(b.DSK.ActionId.DskXPosition,d.ReqType.Set,[e,t])}async setDskYPosition(e,t){await this.sendCommand(b.DSK.ActionId.DskYPosition,d.ReqType.Set,[e,t])}async setMultiViewLayout(e){await this.sendCommand(b.MutiView.ActionId.MultiViewLayout,d.ReqType.Set,[e])}async setMacroRecordStart(e,t,i){await this.sendCommand(b.Macro.ActionId.MacroRecordStart,d.ReqType.Set,[e,t,i])}async setMacroRecordStop(){await this.sendCommand(b.Macro.ActionId.MacroRecordStop,d.ReqType.Set)}async setMacroInfo(e,t,i){await this.sendCommand(b.Macro.ActionId.MacroInfo,d.ReqType.Set,[e,t,i])}async RemoveMacro(e){await this.sendCommand(b.Macro.ActionId.RemoveMacro,d.ReqType.Set,[e])}async setMacroRunStart(e){await this.sendCommand(b.Macro.ActionId.MacroRunStart,d.ReqType.Set,[e])}async setMacroRunStop(){await this.sendCommand(b.Macro.ActionId.MacroRunStop,d.ReqType.Set)}async setMacroAddSleep(e){await this.sendCommand(b.Macro.ActionId.MacroAddSleep,d.ReqType.Set,[e])}async setKeyOnAir(e,t){await this.sendCommand(b.USK.ActionId.KeyOnAir,d.ReqType.Set,[e,t])}async setKeyEnable(e,t){await this.sendCommand(b.USK.ActionId.KeyEnable,d.ReqType.Set,[e,t])}async setKeyType(e,t){await this.sendCommand(b.USK.ActionId.KeyType,d.ReqType.Set,[e,t])}async setChromaFillSource(e,t){await this.sendCommand(b.USK.ActionId.ChromaFillSource,d.ReqType.Set,[e,t])}async setChromaMaskEnable(e,t){await this.sendCommand(b.USK.ActionId.ChromaMaskEnable,d.ReqType.Set,[e,t])}async setChromaMaskHStart(e,t){await this.sendCommand(b.USK.ActionId.ChromaMaskHStart,d.ReqType.Set,[e,t])}async setChromaMaskHEnd(e,t){await this.sendCommand(b.USK.ActionId.ChromaMaskHEnd,d.ReqType.Set,[e,t])}async setChromaMaskVStart(e,t){await this.sendCommand(b.USK.ActionId.ChromaMaskVStart,d.ReqType.Set,[e,t])}async setChromaMaskVEnd(e,t){await this.sendCommand(b.USK.ActionId.ChromaMaskVEnd,d.ReqType.Set,[e,t])}async setChromaResize(e,t){await this.sendCommand(b.USK.ActionId.ChromaResize,d.ReqType.Set,[e,t])}async setChromaSize(e,t){await this.sendCommand(b.USK.ActionId.ChromaSize,d.ReqType.Set,[e,t])}async setChromaXPosition(e,t){await this.sendCommand(b.USK.ActionId.ChromaXPosition,d.ReqType.Set,[e,t])}async setChromaYPosition(e,t){await this.sendCommand(b.USK.ActionId.ChromaYPosition,d.ReqType.Set,[e,t])}async setChromaSMPXPosition(e,t){await this.sendCommand(b.USK.ActionId.ChromaSMPXPosition,d.ReqType.Set,[e,t])}async setChromaSMPYPosition(e,t){await this.sendCommand(b.USK.ActionId.ChromaSMPYPosition,d.ReqType.Set,[e,t])}async setChromaSample(e,t){await this.sendCommand(b.USK.ActionId.ChromaSample,d.ReqType.Set,[e,t])}async setChromaForeground(e,t){await this.sendCommand(b.USK.ActionId.ChromaForeground,d.ReqType.Set,[e,t])}async setChromaBackground(e,t){await this.sendCommand(b.USK.ActionId.ChromaBackground,d.ReqType.Set,[e,t])}async setKeyEdge(e,t){await this.sendCommand(b.USK.ActionId.ChromaKeyEdge,d.ReqType.Set,[e,t])}async setLumaFillSource(e,t){await this.sendCommand(b.USK.ActionId.LumaFillSource,d.ReqType.Set,[e,t])}async setLumaKeySource(e,t){await this.sendCommand(b.USK.ActionId.LumaKeySource,d.ReqType.Set,[e,t])}async setLumaMaskEnable(e,t){await this.sendCommand(b.USK.ActionId.LumaMaskEnable,d.ReqType.Set,[e,t])}async setLumaMaskHStart(e,t){await this.sendCommand(b.USK.ActionId.LumaMaskHStart,d.ReqType.Set,[e,t])}async setLumaMaskHEnd(e,t){await this.sendCommand(b.USK.ActionId.LumaMaskHEnd,d.ReqType.Set,[e,t])}async setLumaMaskVStart(e,t){await this.sendCommand(b.USK.ActionId.LumaMaskVStart,d.ReqType.Set,[e,t])}async setLumaMaskVEnd(e,t){await this.sendCommand(b.USK.ActionId.LumaMaskVEnd,d.ReqType.Set,[e,t])}async setLumaPreMultipliedKey(e,t){await this.sendCommand(b.USK.ActionId.LumaPreMultipliedKey,d.ReqType.Set,[e,t])}async setLumaClip(e,t){await this.sendCommand(b.USK.ActionId.LumaClip,d.ReqType.Set,[e,t])}async setLumaGain(e,t){await this.sendCommand(b.USK.ActionId.LumaGain,d.ReqType.Set,[e,t])}async setLumaInvert(e,t){await this.sendCommand(b.USK.ActionId.LumaInvert,d.ReqType.Set,[e,t])}async setLumaResize(e,t){await this.sendCommand(b.USK.ActionId.LumaResize,d.ReqType.Set,[e,t])}async setLumaSize(e,t){await this.sendCommand(b.USK.ActionId.LumaSize,d.ReqType.Set,[e,t])}async setLumaXPosition(e,t){await this.sendCommand(b.USK.ActionId.LumaXPosition,d.ReqType.Set,[e,t])}async setLumaYPosition(e,t){await this.sendCommand(b.USK.ActionId.LumaYPosition,d.ReqType.Set,[e,t])}async setPatternFillSource(e,t){await this.sendCommand(b.USK.ActionId.PatternFillSource,d.ReqType.Set,[e,t])}async setPatternWipeSize(e,t){await this.sendCommand(b.USK.ActionId.PatternWipeSize,d.ReqType.Set,[e,t])}async setPatternMaskEnable(e,t){await this.sendCommand(b.USK.ActionId.PatternMaskEnable,d.ReqType.Set,[e,t])}async setPatternMaskHStart(e,t){await this.sendCommand(b.USK.ActionId.PatternMaskHStart,d.ReqType.Set,[e,t])}async setPatternMaskHEnd(e,t){await this.sendCommand(b.USK.ActionId.PatternMaskHEnd,d.ReqType.Set,[e,t])}async setPatternMaskVStart(e,t){await this.sendCommand(b.USK.ActionId.PatternMaskVStart,d.ReqType.Set,[e,t])}async setPatternMaskVEnd(e,t){await this.sendCommand(b.USK.ActionId.PatternMaskVEnd,d.ReqType.Set,[e,t])}async setPatternResize(e,t){await this.sendCommand(b.USK.ActionId.PatternResize,d.ReqType.Set,[e,t])}async setPatternSize(e,t){await this.sendCommand(b.USK.ActionId.PatternSize,d.ReqType.Set,[e,t])}async setPatternXPosition(e,t){await this.sendCommand(b.USK.ActionId.PatternXPosition,d.ReqType.Set,[e,t])}async setPatternYPosition(e,t){await this.sendCommand(b.USK.ActionId.PatternYPosition,d.ReqType.Set,[e,t])}async setPipFillSource(e,t){await this.sendCommand(b.USK.ActionId.PipFillSource,d.ReqType.Set,[e,t])}async setPipSize(e,t){await this.sendCommand(b.USK.ActionId.PipSize,d.ReqType.Set,[e,t])}async setPipXPosition(e,t){await this.sendCommand(b.USK.ActionId.PipXPosition,d.ReqType.Set,[e,t])}async setPipYPosition(e,t){await this.sendCommand(b.USK.ActionId.PipYPosition,d.ReqType.Set,[e,t])}async setPipMaskEnable(e,t){await this.sendCommand(b.USK.ActionId.PipMaskEnable,d.ReqType.Set,[e,t])}async setPipMaskHStart(e,t){await this.sendCommand(b.USK.ActionId.PipMaskHStart,d.ReqType.Set,[e,t])}async setPipMaskHEnd(e,t){await this.sendCommand(b.USK.ActionId.PipMaskHEnd,d.ReqType.Set,[e,t])}async setPipMaskVStart(e,t){await this.sendCommand(b.USK.ActionId.PipMaskVStart,d.ReqType.Set,[e,t])}async setPipMaskVEnd(e,t){await this.sendCommand(b.USK.ActionId.PipMaskVEnd,d.ReqType.Set,[e,t])}async setPipBorderEnable(e,t){await this.sendCommand(b.USK.ActionId.PipBorderEnable,d.ReqType.Set,[e,t])}async setPipBorderWidth(e,t){await this.sendCommand(b.USK.ActionId.PipBorderWidth,d.ReqType.Set,[e,t])}async setPipBorderColorHue(e,t){await this.sendCommand(b.USK.ActionId.PipBorderColorHue,d.ReqType.Set,[e,t])}async setPipBorderColorSaturation(e,t){await this.sendCommand(b.USK.ActionId.PipBorderColorSaturation,d.ReqType.Set,[e,t])}async setPipBorderColorBrightness(e,t){await this.sendCommand(b.USK.ActionId.PipBorderColorBrightness,d.ReqType.Set,[e,t])}async setMediaPlayer(e,t,i){await this.sendCommand(b.Media.ActionId.MediaPlayer,d.ReqType.Set,[e,t,i])}async setBrowser(e,t){await this.sendCommand(b.Media.ActionId.Browser,d.ReqType.Set,[e,t])}async setInputColorSpace(e,t){await this.sendCommand(b.IOSetting.ActionId.ColorSpace,d.ReqType.Set,[e,t])}async setOutPutColorSpace(e,t){await this.sendCommand(b.IOSetting.ActionId.ColorSpace,d.ReqType.Set,[e,t])}async setInputMode(e){await this.sendCommand(b.IOSetting.ActionId.InputMode,d.ReqType.Set,[e])}async setOutSource(e,t){await this.sendCommand(b.IOSetting.ActionId.OutSource,d.ReqType.Set,[e,t])}async setAudioMixerOutSource(e,t){await this.sendCommand(b.IOSetting.ActionId.AudioMixerOutSource,d.ReqType.Set,[e,t])}async setOutFormat(e){await this.sendCommand(b.IOSetting.ActionId.OutFormat,d.ReqType.Set,[e])}}},4134:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feedbacks=function(e){return{...l.KeyerFeedbacks.create(e.deck),...a.RecordFeedbacks.create(e.deck),...o.MultiSourceFeedbacks.create(e.deck),...r.MixEffectFeedbacks.create(e.deck),...n.StreamingFeedbacks.create(e.deck),...s.DownstreamKeyerFeedbacks.create(e.deck),...c.MacroFeedbacks.create(e.deck),...u.PlaybackFeedbacks.create(e.deck),...d.MutiViewFeedbacks.create(e.deck),...p.AudioMixerFeedbacks.create(e.deck),...b.AutoSwitchingFeedbacks.create(e.deck)}};const o=i(5127),r=i(1956),n=i(8427),a=i(4160),s=i(7467),c=i(8627),u=i(208),d=i(3466),l=i(9528),p=i(4718),b=i(3842)},1741:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){let i={[a.AudioMixer.ActionId.AudioMixerEnable]:{name:"Audio Mixer: set audio enable",options:[{type:"dropdown",label:"Enable",id:"audioMixerEnable",choices:r.AudioMixAFVChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"audioMixerEnable");await e.setAudioMixerEnable(i,r)}},[a.AudioMixer.ActionId.AudioMixerDelay]:{name:"Audio Mixer: set audio delay",options:[{type:"dropdown",label:"Mic",id:"micId",choices:e.state?e.state.device.micSources.map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.MIC1},{type:"number",label:"Delay",id:"delay",default:0,min:0,max:500,step:10,range:!0}],callback:async t=>{const i=(0,o.getOptNumber)(t,"micId"),r=(0,o.getOptNumber)(t,"delay");await e.setAudioMixerDelay(i,r)}},[a.AudioMixer.ActionId.AudioMixerPanning]:{name:"Audio Mixer: set audio panning",options:[{type:"number",label:"Panning",id:"audioMixPanning",default:0,min:-100,max:100,range:!1},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID"),r=(0,o.getOptNumber)(t,"audioMixPanning");await e.setAudioMixerPanning(i,r)}},[a.AudioMixer.ActionId.AudioMixerFader]:{name:"Audio Mixer: set audio fader",options:[{type:"number",label:"Fader",id:"audioMixerFader",default:0,min:-75,max:10,step:.5,range:!0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID"),r=(0,o.getOptNumber)(t,"audioMixerFader");await e.setAudioMixerFader(i,r)}},[a.AudioMixer.ActionId.AudioMixerHPFEnable]:{name:"Audio Mixer: set Low Cut enable",options:[{type:"dropdown",label:"Enable",id:"audioMixerHPF",choices:r.AudioMixSwichEnableChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"audioMixerHPF");2===r&&(r=!0===e.state?.audioMixer.commonChannels[i]?.lowCutEnable?0:1),await e.setAudioMixerHPFEnable(i,r)}},[a.AudioMixer.ActionId.AudioMixerNoiseGateEnable]:{name:"Audio Mixer: set Noise Gate enable",options:[{type:"dropdown",label:"Enable",id:"audioMixerNoiseGate",choices:r.AudioMixSwichEnableChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"audioMixerNoiseGate");2===r&&(r=!0===e.state?.audioMixer.commonChannels[i]?.noiseGateEnable?0:1),await e.setAudioMixerNoiseGateEnable(i,r)}},[a.AudioMixer.ActionId.AudioMixerCompressorEnable]:{name:"Audio Mixer: set Compressor enable",options:[{type:"dropdown",label:"Enable",id:"audioMixerCompressor",choices:r.AudioMixSwichEnableChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"audioMixerCompressor");2===r&&(r=!0===e.state?.audioMixer.commonChannels[i]?.compressorEnable?0:1),await e.setAudioMixerCompressorEnable(i,r)}},[a.AudioMixer.ActionId.AudioMixerEQEnable]:{name:"Audio Mixer: set Equalizer enable",options:[{type:"dropdown",label:"Enable",id:"audioMixerEQEnable",choices:r.AudioMixSwichEnableChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"audioMixerEQEnable");2===r&&(r=!0===e.state?.audioMixer.commonChannels[i]?.EQEnable?0:1),await e.setAudioMixerEQEnable(i,r)}},[a.AudioMixer.ActionId.AudioMixerHeadphone]:{name:"Audio Mixer: set headphone level & source",options:[{type:"number",label:"Level",id:"audioMixerLevel",default:0,min:-31,max:0,step:1,range:!0},{type:"dropdown",label:"Source",id:"audioMixHeadphoneSource",default:n.sourceID.PGM,choices:e.state?e.state.audioMixer.HeadphoneSources.map((e=>({id:e,label:String((0,o.getEnumKeyByValue)(n.sourceID,e))}))):[]},{type:"dropdown",label:"Headphone",id:"audioMixerSourceID",choices:r.AudioMixHeadphoneChoices,default:r.AudioMixHeadphoneChoices[0].id}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID"),r=(0,o.getOptNumber)(t,"audioMixerLevel"),n=(0,o.getOptNumber)(t,"audioMixHeadphoneSource");await e.setAudioMixerHeadphone(i,r,n)}},[a.AudioMixer.ActionId.AudioMixerSwitchType]:{name:"Audio Mixer: set audio fade in and out switch",options:[{type:"dropdown",label:"SwitchType",id:"audioMixSwitchType",default:0,choices:r.AudioMixSwitchTypeChoices}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixSwitchType");await e.setAudioMixerSwitchType(i)}},[a.AudioMixer.ActionId.AudioMixerMicType]:{name:"Audio Mixer: set Mic Type",options:[{type:"dropdown",label:"Mic",id:"micId",choices:e.state?e.state.device.micSources.map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.MIC1},...(s=e.state?e.state.device.micSources:[],c=e.state?e.state.audioMixer.micChannels:[],s.map((e=>{var t=c[e]?.micTypeRange;return{type:"dropdown",label:"MicType",id:"TypeId_"+e,choices:t?t.map(((e,t)=>({id:t,label:e}))):[],default:0,isVisible:(e,t)=>e.micId===t.micId,isVisibleData:{micId:e}}})))],callback:async t=>{const i=(0,o.getOptNumber)(t,"micId");let r=(0,o.getOptNumber)(t,"TypeId_"+i);await e.setAudioMixerMicType(i,r)}}};var s,c;return e.state?.device.deviceModel===n.Model.Duet_8ISO?(i[a.AudioMixer.ActionId.AudioMixerEffectEnable]={name:"Audio Mixer: set audio effects enable",options:[{type:"dropdown",label:"Enable",id:"AudioMixerEffectEnable",choices:r.AudioMixSwichEnableChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.IN1}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"AudioMixerEffectEnable");2===r&&(r=!0===e.state?.audioMixer.commonChannels[i]?.audioMixerEffectEnable?0:1),await e.setAudioMixerEffectEnable(i,r)}},i[a.AudioMixer.ActionId.AudioMixerLimiterEnable]={name:"Audio Mixer: set PGM Limiter enable",options:[{type:"dropdown",label:"Enable",id:"audioMixerLimiterEnable",choices:r.AudioMixSwichEnableChoices,default:0},{type:"dropdown",label:"Source",id:"audioMixerSourceID",choices:[{id:10010,label:"PGM"}],default:10010}],callback:async t=>{const i=(0,o.getOptNumber)(t,"audioMixerSourceID");let r=(0,o.getOptNumber)(t,"audioMixerLimiterEnable");2===r&&(r=!0===e.state?.audioMixer.commonChannels[i]?.PGMLimiterEnable?0:1),await e.setAudioMixerLimiterEnable(i,r)}}):i[a.AudioMixer.ActionId.AudioMixerInput]={name:"Audio Mixer: set audio Input",options:[{type:"dropdown",label:"Mic",id:"micId",choices:e.state?e.state.device.micSources.map((e=>({id:Number(e),label:String((0,o.getEnumKeyByValue)(n.sourceID,Number(e)))}))):[],default:n.sourceID.MIC1},{type:"number",label:"Input",id:"input",default:0,min:-75,max:6,step:.5,range:!0}],callback:async t=>{const i=(0,o.getOptNumber)(t,"micId"),r=(0,o.getOptNumber)(t,"input");await e.setAudioMixerInput(i,r)}},i};const o=i(3472),r=i(7643),n=i(7574),a=i(1804)},3794:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.AudioMixerEffectEnable="audioMixerEffectEnable",e.AudioMixerEnable="audioMixerEnable",e.AudioMixerAFVEnable="AudioMixerAFVEnable",e.AudioMixerHPF="audioMixerHPF",e.AudioMixerNoiseGate="audioMixerNoiseGate",e.AudioMixerCompressor="audioMixerCompressor",e.AudioMixerEQEnable="audioMixerEQEnable",e.AudioMixerLimiter="audioMixerLimiter",e.AudioMixerSwitchType="audioMixerSwitchType"}(i||(t.FeedbackId=i={}))},9814:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.AudioMixerEffectEnable]:{type:"boolean",name:"Audio Mixer: set audio effects enable",description:"If audio effects is enabled change style of button",options:[{type:"dropdown",label:"Source",id:"audioMixSource",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,n.getEnumKeyByValue)(s.sourceID,Number(e)))}))):[],default:0},{type:"dropdown",label:"Enable",id:"audioMixEnable",choices:a.AudioMixSwichEnableChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioMixSource),o=t.options.audioMixEnable;return e.state?.audioMixer.commonChannels[i]?.audioMixerEffectEnable===o}},[r.FeedbackId.AudioMixerEnable]:{type:"boolean",name:"Audio Mixer: set audio mix enable",description:"If audio mix is enabled change style of button",options:[{type:"dropdown",label:"Source",id:"audioMixSource",choices:e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,n.getEnumKeyByValue)(s.sourceID,Number(e)))}))):[],default:0},{type:"dropdown",label:"Enable",id:"audioMixEnable",choices:a.AudioMixAFVChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioMixSource),o=t.options.audioMixEnable;return e.state?.audioMixer.commonChannels[i]?.audioMixerEnable===o}}}};const o=i(6278),r=i(3794),n=i(3472),a=i(7643),s=i(7574)},4718:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMixerVariables=t.AudioMixerFeedbacks=t.AudioMixerPresets=t.AudioMixerState=t.AudioMixerActions=void 0,t.AudioMixerActions=n(i(1741)),t.AudioMixerState=n(i(6807)),t.AudioMixerPresets=n(i(1538)),t.AudioMixerFeedbacks=n(i(9814)),t.AudioMixerVariables=n(i(6215))},1538:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};let i=e.state?Object.keys(e.state.audioMixer.commonChannels).map((e=>({id:Number(e),label:String((0,a.getEnumKeyByValue)(s.sourceID,Number(e)))}))):[];for(const e of i)t[`AudioMixer_Enable_${e.id}`]={category:"AudioMixer",name:`Audio Mixer: Set Audio ${e.label} Enable`,type:"button",style:{text:`${e.label}`,size:c,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.AudioMixerEnable,options:{audioMixSource:e.id,audioMixEnable:0},style:{bgcolor:(0,o.combineRgb)(0,0,0),color:(0,o.combineRgb)(255,255,255)}},{feedbackId:n.FeedbackId.AudioMixerEnable,options:{audioMixSource:e.id,audioMixEnable:1},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}},{feedbackId:n.FeedbackId.AudioMixerEnable,options:{audioMixSource:e.id,audioMixEnable:2},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:r.AudioMixer.ActionId.AudioMixerEnable,options:{audioMixerSourceID:e.id,audioMixerEnable:2}}],up:[]}]};return t};const o=i(6278),r=i(1804),n=i(3794),a=i(3472),s=i(7574),c="18"},6807:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3265:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.AudioEnabled="AudioEnabled",e.HeadphoneSource="AudioHeadphoneSource"}(i||(t.VariableId=i={}))},6215:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Audio Sources Enabled",variableId:o.VariableId.AudioEnabled},{name:"Audio: Headphones Source",variableId:o.VariableId.HeadphoneSource}]},t.getValues=function(e){const t={},i=Object.keys(e.audioMixer.commonChannels).map((e=>({id:Number(e),lable:(0,n.getEnumKeyByValue)(r.sourceID,Number(e))}))),a=e.audioMixer.HeadphoneSources;return t[o.VariableId.AudioEnabled]=i.join(", "),a&&(t[o.VariableId.HeadphoneSource]=(0,n.getEnumKeyByValue)(r.sourceID,a[2])),t};const o=i(3265),r=i(7574),n=i(3472)},4049:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.AudioSwitch.ActionId.AutoSwitchingEnable]:{name:"AutoSwitching: set Enable",options:[{type:"dropdown",label:"Enable",id:"enable",choices:n.AutoSwitchingChoices,default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"enable");2===i&&(i=e.state?.audioSwitching?.enable?0:1),await e.setAudioSwitchingEnabled(i)}},[o.AudioSwitch.ActionId.AutoSwitchingSetAProperties]:{name:"AutoSwitching: set Audio A properties",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"audioSource",label:"AudioSource"},{id:"threshold",label:"Threshold"}],minSelection:1,default:["audioSource","threshold"]},{type:"dropdown",label:"Audio Source",id:"audioSource",choices:void 0!==e.state&&void 0!==e.state.audioSwitching?e.state?.audioSwitching?.ASources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1,isVisible:e=>e.props.includes("audioSource")},{type:"number",label:"Threshold",id:"threshold",min:-50,max:0,default:0,range:!0,step:1,isVisible:e=>e.props.includes("threshold")}],callback:async t=>{const i=t.options.props;i.includes("audioSource")&&await e.setAudioSwitchingAudioSource(0,(0,r.getOptNumber)(t,"audioSource")),i.includes("threshold")&&await e.setAudioSwitchingAudioThreshold(0,(0,r.getOptNumber)(t,"threshold"))}},[o.AudioSwitch.ActionId.AutoSwitchingSetBProperties]:{name:"AutoSwitching: set Audio B properties",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"audioSource",label:"AudioSource"},{id:"threshold",label:"Threshold"}],minSelection:1,default:["audioSource","threshold"]},{type:"dropdown",label:"Audio Source",id:"audioSource",choices:void 0!==e.state&&void 0!==e.state.audioSwitching?e.state.audioSwitching.BSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1,isVisible:e=>e.props.includes("audioSource")},{type:"number",label:"Threshold",id:"threshold",min:-50,max:0,default:0,range:!0,step:1,isVisible:e=>e.props.includes("threshold")}],callback:async t=>{const i=t.options.props;i.includes("audioSource")&&await e.setAudioSwitchingAudioSource(1,(0,r.getOptNumber)(t,"audioSource")),i.includes("threshold")&&await e.setAudioSwitchingAudioThreshold(1,(0,r.getOptNumber)(t,"threshold"))}},[o.AudioSwitch.ActionId.AutoSwitchingVideoProperties]:{name:"AutoSwitching: set video mapping propertie",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"aMapping",label:"A Mapping"},{id:"bMapping",label:"B Mapping"},{id:"abMapping",label:"A+B Mapping"},{id:"period",label:"Period"},{id:"priority",label:"AB Priority"}],minSelection:1,default:["aMapping","bMapping","abMapping","period","priority"]},{type:"dropdown",label:"A Mapping",id:"aMapping",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.AMapSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1,isVisible:e=>e.props.includes("aMapping")},{type:"dropdown",label:"B Mapping",id:"bMapping",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.BMapSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1,isVisible:e=>e.props.includes("bMapping")},{type:"dropdown",label:"A+B Mapping",id:"abMapping",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.ABMapSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1,isVisible:e=>e.props.includes("abMapping")},{type:"dropdown",label:"Period",id:"period",choices:n.PeriodChoice,default:a.sourceID.IN1,isVisible:e=>e.props.includes("period")},{type:"dropdown",label:"AB Priority",id:"priority",choices:n.PriorityChoice,default:a.sourceID.IN1,isVisible:e=>e.props.includes("priority")}],callback:async t=>{const i=t.options.props;if(i.includes("aMapping")&&await e.setAudioSwitchingVideoAMapping((0,r.getOptNumber)(t,"aMapping")),i.includes("bMapping")&&await e.setAudioSwitchingVideoBMapping((0,r.getOptNumber)(t,"bMapping")),i.includes("abMapping")&&await e.setAudioSwitchingVideoABMapping((0,r.getOptNumber)(t,"abMapping")),i.includes("period")){let i="";switch((0,r.getOptNumber)(t,"period")){case 0:default:i="Fast";break;case 1:i="Normal";break;case 2:i="Slow"}await e.setAutoSwitchingVideoSwitchingPeriod(i)}if(i.includes("priority")){let i="";switch((0,r.getOptNumber)(t,"priority")){case 0:default:i="Low";break;case 1:i="Balance";break;case 2:i="High"}await e.setAutoSwitchingVideoABPriority(i)}}}}};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},3102:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.AutoSwitchEnable="AutoSwitchEnable",e.AutoSwitchASource="AutoSwitchASource",e.AutoSwitchBSource="AutoSwitchBSource",e.AutoSwitchAMapSource="AutoSwitchAMapSource",e.AutoSwitchBMapSource="AutoSwitchBMapSource",e.AutoSwitchABMapSource="AutoSwitchABMapSource"}(i||(t.FeedbackId=i={}))},3938:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.FeedbackId.AutoSwitchEnable]:{type:"boolean",name:s("AutoSwitching Enable"),description:"Change style of button depending on AutoSwitching Enable",options:[],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:()=>!0===e.state?.audioSwitching?.enable},[o.FeedbackId.AutoSwitchASource]:{type:"boolean",name:s("A Source"),description:"Change style of button when A Source Changed",options:[{type:"dropdown",label:"Audio Source",id:"audioSource",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.ASources.map((e=>({id:e,label:String((0,n.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioSource);return e.state?.audioSwitching?.A.selectSource===i}},[o.FeedbackId.AutoSwitchBSource]:{type:"boolean",name:s("B Source"),description:"Change style of button when B Source Changed",options:[{type:"dropdown",label:"Audio Source",id:"audioSource",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.BSources.map((e=>({id:e,label:String((0,n.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioSource);return e.state?.audioSwitching?.B.selectSource===i}},[o.FeedbackId.AutoSwitchAMapSource]:{type:"boolean",name:s("A Map Source"),description:"Change style of button when A Map Source Changed",options:[{type:"dropdown",label:"Audio Source",id:"audioSource",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.AMapSources.map((e=>({id:e,label:String((0,n.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioSource);return e.state?.audioSwitching.video.AMapSelectSource===i}},[o.FeedbackId.AutoSwitchBMapSource]:{type:"boolean",name:s("B Map Source"),description:"Change style of button when B Map Source Changed",options:[{type:"dropdown",label:"Audio Source",id:"audioSource",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.BMapSources.map((e=>({id:e,label:String((0,n.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioSource);return e.state?.audioSwitching.video.BMapSelectSource===i}},[o.FeedbackId.AutoSwitchABMapSource]:{type:"boolean",name:s("A+B Map Source"),description:"Change style of button when A+B Map Source Changed",options:[{type:"dropdown",label:"Audio Source",id:"audioSource",choices:e.state&&e.state.audioSwitching?e.state.audioSwitching.ABMapSources.map((e=>({id:e,label:String((0,n.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.audioSource);return e.state?.audioSwitching.video.ABMapSelectSource===i}}}};const o=i(3102),r=i(6278),n=i(3472),a=i(7574);function s(e){return"AutoSwitching: "+e}},3842:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSwitchingFeedbacks=t.AutoSwitchingPresets=t.AutoSwitchingActions=void 0,t.AutoSwitchingActions=n(i(4049)),t.AutoSwitchingPresets=n(i(646)),t.AutoSwitchingFeedbacks=n(i(3938))},646:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};return t["AutoSwitchEnable}"]={category:"AutoSwitching",name:"Set AutoSwitching Enable",type:"button",style:{text:"Enable",size:a,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.AutoSwitchEnable,options:{},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.AudioSwitch.ActionId.AutoSwitchingEnable,options:{enable:2}}],up:[]}]},t};const o=i(6278),r=i(1804),n=i(3102),a="18"},2528:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.ColorBack.ActionId.ColorHue]:{name:"Color Back:Set Color Hue",options:[{type:"dropdown",label:"Color:",id:"ColorHub1",choices:n.ColorSourceChoices,default:0},{type:"number",label:"Hue",id:"ColorHub2",default:0,min:0,max:359}],callback:async t=>{await e.setColorHue((0,r.getOptNumber)(t,"ColorHub1"),(0,r.getOptNumber)(t,"ColorHub2"))}},[o.ColorBack.ActionId.ColorSaturation]:{name:"Color Back:Set Color Saturation",options:[{type:"dropdown",label:"Color:",id:"ColorSaturation1",choices:n.ColorSourceChoices,default:0},{type:"number",label:"Saturation",id:"ColorSaturation2",default:0,min:0,max:100}],callback:async t=>{await e.setColorSaturation((0,r.getOptNumber)(t,"ColorSaturation1"),(0,r.getOptNumber)(t,"ColorSaturation2"))}},[o.ColorBack.ActionId.ColorBrightness]:{name:"Color Back:Set Color Brightness",options:[{type:"dropdown",label:"Color:",id:"ColorBrightness1",choices:n.ColorSourceChoices,default:0},{type:"number",label:"Brightness",id:"ColorBrightness2",default:100,min:0,max:100}],callback:async t=>{await e.setColorBrightness((0,r.getOptNumber)(t,"ColorBrightness1"),(0,r.getOptNumber)(t,"ColorBrightness2"))}}}};const o=i(1804),r=i(3472),n=i(7643)},4483:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorBackState=t.ColorBackActions=void 0,t.ColorBackActions=n(i(2528)),t.ColorBackState=n(i(3862))},3862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6272:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.Device.ActionId.DeviceName]:{name:"Device:Set Device Name",options:[{type:"textinput",label:"DeviceName",id:"deviceName",required:!0,default:"",useVariables:!0}],callback:async t=>{const i=(0,r.getOptString)(t,"deviceName");await e.setDeviceName(i)}}}};const o=i(1804),r=i(3472)},6771:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceInfoActions=void 0,t.DeviceInfoActions=n(i(6272))},8088:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t={[o.DSK.ActionId.DskOnAir]:{name:"DSK: set DSK On Air",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.DSKSwitchChoices,default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"enable");2===o&&(o=e.state?.downStreamKey.DSKS[i]?.keyOnAir?0:1),await e.setDskOnAir(i,o)}},[o.DSK.ActionId.DskEnable]:{name:"DSK: set DSK enable",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.DSKSwitchChoices,default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"enable");2===o&&(o=e.state?.downStreamKey.DSKS[i]?.keyEnable?0:1),await e.setDskEnable(i,o)}},[o.DSK.ActionId.DSKSourceProperties]:{name:"DSK: set DSK Source",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Key Source",id:"keySource",choices:e.state?e.state.downStreamKey.KeySources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1},{type:"dropdown",label:"Fill Source",id:"fillSource",choices:e.state?e.state.downStreamKey.FillSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],callback:async t=>{const i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"fillSource"),n=(0,r.getOptNumber)(t,"keySource");await e.setDskFillSource(i,o),await e.setDskKeySource(i,n)}},[o.DSK.ActionId.DSKSetAllProperties]:{name:"DSK: set DSK properties",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"maskEnable",label:"MaskEnable"},{id:"left",label:"Left"},{id:"top",label:"Top"},{id:"right",label:"Right"},{id:"bottom",label:"Bottom"},{id:"preMultipliedkey",label:"preMultipliedkey"},{id:"clip",label:"Clip"},{id:"gain",label:"Gain"},{id:"invert",label:"Invert"}],minSelection:1,default:["maskEnable","left","top","right","bottom","preMultipliedkey","clip","gain","invert"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("maskEnable")},{type:"number",label:"Left",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("left")},{type:"number",label:"Right",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("right")},{type:"number",label:"Top",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("top")},{type:"number",label:"Bottom",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("bottom")},{type:"dropdown",label:"Pre Multiplied key",id:"preMultipliedkey",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("preMultipliedkey")},{type:"number",label:"Clip",id:"clip",min:0,max:100,default:15,isVisible:e=>e.props.includes("clip")},{type:"number",label:"Gain",id:"gain",min:0,max:100,default:50,isVisible:e=>e.props.includes("gain")},{type:"dropdown",label:"Invert",id:"invert",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("invert")}],callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("maskEnable")){let i=(0,r.getOptNumber)(t,"maskEnable");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.mask.enabled?0:1),await e.setDskMaskEnable(o,i)}if(i.includes("left")&&await e.setDskMaskHStart(o,(0,r.getOptNumber)(t,"maskHStart")),i.includes("right")&&await e.setDskMaskHEnd(o,(0,r.getOptNumber)(t,"maskHEnd")),i.includes("top")&&await e.setDskMaskVStart(o,(0,r.getOptNumber)(t,"maskVStart")),i.includes("bottom")&&await e.setDskMaskVEnd(o,(0,r.getOptNumber)(t,"maskVEnd")),i.includes("preMultipliedkey")){let i=(0,r.getOptNumber)(t,"preMultipliedkey");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.control.preMultipliedKey?0:1),await e.setDskPreMultipliedKey(o,i)}if(i.includes("clip")&&await e.setDskClip(o,(0,r.getOptNumber)(t,"clip")),i.includes("gain")&&await e.setDskGain(o,(0,r.getOptNumber)(t,"gain")),i.includes("invert")){let i=(0,r.getOptNumber)(t,"invert");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.control.invert?0:1),await e.setDskInvert(o,i)}}}};return e.state?.device.deviceModel===a.Model.Duet_8ISO&&(t[o.DSK.ActionId.DSKSetAllProperties]={name:"DSK: set DSK properties",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"maskEnable",label:"MaskEnable"},{id:"left",label:"Left"},{id:"top",label:"Top"},{id:"right",label:"Right"},{id:"bottom",label:"Bottom"},{id:"preMultipliedkey",label:"preMultipliedkey"},{id:"clip",label:"Clip"},{id:"gain",label:"Gain"},{id:"invert",label:"Invert"},{id:"sizePositionEnable",label:"SizePositionEnable"},{id:"size",label:"Size"},{id:"xPosition",label:"XPosition"},{id:"yPosition",label:"YPosition"}],minSelection:1,default:["maskEnable","left","top","right","bottom","preMultipliedkey","clip","gain","invert","sizePositionEnable","size","xPosition","yPosition"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("maskEnable")},{type:"number",label:"Left",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("left")},{type:"number",label:"Right",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("right")},{type:"number",label:"Top",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("top")},{type:"number",label:"Bottom",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("bottom")},{type:"dropdown",label:"Pre Multiplied key",id:"preMultipliedkey",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("preMultipliedkey")},{type:"number",label:"Clip",id:"clip",min:0,max:100,default:15,isVisible:e=>e.props.includes("clip")},{type:"number",label:"Gain",id:"gain",min:0,max:100,default:50,isVisible:e=>e.props.includes("gain")},{type:"dropdown",label:"Invert",id:"invert",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("invert")},{type:"dropdown",label:"Size/Position Enable",id:"sizeEnable",choices:n.DSKSwitchChoices,default:0,isVisible:e=>e.props.includes("sizePositionEnable")},{type:"number",label:"Size",id:"size",min:7,max:100,default:33,isVisible:e=>e.props.includes("size")},{type:"number",label:"X Position",id:"xPosition",min:-16,max:16,default:10.6,step:.1,range:!0,isVisible:e=>e.props.includes("xPosition")},{type:"number",label:"Y Position",id:"yPosition",min:-9,max:9,default:7,step:.1,range:!0,isVisible:e=>e.props.includes("yPosition")}],callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("maskEnable")){let i=(0,r.getOptNumber)(t,"maskEnable");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.mask.enabled?0:1),await e.setDskMaskEnable(o,i)}if(i.includes("left")&&await e.setDskMaskHStart(o,(0,r.getOptNumber)(t,"maskHStart")),i.includes("right")&&await e.setDskMaskHEnd(o,(0,r.getOptNumber)(t,"maskHEnd")),i.includes("top")&&await e.setDskMaskVStart(o,(0,r.getOptNumber)(t,"maskVStart")),i.includes("bottom")&&await e.setDskMaskVEnd(o,(0,r.getOptNumber)(t,"maskVEnd")),i.includes("preMultipliedkey")){let i=(0,r.getOptNumber)(t,"preMultipliedkey");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.control.preMultipliedKey?0:1),await e.setDskPreMultipliedKey(o,i)}if(i.includes("clip")&&await e.setDskClip(o,(0,r.getOptNumber)(t,"clip")),i.includes("gain")&&await e.setDskGain(o,(0,r.getOptNumber)(t,"gain")),i.includes("invert")){let i=(0,r.getOptNumber)(t,"invert");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.control.invert?0:1),await e.setDskInvert(o,i)}if(i.includes("sizePositionEnable")){let i=(0,r.getOptNumber)(t,"sizeEnable");2===i&&(i=e.state?.downStreamKey.DSKS[o]?.sizePosition.enable?0:1),await e.setDskResize(o,i)}i.includes("size")&&await e.setDskSize(o,(0,r.getOptNumber)(t,"size")),i.includes("xPosition")&&await e.setDskXPosition(o,(0,r.getOptNumber)(t,"xPosition")),i.includes("yPosition")&&await e.setDskYPosition(o,(0,r.getOptNumber)(t,"yPosition"))}}),t};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},5997:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.DskSourceFillKey="dskSourceFillKey",e.DskMaskEnable="dskMaskEnable",e.DskMaskHStart="dskMaskHStart",e.DskMaskVStart="dskMaskVStart",e.DskMaskHEnd="dskMaskHEnd",e.DskMaskVEnd="dskMaskVEnd",e.DskControlShapedKey="dskControlShapedKey",e.DskControlClip="dskControlClip",e.DskControlGain="dskControlGain",e.DskControlInvert="dskControlInvert",e.DskRate="dskRate",e.DskEnable="dskEnable",e.DskOnAir="dskOnAir"}(i||(t.FeedbackId=i={}))},9539:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.FeedbackId.DskSourceFillKey]:{type:"boolean",name:c("fill or key source"),description:"Change style of button depending on DSK fill or key source",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Type",id:"TypeID",choices:[{id:0,label:"Key"},{id:1,label:"Fill"}],default:0},{type:"dropdown",label:"Source",id:"DSKSource",choices:e.state?e.state.downStreamKey.FillSources.map((e=>({id:e,label:String((0,a.getEnumKeyByValue)(s.sourceID,e))}))):[],default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.TypeID),r=Number(t.options.DSKSource);return 0===o?e.state?.downStreamKey.DSKS[i]?.source.key===r:e.state?.downStreamKey.DSKS[i]?.source.fill===r},learn:t=>{Number(t.options.TypeID);const i=Number(t.options.keyId);return{...t.options,DSKSource:e.state?.downStreamKey.DSKS[i]?.source.key}}},[o.FeedbackId.DskMaskEnable]:{type:"boolean",name:c("mask enabled"),description:"Change style of button when mask is enabled",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId);return!0===e.state?.downStreamKey.DSKS[i]?.mask.enabled}},[o.FeedbackId.DskMaskHStart]:{type:"boolean",name:c("mask horizontal start"),description:"Change style of button depending on horizontal start value of mask",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"number",label:"H Start",id:"HStart",default:0,min:0,max:100}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.HStart);return e.state?.downStreamKey.DSKS[i]?.mask.hStart===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,HStart:e.state?.downStreamKey.DSKS[i]?.mask.hStart}}},[o.FeedbackId.DskMaskVStart]:{type:"boolean",name:c("mask vertical start"),description:"Change style of button depending on vertical start value of mask",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"number",label:"V Start",id:"VStart",default:0,min:0,max:100}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.VStart);return e.state?.downStreamKey.DSKS[i]?.mask.vStart===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,VStart:e.state?.downStreamKey.DSKS[i]?.mask.vStart}}},[o.FeedbackId.DskMaskHEnd]:{type:"boolean",name:c("mask horizontal end"),description:"Change style of button depending on horizontal end value of mask",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"number",label:"H End",id:"HEnd",default:100,min:0,max:100}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.HEnd);return e.state?.downStreamKey.DSKS[i]?.mask.hEnd===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,HEnd:e.state?.downStreamKey.DSKS[i]?.mask.hEnd}}},[o.FeedbackId.DskMaskVEnd]:{type:"boolean",name:c("mask vertical end"),description:"Change style of button depending on vertical end value of mask",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"number",label:"V End",id:"VEnd",default:100,min:0,max:100}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.VEnd);return e.state?.downStreamKey.DSKS[i]?.mask.vEnd===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,VEnd:e.state?.downStreamKey.DSKS[i]?.mask.vEnd}}},[o.FeedbackId.DskControlShapedKey]:{type:"boolean",name:c("shaped key enabled"),description:"Change style of button if shaped key is enabled",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId);return!0===e.state?.downStreamKey.DSKS[i]?.control.preMultipliedKey}},[o.FeedbackId.DskControlInvert]:{type:"boolean",name:c("shaped key invert"),description:"Change style of button depending on status of shaped key invert",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Shaped key invert status",id:"skeyinvEnabled",choices:[{id:0,label:"disabled"},{id:1,label:"enabled"}],default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Boolean(t.options.skeyinvEnabled);return e.state?.downStreamKey.DSKS[i]?.control.invert===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,skeyinvEnabled:e.state?.downStreamKey.DSKS[i]?.control.invert}}},[o.FeedbackId.DskControlClip]:{type:"boolean",name:c("shaped key clip"),description:"Change style of button depending on clip value of shaped key",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"number",label:"Clip",id:"Clip",default:15,min:0,max:100}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.Clip);return e.state?.downStreamKey.DSKS[i]?.control.clip===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,Clip:e.state?.downStreamKey.DSKS[i]?.control.clip}}},[o.FeedbackId.DskControlGain]:{type:"boolean",name:c("shaped key gain"),description:"Change style of button depending on gain value of shaped key",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"number",label:"Gain",id:"Gain",default:50,min:0,max:100}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Number(t.options.Gain);return e.state?.downStreamKey.DSKS[i]?.control.gain===o},learn:t=>{const i=Number(t.options.keyId);return{...t.options,Gain:e.state?.downStreamKey.DSKS[i]?.control.gain}}},[o.FeedbackId.DskEnable]:{type:"boolean",name:"DSK:Enable",description:"Set the special effect DSK Enable",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.DSKSwitchChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Boolean(t.options.enable);return e.state?.downStreamKey.DSKS[i]?.keyEnable===o}},[o.FeedbackId.DskOnAir]:{type:"boolean",name:"DSK:On Air",description:"Set the special effect DSK On Air",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetDSKChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.DSKSwitchChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Boolean(t.options.enable);return e.state?.downStreamKey.DSKS[i]?.keyOnAir===o}}}};const o=i(5997),r=i(6278),n=i(7643),a=i(3472),s=i(7574);function c(e){return"DownstreamKeyer: "+e}},7467:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DownstreamKeyerFeedbacks=t.DownstreamKeyerPresets=t.DownstreamKeyerState=t.DownstreamKeyerActions=void 0,t.DownstreamKeyerActions=n(i(8088)),t.DownstreamKeyerState=n(i(9598)),t.DownstreamKeyerPresets=n(i(243)),t.DownstreamKeyerFeedbacks=n(i(9539))},243:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},i=(0,a.GetDSKChoices)(e.state);for(const e of i)t[`DSKEnable_${e.id}`]={category:"DSK",name:`Set ${e.label} Enable`,type:"button",style:{text:`${e.label} Enable`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.DskEnable,options:{keyId:e.id,enable:1},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.DSK.ActionId.DskEnable,options:{keyId:e.id,enable:2}}],up:[]}]},t[`DSKOnAir_${e.id}`]={category:"DSK",name:`Set ${e.label} On Air`,type:"button",style:{text:`${e.label} OnAir`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.DskOnAir,options:{keyId:e.id,enable:1},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.DSK.ActionId.DskOnAir,options:{keyId:e.id,enable:2}}],up:[]}]},t[`DSKMaskEnable_${e.id}`]={category:"DSK",name:`Set ${e.label} Mask Enable`,type:"button",style:{text:`${e.label} Mask Enable`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.DskMaskEnable,options:{keyId:e.id},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.DSK.ActionId.DskMaskEnable,options:{keyId:e.id,maskEnable:2}}],up:[]}]};return t};const o=i(6278),r=i(1804),n=i(5997),a=i(7643),s="18"},9598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4028:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t={[o.IOSetting.ActionId.InputColorSpace]:{name:"Inputs: set Input ColorSpace",options:[{type:"dropdown",label:"Input",id:"inputID",choices:e.state?e.state?.device.InputColorSpaceSources.map((e=>({id:e,label:(0,r.getEnumKeyByValue)(n.sourceID,e)}))):[],default:e.state?e.state.device.InputColorSpaceSources[0]:n.sourceID.IN1},{type:"dropdown",label:"ColorSpace",id:"colorSpace",choices:e.state?e.state?.outputSetting.colorSpaceRange.map((e=>({id:e,label:e}))):[],default:e.state?e.state?.outputSetting.colorSpaceRange[0]:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"inputID"),o=(0,r.getOptString)(t,"colorSpace");await e.setInputColorSpace(i,o)}},[o.IOSetting.ActionId.OutFormat]:{name:"Outputs: set out format",options:[{type:"dropdown",label:"Format",id:"format",choices:e.state?e.state?.outputSetting.outFormatRange.map((e=>({id:e,label:e}))):[],default:e.state?e.state.outputSetting.outFormatRange[0]:0}],callback:async t=>{let i=(0,r.getOptString)(t,"format");await e.setOutFormat(i)}},[o.IOSetting.ActionId.OutSource]:{name:"Outputs: set video map",options:[{type:"dropdown",label:"Output",id:"outputID",choices:e.state?e.state.device.VideoOutSources.map((e=>({id:e,label:(0,r.getEnumKeyByValue)(n.sourceID,e)}))):[],default:e.state?e.state.device.VideoOutSources[0]:n.sourceID.IN1},...(i=e.state?e.state.device.VideoOutSources:[],a=e.state?e.state.outputSetting.videoSourcesRange:[],i.map((e=>{let t=a[e];return{type:"dropdown",label:"Source",id:"SourceId_"+e,choices:t.map((e=>({id:e,label:(0,r.getEnumKeyByValue)(n.sourceID,e)}))),default:t[0],isVisible:(e,t)=>e.outputID===t.souceid,isVisibleData:{souceid:e}}})))],callback:async t=>{let i=(0,r.getOptNumber)(t,"outputID");await e.setOutSource(i,(0,r.getOptNumber)(t,"SourceId_"+i))}},[o.IOSetting.ActionId.OutputColorSpace]:{name:"Outputs: set Output color space map",options:[{type:"dropdown",label:"Output",id:"outputID",choices:e.state?e.state?.device.OutPutColorSpaceSources.map((e=>({id:e,label:(0,r.getEnumKeyByValue)(n.sourceID,e)}))):[],default:e.state?e.state?.device.OutPutColorSpaceSources[0]:0},{type:"dropdown",label:"Source",id:"sourceID",choices:e.state?e.state?.outputSetting.colorSpaceRange.map((e=>({id:e,label:e}))):[],default:e.state?e.state?.outputSetting.colorSpaceRange[0]:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"outputID");await e.setOutPutColorSpace(i,(0,r.getOptString)(t,"sourceID"))}}};var i,a;return e.state?.device.deviceModel===n.Model.Duet_8ISO&&(t[o.IOSetting.ActionId.InputMode]={name:"Inputs: set input assignment mode",options:[{type:"dropdown",label:"Mode",id:"modeID",choices:[{id:0,label:"4 Physical Ports"},{id:1,label:"8 Physical Ports 1"},{id:2,label:"8 Physical Ports 2"},{id:3,label:"8 Physical Ports 3"}],default:0}],callback:async t=>{await e.setInputMode((0,r.getOptNumber)(t,"modeID"))}}),t};const o=i(1804),r=i(3472),n=i(7574)},4239:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IOState=t.IOActions=void 0,t.IOActions=n(i(4028)),t.IOState=n(i(2530))},2530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4176:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.Macro.ActionId.MacroRecordStart]:{name:"macro: set start record",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:(0,n.getChoicesByMacro)(),default:0},{type:"textinput",label:"Name",id:"MacroName",default:"",required:!0},{type:"textinput",label:"Remark",id:"MacroRemark",default:"",required:!0}],callback:async t=>{await e.setMacroRecordStart((0,r.getOptNumber)(t,"MacroIndex"),(0,r.getOptString)(t,"MacroName"),(0,r.getOptString)(t,"MacroRemark"))}},[o.Macro.ActionId.MacroRecordStop]:{name:"macro: set stop record",options:[],callback:async()=>{await e.setMacroRecordStop()}},[o.Macro.ActionId.MacroInfo]:{name:"Macro:Change Detail",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:(0,n.getChoicesByMacro)(),default:0},{type:"textinput",label:"Name",id:"MacroName",default:"",required:!0},{type:"textinput",label:"Remark",id:"MacroRemark",default:"",required:!0}],callback:async t=>{await e.setMacroInfo((0,r.getOptNumber)(t,"MacroIndex"),(0,r.getOptString)(t,"MacroName"),(0,r.getOptString)(t,"MacroRemark"))}},[o.Macro.ActionId.RemoveMacro]:{name:"Macro:Delete Macro",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:(0,n.getChoicesByMacro)(),default:0}],callback:async t=>{await e.RemoveMacro((0,r.getOptNumber)(t,"MacroIndex"))}},[o.Macro.ActionId.MacroRunStart]:{name:"Macro:Start Run",options:[{type:"dropdown",label:"Location",id:"MacroIndex",choices:(0,n.getChoicesByMacro)(),default:0}],callback:async t=>{await e.setMacroRunStart((0,r.getOptNumber)(t,"MacroIndex"))}},[o.Macro.ActionId.MacroRunStop]:{name:"Macro:Stop Run",options:[],callback:async()=>{await e.setMacroRunStop()}},[o.Macro.ActionId.MacroAddSleep]:{name:"Macro:Macro Sleep",options:[{type:"number",label:"Sleep",id:"MacroSleep",default:50,min:50,max:1e4,step:50,range:!0,required:!0}],callback:async t=>{await e.setMacroAddSleep((0,r.getOptNumber)(t,"MacroSleep"))}}}};const o=i(1804),r=i(3472),n=i(7643)},5413:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Macro="macro"}(i||(t.FeedbackId=i={}))},9147:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacroFeedbackType=void 0,t.create=function(e){return{[r.FeedbackId.Macro]:{type:"boolean",name:"Macro: State",description:"If the specified macro is running, change style of the button",options:[{type:"dropdown",label:"Macro Number (1-100)",id:"MacroIndex",default:1,choices:(0,n.getChoicesByMacro)()},{type:"dropdown",label:"State",id:"state",default:t.MacroFeedbackType.IsWaiting,choices:[{id:t.MacroFeedbackType.IsRunning,label:"Is Running"},{id:t.MacroFeedbackType.IsWaiting,label:"Is Waiting"},{id:t.MacroFeedbackType.IsRecording,label:"Is Recording"},{id:t.MacroFeedbackType.IsUsed,label:"Is Used"}]}],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(238,238,0)},callback:i=>{const o=Number(i.options.MacroIndex);if(!isNaN(o)){const r=i.options.state,n=e.state?.macro.macros[o];switch(r){case t.MacroFeedbackType.IsUsed:return!!n?.used;case t.MacroFeedbackType.IsRecording:return!!n?.recording;case t.MacroFeedbackType.IsRunning:return!!n?.running;case t.MacroFeedbackType.IsWaiting:return!!n?.waiting}}return!1}}}};const o=i(6278),r=i(5413),n=i(7643);t.MacroFeedbackType={IsRunning:"isRunning",IsWaiting:"isWaiting",IsRecording:"isRecording",IsUsed:"isUsed"}},8627:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MacroFeedbacks=t.MacroPresets=t.MacroState=t.MacroActions=void 0,t.MacroActions=n(i(4176)),t.MacroState=n(i(5190)),t.MacroPresets=n(i(9931)),t.MacroFeedbacks=n(i(9147))},9931:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};for(let e=0;e<100;e++)t[`macro_run_${e}`]={category:"MACROS",name:`Run button for macro ${e+1}`,type:"button",style:{text:`macro${e+1}`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsUsed},style:{bgcolor:(0,o.combineRgb)(0,0,238),color:(0,o.combineRgb)(255,255,255)}},{feedbackId:n.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsRunning},style:{bgcolor:(0,o.combineRgb)(0,238,0),color:(0,o.combineRgb)(255,255,255)}},{feedbackId:n.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsWaiting},style:{bgcolor:(0,o.combineRgb)(238,238,0),color:(0,o.combineRgb)(255,255,255)}},{feedbackId:n.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsRecording},style:{bgcolor:(0,o.combineRgb)(238,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.Macro.ActionId.MacroRunStart,options:{MacroIndex:e}}],up:[]}]};return t};const o=i(6278),r=i(1804),n=i(5413),a=i(9147),s="16"},5190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9073:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t={[o.Media.ActionId.Mp1Properties]:{name:"Media Player: set media player 1 properties",options:[{type:"dropdown",label:"Type",id:"type",choices:[{id:0,label:"Strill"}],default:0},...s(n.MediaTypeChoice)],callback:async t=>{const i=(0,r.getOptNumber)(t,"type");let o="";o=0===i?"Still":"Browser";const n=(0,r.getOptNumber)(t,"index_"+i);await e.setMediaPlayer(0,o,n)}}};return e.state?.device.deviceModel===a.Model.Duet_8ISO?(t[o.Media.ActionId.Mp2Properties]={name:"Media Player: set media player 2 properties",options:[{type:"dropdown",label:"Type",id:"type",choices:n.MediaTypeChoice,default:0},...s(n.MediaTypeChoice)],callback:async t=>{const i=(0,r.getOptNumber)(t,"type"),o=(0,r.getOptNumber)(t,"index_"+i);let n="";n=0===i?"Still":"Browser",await e.setMediaPlayer(1,n,o)}},t[o.Media.ActionId.Browser]={name:"Media Player: set Browser URL",options:[{type:"textinput",label:"Url",id:"url"}],callback:async t=>{await e.setBrowser(0,(0,r.getOptString)(t,"url"))}}):t[o.Media.ActionId.Mp2Properties]={name:"Media Player: set media player 2 properties",options:[{type:"dropdown",label:"Type",id:"type",choices:[{id:0,label:"Strill"}],default:0},...s(n.MediaTypeChoice)],callback:async t=>{const i=(0,r.getOptNumber)(t,"type"),o=(0,r.getOptNumber)(t,"index_"+i);let n="";n=0===i?"Still":"Browser",await e.setMediaPlayer(1,n,o)}},t};const o=i(1804),r=i(3472),n=i(7643),a=i(7574);function s(e){return e.map((e=>{let t=[];if(0==e.id)for(let e=0;e<32;e++)t.push({id:e,label:(e+1).toString()});else for(let e=0;e<1;e++)t.push({id:e,label:(e+1).toString()});return{type:"dropdown",label:"Index",id:"index_"+e.id,choices:t,default:t[0].id,isVisible:(e,t)=>e.type===t.type,isVisibleData:{type:e.id}}}))}},4546:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPlayerState=t.MediaPlayerActions=void 0,t.MediaPlayerActions=n(i(9073)),t.MediaPlayerState=n(i(9163))},9163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7167:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t={[o.Effect.ActionId.TransitionStyle]:{name:s("Set transition style"),options:[{type:"dropdown",label:"Transition Style",id:"transitionStyle",default:a.EffectStyle.Mix,choices:n.TransitionStyleChoice}],callback:async t=>{let i="";switch((0,r.getOptNumber)(t,"transitionStyle")){case 0:default:i="Mix";break;case 1:i="Dip";break;case 2:i="Wipe"}await e.setTransitionStyle(i)}},[o.Effect.ActionId.AutoTransition]:{name:s("Perform AUTO transition"),options:[],callback:async()=>{await e.setAutoTransition()}},[o.Effect.ActionId.CutTransition]:{name:s("Perform CUT transition"),options:[],callback:async()=>{await e.setCutTransition()}},[o.Effect.ActionId.PgmIndex]:{name:s("Set PGM Source"),options:[{type:"dropdown",label:"Source",id:"Source",default:a.sourceID.IN1,choices:void 0!==e.state?e.state.device.inputSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[]}],callback:async t=>{const i=(0,r.getOptNumber)(t,"Source");await e.changePGMIndex(i)}},[o.Effect.ActionId.PvwIndex]:{name:s("Set PVW Source"),options:[{type:"dropdown",label:"Source",id:"Source",default:a.sourceID.IN1,choices:void 0!==e.state?e.state.device.inputSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[]}],callback:async t=>{const i=(0,r.getOptNumber)(t,"Source");await e.changePVWIndex(i)}},[o.Effect.ActionId.PreviewTransition]:{name:s("Preview Button"),options:[{type:"dropdown",label:"PREV",id:"prevEnable",default:2,choices:n.MixEfectSwitchChoices}],callback:async t=>{let i=(0,r.getOptNumber)(t,"prevEnable");2===i&&(i=!0===e.state?.effect.selectTransitionStyle.PrevState?0:1),await e.setPrevEnabled(i)}},[o.Effect.ActionId.TransitionRate]:{name:s("Change transition rate"),options:[{type:"dropdown",label:"Transition Style",id:"transitionStyle",default:a.EffectStyle.Mix,choices:n.TransitionStyleChoice},{type:"number",label:"Transition Rate",id:"transitionRate",default:2,min:.5,max:8,step:.5,range:!0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"transitionStyle"),o=(0,r.getOptNumber)(t,"transitionRate");await e.setStyleRate(i,o)}},[o.Effect.ActionId.TransitionDipFillSource]:{name:s("set dip source"),options:[{type:"dropdown",label:"Source",id:"transitionDipSource",default:a.sourceID.Color,choices:void 0!==e.state?e.state.effect.dipFillSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[]}],callback:async t=>{let i=(0,r.getOptNumber)(t,"transitionDipSource");await e.setTranstionDipFillSource(i)}},[o.Effect.ActionId.TransitionWipeDirection]:{name:s("Change transition wipe style direction"),options:[{type:"dropdown",label:"set wipe direction",id:"wipeDirection",default:0,choices:n.WipeDirectionChoices}],callback:async t=>{await e.setTransitionWipeDirection((0,r.getOptNumber)(t,"wipeDirection"))}}};return e.state?.device.deviceModel!==a.Model.Duet_8ISO&&(t[o.Effect.ActionId.Ftb]={name:s("Perform FTB Transition"),options:[],callback:async()=>{await e.setFtbTransition()}},t[o.Effect.ActionId.FtbRate]={name:s("set FTB rate"),options:[{type:"number",label:"FTB Rate(s)",id:"ftbRate",default:2,min:.5,max:8,range:!0}],callback:async t=>{await e.setFtbRate((0,r.getOptNumber)(t,"ftbRate"))}},t[o.Effect.ActionId.FtbAfv]={name:s("set FTB AFV"),options:[{type:"dropdown",label:"AFV",id:"ftbAudioAFV",default:0,choices:n.MixEfectSwitchChoices}],callback:async t=>{let i=(0,r.getOptNumber)(t,"ftbAudioAFV");2===i&&(i=!0===e.state?.effect.fadeToBlack.AFV?0:1),await e.setFtbAfvEnabled(i)}},t[o.Effect.ActionId.TransitionWipeXPosition]={name:s("set Wipe X Position"),options:[{type:"number",label:"X Position",id:"xPosition",default:0,min:-16,max:16,step:.2,range:!0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"xPosition");await e.setTransitionWipeXPosition(i)}},t[o.Effect.ActionId.TransitionWipeYPosition]={name:s("set Wipe Y Position"),options:[{type:"number",label:"Y Position",id:"yPosition",default:0,min:-9,max:9,step:.2,range:!0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"yPosition");await e.setTransitionWipeYPosition(i)}},t[o.Effect.ActionId.TransitionWipeSymmetry]={name:s("set wipe symmetry"),options:[{type:"number",label:"Symmetry",id:"symmetry",default:0,min:0,max:100,step:1,range:!0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"symmetry");await e.setTransitionWipeSymmetry(i)}},t[o.Effect.ActionId.TransitionWipeSoftness]={name:s("set wipe Softness"),options:[{type:"number",label:"Softness",id:"softness",default:0,min:0,max:100,step:1,range:!0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"softness");await e.setTransitionWipeSoftness(i)}},t[o.Effect.ActionId.TransitionWipeBorder]={name:s("set wipe border"),options:[{type:"number",label:"Border",id:"border",default:0,min:0,max:100,step:1,range:!0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"border");await e.setTransitionWipeBorder(i)}},t[o.Effect.ActionId.TransitionWipeFillSource]={name:s("set wipe Fill Source"),options:[{type:"dropdown",label:"Source",id:"transitionWipeSource",default:a.sourceID.Color,choices:void 0!==e.state?e.state.effect.wipeFillSource.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[]}],callback:async t=>{let i=(0,r.getOptNumber)(t,"transitionWipeSource");await e.setTransitionWipeFillSource(i)}}),t};const o=i(1804),r=i(3472),n=i(7643),a=i(7574);function s(e){return"MixEffect: "+e}},5840:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PreviewBG="preview_bg",e.ProgramBG="program_bg",e.TransitionStyle="TransitionStyle",e.InTransition="inTransition",e.Cut="cut",e.Prev="prev",e.TransitionRate="transitionRate",e.FadeToBlackIsBlack="fadeToBlackIsBlack",e.FadeToBlackRate="fadeToBlackRate",e.FTBAFV="FTBAFV",e.KeysVisibility="transitionSource",e.FTBRate="ftbRate"}(i||(t.FeedbackId=i={}))},8380:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.FeedbackId.PreviewBG]:{type:"boolean",name:c("Preview (PVW) source"),description:"If the input specified is selected in preview, change style of the button",defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(0,204,0)},options:[{type:"dropdown",label:"Source",id:"Source",default:0,choices:e.state?e.state.device.inputSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(s.sourceID,e))}))):[]}],callback:t=>e.state?.effect.PvwSrc===t.options.Source},[n.FeedbackId.ProgramBG]:{type:"boolean",name:c("Program (PGM) source"),description:"If the input specified is selected in program (PGM), change style of the button",defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(204,0,0)},options:[{type:"dropdown",label:"Source",id:"Source",default:0,choices:e.state?e.state.device.inputSources?.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(s.sourceID,e))}))):[]}],callback:t=>e.state?.effect.PgmSrc===t.options.Source},[n.FeedbackId.InTransition]:{type:"boolean",name:c("Transition is Active/Running"),description:"If the specified transition is active, change style of the button",options:[],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:()=>!!e.state?.effect.transitionPosition.inTransition},[n.FeedbackId.Prev]:{type:"boolean",name:c("Prev transition Active/Running"),description:"If the PREV is active, change style of the button",options:[],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:()=>!0===e.state?.effect.selectTransitionStyle.PrevState},[n.FeedbackId.TransitionStyle]:{type:"boolean",name:c("Transition style"),description:"If the specified transition style is active, change style of the button",options:[{type:"dropdown",label:"TransitionStyle",id:"transitionStyle",default:s.EffectStyle.Mix,choices:a.TransitionStyleChoice}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>e.state?.effect.selectTransitionStyle.style===Number(t.options.transitionStyle)},[n.FeedbackId.TransitionRate]:{type:"boolean",name:c("Transition rate"),description:"If the specified transition rate is active, change style of the button",options:[{type:"dropdown",label:"Transition Style",id:"transitionStyle",default:s.EffectStyle.Mix,choices:a.TransitionStyleChoice},{type:"number",label:"Transition Rate",id:"transitionRate",default:2,min:.5,max:8,step:.5,range:!0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=e.state?.effect.selectTransitionStyle,o=Number(t.options.transitionRate),r=Number(t.options.transitionStyle);if(i?.style===r)switch(r){case 0:return i.mix.rate===o;case 1:return i.dip.rate===o;case 2:return i.wipe.rate===o;default:return!1}return!1},learn:t=>{const i=e.state?.effect.selectTransitionStyle,o=Number(t.options.transitionStyle);if(i?.style===o)switch(o){case 0:return{...t.options,TransitionRate:i?.mix.rate};case 1:return{...t.options,TransitionRate:i.dip.rate};case 2:return{...t.options,TransitionRate:i?.wipe.rate};default:return}}},[n.FeedbackId.FTBRate]:{type:"boolean",name:c("FTB rate"),description:"If the specified transition rate is active, change style of the button",options:[{type:"number",label:"ftb Rate",id:"ftbRate",default:2,min:.5,max:8,step:.5,range:!0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>Number(t.options.ftbRate)===e.state?.effect.fadeToBlack.rate,learn:t=>{const i=e.state?.effect.fadeToBlack.rate;return{...t.options,ftbRate:i}}}}};const o=i(6278),r=i(3472),n=i(5840),a=i(7643),s=i(7574);function c(e){return"MixEffect: "+e}},1956:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MixEffectVariables=t.MixEffectState=t.MixEffectPresets=t.MixEffectFeedbacks=t.MixEffectActions=void 0,t.MixEffectActions=n(i(7167)),t.MixEffectFeedbacks=n(i(8380)),t.MixEffectPresets=n(i(7064)),t.MixEffectState=n(i(9413)),t.MixEffectVariables=n(i(6777))},7064:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},i=e.state?e.state.device.inputSources?.map((e=>({id:e,label:String((0,s.getEnumKeyByValue)(c.sourceID,e))}))):[];for(const e of i)t[`Preview_${e.id}`]={type:"button",category:"Preview",name:`Preview button for ${e.label}`,style:{pngalignment:"center:center",text:`${e.label}`,alignment:"center:center",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Effect.ActionId.PvwIndex,options:{Source:e.id}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.PreviewBG,options:{Source:e.id},style:{bgcolor:(0,o.combineRgb)(0,255,0),color:(0,o.combineRgb)(255,255,255)}}]},t[`Program_${e.id}`]={type:"button",category:"Program",name:`Program button for ${e.label}`,style:{pngalignment:"center:center",text:`${e.label}`,alignment:"center:center",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Effect.ActionId.PgmIndex,options:{Source:e.id}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.ProgramBG,options:{Source:e.id},style:{bgcolor:(0,o.combineRgb)(0,255,0),color:(0,o.combineRgb)(255,255,255)}}]};t.transition_cut={category:"Transitions",name:"CUT",type:"button",style:{text:"CUT",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:r.Effect.ActionId.CutTransition,options:{}}],up:[]}]},t.transition_auto={category:"Transitions",name:"AUTO",type:"button",style:{text:"AUTO",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.InTransition,options:{},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.Effect.ActionId.AutoTransition,options:{}}],up:[]}]};const l=a.TransitionStyleChoice;for(const e of l){t[`transition_style_${e.id}`]={category:"Transitions",name:`Transition: Change Transition style to ${e.label}`,type:"button",style:{text:`Transition\n style to \n${e.label}`,size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.TransitionStyle,options:{transitionStyle:e.id},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:r.Effect.ActionId.TransitionStyle,options:{transitionStyle:e.id}}],up:[]}]};for(const i of u)t[`transition_rate_${e.id}_${i}`]={category:"Transitions",name:`Transition: ${e.label} rate ${i}`,type:"button",style:{text:`${e.label}\n rate to \n${i}s`,size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.TransitionRate,options:{transitionStyle:e.id,transitionRate:i},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:r.Effect.ActionId.TransitionRate,options:{transitionStyle:e.id,transitionRate:i}}],up:[]}]}}t.transition_Prev={category:"Transitions",name:"Transition:PREV",type:"button",style:{text:"PREV",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.Prev,options:{},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.Effect.ActionId.PreviewTransition,options:{prevEnable:2}}],up:[]}]},t.ftb_AFV={category:"Fade to black",name:"FTB:Audio Follow Video Enable",type:"button",style:{text:"AFV",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:r.Effect.ActionId.FtbAfv,options:{ftbAudioAFV:2}}],up:[]}]},t.ftb_auto={category:"Fade to black",name:"Autofade",type:"button",style:{text:"FTB",size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:r.Effect.ActionId.Ftb,options:{}}],up:[]}]};for(const e of u)t[`ftb_rate_${e}`]={category:"Fade to black",name:`Rate ${e}`,type:"button",style:{text:`Rate ${e}`,size:d,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.FTBRate,options:{ftbRate:e},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:r.Effect.ActionId.FtbRate,options:{ftbRate:e}}],up:[]}]};return t};const o=i(6278),r=i(1804),n=i(5840),a=i(7643),s=i(3472),c=i(7574),u=[.5,1,1.5,2,2.5,3],d="18"},9413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6883:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.PVW_Source="PreviewSource",e.PGM_Source="ProgramSource",e.TransitionStyle="AutoTransitionStyle"}(i||(t.VariableId=i={}))},6777:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Preview Source",variableId:o.VariableId.PVW_Source},{name:"Program Source",variableId:o.VariableId.PGM_Source},{name:"Auto-transition Style",variableId:o.VariableId.TransitionStyle}]},t.getValues=function(e){const t={},i=e.device.inputSources.map((e=>(0,n.getEnumKeyByValue)(a.sourceID,e))),s=r.TransitionStyleChoice.map((e=>e.label));return t[o.VariableId.PVW_Source]=i[e.effect.PvwSrc],t[o.VariableId.PGM_Source]=i[e.effect.PgmSrc],t[o.VariableId.TransitionStyle]=s[e.effect.selectTransitionStyle.style],t};const o=i(6883),r=i(7643),n=i(3472),a=i(7574)},4116:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t={[o.MutiSource.ActionId.MultiSourceWindowCropProperties]:{name:"MultiSource: set window crop",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"cropLeft",label:"cropLeft"},{id:"cropRight",label:"cropRight"},{id:"cropTop",label:"cropTop"},{id:"cropBottom",label:"cropBottom"}],minSelection:1,default:["cropLeft","cropRight","cropTop","cropBottom"]},{type:"number",label:"CropLeft",id:"cropLeft",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropLeft")},{type:"number",label:"CropRight",id:"cropRight",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropRight")},{type:"number",label:"CropTop",id:"cropTop",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropTop")},{type:"number",label:"CropBottom",id:"cropBottom",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropBottom")}],callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"windowID");if(i.includes("cropLeft")){let i=(0,r.getOptNumber)(t,"cropLeft");await e.setMultiSourceWindowCropLeft(o,i)}if(i.includes("cropRight")){let i=(0,r.getOptNumber)(t,"cropRight");await e.setMultiSourceWindowCropRight(o,i)}if(i.includes("cropTop")){let i=(0,r.getOptNumber)(t,"cropTop");await e.setMultiSourceWindowCropTop(o,i)}if(i.includes("cropBottom")){let i=(0,r.getOptNumber)(t,"cropBottom");await e.setMultiSourceWindowCropBottom(o,i)}}}};return e.state?.device.deviceModel===a.Model.Duet_8ISO?(t[o.MutiSource.ActionId.MultiSourceWindowProperties]={name:"MultiSource: set window properties",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"source",label:"source"},{id:"xPosition",label:"xPosition"},{id:"yPosition",label:"yPosition"},{id:"size",label:"size"},{id:"cropLeft",label:"cropLeft"},{id:"cropRight",label:"cropRight"},{id:"cropTop",label:"cropTop"},{id:"cropBottom",label:"cropBottom"}],minSelection:1,default:["enable","source","xPosition","yPosition","size","cropLeft","cropRight","cropTop","cropBottom"]},{type:"dropdown",label:"Enable:",id:"multiSourceWindowEnable",choices:n.MultiSourceEnableChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"dropdown",label:"Source:",id:"multiSourceWindowSource",choices:e.state?.mutiSource.multiSourceWindowsSources?e.state.mutiSource.multiSourceWindowsSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1,isVisible:e=>e.props.includes("source")},{type:"number",label:"X Position",id:"multiX",default:-8,min:-32,max:32,step:.1,range:!0,isVisible:e=>e.props.includes("xPosition")},{type:"number",label:"Y Position",id:"multiY",default:-8,min:-32,max:32,step:.1,range:!0,isVisible:e=>e.props.includes("yPosition")},{type:"number",label:"Size",id:"multiSize",default:33,min:15,max:100,step:1,range:!0,isVisible:e=>e.props.includes("size")},{type:"number",label:"CropLeft",id:"cropLeft",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropLeft")},{type:"number",label:"CropRight",id:"cropRight",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropRight")},{type:"number",label:"CropBottom",id:"cropTop",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropTop")},{type:"number",label:"CropBottom",id:"cropBottom",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("cropBottom")}],callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"windowID");if(i.includes("enable")){let i=e.state?.mutiSource.eightWins[o],n=(0,r.getOptNumber)(t,"multiSourceWindowEnable");2===n&&(n=i?.enable?0:1),await e.setMultiSourceWindowEnable(o,n)}i.includes("source")&&await e.setMultiSourceWindowSource(o,(0,r.getOptNumber)(t,"multiSourceWindowSource")),i.includes("xPosition")&&await e.setMultiSourceWindowXPosition(o,(0,r.getOptNumber)(t,"multiX")),i.includes("yPosition")&&e.setMultiSourceWindowYPosition(o,(0,r.getOptNumber)(t,"multiY")),i.includes("size")&&await e.setMultiSourceWindowSize(o,(0,r.getOptNumber)(t,"multiSize")),i.includes("cropLeft")&&await e.setMultiSourceWindowCropLeft(o,(0,r.getOptNumber)(t,"cropLeft")),i.includes("cropRight")&&await e.setMultiSourceWindowCropRight(o,(0,r.getOptNumber)(t,"cropRight")),i.includes("cropTop")&&await e.setMultiSourceWindowCropTop(o,(0,r.getOptNumber)(t,"cropTop")),i.includes("cropBottom")&&await e.setMultiSourceWindowCropTop(o,(0,r.getOptNumber)(t,"cropBottom"))}},t[o.MutiSource.ActionId.MultiSourceWindowEnable]={name:"MultiSource: set window enable",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"dropdown",label:"Enable:",id:"multiSourceWindowEnable",choices:n.MultiSourceEnableChoices,default:0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"windowID");let o=(0,r.getOptNumber)(t,"multiSourceWindowEnable");var n=e.state?.mutiSource.eightWins[i];2===o&&(o=!0===n?.enable?0:1),await e.setMultiSourceWindowEnable(i,o)}},t[o.MutiSource.ActionId.MultiSourceWindowSource]={name:"MultiSource: set window source",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"dropdown",label:"Source:",id:"multiSourceWindowSource",choices:e.state?.mutiSource.multiSourceWindowsSources?e.state.mutiSource.multiSourceWindowsSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],callback:async t=>{const i=(0,r.getOptNumber)(t,"windowID"),o=(0,r.getOptNumber)(t,"multiSourceWindowSource");await e.setMultiSourceWindowSource(i,o)}},t[o.MutiSource.ActionId.MultiSourceWindowXPosition]={name:"MultiSource: set window x position",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"number",label:"X Position",id:"multiX",default:-8,min:-32,max:32,step:.1,range:!0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"windowID"),o=(0,r.getOptNumber)(t,"multiX");await e.setMultiSourceWindowXPosition(i,o)}},t[o.MutiSource.ActionId.MultiSourceWindowYPosition]={name:"MultiSource: set window y position",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"number",label:"Y Position",id:"multiY",default:-8,min:-32,max:32,step:.1,range:!0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"windowID"),o=(0,r.getOptNumber)(t,"multiY");await e.setMultiSourceWindowYPosition(i,o)}},t[o.MutiSource.ActionId.MultiSourceWindowSize]={name:"MultiSource: set size position",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"number",label:"Size",id:"multiSize",default:33,min:15,max:100,step:1,range:!0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"windowID"),o=(0,r.getOptNumber)(t,"multiSize");await e.setMultiSourceWindowSize(i,o)}}):(t[o.MutiSource.ActionId.MultiSourceEnable]={name:"MultiSource: set multiSource enable",options:[{type:"dropdown",label:"Enable:",id:"multiSourceEnable",choices:n.MultiSourceEnableChoices,default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"multiSourceEnable");var o=e.state?.mutiSource;2===i&&(i=!0===o?.enable?0:1),await e.setMultiSourceEnable(i)}},t[o.MutiSource.ActionId.MultiSourceWindowSource]={name:"MultiSource: Set multiSource Source",options:[{type:"dropdown",label:"Select Source",id:"windowID",choices:[{id:0,label:"Source 1"},{id:1,label:"Source 2"}],default:0},{type:"dropdown",label:"Source:",id:"multiSourceWindowSource",choices:e.state?.mutiSource.multiSourceWindowsSources?e.state.mutiSource.multiSourceWindowsSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],callback:async t=>{const i=(0,r.getOptNumber)(t,"windowID"),o=(0,r.getOptNumber)(t,"multiSourceWindowSource");await e.setMultiSourceWindowSource(i,o)}},t[o.MutiSource.ActionId.MultiSourceFillSource]={name:"MultiSource: Set multiSource Background",options:[{type:"dropdown",label:"Source:",id:"keySource",choices:e.state?.mutiSource.fillSources?e.state.mutiSource.fillSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],callback:async t=>{const i=(0,r.getOptNumber)(t,"keySource");await e.setMultiSourceFillSource(i)}},t[o.MutiSource.ActionId.MultiSourceControlStyle]={name:"MultiSource: Set multiSource control",options:[{type:"dropdown",label:"Layout:",id:"style",choices:n.MultiSourceStyleChoices,default:a.sourceID.IN1},{type:"number",label:"Y Position",id:"multiY",default:0,min:-4.5,max:4.5,step:.1,range:!0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"style"),o=(0,r.getOptNumber)(t,"multiY");await e.setMultiSourceControlStyle(i),await e.setMultiSourceControlYPosition(o)}},t[o.MutiSource.ActionId.MultiSourceWindowBorderProperties]={name:"MultiSource: set window broder",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"border",label:"Border"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"brightness",label:"Brightness"}],minSelection:1,default:["border","hue","saturation","brightness"]},{type:"number",label:"Border",id:"border",default:0,min:0,max:10,step:1,range:!0,isVisible:e=>e.props.includes("border")},{type:"number",label:"Hue",id:"hue",default:0,min:0,max:359,step:1,range:!0,isVisible:e=>e.props.includes("hue")},{type:"number",label:"Saturation",id:"saturation",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("saturation")},{type:"number",label:"Brightness",id:"brightness",default:0,min:0,max:100,step:1,range:!0,isVisible:e=>e.props.includes("brightness")}],callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"windowID");if(i.includes("border")){let i=(0,r.getOptNumber)(t,"border");await e.setMultiSourceWindowBorderWidth(o,i)}if(i.includes("hue")){let i=(0,r.getOptNumber)(t,"hue");await e.setMultiSourceWindowBorderHue(o,i)}if(i.includes("saturation")){let i=(0,r.getOptNumber)(t,"saturation");await e.setMultiSourceWindowBorderSaturation(o,i)}if(i.includes("brightness")){let i=(0,r.getOptNumber)(t,"brightness");await e.setMultiSourceWindowBorderBrightness(o,i)}}}),t};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},2577:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.MultiSourceWinEnable="multiSourceWinEnable",e.MultiSourceWinSelectSource="MultiSourceWinSelectSource"}(i||(t.FeedbackId=i={}))},7959:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.MultiSourceWinEnable]:{type:"boolean",name:"MultiSource: Set multi source window Enable",description:"If you turn on  multi source window, change style of the button",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"dropdown",label:"State:",id:"multiSourceWindowEnable",choices:n.MultiSourceEnableChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.windowID),o=Boolean(t.options.multiSourceWindowEnable),r=e.state?.mutiSource.eightWins[i];return r?.enable===o}},[r.FeedbackId.MultiSourceWinSelectSource]:{type:"boolean",name:"MultiSource: Set multi source window Source",description:"If you change multi source window Source, change style of the button",options:[{type:"dropdown",label:"window:",id:"windowID",choices:(0,n.GetMultiSourceWindowChoices)(e.state),default:0},{type:"dropdown",label:"Source:",id:"multiSourceWindowSource",choices:e.state?.mutiSource.multiSourceWindowsSources?e.state.mutiSource.multiSourceWindowsSources.map((e=>({id:e,label:String((0,s.getEnumKeyByValue)(a.sourceID,e))}))):[],default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.windowID),o=Number(t.options.multiSourceWindowSource),r=e.state?.mutiSource.eightWins[i];return r?.selectSource===o}}}};const o=i(6278),r=i(2577),n=i(7643),a=i(7574),s=i(3472)},5127:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSourceVariables=t.MultiSourcePresets=t.MultiSourceState=t.MultiSourceFeedbacks=t.MultiSourceActions=void 0,t.MultiSourceActions=n(i(4116)),t.MultiSourceFeedbacks=n(i(7959)),t.MultiSourceState=n(i(1546)),t.MultiSourcePresets=n(i(1103)),t.MultiSourceVariables=n(i(8902))},1103:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},i=(0,a.GetMultiSourceWindowChoices)(e.state);for(const e of i)t[`MultiSource_Enable_${e.id}`]={category:"MultiSource",name:`Set the ${e.label} enable in MultiSource`,type:"button",style:{text:`${e.label} of Enable`,size:"auto",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.MultiSourceWinEnable,options:{windowID:e.id,multiSourceWindowEnable:1},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.MutiSource.ActionId.MultiSourceWindowEnable,options:{windowID:e.id,multiSourceWindowEnable:2}}],up:[]}]};const u=e.state?.mutiSource.multiSourceWindowsSources?e.state.mutiSource.multiSourceWindowsSources.map((e=>({id:e,label:String((0,s.getEnumKeyByValue)(c.sourceID,e))}))):[];for(const e of i)for(const i of u)t[`MultiSource_Source_${e.id}_${i.id}`]={category:"MultiSource",name:`Set the ${e.label} source in MultiSource`,type:"button",style:{text:`${i.label} to ${e.label}`,size:"auto",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.MultiSourceWinSelectSource,options:{windowID:e.id,multiSourceWindowSource:i.id},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.MutiSource.ActionId.MultiSourceWindowSource,options:{windowID:e.id,multiSourceWindowSource:i.id}}],up:[]}]};return t};const o=i(6278),r=i(1804),n=i(2577),a=i(7643),s=i(3472),c=i(7574)},1546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6994:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.SuperSourceSrc1="SuperSource_Source1",e.SuperSourceSrc2="SuperSource_Source2",e.SuperSourceBG="SuperSource_BG",e.SuperSourceSourceStyle="SuperSource_Style"}(i||(t.VariableId=i={}))},8902:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"SuperSource Source 1",variableId:o.VariableId.SuperSourceSrc1},{name:"SuperSource Source 2",variableId:o.VariableId.SuperSourceSrc2},{name:"SuperSource Background",variableId:o.VariableId.SuperSourceBG},{name:"SuperSource Style",variableId:o.VariableId.SuperSourceSourceStyle}]},t.getValues=function(e){const t={},i=e.mutiSource.multiSourceWindowsSources,a=i?i.map((e=>(0,n.getEnumKeyByValue)(r.sourceID,e))):[];return t[o.VariableId.SuperSourceSrc1]=a[0],t[o.VariableId.SuperSourceSrc2]=a[0],t[o.VariableId.SuperSourceBG]=a[0],t};const o=i(6994),r=i(7574),n=i(3472)},3230:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.MutiView.ActionId.MultiViewLayout]:{name:"settings: set MultiView layout",options:[],callback:async()=>{let t=0===e.state?.mutiView.layoutStyle?1:0;await e.setMultiViewLayout(t)}}}};const o=i(1804)},5551:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.MultiViewLayout="multiViewLayout"}(i||(t.FeedbackId=i={}))},8597:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.FeedbackId.MultiViewLayout]:{type:"boolean",name:"MutiView:set MultiView layout",description:"Update style based on mv layout style",options:[{type:"dropdown",label:"Sytle:",id:"styleID",choices:n.WindowLayoutChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.state?.mutiView.layoutStyle===Number(t.options.StyleID),learn:()=>({StyleID:e.state?.mutiView.layoutStyle})}}};const o=i(5551),r=i(6278),n=i(7643)},3466:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MutiViewPresets=t.MutiViewVariables=t.MutiViewFeedbacks=t.MutiViewState=t.MutiViewActions=void 0,t.MutiViewActions=n(i(3230)),t.MutiViewState=n(i(3200)),t.MutiViewFeedbacks=n(i(8597)),t.MutiViewVariables=n(i(3384)),t.MutiViewPresets=n(i(66))},66:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};return t.Mutiview_layout={category:"Mutiview",name:"set MultiView layout",type:"button",style:{text:"MV/Layout",size:a,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},feedbacks:[{feedbackId:n.FeedbackId.MultiViewLayout,options:{styleID:1},style:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)}}],steps:[{down:[{actionId:r.MutiView.ActionId.MultiViewLayout,options:{}}],up:[]}]},t};const o=i(6278),r=i(1804),n=i(5551),a="18"},3200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t=[];for(let e=0;e<9;e++)t.push({name:`SrcId ${e} name`,variableId:`SrcId${e}_name`});return t.push({name:"version",variableId:"version"}),t.push({name:"build",variableId:"buildInfo"}),t.push({name:"device id",variableId:"deviceId"}),t.push({name:"device name",variableId:"deviceName"}),t.push({name:"connected NDI source name",variableId:"connectedNDISource_name"}),t.push({name:"connected NDI source address",variableId:"connectedNDISource_address"}),t},t.getValues=function(e){return{version:"10.0"}}},6107:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t={[o.PlayBack.ActionId.PlaybackMode]:{name:"Playback:Set playback Mode",options:[{type:"dropdown",label:"Player",id:"playerID",choices:(0,n.GetPlayerSourceChoices)(e.state),default:0},{type:"dropdown",label:"Mode",id:"ModeID",choices:e.state?e.state.playBack.modeRanges.map((e=>({id:e,label:e}))):[],default:e.state?e.state.playBack.modeRanges[0]:""}],callback:async t=>{await e.setPlaybackMode((0,r.getOptNumber)(t,"playerID"),(0,r.getOptString)(t,"ModeID"))}}};return e.state?.device.deviceModel===a.Model.Duet_8ISO?t[o.PlayBack.ActionId.PlayPause]={name:"Playback:Set playback Pause",options:[{type:"dropdown",label:"Player",id:"playerID",choices:(0,n.GetPlayerSourceChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enableID",choices:[{id:0,label:"stop"},{id:1,label:"start"},{id:2,label:"Toggle"}],default:2}],callback:async t=>{let i=(0,r.getOptNumber)(t,"enableID"),o=(0,r.getOptNumber)(t,"playerID");2===i&&(i=1===e.state?.playBack.config[o]?.playStatus?0:1),await e.setPlayPause(o,i)}}:t[o.PlayBack.ActionId.PlayRepeat]={name:"Playback:set playback repeat single video",options:[{type:"dropdown",label:"Player",id:"playerID",choices:(0,n.GetPlayerSourceChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.PlayBackEnableChoices,default:2}],callback:async t=>{let i=(0,r.getOptNumber)(t,"enable"),o=(0,r.getOptNumber)(t,"playerID");2===i&&(i=e.state?.playBack.config[o]?.repeatEnable?0:1),await e.setPlayRepeat(o,i)}},t};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},9172:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PlaybackMode="playbackMode",e.PlaybackRepeat="playbackRepeat",e.PlaybackPause="playbackPause",e.PlaybackBar="playbackBar",e.PlayFile="playFile"}(i||(t.FeedbackId=i={}))},3376:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.FeedbackId.PlaybackMode]:{type:"boolean",name:"Playback: Set Playback Mode",description:"If you turn on Playback Mode, change style of the button",options:[{type:"dropdown",label:"Player",id:"playerID",choices:(0,n.GetPlayerSourceChoices)(e.state),default:0},{type:"dropdown",label:"Mode",id:"ModeID",choices:e.state?e.state.playBack.modeRanges.map((e=>({id:e,label:e}))):[],default:e.state?e.state.playBack.modeRanges[0]:""}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.playerID);return e.state?.playBack.config[i]===t.options.ModeID}},[o.FeedbackId.PlaybackPause]:{type:"boolean",name:"Playback: Set Playback Pause",description:"If you turn on Playback Pause, change style of the button",options:[{type:"dropdown",label:"Player",id:"playerID",choices:(0,n.GetPlayerSourceChoices)(e.state),default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.playerID);return 1===e.state?.playBack.config[i]?.playStatus}}}};const o=i(9172),r=i(6278),n=i(7643)},208:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackVariables=t.PlaybackPresets=t.PlaybackFeedbacks=t.PlaybackState=t.PlaybackActions=void 0,t.PlaybackActions=n(i(6107)),t.PlaybackState=n(i(5473)),t.PlaybackFeedbacks=n(i(3376)),t.PlaybackPresets=n(i(4004)),t.PlaybackVariables=n(i(1669))},4004:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},i=(0,a.GetPlayerSourceChoices)(e.state);for(let e=0;e<i.length;e++)t[`PlayMode_${e}`]={type:"button",category:"Playback",name:"Set Playback mode",style:{text:`${i[e].label} Mode`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.PlayBack.ActionId.PlaybackMode,options:{playerID:i[e].id,ModeID:i[e].id}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.PlaybackMode,options:{ModeID:i[e].id,playerID:i[e].id},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}]},t[`PlayMode_Play_Pause_Toggle_${e}`]={type:"button",category:"Playback",name:"Play/Pause video",style:{text:`Play ${i[e].label}`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.PlayBack.ActionId.PlayPause,options:{enableID:2,playerID:i[e].id}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.PlaybackPause,options:{playerID:i[e].id},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(255,255,255),text:"Pause"}},{feedbackId:n.FeedbackId.PlaybackPause,options:{playerID:i[e].id},isInverted:!0,style:{bgcolor:(0,o.combineRgb)(0,0,0),color:(0,o.combineRgb)(255,255,255),text:"Play"}}]};return t};const o=i(6278),r=i(1804),n=i(9172),a=i(7643),s="18"},5473:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4111:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.PlayState="PlayState",e.PlayFile="PlayFile"}(i||(t.VariableId=i={}))},1669:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Play State of PlayBack",variableId:o.VariableId.PlayState}]},t.getValues=function(e){const t={};return t[o.VariableId.PlayState]=e.playBack.config[0]?.playStatus?"Play":"Pause",t};const o=i(4111)},283:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){let i={[o.Record.ActionId.PGMStartRecord]:{name:"Record: start or stop PGM recording",options:[{type:"dropdown",label:"Record",id:"record",choices:[{id:"0",label:"Stop"},{id:"1",label:"Start"},{id:"2",label:"Toggle"}],default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"record");2===i&&(i=1===e.state?.record.isRecording?0:1),1===i?(0!==e.state?.record.isRecording&&await e.stopRecord(),await e.startRecord(0)):await e.stopRecord()}},[o.Record.ActionId.RecordBitrate]:{name:"Record: set recording quality",options:[{type:"dropdown",label:"Quality",id:"quality",choices:[{id:0,label:"low"},{id:1,label:"mid"},{id:2,label:"good"},{id:3,label:"hight"}],default:0}],callback:async t=>{await e.setRecordBitrate((0,r.getOptNumber)(t,"quality"))}}};return e.state?.device.deviceModel===n.Model.Duet_8ISO&&(i[o.Record.ActionId.ISOStartRecord]={name:"Record: start or stop  ISO recording",options:[{type:"dropdown",label:"Record",id:"record",choices:[{id:"0",label:"Stop"},{id:"1",label:"Start"},{id:"2",label:"Toggle"}],default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"record");2===i&&(i=2===e.state?.record.isRecording?0:2),2===i?(0!==e.state?.record.isRecording&&await e.stopRecord(),await e.startRecord(1)):await e.stopRecord()}},i[o.Record.ActionId.RecordFormat]={name:"Record: set encoding format",options:[{type:"dropdown",label:"Format",id:"format",choices:[{id:"0",label:"H.264"},{id:"1",label:"H.265"}],default:0}],callback:async t=>{let i="";i=0===(0,r.getOptNumber)(t,"format")?"H.264":"H.265",await e.setRecordFormat(i)}}),i};const o=i(1804),r=i(3472),n=i(7574)},4484:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PGMRecord="PGMRecord",e.ISORecord="ISORecord",e.Quality="recordQuality",e.RecordSSDAbnormalInfo="recordSSDAbnormalInfo",e.ISORecordSSDAbnormalInfo="isoRecordSSDAbnormalInfo"}(i||(t.FeedbackId=i={}))},9008:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.PGMRecord]:{type:"boolean",name:"Record:PGM Recording status",description:"If GoStream is recording, change style of the button",options:[],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:()=>1===e.state?.record.isRecording},[r.FeedbackId.ISORecord]:{type:"boolean",name:"Record:ISO Recording status",description:"If GoStream is recording, change style of the button",options:[],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:()=>2===e.state?.record.isRecording},[r.FeedbackId.Quality]:{type:"boolean",name:"Record:Quality",description:"The recording quality (high...low)",options:[{type:"dropdown",label:"Quality",id:"quality",choices:[{id:0,label:"low"},{id:1,label:"mid"},{id:2,label:"good"},{id:3,label:"hight"}],default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>e.state?.record.quality===(0,n.getOptNumber)(t,"quality")},[r.FeedbackId.RecordSSDAbnormalInfo]:{type:"boolean",name:"Record:Storage media absent (SD/SSD)",description:"If storage media are absent (SD or SSD), change style of the button",options:[],defaultStyle:{color:(0,o.combineRgb)(110,110,110),bgcolor:(0,o.combineRgb)(72,72,72)},callback:()=>0===e.state?.record.recordFree.freeSpace&&0===e.state?.record.recordFree.freeTime},[r.FeedbackId.ISORecordSSDAbnormalInfo]:{type:"boolean",name:"Record:Storage media absent (SD/SSD)",description:"If storage media are absent (SD or SSD), change style of the button",options:[],defaultStyle:{color:(0,o.combineRgb)(110,110,110),bgcolor:(0,o.combineRgb)(72,72,72)},callback:()=>0===e.state?.record.ISORecordFree.freeSpace&&0===e.state?.record.ISORecordFree.freeTime}}};const o=i(6278),r=i(4484),n=i(3472)},4160:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RecordVariables=t.RecordFeedbacks=t.RecordPresets=t.RecordState=t.RecordActions=void 0,t.RecordActions=n(i(283)),t.RecordState=n(i(7345)),t.RecordPresets=n(i(8564)),t.RecordFeedbacks=n(i(9008)),t.RecordVariables=n(i(677))},8564:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};t.Record_0={type:"button",category:"Record",name:"Start/Stop PGM Recording",style:{text:"Record\n$(gostream-iso:record_duration_hm)",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Record.ActionId.PGMStartRecord,options:{record:2}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.PGMRecord,options:{},style:{bgcolor:(0,o.combineRgb)(0,0,0),color:(0,o.combineRgb)(255,255,255),text:"Record\n$(gostreamdeck:record_cur_duration_hm)"}},{feedbackId:n.FeedbackId.RecordSSDAbnormalInfo,options:{},style:{bgcolor:(0,o.combineRgb)(110,110,110),color:(0,o.combineRgb)(255,255,64),text:"Check SD/SSD"}}]},t.Record_1={type:"button",category:"Record",name:"Start/Stop ISO Recording",style:{text:"ISO\n$(gostream-iso:record_duration_hm)",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Record.ActionId.ISOStartRecord,options:{record:2}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.ISORecord,options:{},style:{bgcolor:(0,o.combineRgb)(0,0,0),color:(0,o.combineRgb)(255,255,255),text:"ISO\n$(gostreamdeck:record_cur_duration_hm)"}},{feedbackId:n.FeedbackId.ISORecordSSDAbnormalInfo,options:{},style:{bgcolor:(0,o.combineRgb)(110,110,110),color:(0,o.combineRgb)(255,255,64),text:"Insert SD/SSD"}}]};for(const e of[{id:0,label:"low"},{id:1,label:"mid"},{id:2,label:"good"},{id:3,label:"hight"}])t[`Record_Quality_${e.id}`]={type:"button",category:"Record",name:`Set recording quality to ${e.label}`,style:{text:`Rec Quality ${e.label}`,size:"auto",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Record.ActionId.RecordBitrate,options:{quality:e.id}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.Quality,options:{quality:e.id},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}]};return t};const o=i(6278),r=i(1804),n=i(4484)},7345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4623:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.RecordCurDuration="record_cur_duration_hm",e.RecordDuration="record_duration_hm",e.RecordQuality="record_quality",e.PGMRecordFreeSpace="pgm_record_free_space",e.PGMRecordFreeTime="pgm_record_free_time",e.ISORecordFreeSpace="iso_record_free_space",e.ISORecordFreeTime="iso_record_free_time",e.RecordErrCode="record_SD_SSD_error"}(i||(t.VariableId=i={}))},677:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Recording duration (hh:mm)",variableId:o.VariableId.RecordDuration},{name:"Recording Current duration (hh:mm)",variableId:o.VariableId.RecordCurDuration},{name:"Recording quality",variableId:o.VariableId.RecordQuality},{name:"Recording: PGM free space",variableId:o.VariableId.PGMRecordFreeSpace},{name:"Recording: PGM free time (hh:mm:ss)",variableId:o.VariableId.PGMRecordFreeTime},{name:"Recording: ISO free space",variableId:o.VariableId.ISORecordFreeSpace},{name:"Recording: ISO free time (hh:mm:ss)",variableId:o.VariableId.ISORecordFreeTime},{name:"Recoding media present (SD or SSD)",variableId:o.VariableId.RecordErrCode}]},t.getValues=function(e){const t={};return t[o.VariableId.RecordCurDuration]=function(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),o=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}(e.record.recordTime?e.record.recordTime:0),t[o.VariableId.RecordDuration]=e.record.recordTime,t[o.VariableId.RecordQuality]=e.record.quality,t[o.VariableId.PGMRecordFreeSpace]=e.record.recordFree.freeSpace,t[o.VariableId.PGMRecordFreeTime]=e.record.recordFree.freeTime,t[o.VariableId.ISORecordFreeSpace]=e.record.ISORecordFree.freeSpace,t[o.VariableId.ISORecordFreeTime]=e.record.ISORecordFree.freeTime,t[o.VariableId.RecordErrCode]=e.record.isoErrCode,t};const o=i(4623)},4680:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveStatus=void 0,t.create=function(e){return{[o.Stream.ActionId.LiveStreamOutputEnable]:{name:"Streaming: set Live Enable",options:[{type:"dropdown",label:"Stream",id:"streamID",choices:(0,n.StreamingOptionChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enableId",choices:n.StreamingEnableChoices,default:0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"streamID");let o=(0,r.getOptNumber)(t,"enableId");2===o&&(o=e.state?.stream.streamInfos[i]?.enabled?0:1),await e.setLiveStreamOutputEnable(i,o)}},[o.Stream.ActionId.LiveStreamPlatform]:{name:"Streaming: Set platform",options:[{type:"dropdown",label:"Stream",id:"streamID",choices:(0,n.StreamingOptionChoices)(e.state),default:0},{type:"dropdown",label:"Platform",id:"platformId",choices:e.state?e.state?.stream.platforms.map((e=>({id:e.name,label:e.name}))):[],default:e.state?e.state?.stream.platforms[0].name:""},...(t=e.state?e.state?.stream.platforms:[],t.map((e=>({type:"dropdown",label:"Server",id:"ServerId_"+e.name,choices:e.servers.map((e=>({id:e.serName,label:e.serName}))),default:e.servers[0].serName,isVisible:(e,t)=>e.platformId===t.PlatformId,isVisibleData:{PlatformId:e.name}}))))],callback:async t=>{const i=(0,r.getOptNumber)(t,"streamID"),o=(0,r.getOptString)(t,"platformId"),n=(0,r.getOptString)(t,"ServerId_"+o);await e.setLiveStreamOutputServiceName(i,o);let a=e.state?.stream.platforms.find((e=>e.name===o)),s=a?.servers.find((e=>e.serName===n));await e.setLiveStreamOutputUrl(i,s?s?.url:"")}},[o.Stream.ActionId.LiveStreamOutputKey]:{name:"Streaming: Set stream Key",options:[{type:"dropdown",label:"Stream",id:"streamID",choices:(0,n.StreamingOptionChoices)(e.state),default:0},{type:"textinput",label:"Stream key",id:"KeyId",default:"",required:!0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"streamID"),o=(0,r.getOptString)(t,"KeyId");await e.setLiveStreamOutputKey(i,o)}},[o.Stream.ActionId.Live]:{name:"Streaming:Set Start or Stop Live",options:[{type:"dropdown",label:"Enable",id:"LiveEnable",choices:[{id:0,label:"Stop"},{id:1,label:"Start"},{id:2,label:"Toggle"}],default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"LiveEnable");2===i&&(i=e.state?.stream.status===a.Off?1:0),await e.startOrStopLive(i)}},[o.Stream.ActionId.LiveStreamOutputBitrate]:{name:"Streaming: set streaming quality",options:[{type:"dropdown",label:"Quality",id:"quality",choices:n.StreamQualityChoices,default:0}],callback:async t=>{await e.setLiveStreamOutputBitrate((0,r.getOptNumber)(t,"quality"))}}};var t};const o=i(1804),r=i(3472),n=i(7643);var a;!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Abnormal=2]="Abnormal"}(a||(t.LiveStatus=a={}))},1085:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.LiveStreamOutputEnable="liveStreamOutputEnable",e.LiveInfo="liveInfo",e.StreamQuality="streamQuality"}(i||(t.FeedbackId=i={}))},8963:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.LiveStreamOutputEnable]:{type:"boolean",name:"Streaming: Set Stream Enable",description:"If you turn on Stream Enable, change style of the button",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:(0,n.StreamingOptionChoices)(e.state),default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>!0===e.state?.stream.streamInfos[Number(t.options.StreamID)]?.enabled},[r.FeedbackId.LiveInfo]:{type:"boolean",name:"Live: Set Live Start or Stop",description:"If you turn on Live Start, change style of the button",options:[{type:"dropdown",label:"states",id:"statesId",choices:[{id:0,label:"off"},{id:1,label:"On"},{id:2,label:"abnormal"}],default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>e.state?.stream.status===Number(t.options.statesId)},[r.FeedbackId.StreamQuality]:{type:"boolean",name:"Streaming: quality",description:"change style of the button if streaming quality matches feedback",options:[{type:"dropdown",label:"Quality",id:"quality",choices:n.StreamQualityChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.quality);return e.state?.stream.quality===Number(n.StreamQualityChoices[i].id)}}}};const o=i(6278),r=i(1085),n=i(7643)},8427:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingVariables=t.StreamingFeedbacks=t.StreamingPresets=t.StreamingState=t.StreamingActions=void 0,t.StreamingActions=n(i(4680)),t.StreamingState=n(i(2462)),t.StreamingPresets=n(i(3315)),t.StreamingFeedbacks=n(i(8963)),t.StreamingVariables=n(i(7114))},3315:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){let t=(0,a.StreamingOptionChoices)(e.state);const i={};for(const e of t)i[`StreamingSwitch_${e.id}`]={type:"button",category:"Streaming",name:"Push Streaming",style:{text:`${e.label}`,size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Stream.ActionId.LiveStreamOutputEnable,options:{streamID:e.id,enableId:2}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.LiveStreamOutputEnable,options:{StreamID:e.id},style:{bgcolor:(0,o.combineRgb)(255,255,0),color:(0,o.combineRgb)(0,0,0)}}]};return i.Live_0={type:"button",category:"Streaming",name:"Live",style:{text:"Live",size:s,color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.Stream.ActionId.Live,options:{LiveEnable:2}}],up:[]}],feedbacks:[{feedbackId:n.FeedbackId.LiveInfo,options:{statesId:1},style:{bgcolor:(0,o.combineRgb)(255,0,0),color:(0,o.combineRgb)(0,0,0)}}]},i};const o=i(6278),r=i(1804),n=i(1085),a=i(7643),s="18"},2462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7114:(e,t)=>{"use strict";function i(e){return"Stream_"+e.toString()+"_state"}function o(e){const t=[];for(let o=0;o<e.device.inputSources.length;o++)t.push({name:"Stream "+(o+1).toString()+" state",variableId:i(o+1)});return t}function r(e){return 0===e?"Off":1===e?"OnAir":"Abnormal"}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[...o(e)]},t.getValues=function(e){const t={},o=Object.values(e.stream.streamInfos).filter((e=>void 0!==e)).length;for(let a=0;a<o;a++){var n=e.stream.streamInfos[a];n&&(t[i(a+1)]=r(n.status))}return t}},1539:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[o.USK.ActionId.KeyOnAir]:{name:"Key: set On Air",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,u.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"On Air",id:"onAir",choices:u.KeySwitchChoices,default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"onAir");2===o&&(o=e.state?.upStreamKey.USKS[i]?.onAir?0:1),await e.setKeyOnAir(i,Boolean(o))}},[o.USK.ActionId.KeyEnable]:{name:"Key:set PVW Enable",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,u.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:u.KeySwitchChoices,default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"enable");2===o&&(o=e.state?.upStreamKey.USKS[i]?.enabled?0:1),await e.setKeyEnable(i,Boolean(o))}},[o.USK.ActionId.KeyType]:{name:"Key:set key type",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,u.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Type",id:"type",choices:u.KeyTypeChoices,default:0}],callback:async t=>{let i="";switch((0,r.getOptNumber)(t,"type")){case 0:default:i="Luma";break;case 1:i="Chroma";break;case 2:i="Pattern";break;case 3:i="PIP"}await e.setKeyType((0,r.getOptNumber)(t,"keyId"),i)}},...(0,n.createLumaKeyActions)(e),...(0,a.createChromaKeyActions)(e),...(0,s.createPatternKeyActions)(e),...(0,c.createPipActions)(e)}};const o=i(1804),r=i(3472),n=i(6545),a=i(1164),s=i(5800),c=i(989),u=i(7643)},7276:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.KeyType="keyType",e.KeyEnable="keyEnable",e.KeyOnAir="keyOnAir"}(i||(t.FeedbackId=i={}))},8248:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.KeyEnable]:{type:"boolean",name:"Key:Enable",description:"Set the special effect Key Enable",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.KeySwitchChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Boolean(t.options.enable);return e.state?.upStreamKey.USKS[i]?.enabled===o}},[r.FeedbackId.KeyOnAir]:{type:"boolean",name:"Key:On Air",description:"Set the special effect Key On Air",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Enable",id:"enable",choices:n.KeySwitchChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId),o=Boolean(t.options.enable);return e.state?.upStreamKey.USKS[i]?.onAir===o}},[r.FeedbackId.KeyType]:{type:"boolean",name:"Key:Type",description:"Set the special effect Key type",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Type",id:"type",choices:n.KeyTypeChoices,default:0}],defaultStyle:{color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(255,255,0)},callback:t=>{const i=Number(t.options.keyId);let o=-1;switch(String(t.options.type)){case"Luma Key":default:o=0;break;case"Chroma Key":o=1;break;case"Pattern":o=2;break;case"PIP":o=3}return e.state?.upStreamKey.USKS[i]?.keyType===o}}}};const o=i(6278),r=i(7276),n=i(7643)},9528:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyerVariables=t.KeyerFeedbacks=t.KeyerPresets=t.KeyerState=t.KeyerActions=void 0,t.KeyerActions=n(i(1539)),t.KeyerState=n(i(153)),t.KeyerPresets=n(i(1340)),t.KeyerFeedbacks=n(i(8248)),t.KeyerVariables=n(i(893))},1164:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChromaKeyActions=function(e){const t=[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"maskEnable",label:"maskEnable"},{id:"left",label:"left"},{id:"top",label:"top"},{id:"right",label:"right"},{id:"bottom",label:"bottom"},{id:"Size/Position Enable",label:"Size/Position Enable"},{id:"Size",label:"Size"},{id:"XPosition",label:"XPosition"},{id:"YPosition",label:"YPosition"}],minSelection:1,default:["maskEnable","left","top","right","bottom","Size/Position Enable","Size","XPosition","YPosition"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("maskEnable")},{type:"number",label:"Left",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("left")},{type:"number",label:"Right",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("right")},{type:"number",label:"Top",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("top")},{type:"number",label:"Bottom",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("bottom")},{type:"dropdown",label:"Size/Position Enable",id:"sizeEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("Size/Position Enable")},{type:"number",label:"X Position",id:"xPosition",min:-16,max:16,default:10.6,step:.1,range:!0,isVisible:e=>e.props.includes("XPosition")},{type:"number",label:"Y Position",id:"yPosition",min:-9,max:9,default:7,step:.1,range:!0,isVisible:e=>e.props.includes("YPosition")}];return e.state?.device.deviceModel===a.Model.Duet_8ISO?t.push({type:"number",label:"Size",id:"size",min:7,max:100,default:33,isVisible:e=>e.props.includes("Size")}):t.push({type:"dropdown",label:"Size",id:"size",choices:[{id:25,label:"0.25"},{id:33,label:"0.33"},{id:50,label:"0.50"}],default:33,isVisible:e=>e.props.includes("Size")}),{[o.USK.ActionId.ChromaFillSource]:{name:"Key: set Chroma source",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Source Fill",id:"keyFill",choices:e.state?e.state.upStreamKey.ChromaFillSource.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:a.sourceID.IN1}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"keyFill");await e.setChromaFillSource(i,o)}},[o.USK.ActionId.ChromaKeySetMaskProperties]:{name:"Key:set Chroma properties",options:t,callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("maskEnable")){let i=(0,r.getOptNumber)(t,"maskEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Chroma.maskInfo.enabled?0:1),await e.setChromaMaskEnable(o,i)}if(i.includes("left")&&await e.setChromaMaskHStart(o,(0,r.getOptNumber)(t,"maskHStart")),i.includes("right")&&await e.setChromaMaskHEnd(o,(0,r.getOptNumber)(t,"maskHEnd")),i.includes("top")&&await e.setChromaMaskVStart(o,(0,r.getOptNumber)(t,"maskVStart")),i.includes("bottom")&&await e.setChromaMaskVEnd(o,(0,r.getOptNumber)(t,"maskVEnd")),i.includes("Size/Position Enable")){let i=(0,r.getOptNumber)(t,"sizeEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Chroma.size.enable?0:1),await e.setChromaResize(o,i)}i.includes("Size")&&await e.setChromaSize(o,(0,r.getOptNumber)(t,"size")),i.includes("XPosition")&&e.setChromaXPosition(o,(0,r.getOptNumber)(t,"xPosition")),i.includes("YPosition")&&e.setChromaYPosition(o,(0,r.getOptNumber)(t,"yPosition"))}},[o.USK.ActionId.ChromaKeySetControlProperties]:{name:"Key: set Chroma control properties",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"sMPXPosition",label:"SMPXPosition"},{id:"sMPYPosition",label:"SMPYPosition"},{id:"sample",label:"Sample"},{id:"foreground",label:"Foreground"},{id:"background",label:"Background"},{id:"keyEdge",label:"KeyEdge"}],minSelection:1,default:["sMPXPosition","sMPYPosition","sample","foreground","background","keyEdge"]},{type:"number",label:"SMPXPosition",id:"sMPXPosition",min:-16,max:16,default:-14,range:!0,step:.1,isVisible:e=>e.props.includes("sMPXPosition")},{type:"number",label:"SMPYPosition",id:"sMPYPosition",min:-9,max:9,default:-7,range:!0,step:.1,isVisible:e=>e.props.includes("sMPYPosition")},{type:"dropdown",label:"Sample",id:"sample",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("sample")},{type:"number",label:"Foreground",id:"foreground",min:0,max:100,default:0,isVisible:e=>e.props.includes("foreground")},{type:"number",label:"Background",id:"background",min:0,max:100,default:100,isVisible:e=>e.props.includes("background")},{type:"number",label:"KeyEdge",id:"keyEdge",min:0,max:100,default:0,isVisible:e=>e.props.includes("keyEdge")}],callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("sMPXPosition")&&e.setChromaSMPXPosition(o,(0,r.getOptNumber)(t,"sMPXPosition")),i.includes("sMPYPosition")&&e.setChromaSMPYPosition(o,(0,r.getOptNumber)(t,"sMPYPosition")),i.includes("sample")){let i=(0,r.getOptNumber)(t,"sample");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Chroma.control.sample?0:1),await e.setChromaSample(o,i)}i.includes("foreground")&&e.setChromaForeground(o,(0,r.getOptNumber)(t,"foreground")),i.includes("background")&&e.setChromaBackground(o,(0,r.getOptNumber)(t,"background")),i.includes("keyEdge")&&e.setKeyEdge(o,(0,r.getOptNumber)(t,"keyEdge"))}}}};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},6545:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLumaKeyActions=function(e){const t=[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"maskEnable",label:"MaskEnable"},{id:"left",label:"Left"},{id:"top",label:"Top"},{id:"right",label:"Right"},{id:"bottom",label:"Bottom"},{id:"preMultipliedkey",label:"preMultipliedkey"},{id:"clip",label:"Clip"},{id:"gain",label:"Gain"},{id:"invert",label:"Invert"},{id:"sizePositionEnable",label:"SizePositionEnable"},{id:"size",label:"Size"},{id:"xPosition",label:"XPosition"},{id:"yPosition",label:"YPosition"}],minSelection:1,default:["maskEnable","left","top","right","bottom","preMultipliedkey","clip","gain","invert","sizePositionEnable","size","xPosition","yPosition"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("maskEnable")},{type:"number",label:"Left",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("left")},{type:"number",label:"Right",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("right")},{type:"number",label:"Top",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("top")},{type:"number",label:"Bottom",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("bottom")},{type:"dropdown",label:"Pre Multiplied key",id:"preMultipliedkey",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("preMultipliedkey")},{type:"number",label:"Clip",id:"clip",min:0,max:100,default:15,isVisible:e=>e.props.includes("clip")},{type:"number",label:"Gain",id:"gain",min:0,max:100,default:50,isVisible:e=>e.props.includes("gain")},{type:"dropdown",label:"Invert",id:"invert",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("invert")},{type:"dropdown",label:"Size/Position Enable",id:"sizeEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("sizePositionEnable")},{type:"number",label:"X Position",id:"xPosition",min:-16,max:16,default:10.6,step:.1,range:!0,isVisible:e=>e.props.includes("xPosition")},{type:"number",label:"Y Position",id:"yPosition",min:-9,max:9,default:7,step:.1,range:!0,isVisible:e=>e.props.includes("yPosition")}];return e.state?.device.deviceModel===a.Model.Duet_8ISO?t.push({type:"number",label:"Size",id:"size",min:7,max:100,default:33,range:!0,step:1,isVisible:e=>e.props.includes("size")}):t.push({type:"dropdown",label:"Size",id:"size",choices:[{id:25,label:"0.25"},{id:33,label:"0.33"},{id:50,label:"0.50"}],default:33,isVisible:e=>e.props.includes("size")}),{[o.USK.ActionId.LumaKeySourceProperties]:{name:"Key:Set Luma Source",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Fill Source",id:"fillSource",choices:e.state?e.state.upStreamKey.LumaFillSources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:0},{type:"dropdown",label:"Key Source",id:"KeySource",choices:e.state?e.state.upStreamKey.LumaKeySources.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:0}],callback:async t=>{const i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"fillSource"),n=(0,r.getOptNumber)(t,"KeySource");await e.setLumaFillSource(i,o),await e.setLumaKeySource(i,n)}},[o.USK.ActionId.LumaKeySetProperties]:{name:"Key: set Luma properties",options:t,callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("maskEnable")){let i=(0,r.getOptNumber)(t,"maskEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Luma.maskInfo.enabled?0:1),await e.setLumaMaskEnable(o,i)}if(i.includes("left")&&await e.setLumaMaskHStart(o,(0,r.getOptNumber)(t,"maskHStart")),i.includes("right")&&await e.setLumaMaskHEnd(o,(0,r.getOptNumber)(t,"maskHEnd")),i.includes("top")&&await e.setLumaMaskVStart(o,(0,r.getOptNumber)(t,"maskVStart")),i.includes("bottom")&&await e.setLumaMaskVEnd(o,(0,r.getOptNumber)(t,"maskVEnd")),i.includes("preMultipliedkey")){let i=(0,r.getOptNumber)(t,"preMultipliedkey");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Luma.keyControl.lumaPreMultipliedKey?0:1),await e.setLumaPreMultipliedKey(o,i)}if(i.includes("clip")&&await e.setLumaClip(o,(0,r.getOptNumber)(t,"clip")),i.includes("gain")&&await e.setLumaGain(o,(0,r.getOptNumber)(t,"gain")),i.includes("invert")){let i=(0,r.getOptNumber)(t,"invert");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Luma.keyControl.invert?0:1),await e.setLumaInvert(o,i)}if(i.includes("sizePositionEnable")){let i=(0,r.getOptNumber)(t,"sizeEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Luma.size.enable?0:1),await e.setLumaResize(o,i)}i.includes("size")&&await e.setLumaSize(o,(0,r.getOptNumber)(t,"size")),i.includes("xPosition")&&await e.setLumaXPosition(o,(0,r.getOptNumber)(t,"xPosition")),i.includes("yPosition")&&await e.setLumaYPosition(o,(0,r.getOptNumber)(t,"yPosition"))}}}};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},5800:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPatternKeyActions=function(e){const t=[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"wipeSize",label:"WipeSize"},{id:"maskEnable",label:"MaskEnable"},{id:"left",label:"Left"},{id:"top",label:"Top"},{id:"right",label:"Right"},{id:"bottom",label:"Bottom"},{id:"sizePositionEnable",label:"SizePositionEnable"},{id:"size",label:"Size"},{id:"xPosition",label:"XPosition"},{id:"yPosition",label:"YPosition"}],minSelection:1,default:["wipeSize","maskEnable","left","top","right","bottom","sizePositionEnable","size","xPosition","yPosition"]},{type:"number",label:"WipeSize",id:"wipeSize",min:0,max:100,default:50,isVisible:e=>e.props.includes("wipeSize")},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("maskEnable")},{type:"number",label:"Left",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("left")},{type:"number",label:"Right",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("right")},{type:"number",label:"Top",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("top")},{type:"number",label:"Bottom",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("bottom")},{type:"dropdown",label:"Size/Position Enable",id:"sizeEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("sizePositionEnable")},{type:"number",label:"X Position",id:"xPosition",min:-16,max:16,default:10.6,step:.1,range:!0,isVisible:e=>e.props.includes("xPosition")},{type:"number",label:"Y Position",id:"yPosition",min:-9,max:9,default:7,step:.1,range:!0,isVisible:e=>e.props.includes("yPosition")}];return e.state?.device.deviceModel===a.Model.Duet_8ISO?t.push({type:"number",label:"Size",id:"size",min:7,max:100,default:33,range:!0,step:1,isVisible:e=>e.props.includes("size")}):t.push({type:"dropdown",label:"Size",id:"size",choices:[{id:25,label:"0.25"},{id:33,label:"0.33"},{id:50,label:"0.50"}],default:33,isVisible:e=>e.props.includes("size")}),{[o.USK.ActionId.PatternFillSource]:{name:"Key: set Pattern source",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Source Fill",id:"keyFill",choices:e.state?e.state.upStreamKey.PatternFillSource.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"keyFill");await e.setPatternFillSource(i,o)}},[o.USK.ActionId.PatternKeySetMaskProperties]:{name:"Key: Set pattern properties",options:t,callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("wipeSize")&&await e.setPatternWipeSize(o,(0,r.getOptNumber)(t,"wipeSize")),i.includes("maskEnable")){let i=(0,r.getOptNumber)(t,"maskEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Pattern.maskInfo.enabled?0:1),await e.setPatternMaskEnable(o,i)}if(i.includes("left")&&await e.setPatternMaskHStart(o,(0,r.getOptNumber)(t,"maskHStart")),i.includes("right")&&await e.setPatternMaskHEnd(o,(0,r.getOptNumber)(t,"maskHEnd")),i.includes("top")&&await e.setPatternMaskVStart(o,(0,r.getOptNumber)(t,"maskVStart")),i.includes("bottom")&&await e.setPatternMaskVEnd(o,(0,r.getOptNumber)(t,"maskVEnd")),i.includes("sizePositionEnable")){let i=(0,r.getOptNumber)(t,"sizeEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.Pattern.size.enable?0:1),await e.setPatternResize(o,i)}i.includes("size")&&await e.setPatternSize(o,(0,r.getOptNumber)(t,"size")),i.includes("xPosition")&&await e.setPatternXPosition(o,(0,r.getOptNumber)(t,"xPosition")),i.includes("yPosition")&&await e.setPatternYPosition(o,(0,r.getOptNumber)(t,"yPosition"))}}}};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},989:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPipActions=function(e){const t=[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"pipSize",label:"pipSize"},{id:"pipXPosition",label:"PipXPosition"},{id:"pipYPosition",label:"pipYPosition"},{id:"maskEnable",label:"MaskEnable"},{id:"left",label:"Left"},{id:"top",label:"Top"},{id:"right",label:"Right"},{id:"bottom",label:"Bottom"},{id:"borderEnable",label:"BorderEnable"},{id:"borderWidth",label:"BorderWidth"},{id:"borderHue",label:"BorderHue"},{id:"borderSaturation",label:"BorderSaturation"},{id:"borderBrightness",label:"BorderBrightness"}],minSelection:1,default:["pipXPosition","pipYPosition","pipSize","maskEnable","left","top","right","bottom","borderEnable","borderWidth","borderHue","borderSaturation","borderBrightness"]},{type:"number",label:"XPosition",id:"pipXPosition",min:-16,max:16,range:!0,step:.1,default:0,isVisible:e=>e.props.includes("pipXPosition")},{type:"number",label:"YPosition",id:"pipYPosition",min:e.state?.device.deviceModel===a.Model.Duet_8ISO?-16:-9,max:e.state?.device.deviceModel===a.Model.Duet_8ISO?16:9,range:!0,step:.1,default:0,isVisible:e=>e.props.includes("pipYPosition")},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("maskEnable")},{type:"number",label:"Left",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("left")},{type:"number",label:"Right",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("right")},{type:"number",label:"Top",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("top")},{type:"number",label:"Bottom",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("bottom")},{type:"dropdown",label:"Border Enable",id:"borderEnable",choices:n.KeySwitchChoices,default:0,isVisible:e=>e.props.includes("borderEnable")},{type:"number",label:"Border Width",id:"borderWidth",min:0,max:31,default:0,isVisible:e=>e.props.includes("borderWidth")},{type:"number",label:"Border Hue",id:"borderHue",min:0,max:359,default:0,isVisible:e=>e.props.includes("borderHue")},{type:"number",label:"Border Saturation",id:"borderSaturation",min:0,max:100,default:0,isVisible:e=>e.props.includes("borderSaturation")},{type:"number",label:"Border Brightness",id:"borderBrightness",min:0,max:100,default:0,isVisible:e=>e.props.includes("borderBrightness")}];return e.state?.device.deviceModel===a.Model.Duet_8ISO?t.push({type:"number",label:"PipSize",id:"pipSize",min:7,max:100,range:!0,step:1,default:50,isVisible:e=>e.props.includes("pipSize")}):t.push({type:"dropdown",label:"PipSize",id:"pipSize",choices:[{id:25,label:"0.25"},{id:33,label:"0.33"},{id:50,label:"0.50"}],default:33,isVisible:e=>e.props.includes("pipSize")}),{[o.USK.ActionId.PipFillSource]:{name:"Key: set PIP source",options:[{type:"dropdown",label:"Key",id:"keyId",choices:(0,n.GetKeyChoices)(e.state),default:0},{type:"dropdown",label:"Source Fill",id:"keyFill",choices:e.state?e.state.upStreamKey.PipFileSource.map((e=>({id:e,label:String((0,r.getEnumKeyByValue)(a.sourceID,e))}))):[],default:0}],callback:async t=>{let i=(0,r.getOptNumber)(t,"keyId"),o=(0,r.getOptNumber)(t,"keyFill");await e.setPipFillSource(i,o)}},[o.USK.ActionId.PipKeySetMaskProperties]:{name:"Key: Set Pip properties",options:t,callback:async t=>{const i=t.options.props,o=(0,r.getOptNumber)(t,"keyId");if(i.includes("pipSize")&&await e.setPipSize(o,(0,r.getOptNumber)(t,"pipSize")),i.includes("pipXPosition")&&await e.setPipXPosition(o,(0,r.getOptNumber)(t,"pipXPosition")),i.includes("pipYPosition")&&await e.setPipYPosition(o,(0,r.getOptNumber)(t,"pipYPosition")),i.includes("maskEnable")){let i=(0,r.getOptNumber)(t,"maskEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.pip.maskInfo.enabled?0:1),await e.setPipMaskEnable(o,i)}if(i.includes("left")&&await e.setPipMaskHStart(o,(0,r.getOptNumber)(t,"maskHStart")),i.includes("right")&&await e.setPipMaskHEnd(o,(0,r.getOptNumber)(t,"maskHEnd")),i.includes("top")&&await e.setPipMaskVStart(o,(0,r.getOptNumber)(t,"maskVStart")),i.includes("bottom")&&await e.setPipMaskVEnd(o,(0,r.getOptNumber)(t,"maskVEnd")),i.includes("borderEnable")){let i=(0,r.getOptNumber)(t,"borderEnable");2===i&&(i=e.state?.upStreamKey.USKS[o]?.pip.border.enable?0:1),await e.setPipBorderEnable(o,i)}i.includes("borderWidth")&&await e.setPipBorderWidth(o,(0,r.getOptNumber)(t,"borderWidth")),i.includes("borderHue")&&await e.setPipBorderColorHue(o,(0,r.getOptNumber)(t,"borderHue")),i.includes("borderSaturation")&&await e.setPipBorderColorSaturation(o,(0,r.getOptNumber)(t,"borderSaturation")),i.includes("borderBrightness")&&await e.setPipBorderColorBrightness(o,(0,r.getOptNumber)(t,"borderBrightness"))}}}};const o=i(1804),r=i(3472),n=i(7643),a=i(7574)},1340:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},i=(0,a.GetKeyChoices)(e.state);for(let e=0;e<i.length;e++)t[`KeyEnable_${i[e].id}`]={category:"Key",name:`Set ${i[e].label} Enable`,type:"button",style:{text:`${i[e].label} Enable`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeyEnable,options:{keyId:i[e].id,enable:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:o.USK.ActionId.KeyEnable,options:{keyId:i[e].id,enable:2}}],up:[]}]};for(let e=0;e<i.length;e++)t[`KeyOnAir_${i[e].id}`]={category:"Key",name:`Set ${i[e].label} On Air`,type:"button",style:{text:`${i[e].label} On Air`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeyOnAir,options:{keyId:i[e].id,enable:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:o.USK.ActionId.KeyOnAir,options:{keyId:i[e].id,onAir:2}}],up:[]}]};const c=a.KeyTypeChoices;for(let e=0;e<i.length;e++)for(let a=0;a<c.length;a++)t[`KeyType_${i[e].id}_${c[a].id}`]={category:"Key",name:`Set ${i[e].label} Type`,type:"button",style:{text:`Set ${i[e].label} ${c[a].label}`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeyType,options:{keyId:i[e].id,type:c[a].id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:o.USK.ActionId.KeyType,options:{keyId:i[e].id,type:c[a].id}}],up:[]}]};return t};const o=i(1804),r=i(7276),n=i(6278),a=i(7643),s="18"},153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3239:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.KeyTypeVar="key_type",e.KeyTypeVar_short="key_type_short",e.PIPFillSource="key_PiP_Fill_Src",e.LumaFillSource="key_Luma_Fill_Src",e.ChromaFillSource="key_Chroma_Fill_Src",e.PatternFillSource="key_Pattern_Fill_Src",e.USKFillSource="key_Fill_Src",e.PIPSize="key_PiP_Size"}(i||(t.VariableId=i={}))},893:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Current (USK) Key Type",variableId:o.VariableId.KeyTypeVar},{name:"Current (USK) Key Type abbrev.",variableId:o.VariableId.KeyTypeVar_short},{name:"PiP Source",variableId:o.VariableId.PIPFillSource},{name:"Luma key fill Source",variableId:o.VariableId.LumaFillSource},{name:"Chroma key Source",variableId:o.VariableId.ChromaFillSource},{name:"Pattern Source",variableId:o.VariableId.PatternFillSource},{name:"Current (USK) Key Fill Source",variableId:o.VariableId.USKFillSource},{name:"PiP Size",variableId:o.VariableId.PIPSize}]},t.getValues=function(e){return{}};const o=i(3239)},7643:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSourceStyleChoices=t.MultiSourceEnableChoices=t.AudioSourcesEnableChoices=t.AudioMixAFVChoices=t.AudioMixSwichEnableChoices=t.AudioMixSwitchTypeChoices=t.AudioMixHeadphoneChoices=t.ColorSourceChoices=t.DSKSwitchChoices=t.KeyTypeChoices=t.KeySwitchChoices=t.MixEfectSwitchChoices=t.WipeDirectionChoices=t.TransitionStyleChoice=t.PriorityChoice=t.PeriodChoice=t.AutoSwitchingChoices=t.MediaTypeChoice=t.PlayBackEnableChoices=t.StreamQualityChoices=t.StreamingEnableChoices=t.WindowLayoutChoices=t.SettingEnableChoices=void 0,t.StreamingOptionChoices=function(e){const t=e?e.device.streamCount:0,i=[];for(let e=0;e<t;e++)i.push({id:e,label:`Stream${e+1}`});return i},t.GetPlayerSourceChoices=function(e){let t=e?e.device.playCount:0;const i=[];for(let e=0;e<t;e++)i.push({id:e,label:`Player${e+1}`});return i},t.getChoicesByMacro=function(){const e=[];for(let t=0;t<100;t++)e.push({id:t,label:"Macro"+(t+1).toString()});return e},t.GetKeyChoices=function(e){const t=e?e.device.keyCount:0,i=[];for(let e=0;e<t;e++)i.push({id:e,label:`Key${e+1}`});return i},t.GetDSKChoices=function(e){const t=e?e?.device.dskCount:0,i=[];for(let e=0;e<t;e++)i.push({id:e,label:`DSK${e+1}`});return i},t.GetMultiSourceWindowChoices=function(e){const t=e?e.device.multiSourceWindowCount:0,i=[];for(let e=0;e<t;e++)i.push({id:e,label:`window${e+1}`});return i};const o=i(7574),r=[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Toggle"}];t.SettingEnableChoices=[...r],t.WindowLayoutChoices=[{id:0,label:"Style 1"},{id:1,label:"Style 2"}],t.StreamingEnableChoices=[...r],t.StreamQualityChoices=[{id:0,label:"low"},{id:1,label:"medium"},{id:2,label:"height"},{id:3,label:"user defined"}],t.PlayBackEnableChoices=[...r],t.MediaTypeChoice=[{id:0,label:"Strill"},{id:1,label:"Browser"}],t.AutoSwitchingChoices={...r},t.PeriodChoice=[{id:0,label:"Fast"},{id:1,label:"Normal"},{id:2,label:"Slow"}],t.PriorityChoice=[{id:0,label:"Low"},{id:1,label:"Balance"},{id:2,label:"Hight"}],t.TransitionStyleChoice=[{id:o.EffectStyle.Mix,label:"MIX"},{id:o.EffectStyle.Dip,label:"DIP"},{id:o.EffectStyle.Wipe,label:"WIPE"}],t.WipeDirectionChoices=[{id:0,label:"Normal"},{id:1,label:"Inverse"}],t.MixEfectSwitchChoices={...r},t.KeySwitchChoices=[...r],t.KeyTypeChoices=[{id:0,label:"Luma Key"},{id:1,label:"Chroma Key"},{id:2,label:"Pattern"},{id:3,label:"PIP"}],t.DSKSwitchChoices=[...r],t.ColorSourceChoices=[{id:0,label:"Color1"},{id:1,label:"Color2"}],t.AudioMixHeadphoneChoices=[{id:2301,label:"Headphone"}],t.AudioMixSwitchTypeChoices=[{id:0,label:"Hard Cut"},{id:1,label:"Switch with effect"}],t.AudioMixSwichEnableChoices={...r},t.AudioMixAFVChoices=[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Afv"}],t.AudioSourcesEnableChoices=[{id:0,label:"off"},{id:1,label:"on"}],t.MultiSourceEnableChoices={...r},t.MultiSourceStyleChoices=[{id:0,label:"zoomOut"},{id:1,label:"cropZoomOut"},{id:2,label:"zoomOutCrop"},{id:3,label:"crop"},{id:4,label:"CropZoomOut2_3"},{id:5,label:"ZoomOutCrop2_3"}]},7930:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecAuto=void 0;const o=i(7574),r=i(6996);class n extends r.StreamModelSpec{constructor(){super(),this.id=o.Model.Unknown,this.label="Auto Detect"}}t.ModelSpecAuto=n},3868:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecDeck=void 0;const o=i(7574),r=i(6996);class n extends r.StreamModelSpec{constructor(){super(),this.id=o.Model.Deck,this.label="Deck"}}t.ModelSpecDeck=n},8991:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecDuet=void 0;const o=i(7574),r=i(6996);class n extends r.StreamModelSpec{constructor(){super(),this.id=o.Model.Duet_SDI,this.label="Duet_SDI"}}t.ModelSpecDuet=n},7235:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecDuet8ISO=void 0;const o=i(7574),r=i(6996);class n extends r.StreamModelSpec{constructor(){super(),this.id=o.Model.Duet_8ISO,this.label="Duet_8_ISO",this.audioMix.effectEnable=!0}}t.ModelSpecDuet8ISO=n},2317:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_MODEL_CHOICES=t.ALL_MODELS=void 0,t.GetModelSpec=function(e){return t.ALL_MODELS.find((t=>t.id===e))},t.GetAutoDetectModel=function(){return t.ALL_MODELS[0]};const o=i(7930),r=i(7235),n=i(3868),a=i(8991);t.ALL_MODELS=[new o.ModelSpecAuto,new r.ModelSpecDuet8ISO,new n.ModelSpecDeck,new a.ModelSpecDuet],t.ALL_MODEL_CHOICES=t.ALL_MODELS.map((({id:e,label:t})=>({id:e,label:t})))},6996:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamModelSpec=void 0;const o=i(7574);t.StreamModelSpec=class{id;label;multiSourceWindowCount;macros;media;recording;recordISO;audioMix;audioSwitching;constructor(){this.id=o.Model.Unknown,this.label="",this.multiSourceWindowCount=1,this.macros=100,this.media={players:1,stills:31},this.recording=!0,this.recordISO=!1,this.audioMix={effectEnable:!1,micTypeEnable:!1},this.audioSwitching={audioCount:2}}}},6450:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presets=function(e){return{...n.AudioMixerPresets.create(e.deck),...b.AutoSwitchingPresets.create(e.deck),...o.MixEffectPresets.create(e.deck),...r.StreamingPresets.create(e.deck),...u.PlaybackPresets.create(e.deck),...d.RecordPresets.create(e.deck),...c.MultiSourcePresets.create(e.deck),...a.DownstreamKeyerPresets.create(e.deck),...s.MacroPresets.create(e.deck),...l.KeyerPresets.create(e.deck),...p.MutiViewPresets.create(e.deck)}};const o=i(1956),r=i(8427),n=i(4718),a=i(7467),s=i(8627),c=i(5127),u=i(208),d=i(4160),l=i(9528),p=i(3466),b=i(3842)},2398:function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UpgradeScriptList=void 0,t.ModuleUpgrader=p;const a=i(6278),s=n(i(8619)),c=n(i(3199)),u=i(3069),d=i(673),l=()=>!1;function p(e=l,t=l,i=l){return(o,r)=>({updatedActions:r.actions.filter(e),updatedConfig:i(r.config)?r.config:null,updatedFeedbacks:r.feedbacks.filter(t)})}t.UpgradeScriptList=[a.EmptyUpgradeScript,c.getScripts,s.getScripts,p(u.tryUpdateNTAction,u.tryUpdateNTFeedback),c.getScripts,p(d.upgradeActionToV1_5,d.upgradeFeedbackToV1_5)]},673:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeActionToV1_5=function(e){const{actionId:t,options:a}=e;let s;switch(t){case i.UpStreamKeyType.toString():if(s=e.options.USKType,Number.isInteger(s))return e.options.USKType=r[s],!0;break;case i.PipSize.toString():if(s=e.options.PipSize,Number.isInteger(s)&&s<=2)return e.options.PipSize=o[s],!0;break;case i.PipXPosition.toString():case i.PipYPosition.toString():if(!("operation"in a))return e.options.operation=0,!0;break;case i.RecordQuality.toString():if(s=Number(e.options.Quality),!Number.isNaN(s))return e.options.Quality=n[s],!0;break;default:return!1}return!1},t.upgradeFeedbackToV1_5=function(e){const{feedbackId:t}=e;let o;switch(t){case i.UpStreamKeyType.toString():if(o=e.options.USKType,Number.isInteger(o))return e.options.USKType=r[o],!0;break;case i.PipSize.toString():case i.PipXPosition.toString():case i.PipYPosition.toString():case i.RecordQuality.toString():break;default:return!1}return!1},function(e){e.UpStreamKeyType="upStreamKeyType",e.PipSize="pipSize",e.PipXPosition="pipXPosition",e.PipYPosition="pipYPosition",e.RecordQuality="recordQuality"}(i||(i={}));const o=[.25,.33,.5],r=["Luma Key","Chroma Key","Key Pattern","PIP"],n=["high","good","medium","low"]},3069:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryUpdateNTAction=function(e){const{actionId:t,options:i}=e,o=[2,0,0,0,3,4];let n;switch(t){case"transitionSource":return!!Object.keys(i).includes("KeySwitch")&&(n=r[String(i.KeySwitch)],e.options={KeyButton:n,ButtonAction:1,BKGDAction:1},!0);case"transitionSourceBG":return e.options={KeyButton:"BKGD",ButtonAction:0,BKGDAction:i.Background?1:0},!0;case"uskOnPreview":return e.options={KeyButton:"KEY",ButtonAction:o[Number(i.USKPvwState)],BKGDAction:1},!0;case"keyOnAir":return e.options={KeyButton:"KEY",ButtonAction:i.KeyOnAir},!0;case"dskOnAir":return e.options={KeyButton:"DSK",ButtonAction:i.DSKOnAir},!0;default:return!1}},t.tryUpdateNTFeedback=function(e){const{feedbackId:t,options:i}=e;switch(t){case"transitionSource":return!!Object.keys(i).includes("KeyTied")&&(e.feedbackId=o.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:i.KeyTied},!0);case"transitionSelection":return e.feedbackId=o.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:0},!0;case"transitionKeySwitch":return e.feedbackId=o.FeedbackId.KeysVisibility,e.options={KeyButton:r[String(i.KeySwitch)],LayerState:0},!0;case"keyOnAir":return e.feedbackId=o.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:2},e.isInverted=0==i.KeyOnAir,!0;case"dskOnAir":return e.feedbackId=o.FeedbackId.KeysVisibility,e.options={KeyButton:"DSK",LayerState:2},e.isInverted=0==i.DSKOnAir,!0;case"keyOnPvw":return e.feedbackId=o.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:3},e.isInverted=0==i.KeyOnAir,!0;default:return!1}};const o=i(5840),r={0:"KEY",1:"DSK",2:"BKGD"}},8619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScripts=function(e,t){const o={updatedActions:[],updatedConfig:null,updatedFeedbacks:[]},r=t.actions;for(const e of r)if(i.includes(e.actionId)){const t=e.actionId,i={SuperSourceMask:e.options.SuperSourceMask,props:[]},r=[];"superSourceMaskEnable"===t&&(r.push("enable"),i.SuperSourceMaskEnable=e.options.SuperSourceMaskEnable),"superSourceMaskHStart"===t&&(r.push("hMaskStart"),i.SuperSourceMaskHStart=e.options.SuperSourceMaskHStart),"superSourceMaskHEnd"===t&&(r.push("hMaskEnd"),i.SuperSourceMaskHEnd=e.options.SuperSourceMaskHEnd),"superSourceMaskVStart"===t&&(r.push("vMaskStart"),i.SuperSourceMaskVStart=e.options.SuperSourceMaskVStart),"superSourceMaskVEnd"===t&&(r.push("vMaskEnd"),i.SuperSourceMaskVEnd=e.options.SuperSourceMaskVEnd),e.actionId="superSourceSetMaskProperties",e.options=i,e.options.props=r,o.updatedActions.push(e)}return o};const i=["superSourceMaskEnable","superSourceMaskHStart","superSourceMaskVStart","superSourceMaskHEnd","superSourceMaskVEnd"]},3199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScripts=function(e,t){const o={updatedActions:[],updatedConfig:null,updatedFeedbacks:[]},r=t.actions;for(const e of r)if("keyPatternWipeXPosition"===e.actionId){const t={id:e.id,controlId:e.controlId,actionId:e.actionId,options:{operation:0,KeyPatternWipeXPosition:e.options.KeyPatternWipeXPosition}};o.updatedActions.push(t)}else if("keyPatternWipeYPosition"===e.actionId){const t={id:e.id,controlId:e.controlId,actionId:e.actionId,options:{operation:0,KeyPatternWipeYPosition:e.options.KeyPatternWipeYPosition}};o.updatedActions.push(t)}else if("quality"===e.actionId){const t={id:e.id,controlId:e.controlId,actionId:0===e.options.TypeID?"recordQuality":"streamQuality",options:{Quality:e.options.Quality}};o.updatedActions.push(t)}else if(i.includes(e.actionId)){const t=String(e.actionId[0]).toUpperCase()+String(e.actionId).slice(1),i={props:[]},r=[];if(t.endsWith("MaskEnable")&&(r.push("enable"),i.maskEnable=e.options[t]),t.endsWith("MaskHStart")){r.push("hMaskStart");let o=e.options[t];"DskMaskHStart"==t&&(o=e.options.HStart),i.maskHStart=o}if(t.endsWith("MaskHEnd")){r.push("hMaskEnd");let o=e.options[t];"DskMaskHEnd"==t&&(o=e.options.HEnd),i.maskHEnd=o}if(t.endsWith("MaskVStart")){r.push("vMaskStart");let o=e.options[t];"DskMaskVStart"==t&&(o=e.options.VStart),i.maskVStart=o}if(t.endsWith("MaskVEnd")){r.push("vMaskEnd");let o=e.options[t];"DskMaskVEnd"==t&&(o=e.options.VEnd),i.maskVEnd=o}const n=e.actionId.substring(0,e.actionId.indexOf("Mask"));e.actionId=n+"SetMaskProperties",e.options=i,e.options.props=r,o.updatedActions.push(e)}const n=t.feedbacks;for(const e of n)"dskMaskEnable"===e.feedbackId?e.options.maskEnabled||(e.isInverted=!0):"dskControlShapedKey"===e.feedbackId&&(e.options.skeyEnabled||(e.isInverted=!0)),o.updatedFeedbacks.push(e);return o};const i=["pipMaskEnable","pipMaskHStart","pipMaskVStart","pipMaskHEnd","pipMaskVEnd","chromaKeyMaskEnable","chromaKeyMaskHStart","chromaKeyMaskVStart","chromaKeyMaskHEnd","chromaKeyMaskVEnd","lumaKeyMaskEnable","lumaKeyMaskHStart","lumaKeyMaskVStart","lumaKeyMaskHEnd","lumaKeyMaskVEnd","keyPatternMaskEnable","keyPatternMaskHStart","keyPatternMaskVStart","keyPatternMaskHEnd","keyPatternMaskVEnd","dskMaskEnable","dskMaskHStart","dskMaskVStart","dskMaskHEnd","dskMaskVEnd"]},3472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptNumber=function(e,t,i){const o=e.options[t];if(void 0!==i&&void 0===o)return i;const r=Number(o);if(isNaN(r))throw new Error(`Invalid option '${t}'`);return r},t.getOptString=function(e,t,i){const o=e.options[t];if(void 0!==i&&void 0===o)return i;const r=String(o);if("string"!=typeof r)throw new Error(`Invalid option '${t}'`);return r},t.Range=function(e){return[...Array(e).keys()]},t.makeChoices=function(e){return{choices:e.map((e=>({id:e,label:String(e)}))),default:e[0]}},t.getEnumKeyByValue=function(e,t){for(const i in e)if(e[i]===t)return i;return""}},3911:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variables=function(e){const t=[...o.AudioMixerVariables.create(e.deck.state),...r.MixEffectVariables.create(e.deck.state),...n.PlaybackVariables.create(e.deck.state),...a.RecordVariables.create(e.deck.state),...s.StreamingVariables.create(e.deck.state),...c.MutiViewVariables.create(e.deck.state),...u.MultiSourceVariables.create(e.deck.state),...d.KeyerVariables.create(e.deck.state)];return t.push({name:"IP address of GoStreamDeck",variableId:"device_ip"}),t},t.updateVariables=function(e){const t={...o.AudioMixerVariables.getValues(e.deck.state),...r.MixEffectVariables.getValues(e.deck.state),...n.PlaybackVariables.getValues(e.deck.state),...a.RecordVariables.getValues(e.deck.state),...s.StreamingVariables.getValues(e.deck.state),...c.MutiViewVariables.getValues(e.deck.state),...u.MultiSourceVariables.getValues(e.deck.state),...d.KeyerVariables.getValues(e.deck.state)};e.setVariableValues(t)};const o=i(4718),r=i(1956),n=i(208),a=i(4160),s=i(8427),c=i(3466),u=i(5127),d=i(9528)},7169:(e,t,i)=>{"use strict";const o=i(2017);o.code='require("ajv/dist/runtime/equal").default',t.A=o},3693:e=>{"use strict";var t=Object.prototype.hasOwnProperty,i="~";function o(){}function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function n(e,t,o,n,a){if("function"!=typeof o)throw new TypeError("The listener must be a function");var s=new r(o,n||e,a),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,o,r=[];if(0===this._eventsCount)return r;for(o in e=this._events)t.call(e,o)&&r.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=i?i+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,n=o.length,a=new Array(n);r<n;r++)a[r]=o[r].fn;return a},s.prototype.listenerCount=function(e){var t=i?i+e:e,o=this._events[t];return o?o.fn?1:o.length:0},s.prototype.emit=function(e,t,o,r,n,a){var s=i?i+e:e;if(!this._events[s])return!1;var c,u,d=this._events[s],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,o),!0;case 4:return d.fn.call(d.context,t,o,r),!0;case 5:return d.fn.call(d.context,t,o,r,n),!0;case 6:return d.fn.call(d.context,t,o,r,n,a),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var p,b=d.length;for(u=0;u<b;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),l){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,o);break;case 4:d[u].fn.call(d[u].context,t,o,r);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[u].fn.apply(d[u].context,c)}}return!0},s.prototype.on=function(e,t,i){return n(this,e,t,i,!1)},s.prototype.once=function(e,t,i){return n(this,e,t,i,!0)},s.prototype.removeListener=function(e,t,o,r){var n=i?i+e:e;if(!this._events[n])return this;if(!t)return a(this,n),this;var s=this._events[n];if(s.fn)s.fn!==t||r&&!s.once||o&&s.context!==o||a(this,n);else{for(var c=0,u=[],d=s.length;c<d;c++)(s[c].fn!==t||r&&!s[c].once||o&&s[c].context!==o)&&u.push(s[c]);u.length?this._events[n]=1===u.length?u[0]:u:a(this,n)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,e.exports=s},6284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i={grad:.9,turn:360,rad:360/(2*Math.PI)},o=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},r=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=Math.pow(10,t)),Math.round(i*e)/i+0},n=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=1),e>i?i:e>t?e:t},a=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},s=function(e){return{r:n(e.r,0,255),g:n(e.g,0,255),b:n(e.b,0,255),a:n(e.a)}},c=function(e){return{r:r(e.r),g:r(e.g),b:r(e.b),a:r(e.a,3)}},u=/^#([0-9a-f]{3,8})$/i,d=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},l=function(e){var t=e.r,i=e.g,o=e.b,r=e.a,n=Math.max(t,i,o),a=n-Math.min(t,i,o),s=a?n===t?(i-o)/a:n===i?2+(o-t)/a:4+(t-i)/a:0;return{h:60*(s<0?s+6:s),s:n?a/n*100:0,v:n/255*100,a:r}},p=function(e){var t=e.h,i=e.s,o=e.v,r=e.a;t=t/360*6,i/=100,o/=100;var n=Math.floor(t),a=o*(1-i),s=o*(1-(t-n)*i),c=o*(1-(1-t+n)*i),u=n%6;return{r:255*[o,s,a,a,c,o][u],g:255*[c,o,o,s,a,a][u],b:255*[a,a,c,o,o,s][u],a:r}},b=function(e){return{h:a(e.h),s:n(e.s,0,100),l:n(e.l,0,100),a:n(e.a)}},m=function(e){return{h:r(e.h),s:r(e.s),l:r(e.l),a:r(e.a,3)}},y=function(e){return p((i=(t=e).s,{h:t.h,s:(i*=((o=t.l)<50?o:100-o)/100)>0?2*i/(o+i)*100:0,v:o+i,a:t.a}));var t,i,o},f=function(e){return{h:(t=l(e)).h,s:(r=(200-(i=t.s))*(o=t.v)/100)>0&&r<200?i*o/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,i,o,r},h=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k={string:[[function(e){var t=u.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?r(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?r(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=g.exec(e)||I.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:s({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=h.exec(e)||S.exec(e);if(!t)return null;var o,r,n=b({h:(o=t[1],r=t[2],void 0===r&&(r="deg"),Number(o)*(i[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return y(n)},"hsl"]],object:[[function(e){var t=e.r,i=e.g,r=e.b,n=e.a,a=void 0===n?1:n;return o(t)&&o(i)&&o(r)?s({r:Number(t),g:Number(i),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,i=e.s,r=e.l,n=e.a,a=void 0===n?1:n;if(!o(t)||!o(i)||!o(r))return null;var s=b({h:Number(t),s:Number(i),l:Number(r),a:Number(a)});return y(s)},"hsl"],[function(e){var t=e.h,i=e.s,r=e.v,s=e.a,c=void 0===s?1:s;if(!o(t)||!o(i)||!o(r))return null;var u=function(e){return{h:a(e.h),s:n(e.s,0,100),v:n(e.v,0,100),a:n(e.a)}}({h:Number(t),s:Number(i),v:Number(r),a:Number(c)});return p(u)},"hsv"]]},v=function(e,t){for(var i=0;i<t.length;i++){var o=t[i][0](e);if(o)return[o,t[i][1]]}return[null,void 0]},w=function(e){return"string"==typeof e?v(e.trim(),k.string):"object"==typeof e&&null!==e?v(e,k.object):[null,void 0]},M=function(e,t){var i=f(e);return{h:i.h,s:n(i.s+100*t,0,100),l:i.l,a:i.a}},P=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},A=function(e,t){var i=f(e);return{h:i.h,s:i.s,l:n(i.l+100*t,0,100),a:i.a}},_=function(){function e(e){this.parsed=w(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return r(P(this.rgba),2)},e.prototype.isDark=function(){return P(this.rgba)<.5},e.prototype.isLight=function(){return P(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,i=e.g,o=e.b,a=(n=e.a)<1?d(r(255*n)):"","#"+d(t)+d(i)+d(o)+a;var e,t,i,o,n,a},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,i=e.g,o=e.b,(r=e.a)<1?"rgba("+t+", "+i+", "+o+", "+r+")":"rgb("+t+", "+i+", "+o+")";var e,t,i,o,r},e.prototype.toHsl=function(){return m(f(this.rgba))},e.prototype.toHslString=function(){return t=(e=m(f(this.rgba))).h,i=e.s,o=e.l,(r=e.a)<1?"hsla("+t+", "+i+"%, "+o+"%, "+r+")":"hsl("+t+", "+i+"%, "+o+"%)";var e,t,i,o,r},e.prototype.toHsv=function(){return e=l(this.rgba),{h:r(e.h),s:r(e.s),v:r(e.v),a:r(e.a,3)};var e},e.prototype.invert=function(){return O({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),O(M(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),O(M(this.rgba,-e))},e.prototype.grayscale=function(){return O(M(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),O(A(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),O(A(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?O({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):r(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=f(this.rgba);return"number"==typeof e?O({h:e,s:t.s,l:t.l,a:t.a}):r(t.h)},e.prototype.isEqual=function(e){return this.toHex()===O(e).toHex()},e}(),O=function(e){return e instanceof _?e:new _(e)},C=[];t.Colord=_,t.colord=O,t.extend=function(e){e.forEach((function(e){C.indexOf(e)<0&&(e(_,k),C.push(e))}))},t.getFormat=function(e){return w(e)[1]},t.random=function(){return new _({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},6022:e=>{!function(){"use strict";var t=[,function(e,t){function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===o(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var r=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=r,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var o,r,n=(r=2,function(e){if(Array.isArray(e))return e}(o=t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,r,n=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return n}}(o,r)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,t):void 0}}(o,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],s=n[1];return e[a]=s,e}),{})},t.isArguments=function(e){return null!=e&&r(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var n={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=n,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(n.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var i=Object.create(null),o=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},r=0;r<64;r++)i[o(r)]=r;var n=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],i=0;i<e;i++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},a={encode:function(e){if("string"==typeof e){var t=e;e=n(t.length);for(var i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[i]=r}}for(var a=[],s=null,c=null,u=null,d=null,l=0;l<e.length;l++)switch(l%3){case 0:s=e[l]>>2&63,c=(3&e[l])<<4;break;case 1:c|=e[l]>>4&15,u=(15&e[l])<<2;break;case 2:u|=e[l]>>6&3,d=63&e[l],a.push(o(s)),a.push(o(c)),a.push(o(u)),a.push(o(d)),s=null,c=null,u=null,d=null}return null!=s&&(a.push(o(s)),a.push(o(c)),null==u?a.push("="):a.push(o(u)),null==d&&a.push("=")),a.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var o,r=n(t),a=null,s=null,c=null,u=0,d=0;d<e.length;d++){var l="="===(o=e.charAt(d))?-1:i[o];switch(d%4){case 0:if(l<0)throw new Error("invalid base64 string");a=l<<2;break;case 1:if(l<0)throw new Error("invalid base64 string");a|=l>>4,r[u++]=a,s=(15&l)<<4;break;case 2:l>=0&&(s|=l>>2,r[u++]=s,c=(3&l)<<6);break;case 3:l>=0&&(r[u++]=c|l)}}return r},newBinary:n};t.Base64=a},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function e(t,r,n,a,s){var c=r[t];switch(i(c)){case"string":return o(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var u,d=a+n,l=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,b=0;b<p;b+=1)l[b]=e(b,c,n,d,s)||"null";return u=0===l.length?"[]":d?"[\n"+d+l.join(",\n"+d)+"\n"+a+"]":"["+l.join(",")+"]"}var m=Object.keys(c);return s&&(m=m.sort()),m.forEach((function(t){(u=e(t,c,n,d,s))&&l.push(o(t)+(d?": ":":")+u)})),u=0===l.length?"{}":d?"{\n"+d+l.join(",\n"+d)+"\n"+a+"}":"{"+l.join(",")+"}"}};t.default=function(e,t){var i=Object.assign({indent:"",canonical:!1},t);if(!0===i.indent)i.indent="  ";else if("number"==typeof i.indent){for(var o="",n=0;n<i.indent;n++)o+=" ";i.indent=o}return r("",{"":e},i.indent,"",i.canonical)},e.exports=t.default}],i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,o),n.exports}var r={};!function(){var e=r,t=o(2).Base64,i=o(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var n=o(1),a={};e.EJSON=a;var s=new Map;a.addType=function(e,t){if(s.has(e))throw new Error("Type ".concat(e," already present"));s.set(e,t)};var c=[{matchJSONValue:function(e){return(0,n.hasOwn)(e,"$date")&&1===(0,n.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,n.hasOwn)(e,"$regexp")&&(0,n.hasOwn)(e,"$flags")&&2===(0,n.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,n.hasOwn)(e,"$InfNaN")&&1===(0,n.lengthOf)(e)},matchObject:n.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,n.hasOwn)(e,"$binary")&&1===(0,n.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,n.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,n.hasOwn)(e,"$escape")&&1===(0,n.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var i=(0,n.lengthOf)(e);1!==i&&2!==i||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,n.keysOf)(e).forEach((function(i){t[i]=a.toJSONValue(e[i])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,n.keysOf)(e.$escape).forEach((function(i){t[i]=a.fromJSONValue(e.$escape[i])})),t}},{matchJSONValue:function(e){return(0,n.hasOwn)(e,"$type")&&(0,n.hasOwn)(e,"$value")&&2===(0,n.lengthOf)(e)},matchObject:function(e){return a._isCustomType(e)},toJSONValue:function(e){var t=i._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!s.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var o=s.get(t);return i._noYieldsAllowed((function(){return o(e.$value)}))}}];a._isCustomType=function(e){return e&&(0,n.isFunction)(e.toJSONValue)&&(0,n.isFunction)(e.typeName)&&s.has(e.typeName())},a._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:(0,n.convertMapToObject)(s)},a._getConverters=function(){return c};var u=function(e){for(var t=0;t<c.length;t++){var i=c[t];if(i.matchObject(e))return i.toJSONValue(e)}},d=function e(t){if(null===t)return null;var i=u(t);return void 0!==i?i:(0,n.isObject)(t)?((0,n.keysOf)(t).forEach((function(i){var o=t[i];if((0,n.isObject)(o)||void 0===o||(0,n.isInfOrNaN)(o)){var r=u(o);r?t[i]=r:e(o)}})),t):t};a._adjustTypesToJSONValue=d,a.toJSONValue=function(e){var t=u(e);if(void 0!==t)return t;var i=e;return(0,n.isObject)(e)&&(i=a.clone(e),d(i)),i};var l=function(e){if((0,n.isObject)(e)&&null!==e){var t=(0,n.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var i=0;i<c.length;i++){var o=c[i];if(o.matchJSONValue(e))return o.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var i=l(t);return i!==t?i:(0,n.isObject)(t)?((0,n.keysOf)(t).forEach((function(i){var o=t[i];if((0,n.isObject)(o)){var r=l(o);if(o!==r)return void(t[i]=r);e(o)}})),t):t};a._adjustTypesFromJSONValue=p,a.fromJSONValue=function(e){var t=l(e);return t===e&&(0,n.isObject)(e)&&(t=a.clone(e),p(t)),t},a.stringify=(0,n.handleError)((function(e,t){var i=a.toJSONValue(e);return t&&(t.canonical||t.indent)?o(4)(i,t):JSON.stringify(i)})),a.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(e))},a.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},a.equals=function(e,t,i){var o,r=!(!i||!i.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,n.isObject)(e)||!(0,n.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(a.isBinary(e)&&a.isBinary(t)){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if((0,n.isFunction)(e.equals))return e.equals(t,i);if((0,n.isFunction)(t.equals))return t.equals(e,i);var s,c=Array.isArray(e),u=Array.isArray(t);if(c!==u)return!1;if(c&&u){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(!a.equals(e[o],t[o],i))return!1;return!0}switch(a._isCustomType(e)+a._isCustomType(t)){case 1:return!1;case 2:return a.equals(a.toJSONValue(e),a.toJSONValue(t))}var d=(0,n.keysOf)(e),l=(0,n.keysOf)(t);return r?(o=0,s=d.every((function(r){return!(o>=l.length||r!==l[o]||!a.equals(e[r],t[l[o]],i)||(o++,0))}))):(o=0,s=d.every((function(r){return!!(0,n.hasOwn)(t,r)&&!!a.equals(e[r],t[r],i)&&(o++,!0)}))),s&&o===l.length},a.clone=function(e){var t;if(!(0,n.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(a.isBinary(e)){t=a.newBinary(e.length);for(var i=0;i<e.length;i++)t[i]=e[i];return t}return Array.isArray(e)?e.map(a.clone):(0,n.isArguments)(e)?Array.from(e).map(a.clone):(0,n.isFunction)(e.clone)?e.clone():a._isCustomType(e)?a.fromJSONValue(a.clone(a.toJSONValue(e)),!0):(t={},(0,n.keysOf)(e).forEach((function(i){t[i]=a.clone(e[i])})),t)},a.newBinary=t.newBinary}(),e.exports=r.EJSON}()},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,i="~";function o(){}function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function n(e,t,o,n,a){if("function"!=typeof o)throw new TypeError("The listener must be a function");var s=new r(o,n||e,a),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,o,r=[];if(0===this._eventsCount)return r;for(o in e=this._events)t.call(e,o)&&r.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=i?i+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,n=o.length,a=new Array(n);r<n;r++)a[r]=o[r].fn;return a},s.prototype.listenerCount=function(e){var t=i?i+e:e,o=this._events[t];return o?o.fn?1:o.length:0},s.prototype.emit=function(e,t,o,r,n,a){var s=i?i+e:e;if(!this._events[s])return!1;var c,u,d=this._events[s],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,o),!0;case 4:return d.fn.call(d.context,t,o,r),!0;case 5:return d.fn.call(d.context,t,o,r,n),!0;case 6:return d.fn.call(d.context,t,o,r,n,a),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var p,b=d.length;for(u=0;u<b;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),l){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,o);break;case 4:d[u].fn.call(d[u].context,t,o,r);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[u].fn.apply(d[u].context,c)}}return!0},s.prototype.on=function(e,t,i){return n(this,e,t,i,!1)},s.prototype.once=function(e,t,i){return n(this,e,t,i,!0)},s.prototype.removeListener=function(e,t,o,r){var n=i?i+e:e;if(!this._events[n])return this;if(!t)return a(this,n),this;var s=this._events[n];if(s.fn)s.fn!==t||r&&!s.once||o&&s.context!==o||a(this,n);else{for(var c=0,u=[],d=s.length;c<d;c++)(s[c].fn!==t||r&&!s[c].once||o&&s[c].context!==o)&&u.push(s[c]);u.length?this._events[n]=1===u.length?u[0]:u:a(this,n)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,e.exports=s},2017:e=>{"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var o,r,n;if(Array.isArray(t)){if((o=t.length)!=i.length)return!1;for(r=o;0!=r--;)if(!e(t[r],i[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((o=(n=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(i,n[r]))return!1;for(r=o;0!=r--;){var a=n[r];if(!e(t[a],i[a]))return!1}return!0}return t!=t&&i!=i}},4865:e=>{"use strict";const t=(e,t,o,r)=>{if("length"===o||"prototype"===o)return;if("arguments"===o||"caller"===o)return;const n=Object.getOwnPropertyDescriptor(e,o),a=Object.getOwnPropertyDescriptor(t,o);!i(n,a)&&r||Object.defineProperty(e,o,a)},i=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},o=(e,t)=>`/* Wrapped ${e}*/\n${t}`,r=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),n=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,i,{ignoreNonConfigurable:a=!1}={})=>{const{name:s}=e;for(const o of Reflect.ownKeys(i))t(e,i,o,a);return((e,t)=>{const i=Object.getPrototypeOf(t);i!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,i)})(e,i),((e,t,i)=>{const a=""===i?"":`with ${i.trim()}() `,s=o.bind(null,a,t.toString());Object.defineProperty(s,"name",n),Object.defineProperty(e,"toString",{...r,value:s})})(e,i,s),e}},4617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},3290:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(228),r=i(7685),n=i(4774),a=()=>{},s=new r.TimeoutError;t.default=class extends o{constructor(e){var t,i,o,r;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=a,this._resolveIdle=a,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==i?i:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(r=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==r?r:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=a,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=a,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((i,o)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const n=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&o(s)}));i(await n)}catch(e){o(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},9998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){let o=0,r=e.length;for(;r>0;){const n=r/2|0;let a=o+n;i(e[a],t)<=0?(o=++a,r-=n+1):r=n}return o}},4774:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(9998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const i={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(i);const r=o.default(this._queue,i,((e,t)=>t.priority-e.priority));this._queue.splice(r,0,i)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},7685:(e,t,i)=>{"use strict";const o=i(4617);class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}const n=(e,t,i)=>new Promise(((n,a)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void n(e);const s=setTimeout((()=>{if("function"==typeof i){try{n(i())}catch(e){a(e)}return}const o=i instanceof Error?i:new r("string"==typeof i?i:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),a(o)}),t);o(e.then(n,a),(()=>{clearTimeout(s)}))}));e.exports=n,e.exports.default=n,e.exports.TimeoutError=r},181:e=>{"use strict";e.exports=require("buffer")},7194:e=>{"use strict";e.exports=require("dgram")},1943:e=>{"use strict";e.exports=require("fs/promises")},9278:e=>{"use strict";e.exports=require("net")},6928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4326:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(d)throw new Error("runEntrypoint can only be called once");if(d=!0,t||(t=[]),!Array.isArray(t))throw new Error("upgradeScripts must be an array");for(const e of t)if("function"!=typeof e)throw new Error("upgradeScripts must be an array of functions");const i=process.env.MODULE_MANIFEST;if(!i)throw new Error("Module initialise is missing MODULE_MANIFEST");const o=await n.default.readFile(i),l=JSON.parse(o.toString());if(l.runtime?.api!==r.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!l.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let p=l.runtime.apiVersion;if("0.0.0"===p)try{const e=await n.default.readFile(c.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(p=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const b=process.env.CONNECTION_ID;if("string"!=typeof b||!b)throw new Error("Module initialise is missing CONNECTION_ID");const m=process.env.VERIFICATION_TOKEN;if("string"!=typeof m||!m)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const y=new s.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{y.receivedMessage(e)})),u=new e((0,a.literal)({id:b,upgradeScripts:t,_isInstanceBaseProps:!0})),y.sendWithCb("register",{apiVersion:p,connectionId:b,verificationToken:m}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))};const o=i(1635),r=i(9967),n=o.__importDefault(i(1943)),a=i(360),s=i(4044),c=o.__importDefault(i(6928));let u,d=!1},6160:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var o=i(8895);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return o.TCPHelper}});var r=i(1118);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return r.TelnetHelper}});var n=i(6259);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return n.UDPHelper}})},8895:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const o=i(1635).__importDefault(i(9278)),r=i(3693),n=i(1400);class a extends r.EventEmitter{#e;#t;_socket;#i;#o=!1;#r=!1;#n=!1;#a;#s;#c;get isConnected(){return this.#o}get isConnecting(){return this.#r}get isDestroyed(){return this.#n}constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#i={reconnect_interval:2e3,reconnect:!0,...i},this._socket=new o.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#r=!1,this.#o=!1,this.#i.reconnect&&this.#u(),this.#d(n.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#o=!0,this.#r=!1,this.#d(n.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#o=!1,this.#d(n.InstanceStatus.Disconnected),!this.#r&&this.#i.reconnect&&this.#u(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>{this.#n||this.connect()})),this.#c=setTimeout((()=>{this.#c=void 0,this.#n||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#n)throw new Error("Cannot connect destroyed socket");return!this.#r&&(this.#r=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#n||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#o)return!1;try{return new Promise(((t,i)=>{this._socket.write(e,(e=>{e?i(e):t(!0)}))}))}catch(e){this.#o=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#d(n.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#n=!0,void 0!==this.#s&&(clearTimeout(this.#s),this.#s=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#u(){void 0!==this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>{this.#s=void 0,this.#d(n.InstanceStatus.Connecting),this.connect()}),this.#i.reconnect_interval)}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.TCPHelper=a},1118:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const o=i(1635).__importDefault(i(3693)),r=i(2203),n=i(8895);class a extends o.default{#l;#p;#c;get isConnected(){return this.#l.isConnected}get isConnecting(){return this.#l.isConnecting}get isDestroyed(){return this.#l.isDestroyed}constructor(e,t,i){super(),this.#l=new n.TCPHelper(e,t,i),this.#p=new s,this.#l._socket.pipe(this.#p),this.#l.on("connect",(()=>this.emit("connect"))),this.#l.on("end",(()=>this.emit("end"))),this.#l.on("error",(e=>this.emit("error",e))),this.#l.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#p.on("iac",((e,t)=>this.emit("iac",e,t))),this.#p.on("sb",(e=>this.emit("sb",e))),this.#p.on("data",(e=>this.emit("data",e))),this.#p.on("drain",(()=>this.emit("drain"))),this.#c=setTimeout((()=>{this.#c=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#l.connect()}async send(e){return this.#l.send(e)}destroy(){this.#l.destroy(),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#p.removeAllListeners(),this.#p.destroy()}}t.TelnetHelper=a;class s extends r.Transform{#b;#m;#y;constructor(e){super(e),this.#b=Buffer.alloc(0),this.#m=Buffer.alloc(0),this.#y=0}_transform(e,t,i){for(let t=0;t<e.length;++t)this.#f(e[t]);const o=this.#h();o.length&&this.push(o),i()}#f(e){if(0===this.#y){if(255===e)return void(this.#y=255);this.#b=Buffer.concat([this.#b,Buffer.from([e])])}else if(255===this.#y)switch(e){case 250:case 251:case 252:case 253:case 254:this.#y=e;break;default:this.#y=0}else{if(this.#y>=251&&this.#y<=254){let t;switch(this.#y){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#y=0)}if(250===this.#y){if(240===e)return this.emit("sb",this.#m),this.#y=0,void(this.#m=Buffer.alloc(0));this.#m=Buffer.concat([this.#m,Buffer.from([e])])}}}#h(){const e=this.#b;return this.#b=Buffer.alloc(0),e}}},6259:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const o=i(1635).__importDefault(i(7194)),r=i(3693),n=i(1400);class a extends r.EventEmitter{#e;#t;#S;#i;#n=!1;#a;#c;get isDestroyed(){return this.#n}constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#i={...i},this.#S=o.default.createSocket("udp4");try{this.#S.bind(this.#i.bind_port||0,this.#i.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#i.bind_ip||"0.0.0.0"}:${this.#i.bind_port||0}`)}void 0!==this.#i.ttl&&this.#S.setTTL(this.#i.ttl),void 0!==this.#i.multicast_ttl&&this.#S.setMulticastTTL(this.#i.multicast_ttl),this.#S.on("error",(e=>{this.#d(n.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#S.on("listening",(()=>{this.#i.broadcast&&this.#S.setBroadcast(!0),this.#i.multicast_interface&&this.#S.setMulticastInterface(this.#i.multicast_interface),this.#d(n.InstanceStatus.Ok),this.emit("listening")})),this.#S.on("message",((e,t)=>this.emit("data",e,t))),this.#c=setTimeout((()=>{this.#n||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#n)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,i)=>{this.#S.send(e,this.#t,this.#e,(e=>{e?i(e):t()}))}))}destroy(){this.#n=!0,void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#S.removeAllListeners(),this.#S.close(),this.removeAllListeners()}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.UDPHelper=a},4044:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const o=i(1635),r=i(360),n=o.__importDefault(i(6022));t.IpcWrapper=class{#g;#I;#k;#v=1;#w=new Map;constructor(e,t,i){this.#g=e,this.#I=t,this.#k=i}async sendWithCb(e,t,i,o=0){o<=0&&(o=this.#k);const r={timeout:void 0,resolve:()=>null,reject:()=>null},a=new Promise(((e,t)=>{r.resolve=e,r.reject=t}));this.#v>268435456&&(this.#v=1);const s=this.#v++;this.#w.set(s,r),this.#I({direction:"call",name:String(e),payload:n.default.stringify(t),callbackId:s});const c=new Error("Call timed out");return r.timeout=setTimeout((()=>{r.reject(i?i():c),this.#w.delete(s)}),o),a}sendWithNoCb(e,t){this.#I({direction:"call",name:String(e),payload:n.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#g[e.name];if(!t)return void(e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:n.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?n.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!0,payload:n.default.stringify(t)})}),(t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):n.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#w.get(e.callbackId);if(this.#w.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const i=e.payload?n.default.parse(e.payload):void 0;if(e.success)t.resolve(i);else{let e=i;i&&"object"==typeof i&&"message"in i&&(e=new Error(i.message),i.stack&&(e.stack=i.stack)),t.reject(e)}break}default:(0,r.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},9967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},6278:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const o=i(1635);o.__exportStar(i(9077),t),o.__exportStar(i(2018),t),o.__exportStar(i(4581),t);var r=i(360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return r.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return r.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return r.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return r.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return r.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return r.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return r.assertNever}}),o.__exportStar(i(6160),t);var n=i(4326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return n.runEntrypoint}})},4289:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const o=i(2593);function r(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#M;#P;#A;#_=new Map;#O=new Map;constructor(e,t,i){this.#M=e,this.#P=t,this.#A=i}async handleExecuteAction(e){const t=this.#_.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},i)}handleUpdateActions(e){for(const[t,i]of Object.entries(e)){const e=this.#O.get(t);if(e){const t=this.#_.get(e.actionId);if(t?.unsubscribe){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(r(e),i)).catch((t=>{this.#A("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!i||i.disabled)this.#O.delete(t);else{this.#O.set(t,i);const e=this.#_.get(i.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#M({text:e,controlId:i.controlId,actionInstanceId:i.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(r(i),t)).catch((e=>{this.#A("error",`Action subscribe failed: ${JSON.stringify(i)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#_.get(e.action.actionId);if(t&&t.learn){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},i)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#_.clear();for(const[i,r]of Object.entries(e))r&&(t.push({id:i,name:r.name,description:r.description,options:(0,o.serializeIsVisibleFn)(r.options),hasLearn:!!r.learn,learnTimeout:r.learnTimeout}),this.#_.set(i,r));this.#P({actions:t})}_getAllActions(){return Array.from(this.#O.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#O.values());const i=new Set(e);i.size&&(t=t.filter((e=>i.has(e.actionId))));for(const e of t){const t=this.#_.get(e.actionId);if(t?.subscribe){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(r(e),i)).catch((t=>{this.#A("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#O.values());const i=new Set(e);i.size&&(t=t.filter((e=>i.has(e.actionId))));for(const e of t){const t=this.#_.get(e.actionId);if(t&&t.unsubscribe){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(r(e),i)).catch((t=>{this.#A("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},2593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},8039:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const o=i(1635),r=i(2593),n=o.__importDefault(i(7e3));function a(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#M;#C;#R;#A;#E=new Map;#T=new Map;#D=new Map;#x=new Map;#N;get parseVariablesContext(){return this.#N}constructor(e,t,i,o){this.#M=e,this.#C=t,this.#R=i,this.#A=o}getDefinitionIds(){return Array.from(this.#E.keys())}getInstanceIds(){return Array.from(this.#T.keys())}handleUpdateFeedbacks(e){for(const[t,i]of Object.entries(e)){const e=this.#T.get(t);if(e){const t=this.#E.get(e.feedbackId);if(t?.unsubscribe){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(a(t.type,e),i)).catch((t=>{this.#A("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!i||i.disabled)this.#T.delete(t);else{this.#T.set(t,{...i,referencedVariables:null});const e=this.#E.get(i.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#M({text:e,controlId:i.controlId,actionInstanceId:void 0,feedbackInstanceId:i.id})).text};Promise.resolve(e.subscribe(a(e.type,i),t)).catch((e=>{this.#A("error",`Feedback subscribe failed: ${JSON.stringify(i)} - ${e?.message??e} ${e?.stack}`)}))}this.#K(t)}}}async handleLearnFeedback(e){const t=this.#E.get(e.feedback.feedbackId);if(t&&t.learn){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},i)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#x.values())for(const i of e.variablesIds)t.changedVariables.add(i);const i=new Set;for(const e of this.#T.values())if(!this.#x.has(e.id)&&e.referencedVariables)for(const o of e.referencedVariables)if(t.has(o)){i.add(e.id);break}for(const e of i)setImmediate((()=>{this.#K(e)}))}#K(e){const t=this.#x.get(e);if(t)return void(t.needsRecheck=!0);const i=this.#T.get(e);if(!i)return;const o=i,r={needsRecheck:!1,changedVariables:new Set};this.#x.set(e,r),Promise.resolve().then((async()=>{const t=this.#E.get(o.feedbackId);let i;const r=new Set;if(t){this.#N=`Feedback ${o.feedbackId} (${e})`;const n={parseVariablesInString:async t=>{const i=await this.#M({text:t,controlId:o.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(i.variableIds&&i.variableIds.length)for(const e of i.variableIds)r.add(e);return i.text}};i="boolean"===t.type?t.callback({...a("boolean",o),type:"boolean"},n):t.callback({...a("advanced",o),type:"advanced",image:o.image},n),this.#N=void 0}const n=await i;this.#D.set(e,{id:e,controlId:o.controlId,value:n}),this.#V(),o.referencedVariables=r.size>0?Array.from(r):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(o)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#N=void 0,this.#x.delete(e);let t=!1;if(o.referencedVariables)for(const e of o.referencedVariables)if(r.changedVariables.has(e)){t=!0;break}(t||r.needsRecheck)&&setImmediate((()=>{this.#K(e)}))}))}#V=(0,n.default)((()=>{const e=this.#D;this.#D=new Map,e.size>0&&this.#C({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#E.clear();for(const[i,o]of Object.entries(e))o&&(t.push({id:i,name:o.name,description:o.description,options:(0,r.serializeIsVisibleFn)(o.options),type:o.type,defaultStyle:"boolean"===o.type?o.defaultStyle:void 0,hasLearn:!!o.learn,learnTimeout:o.learnTimeout,showInvert:"boolean"===o.type&&o.showInvert}),this.#E.set(i,o));this.#R({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,i]of this.#T.entries())this.#E.get(i.feedbackId)&&(0===t.size||t.has(i.feedbackId))&&this.#K(e)}checkFeedbacksById(e){for(const t of e)this.#K(t)}_getAllFeedbacks(){return Array.from(this.#T.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#T.values());const i=new Set(e);i.size&&(t=t.filter((e=>i.has(e.feedbackId))));for(const e of t){const t=this.#E.get(e.feedbackId);if(t?.subscribe){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(a(t.type,e),i)).catch((t=>{this.#A("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#T.values());const i=new Set(e);i.size&&(t=t.filter((e=>i.has(e.feedbackId))));for(const e of t){const t=this.#E.get(e.feedbackId);if(t&&t.unsubscribe){const i={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(a(t.type,e),i)).catch((t=>{this.#A("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},1706:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=function(e,t,i,n,a,s){const c=new Map,u=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??i;t&&"number"==typeof e&&u(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??i;e&&"number"==typeof t&&u(t).feedbacks.push(e.id)}if(!s)for(let e=i??-1;e<n.length;e++)u(e).config=!0;const d={},l={};let p;if(c.size>0){const s=Array.from(c.keys()).sort(),u=Math.min(...s,i??-1)+1,b=[],m=[],y=n.length;for(let i=u;i<y;i++){const s=c.get(i-1);s&&(b.push(...s.actions),m.push(...s.feedbacks));const u=!!s?.config;if(!u&&0===b.length&&0===m.length)continue;const y=p??a,f=(0,n[i])({currentConfig:r(y)},{config:u?y:null,actions:b.map((t=>{const i=e[t];if(i)return(0,o.literal)({id:i.id,controlId:i.controlId,actionId:i.actionId,options:void 0!==i.options?r(i.options):{}})})).filter((e=>!!e)),feedbacks:m.map((e=>{const i=t[e];if(i)return(0,o.literal)({id:i.id,controlId:i.controlId,feedbackId:i.feedbackId,options:void 0!==i.options?r(i.options):{},isInverted:i.isInverted})})).filter((e=>!!e))});u&&f.updatedConfig&&(p=f.updatedConfig);for(const t of f.updatedActions)if(t){const i=e[t.id];i&&(i.actionId=t.actionId,i.options=t.options,l[t.id]=i)}for(const e of f.updatedFeedbacks)if(e){const i=t[e.id];i&&(i.feedbackId=e.feedbackId,i.options=e.options,d[e.id]={...i,style:d[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,i]of Object.entries(e))l[t]||"number"!=typeof i?.upgradeIndex||(l[t]=i);for(const[e,i]of Object.entries(t))d[e]||"number"!=typeof i?.upgradeIndex||(d[e]=i)}return{updatedActions:l,updatedFeedbacks:d,updatedConfig:p}};const o=i(360);function r(e){return JSON.parse(JSON.stringify(e))}},9077:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=function(e){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'");if(!(0,o.default)(e)){const e=o.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}};const o=i(1635).__importDefault(i(7281))},3730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1649:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const o=i(1635),r=i(360),n=o.__importDefault(i(3290)),a=i(2593),s=i(1706),c=i(8039),u=i(4044),d=i(4289),l=i(2365);t.InstanceBase=class{#F;#B;id;#j=new n.default({concurrency:1});#L=!1;#q=!1;#W={};#G;#z;#H=new Map;#U=new Map;#$=new Map;#i;#Y;get instanceOptions(){return this.#i}get label(){return this.#Y}constructor(e){if(!(0,a.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#i={disableVariableValidation:!1},this.#F=new u.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#F.receivedMessage(e)})),this.#G=new d.ActionManager((async e=>this.#F.sendWithCb("parseVariablesInString",e)),(e=>this.#F.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#z=new c.FeedbackManager((async e=>this.#F.sendWithCb("parseVariablesInString",e)),(e=>this.#F.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#F.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#B=e.upgradeScripts,this.id=e.id,this.#Y=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#j.add((async()=>{if(this.#L)throw new Error("Already initialized");const t=e.actions,i=e.feedbacks;if(this.#W=e.config,this.#Y=e.label,e.isFirstInit){const t={},i=this.getConfigFields();for(const e of i)"default"in e&&(t[e.id]=e.default);this.#W=t,this.saveConfig(this.#W),e.lastUpgradeIndex=this.#B.length-1}const{updatedActions:o,updatedFeedbacks:r,updatedConfig:n}=(0,s.runThroughUpgradeScripts)(t,i,e.lastUpgradeIndex,this.#B,this.#W,!1);this.#W=n??this.#W;const a=this.#F.sendWithCb("upgradedItems",{updatedActions:o,updatedFeedbacks:r});try{await this.init(this.#W,!!e.isFirstInit),this.#L=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await a}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:i},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#B.length-1,updatedConfig:this.#W}}))}async _handleDestroy(){await this.#j.add((async()=>{if(!this.#L)throw new Error("Not initialized");await this.destroy(),this.#L=!1}))}async _handleConfigUpdateAndLabel(e){await this.#j.add((async()=>{if(!this.#L)throw new Error("Not initialized");this.#Y=e.label,this.#W=e.config,await this.configUpdated(this.#W)}))}async _handleExecuteAction(e){return this.#G.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)({},e.feedbacks,null,this.#B,this.#W,!0);this.#F.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#z.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)(e.actions,{},null,this.#B,this.#W,!0);this.#F.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#G.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,a.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#G.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#z.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#q)return}else if(!this.#q)return;if(!this.handleStartStopRecordActions)throw this.#q=!1,new Error("Recording actions is not supported by this module!");this.#q=e.recording,this.handleStartStopRecordActions(this.#q)}async _handleVariablesChanged(e){this.#z.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#H.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#H.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#W=e,this.#F.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#G.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#z.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[i,o]of Object.entries(e))o&&t.push({...o,id:i});this.#F.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],i=[];this.#U.clear();for(const o of e)t.push({id:o.variableId,name:o.name}),this.#U.set(o.variableId,o),this.#$.has(o.variableId)||(this.#$.set(o.variableId,""),i.push({id:o.variableId,value:""}));if(!this.#i.disableVariableValidation){const e=new Set(this.#U.keys());for(const t of this.#$.keys())e.has(t)||(this.#$.delete(t),i.push({id:t,value:void 0}))}this.#F.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:i})}setVariableValues(e){const t=[];for(const[i,o]of Object.entries(e))this.#i.disableVariableValidation?(void 0===o?this.#$.delete(i):this.#$.set(i,o),t.push({id:i,value:o})):this.#U.has(i)?(this.#$.set(i,o??""),t.push({id:i,value:o??""})):t.push({id:i,value:void 0});this.#F.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#$.get(e)}async parseVariablesInString(e){const t=this.#z.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#F.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#z.checkFeedbacks(e)}checkFeedbacksById(...e){this.#z.checkFeedbacksById(e)}_getAllActions(){return this.#G._getAllActions()}subscribeActions(...e){this.#G.subscribeActions(e)}unsubscribeActions(...e){this.#G.unsubscribeActions(e)}_getAllFeedbacks(){return this.#z._getAllFeedbacks()}subscribeFeedbacks(...e){this.#z.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#z.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#q)throw new Error("Not currently recording actions");this.#F.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}setCustomVariableValue(e,t){this.#F.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,i,o){this.#F.sendWithNoCb("send-osc",(0,r.literal)({host:e,port:t,path:i,args:o}))}updateStatus(e,t){this.#F.sendWithNoCb("set-status",(0,r.literal)({status:e,message:t??null}))}log(e,t){this.#F.sendWithNoCb("log-message",(0,r.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const i="string"==typeof e?{type:e}:e,o=new l.SharedUdpSocketImpl(this.#F,this.#H,i);return t&&o.on("message",t),o}}},7386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1400:(e,t)=>{"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning",e.AuthenticationFailure="authentication_failure"}(i||(t.InstanceStatus=i={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(o||(t.Regex=o={}))},8983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2018:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(1635);o.__exportStar(i(3730),t),o.__exportStar(i(1649),t),o.__exportStar(i(7386),t),o.__exportStar(i(1400),t),o.__exportStar(i(8983),t),o.__exportStar(i(8104),t),o.__exportStar(i(3258),t),o.__exportStar(i(131),t),o.__exportStar(i(3371),t),o.__exportStar(i(9786),t),o.__exportStar(i(6132),t)},3258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2365:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const o=i(1635).__importDefault(i(3693)),r=i(360);class n extends o.default{#F;#X;#i;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#y&&"object"==typeof this.#y?this.#y:void 0}#y="pending";constructor(e,t,i){super(),this.#F=e,this.#X=t,this.#i={...i}}bind(e,t,i){if(this.#y&&"object"==typeof this.#y)throw new Error("Socket is already bound");switch(this.#y){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,r.assertNever)(this.#y),new Error("Invalid socket state")}this.#y="binding",i&&this.on("listening",i),this.#F.sendWithCb("sharedUdpSocketJoin",{family:this.#i.type,portNumber:e}).then((t=>{this.#y={portNumber:e,handleId:t},this.#X.set(t,this),this.emit("listening")}),(e=>{this.#y="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#y&&"object"==typeof this.#y);else switch(this.#y){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,r.assertNever)(this.#y),new Error("Invalid socket state")}const t=this.#y.handleId;this.#y="closed",e&&this.on("close",e),this.#F.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#X.delete(t),this.emit("close")}),(e=>{this.#X.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,i,o,r,n){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof i){if("number"!=typeof o||"string"!=typeof r)throw new Error("Invalid arguments");if(void 0!==n&&"number"!=typeof n)throw new Error("Invalid arguments");const a=this.#Q(e,t,i);this.#J(a,o,r,n)}else{if("string"!=typeof i)throw new Error("Invalid arguments");{if(void 0!==o&&"function"!=typeof o)throw new Error("Invalid arguments");const r=this.#Q(e,0,void 0);this.#J(r,t,i,o)}}}#Q(e,t,i){let o;if("string"==typeof e)o=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))o=e;else{if(Array.isArray(e))return Buffer.from(e);o=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return o.subarray(t,void 0!==i?i+t:void 0)}#J(e,t,i,o){if(!this.#y||"object"!=typeof this.#y)throw new Error("Socket is not open");this.#F.sendWithCb("sharedUdpSocketSend",{handleId:this.#y.handleId,message:e,address:i,port:t}).then((()=>{o?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#y="fatalError";const t=this.boundState;t&&this.#X.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=n},3371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyUpgradeScript=void 0,t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,i)=>{const o=[];for(const t of i.feedbacks){let i=e[t.feedbackId];if(!0===i&&(i={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),i){t.style||(t.style={});for(const[e,r]of Object.entries(i))void 0!==t.options[e]&&(t.style[r]=t.options[e],delete t.options[e],o.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:o}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,i)=>{const o=[];for(const t of i.feedbacks){const i=e[t.feedbackId];if("string"!=typeof i)continue;const r=t.options[i];void 0!==r&&(delete t.options[i],t.isInverted="true"===r||!0===r||Number(r)>0,o.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:o}}},t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]})},6132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},360:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,i,o){let r=(255&e)<<16|(255&t)<<8|255&i;return o&&o>=0&&o<1&&(r+=16777216*Math.round(255*(1-o))),r},t.splitRgb=r,t.splitHsl=function(e){const t=r(e);return(0,o.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=r(e);return(0,o.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=r(e);return(0,o.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()};const o=i(6284);function r(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,o.colord)(e).isValid()){const t=(0,o.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}},7281:(e,t,i)=>{"use strict";e.exports=c,e.exports.default=c;const o={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18 or node22",enum:["node18","node22"]},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{oneOf:[{$ref:"#/definitions/bonjourQuery"},{type:"array",items:{$ref:"#/definitions/bonjourQuery"}}]}},additionalProperties:!1}},additionalProperties:!1,required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"],definitions:{bonjourQuery:{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1}}},r={type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1},n=Object.prototype.hasOwnProperty,a=i(7169).A,s=new RegExp("","u");function c(e,{instancePath:t="",parentData:i,parentDataProperty:u,rootData:d=e}={}){let l=null,p=0;if(0===p){if(!e||"object"!=typeof e||Array.isArray(e))return c.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===e.id&&(i="id")||void 0===e.name&&(i="name")||void 0===e.shortname&&(i="shortname")||void 0===e.description&&(i="description")||void 0===e.version&&(i="version")||void 0===e.license&&(i="license")||void 0===e.repository&&(i="repository")||void 0===e.bugs&&(i="bugs")||void 0===e.maintainers&&(i="maintainers")||void 0===e.legacyIds&&(i="legacyIds")||void 0===e.runtime&&(i="runtime")||void 0===e.manufacturer&&(i="manufacturer")||void 0===e.products&&(i="products")||void 0===e.keywords&&(i="keywords"))return c.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=p;for(const i in e)if(!n.call(o.properties,i))return c.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===p){if(void 0!==e.$schema){const i=p;if("string"!=typeof e.$schema)return c.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=i===p}else b=!0;if(b){if(void 0!==e.id){const i=p;if("string"!=typeof e.id)return c.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.name){const i=p;if("string"!=typeof e.name)return c.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.shortname){const i=p;if("string"!=typeof e.shortname)return c.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.description){const i=p;if("string"!=typeof e.description)return c.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.version){const i=p;if("string"!=typeof e.version)return c.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.license){const i=p;if("string"!=typeof e.license)return c.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.repository){const i=p;if("string"!=typeof e.repository)return c.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.bugs){const i=p;if("string"!=typeof e.bugs)return c.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.maintainers){let i=e.maintainers;const o=p;if(p===o){if(!Array.isArray(i))return c.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var m=!0;const e=i.length;for(let o=0;o<e;o++){let e=i[o];const r=p;if(p===r){if(!e||"object"!=typeof e||Array.isArray(e))return c.errors=[{instancePath:t+"/maintainers/"+o,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===e.name&&(i="name"))return c.errors=[{instancePath:t+"/maintainers/"+o,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;if(void 0!==e.name){const i=p;if("string"!=typeof e.name)return c.errors=[{instancePath:t+"/maintainers/"+o+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=i===p}else y=!0;if(y){if(void 0!==e.email){const i=p;if("string"!=typeof e.email)return c.errors=[{instancePath:t+"/maintainers/"+o+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===p}else y=!0;if(y)if(void 0!==e.github){const i=p;if("string"!=typeof e.github)return c.errors=[{instancePath:t+"/maintainers/"+o+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===p}else y=!0}}}if(!(m=r===p))break}if(m){let e,o=i.length;if(o>1)for(;o--;)for(e=o;e--;)if(a(i[o],i[e]))return c.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:o,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+o+" are identical)"}],!1}}}b=o===p}else b=!0;if(b){if(void 0!==e.legacyIds){let i=e.legacyIds;const o=p;if(p===o){if(!Array.isArray(i))return c.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var f=!0;const e=i.length;for(let o=0;o<e;o++){const e=p;if("string"!=typeof i[o])return c.errors=[{instancePath:t+"/legacyIds/"+o,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(f=e===p))break}if(f){let e,o=i.length;if(o>1){const r={};for(;o--;){let n=i[o];if("string"==typeof n){if("number"==typeof r[n])return e=r[n],c.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:o,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+o+" are identical)"}],!1;r[n]=o}}}}}}b=o===p}else b=!0;if(b){if(void 0!==e.runtime){let i=e.runtime;const r=p;if(p===r){if(!i||"object"!=typeof i||Array.isArray(i))return c.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===i.type&&(e="type")||void 0===i.api&&(e="api")||void 0===i.apiVersion&&(e="apiVersion")||void 0===i.entrypoint&&(e="entrypoint"))return c.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==i.type){let e=i.type;const r=p;if("string"!=typeof e)return c.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("node18"!==e&&"node22"!==e)return c.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/enum",keyword:"enum",params:{allowedValues:o.properties.runtime.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var h=r===p}else h=!0;if(h){if(void 0!==i.api){let e=i.api;const r=p;if("string"!=typeof e)return c.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return c.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:o.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;h=r===p}else h=!0;if(h){if(void 0!==i.apiVersion){const e=p;if("string"!=typeof i.apiVersion)return c.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=e===p}else h=!0;if(h)if(void 0!==i.entrypoint){const e=p;if("string"!=typeof i.entrypoint)return c.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=e===p}else h=!0}}}}b=r===p}else b=!0;if(b){if(void 0!==e.manufacturer){const i=p;if("string"!=typeof e.manufacturer)return c.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=i===p}else b=!0;if(b){if(void 0!==e.products){let i=e.products;const o=p;if(p===o){if(!Array.isArray(i))return c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(i.length<1)return c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var S=!0;const e=i.length;for(let o=0;o<e;o++){const e=p;if("string"!=typeof i[o])return c.errors=[{instancePath:t+"/products/"+o,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(S=e===p))break}if(S){let e,o=i.length;if(o>1){const r={};for(;o--;){let n=i[o];if("string"==typeof n){if("number"==typeof r[n])return e=r[n],c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:o,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+o+" are identical)"}],!1;r[n]=o}}}}}}b=o===p}else b=!0;if(b){if(void 0!==e.keywords){let i=e.keywords;const o=p;if(p===o){if(!Array.isArray(i))return c.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var g=!0;const e=i.length;for(let o=0;o<e;o++){const e=p;if("string"!=typeof i[o])return c.errors=[{instancePath:t+"/keywords/"+o,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(g=e===p))break}if(g){let e,o=i.length;if(o>1){const r={};for(;o--;){let n=i[o];if("string"==typeof n){if("number"==typeof r[n])return e=r[n],c.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:o,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+o+" are identical)"}],!1;r[n]=o}}}}}}b=o===p}else b=!0;if(b)if(void 0!==e.bonjourQueries){let i=e.bonjourQueries;const o=p;if(p===o){if(!i||"object"!=typeof i||Array.isArray(i))return c.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=p;for(const e in i)if(!s.test(e))return c.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===p)for(const e in i)if(s.test(e)){let o=i[e];const n=p,a=p;let u=!1,d=null;const b=p;if(p==p)if(o&&"object"==typeof o&&!Array.isArray(o)){let i;if(void 0===o.type&&(i="type")||void 0===o.protocol&&(i="protocol")){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"};null===l?l=[o]:l.push(o),p++}else{const i=p;for(const i in o)if("type"!==i&&"protocol"!==i&&"txt"!==i){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"};null===l?l=[o]:l.push(o),p++;break}if(i===p){if(void 0!==o.type){const i=p;if("string"!=typeof o.type){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[i]:l.push(i),p++}var I=i===p}else I=!0;if(I){if(void 0!==o.protocol){let i=o.protocol;const n=p;if("string"!=typeof i){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[i]:l.push(i),p++}if("tcp"!==i&&"udp"!==i){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:r.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===l?l=[i]:l.push(i),p++}I=n===p}else I=!0;if(I)if(void 0!==o.txt){let i=o.txt;const r=p;if(p===r)if(i&&"object"==typeof i&&!Array.isArray(i)){const o=p;for(const o in i)if(!s.test(o)){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"};null===l?l=[i]:l.push(i),p++;break}if(o===p)for(const o in i)if(s.test(o)){const r=p;if("string"!=typeof i[o]){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[i]:l.push(i),p++}if(r!==p)break}}else{const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[i]:l.push(i),p++}I=r===p}else I=!0}}}}else{const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[i]:l.push(i),p++}b===p&&(u=!0,d=0);const m=p;if(p===m)if(Array.isArray(o)){const i=o.length;for(let n=0;n<i;n++){let i=o[n];const a=p;if(p==p)if(i&&"object"==typeof i&&!Array.isArray(i)){let o;if(void 0===i.type&&(o="type")||void 0===i.protocol&&(o="protocol")){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n,schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"};null===l?l=[i]:l.push(i),p++}else{const o=p;for(const o in i)if("type"!==o&&"protocol"!==o&&"txt"!==o){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n,schemaPath:"#/definitions/bonjourQuery/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"};null===l?l=[i]:l.push(i),p++;break}if(o===p){if(void 0!==i.type){const o=p;if("string"!=typeof i.type){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[i]:l.push(i),p++}var k=o===p}else k=!0;if(k){if(void 0!==i.protocol){let o=i.protocol;const a=p;if("string"!=typeof o){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[i]:l.push(i),p++}if("tcp"!==o&&"udp"!==o){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:r.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===l?l=[i]:l.push(i),p++}k=a===p}else k=!0;if(k)if(void 0!==i.txt){let o=i.txt;const r=p;if(p===r)if(o&&"object"==typeof o&&!Array.isArray(o)){const i=p;for(const i in o)if(!s.test(i)){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"};null===l?l=[o]:l.push(o),p++;break}if(i===p)for(const i in o)if(s.test(i)){const r=p;if("string"!=typeof o[i]){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n+"/txt/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[o]:l.push(o),p++}if(r!==p)break}}else{const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[i]:l.push(i),p++}k=r===p}else k=!0}}}}else{const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n,schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[i]:l.push(i),p++}if(a!==p)break}}else{const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[i]:l.push(i),p++}var v;if((v=m===p)&&u?(u=!1,d=[d,1]):v&&(u=!0,d=1),!u){const i={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return null===l?l=[i]:l.push(i),p++,c.errors=l,!1}if(p=a,null!==l&&(a?l.length=a:l=null),n!==p)break}}}b=o===p}else b=!0}}}}}}}}}}}}}}}}}}return c.errors=l,0===p}},7e3:(e,t,i)=>{"use strict";const o=i(4865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:i=0,maxWait:r=0,before:n=!1,after:a=!0}=t;if(!n&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,c,u;const d=function(...t){const o=this,d=n&&!s;return clearTimeout(s),s=setTimeout((()=>{s=void 0,c&&(clearTimeout(c),c=void 0),a&&(u=e.apply(o,t))}),i),r>0&&!c&&a&&(c=setTimeout((()=>{c=void 0,s&&(clearTimeout(s),s=void 0),u=e.apply(o,t)}),r)),d&&(u=e.apply(o,t)),u};return o(d,e),d.cancel=()=>{s&&(clearTimeout(s),s=void 0),c&&(clearTimeout(c),c=void 0)},d}},2096:(e,t,i)=>{const o=i(918).default;e.exports=o,e.exports.default=o},484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),t.default=(e,t)=>{let o=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++)o=65535&(i[255&(o^e[t])]^o>>8);return o}},918:function(e,t,i){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(i(484)),n=o(i(7327));t.default=(0,n.default)("crc-16-modbus",r.default)},4422:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(181);t.default=(e,t)=>o.Buffer.from(e,t)},7327:function(e,t,i){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(i(4422));t.default=function(e,t){const i=(e,i)=>t((0,r.default)(e),i)>>>0;return i.signed=(e,i)=>t((0,r.default)(e),i),i.unsigned=i,i.model=e,i}},1635:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__addDisposableResource:()=>N,__assign:()=>n,__asyncDelegator:()=>P,__asyncGenerator:()=>M,__asyncValues:()=>A,__await:()=>w,__awaiter:()=>m,__classPrivateFieldGet:()=>T,__classPrivateFieldIn:()=>x,__classPrivateFieldSet:()=>D,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>V,__esDecorate:()=>u,__exportStar:()=>h,__extends:()=>r,__generator:()=>y,__importDefault:()=>E,__importStar:()=>R,__makeTemplateObject:()=>_,__metadata:()=>b,__param:()=>c,__propKey:()=>l,__read:()=>g,__rest:()=>a,__rewriteRelativeImportExtension:()=>F,__runInitializers:()=>d,__setFunctionName:()=>p,__spread:()=>I,__spreadArray:()=>v,__spreadArrays:()=>k,__values:()=>S,default:()=>B});var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},o(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var n=function(){return n=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function a(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i}function s(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,i,a):r(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a}function c(e,t){return function(i,o){t(i,o,e)}}function u(e,t,i,o,r,n){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=o.kind,u="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?o.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,o.name):{}),p=!1,b=i.length-1;b>=0;b--){var m={};for(var y in o)m[y]="access"===y?{}:o[y];for(var y in o.access)m.access[y]=o.access[y];m.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");n.push(a(e||null))};var f=(0,i[b])("accessor"===c?{get:l.get,set:l.set}:l[u],m);if("accessor"===c){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(s=a(f.get))&&(l.get=s),(s=a(f.set))&&(l.set=s),(s=a(f.init))&&r.unshift(s)}else(s=a(f))&&("field"===c?r.unshift(s):l[u]=s)}d&&Object.defineProperty(d,o.name,l),p=!0}function d(e,t,i){for(var o=arguments.length>2,r=0;r<t.length;r++)i=o?t[r].call(e,i):t[r].call(e);return o?i:void 0}function l(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function b(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,i,o){return new(i||(i=Promise))((function(r,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}function y(e,t){var i,o,r,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(n=0)),n;)try{if(i=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,o=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!((r=(r=n.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){n=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){n.label=s[1];break}if(6===s[0]&&n.label<r[1]){n.label=r[1],r=s;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(s);break}r[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],o=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var f=Object.create?function(e,t,i,o){void 0===o&&(o=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,o,r)}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]};function h(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||f(t,e,i)}function S(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],o=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var o,r,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return a}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function k(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<i;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,r++)o[r]=n[a];return o}function v(e,t,i){if(i||2===arguments.length)for(var o,r=0,n=t.length;r<n;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function M(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=i.apply(e,t||[]),n=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),o[Symbol.asyncIterator]=function(){return this},o;function a(e,t){r[e]&&(o[e]=function(t){return new Promise((function(i,o){n.push([e,t,i,o])>1||s(e,t)}))},t&&(o[e]=t(o[e])))}function s(e,t){try{(i=r[e](t)).value instanceof w?Promise.resolve(i.value.v).then(c,u):d(n[0][2],i)}catch(e){d(n[0][3],e)}var i}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),n.shift(),n.length&&s(n[0][0],n[0][1])}}function P(e){var t,i;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(i=!i)?{value:w(e[o](t)),done:!1}:r?r(t):t}:r}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=S(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=e[i]&&function(t){return new Promise((function(o,r){!function(e,t,i,o){Promise.resolve(o).then((function(t){e({value:t,done:i})}),t)}(o,r,(t=e[i](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return C=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},C(e)};function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=C(e),o=0;o<i.length;o++)"default"!==i[o]&&f(t,e,i[o]);return O(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)}function D(e,t,i,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,i):r?r.value=i:t.set(e,i),i}function x(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function N(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var o,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=t[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=t[Symbol.dispose],i&&(r=o)}if("function"!=typeof o)throw new TypeError("Object not disposable.");r&&(o=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:o,async:i})}else i&&e.stack.push({async:!0});return t}var K="function"==typeof SuppressedError?SuppressedError:function(e,t,i){var o=new Error(i);return o.name="SuppressedError",o.error=e,o.suppressed=t,o};function V(e){function t(t){e.error=e.hasError?new K(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var i,o=0;return function r(){for(;i=e.stack.pop();)try{if(!i.async&&1===o)return o=0,e.stack.push(i),Promise.resolve().then(r);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(n).then(r,(function(e){return t(e),r()}))}else o|=1}catch(e){t(e)}if(1===o)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function F(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,i,o,r,n){return i?t?".jsx":".js":!o||r&&n?o+r+"."+n.toLowerCase()+"js":e})):e}const B={__extends:r,__assign:n,__rest:a,__decorate:s,__param:c,__esDecorate:u,__runInitializers:d,__propKey:l,__setFunctionName:p,__metadata:b,__awaiter:m,__generator:y,__createBinding:f,__exportStar:h,__values:S,__read:g,__spread:I,__spreadArrays:k,__spreadArray:v,__await:w,__asyncGenerator:M,__asyncDelegator:P,__asyncValues:A,__makeTemplateObject:_,__importStar:R,__importDefault:E,__classPrivateFieldGet:T,__classPrivateFieldSet:D,__classPrivateFieldIn:x,__addDisposableResource:N,__disposeResources:V,__rewriteRelativeImportExtension:F}}},t={};function i(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=i(6278),t=i(7206),o=i(701),r=i(2398),n=i(7698),a=i(3911),s=i(4134),c=i(6450),u=i(2317);class d extends e.InstanceBase{config={};deck;model;deckState;async init(t){this.config=t,this.log("debug","Initializing module"),this.updateStatus(e.InstanceStatus.Disconnected),this.saveConfig(this.config),this.setupDeckConnection()}async destroy(){this.deck.destroy(),this.updateStatus(e.InstanceStatus.Disconnected),this.log("debug","destroy "+this.id)}setupDeckConnection(){this.deck=new n.StreamDeck,this.deck.on("connected",(()=>{this.deckState=this.deck.state,console.log(this.deckState),this.updateStatus(e.InstanceStatus.Ok);const t=this.getBestModelId(),i=t?(0,u.GetModelSpec)(t):void 0;i&&(this.model=i),setImmediate((()=>{console.log("save",this.config),this.saveConfig(this.config)})),this.init_variables(),this.init_actions(),this.init_feedbacks(),this.init_presets(),this.checkFeedbacks()})),this.deck.on("error",(t=>{this.log("error",t.message),this.updateStatus(e.InstanceStatus.UnknownError,t.message)})),this.deck.on("disconnect",(()=>{this.updateStatus(e.InstanceStatus.Connecting),this.log("info","Lost connection")})),this.deck.on("status_change",((t,i)=>{(t===n.StreamDeckConnectionStatus.ERROR||t===n.StreamDeckConnectionStatus.CLOSED)&&(this.updateStatus(e.InstanceStatus.Connecting),this.log("info","Lost connection"))})),this.deck.on("rec_data",(()=>{this.checkFeedbacks(),(0,a.updateVariables)(this)}));const t=this.parseIpAndPort();t&&(this.updateStatus(e.InstanceStatus.Connecting),this.deck.connect(t.ip,t.port).catch((t=>{this.updateStatus(e.InstanceStatus.ConnectionFailure),this.log("error",`Connecting failed: ${t}`)})))}getBestModelId(){const e=Number(this.config.modelID);if(!isNaN(e)&&255!==e)return e;const t=this.deckState?.device;return t&&t.deviceModel?t.deviceModel:void 0}parseIpAndPort(){const e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if(this.config.bonjourHost){const[t,i]=this.config.bonjourHost.split(":"),o=Number(i);if(t.match(e)&&!isNaN(o))return{ip:t,port:o}}else if(this.config.host&&this.config.host.match(e))return{ip:this.config.host,port:void 0};return null}getConfigFields(){return(0,t.GetConfigFields)()}async configUpdated(t){this.config=t,this.deck.destroy(),this.updateStatus(e.InstanceStatus.Disconnected),this.setupDeckConnection()}init_variables(){this.log("debug","Initializing variables"),this.setVariableDefinitions((0,a.variables)(this))}init_actions(){this.log("debug","Initializing actions"),this.setActionDefinitions((0,o.GetActionsList)(this))}init_feedbacks(){this.log("debug","Initializing feedbacks"),this.setFeedbackDefinitions((0,s.feedbacks)(this))}init_presets(){this.log("debug","Initializing presets"),this.setPresetDefinitions((0,c.presets)(this))}}(0,e.runEntrypoint)(d,[...r.UpgradeScriptList])})()})();