(()=>{var e={41:e=>{"use strict";const t={};e.exports=t,t.score=(e,r)=>e===r?1:0===e.length||0===r.length?0:Math.max(0,1-t.levenshtein(e,r)/r.length),t.bestMatch=(e,r,n={})=>{var i,o,s,a,c=n.scoreLimit||0,l=-1,u=null;for(i=0,o=r.length;i<o;i++){if(a=r[i],1===(s=t.score(e,a)))return n.indexOf?i:a;s>c&&(c=s,u=a,l=i)}return n.indexOf?l:u},t.topMatch=(e,r,n={})=>{var i,o,s,a=n.scoreLimit||0,c=n.deltaRate||.9;if((s=r.map((r,n)=>({pattern:r,index:n,score:t.score(e,r)}))).sort((e,t)=>t.score-e.score),s[0].score<=a)return[];for(a=Math.max(a,s[0].score*c),i=1,o=s.length;i<o;i++)if(s[i].score<a){s.length=i;break}return n.indexOf?s.map(e=>e.index):s.map(e=>e.pattern)};const r=new Set(["a","an","the","this","that","those","some","of","in","on","at","my","your","her","his","its","our","their"]);function n(e,t=r){return e.split(/[ '"/|,:_-]+/g).filter(e=>e&&!t.has(e))}t.bestTokenMatch=(e,r,i={})=>{var o,s,a,c,l,u,d,p,f,h,m,g,y,b=i.scoreLimit||0,w=i.tokenDisparityPenalty||.88,v=b,_=n(e),k=-1,S=null;if(!_.length||!r.length)return i.indexOf?k:S;for(o=0,s=r.length;o<s;o++){for(p=n(d=r[o]),h=0,a=0,c=_.length;a<c;a++){for(m=_[a],y=0,l=0,u=p.length;l<u&&(f=p[l],!((g=t.score(m,f))>y&&(y=g,1===g)));l++);h+=y}h/=_.length,_.length!==p.length&&(h*=w**Math.abs(p.length-_.length)),h>v&&(v=h,S=d,k=o)}return i.indexOf?k:S},t.topTokenMatch=(e,r,i={})=>{var o,s,a,c,l,u,d,p,f,h,m,g,y,b=i.scoreLimit||0,w=i.tokenDisparityPenalty||.88,v=i.deltaRate||.9,_=n(e),k=[];if(!_.length||!r.length)return[];for(o=0,s=r.length;o<s;o++){for(p=n(d=r[o]),h=0,a=0,c=_.length;a<c;a++){for(m=_[a],y=0,l=0,u=p.length;l<u&&(f=p[l],!((g=t.score(m,f))>y&&(y=g,1===g)));l++);h+=y}h/=_.length,_.length!==p.length&&(h*=w**Math.abs(p.length-_.length)),k.push({pattern:d,index:o,score:h})}if(k.sort((e,t)=>t.score-e.score),k[0].score<=b)return[];for(b=Math.max(b,k[0].score*v),o=1,s=k.length;o<s;o++)if(k[o].score<b){k.length=o;break}return i.indexOf?k.map(e=>e.index):k.map(e=>e.pattern)};const i=[],o=[];t.levenshtein=(e,t)=>{if(e===t)return 0;if(e.length>t.length){let r=e;e=t,t=r}let r=e.length,n=t.length;for(;r>0&&e.charCodeAt(r-1)===t.charCodeAt(n-1);)r--,n--;let s,a,c,l,u=0;for(;u<r&&e.charCodeAt(u)===t.charCodeAt(u);)u++;if(r-=u,n-=u,0===r)return n;let d=0,p=0;for(;d<r;)o[d]=e.charCodeAt(u+d),i[d]=++d;for(;p<n;)for(s=t.charCodeAt(u+p),c=p++,a=p,d=0;d<r;d++)l=s===o[d]?c:c+1,c=i[d],a=i[d]=c>a?l>a?a+1:l:l>c?c+1:l;return a}},131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},277:e=>{"use strict";function t(e,t=".",r="",n=!1){this.sign=1,this.digits=[],this.exposant=0,this.special=null,this.decimalSeparator=t,this.forceDecimalSeparator=!!n,this.groupSeparator=r,this.set(e)}e.exports=t,t.prototype.set=function(e){var t,r,n,i,o,s,a;if(e=+e,this.sign=1,this.digits.length=0,this.exposant=0,this.special=null,!Number.isFinite(e))return this.special=e,null;if(!(t=(e=""+e).match(/(-)?([0-9]+)(?:.([0-9]+))?(?:e([+-][0-9]+))?/)))throw new Error("Unexpected error");for(this.sign=t[1]?-1:1,this.exposant=t[2].length+(parseInt(t[4],10)||0),o=0,s=!1,a=0,n=0,i=t[2].length;n<i;n++)0!==(r=+t[2][n])?(s=!0,this.digits[o]=r,a=++o):s?(this.digits[o]=r,o++):this.exposant--;if(t[3])for(n=0,i=t[3].length;n<i;n++)0!==(r=+t[3][n])?(s=!0,this.digits[o]=r,a=++o):s?(this.digits[o]=r,o++):this.exposant--;a!==o&&(this.digits.length=a)},t.prototype.toNumber=function(){return null!==this.special?this.special:parseFloat((this.sign<0?"-":"")+"0."+this.digits.join("")+"e"+this.exposant)},t.prototype.toString=function(...e){return null!==this.special?""+this.special:this.exposant>20||this.exposant<-20?this.toScientificString(...e):this.toNoExpString(...e)},t.prototype.toExponential=t.prototype.toExponentialString=function(){if(null!==this.special)return""+this.special;var e=this.sign<0?"-":"";return this.digits.length?(e+=this.digits[0],this.digits.length>1&&(e+=this.decimalSeparator+this.digits.join("").slice(1)),e+="e"+(this.exposant>0?"+":"")+(this.exposant-1)):e+"0"};const r=["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹"],n="0".charCodeAt(0);t.prototype.toScientific=t.prototype.toScientificString=function(){if(null!==this.special)return""+this.special;var e=this.sign<0?"-":"";return this.digits.length?(e+=this.digits[0],this.digits.length>1&&(e+=this.decimalSeparator+this.digits.join("").slice(1)),e+=" × 10"+(this.exposant<=0?"⁻":"")+(""+Math.abs(this.exposant-1)).split("").map(e=>r[e.charCodeAt(0)-n]).join("")):e+"0"},t.prototype.toNoExp=t.prototype.toNoExpString=function(e=1,t=0,r=!1,n=!1,i=this.exposant){if(null!==this.special)return""+this.special;var o=[],c=[],l=this.sign<0?"-":n?"+":"";return this.digits.length?i<=0?(s(o,0,e),s(c,0,-i),a(c,this.digits),t&&this.digits.length-i<t&&s(c,0,t-this.digits.length+i)):i>=this.digits.length?(i<e&&s(o,0,e-i),a(o,this.digits),s(o,0,i-this.digits.length),t&&!r&&s(c,0,t)):(i<e&&s(o,0,e-i),a(o,this.digits,0,i),a(c,this.digits,i),t&&this.digits.length-i<t&&(!r||this.digits.length-i>0)&&s(c,0,t-this.digits.length+i)):(s(o,0,e),t&&!r&&s(c,0,t)),l+=this.groupSeparator?this.groupDigits(o,this.groupSeparator):o.join(""),c.length?l+=this.decimalSeparator+(this.decimalGroupSeparator?this.groupDigits(c,this.decimalGroupSeparator):c.join("")):this.forceDecimalSeparator&&(l+=this.decimalSeparator),l};const i=["","k","M","G","T","P","E","Z","Y"],o=["","m","µ","n","p","f","a","z","y"];function s(e,t,r){for(;r--;)e[e.length]=t;return e}function a(e,t,r=0,n=t.length){for(let i=r;i<n;i++)e[e.length]=t[i];return e}t.prototype.toMetric=t.prototype.toMetricString=function(e=1,t=0,r=!1,n=!1){if(null!==this.special)return""+this.special;if(!this.digits.length)return this.sign>0?"0":"-0";var s,a="";if(this.exposant>0){if(s=1+(this.exposant-1)%3,void 0===(a=i[Math.floor((this.exposant-1)/3)]))return this.toScientificString()}else if(s=3- -this.exposant%3,void 0===(a=o[1+Math.floor(-this.exposant/3)]))return this.toScientificString();return this.toNoExpString(e,t,r,n,s)+a},t.prototype.precision=function(e,t=0){if(null!==this.special||e>=this.digits.length)return this;if(e<0)return this.digits.length=0,this;if((t*=this.sign)<0?this.digits.length>e+4&&9===this.digits[e]&&9===this.digits[e+1]&&9===this.digits[e+2]&&9===this.digits[e+3]&&9===this.digits[e+4]:t>0?this.digits[e]>0||this.digits[e+1]>0||this.digits[e+2]>0||this.digits[e+3]>0||this.digits[e+4]>0:this.digits[e]>=5){let t=e-1,r=!1;for(;t>=0;t--){if(this.digits[t]<9){this.digits[t]++,r=!0;break}this.digits[t]=0}r?this.digits.length=t+1:(this.exposant++,this.digits[0]=1,this.digits.length=1)}else this.digits.length=e,this.removeTrailingZero();return this},t.prototype.round=function(e=0,t=0){var r=this.exposant+e;return this.precision(r,t)},t.prototype.floor=function(e=0){var t=this.exposant+e;return this.precision(t,-1)},t.prototype.ceil=function(e=0){var t=this.exposant+e;return this.precision(t,1)},t.prototype.removeTrailingZero=function(){for(var e=this.digits.length-1;e>=0&&0===this.digits[e];)e--;this.digits.length=e+1},t.prototype.groupDigits=function(e,t,r=!1){for(var n="",i=r?0:3-e.length%3,o=0,s=e.length;o<s;o++)n+=o&&(o+i)%3==0?t+e[o]:e[o];return n}},360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,r,n){let i=(255&e)<<16|(255&t)<<8|255&r;return n&&n>=0&&n<1&&(i+=16777216*Math.round(255*(1-n))),i},t.splitRgb=i,t.splitHsl=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()},t.parseEscapeCharacters=function(e){return e.replaceAll("\\n","\n").replaceAll("\\r","\r").replaceAll("\\t","\t").replaceAll("\\f","\f").replaceAll("\\v","\v").replaceAll("\\b","\b").replaceAll("\\\\","\\").replaceAll("\\x00","\0").replaceAll("\\x01","").replaceAll("\\x02","").replaceAll("\\x03","")},t.substituteEscapeCharacters=function(e){return e.replaceAll("\n","\\n").replaceAll("\r","\\r").replaceAll("\t","\\t").replaceAll("\f","\\f").replaceAll("\v","\\v").replaceAll("\b","\\b").replaceAll("\\","\\\\").replaceAll("\0","\\x00").replaceAll("","\\x01").replaceAll("","\\x02").replaceAll("","\\x03")};const n=r(6284);function i(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,n.colord)(e).isValid()){const t=(0,n.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}},732:(e,t,r)=>{"use strict";var n=r(7798);t.regexp={},t.regexp.array2alternatives=function(e){var t,r=e.slice();for(r.sort((e,t)=>t.length-e.length),t=0;t<r.length;t++)r[t]=n.regExpPattern(r[t]);return r.join("|")}},929:e=>{"use strict";e.exports=JSON.parse('{"߀":"0","́":""," ":" ","Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ɓ":"B","ｃ":"C","Ⓒ":"C","Ｃ":"C","Ꜿ":"C","Ḉ":"C","Ç":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ɗ":"D","Ɖ":"D","ᴅ":"D","Ꝺ":"D","Ð":"Dh","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","ɛ":"E","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","ᴇ":"E","ꝼ":"F","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","ɢ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","ȷ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","ϻ":"M","Ꞥ":"N","Ƞ":"N","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ɲ":"N","Ꞑ":"N","ᴎ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Þ":"Th","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ɑ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","Ƃ":"b","ⓒ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","C":"c","Ć":"c","Ĉ":"c","Ċ":"c","Č":"c","Ƈ":"c","Ȼ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","Ƌ":"d","Ꮷ":"d","ԁ":"d","Ɦ":"d","ð":"dh","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ꝿ":"g","ᵹ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ɭ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ԉ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ɔ":"o","ᴑ":"o","œ":"oe","ƣ":"oi","ꝏ":"oo","ȣ":"ou","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ρ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ʂ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","þ":"th","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"}')},1118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=r(1635).__importDefault(r(228)),i=r(2203),o=r(8895);class s extends n.default{#e;#t;#r;get isConnected(){return this.#e.isConnected}get isConnecting(){return this.#e.isConnecting}get isDestroyed(){return this.#e.isDestroyed}constructor(e,t,r){super(),this.#e=new o.TCPHelper(e,t,r),this.#t=new a,this.#e._socket.pipe(this.#t),this.#e.on("connect",()=>this.emit("connect")),this.#e.on("end",()=>this.emit("end")),this.#e.on("error",e=>this.emit("error",e)),this.#e.on("status_change",(e,t)=>this.emit("status_change",e,t)),this.#t.on("iac",(e,t)=>this.emit("iac",e,t)),this.#t.on("sb",e=>this.emit("sb",e)),this.#t.on("data",e=>this.emit("data",e)),this.#t.on("drain",()=>this.emit("drain")),this.#r=setTimeout(()=>{this.#r=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)},5e3)}connect(){return this.#e.connect()}async send(e){return this.#e.send(e)}destroy(){this.#e.destroy(),void 0!==this.#r&&(clearTimeout(this.#r),this.#r=void 0),this.#t.removeAllListeners(),this.#t.destroy()}}t.TelnetHelper=s;class a extends i.Transform{#n;#i;#o;constructor(e){super(e),this.#n=Buffer.alloc(0),this.#i=Buffer.alloc(0),this.#o=0}_transform(e,t,r){for(let t=0;t<e.length;++t)this.#s(e[t]);const n=this.#a();n.length&&this.push(n),r()}#s(e){if(0===this.#o){if(255===e)return void(this.#o=255);this.#n=Buffer.concat([this.#n,Buffer.from([e])])}else if(255===this.#o)switch(e){case 250:case 251:case 252:case 253:case 254:this.#o=e;break;default:this.#o=0}else{if(this.#o>=251&&this.#o<=254){let t;switch(this.#o){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#o=0)}if(250===this.#o){if(240===e)return this.emit("sb",this.#i),this.#o=0,void(this.#i=Buffer.alloc(0));this.#i=Buffer.concat([this.#i,Buffer.from([e])])}}}#a(){const e=this.#n;return this.#n=Buffer.alloc(0),e}}},1295:e=>{"use strict";var t={};e.exports=t,t.toCamelCase=function(e,t=!1,r=!1){return e&&"string"==typeof e?e.replace(/(?:^[\s_-]*|([\s_-]+))(([^\s_-]?)([^\s_-]*))/g,(e,n,i,o,s)=>t?n||r?o?o.toUpperCase()+s:"":i:n||r?o?o.toUpperCase()+s.toLowerCase():"":i.toLowerCase()):""},t.camelCaseToSeparated=function(e,t=" ",r=!0){return e&&"string"==typeof e?r?e.replace(/(?:(^)|)([A-Z]+)(?:($)|(?=[a-z]))/g,(e,r,n,i)=>{i=""===i;var o=(r=""===r)?"":t;return 1===n.length?o+n.toLowerCase():i?o+n:2===n.length?o+n[0].toLowerCase()+t+n[1].toLowerCase():o+n.slice(0,-1)+t+n.slice(-1).toLowerCase()}):e.replace(/^([A-Z])|([A-Z])/g,(e,r,n)=>r?r.toLowerCase():t+n.toLowerCase()):""},t.camelCaseToDash=t.camelCaseToDashed=e=>t.camelCaseToSeparated(e,"-",!1)},1400:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning",e.AuthenticationFailure="authentication_failure"}(r||(t.InstanceStatus=r={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(n||(t.Regex=n={}))},1635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>V,__assign:()=>o,__asyncDelegator:()=>I,__asyncGenerator:()=>x,__asyncValues:()=>C,__await:()=>S,__awaiter:()=>h,__classPrivateFieldGet:()=>E,__classPrivateFieldIn:()=>D,__classPrivateFieldSet:()=>T,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>N,__esDecorate:()=>l,__exportStar:()=>y,__extends:()=>i,__generator:()=>m,__importDefault:()=>O,__importStar:()=>P,__makeTemplateObject:()=>A,__metadata:()=>f,__param:()=>c,__propKey:()=>d,__read:()=>w,__rest:()=>s,__rewriteRelativeImportExtension:()=>z,__runInitializers:()=>u,__setFunctionName:()=>p,__spread:()=>v,__spreadArray:()=>k,__spreadArrays:()=>_,__values:()=>b,default:()=>B});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t,r,n,i,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,f=r.length-1;f>=0;f--){var h={};for(var m in n)h[m]="access"===m?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,r[f])("accessor"===c?{get:d.get,set:d.set}:d[l],h);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(d.get=a),(a=s(g.set))&&(d.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===c?i.unshift(a):d[l]=a)}u&&Object.defineProperty(u,n.name,d),p=!0}function u(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})}function m(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function _(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function k(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function x(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})},t&&(n[e]=t(n[e])))}function a(e,t){try{(r=i[e](t)).value instanceof S?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function I(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:S(e[n](t)),done:!1}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},M=function(e){return M=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},M(e)};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=M(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return j(t,e),t}function O(e){return e&&e.__esModule?e:{default:e}}function E(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function D(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function V(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var F="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function N(e){function t(t){e.error=e.hasError?new F(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function z(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,o){return r?t?".jsx":".js":!n||i&&o?n+i+"."+o.toLowerCase()+"js":e}):e}const B={__extends:i,__assign:o,__rest:s,__decorate:a,__param:c,__esDecorate:l,__runInitializers:u,__propKey:d,__setFunctionName:p,__metadata:f,__awaiter:h,__generator:m,__createBinding:g,__exportStar:y,__values:b,__read:w,__spread:v,__spreadArrays:_,__spreadArray:k,__await:S,__asyncGenerator:x,__asyncDelegator:I,__asyncValues:C,__makeTemplateObject:A,__importStar:P,__importDefault:O,__classPrivateFieldGet:E,__classPrivateFieldSet:T,__classPrivateFieldIn:D,__addDisposableResource:V,__disposeResources:N,__rewriteRelativeImportExtension:z}},1649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=r(1635),i=r(360),o=n.__importDefault(r(3290)),s=r(2593),a=r(1706),c=r(8039),l=r(4044),u=r(4289),d=r(2365);t.InstanceBase=class{#c;#l;id;#u=new o.default({concurrency:1});#d=!1;#p=!1;#f={};#h;#m;#g=new Map;#y=new Map;#b=new Map;#w;#v;get instanceOptions(){return this.#w}get label(){return this.#v}constructor(e){if(!(0,s.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#w={disableVariableValidation:!1},this.#c=new l.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},e=>{process.send(e)},5e3),process.on("message",e=>{this.#c.receivedMessage(e)}),this.#h=new u.ActionManager(async e=>this.#c.sendWithCb("parseVariablesInString",e),e=>this.#c.sendWithNoCb("setActionDefinitions",e),e=>this.#c.sendWithNoCb("setCustomVariable",e),this.log.bind(this)),this.#m=new c.FeedbackManager(async e=>this.#c.sendWithCb("parseVariablesInString",e),e=>this.#c.sendWithNoCb("updateFeedbackValues",e),e=>this.#c.sendWithNoCb("setFeedbackDefinitions",e),this.log.bind(this)),this.#l=e.upgradeScripts,this.id=e.id,this.#v=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#u.add(async()=>{if(this.#d)throw new Error("Already initialized");const t=e.actions,r=e.feedbacks;if(this.#f=e.config,this.#v=e.label,e.isFirstInit){const t={},r=this.getConfigFields();for(const e of r)"default"in e&&(t[e.id]=e.default);this.#f=t,this.saveConfig(this.#f),e.lastUpgradeIndex=this.#l.length-1}const{updatedActions:n,updatedFeedbacks:i,updatedConfig:o}=(0,a.runThroughUpgradeScripts)(t,r,e.lastUpgradeIndex,this.#l,this.#f,!1);this.#f=o??this.#f;const s=this.#c.sendWithCb("upgradedItems",{updatedActions:n,updatedFeedbacks:i});try{await this.init(this.#f,!!e.isFirstInit),this.#d=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await s}return setImmediate(()=>{this._handleUpdateActions({actions:t},!0).catch(e=>{this.log("error",`Receive actions failed: ${e}`)}),this._handleUpdateFeedbacks({feedbacks:r},!0).catch(e=>{this.log("error",`Receive feedbacks failed: ${e}`)})}),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#l.length-1,updatedConfig:this.#f}})}async _handleDestroy(){await this.#u.add(async()=>{if(!this.#d)throw new Error("Not initialized");await this.destroy(),this.#d=!1})}async _handleConfigUpdateAndLabel(e){await this.#u.add(async()=>{if(!this.#d)throw new Error("Not initialized");this.#v=e.label,this.#f=e.config,await this.configUpdated(this.#f)})}async _handleExecuteAction(e){return this.#h.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)({},e.feedbacks,null,this.#l,this.#f,!0);this.#c.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch(e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)})}this.#m.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)(e.actions,{},null,this.#l,this.#f,!0);this.#c.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch(e=>{this.log("error",`Failed to save upgraded actions: ${e}`)})}this.#h.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,s.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#h.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#m.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#p)return}else if(!this.#p)return;if(!this.handleStartStopRecordActions)throw this.#p=!1,new Error("Recording actions is not supported by this module!");this.#p=e.recording,this.handleStartStopRecordActions(this.#p)}async _handleVariablesChanged(e){this.#m.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#g.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#g.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#f=e,this.#c.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#h.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#m.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[r,n]of Object.entries(e))n&&t.push({...n,id:r});this.#c.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],r=[];this.#y.clear();for(const n of e)t.push({id:n.variableId,name:n.name}),this.#y.set(n.variableId,n),this.#b.has(n.variableId)||(this.#b.set(n.variableId,""),r.push({id:n.variableId,value:""}));if(!this.#w.disableVariableValidation){const e=new Set(this.#y.keys());for(const t of this.#b.keys())e.has(t)||(this.#b.delete(t),r.push({id:t,value:void 0}))}this.#c.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:r})}setVariableValues(e){const t=[];for(const[r,n]of Object.entries(e))this.#w.disableVariableValidation?(void 0===n?this.#b.delete(r):this.#b.set(r,n),t.push({id:r,value:n})):this.#y.has(r)?(this.#b.set(r,n??""),t.push({id:r,value:n??""})):t.push({id:r,value:void 0});this.#c.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#b.get(e)}async parseVariablesInString(e){const t=this.#m.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#c.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#m.checkFeedbacks(e)}checkFeedbacksById(...e){this.#m.checkFeedbacksById(e)}subscribeActions(...e){this.#h.subscribeActions(e)}unsubscribeActions(...e){this.#h.unsubscribeActions(e)}subscribeFeedbacks(...e){this.#m.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#m.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#p)throw new Error("Not currently recording actions");this.#c.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}oscSend(e,t,r,n){this.#c.sendWithNoCb("send-osc",(0,i.literal)({host:e,port:t,path:r,args:n}))}updateStatus(e,t){this.#c.sendWithNoCb("set-status",(0,i.literal)({status:e,message:t??null}))}log(e,t){this.#c.sendWithNoCb("log-message",(0,i.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const r="string"==typeof e?{type:e}:e,n=new d.SharedUdpSocketImpl(this.#c,this.#g,r);return t&&n.on("message",t),n}}},1706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=function(e,t,r,o,s,a){const c=new Map,l=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??r;t&&"number"==typeof e&&l(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??r;e&&"number"==typeof t&&l(t).feedbacks.push(e.id)}if(!a)for(let e=r??-1;e<o.length;e++)l(e).config=!0;const u={},d={};let p;if(c.size>0){const a=Array.from(c.keys()).sort(),l=Math.min(...a,r??-1)+1,f=[],h=[],m=o.length;for(let r=l;r<m;r++){const a=c.get(r-1);a&&(f.push(...a.actions),h.push(...a.feedbacks));const l=!!a?.config;if(!l&&0===f.length&&0===h.length)continue;const m=p??s,g=(0,o[r])({currentConfig:i(m)},{config:l?m:null,actions:f.map(t=>{const r=e[t];if(r)return(0,n.literal)({id:r.id,controlId:r.controlId,actionId:r.actionId,options:void 0!==r.options?i(r.options):{}})}).filter(e=>!!e),feedbacks:h.map(e=>{const r=t[e];if(r)return(0,n.literal)({id:r.id,controlId:r.controlId,feedbackId:r.feedbackId,options:void 0!==r.options?i(r.options):{},isInverted:r.isInverted})}).filter(e=>!!e)});l&&g.updatedConfig&&(p=g.updatedConfig);for(const t of g.updatedActions)if(t){const r=e[t.id];r&&(r.actionId=t.actionId,r.options=t.options,d[t.id]=r)}for(const e of g.updatedFeedbacks)if(e){const r=t[e.id];r&&(r.feedbackId=e.feedbackId,r.options=e.options,u[e.id]={...r,style:u[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,r]of Object.entries(e))d[t]||"number"!=typeof r?.upgradeIndex||(d[t]=r);for(const[e,r]of Object.entries(t))u[e]||"number"!=typeof r?.upgradeIndex||(u[e]=r)}return{updatedActions:d,updatedFeedbacks:u,updatedConfig:p}};const n=r(360);function i(e){return JSON.parse(JSON.stringify(e))}},1943:e=>{"use strict";e.exports=require("fs/promises")},2017:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},2018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1635);n.__exportStar(r(3730),t),n.__exportStar(r(1649),t),n.__exportStar(r(7386),t),n.__exportStar(r(1400),t),n.__exportStar(r(8983),t),n.__exportStar(r(8104),t),n.__exportStar(r(3258),t),n.__exportStar(r(131),t),n.__exportStar(r(3371),t),n.__exportStar(r(9786),t),n.__exportStar(r(6132),t)},2203:e=>{"use strict";e.exports=require("stream")},2365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const n=r(1635).__importDefault(r(228)),i=r(360);class o extends n.default{#c;#_;#w;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#o&&"object"==typeof this.#o?this.#o:void 0}#o="pending";constructor(e,t,r){super(),this.#c=e,this.#_=t,this.#w={...r}}bind(e,t,r){if(this.#o&&"object"==typeof this.#o)throw new Error("Socket is already bound");switch(this.#o){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,i.assertNever)(this.#o),new Error("Invalid socket state")}this.#o="binding",r&&this.on("listening",r),this.#c.sendWithCb("sharedUdpSocketJoin",{family:this.#w.type,portNumber:e}).then(t=>{this.#o={portNumber:e,handleId:t},this.#_.set(t,this),this.emit("listening")},e=>{this.#o="closed",this.emit("error",e instanceof Error?e:new Error(e))}).catch(()=>null)}close(e){if(this.#o&&"object"==typeof this.#o);else switch(this.#o){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,i.assertNever)(this.#o),new Error("Invalid socket state")}const t=this.#o.handleId;this.#o="closed",e&&this.on("close",e),this.#c.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then(()=>{this.#_.delete(t),this.emit("close")},e=>{this.#_.delete(t),this.emit("error",e instanceof Error?e:new Error(e))}).catch(()=>null)}send(e,t,r,n,i,o){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof r){if("number"!=typeof n||"string"!=typeof i)throw new Error("Invalid arguments");if(void 0!==o&&"function"!=typeof o)throw new Error("Invalid arguments");const s=this.#k(e,t,r);this.#S(s,n,i,o)}else{if("string"!=typeof r)throw new Error("Invalid arguments");{if(void 0!==n&&"function"!=typeof n)throw new Error("Invalid arguments");const i=this.#k(e,0,void 0);this.#S(i,t,r,n)}}}#k(e,t,r){let n;if("string"==typeof e)n=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))n=e;else{if(Array.isArray(e))return Buffer.from(e);n=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return n.subarray(t,void 0!==r?r+t:void 0)}#S(e,t,r,n){if(!this.#o||"object"!=typeof this.#o)throw new Error("Socket is not open");this.#c.sendWithCb("sharedUdpSocketSend",{handleId:this.#o.handleId,message:e,address:r,port:t}).then(()=>{n?.()},e=>{this.emit("error",e instanceof Error?e:new Error(e))}).catch(()=>null)}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#o="fatalError";const t=this.boundState;t&&this.#_.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=o},2593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIsVisibleFn=function(e){return(e??[]).map(e=>"isVisibleExpression"in e&&"string"==typeof e.isVisibleExpression?{...e,isVisibleFnType:"expression",isVisibleFn:e.isVisibleExpression,isVisible:void 0,isVisibleExpression:void 0}:"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisibleFnType:"function",isVisible:void 0,isVisibleExpression:void 0}:{...e,isVisible:void 0,isVisibleFn:void 0,isVisibleFnType:void 0,isVisibleExpression:void 0})},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},2789:(e,t,r)=>{"use strict";const n=r(6846),i={"!":!0,"?":!0,":":!0,";":!0};e.exports=function(e,t){var r,o,s,a,c,l,u,d,p,f,h,m=0,g=!0,y=n.toArray(e),b=!1,w=[];"object"!=typeof t&&(t={width:t}),(!t.width||"number"!=typeof t.width||t.width<=0)&&(t.width=80),s=t.offset?t.width-t.offset:t.width,"string"!=typeof t.glue&&(t.glue="\n"),t.regroupFn?(y=t.regroupFn(y),f=t.charWidthFn||n.width):f=t.charWidthFn||n.charWidth,l=y.length;for(var v=()=>{if(!g||b){for(;" "===y[m];)m++;b&&"\n"===y[m]&&(g=!0,m++)}if(m>=l)return null;for(g=!1,b=!1,p=!1,r=u=m,c=d=0;;){if(r>=l)return y.slice(m,r).join("");if("\n"===y[r])return g=!0,a=y.slice(m,r++).join(""),t.fill&&(a+=" ".repeat(s-c)),a;if(t.skipFn&&(o=t.skipFn(y,r))!==r)r=o;else{if(" "!==y[r]||p||i[y[r+1]]?p=!1:(u=r,d=c),(c+=f(y[r]))>s){if(b=!0,u!==m)r=u;else if(s<t.width)return r=m,"";return a=y.slice(m,r).join(""),t.fill&&(a+=" ".repeat(s-d)),a}r++}}};m<l&&null!==(h=v());)w.push(h),m=r,s=t.width;return g&&w.push(""),t.noTrim||t.fill||(w=w.map((e,t)=>t===w.length-1?e:e.trimRight())),t.noJoin||(w=w.join(t.glue)),t.updateOffset&&(t.offset=c),w}},3258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6368),i=r(6641),o=r(4774),s=()=>{},a=new i.TimeoutError;t.default=class extends n{constructor(e){var t,r,n,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((r,n)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(a)});r(await o)}catch(e){n(e)}this._next()},t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},3371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3889:(e,t,r)=>{"use strict";var n=r(929);e.exports=function(e){return e.replace(/[^\u0000-\u007e]/g,e=>n[e]||e)}},4044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=r(1635),i=r(360),o=n.__importDefault(r(6022));t.IpcWrapper=class{#x;#I;#C;#A=1;#j=new Map;constructor(e,t,r){this.#x=e,this.#I=t,this.#C=r}async sendWithCb(e,t,r,n=0){n<=0&&(n=this.#C);const i={timeout:void 0,resolve:()=>null,reject:()=>null},s=new Promise((e,t)=>{i.resolve=e,i.reject=t});this.#A>268435456&&(this.#A=1);const a=this.#A++;this.#j.set(a,i),this.#I({direction:"call",name:String(e),payload:o.default.stringify(t),callbackId:a});const c=new Error("Call timed out");return i.timeout=setTimeout(()=>{i.reject(r?r():c),this.#j.delete(a)},n),s}sendWithNoCb(e,t){this.#I({direction:"call",name:String(e),payload:o.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#x[e.name];if(!t)return void(e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:o.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?o.default.parse(e.payload):void 0).then(t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!0,payload:o.default.stringify(t)})},t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):o.default.stringify(t)})});break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#j.get(e.callbackId);if(this.#j.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const r=e.payload?o.default.parse(e.payload):void 0;if(e.success)t.resolve(r);else{let e=r;r&&"object"==typeof r&&"message"in r&&(e=new Error(r.message),r.stack&&(e.stack=r.stack)),t.reject(e)}break}default:(0,i.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},4289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=r(2593);function i(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#M;#P;#O;#E;#T=new Map;#D=new Map;constructor(e,t,r,n){this.#M=e,this.#P=t,this.#O=r,this.#E=n}async handleExecuteAction(e){const t=this.#T.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:(t,r)=>{this.#O({customVariableId:t,value:r,controlId:e.action.controlId})}};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},r)}handleUpdateActions(e){for(const[t,r]of Object.entries(e)){const e=this.#D.get(t);if(e){const t=this.#T.get(e.actionId);if(t?.unsubscribe){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during unsubscribe")}};Promise.resolve(t.unsubscribe(i(e),r)).catch(t=>{this.#E("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)})}}if(!r||r.disabled)this.#D.delete(t);else{this.#D.set(t,r);const e=this.#T.get(r.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#M({text:e,controlId:r.controlId,actionInstanceId:r.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during unsubscribe")}};Promise.resolve(e.subscribe(i(r),t)).catch(e=>{this.#E("error",`Action subscribe failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)})}}}}async handleLearnAction(e){const t=this.#T.get(e.action.actionId);if(t&&t.learn){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during learn")}};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},r)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#T.clear();for(const[r,i]of Object.entries(e))i&&(t.push({id:r,name:i.name,description:i.description,options:(0,n.serializeIsVisibleFn)(i.options),hasLearn:!!i.learn,learnTimeout:i.learnTimeout,hasLifecycleFunctions:!!i.subscribe||!!i.unsubscribe}),this.#T.set(r,i));this.#P({actions:t})}subscribeActions(e){let t=Array.from(this.#D.values());const r=new Set(e);r.size&&(t=t.filter(e=>r.has(e.actionId)));for(const e of t){const t=this.#T.get(e.actionId);if(t?.subscribe){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during subscribe")}};Promise.resolve(t.subscribe(i(e),r)).catch(t=>{this.#E("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)})}}}unsubscribeActions(e){let t=Array.from(this.#D.values());const r=new Set(e);r.size&&(t=t.filter(e=>r.has(e.actionId)));for(const e of t){const t=this.#T.get(e.actionId);if(t&&t.unsubscribe){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during unsubscribe")}};Promise.resolve(t.unsubscribe(i(e),r)).catch(t=>{this.#E("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)})}}}}},4326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=function(e,t){Promise.resolve().then(async()=>{if(u)throw new Error("runEntrypoint can only be called once");if(u=!0,t||(t=[]),!Array.isArray(t))throw new Error("upgradeScripts must be an array");for(const e of t)if("function"!=typeof e)throw new Error("upgradeScripts must be an array of functions");const r=process.env.MODULE_MANIFEST;if(!r)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await o.default.readFile(r),d=JSON.parse(n.toString());if(d.runtime?.api!==i.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!d.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let p=d.runtime.apiVersion;if("0.0.0"===p)try{const e=await o.default.readFile(c.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(p=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const f=process.env.CONNECTION_ID;if("string"!=typeof f||!f)throw new Error("Module initialise is missing CONNECTION_ID");const h=process.env.VERIFICATION_TOKEN;if("string"!=typeof h||!h)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const m=new a.IpcWrapper({},e=>{process.send(e)},5e3);process.once("message",e=>{m.receivedMessage(e)}),l=new e((0,s.literal)({id:f,upgradeScripts:t,_isInstanceBaseProps:!0})),m.sendWithCb("register",{apiVersion:p,connectionId:f,verificationToken:h}).then(()=>{console.log("Module-host accepted registration")},e=>{console.error("Module registration failed",e),process.exit(11)})}).catch(e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)})};const n=r(1635),i=r(9967),o=n.__importDefault(r(1943)),s=r(360),a=r(4044),c=n.__importDefault(r(6928));let l,u=!1},4357:(e,t)=>{"use strict";t.resize=function(e,t){return e.length===t?e:e.length>t?e.slice(0,t):e+" ".repeat(t-e.length)},t.occurrenceCount=function(e,t,r=!1){if(!e||!t)return 0;for(var n=0,i=0,o=r?1:t.length;-1!==(i=e.indexOf(t,i));)n++,i+=o;return n}},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},4694:(e,t,r)=>{const{splice:n}=r(7060);e.exports=function(e){e.setActionDefinitions({insertData:{name:"Insert Data",options:[{id:"data0",type:"textinput",label:"Data without modifier",default:"",useVariables:!0},{id:"data1type",type:"checkbox",label:"Use different data with modifier 1",default:!1},{id:"data1",type:"textinput",label:"Data with modifier 1",default:"",useVariables:!0,isVisible:e=>e.data1type},{id:"data2type",type:"checkbox",label:"Use different data with modifier 2",default:!1},{id:"data2",type:"textinput",label:"Data with modifier 2",default:"",useVariables:!0,isVisible:e=>e.data2type},{id:"data3type",type:"checkbox",label:"Use different data with modifier 1+2",default:!1},{id:"data3",type:"textinput",label:"Data with modifier 1+2",default:"",useVariables:!0,isVisible:e=>e.data3type},{id:"position",type:"textinput",label:"Insert Position",default:"cursor",useVariables:!0,tooltip:"any positive number counts from start, any negative number counts from end, anything not a number uses the cursor position"}],callback:async({options:t})=>{let r=await e.parseVariablesInString(t.position),n=parseInt(r);n=isNaN(n)?e.entry_cursor_position:n>0?Math.min(n,e.entry_raw_length):n<0?Math.max(e.entry_raw_length-n,0):"-"===r.charAt(0)?e.entry_raw_length:0;let i="";i=e.modifier[1].effective&&e.modifier[2].effective?t.data3type?await e.parseVariablesInString(t.data3):await e.parseVariablesInString(t.data0):!e.modifier[1].effective&&e.modifier[2].effective?t.data2type?await e.parseVariablesInString(t.data2):await e.parseVariablesInString(t.data0):e.modifier[1].effective&&!e.modifier[2].effective&&t.data1type?await e.parseVariablesInString(t.data1):await e.parseVariablesInString(t.data0),e.entry_raw=e.entry_raw.slice(0,n)+i+e.entry_raw.slice(n),e.entry_cursor_position=n+i.length,e.entry_raw_length=e.entry_raw.length,e.entry_raw_length>e.config.maxlength&&(e.entry_raw=e.entry_raw.slice(0,e.config.maxlength),e.entry_raw_length=e.config.maxlength),e.entry_cursor_position>e.config.maxlength&&(e.entry_cursor_position=e.config.maxlength),e.entry_formatted=await e.formatData(e.entry_raw),e.entry_cursor=e.entry_raw.slice(0,e.entry_cursor_position)+e.config.cursor+e.entry_raw.slice(e.entry_cursor_position),e.setVariableValues({entry_raw:e.entry_raw,entry_raw_length:e.entry_raw_length,entry_formatted:e.entry_formatted,entry_cursor:e.entry_cursor,entry_cursor_position:e.entry_cursor_position}),e.checkEnter(),e.config.autotime&&e.restartTimeout(),e.checkFeedbacks("valid");let o=!1;for(const t of[1,2])e.modifier[t].onetime&&(e.releaseModifier(t),o=!0);o&&e.checkFeedbacks("modifier")}},overwriteData:{name:"Overwrite Data",options:[{id:"data0",type:"textinput",label:"Data without modifier",default:"",useVariables:!0},{id:"data1type",type:"checkbox",label:"Use different data with modifier 1",default:!1},{id:"data1",type:"textinput",label:"Data with modifier 1",default:"",useVariables:!0,isVisible:e=>e.data1type},{id:"data2type",type:"checkbox",label:"Use different data with modifier 2",default:!1},{id:"data2",type:"textinput",label:"Data with modifier 2",default:"",useVariables:!0,isVisible:e=>e.data2type},{id:"data3type",type:"checkbox",label:"Use different data with modifier 1+2",default:!1},{id:"data3",type:"textinput",label:"Data with modifier 1+2",default:"",useVariables:!0,isVisible:e=>e.data3type},{id:"startposition",type:"textinput",label:"Start Position",default:"cursor",useVariables:!0,tooltip:"any positive number counts from start, any negative number counts from end, anything not a number uses the cursor position"},{id:"endposition",type:"textinput",label:"End Position",default:"",useVariables:!0,tooltip:"empty will overwrite with all data and occasionally increase length, any positive number counts from start, any negative number counts from end, use -0 to limit to existing length, anything not a number uses the cursor position"}],callback:async({options:t})=>{let r=await e.parseVariablesInString(t.startposition),n=parseInt(r);n=isNaN(n)?e.entry_cursor_position:n>0?Math.min(n,e.entry_raw_length):n<0?Math.max(e.entry_raw_length-n,0):"-"===r.charAt(0)?e.entry_raw_length:0;let i,o=await e.parseVariablesInString(t.position);""===o?i=null:(i=parseInt(o),i=isNaN(i)?e.entry_cursor_position:i>0?Math.min(i,e.entry_raw_length):i<0?Math.max(e.entry_raw_length-i,0):"-"===o.charAt(0)?e.entry_raw_length:0);let s="";if(s=e.modifier[1].effective&&e.modifier[2].effective?t.data3type?await e.parseVariablesInString(t.data3):await e.parseVariablesInString(t.data0):!e.modifier[1].effective&&e.modifier[2].effective?t.data2type?await e.parseVariablesInString(t.data2):await e.parseVariablesInString(t.data0):e.modifier[1].effective&&!e.modifier[2].effective&&t.data1type?await e.parseVariablesInString(t.data1):await e.parseVariablesInString(t.data0),null!==i){let e=i-n;e<s.length&&(s=s.slice(0,e))}n+s.length>e.entry_raw_length?e.entry_raw=e.entry_raw.slice(0,n)+s:e.entry_raw=e.entry_raw.slice(0,n)+s+e.entry_raw.slice(n+s.length),e.entry_cursor_position=n+s.length,e.entry_raw_length=e.entry_raw.length,e.entry_raw_length>e.config.maxlength&&(e.entry_raw=e.entry_raw.slice(0,e.config.maxlength),e.entry_raw_length=e.config.maxlength),e.entry_cursor_position>e.config.maxlength&&(e.entry_cursor_position=e.config.maxlength),e.entry_formatted=await e.formatData(e.entry_raw),e.entry_cursor=e.entry_raw.slice(0,e.entry_cursor_position)+e.config.cursor+e.entry_raw.slice(e.entry_cursor_position),e.setVariableValues({entry_raw:e.entry_raw,entry_raw_length:e.entry_raw_length,entry_formatted:e.entry_formatted,entry_cursor:e.entry_cursor,entry_cursor_position:e.entry_cursor_position}),e.checkEnter(),e.config.autotime&&e.restartTimeout(),e.checkFeedbacks("valid");let a=!1;for(const t of[1,2])e.modifier[t].onetime&&(e.releaseModifier(t),a=!0);a&&e.checkFeedbacks("modifier")}},deleteData:{name:"Delete Data",options:[{id:"amount",type:"number",label:"Amount to delete",default:-1,min:-65536,max:65536,step:1,tooltip:"negative numbers delete to the left, positive numbers delete to the right"},{id:"position",type:"textinput",label:"Position",default:"cursor",useVariables:!0,tooltip:"any positive number counts from start, any negative number counts from end, anything not a number uses the cursor position"}],callback:async({options:t})=>{let r=await e.parseVariablesInString(t.position),n=parseInt(r);if(n=isNaN(n)?e.entry_cursor_position:n>0?Math.min(n,e.entry_raw_length):n<0?Math.max(e.entry_raw_length-n,0):"-"===r.charAt(0)?e.entry_raw_length:0,t.amount>0)e.entry_raw=e.entry_raw.slice(0,n)+e.entry_raw.slice(Math.min(n+t.amount,e.entry_raw_length)),e.entry_cursor_position=n;else if(t.amount<0){let r=Math.max(n+t.amount,0);e.entry_raw=e.entry_raw.slice(0,r)+e.entry_raw.slice(n),e.entry_cursor_position=r}e.entry_raw_length=e.entry_raw.length,e.entry_formatted=await e.formatData(e.entry_raw),e.entry_cursor=e.entry_raw.slice(0,e.entry_cursor_position)+e.config.cursor+e.entry_raw.slice(e.entry_cursor_position),e.setVariableValues({entry_raw:e.entry_raw,entry_raw_length:e.entry_raw_length,entry_formatted:e.entry_formatted,entry_cursor:e.entry_cursor,entry_cursor_position:e.entry_cursor_position}),e.checkEnter(),e.config.autotime&&e.restartTimeout(),e.checkFeedbacks("valid");let i=!1;for(const t of[1,2])e.modifier[t].onetime&&(e.releaseModifier(t),i=!0);i&&e.checkFeedbacks("modifier")}},setData:{name:"Set Data",options:[{id:"data",type:"textinput",label:"Data",default:"",useVariables:!0}],callback:async({options:t})=>{let r=await e.parseVariablesInString(t.data);e.entry_raw=r,e.entry_cursor_position=r.length,e.entry_raw_length>e.config.maxlength&&(e.entry_raw=e.entry_raw.slice(0,e.config.maxlength),e.entry_raw_length=e.config.maxlength),e.entry_cursor_position>e.config.maxlength&&(e.entry_cursor_position=e.config.maxlength),e.entry_raw_length=e.entry_raw.length,e.entry_formatted=await e.formatData(e.entry_raw),e.entry_cursor=e.entry_raw.slice(0,e.entry_cursor_position)+e.config.cursor+e.entry_raw.slice(e.entry_cursor_position),e.setVariableValues({entry_raw:e.entry_raw,entry_raw_length:e.entry_raw_length,entry_formatted:e.entry_formatted,entry_cursor:e.entry_cursor,entry_cursor_position:e.entry_cursor_position}),e.checkEnter(),e.config.autotime&&e.restartTimeout(),e.checkFeedbacks("valid");let n=!1;for(const t of[1,2])e.modifier[t].onetime&&(e.releaseModifier(t),n=!0);n&&e.checkFeedbacks("modifier")}},normalizeEntry:{name:"Normalize Unicode",options:[],callback:async()=>{let t=e.entry_raw.slice(0,e.entry_cursor_position),r=e.entry_raw.slice(e.entry_cursor_position);t=t.normalize(),r=r.normalize(),e.entry_cursor_position=t.length,e.entry_raw=t+r,e.entry_raw_length>e.config.maxlength&&(e.entry_raw=e.entry_raw.slice(0,e.config.maxlength),e.entry_raw_length=e.config.maxlength),e.entry_cursor_position>e.config.maxlength&&(e.entry_cursor_position=e.config.maxlength),e.entry_raw_length=e.entry_raw.length,e.entry_formatted=await e.formatData(e.entry_raw),e.entry_cursor=t+e.config.cursor+r,e.setVariableValues({entry_raw:e.entry_raw,entry_raw_length:e.entry_raw_length,entry_formatted:e.entry_formatted,entry_cursor:e.entry_cursor,entry_cursor_position:e.entry_cursor_position})}},cursorPosition:{name:"Set Cursor Cosition",options:[{id:"operation",type:"dropdown",label:"Operation",choices:[{id:"inc",label:"Incremental"},{id:"abs",label:"Absolute"}],default:"inc"},{id:"amount",type:"number",label:"Movement",default:0,min:-65536,max:65536,step:1}],callback:async({options:t})=>{let r=e.entry_cursor_position;"abs"===t.operation?r=t.amount:"inc"===t.operation&&(r+=t.amount),r=Math.min(r,e.entry_raw.length),r=Math.max(r,0),e.entry_cursor_position=r,e.config.autotime&&e.restartTimeout(),e.entry_cursor=e.entry_raw.slice(0,e.entry_cursor_position)+e.config.cursor+e.entry_raw.slice(e.entry_cursor_position),e.setVariableValues({entry_cursor:e.entry_cursor,entry_cursor_position:e.entry_cursor_position})}},enterData:{name:"Enter Data",options:[{id:"copy",type:"dropdown",label:"Action",choices:[{id:"default",label:"Do default copy"},{id:"raw",label:"Copy raw data"},{id:"formatted",label:"Copy formatted data"},{id:"none",label:"Do only increase counter"}],default:"default"}],callback:async({options:t})=>{e.cancelTimeout(),"default"===t.copy?e.enter():e.enter(t.copy);let r=!1;for(const t of[1,2])e.modifier[t].onetime&&(e.releaseModifier(t),r=!0);r&&e.checkFeedbacks("modifier")}},changeModifier:{name:"Change Modifier",options:[{id:"modifier",type:"dropdown",label:"Modifier",choices:[{id:1,label:"Modifier 1"},{id:2,label:"Modifier 2"}],default:1},{id:"action",type:"dropdown",label:"Action",choices:[{id:"set",label:"set this button"},{id:"release",label:"release this button"},{id:"releaseall",label:"release all buttons"},{id:"toggle",label:"toggle this button"},{id:"toggleall",label:"toggle modifier (set this / release all)"},{id:"onetime",label:"set for one modification"}],default:"onetime"}],callback:({options:t,controlId:r})=>{const n=`${r}`;switch(t.action){case"set":e.modifier[t.modifier].controls.add(n),e.modifier[t.modifier].effective=!0,e.modifier[t.modifier].onetime=!1;break;case"release":e.modifier[t.modifier].controls.delete(n),e.modifier[t.modifier].effective=!!e.modifier[t.modifier].controls.size,e.modifier[t.modifier].onetime=!1;break;case"releaseall":e.modifier[t.modifier].controls.clear(),e.modifier[t.modifier].effective=!1,e.modifier[t.modifier].onetime=!1;break;case"toggle":e.modifier[t.modifier].controls.has(n)?e.modifier[t.modifier].controls.delete(n):e.modifier[t.modifier].controls.add(n),e.modifier[t.modifier].effective=!!e.modifier[t.modifier].controls.size,e.modifier[t.modifier].onetime=!1;break;case"toggleall":e.modifier[t.modifier].controls.size?(e.modifier[t.modifier].controls.clear(),e.modifier[t.modifier].effective=!1):(e.modifier[t.modifier].controls.add(n),e.modifier[t.modifier].effective=!0),e.modifier[t.modifier].onetime=!1;break;case"onetime":e.modifier[t.modifier].controls.size?(e.modifier[t.modifier].controls.clear(),e.modifier[t.modifier].effective=!1,e.modifier[t.modifier].onetime=!1):(e.modifier[t.modifier].controls.add(n),e.modifier[t.modifier].effective=!0,e.modifier[t.modifier].onetime=!0)}e.checkFeedbacks("modifier")}},cancelTimeout:{name:"Cancel Timeout",options:[],callback:()=>{e.cancelTimeout()}},setEnterCriteria:{name:"Set Enter Criteria",options:[{id:"autolengthraw",label:"Automatic enter when raw length is reached",type:"checkbox",default:e.config.autolengthraw||!1},{type:"number",id:"enterlengthraw",label:"Length",min:1,max:65536,step:1,default:e.config.enterlengthraw||4,isVisible:e=>!0===e.autolengthraw},{id:"autolengthformatted",label:"Automatic enter when formatted length is reached",type:"checkbox",default:e.config.autolengthformatted||!1},{type:"number",id:"enterlengthformatted",label:"Length",min:1,max:65536,step:1,default:e.config.enterlengthformatted||4,isVisible:e=>!0===e.autolengthformatted},{id:"autoregex",label:"Automatic enter when regular expression matches",type:"checkbox",default:e.config.autoregex||!1},{id:"enterregex",label:"Regular expression",type:"textinput",default:e.config.enterregex||"/.*/i",regex:"/^/(.+)\\/([gmiyusvd]?)$/",isVisible:e=>!0===e.autoregex},{id:"autotime",label:"Automatic enter after inactivity timeout",type:"checkbox",default:e.config.autotime||!1},{type:"number",id:"timeout",label:"Timeout (s)",min:.1,max:30,step:.1,default:e.config.timeout||2.5,isVisible:e=>!0===e.autotime},{type:"dropdown",id:"criterialogic",label:"Enter Criteria",choices:[{id:"or",label:"Any checked criterion is met (OR)"},{id:"and",label:"All checked cruteria are met (AND)"}],default:e.config.criterialogic||"or"}],callback:async({options:t})=>{const r={...e.config,...t};e.config=r,e.saveConfig(r),e.updateActions()}},setFormat:{name:"Set Format",options:[{type:"dropdown",id:"formattype",label:"Format Type",choices:[{id:"none",label:"None"},{id:"ecmaauto",label:"ECMA-376 automatic"},{id:"ecmastring",label:"ECMA-376 text"},{id:"ecmanumber",label:"ECMA-376 number"},{id:"ecmadate",label:"ECMA-376 date"},{id:"ecmatime",label:"ECMA-376 time"},{id:"ecmabool",label:"ECMA-376 boolean"},{id:"printf",label:"Printf format"},{id:"regex",label:"Regular Expression"}],default:e.config.formattype},{type:"textinput",id:"formatecma",label:"ECMA-376 format expression",default:e.config.formatecma,useVariables:!0,isVisible:e=>e.formattype.startsWith("ecma")},{type:"textinput",id:"formatprintf",label:"printf format expression",default:e.config.formatfrintf,useVariables:!0,isVisible:e=>"printf"===e.formattype},{type:"textinput",id:"formatregex",label:"Regular replacement expression",default:e.config.formatregex,useVariables:!0,isVisible:e=>"regex"===e.formattype}],callback:async({options:t})=>{const r={...e.config,...t};e.config=r,e.saveConfig(r),e.updateActions(),e.entry_formatted=await e.formatData(e.entry_raw),e.setVariableValues({entry_formatted:e.entry_formatted})}}})}},4774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},4797:(e,t,r)=>{const{combineRgb:n}=r(6278);e.exports=async function(e){e.setFeedbackDefinitions({modifier:{name:"Modifier active",type:"boolean",description:"Shows if a modifier has been set from this control or from any control",defaultStyle:{bgcolor:5592405,color:0},options:[{id:"modifier",type:"dropdown",label:"Modifier",choices:[{id:1,label:"Modifier 1"},{id:2,label:"Modifier 2"},{id:3,label:"Modifier 1+2"}],default:1},{id:"location",type:"dropdown",label:"Is set on...",choices:[{id:"here",label:"...this button"},{id:"anywhere",label:"...any button"}],default:"anywhere"}],callback:({options:t,controlId:r})=>{if(1===t.modifier||2===t.modifier){if("anywhere"===t.location)return e.modifier[t.modifier].effective;if("here"===t.location)return e.modifier[t.modifier].controls.has(r)}else if(3===t.modifier){if("anywhere"===t.location)return e.modifier[1].effective&&e.modifier[2].effective;if("here"===t.location)return e.modifier[1].controls.has(r)&&e.modifier[2].controls.has(r)}}},valid:{name:"RegExp Validation",type:"boolean",description:"Shows if data matches a given Regular expression",defaultStyle:{bgcolor:49152,color:0},options:[{id:"data",type:"dropdown",label:"Data to watch",choices:[{id:"raw",label:"Raw data"},{id:"formatted",label:"Formatted Data"},{id:"raw_last",label:"last Entry"}],default:"raw"},{id:"regex",type:"textinput",label:"Regular Expression",default:"/.*/"}],callback:({options:t})=>{let r="";switch(t.data){case"raw":r=e.entry_raw;break;case"formatted":r=e.entry_formatted;break;case"raw_last":r=e.entry_last}try{return e.buildRegex(t.regex).test(r)}catch(t){return e.log("error","Testing for regular expression in feedback failed, "+t.message),!1}}}})}},4865:e=>{"use strict";const t=(e,t,n,i)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const o=Object.getOwnPropertyDescriptor(e,n),s=Object.getOwnPropertyDescriptor(t,n);!r(o,s)&&i||Object.defineProperty(e,n,s)},r=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),o=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,r,{ignoreNonConfigurable:s=!1}={})=>{const{name:a}=e;for(const n of Reflect.ownKeys(r))t(e,r,n,s);return((e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)})(e,r),((e,t,r)=>{const s=""===r?"":`with ${r.trim()}() `,a=n.bind(null,s,t.toString());Object.defineProperty(a,"name",o),Object.defineProperty(e,"toString",{...i,value:a})})(e,r,a),e}},6022:e=>{!function(){"use strict";var t=[,function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=i,t.convertMapToObject=function(e){return Array.from(e).reduce(function(e,t){var n,i,o=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],a=o[1];return e[s]=a,e},{})},t.isArguments=function(e){return null!=e&&i(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var o={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=o,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(o.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var r=Object.create(null),n=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},i=function(e){return"="===e?-1:r[e]},o=0;o<64;o++)r[n(o)]=o;var s=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],r=0;r<e;r++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},a={encode:function(e){if("string"==typeof e){var t=e;e=s(t.length);for(var r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[r]=i}}for(var o=[],a=null,c=null,l=null,u=null,d=0;d<e.length;d++)switch(d%3){case 0:a=e[d]>>2&63,c=(3&e[d])<<4;break;case 1:c|=e[d]>>4&15,l=(15&e[d])<<2;break;case 2:l|=e[d]>>6&3,u=63&e[d],o.push(n(a)),o.push(n(c)),o.push(n(l)),o.push(n(u)),a=null,c=null,l=null,u=null}return null!=a&&(o.push(n(a)),o.push(n(c)),null==l?o.push("="):o.push(n(l)),null==u&&o.push("=")),o.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var r=s(t),n=null,o=null,a=null,c=0,l=0;l<e.length;l++){var u=e.charAt(l),d=i(u);switch(l%4){case 0:if(d<0)throw new Error("invalid base64 string");n=d<<2;break;case 1:if(d<0)throw new Error("invalid base64 string");n|=d>>4,r[c++]=n,o=(15&d)<<4;break;case 2:d>=0&&(o|=d>>2,r[c++]=o,a=(3&d)<<6);break;case 3:d>=0&&(r[c++]=a|d)}}return r},newBinary:s};t.Base64=a},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function e(t,i,o,s,a){var c=i[t];switch(r(c)){case"string":return n(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var l,u=s+o,d=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,f=0;f<p;f+=1)d[f]=e(f,c,o,u,a)||"null";return l=0===d.length?"[]":u?"[\n"+u+d.join(",\n"+u)+"\n"+s+"]":"["+d.join(",")+"]"}var h=Object.keys(c);return a&&(h=h.sort()),h.forEach(function(t){(l=e(t,c,o,u,a))&&d.push(n(t)+(u?": ":":")+l)}),l=0===d.length?"{}":u?"{\n"+u+d.join(",\n"+u)+"\n"+s+"}":"{"+d.join(",")+"}"}};t.default=function(e,t){var r=Object.assign({indent:"",canonical:!1},t);if(!0===r.indent)r.indent="  ";else if("number"==typeof r.indent){for(var n="",o=0;o<r.indent;o++)n+=" ";r.indent=n}return i("",{"":e},r.indent,"",r.canonical)},e.exports=t.default}],r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}var i={};!function(){var e=i,t=n(2).Base64,r=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var o=n(1),s={};e.EJSON=s;var a=new Map;s.addType=function(e,t){if(a.has(e))throw new Error("Type ".concat(e," already present"));a.set(e,t)};var c=[{matchJSONValue:function(e){return(0,o.hasOwn)(e,"$date")&&1===(0,o.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,o.hasOwn)(e,"$regexp")&&(0,o.hasOwn)(e,"$flags")&&2===(0,o.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,o.hasOwn)(e,"$InfNaN")&&1===(0,o.lengthOf)(e)},matchObject:o.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,o.hasOwn)(e,"$binary")&&1===(0,o.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,o.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,o.hasOwn)(e,"$escape")&&1===(0,o.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var r=(0,o.lengthOf)(e);1!==r&&2!==r||(t=c.some(function(t){return t.matchJSONValue(e)}))}return t},toJSONValue:function(e){var t={};return(0,o.keysOf)(e).forEach(function(r){t[r]=s.toJSONValue(e[r])}),{$escape:t}},fromJSONValue:function(e){var t={};return(0,o.keysOf)(e.$escape).forEach(function(r){t[r]=s.fromJSONValue(e.$escape[r])}),t}},{matchJSONValue:function(e){return(0,o.hasOwn)(e,"$type")&&(0,o.hasOwn)(e,"$value")&&2===(0,o.lengthOf)(e)},matchObject:function(e){return s._isCustomType(e)},toJSONValue:function(e){var t=r._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!a.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=a.get(t);return r._noYieldsAllowed(function(){return n(e.$value)})}}];s._isCustomType=function(e){return e&&(0,o.isFunction)(e.toJSONValue)&&(0,o.isFunction)(e.typeName)&&a.has(e.typeName())},s._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?a:(0,o.convertMapToObject)(a)},s._getConverters=function(){return c};var l=function(e){for(var t=0;t<c.length;t++){var r=c[t];if(r.matchObject(e))return r.toJSONValue(e)}},u=function e(t){if(null===t)return null;var r=l(t);return void 0!==r?r:(0,o.isObject)(t)?((0,o.keysOf)(t).forEach(function(r){var n=t[r];if((0,o.isObject)(n)||void 0===n||(0,o.isInfOrNaN)(n)){var i=l(n);i?t[r]=i:e(n)}}),t):t};s._adjustTypesToJSONValue=u,s.toJSONValue=function(e){var t=l(e);if(void 0!==t)return t;var r=e;return(0,o.isObject)(e)&&(r=s.clone(e),u(r)),r};var d=function(e){if((0,o.isObject)(e)&&null!==e){var t=(0,o.keysOf)(e);if(t.length<=2&&t.every(function(e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var r=0;r<c.length;r++){var n=c[r];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var r=d(t);return r!==t?r:(0,o.isObject)(t)?((0,o.keysOf)(t).forEach(function(r){var n=t[r];if((0,o.isObject)(n)){var i=d(n);if(n!==i)return void(t[r]=i);e(n)}}),t):t};s._adjustTypesFromJSONValue=p,s.fromJSONValue=function(e){var t=d(e);return t===e&&(0,o.isObject)(e)&&(t=s.clone(e),p(t)),t},s.stringify=(0,o.handleError)(function(e,t){var r=s.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(r,t):JSON.stringify(r)}),s.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return s.fromJSONValue(JSON.parse(e))},s.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},s.equals=function(e,t,r){var n,i=!(!r||!r.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,o.isObject)(e)||!(0,o.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(s.isBinary(e)&&s.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,o.isFunction)(e.equals))return e.equals(t,r);if((0,o.isFunction)(t.equals))return t.equals(e,r);var a,c=Array.isArray(e),l=Array.isArray(t);if(c!==l)return!1;if(c&&l){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!s.equals(e[n],t[n],r))return!1;return!0}switch(s._isCustomType(e)+s._isCustomType(t)){case 1:return!1;case 2:return s.equals(s.toJSONValue(e),s.toJSONValue(t))}var u=(0,o.keysOf)(e),d=(0,o.keysOf)(t);return i?(n=0,a=u.every(function(i){return!(n>=d.length||i!==d[n]||!s.equals(e[i],t[d[n]],r)||(n++,0))})):(n=0,a=u.every(function(i){return!!(0,o.hasOwn)(t,i)&&!!s.equals(e[i],t[i],r)&&(n++,!0)})),a&&n===d.length},s.clone=function(e){var t;if(!(0,o.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(s.isBinary(e)){t=s.newBinary(e.length);for(var r=0;r<e.length;r++)t[r]=e[r];return t}return Array.isArray(e)?e.map(s.clone):(0,o.isArguments)(e)?Array.from(e).map(s.clone):(0,o.isFunction)(e.clone)?e.clone():s._isCustomType(e)?s.fromJSONValue(s.clone(s.toJSONValue(e)),!0):(t={},(0,o.keysOf)(e).forEach(function(r){t[r]=s.clone(e[r])}),t)},s.newBinary=t.newBinary}(),e.exports=i.EJSON}()},6132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6136:e=>{"use strict";const t={underscoreToSpace:!0,lowerCaseWords:new Set(["a","an","the","for","and","nor","but","or","yet","so","of","on","off","in","into","by","with","to","at","up","down","as"])};e.exports=(e,r=t)=>{if(!e||"string"!=typeof e)return"";var n=r.dashToSpace??t.dashToSpace,i=r.underscoreToSpace??t.underscoreToSpace,o=r.zealous??t.zealous,s=r.preserveAllCaps??t.preserveAllCaps,a=r.lowerCaseWords??t.lowerCaseWords;return a=a instanceof Set?a:Array.isArray(a)?new Set(a):null,n&&(e=e.replace(/-+/g," ")),i&&(e=e.replace(/_+/g," ")),(e=e.replace(/ +/g," ").trim()).replace(/[^\s_-]+/g,(t,r)=>{if(a&&r&&r+t.length<e.length){let e=t.toLowerCase();if(a.has(e))return e}return o?s&&t===t.toUpperCase()?t:t[0].toUpperCase()+t.slice(1).toLowerCase():t[0].toUpperCase()+t.slice(1)})}},6160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var n=r(8895);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return n.TCPHelper}});var i=r(1118);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return i.TelnetHelper}});var o=r(6259);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return o.UDPHelper}})},6250:(e,t,r)=>{"use strict";const n=r(2017);n.code='require("ajv/dist/runtime/equal").default',t.A=n},6259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=r(1635).__importDefault(r(7194)),i=r(228),o=r(1400);class s extends i.EventEmitter{#V;#F;#N;#w;#z=!1;#B;#r;get isDestroyed(){return this.#z}constructor(e,t,r){super(),this.#V=e,this.#F=t,this.#w={...r},this.#N=n.default.createSocket("udp4");try{this.#N.bind(this.#w.bind_port||0,this.#w.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#w.bind_ip||"0.0.0.0"}:${this.#w.bind_port||0}`)}void 0!==this.#w.ttl&&this.#N.setTTL(this.#w.ttl),void 0!==this.#w.multicast_ttl&&this.#N.setMulticastTTL(this.#w.multicast_ttl),this.#N.on("error",e=>{this.#R(o.InstanceStatus.UnknownError,e.message),this.emit("error",e)}),this.#N.on("listening",()=>{this.#w.broadcast&&this.#N.setBroadcast(!0),this.#w.multicast_interface&&this.#N.setMulticastInterface(this.#w.multicast_interface),this.#R(o.InstanceStatus.Ok),this.emit("listening")}),this.#N.on("message",(e,t)=>this.emit("data",e,t)),this.#r=setTimeout(()=>{this.#z||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#V}:${this.#F} is missing an error handler!`)},5e3)}async send(e){if(this.#z)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise((t,r)=>{this.#N.send(e,this.#F,this.#V,e=>{e?r(e):t()})})}destroy(){this.#z=!0,void 0!==this.#r&&(clearTimeout(this.#r),this.#r=void 0),this.#N.removeAllListeners(),this.#N.close(),this.removeAllListeners()}#R(e,t){this.#B!=e&&(this.#B=e,this.emit("status_change",e,t))}}t.UDPHelper=s},6278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.substituteEscapeCharacters=t.parseEscapeCharacters=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const n=r(1635);n.__exportStar(r(9077),t),n.__exportStar(r(2018),t),n.__exportStar(r(4581),t);var i=r(360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return i.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return i.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return i.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return i.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return i.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return i.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return i.assertNever}}),Object.defineProperty(t,"parseEscapeCharacters",{enumerable:!0,get:function(){return i.parseEscapeCharacters}}),Object.defineProperty(t,"substituteEscapeCharacters",{enumerable:!0,get:function(){return i.substituteEscapeCharacters}}),n.__exportStar(r(6160),t);var o=r(4326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return o.runEntrypoint}})},6284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},i=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},o=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},s=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},a=function(e){return{r:o(e.r,0,255),g:o(e.g,0,255),b:o(e.b,0,255),a:o(e.a)}},c=function(e){return{r:i(e.r),g:i(e.g),b:i(e.b),a:i(e.a,3)}},l=/^#([0-9a-f]{3,8})$/i,u=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},d=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),a=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},p=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),a=n*(1-(t-o)*r),c=n*(1-(1-t+o)*r),l=o%6;return{r:255*[n,a,s,s,c,n][l],g:255*[c,n,n,a,s,s][l],b:255*[s,s,c,n,n,a][l],a:i}},f=function(e){return{h:s(e.h),s:o(e.s,0,100),l:o(e.l,0,100),a:o(e.a)}},h=function(e){return{h:i(e.h),s:i(e.s),l:i(e.l),a:i(e.a,3)}},m=function(e){return p((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},g=function(e){return{h:(t=d(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_={string:[[function(e){var t=l.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?i(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?i(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=w.exec(e)||v.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=y.exec(e)||b.exec(e);if(!t)return null;var n,i,o=f({h:(n=t[1],i=t[2],void 0===i&&(i="deg"),Number(n)*(r[i]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(o)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,i=e.b,o=e.a,s=void 0===o?1:o;return n(t)&&n(r)&&n(i)?a({r:Number(t),g:Number(r),b:Number(i),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,i=e.l,o=e.a,s=void 0===o?1:o;if(!n(t)||!n(r)||!n(i))return null;var a=f({h:Number(t),s:Number(r),l:Number(i),a:Number(s)});return m(a)},"hsl"],[function(e){var t=e.h,r=e.s,i=e.v,a=e.a,c=void 0===a?1:a;if(!n(t)||!n(r)||!n(i))return null;var l=function(e){return{h:s(e.h),s:o(e.s,0,100),v:o(e.v,0,100),a:o(e.a)}}({h:Number(t),s:Number(r),v:Number(i),a:Number(c)});return p(l)},"hsv"]]},k=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},S=function(e){return"string"==typeof e?k(e.trim(),_.string):"object"==typeof e&&null!==e?k(e,_.object):[null,void 0]},x=function(e,t){var r=g(e);return{h:r.h,s:o(r.s+100*t,0,100),l:r.l,a:r.a}},I=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C=function(e,t){var r=g(e);return{h:r.h,s:r.s,l:o(r.l+100*t,0,100),a:r.a}},A=function(){function e(e){this.parsed=S(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return i(I(this.rgba),2)},e.prototype.isDark=function(){return I(this.rgba)<.5},e.prototype.isLight=function(){return I(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,r=e.g,n=e.b,s=(o=e.a)<1?u(i(255*o)):"","#"+u(t)+u(r)+u(n)+s;var e,t,r,n,o,s},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,r=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+n+", "+i+")":"rgb("+t+", "+r+", "+n+")";var e,t,r,n,i},e.prototype.toHsl=function(){return h(g(this.rgba))},e.prototype.toHslString=function(){return t=(e=h(g(this.rgba))).h,r=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+i+")":"hsl("+t+", "+r+"%, "+n+"%)";var e,t,r,n,i},e.prototype.toHsv=function(){return e=d(this.rgba),{h:i(e.h),s:i(e.s),v:i(e.v),a:i(e.a,3)};var e},e.prototype.invert=function(){return j({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),j(x(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),j(x(this.rgba,-e))},e.prototype.grayscale=function(){return j(x(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),j(C(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),j(C(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?j({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):i(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=g(this.rgba);return"number"==typeof e?j({h:e,s:t.s,l:t.l,a:t.a}):i(t.h)},e.prototype.isEqual=function(e){return this.toHex()===j(e).toHex()},e}(),j=function(e){return e instanceof A?e:new A(e)},M=[];t.Colord=A,t.colord=j,t.extend=function(e){e.forEach(function(e){M.indexOf(e)<0&&(e(A,_),M.push(e))})},t.getFormat=function(e){return S(e)[1]},t.random=function(){return new A({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},6368:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},6641:(e,t,r)=>{"use strict";const n=r(4617);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const o=(e,t,r)=>new Promise((o,s)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);const a=setTimeout(()=>{if("function"==typeof r){try{o(r())}catch(e){s(e)}return}const n=r instanceof Error?r:new i("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),s(n)},t);n(e.then(o,s),()=>{clearTimeout(a)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=i},6846:(e,t,r)=>{"use strict";const n={};e.exports=n,n.encode=e=>String.fromCodePoint(...e),n.decode=e=>Array.from(e,e=>e.codePointAt(0)),n.firstCodePoint=e=>e.codePointAt(0),n.firstChar=e=>e.length?String.fromCodePoint(e.codePointAt(0)):void 0,n.toArray=e=>Array.from(e),n.toCells=(e,t,r=4,i=0,...o)=>{var s,a,c,l,u=[];for(s of t)if(10===(a=s.codePointAt(0)))i=0;else if(9===a)for(c=r-i%r-1,u.push(new e("\t",1,...o)),i+=1+c;c--;)u.push(new e(" ",-2,...o));else for(l=n.codePointWidth(a),u.push(new e(s,l,...o)),i+=l;--l>0;)u.push(new e(" ",-1,...o));return u},n.fromCells=e=>{var t,r="";for(t of e)t.filler||(r+=t.char);return r},n.length=e=>{var t,r=0;for(t of e)r++;return r},n.width=e=>{var t,r=0;for(t of e)r+=n.codePointWidth(t.codePointAt(0));return r},n.arrayWidth=(e,t)=>{var r,i=0;for(void 0===t&&(t=e.length),r=0;r<t;r++)i+=n.isFullWidth(e[r])?2:1;return i};var i=0;n.getLastTruncateWidth=()=>i,n.widthLimit=n.truncateWidth=(e,t)=>{var r,o,s=0;for(r of(i=0,e)){if(o=n.codePointWidth(r.codePointAt(0)),i+o>t)return e.slice(0,s);i+=o,s+=r.length}return e},n.surrogatePair=e=>{var t=e.charCodeAt(0);return t<55296||t>=57344?0:t<56320?1:-1},n.isFullWidth=e=>n.isFullWidthCodePoint(e.codePointAt(0)),n.charWidth=e=>n.codePointWidth(e.codePointAt(0));const o=new Map;!function(){var e=r(9332);for(let t of e)for(let e=t.s;e<=t.e;e++)o.set(e,t.w)}(),n.codePointWidth=e=>n.isEmojiCodePoint(e)?o.get(e)??2:e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)?2:n.isEmojiModifierCodePoint(e)||n.isZeroWidthDiacriticCodePoint(e)?0:1,n.isFullWidthCodePoint=e=>2===n.codePointWidth(e),n.toFullWidth=e=>String.fromCodePoint(...Array.from(e,e=>{var t=e.codePointAt(0);return t>=33&&t<=126?65280+t-32:t})),n.isZeroWidthDiacritic=e=>n.isZeroWidthDiacriticCodePoint(e.codePointAt(0)),n.isZeroWidthDiacriticCodePoint=e=>768<=e&&e<=879||6832<=e&&e<=6911||7616<=e&&e<=7679||8400<=e&&e<=8447||65056<=e&&e<=65071||12441===e||12442===e||2304<=e&&e<=2307||2362<=e&&e<=2391&&2365!==e&&2384!==e||2402===e||2403===e||3633===e||3636<=e&&e<=3642||3655<=e&&e<=3662,n.isEmoji=e=>n.isEmojiCodePoint(e.codePointAt(0)),n.isEmojiCodePoint=e=>9728<=e&&e<=9983||9984<=e&&e<=10175||126976<=e&&e<=127487||127744<=e&&e<=127994||128e3<=e&&e<=129791,n.isEmojiModifier=e=>n.isEmojiModifierCodePoint(e.codePointAt(0)),n.isEmojiModifierCodePoint=e=>127995<=e&&e<=127999||65039===e},6928:e=>{"use strict";e.exports=require("path")},7e3:(e,t,r)=>{"use strict";const n=r(4865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:i=0,before:o=!1,after:s=!0}=t;if(!o&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,c,l;const u=function(...t){const n=this,u=o&&!a;return clearTimeout(a),a=setTimeout(()=>{a=void 0,c&&(clearTimeout(c),c=void 0),s&&(l=e.apply(n,t))},r),i>0&&!c&&s&&(c=setTimeout(()=>{c=void 0,a&&(clearTimeout(a),a=void 0),l=e.apply(n,t)},i)),u&&(l=e.apply(n,t)),l};return n(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0),c&&(clearTimeout(c),c=void 0)},u}},7034:(e,t,r)=>{"use strict";const n=r(9825).inspect,i=r(9825).inspectError,o=r(7798),s=r(7762),a=r(6846),c=r(7748),l=r(277);function u(e,t,r){var n,i,o,s,a;if("^"===r)return"^";if(this.shiftMarkup&&this.shiftMarkup[r])return e.shift=this.shiftMarkup[r],"";if(r.length>1&&this.dataMarkup&&-1!==(a=r.indexOf(":"))){if(i=r.slice(0,a),void 0===(n=this.dataMarkup[i])){if(void 0===this.markupCatchAll)return"";n=this.markupCatchAll}return e.hasMarkup=!0,o=r.slice(a+1),"function"==typeof n?s=n(e.markupStack,i,o):d(e,s={[n]:o}),s}if(e.shift?(n=this.shiftedMarkup?.[e.shift]?.[r],e.shift=null):n=this.markup?.[r],void 0===n){if(void 0===this.markupCatchAll)return"";n=this.markupCatchAll}return e.hasMarkup=!0,"function"==typeof n?s=n(e.markupStack,r):d(e,s=n),s}function d(e,t){if(Array.isArray(t))for(let r of t)null===r?e.markupStack.length=0:e.markupStack.push(r);else null===t?e.markupStack.length=0:e.markupStack.push(t)}t.formatMethod=function(...e){var r,n=e[0],i=1,o=e.length;"string"!=typeof n&&(n=n&&"function"==typeof n.toString?n.toString():"");var s={hasMarkup:!1,shift:null,markupStack:[]};if(this.markupReset&&this.startingMarkupReset&&(n=("function"==typeof this.markupReset?this.markupReset(s.markupStack):this.markupReset)+n),n=n.replace(/\^\[([^\]]*)]?|\^(.)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/g,(n,c,l,d,p,h,m,g)=>{var y,w,v,_,k,S,x=[];if(d)return"%";if(c&&(l=c),l)return this.noMarkup?"^"+l:u.call(this,s,n,l);if(h?(h=parseInt(h,10),p&&("+"===p?h=i+h:"-"===p&&(h=i-h))):h=i,i++,r=h>=o||h<1?void 0:e[h],f[g])return y=f[g](r,m,this),this.argumentSanitizer&&!f[g].noSanitize&&(y=this.argumentSanitizer(y)),this.escapeMarkup&&!f[g].noEscapeMarkup&&(y=t.escapeMarkup(y)),m&&!f[g].noCommonModeArg&&(y=function(e,t){for(let[,r,n]of t.matchAll(b))if("L"===r){let t=a.width(e);n=+n||1,t>n&&(e=a.truncateWidth(e,n-1).trim()+"…",t=a.width(e)),t<n&&(e=" ".repeat(n-t)+e)}else if("R"===r){let t=a.width(e);n=+n||1,t>n&&(e=a.truncateWidth(e,n-1).trim()+"…",t=a.width(e)),t<n&&(e+=" ".repeat(n-t))}return e}(y,m)),y;if("F"===g){if(i--,void 0===m)return"";if(_=(v=m.split(":"))[0],k=v[1],!_)return"";if(k&&(S=k.match(/%([+-]?)([0-9]*)[a-zA-Z]/g)))for(w=0;w<S.length;w++)p=S[w][1],(h=S[w][2])?(h=parseInt(h,10),p&&("+"===p?h=i+h:"-"===p&&(h=i-h))):h=i,i++,x[w]=h>=o||h<1?void 0:e[h];return this&&this.fn&&"function"==typeof this.fn[_]?this.fn[_].apply(this,x):""}return""}),s.hasMarkup&&this.markupReset&&this.endingMarkupReset&&(n+="function"==typeof this.markupReset?this.markupReset(s.markupStack):this.markupReset),this.extraArguments)for(;i<o;i++)null!=(r=e[i])&&("string"==typeof r||"number"==typeof r?n+=r:"function"==typeof r.toString&&(n+=r.toString()));return n},t.markupMethod=function(e){"string"!=typeof e&&(e=e&&"function"==typeof e.toString?e.toString():"");var t={hasMarkup:!1,shift:null,markupStack:[]};if(this.parse){let r,n,i,o,s,a,c,l=[];for([i,o,s,a]of e.matchAll(/\^\[([^\]]*)]?|\^(.)|([^^]+)/g))if(a)l.length?l[l.length-1].text+=a:l.push({text:a});else for(n of(o&&(s=o),r=u.call(this,t,i,s),Array.isArray(r)||(r=[r]),r))c=l.length?l[l.length-1]:null,"string"==typeof n?c?c.text+=n:l.push({text:n}):n?c&&c.text.length?l.push(Object.assign({text:""},...t.markupStack)):c?Object.assign(c,n):l.push(Object.assign({text:""},n)):c&&c.text.length&&Object.keys(c).length>1&&l.push({text:""});return l}return this.markupReset&&this.startingMarkupReset&&(e=("function"==typeof this.markupReset?this.markupReset(t.markupStack):this.markupReset)+e),e=e.replace(/\^\[([^\]]*)]?|\^(.)/g,(e,r,n)=>u.call(this,t,e,r||n)),t.hasMarkup&&this.markupReset&&this.endingMarkupReset&&(e+="function"==typeof this.markupReset?this.markupReset(t.markupStack):this.markupReset),e},t.stripMarkup=e=>e.replace(/\^\[[^\]]*]?|\^./g,e=>"^^"===e?"^":"^ "===e?" ":""),t.escapeMarkup=e=>e.replace(/\^/g,"^^");const p={argumentSanitizer:e=>o.control(e,!0),extraArguments:!0,color:!1,noMarkup:!1,escapeMarkup:!1,endingMarkupReset:!0,startingMarkupReset:!1,markupReset:s.reset,shiftMarkup:{"#":"background"},markup:{":":s.reset," ":s.reset+" ","-":s.dim,"+":s.bold,_:s.underline,"/":s.italic,"!":s.inverse,b:s.blue,B:s.brightBlue,c:s.cyan,C:s.brightCyan,g:s.green,G:s.brightGreen,k:s.black,K:s.brightBlack,m:s.magenta,M:s.brightMagenta,r:s.red,R:s.brightRed,w:s.white,W:s.brightWhite,y:s.yellow,Y:s.brightYellow},shiftedMarkup:{background:{":":s.reset," ":s.reset+" ",b:s.bgBlue,B:s.bgBrightBlue,c:s.bgCyan,C:s.bgBrightCyan,g:s.bgGreen,G:s.bgBrightGreen,k:s.bgBlack,K:s.bgBrightBlack,m:s.bgMagenta,M:s.bgBrightMagenta,r:s.bgRed,R:s.bgBrightRed,w:s.bgWhite,W:s.bgBrightWhite,y:s.bgYellow,Y:s.bgBrightYellow}},dataMarkup:{fg:(e,t,r)=>{var n=s.fgColor[r]||s.trueColor(r);return e.push(n),n},bg:(e,t,r)=>{var n=s.bgColor[r]||s.bgTrueColor(r);return e.push(n),n}},markupCatchAll:(e,t,r)=>{var n="";return void 0===r&&("#"===t[0]?n=s.trueColor(t):"string"==typeof s[t]&&(n=s[t])),e.push(n),n}};p.dataMarkup.color=p.dataMarkup.c=p.dataMarkup.fgColor=p.dataMarkup.fg,p.dataMarkup.bgColor=p.dataMarkup.bg,t.createFormatter=e=>t.formatMethod.bind(Object.assign({},p,e)),t.format=t.formatMethod.bind(p),t.format.default=p,t.formatNoMarkup=t.formatMethod.bind(Object.assign({},p,{noMarkup:!0})),t.formatThirdPartyMarkup=t.formatMethod.bind(Object.assign({},p,{noMarkup:!0,escapeMarkup:!0})),t.createMarkup=e=>t.markupMethod.bind(Object.assign({},p,e)),t.markup=t.markupMethod.bind(p),t.format.count=function(e,t=!1){var r,n,i,o=1,s=0;if("string"!=typeof e)return 0;var a=t?/%([+-]?)([0-9]*)(?:\[[^\]]*\])?[a-zA-EG-Z]/g:/%([+-]?)([0-9]*)(?:\[[^\]]*\])?[a-zA-EG-Z]|(\^\[[^\]]*]?|\^.)/g;for([,i,n,r]of e.matchAll(a))r||(n?(n=parseInt(n,10),i&&("+"===i?n=o+n:"-"===i&&(n=o-n))):n=o,o++,s<n&&(s=n));return s},t.format.hasFormatting=function(e){return-1!==e.search(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/)};const f={};t.format.modes=f,f.s=e=>"string"==typeof e?e:null==e||!0===e||!1===e?"("+e+")":"number"==typeof e?""+e:"function"==typeof e.toString?e.toString():"("+e+")",f.r=e=>f.s(e),f.r.noSanitize=!0,f.S=(e,r,n)=>{var i=n.escapeMarkup?e=>n.argumentSanitizer?n.argumentSanitizer(e):e:e=>t.markupMethod.call(n,n.argumentSanitizer?n.argumentSanitizer(e):e);return"string"==typeof e?i(e):null==e||!0===e||!1===e?"("+e+")":"number"==typeof e?""+e:"function"==typeof e.toString?i(e.toString()):i("("+e+")")},f.S.noSanitize=!0,f.S.noEscapeMarkup=!0,f.S.noCommonModeArg=!0,f.N=(e,t)=>{if("string"==typeof e)return e;if(null==e||!0===e||!1===e)return""+e;if("number"==typeof e)return f.f(e,".3g ");if(Array.isArray(e))return e=e.map(e=>f.N(e,!0)),t?"["+e.join(",")+"]":e.join(", ");if(Buffer.isBuffer(e))return"<"+(e=[...e].map(e=>(1===(e=e.toString(16)).length&&(e="0"+e),e))).join(" ")+">";var r=Object.getPrototypeOf(e);return null===r||r===Object.prototype?(e=Object.entries(e).sort(c).map(e=>e[0]+": "+f.N(e[1],!0)),t?"{"+e.join(", ")+"}":e.join(", ")):"function"==typeof e.inspect?e.inspect():"function"==typeof e.toString?e.toString():"("+e+")"},f.n=e=>f.N(e,!0),f.f=(e,t)=>{"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e&&(e=0);var r=_(t),n=new l(e,".",r.groupSeparator);return null!==r.rounding&&n.round(r.rounding),r.precision&&n.precision(r.precision),n.toString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal)},f.f.noSanitize=!0,f.P=(e,t)=>{"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e&&(e=0),e*=100;var r=_(t),n=new l(e,".",r.groupSeparator);return null===r.rounding&&r.precision||n.round(r.rounding||0),r.precision&&n.precision(r.precision),n.toNoExpString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal)+"%"},f.P.noSanitize=!0,f.p=(e,t)=>{"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e&&(e=0),e=100*(e-1);var r=_(t),n=new l(e,".",r.groupSeparator);return null===r.rounding&&r.precision||n.round(r.rounding||0),r.precision&&n.precision(r.precision),n.toNoExpString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal,!0)+"%"},f.p.noSanitize=!0,f.k=(e,t)=>{if("string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e)return"0";var r=_(t),n=new l(e,".",r.groupSeparator);return null!==r.rounding&&n.round(r.rounding),(r.precision||null===r.rounding)&&n.precision(r.precision||3),n.toMetricString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal)},f.k.noSanitize=!0,f.e=(e,t)=>{"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e&&(e=0);var r=_(t),n=new l(e,".",r.groupSeparator);return null!==r.rounding&&n.round(r.rounding),r.precision&&n.precision(r.precision),n.toExponential()},f.e.noSanitize=!0,f.K=(e,t)=>{"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e&&(e=0);var r=_(t),n=new l(e,".",r.groupSeparator);return null!==r.rounding&&n.round(r.rounding),r.precision&&n.precision(r.precision),n.toScientific()},f.K.noSanitize=!0,f.d=f.i=e=>("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e?""+Math.floor(e):"0"),f.i.noSanitize=!0,f.u=e=>("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e?""+Math.max(Math.floor(e),0):"0"),f.u.noSanitize=!0,f.U=e=>("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e?""+Math.max(Math.floor(e),1):"1"),f.U.noSanitize=!0,f.m=e=>{if("string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e)return"(NaN)";var t="";e<0&&(t="-",e=-e);var r=I(e),n=e-r;if(!n)return t+r+"°";var i=I(60*n),o=I(3600*n-60*i);return o?t+r+"°"+(""+i).padStart(2,"0")+"′"+(""+o).padStart(2,"0")+"″":t+r+"°"+(""+i).padStart(2,"0")+"′"},f.m.noSanitize=!0,f.t=(e,t)=>{if("string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e)return"(NaN)";var r,n,i,o,s="",a=function(e){if(k.rightPadding=0,k.rightPaddingOnlyIfDecimal=!1,k.rounding=0,k.roundingType=-1,k.useAbbreviation=k.forceHours=k.forceMinutes=!1,e)for(let[,t,r]of e.matchAll(w))if("h"===t)k.forceHours=k.forceMinutes=!0;else if("m"===t)k.forceMinutes=!0;else if("r"===t)k.roundingType=0;else if("f"===t)k.roundingType=-1;else if("c"===t)k.roundingType=1;else if("a"===t)k.useAbbreviation=!0;else if(!t&&"."===r[0]){let e=r[r.length-1];"!"===e?k.rounding=k.rightPadding=parseInt(r.slice(1,-1),10)||0:"?"===e?(k.rounding=k.rightPadding=parseInt(r.slice(1,-1),10)||0,k.rightPaddingOnlyIfDecimal=!0):k.rounding=parseInt(r.slice(1),10)||0}return k}(t),c=a.roundingType,u=a.useAbbreviation?"h":":",d=a.useAbbreviation?"min":":",p=a.useAbbreviation?"s":".",f=a.useAbbreviation;if((n=e/1e3)<0&&(n=-n,c*=-1,s="-"),n<60&&!a.forceMinutes){if((i=new l(n,p,void 0,f)).round(a.rounding,c),i.toNumber()<60)return s+i.toString(1,a.rightPadding,a.rightPaddingOnlyIfDecimal);n=60}return r=Math.floor(n/60),(i=new l(n%=60,p,void 0,f)).round(a.rounding,c),i.toNumber()<60||(r++,n=0,i.set(n)),o=i.toString(2,a.rightPadding,a.rightPaddingOnlyIfDecimal),r<60&&!a.forceHours?s+r+d+o:s+Math.floor(r/60)+u+(""+(r%=60)).padStart(2,"0")+d+o},f.t.noSanitize=!0,f.h=e=>("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e?""+Math.max(Math.floor(e),0).toString(16):"0"),f.h.noSanitize=!0,f.x=e=>{if("string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e)return"00";var t=""+Math.max(Math.floor(e),0).toString(16);return t.length%2&&(t="0"+t),t},f.x.noSanitize=!0,f.o=e=>("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e?""+Math.max(Math.floor(e),0).toString(8):"0"),f.o.noSanitize=!0,f.b=e=>("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e?""+Math.max(Math.floor(e),0).toString(2):"0"),f.b.noSanitize=!0,f.X=e=>{if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))return"";return e.toString("hex")},f.X.noSanitize=!0,f.z=e=>{if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))return"";return e.toString("base64")},f.Z=e=>{if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))return"";return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]{1,2}$/g,"")};const h={};f.I=(e,t,r)=>S(e,t,r,h),f.I.noSanitize=!0;const m={noFunc:!0,enumOnly:!0,noDescriptor:!0,useInspect:!0,useInspectPropertyBlackList:!0};f.Y=(e,t,r)=>S(e,t,r,m),f.Y.noSanitize=!0;const g={minimal:!0,bulletIndex:!0,noMarkup:!0};f.O=(e,t,r)=>S(e,t,r,g),f.O.noSanitize=!0;const y={};f.E=(e,t,r)=>S(e,t,r,y,!0),f.E.noSanitize=!0,f.J=e=>void 0===e?"null":JSON.stringify(e),f.D=()=>"",f.D.noSanitize=!0;const b=/([a-zA-Z])(.[^a-zA-Z]*)/g,w=/([a-zA-Z]|^)([^a-zA-Z]*)/g,v={leftPadding:1,rightPadding:0,rightPaddingOnlyIfDecimal:!1,rounding:null,precision:null,groupSeparator:""};function _(e){if(v.leftPadding=1,v.rightPadding=0,v.rightPaddingOnlyIfDecimal=!1,v.rounding=null,v.precision=null,v.groupSeparator="",e)for(let[,t,r]of e.matchAll(w))if("z"===t)v.leftPadding=+r;else if("g"===t)v.groupSeparator=r||" ";else if(!t)if("."===r[0]){let e=r[r.length-1];"!"===e?v.rounding=v.rightPadding=parseInt(r.slice(1,-1),10)||0:"?"===e?(v.rounding=v.rightPadding=parseInt(r.slice(1,-1),10)||0,v.rightPaddingOnlyIfDecimal=!0):v.rounding=parseInt(r.slice(1),10)||0}else"."===r[r.length-1]?v.rounding=-parseInt(r.slice(0,-1),10)||0:v.precision=parseInt(r,10)||null;return v}const k={useAbbreviation:!1,rightPadding:0,rightPaddingOnlyIfDecimal:!1,rounding:0,roundingType:-1,forceHours:!1,forceMinutes:!1};function S(e,t,r,o,s=!1){var a,c,l=3,u=r&&r.color?"color":"none";if(t)for(let[,e,r]of t.matchAll(w))"c"===e?"+"===r?u="color":"-"===r&&(u="none"):"i"===e?u="inline":"l"===e?a=parseInt(r,10)||void 0:"s"===e?c=parseInt(r,10)||void 0:e||(l=parseInt(r,10)||1);return s?i(Object.assign({depth:l,style:u,outputMaxLength:a,maxLength:c},o),e):n(Object.assign({depth:l,style:u,outputMaxLength:a,maxLength:c},o),e)}const x=1e-10;function I(e){return Math.floor(e+x)}Math.round(1/x)},7060:e=>{e.exports=[]},7194:e=>{"use strict";e.exports=require("dgram")},7281:(e,t,r)=>{"use strict";e.exports=a,e.exports.default=a;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},isPrerelease:{type:"boolean",description:"Is this a pre-release version"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"},url:{type:"string"}},required:["name"],additionalProperties:!1}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18 or node22",enum:["node18","node22"]},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"},permissions:{type:"object",description:"Permissions required by the module. This is used to inform the user of the permissions required by the module.\nNote: this requires the node22 or newer runtime",properties:{"worker-threads":{type:"boolean",description:"Enable if the module uses worker threads"},"child-process":{type:"boolean",description:"Enable if the module uses child processes"},"native-addons":{type:"boolean",description:"Enable if the module uses native addons"},filesystem:{type:"boolean",description:"Enable if the module requires read/write access to the filesystem"}},additionalProperties:!1}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{oneOf:[{$ref:"#/definitions/bonjourQuery"},{type:"array",items:{$ref:"#/definitions/bonjourQuery"}}]}}}},required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"],definitions:{bonjourQuery:{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},port:{type:"number"},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}}}},required:["type","protocol"]}}},i={type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},port:{type:"number"},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}}}},required:["type","protocol"]},o=r(6250).A,s=new RegExp("","u");function a(e,{instancePath:t="",parentData:r,parentDataProperty:c,rootData:l=e}={}){let u=null,d=0;if(0===d){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.id&&(r="id")||void 0===e.name&&(r="name")||void 0===e.shortname&&(r="shortname")||void 0===e.description&&(r="description")||void 0===e.version&&(r="version")||void 0===e.license&&(r="license")||void 0===e.repository&&(r="repository")||void 0===e.bugs&&(r="bugs")||void 0===e.maintainers&&(r="maintainers")||void 0===e.legacyIds&&(r="legacyIds")||void 0===e.runtime&&(r="runtime")||void 0===e.manufacturer&&(r="manufacturer")||void 0===e.products&&(r="products")||void 0===e.keywords&&(r="keywords"))return a.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.$schema){const r=d;if("string"!=typeof e.$schema)return a.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=r===d}else p=!0;if(p){if(void 0!==e.id){const r=d;if("string"!=typeof e.id)return a.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.name){const r=d;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.shortname){const r=d;if("string"!=typeof e.shortname)return a.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.description){const r=d;if("string"!=typeof e.description)return a.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.version){const r=d;if("string"!=typeof e.version)return a.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.isPrerelease){const r=d;if("boolean"!=typeof e.isPrerelease)return a.errors=[{instancePath:t+"/isPrerelease",schemaPath:"#/properties/isPrerelease/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.license){const r=d;if("string"!=typeof e.license)return a.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.repository){const r=d;if("string"!=typeof e.repository)return a.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.bugs){const r=d;if("string"!=typeof e.bugs)return a.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.maintainers){let r=e.maintainers;const n=d;if(d===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var f=!0;const e=r.length;for(let n=0;n<e;n++){let e=r[n];const i=d;if(d===i){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.name&&(r="name"))return a.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=d;for(const r in e)if("name"!==r&&"email"!==r&&"github"!==r&&"url"!==r)return a.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===d){if(void 0!==e.name){const r=d;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=r===d}else h=!0;if(h){if(void 0!==e.email){const r=d;if("string"!=typeof e.email)return a.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.github){const r=d;if("string"!=typeof e.github)return a.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h)if(void 0!==e.url){const r=d;if("string"!=typeof e.url)return a.errors=[{instancePath:t+"/maintainers/"+n+"/url",schemaPath:"#/properties/maintainers/items/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0}}}}}}if(!(f=i===d))break}if(f){let e,n=r.length;if(n>1)for(;n--;)for(e=n;e--;)if(o(r[n],r[e]))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}p=n===d}else p=!0;if(p){if(void 0!==e.legacyIds){let r=e.legacyIds;const n=d;if(d===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var m=!0;const e=r.length;for(let n=0;n<e;n++){const e=d;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=e===d))break}if(m){let e,n=r.length;if(n>1){const i={};for(;n--;){let o=r[n];if("string"==typeof o){if("number"==typeof i[o])return e=i[o],a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[o]=n}}}}}}p=n===d}else p=!0;if(p){if(void 0!==e.runtime){let r=e.runtime;const i=d;if(d===i){if(!r||"object"!=typeof r||Array.isArray(r))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.type&&(e="type")||void 0===r.api&&(e="api")||void 0===r.apiVersion&&(e="apiVersion")||void 0===r.entrypoint&&(e="entrypoint"))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.type){let e=r.type;const i=d;if("string"!=typeof e)return a.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("node18"!==e&&"node22"!==e)return a.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var g=i===d}else g=!0;if(g){if(void 0!==r.api){let e=r.api;const i=d;if("string"!=typeof e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;g=i===d}else g=!0;if(g){if(void 0!==r.apiVersion){const e=d;if("string"!=typeof r.apiVersion)return a.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===d}else g=!0;if(g){if(void 0!==r.entrypoint){const e=d;if("string"!=typeof r.entrypoint)return a.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===d}else g=!0;if(g)if(void 0!==r.permissions){let e=r.permissions;const n=d;if(d===n){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t+"/runtime/permissions",schemaPath:"#/properties/runtime/properties/permissions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=d;for(const r in e)if("worker-threads"!==r&&"child-process"!==r&&"native-addons"!==r&&"filesystem"!==r)return a.errors=[{instancePath:t+"/runtime/permissions",schemaPath:"#/properties/runtime/properties/permissions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===d){if(void 0!==e["worker-threads"]){const r=d;if("boolean"!=typeof e["worker-threads"])return a.errors=[{instancePath:t+"/runtime/permissions/worker-threads",schemaPath:"#/properties/runtime/properties/permissions/properties/worker-threads/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var y=r===d}else y=!0;if(y){if(void 0!==e["child-process"]){const r=d;if("boolean"!=typeof e["child-process"])return a.errors=[{instancePath:t+"/runtime/permissions/child-process",schemaPath:"#/properties/runtime/properties/permissions/properties/child-process/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;y=r===d}else y=!0;if(y){if(void 0!==e["native-addons"]){const r=d;if("boolean"!=typeof e["native-addons"])return a.errors=[{instancePath:t+"/runtime/permissions/native-addons",schemaPath:"#/properties/runtime/properties/permissions/properties/native-addons/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;y=r===d}else y=!0;if(y)if(void 0!==e.filesystem){const r=d;if("boolean"!=typeof e.filesystem)return a.errors=[{instancePath:t+"/runtime/permissions/filesystem",schemaPath:"#/properties/runtime/properties/permissions/properties/filesystem/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;y=r===d}else y=!0}}}}}g=n===d}else g=!0}}}}}p=i===d}else p=!0;if(p){if(void 0!==e.manufacturer){const r=d;if("string"!=typeof e.manufacturer)return a.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.products){let r=e.products;const n=d;if(d===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var b=!0;const e=r.length;for(let n=0;n<e;n++){const e=d;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(b=e===d))break}if(b){let e,n=r.length;if(n>1){const i={};for(;n--;){let o=r[n];if("string"==typeof o){if("number"==typeof i[o])return e=i[o],a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[o]=n}}}}}}p=n===d}else p=!0;if(p){if(void 0!==e.keywords){let r=e.keywords;const n=d;if(d===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var w=!0;const e=r.length;for(let n=0;n<e;n++){const e=d;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(w=e===d))break}if(w){let e,n=r.length;if(n>1){const i={};for(;n--;){let o=r[n];if("string"==typeof o){if("number"==typeof i[o])return e=i[o],a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[o]=n}}}}}}p=n===d}else p=!0;if(p)if(void 0!==e.bonjourQueries){let r=e.bonjourQueries;const n=d;if(d===n){if(!r||"object"!=typeof r||Array.isArray(r))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r)if(s.test(e)){let n=r[e];const o=d,c=d;let l=!1,p=null;const f=d;if(d==d)if(n&&"object"==typeof n&&!Array.isArray(n)){let r;if(void 0===n.type&&(r="type")||void 0===n.protocol&&(r="protocol")){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===u?u=[n]:u.push(n),d++}else{if(void 0!==n.type){const r=d;if("string"!=typeof n.type){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[r]:u.push(r),d++}var v=r===d}else v=!0;if(v){if(void 0!==n.protocol){let r=n.protocol;const o=d;if("string"!=typeof r){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[r]:u.push(r),d++}if("tcp"!==r&&"udp"!==r){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:i.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===u?u=[r]:u.push(r),d++}v=o===d}else v=!0;if(v){if(void 0!==n.port){let r=n.port;const i=d;if("number"!=typeof r||!isFinite(r)){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/port",schemaPath:"#/definitions/bonjourQuery/properties/port/type",keyword:"type",params:{type:"number"},message:"must be number"};null===u?u=[r]:u.push(r),d++}v=i===d}else v=!0;if(v)if(void 0!==n.txt){let r=n.txt;const i=d;if(d===i)if(r&&"object"==typeof r&&!Array.isArray(r)){for(const n in r)if(s.test(n)){const i=d;if("string"!=typeof r[n]){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[r]:u.push(r),d++}if(i!==d)break}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[r]:u.push(r),d++}v=i===d}else v=!0}}}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[r]:u.push(r),d++}f===d&&(l=!0,p=0);const h=d;if(d===h)if(Array.isArray(n)){const r=n.length;for(let o=0;o<r;o++){let r=n[o];const a=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let n;if(void 0===r.type&&(n="type")||void 0===r.protocol&&(n="protocol")){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o,schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"};null===u?u=[r]:u.push(r),d++}else{if(void 0!==r.type){const n=d;if("string"!=typeof r.type){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[r]:u.push(r),d++}var _=n===d}else _=!0;if(_){if(void 0!==r.protocol){let n=r.protocol;const s=d;if("string"!=typeof n){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[r]:u.push(r),d++}if("tcp"!==n&&"udp"!==n){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:i.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===u?u=[r]:u.push(r),d++}_=s===d}else _=!0;if(_){if(void 0!==r.port){let n=r.port;const i=d;if("number"!=typeof n||!isFinite(n)){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o+"/port",schemaPath:"#/definitions/bonjourQuery/properties/port/type",keyword:"type",params:{type:"number"},message:"must be number"};null===u?u=[r]:u.push(r),d++}_=i===d}else _=!0;if(_)if(void 0!==r.txt){let n=r.txt;const i=d;if(d===i)if(n&&"object"==typeof n&&!Array.isArray(n)){for(const r in n)if(s.test(r)){const i=d;if("string"!=typeof n[r]){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o+"/txt/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[n]:u.push(n),d++}if(i!==d)break}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[r]:u.push(r),d++}_=i===d}else _=!0}}}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+o,schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[r]:u.push(r),d++}if(a!==d)break}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===u?u=[r]:u.push(r),d++}var k;if((k=h===d)&&l?(l=!1,p=[p,1]):k&&(l=!0,p=1),!l){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf",keyword:"oneOf",params:{passingSchemas:p},message:"must match exactly one schema in oneOf"};return null===u?u=[r]:u.push(r),d++,a.errors=u,!1}if(d=c,null!==u&&(c?u.length=c:u=null),o!==d)break}}p=n===d}else p=!0}}}}}}}}}}}}}}}}}return a.errors=u,0===d}},7386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7748:e=>{"use strict";function t(e,t){return r(t)?2:t<=31||127===t?1:n(t)?4:e.toUpperCase()!==e.toLowerCase()?3:5}function r(e){return 32===e||9===e||160===e||45===e||95===e}function n(e){return e>=48&&e<=57}e.exports=function(e,i){i=""+i;var o,s,a,c,l,u,d,p,f,h,m,g,y,b,w=(e=""+e).trim(),v=w.length,_=i.trim(),k=_.length,S=0;for(o=p=0;o<v&&p<k;o++,p++){if(a=w[o],h=_[p],c=w.charCodeAt(o),m=_.charCodeAt(p),(l=t(a,c))!==(g=t(h,m)))return l-g;switch(l){case 2:for(;r(w.charCodeAt(o+1));)o++;for(;r(_.charCodeAt(p+1));)p++;break;case 1:case 5:if(c!==m)return c-m;break;case 3:if((u=a.toLowerCase())!==(y=h.toLowerCase()))return u>y?1:-1;S||a===h||(S=a!==u?-1:1);break;case 4:for(s=o+1;n(w.charCodeAt(s));)s++;for(d=parseFloat(w.slice(o,s)),f=p+1;n(_.charCodeAt(f));)f++;if(d!==(b=parseFloat(_.slice(p,f))))return d-b;S||s-o===f-p||(S=s-o-(f-p)),o=s-1,p=f-1}}return S||v-o-(k-p)||v-k||e.length-i.length}},7762:e=>{"use strict";const t={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",inverse:"[7m",defaultColor:"[39m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",grey:"[90m",gray:"[90m",brightBlack:"[90m",brightRed:"[91m",brightGreen:"[92m",brightYellow:"[93m",brightBlue:"[94m",brightMagenta:"[95m",brightCyan:"[96m",brightWhite:"[97m",defaultBgColor:"[49m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bgGrey:"[100m",bgGray:"[100m",bgBrightBlack:"[100m",bgBrightRed:"[101m",bgBrightGreen:"[102m",bgBrightYellow:"[103m",bgBrightBlue:"[104m",bgBrightMagenta:"[105m",bgBrightCyan:"[106m",bgBrightWhite:"[107m"};e.exports=t,t.fgColor={defaultColor:t.defaultColor,black:t.black,red:t.red,green:t.green,yellow:t.yellow,blue:t.blue,magenta:t.magenta,cyan:t.cyan,white:t.white,grey:t.grey,gray:t.gray,brightBlack:t.brightBlack,brightRed:t.brightRed,brightGreen:t.brightGreen,brightYellow:t.brightYellow,brightBlue:t.brightBlue,brightMagenta:t.brightMagenta,brightCyan:t.brightCyan,brightWhite:t.brightWhite},t.bgColor={defaultColor:t.defaultBgColor,black:t.bgBlack,red:t.bgRed,green:t.bgGreen,yellow:t.bgYellow,blue:t.bgBlue,magenta:t.bgMagenta,cyan:t.bgCyan,white:t.bgWhite,grey:t.bgGrey,gray:t.bgGray,brightBlack:t.bgBrightBlack,brightRed:t.bgBrightRed,brightGreen:t.bgBrightGreen,brightYellow:t.bgBrightYellow,brightBlue:t.bgBrightBlue,brightMagenta:t.bgBrightMagenta,brightCyan:t.bgBrightCyan,brightWhite:t.bgBrightWhite},t.trueColor=(e,t,r)=>{if(void 0===t&&"string"==typeof e){let n=e;"#"===n[0]&&(n=n.slice(1)),3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),e=parseInt(n.slice(0,2),16)||0,t=parseInt(n.slice(2,4),16)||0,r=parseInt(n.slice(4,6),16)||0}return"[38;2;"+e+";"+t+";"+r+"m"},t.bgTrueColor=(e,t,r)=>{if(void 0===t&&"string"==typeof e){let n=e;"#"===n[0]&&(n=n.slice(1)),3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),e=parseInt(n.slice(0,2),16)||0,t=parseInt(n.slice(2,4),16)||0,r=parseInt(n.slice(4,6),16)||0}return"[48;2;"+e+";"+t+";"+r+"m"};const r={0:null,1:{bold:!0},2:{dim:!0},22:{bold:!1,dim:!1},3:{italic:!0},23:{italic:!1},4:{underline:!0},24:{underline:!1},5:{blink:!0},25:{blink:!1},7:{inverse:!0},27:{inverse:!1},8:{hidden:!0},28:{hidden:!1},9:{strike:!0},29:{strike:!1},30:{color:0},31:{color:1},32:{color:2},33:{color:3},34:{color:4},35:{color:5},36:{color:6},37:{color:7},39:{color:"default"},90:{color:8},91:{color:9},92:{color:10},93:{color:11},94:{color:12},95:{color:13},96:{color:14},97:{color:15},40:{bgColor:0},41:{bgColor:1},42:{bgColor:2},43:{bgColor:3},44:{bgColor:4},45:{bgColor:5},46:{bgColor:6},47:{bgColor:7},49:{bgColor:"default"},100:{bgColor:8},101:{bgColor:9},102:{bgColor:10},103:{bgColor:11},104:{bgColor:12},105:{bgColor:13},106:{bgColor:14},107:{bgColor:15}};t.parse=e=>{var t,n,i,o,s=[];for([,t,n]of e.matchAll(/\x1b\[([0-9;]+)m|(.[^\x1b]*)/g))n?s.length?s[s.length-1].text+=n:s.push({text:n}):t.split(";").forEach(e=>{void 0!==(o=r[e])&&(!s.length||s[s.length-1].text?(o?(i=Object.assign({},i,o)).text="":i={text:""},s.push(i)):o?Object.assign(i,o):s[s.length-1]={text:""})});return s}},7798:(e,t)=>{"use strict";t.regExp=t.regExpPattern=e=>e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1"),t.regExpReplacement=e=>e.replace(/\$/g,"$$$$"),t.format=e=>e.replace(/%/g,"%%"),t.jsSingleQuote=e=>t.control(e).replace(/'/g,"\\'"),t.jsDoubleQuote=e=>t.control(e).replace(/"/g,'\\"'),t.shellArg=e=>"'"+e.replace(/'/g,"'\\''")+"'";var r={"\r":"\\r","\n":"\\n","\t":"\\t","":"\\x7f"};t.control=(e,t=!1)=>e.replace(/[\x00-\x1f\x7f]/g,e=>{if(t&&("\n"===e||"\t"===e))return e;if(void 0!==r[e])return r[e];var n=e.charCodeAt(0).toString(16);return n.length%2&&(n="0"+n),"\\x"+n});var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};t.html=e=>e.replace(/[&<>]/g,e=>n[e]),t.htmlAttr=e=>e.replace(/[&<>"]/g,e=>n[e]),t.htmlSpecialChars=e=>e.replace(/[&<>"']/g,e=>n[e]),t.unicodePercentEncode=e=>e.replace(/[\x00-\x1f\u0100-\uffff\x7f%]/g,e=>{try{return encodeURI(e)}catch(e){return""}}),t.httpHeaderValue=e=>t.unicodePercentEncode(e)},8039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=r(1635),i=r(2593),o=n.__importDefault(r(7e3));function s(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#M;#L;#$;#E;#U=new Map;#W=new Map;#H=new Map;#q=new Map;#J;get parseVariablesContext(){return this.#J}constructor(e,t,r,n){this.#M=e,this.#L=t,this.#$=r,this.#E=n}getDefinitionIds(){return Array.from(this.#U.keys())}getInstanceIds(){return Array.from(this.#W.keys())}handleUpdateFeedbacks(e){for(const[t,r]of Object.entries(e)){const e=this.#W.get(t);if(e){const t=this.#U.get(e.feedbackId);if(t?.unsubscribe){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(s(t.type,e),r)).catch(t=>{this.#E("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)})}}if(!r||r.disabled)this.#W.delete(t);else{this.#W.set(t,{...r,referencedVariables:null});const e=this.#U.get(r.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#M({text:e,controlId:r.controlId,actionInstanceId:void 0,feedbackInstanceId:r.id})).text};Promise.resolve(e.subscribe(s(e.type,r),t)).catch(e=>{this.#E("error",`Feedback subscribe failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)})}this.#Y(t)}}}async handleLearnFeedback(e){const t=this.#U.get(e.feedback.feedbackId);if(t&&t.learn){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},r)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#q.values())for(const r of e.variablesIds)t.changedVariables.add(r);const r=new Set;for(const e of this.#W.values())if(!this.#q.has(e.id)&&e.referencedVariables)for(const n of e.referencedVariables)if(t.has(n)){r.add(e.id);break}for(const e of r)setImmediate(()=>{this.#Y(e)})}#Y(e){const t=this.#q.get(e);if(t)return void(t.needsRecheck=!0);const r=this.#W.get(e);if(!r)return;const n=r,i={needsRecheck:!1,changedVariables:new Set};this.#q.set(e,i),Promise.resolve().then(async()=>{const t=this.#U.get(n.feedbackId);let r;const i=new Set;if(t){this.#J=`Feedback ${n.feedbackId} (${e})`;const o={parseVariablesInString:async t=>{const r=await this.#M({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(r.variableIds&&r.variableIds.length)for(const e of r.variableIds)i.add(e);return r.text}};r="boolean"===t.type?t.callback({...s("boolean",n),type:"boolean"},o):t.callback({...s("advanced",n),type:"advanced",image:n.image},o),this.#J=void 0}const o=await r;this.#H.set(e,{id:e,controlId:n.controlId,value:o}),this.#G(),n.referencedVariables=i.size>0?Array.from(i):null}).catch(e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)}).finally(()=>{this.#J=void 0,this.#q.delete(e);let t=!1;if(n.referencedVariables)for(const e of n.referencedVariables)if(i.changedVariables.has(e)){t=!0;break}(t||i.needsRecheck)&&setImmediate(()=>{this.#Y(e)})})}#G=(0,o.default)(()=>{const e=this.#H;this.#H=new Map,e.size>0&&this.#L({values:Array.from(e.values())})},{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#U.clear();for(const[r,n]of Object.entries(e))n&&(t.push({id:r,name:n.name,description:n.description,options:(0,i.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"boolean"===n.type?n.defaultStyle:void 0,hasLearn:!!n.learn,learnTimeout:n.learnTimeout,showInvert:"boolean"===n.type&&n.showInvert}),this.#U.set(r,n));this.#$({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,r]of this.#W.entries())this.#U.get(r.feedbackId)&&(0===t.size||t.has(r.feedbackId))&&this.#Y(e)}checkFeedbacksById(e){for(const t of e)this.#Y(t)}subscribeFeedbacks(e){let t=Array.from(this.#W.values());const r=new Set(e);r.size&&(t=t.filter(e=>r.has(e.feedbackId)));for(const e of t){const t=this.#U.get(e.feedbackId);if(t?.subscribe){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(s(t.type,e),r)).catch(t=>{this.#E("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)})}}}unsubscribeFeedbacks(e){let t=Array.from(this.#W.values());const r=new Set(e);r.size&&(t=t.filter(e=>r.has(e.feedbackId)));for(const e of t){const t=this.#U.get(e.feedbackId);if(t&&t.unsubscribe){const r={parseVariablesInString:async t=>(await this.#M({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(s(t.type,e),r)).catch(t=>{this.#E("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)})}}}}},8104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8176:e=>{e.exports=async function(e){e.setVariableDefinitions(e.variables.map(e=>({variableId:e.variableId,name:e.name})))}},8895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=r(1635).__importDefault(r(9278)),i=r(228),o=r(1400);class s extends i.EventEmitter{#V;#F;_socket;#w;#Q=!1;#Z=!1;#z=!1;#B;#K;#r;get isConnected(){return this.#Q}get isConnecting(){return this.#Z}get isDestroyed(){return this.#z}constructor(e,t,r){super(),this.#V=e,this.#F=t,this.#w={reconnect_interval:2e3,reconnect:!0,...r},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",e=>{this.#Z=!1,this.#Q=!1,this.#w.reconnect&&this.#X(),this.#R(o.InstanceStatus.UnknownError,e.message),this.emit("error",e)}),this._socket.on("ready",()=>{this.#Q=!0,this.#Z=!1,this.#R(o.InstanceStatus.Ok),this.emit("connect")}),this._socket.on("end",()=>{this.#Q=!1,this.#R(o.InstanceStatus.Disconnected),!this.#Z&&this.#w.reconnect&&this.#X(),this.emit("end")}),this._socket.on("data",e=>this.emit("data",e)),this._socket.on("drain",()=>this.emit("drain")),setImmediate(()=>{this.#z||this.connect()}),this.#r=setTimeout(()=>{this.#r=void 0,this.#z||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#V}:${this.#F} is missing an error handler!`)},5e3)}connect(){if(this.#z)throw new Error("Cannot connect destroyed socket");return!this.#Z&&(this.#Z=!0,this._socket.connect(this.#F,this.#V),!0)}async send(e){if(this.#z||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#Q)return!1;try{return new Promise((t,r)=>{this._socket.write(e,e=>{e?r(e):t(!0)})})}catch(e){this.#Q=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#R(o.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#z=!0,void 0!==this.#K&&(clearTimeout(this.#K),this.#K=void 0),void 0!==this.#r&&(clearTimeout(this.#r),this.#r=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#X(){void 0!==this.#K&&clearTimeout(this.#K),this.#K=setTimeout(()=>{this.#K=void 0,this.#R(o.InstanceStatus.Connecting),this.connect()},this.#w.reconnect_interval)}#R(e,t){this.#B!=e&&(this.#B=e,this.emit("status_change",e,t))}}t.TCPHelper=s},8983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=function(e,t){if(!t){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'")}if(e.legacyIds.includes(e.id))throw new Error(`Manifest contains itself '${e.id}' in legacyIds`);if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}};const n=r(1635).__importDefault(r(7281))},9278:e=>{"use strict";e.exports=require("net")},9332:e=>{"use strict";e.exports=JSON.parse('[{"s":9728,"e":9747,"w":1},{"s":9748,"e":9749,"w":2},{"s":9750,"e":9799,"w":1},{"s":9800,"e":9811,"w":2},{"s":9812,"e":9854,"w":1},{"s":9855,"e":9855,"w":2},{"s":9856,"e":9874,"w":1},{"s":9875,"e":9875,"w":2},{"s":9876,"e":9888,"w":1},{"s":9889,"e":9889,"w":2},{"s":9890,"e":9897,"w":1},{"s":9898,"e":9899,"w":2},{"s":9900,"e":9916,"w":1},{"s":9917,"e":9918,"w":2},{"s":9919,"e":9923,"w":1},{"s":9924,"e":9925,"w":2},{"s":9926,"e":9933,"w":1},{"s":9934,"e":9934,"w":2},{"s":9935,"e":9939,"w":1},{"s":9940,"e":9940,"w":2},{"s":9941,"e":9961,"w":1},{"s":9962,"e":9962,"w":2},{"s":9963,"e":9969,"w":1},{"s":9970,"e":9971,"w":2},{"s":9972,"e":9972,"w":1},{"s":9973,"e":9973,"w":2},{"s":9974,"e":9977,"w":1},{"s":9978,"e":9978,"w":2},{"s":9979,"e":9980,"w":1},{"s":9981,"e":9981,"w":2},{"s":9982,"e":9983,"w":1},{"s":9984,"e":9988,"w":1},{"s":9989,"e":9989,"w":2},{"s":9990,"e":9993,"w":1},{"s":9994,"e":9995,"w":2},{"s":9996,"e":10023,"w":1},{"s":10024,"e":10024,"w":2},{"s":10025,"e":10059,"w":1},{"s":10060,"e":10060,"w":2},{"s":10061,"e":10061,"w":1},{"s":10062,"e":10062,"w":2},{"s":10063,"e":10066,"w":1},{"s":10067,"e":10069,"w":2},{"s":10070,"e":10070,"w":1},{"s":10071,"e":10071,"w":2},{"s":10072,"e":10132,"w":1},{"s":10133,"e":10135,"w":2},{"s":10136,"e":10159,"w":1},{"s":10160,"e":10160,"w":2},{"s":10161,"e":10174,"w":1},{"s":10175,"e":10175,"w":2},{"s":126976,"e":126979,"w":1},{"s":126980,"e":126980,"w":2},{"s":126981,"e":127182,"w":1},{"s":127183,"e":127183,"w":2},{"s":127184,"e":127373,"w":1},{"s":127374,"e":127374,"w":2},{"s":127375,"e":127376,"w":1},{"s":127377,"e":127386,"w":2},{"s":127387,"e":127487,"w":1},{"s":127744,"e":127776,"w":2},{"s":127777,"e":127788,"w":1},{"s":127789,"e":127797,"w":2},{"s":127798,"e":127798,"w":1},{"s":127799,"e":127868,"w":2},{"s":127869,"e":127869,"w":1},{"s":127870,"e":127891,"w":2},{"s":127892,"e":127903,"w":1},{"s":127904,"e":127946,"w":2},{"s":127947,"e":127950,"w":1},{"s":127951,"e":127955,"w":2},{"s":127956,"e":127967,"w":1},{"s":127968,"e":127984,"w":2},{"s":127985,"e":127987,"w":1},{"s":127988,"e":127988,"w":2},{"s":127989,"e":127991,"w":1},{"s":127992,"e":127994,"w":2},{"s":128000,"e":128062,"w":2},{"s":128063,"e":128063,"w":1},{"s":128064,"e":128064,"w":2},{"s":128065,"e":128065,"w":1},{"s":128066,"e":128252,"w":2},{"s":128253,"e":128254,"w":1},{"s":128255,"e":128317,"w":2},{"s":128318,"e":128330,"w":1},{"s":128331,"e":128334,"w":2},{"s":128335,"e":128335,"w":1},{"s":128336,"e":128359,"w":2},{"s":128360,"e":128377,"w":1},{"s":128378,"e":128378,"w":2},{"s":128379,"e":128404,"w":1},{"s":128405,"e":128406,"w":2},{"s":128407,"e":128419,"w":1},{"s":128420,"e":128420,"w":2},{"s":128421,"e":128506,"w":1},{"s":128507,"e":128591,"w":2},{"s":128592,"e":128639,"w":1},{"s":128640,"e":128709,"w":2},{"s":128710,"e":128715,"w":1},{"s":128716,"e":128716,"w":2},{"s":128717,"e":128719,"w":1},{"s":128720,"e":128722,"w":2},{"s":128723,"e":128724,"w":1},{"s":128725,"e":128727,"w":2},{"s":128728,"e":128746,"w":1},{"s":128747,"e":128748,"w":2},{"s":128749,"e":128755,"w":1},{"s":128756,"e":128764,"w":2},{"s":128765,"e":128991,"w":1},{"s":128992,"e":129003,"w":2},{"s":129004,"e":129291,"w":1},{"s":129292,"e":129338,"w":2},{"s":129339,"e":129339,"w":1},{"s":129340,"e":129349,"w":2},{"s":129350,"e":129350,"w":1},{"s":129351,"e":129400,"w":2},{"s":129401,"e":129401,"w":1},{"s":129402,"e":129483,"w":2},{"s":129484,"e":129484,"w":1},{"s":129485,"e":129535,"w":2},{"s":129536,"e":129647,"w":1},{"s":129648,"e":129652,"w":2},{"s":129653,"e":129655,"w":1},{"s":129656,"e":129658,"w":2},{"s":129659,"e":129663,"w":1},{"s":129664,"e":129670,"w":2},{"s":129671,"e":129679,"w":1},{"s":129680,"e":129704,"w":2},{"s":129705,"e":129711,"w":1},{"s":129712,"e":129718,"w":2},{"s":129719,"e":129727,"w":1},{"s":129728,"e":129730,"w":2},{"s":129731,"e":129743,"w":1},{"s":129744,"e":129750,"w":2},{"s":129751,"e":129791,"w":1}]')},9474:(e,t,r)=>{e.exports=r(9579)},9579:function(e){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return ue}});var r={1078:"af",1052:"sq",1118:"am",5121:"ar_DZ",15361:"ar_BH",3073:"ar_EG",2049:"ar_IQ",11265:"ar_JO",13313:"ar_KW",12289:"ar_LB",4097:"ar_LY",6145:"ar_MA",8193:"ar_OM",16385:"ar_QA",1025:"ar_SA",10241:"ar_SY",7169:"ar_TN",14337:"ar_AE",9217:"ar_YE",1067:"hy",1101:"as",2092:"az_AZ",1068:"az_AZ",1069:"eu",1059:"be",2117:"bn",1093:"bn_IN",5146:"bs",1026:"bg",1109:"my",1027:"ca",2052:"zh_CN",3076:"zh_HK",5124:"zh_MO",4100:"zh_SG",1028:"zh_TW",1050:"hr",1029:"cs",1030:"da",1125:"dv",2067:"nl_BE",1043:"nl_NL",1126:"bin",3081:"en_AU",10249:"en_BZ",4105:"en_CA",9225:"en_CB",2057:"en_GB",16393:"en_IN",6153:"en_IE",8201:"en_JM",5129:"en_NZ",13321:"en_PH",7177:"en_ZA",11273:"en_TT",1033:"en_US",12297:"en_ZW",1061:"et",1071:"mk",1080:"fo",1065:"fa",1124:"fil",1035:"fi",2060:"fr_BE",11276:"fr_CM",3084:"fr_CA",9228:"fr_CG",12300:"fr_CI",1036:"fr_FR",5132:"fr_LU",13324:"fr_ML",6156:"fr_MC",14348:"fr_MA",10252:"fr_SN",4108:"fr_CH",7180:"fr",1122:"fy_NL",2108:"gd_IE",1084:"gd",1110:"gl",1079:"ka",3079:"de_AT",1031:"de_DE",5127:"de_LI",4103:"de_LU",2055:"de_CH",1032:"el",1140:"gn",1095:"gu",1279:"en",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig_NG",1057:"id",1040:"it_IT",2064:"it_CH",1041:"ja",1099:"kn",1120:"ks",1087:"kk",1107:"km",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1142:"la",1062:"lv",1063:"lt",2110:"ms_BN",1086:"ms_MY",1100:"ml",1082:"mt",1112:"mni",1153:"mi",1102:"mr",1104:"mn",2128:"mn",1121:"ne",1044:"no_NO",2068:"no_NO",1096:"or",1045:"pl",1046:"pt_BR",2070:"pt_PT",1094:"pa",1047:"rm",2072:"ro_MO",1048:"ro_RO",1049:"ru",2073:"ru_MO",1083:"se",1103:"sa",3098:"sr_SP",2074:"sr_SP",1072:"st",1074:"tn",1113:"sd",1115:"si",1051:"sk",1060:"sl",1143:"so",1070:"sb",11274:"es_AR",16394:"es_BO",13322:"es_CL",9226:"es_CO",5130:"es_CR",7178:"es_DO",12298:"es_EC",17418:"es_SV",4106:"es_GT",18442:"es_HN",2058:"es_MX",19466:"es_NI",6154:"es_PA",15370:"es_PY",10250:"es_PE",20490:"es_PR",1034:"es_ES",14346:"es_UY",8202:"es_VE",1089:"sw",2077:"sv_FI",1053:"sv_SE",1114:"syc",1064:"tg",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1073:"ts",1055:"tr",1090:"tk",1058:"uk",1056:"ur",2115:"uz_UZ",1091:"uz_UZ",1075:"ve",1066:"vi",1106:"cy",1076:"xh",1085:"yi",1077:"zu"};const n=/^([a-z\d]+)(?:[_-]([a-z\d]+))?(?:\.([a-z\d]+))?(?:@([a-z\d]+))?$/i,i={},o={group:" ",decimal:".",positive:"+",negative:"-",percent:"%",exponent:"E",nan:"NaN",infinity:"∞",ampm:["AM","PM"],mmmm6:["Muharram","Safar","Rabiʻ I","Rabiʻ II","Jumada I","Jumada II","Rajab","Shaʻban","Ramadan","Shawwal","Dhuʻl-Qiʻdah","Dhuʻl-Hijjah"],mmm6:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhuʻl-Q.","Dhuʻl-H."],mmmm:["January","February","March","April","May","June","July","August","September","October","November","December"],mmm:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function s(e){const t=n.exec(e);if(!t)throw new SyntaxError("Malformed locale: ".concat(e));return{lang:t[1]+(t[2]?"_"+t[2]:""),language:t[1],territory:t[2]||"",codeset:t[3]||"",modifier:t[4]||""}}function a(e){if("number"==typeof e)return r[65535&e]||null;const t=parseInt(e,16);return isFinite(t)&&r[65535&t]?r[65535&t]||null:n.test(e)?e:null}function c(e){const t=a(e);let r=null;if(t){const e=s(t);r=i[e.lang]||i[e.language]||null}return r}function l(e){return Object.assign({},o,e)}function u(e,t){const r="object"==typeof t?t:s(t);return i[r.lang]=l(e),r.language===r.lang||i[r.language]||(i[r.language]=l(e)),i[r.lang]}const d=l({group:","});function p(e,t){if("number"!=typeof e)return e;if(e<0)return-p(-e,t);if(t){const r=10**(t||0)||1;return p(e*r,0)/r}return Math.round(e)}function f(e,t,r){const n=e<0?-1:1,i=10**(t||2),o=10**(r||2);let s,a,c=Math.abs(e),l=0,u=0,d=0,p=1;if((e=c)%1==0)a=[e*n,1];else if(e<1e-19)a=[n,1e19];else if(e>1e19)a=[1e19*n,1];else{do{if(c=1/(c-Math.floor(c)),s=p,p=p*Math.floor(c)+l,l=s,u=d,d=Math.floor(e*p+.5),d>=i||p>=o)return[n*u,l]}while(Math.abs(e-d/p)>=1e-10&&c!==Math.floor(c));a=[n*d,p]}return a}d.isDefault=!0,u({group:",",ampm:["上午","下午"],mmmm:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],mmm:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["周日","周一","周二","周三","周四","周五","周六"]},"zh_CN"),u({group:",",nan:"非數值",ampm:["上午","下午"],mmmm:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],mmm:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["週日","週一","週二","週三","週四","週五","週六"]},"zh_TW"),u({group:",",ampm:["午前","午後"],mmmm:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],mmm:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dddd:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],ddd:["日","月","火","水","木","金","土"]},"ja"),u({group:",",ampm:["오전","오후"],mmmm:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],mmm:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dddd:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],ddd:["일","월","화","수","목","금","토"]},"ko"),u({group:",",ampm:["ก่อนเที่ยง","หลังเที่ยง"],mmmm:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],mmm:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dddd:["วันอาทิตย์","วันจันทร์","วันอังคาร","วันพุธ","วันพฤหัสบดี","วันศุกร์","วันเสาร์"],ddd:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},"th"),u({decimal:",",ampm:["dop.","odp."],mmmm:["ledna","února","března","dubna","května","června","července","srpna","září","října","listopadu","prosince"],mmm:["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],dddd:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],ddd:["ne","po","út","st","čt","pá","so"]},"cs"),u({group:".",decimal:",",mmmm:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],mmm:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],dddd:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],ddd:["søn.","man.","tir.","ons.","tor.","fre.","lør."]},"da"),u({group:".",decimal:",",ampm:["a.m.","p.m."],mmmm:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],mmm:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],dddd:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],ddd:["zo","ma","di","wo","do","vr","za"]},"nl"),u({group:","},"en"),u({decimal:",",nan:"epäluku",ampm:["ap.","ip."],mmmm:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],mmm:["tammik.","helmik.","maalisk.","huhtik.","toukok.","kesäk.","heinäk.","elok.","syysk.","lokak.","marrask.","jouluk."],dddd:["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],ddd:["su","ma","ti","ke","to","pe","la"]},"fi"),u({group:" ",decimal:",",mmmm:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],mmm:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dddd:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],ddd:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."]},"fr"),u({group:".",decimal:",",mmmm:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],mmm:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],dddd:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],ddd:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]},"de"),u({group:".",decimal:",",ampm:["π.μ.","μ.μ."],mmmm:["Ιανουαρίου","Φεβρουαρίου","Μαρτίου","Απριλίου","Μαΐου","Ιουνίου","Ιουλίου","Αυγούστου","Σεπτεμβρίου","Οκτωβρίου","Νοεμβρίου","Δεκεμβρίου"],mmm:["Ιαν","Φεβ","Μαρ","Απρ","Μαΐ","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dddd:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],ddd:["Κυρ","Δευ","Τρί","Τετ","Πέμ","Παρ","Σάβ"]},"el"),u({decimal:",",ampm:["de.","du."],mmmm:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],mmm:["jan.","febr.","márc.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."],dddd:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],ddd:["V","H","K","Sze","Cs","P","Szo"]},"hu"),u({group:".",decimal:",",ampm:["f.h.","e.h."],mmmm:["janúar","febrúar","mars","apríl","maí","júní","júlí","ágúst","september","október","nóvember","desember"],mmm:["jan.","feb.","mar.","apr.","maí","jún.","júl.","ágú.","sep.","okt.","nóv.","des."],dddd:["sunnudagur","mánudagur","þriðjudagur","miðvikudagur","fimmtudagur","föstudagur","laugardagur"],ddd:["sun.","mán.","þri.","mið.","fim.","fös.","lau."]},"is"),u({group:".",decimal:",",mmmm:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],mmm:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],dddd:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],ddd:["Min","Sen","Sel","Rab","Kam","Jum","Sab"]},"id"),u({group:".",decimal:",",mmmm:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],mmm:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],dddd:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],ddd:["dom","lun","mar","mer","gio","ven","sab"]},"it"),u({decimal:",",ampm:["a.m.","p.m."],mmmm:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],mmm:["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],dddd:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],ddd:["søn.","man.","tir.","ons.","tor.","fre.","lør."]},"nb"),u({decimal:",",mmmm:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],mmm:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],dddd:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],ddd:["niedz.","pon.","wt.","śr.","czw.","pt.","sob."]},"pl"),u({group:".",decimal:",",mmmm:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],mmm:["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],dddd:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],ddd:["dom.","seg.","ter.","qua.","qui.","sex.","sáb."]},"pt"),u({decimal:",",nan:"не число",mmmm:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],mmm:["янв.","февр.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],dddd:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],ddd:["вс","пн","вт","ср","чт","пт","сб"]},"ru"),u({decimal:",",mmmm:["januára","februára","marca","apríla","mája","júna","júla","augusta","septembra","októbra","novembra","decembra"],mmm:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],dddd:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],ddd:["ne","po","ut","st","št","pi","so"]},"sk"),u({group:".",decimal:",",ampm:["a. m.","p. m."],mmmm:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],mmm:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],dddd:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],ddd:["dom.","lun.","mar.","mié.","jue.","vie.","sáb."]},"es"),u({decimal:",",ampm:["fm","em"],mmmm:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],mmm:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],dddd:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],ddd:["sön","mån","tis","ons","tors","fre","lör"]},"sv"),u({group:".",decimal:",",ampm:["ÖÖ","ÖS"],mmmm:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],mmm:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dddd:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],ddd:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"]},"tr");const h={overflow:"######",dateErrorThrows:!1,dateErrorNumber:!0,dateSpanLarge:!0,leap1900:!0,nbsp:!0,throws:!0,invalid:"######",locale:"",ignoreTimezone:!1},m=Object.assign({},h);function g(e){if(null===e&&(e=h),e)for(const t in e)if(t in h){const r=e[t];m[t]=null==r?h[t]:r}return{...m}}const y={"#":"",0:"0","?":" "},b={"@":"text","-":"minus","+":"plus"},w=["#000","#FFF","#F00","#0F0","#00F","#FF0","#F0F","#0FF","#000","#FFF","#F00","#0F0","#00F","#FF0","#F0F","#0FF","#800","#080","#008","#880","#808","#088","#CCC","#888","#99F","#936","#FFC","#CFF","#606","#F88","#06C","#CCF","#008","#F0F","#FF0","#0FF","#808","#800","#088","#00F","#0CF","#CFF","#CFC","#FF9","#9CF","#F9C","#C9F","#FC9","#36F","#3CC","#9C0","#FC0"],v=["¤","$","£","¥","֏","؋","৳","฿","៛","₡","₦","₩","₪","₫","€","₭","₮","₱","₲","₴","₸","₹","₺","₼","₽","₾","₿"],_=new RegExp("["+v.join("")+"]");function k(e,t,r){return t[r+"_max"]=e.length,t[r+"_min"]=e.replace(/#/g,"").length,t}const S={};function x(e){if(!(e in S)){const t=[],r=e.replace(/^[#,]+/,"").replace(/[1-9]\d*/g,e=>"?".repeat(e.length));for(let e=0;e<r.length;e++){const n=r.charAt(e);t[e]=n in y?y[n]:n}S[e]=t.join("")}return S[e]}function I(e,t){"string"==typeof e&&(e={type:"string",value:e=e.replace(/ /g,y["?"])}),t.push(e)}function C(e){const t=[],r={scale:1,percent:!1,text:!1,date:0,date_eval:!1,date_system:1,sec_decimals:0,general:!1,clock:24,int_pattern:[],frac_pattern:[],man_pattern:[],den_pattern:[],num_pattern:[],tokens:t};let n=e+"",i="int",o=!1,s=null;const c=[];let l,u,d=!1;for(;n&&!o;){if(l=/^General/i.exec(n))r.general=!0,I({type:"general"},t);else if("int"===i&&(l=/^[#?0]+(?:,[#?0]+)*/.exec(n))||"den"===i&&(l=/^[#?\d]+/.exec(n))||(l=/^[#?0]+/.exec(n)))r[i+"_pattern"].push(l[0]),s={type:i,num:l[0]},I(s,t);else if((l=/^\//.exec(n))&&r[i+"_pattern"].length){if(!s)throw new SyntaxError("Missing a numerator in pattern ".concat(e));r.fractions=!0,r.num_pattern.push(r[i+"_pattern"].pop()),s.type="num",i="den",I({type:"div"},t)}else if(l=/^,+/.exec(n)){const e=n.charAt(1)in y;u.slice(-1)in y&&(l[0].length>1||!e)?r.scale=.001**l[0].length:r.dec_fractions||I(l[0],t)}else{if(l=/^;/.exec(n)){o=!0;break}if(l=/^[@+-]/.exec(n))"@"===l[0]&&(r.text=!0),I({type:b[l[0]]},t);else if(l=/^(?:\[(h+|m+|s+)\])/i.exec(n)){const e=l[1].toLowerCase(),n=e[0],i={type:"",size:0,date:1,raw:l[0],pad:e.length};"h"===n?(i.size=16,i.type="hour-elap"):"m"===n?(i.size=32,i.type="min-elap"):(i.size=64,i.type="sec-elap"),r.date=r.date|i.size,c.push(i),I(i,t)}else if(l=/^(?:B2)/i.exec(n))d||(r.date_system=6);else if(l=/^(?:B1)/i.exec(n))d||(r.date_system=1);else if(l=/^(?:([hHmMsSyYbBdDegG])\1*)/.exec(n)){const e={type:"",size:0,date:1,raw:l[0]},n=l[0].toLowerCase(),i=n[0];if("y"===n||"yy"===n)e.size=2,e.type="year-short";else if("y"===i||"e"===i)e.size=2,e.type="year";else if("b"===n||"bb"===n)e.size=2,e.type="b-year-short";else if("b"===i)e.size=2,e.type="b-year";else if("d"===n||"dd"===n)e.size=8,e.type="day",e.pad=/dd/.test(n);else if("ddd"===n)e.size=8,e.type="weekday-short";else if("d"===i)e.size=8,e.type="weekday";else if("h"===i)e.size=16,e.type="hour",e.pad=/hh/i.test(n);else if("m"===i){3===n.length?(e.size=4,e.type="monthname-short"):5===n.length?(e.size=4,e.type="monthname-single"):n.length>=4&&(e.size=4,e.type="monthname");const t=c[c.length-1];!e.type&&t&&!t.used&&80&t.size&&(t.used=!0,e.size=32,e.type="min",e.pad=/mm/.test(n)),e.type||(e.size=4,e.type="month",e.pad=/mm/.test(n),e.indeterminate=!0)}else if("s"===i){e.size=64,e.type="sec",e.pad=/ss/.test(n);const t=c[c.length-1];t&&32&t.size?e.used=!0:t&&t.indeterminate&&(delete t.indeterminate,t.size=32,t.type="min",e.used=!0)}r.date=r.date|e.size,r.date_eval=!0,c.push(e),I(e,t)}else if(l=/^(?:AM\/PM|am\/pm|A\/P)/.exec(n))r.clock=12,r.date=16|r.date,r.date_eval=!0,I({type:"am",short:"A/P"===l[0]},t);else if(r.date&&(l=/^\.0{1,3}/i.exec(n))){const e=l[0].length-1,n=[64,128,256,512][e];r.date=r.date|n,r.date_eval=!0,r.sec_decimals=Math.max(r.sec_decimals,e),I({type:"subsec",size:n,decimals:e,date:1,raw:l[0]},t)}else if((l=/^\\(.)/.exec(n))||(l=/^"([^"]*?)"/.exec(n)))I(l[1],t);else if(l=/^\[(<[=>]?|>=?|=)\s*(-?[.\d]+)\]/.exec(n))r.condition=[l[1],parseFloat(l[2],10)];else if(l=/^\[\$([^\]]+)\]/.exec(n)){const e=l[1].split("-"),n=e.length<2?"":e[e.length-1],i=e[0];i&&I(i,t);const o=a(n);o&&(r.locale=o);const s=parseInt(n,16);isFinite(s)&&16711680&s&&6==(s>>16&255)&&(r.date_system=6),d=!0}else if(l=/^\[(black|blue|cyan|green|magenta|red|white|yellow|color\s*(\d+))\]/i.exec(n))r.color=l[2]?w[parseInt(l[2],10)]||"#000":l[1].toLowerCase();else if(l=/^\[(DBNum1|ENG|HIJ|JPN|TWN)\]/i.exec(n));else if(l=/^%/.exec(n))r.scale=100,r.percent=!0,I("%",t);else if(l=/^_(\\.|.)/.exec(n))I(" ",t);else if(l=/^\./.exec(n))I({type:"point",value:l[0]},t),r.dec_fractions=!0,i="frac";else if(l=/^[Ee]([+-]?|(?=[0#?]))/.exec(n))r.exponential=!0,r.exp_plus="+"===l[1],i="man",I({type:"exp",plus:"+"===l[1]},t);else if(l=/^\*(\\.|.)/.exec(n));else{if(l=/^[BENn[]/.exec(n))throw new SyntaxError("Unexpected char ".concat(n.charAt(0)," in pattern ").concat(e));"("===n[0]&&(r.parens=!0),l=[n[0]],I(l[0],t)}}u=l[0],n=n.slice(l?l[0].length:1)}if(r.pattern=e.slice(0,e.length-n.length),/^((?:\[[^\]]+\])+)(;|$)/.test(r.pattern)&&!/^\[(?:h+|m+|s+)\]/.test(r.pattern)&&I({type:"text"},t),r.fractions&&r.dec_fractions||r.fractions&&r.exponential)throw new SyntaxError("Invalid pattern: ".concat(r.pattern));const p=r.int_pattern.join("");if(r.grouping=p.indexOf(",")>=0,r.grouping){const e=p.split(","),t=e.length;2===t?(r.group_pri=e[1].length,r.group_sec=r.group_pri):t>2&&(r.group_pri=e[t-1].length,r.group_sec=e[t-2].length)}else r.group_pri=0,r.group_sec=0;k(p.replace(/[,]/g,""),r,"int"),k(r.frac_pattern.join(""),r,"frac"),k(r.man_pattern.join(""),r,"man");let f=r.num_pattern.join(""),h=r.den_pattern.join("");const m=/\?/.test(h)||/\?/.test(f);return h=h.replace(/\d/g,m?"?":"#"),m&&(h=h.replace(/#$/g,"?")),k(f,r,"num"),k(h,r,"den"),m&&(f=f.replace(/#$/g,"?")),r.int_padding=x(r.int_pattern.join("")),r.man_padding=x(r.man_pattern.join("")),r.num_padding=x(f),r.den_padding=x(h),r.den_pattern.length&&(r.denominator=parseInt(r.den_pattern.join("").replace(/\D/g,""),10)),r.integer=!!r.int_pattern.join("").length,r.fractions&&t.forEach((e,r)=>{const n=t[r+1];"string"===e.type&&n&&("num"===n.type?e.rule="num+int":"div"===n.type?e.rule="num":"den"===n.type&&(e.rule="den"))}),r}const A=e=>{const t=e.condition;t&&t[1]<0&&("<"===t[0]||"<="===t[0]||"="===t[0])||e.tokens.unshift({type:"minus",volatile:!0})};function j(e){const t=[];let r,n=!1,i=null,o=e,s=0,c=!1,l=0,u=0;do{if(c=C(o),(c.date||c.general)&&(c.int_pattern.length||c.frac_pattern.length||1!==c.scale||c.text))throw new Error("Illegal format");if(c.condition&&(u++,n=!0),c.text){if(i)throw new Error("Unexpected partition");i=c}c.locale&&(r=a(c.locale)),t.push(c),s=";"===o.charAt(c.pattern.length)?1:0,o=o.slice(c.pattern.length+s),l++}while(s&&l<4&&u<3);if(s)throw new Error("Unexpected partition");if(u>2)throw new Error("Unexpected condition");const d=t[3];if(d&&(d.int_pattern.length||d.frac_pattern.length||d.date))throw new Error("Unexpected partition");if(n){const e=t.length;if(1===e&&(t[1]=C("General"),t[1].generated=!0),e<3){const e=t[0],r=t[1];if(A(e),r.condition)A(r);else{const t=e.condition;("="===t[0]||t[1]>=0&&(">"===t[0]||">="===t[0]))&&r.tokens.unshift({type:"minus",volatile:!0})}}else t.forEach(A)}else{if(t.length<4&&i)for(let e=0,r=t.length;e<r;e++)t[e]===i&&t.splice(e,1);if(t.length<1&&i&&(t[0]=C("General"),t[0].generated=!0),t.length<2){const e=C(t[0].pattern);e.tokens.unshift({type:"minus",volatile:!0}),e.generated=!0,t.push(e)}if(t.length<3){const e=C(t[0].pattern);e.generated=!0,t.push(e)}if(t.length<4)if(i)t.push(i);else{const e=C("@");e.generated=!0,t.push(e)}t[0].condition=[">",0],t[1].condition=["<",0],t[2].condition=null}return{pattern:e,partitions:t,locale:r}}const M=Math.floor;function P(e){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e>=0){if(0===e)return[1900,1,0];if(60===e)return[1900,2,29];if(e<60)return[1900,e<32?1:2,(e-1)%31+1]}let t=e+68569+2415019;const r=M(4*t/146097);t-=M((146097*r+3)/4);const n=M(4e3*(t+1)/1461001);t=t-M(1461*n/4)+31;const i=M(80*t/2447),o=t-M(2447*i/80);return t=M(i/11),[0|100*(r-49)+n+t,0|i+2-12*t,0|o]}function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=M(e);return 6===t?function(e){if(60===e)throw new Error("#VALUE!");if(e<=1)return[1317,8,29];if(e<60)return[1317,e<32?9:10,1+(e-2)%30];const t=10631/30,r=.1335;let n=e+466935;const i=M(n/10631);n-=10631*i;const o=M((n-r)/t);n-=M(o*t+r);const s=M((n+28.5001)/29.5);return 13===s?[30*i+o,12,30]:[30*i+o,s,n-M(29.5001*s-29)]}(n):-1===t?function(e){return P(e+1462)}(n):P(n,r)}const E=Math.floor,T=86400;function D(e,t){let r=null;if(Array.isArray(e)){const[t,n,i,o,s,a]=e;r=Date.UTC(t,null==n?0:n-1,null!=i?i:1,o||0,s||0,a||0)}else if(e instanceof Date&&(r=1*e,!t||!t.ignoreTimezone)){const t=new Date;t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r=1*t}if(null!=r&&isFinite(r)){const e=r/864e5;return e-(e<=-25509?-25568:-25569)}return e}function V(e,t){let r=0|e;const n=T*(e-r);let i=E(n);n-i>.9999&&(i+=1,i===T&&(i=0,r+=1));const o=i<0?T+i:i,[s,a,c]=O(e,0,t&&t.leap1900),l=E(o/60/60)%60,u=E(o/60)%60,d=E(o)%60;if(t&&t.nativeDate){const e=new Date(0);return e.setUTCFullYear(s,a-1,c),e.setUTCHours(l,u,d),e}return[s,a,c,l,u,d]}function F(e){return!!(e[0]&&e[0].percent||e[1]&&e[1].percent||e[2]&&e[2].percent||e[3]&&e[3].percent)}function N(e){return!!(e[0]&&e[0].date||e[1]&&e[1].date||e[2]&&e[2].date||e[3]&&e[3].date)}function z(e){const[t,r,n,i]=e;return!(t&&!t.generated||r&&!r.generated||n&&!n.generated||!i||!i.text||i.generated)}const B={text:15,datetime:10.8,date:10.8,time:10.8,percent:10.6,currency:10.4,grouped:10.2,scientific:6,number:4,fraction:2,general:0,error:0},R=[["DMY",1],["DM",2],["MY",3],["MDY",4],["MD",5],["hmsa",6],["hma",7],["hms",8],["hm",9]],L={total:1,sign:0,period:0,int:1,frac:0},$=(e,t)=>e.replace(/\./,t.decimal);function U(e,t,r,n){const i=0|r;if("string"==typeof r)e.push(r);else if(r===i)e.push(Math.abs(i));else{const t=Math.abs(r);let i=t?Math.floor(Math.log10(t)):0,o=i<0?t*10**-i:t/10**i;10===o&&(o=1,i++);const s=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Math.abs(e);if(!r)return L;const n=t&&e<0?1:0,i=Math.floor(r),o=Math.floor(Math.log10(r)+1);let s=0,a=0;if(i!==r){s=1;const e=String(p(o<0?r*10**-o:r/10**o,15));let t=e.length,n=!0,i=0;for(;i<=e.length;){if("."===e[i]){t--;break}"0"===e[i]&&n?t--:n=!1,i++}a=t-o,a<0&&(a=0,s=0)}return{total:n+Math.max(o,1)+s+a,digits:Math.max(o,0)+a,sign:n,period:s,int:Math.max(o,1),frac:a}}(t),a=()=>{const t=Math.abs(i);let r;r=1===o?o:p(o,5),e.push($(r+"",n),n.exponent,i<0?n.negative:n.positive,t<10?"0":"",t)};if(i>=-4&&i<=-1){const r=t.toPrecision(10+i).replace(/\.?0+$/,"");e.push($(r,n))}else if(10===i){const r=t.toFixed(10).slice(0,12).replace(/\.$/,"");e.push($(r,n))}else if(Math.abs(i)<=9)if(s.total<=11){const r=p(t,9).toFixed(s.frac);e.push($(r,n))}else 9===i?e.push(Math.floor(t)):i>=0&&i<9?e.push(p(t,9-i)):a();else s.total>=12?a():Math.floor(t)===t?e.push(Math.floor(t)):e.push($(p(t,9).toFixed(s.frac),n))}return e}const W=86400,H={int:"integer",frac:"fraction",man:"mantissa",num:"numerator",den:"denominator"},q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=Math.floor(Math.log10(e));return t>1?Math.floor(r/t)*t:r};function J(e,t,r,n){let i="",o="",s="",a="",c="",l=0,u=0|e,h=0,m=0,g=1,b=0,w=0,v=0,_=0,k=0,S=0;const x=n||d;if(!t.text&&isFinite(t.scale)&&1!==t.scale&&(e=function(e){if(0===e)return e;const t=Math.ceil(Math.log10(e<0?-e:e)),r=10**(16-Math.floor(t));return Math.round(e*r)/r}(e*t.scale)),t.exponential){let r=Math.abs(e);if(r){const e=10**-q(r,t.int_max),n=p(r*e,t.frac_max)/e;l=q(n,t.int_max)}r/=10**l,e=e<0?-r:r,i+=Math.abs(l)}if(t.integer){const r=Math.abs(p(e,t.fractions?1:t.frac_max));c+=r<1?"":Math.floor(r)}if(t.grouping){let e="",r=c.length;for(r>t.group_pri&&(r-=t.group_pri,e=x.group+c.slice(r,r+t.group_pri)+e);r>t.group_sec;)r-=t.group_sec,e=x.group+c.slice(r,r+t.group_sec)+e;c=r?c.slice(0,r)+e:e}t.dec_fractions&&(a=String(p(e,t.frac_max)).split(".")[1]||"");let I=!1;if(t.fractions){const r=Math.abs(t.integer?e%1:e);if(r)if(I=!0,isFinite(t.denominator))s+=t.denominator,o+=p(r*t.denominator),"0"===o&&(o="",s="",I=!1,c||(c="0"));else{const e=f(r,t.integer?t.num_max:1/0,t.den_max);o+=e[0],s+=e[1],t.integer&&"0"===o&&(c||(c="0"),o="",s="",I=!1)}}if(t.date){u=Math.trunc(e);const n=W*(e-u);if(h=Math.floor(n),S=n-h,Math.abs(S)<1e-6?S=0:S>.9999&&(S=0,h+=1,h===W&&(h=0,u+=1)),S){const e=512&t.date||256&t.date||128&t.date;(512===e&&S>.9995||256===e&&S>.995||128===e&&S>.95||!e&&S>=.5)&&(h++,S=0)}if(u||t.date_system){const n=O(e,t.date_system,r.leap1900);m=n[0],g=n[1],b=n[2]}if(h){const e=h<0?W+h:h;k=Math.floor(e)%60,_=Math.floor(e/60)%60,v=Math.floor(e/60/60)%60}if(w=(6+u)%7,t.date_eval&&(C=e,A=u+h/W,r.dateSpanLarge?C<-694324||A>=35830291:C<0||A>=2958466)){if(r.dateErrorThrows)throw new Error("Date out of bounds");return r.dateErrorNumber?U(e<0?[x.negative]:[],0,e,x).join(""):r.overflow}}var C,A;if(t.int_padding&&(c=1===t.int_padding.length?c||t.int_padding:t.int_padding.substring(0,t.int_padding.length-c.length)+c),t.num_padding&&(o=1===t.num_padding.length?o||t.num_padding:t.num_padding.substring(0,t.num_padding.length-o.length)+o),t.den_padding&&(s=1===t.den_padding.length?s||t.den_padding:s+t.den_padding.slice(s.length)),t.man_padding){const e=t.exp_plus?"+":"";i=1===t.man_padding.length?(l<0?"-":e)+(i||t.man_padding):(l<0?"-":e)+t.man_padding.slice(0,t.man_padding.length-i.length)+i}const j=[];let M=0;const P={int:0,frac:0,man:0,num:0,den:0};for(let l=0,d=t.tokens.length;l<d;l++){const d=t.tokens[l],p=d.num?d.num.length:0;if("string"===d.type)d.rule?"num"===d.rule?I?j.push(d.value):(t.num_min>0||t.den_min>0)&&j.push(d.value.replace(/./g,y["?"])):"num+int"===d.rule?I&&c?j.push(d.value):t.den_min>0&&(c||t.num_min)&&j.push(d.value.replace(/./g,y["?"])):"den"===d.rule&&(I?j.push(d.value):(t.den_min>0||t.den_min>0)&&j.push(d.value.replace(/./g,y["?"]))):j.push(d.value);else if("error"===d.type)j.push(r.invalid);else if("point"===d.type)j.push(t.date?d.value:x.decimal);else if("general"===d.type)U(j,0,e,x);else if("exp"===d.type)j.push(x.exponent);else if("minus"===d.type)d.volatile&&t.date||d.volatile&&(e>=0||"number"!=typeof e)||(d.volatile&&!t.fractions&&(t.integer||t.dec_fractions)?(e<0&&c&&"0"!==c||a)&&j.push(x.negative):j.push(x.negative));else if("plus"===d.type)j.push(x.positive);else if("text"===d.type)j.push(e);else if("div"===d.type)I?j.push("/"):t.num_min>0||t.den_min>0?j.push(y["?"]):j.push(y["#"]);else if("int"===d.type)if(1===t.int_pattern.length)j.push(c);else{const e=M?t.int_pattern.join("").length-P.int:1/0,r=M===t.int_pattern.length-1?0:t.int_pattern.join("").length-(P.int+d.num.length);j.push(c.substring(c.length-e,c.length-r)),M++,P.int+=d.num.length}else if("frac"===d.type){const e=P.frac;for(let t=0;t<p;t++)j.push(a[t+e]||y[d.num[t]]);P.frac+=p}else if(d.type in H)1===t[d.type+"_pattern"].length?("int"===d.type&&j.push(c),"frac"===d.type&&j.push(a),"man"===d.type&&j.push(i),"num"===d.type&&j.push(o),"den"===d.type&&j.push(s)):(j.push(H[d.type].slice(P[d.type],P[d.type]+p)),P[d.type]+=p);else if("year"===d.type)m<0&&j.push(x.negative),j.push(String(Math.abs(m)).padStart(4,"0"));else if("year-short"===d.type){const e=m%100;j.push(e<10?"0":"",e)}else if("month"===d.type)j.push(d.pad&&g<10?"0":"",g);else if("monthname-single"===d.type)6===t.date_system?j.push(x.mmmm6[g-1].charAt(0)):j.push(x.mmmm[g-1].charAt(0));else if("monthname-short"===d.type)6===t.date_system?j.push(x.mmm6[g-1]):j.push(x.mmm[g-1]);else if("monthname"===d.type)6===t.date_system?j.push(x.mmmm6[g-1]):j.push(x.mmmm[g-1]);else if("weekday-short"===d.type)j.push(x.ddd[w]);else if("weekday"===d.type)j.push(x.dddd[w]);else if("day"===d.type)j.push(d.pad&&b<10?"0":"",b);else if("hour"===d.type){const e=v%t.clock||(t.clock<24?t.clock:0);j.push(d.pad&&e<10?"0":"",e)}else if("min"===d.type)j.push(d.pad&&_<10?"0":"",_);else if("sec"===d.type)j.push(d.pad&&k<10?"0":"",k);else if("subsec"===d.type){j.push(x.decimal);const e=S.toFixed(t.sec_decimals);j.push(e.slice(2,2+d.decimals))}else if("am"===d.type){const e=v<12?0:1;d.short&&!n?j.push("AP"[e]):j.push(x.ampm[e])}else if("hour-elap"===d.type){e<0&&j.push(x.negative);const t=24*u+Math.floor(Math.abs(h)/3600);j.push(String(Math.abs(t)).padStart(d.pad,"0"))}else if("min-elap"===d.type){e<0&&j.push(x.negative);const t=1440*u+Math.floor(Math.abs(h)/60);j.push(String(Math.abs(t)).padStart(d.pad,"0"))}else if("sec-elap"===d.type){e<0&&j.push(x.negative);const t=u*W+Math.abs(h);j.push(String(Math.abs(t)).padStart(d.pad,"0"))}else if("b-year"===d.type)j.push(m+543);else if("b-year-short"===d.type){const e=(m+543)%100;j.push(e<10?"0":"",e)}}return r.nbsp?j.join(""):j.join("").replace(/\u00a0/g," ")}function Y(e,t){for(let r=0;r<3;r++){const n=t[r];if(n){let t;if(n.condition){const r=n.condition[0],i=n.condition[1];"="===r?t=e===i:">"===r?t=e>i:"<"===r?t=e<i:">="===r?t=e>=i:"<="===r?t=e<=i:"<>"===r&&(t=e!==i)}else t=!0;if(t)return n}}}const G=C("@"),Q="black",Z={};function K(e,t){if(e){const r=e[0];t[r]=t[r]||{},K(e.slice(1),t[r])}else t.$=!0}["d-F-y","d-F-Y","d-M-y","d-M-Y","F-d-y","F-d-Y","F-j-y","F-j-Y","j-F-y","j-F-Y","j-M-y","j-M-Y","M-d-y","M-d-Y","M-j-y","M-j-Y","m-d-y","m-d-Y","m-j-y","m-j-Y","n-d-y","n-d-Y","n-j-y","n-j-Y","y-F-d","y-F-j","y-M-d","y-M-j","Y-F-d","Y-F-j","Y-M-d","Y-m-d","Y-M-j","Y-m-j","Y-n-d","Y-n-j","j-F","j-M","d-F","d-M","n-d","n-j","n-Y","m-d","m-j","m-Y","M-Y","M-y","F-y","F-Y","Y-M","Y-n","Y-m","Y-F","Y-M"].forEach(e=>{K(e,Z),K(e+" x",Z),K(e+" l",Z),K(e+" l x",Z),K("l "+e,Z),K("l "+e+" x",Z),K(e+" D",Z),K(e+" D x",Z),K("D "+e,Z),K("D "+e+" x",Z)});const X={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},ee={january:1,february:2,march:3,april:4,june:6,july:7,august:8,september:9,october:10,november:11,december:12},te={sunday:"l",monday:"l",tuesday:"l",wednesday:"l",thursday:"l",friday:"l",saturday:"l",sun:"D",mon:"D",tue:"D",wed:"D",thu:"D",fri:"D",sat:"D"},re=(new Date).getUTCFullYear();function ne(e){const t=new RegExp("^([\\s+%"+v.join("")+"(-]*)(((?:(?:\\d[\\d,]*)(?:\\.\\d*)?|(?:\\.\\d+)))([eE][+-]?\\d+)?)([\\s%"+v.join("")+")]*)$").exec(e);if(t){const[,e,r,n,i,o]=t;let s=1,a="",c=!1,l=!1,u=!1,d=!1,p=!1,f=null,h=!1,m=parseFloat(r.replace(/,/g,""));if(!isFinite(m))return null;for(let t=0;t<e.length;t++){const r=e[t];if("-"===r){if(c||l)return null;c=!0,s=-1}else if(_.test(r)){if(p)return null;p=!0,f=r}else if("("===r){if(l||c)return null;l=!0,s=-1}else if("%"===r){if(d)return null;d=!0}}for(let e=0;e<o.length;e++){const t=o[e];if(_.test(t)){if(p)return null;p=!0,f=t,h=!0}else if(")"===t){if(u||!l)return null;u=!0}else if("%"===t){if(d)return null;d=!0}}if(i){if(d||p)return null;a="0.00E+00"}else if(d){if(p)return null;a=n.includes(".")?"0.00%":"0%",m*=.01}else if(p){const e=n.includes(".")?"#,##0.00":"#,##0";a=h?e+f:f+e}else n.includes(",")&&(a=n.includes(".")?"#,##0.00":"#,##0");const g={v:m*s};return a&&(g.z=a),g}}const ie=(e,t,r)=>{const n=r.path||"",i=Object.keys(t);for(let o=0;o<i.length;o++){let s;const a=i[o];if(t[a]){if("$"===a||"€"===a)e||(s=r);else if("-"===a){const i=/^(\s*([./-]|,\s)\s*|\s+)/.exec(e);if(i){const o="-"===i[1]||"/"===i[1]||"."===i[1]?i[1]:" ";if(!r.sep||r.sep===o){const c=i[0].replace(/\s+/g," ");s=ie(e.slice(i[0].length),t[a],{...r,sep:o,path:n+c})}}}else if(" "===a){const i=/^[,.]?\s+/.exec(e);if(i){const o=i[0].replace(/\s+/g," ");s=ie(e.slice(i[0].length),t[a],{...r,path:n+o})}}else if("j"===a||"d"===a){const i=/^(0?[1-9]|1\d|2\d|3[01])\b/.exec(e);i&&(s=ie(e.slice(i[0].length),t[a],{...r,day:i[0],path:n+a}))}else if("n"===a||"m"===a){const i=/^(0?[1-9]|1[012])\b/.exec(e);i&&(s=ie(e.slice(i[0].length),t[a],{...r,month:+i[0],_mon:i[0],path:n+a}))}else if("F"===a||"M"===a){const i=/^([a-z]{3,9})\b/i.exec(e),o=i&&("F"===a?ee:X)[i[0].toLowerCase()];o&&(s=ie(e.slice(i[0].length),t[a],{...r,month:o,_mon:i[0],path:n+a}))}else if("l"===a||"D"===a){const i=/^([a-z]{3,9})\b/i.exec(e);(i&&te[i[0].toLowerCase()])===a&&(s=ie(e.slice(i[0].length),t[a],{...r,path:n+a}))}else if("y"===a){const i=/^\d\d\b/.exec(e);if(i){const o=+i[0]>=30?+i[0]+1900:+i[0]+2e3;s=ie(e.slice(i[0].length),t[a],{...r,year:o,path:n+a})}}else if("Y"===a){const i=/^\d\d\d\d\b/.exec(e);i&&(s=ie(e.slice(i[0].length),t[a],{...r,year:+i[0],path:n+a}))}else{if("x"!==a)throw new Error('Unknown date token "'.concat(a,'"'));{const i=se(e);i&&(s=ie("",t[a],{...r,time:i.v,tf:i.z,path:n+a}))}}if(s)return s}}};function oe(e,t){const r=ie(e.trim(),Z,{path:""});if(r){var n;if("."===r.sep&&3===r.path.length)return null;const e=+(null!==(n=r.year)&&void 0!==n?n:re);if(r.day||(r.day=1),!function(e,t,r){if(r<1)return!1;if(t<1||t>12)return!1;if(2===t){if(r>(e%4==0&&e%100!=0||e%400==0||1900===e?29:28))return!1}else if((4===t||6===t||9===t||11===t)&&r>30||(1===t||3===t||5===t||7===t||8===t||10===t||12===t)&&r>31)return!1;return!0}(e,r.month,r.day))return null;let i=-1/0;if(e<1900)return null;e<=1900&&r.month<=2?i=25568:e<1e4&&(i=25569);const o=Date.UTC(e,r.month-1,r.day)/864e5+i+(r.time||0);if(o>=0&&o<=2958465){const e="0"===r._mon[0]||"0"===r.day[0]||2===r._mon.length&&2===r.day.length,n=r.path.replace(/[jdlDnmMFyYx-]/g,t=>"j"===t||"d"===t?e?"dd":"d":"D"===t?"ddd":"l"===t?"dddd":"n"===t||"m"===t?e?"mm":"m":"M"===t?"mmm":"F"===t?"mmmm":"y"===t?"yy":"x"===t?r.tf||"":"Y"===t?"yyyy":t);return t&&t.nativeDate?{v:V(o,t),z:n}:{v:o,z:n}}}return null}function se(e){const t=/^\s*([10]?\d|2[0-4])(?::([0-5]\d|\d))?(?::([0-5]\d|\d))?(\.\d{1,10})?(?:\s*([AP])M?)?\s*$/i.exec(e);if(t){const[,e,r,n,i,o]=t;if(i&&!n)return null;if(!o&&!r&&!n)return null;let s=1*(e||0);if(o){if(s>=13)return null;"p"!==o[0]&&"P"!==o[0]||(s+=12)}return{v:(60*s*60+1*(r||0)*60+1*(n||0)+1*(i||0))/86400,z:(2===e.length?"hh":"h")+":mm"+(n?":ss":"")+(o?" AM/PM":"")}}return null}function ae(e){return/^\s*true\s*$/i.test(e)?{v:!0}:/^\s*false\s*$/i.test(e)?{v:!1}:null}const ce={};function le(e,t){e||(e="General");let r=null;return ce[e]?r=ce[e]:(r=Object.assign({},g(),t).throws?j(e):function(e){try{return j(e)}catch(t){const r={tokens:[{type:"error"}],error:t.message};return{pattern:e,partitions:[r,r,r,r],error:t.message,locale:null}}}(e),r.error||(ce[e]=r)),function(e,t){const{pattern:r,partitions:n,locale:i}=e,o=e=>{const r=Object.assign({},g(),t,e);return i&&(r.locale=i),r},s=(e,t)=>{const r=o(t);return function(e,t,r){const n=c(r.locale),i=t[3]?t[3]:G;if("boolean"==typeof e&&(e=e?"TRUE":"FALSE"),null==e)return"";if("number"!=typeof e)return J(e,i,r,n);if(!isFinite(e)){const t=n||d;return isNaN(e)?t.nan:(e<0?t.negative:"")+t.infinity}const o=Y(e,t);return o?J(e,o,r,n):r.overflow}(D(e,r),n,r)};s.color=(e,t)=>function(e,t){if("number"!=typeof e||!isFinite(e))return(t[3]?t[3].color:G.color)||Q;const r=Y(e,t);return r&&r.color||Q}(D(e,o(t)),n);const a=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,i]=e,o=n.frac_max,s={type:"general",isDate:N(e),isText:z(e),isPercent:F(e),maxDecimals:n.general?9:o,scale:null!==(t=n.scale)&&void 0!==t?t:1,color:0,parentheses:0,grouped:n.grouping?1:0,_partitions:e},a=!s.isDate&&!s.isText&&!n.error&&n.tokens.some(e=>"string"===e.type&&(r?e.value===r:_.test(e.value)));let c="G",l=o>=0?Math.min(15,o):"",u="",d="";if(i&&i.color&&(d="-",s.color=1),n.parens&&(u="()",s.parentheses=1),a)c="C",s.type="currency";else if(n.error)s.type="error",s.maxDecimals=0;else if(s.isDate){let e=0,t=0,r="";n.tokens.forEach(n=>{const i=n.type;/^(b-)?year/.test(i)?(r+="Y",t++):i.startsWith("month")?(r+="M",t++):/^(week)?day/.test(i)?(r+="D",t++):"hour"!==i&&"min"!==i&&"sec"!==i&&"am"!==i||(r+=i[0],e++)}),s.type="date",t&&e?s.type="datetime":!t&&e&&(s.type="time");const i=R.find(e=>r.startsWith(e[0]));c=i?"D":"G",l=i?i[1]:""}else s.isText?(c="G",s.type="text",l="",s.maxDecimals=0):n.general?(c="G",s.type="general",l=""):n.fractions?(c="G",s.type="fraction",l=""):n.exponential?(c="S",s.type="scientific"):s.isPercent?(c="P",s.type="percent"):n.grouping?(c=",",s.type="grouped"):(n.int_max||o)&&(c="F",s.type="number");return s.code=c+l+d+u,s.level=B[s.type],Object.freeze(s)}(n,(t||{}).currency)||new SyntaxError;return s.info=a,s.dateInfo=function(e){const[t]=e;return{year:!!(2&t.date),month:!!(4&t.date),day:!!(8&t.date),hours:!!(16&t.date),minutes:!!(32&t.date),seconds:!!(64&t.date),clockType:12===t.clock?12:24}}(n),s.isPercent=()=>!!a.isPercent,s.isDate=()=>!!a.isDate,s.isText=()=>!!a.isText,s.pattern=r,e.error&&(s.error=e.error),s.options=o,s.locale=i||t&&t.locale||"",Object.freeze(s)}(r,t)}le.isDate=e=>le(e,{throws:!1}).isDate(),le.isPercent=e=>le(e,{throws:!1}).isPercent(),le.isText=e=>le(e,{throws:!1}).isText(),le.getInfo=(e,t)=>le(e,{...t,throws:!1}).info,le.getDateInfo=(e,t)=>le(e,{...t,throws:!1}).dateInfo,le.dateToSerial=D,le.dateFromSerial=V,le.options=g,le.dec2frac=f,le.round=p,le.codeToLocale=r,le.parseLocale=s,le.getLocale=c,le.addLocale=(e,t)=>{const r=s(t);return delete ce[r.lang],delete ce[r.language],u(e,r)},le.format=function(e,t,r){const n=r&&"object"==typeof r?r:{locale:r,throws:!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])};return le(e,n)(D(t,n),n)},le.is_date=le.isDate,le.parseNumber=ne,le.parseDate=oe,le.parseTime=se,le.parseBool=ae,le.parseValue=function(e,t){var r,n,i;return null!==(r=null!==(n=null!==(i=ne(e))&&void 0!==i?i:oe(e,t))&&void 0!==n?n:se(e))&&void 0!==r?r:ae(e)};var ue=le;return t.default}()},9786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyUpgradeScript=void 0,t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,r)=>{const n=[];for(const t of r.feedbacks){let r=e[t.feedbackId];if(!0===r&&(r={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),r){t.style||(t.style={});for(const[e,i]of Object.entries(r))void 0!==t.options[e]&&(t.style[i]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,r)=>{const n=[];for(const t of r.feedbacks){const r=e[t.feedbackId];if("string"!=typeof r)continue;const i=t.options[r];void 0!==i&&(delete t.options[r],t.isInverted="true"===i||!0===i||Number(i)>0,n.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]})},9825:(e,t,r)=>{"use strict";const n=r(7798),i=r(7762),o={},s=new Set([Object,Array]);function a(e,t){arguments.length<2?(t=e,e={}):e&&"object"==typeof e||(e={}),e.style?"string"==typeof e.style&&(e.style=p[e.style]):e.style=p.none,void 0===e.depth&&(e.depth=3),void 0===e.maxLength&&(e.maxLength=250),void 0===e.outputMaxLength&&(e.outputMaxLength=5e3),e.nofunc&&(e.noFunc=!0),e.minimal&&(e.noFunc=!0,e.noDescriptor=!0,e.noType=!0,e.noArrayProperty=!0,e.enumOnly=!0,e.proto=!1,e.funcDetails=!1),e.minimalPlusConstructor&&(e.noFunc=!0,e.noDescriptor=!0,e.noTypeButConstructor=!0,e.noArrayProperty=!0,e.enumOnly=!0,e.proto=!1,e.funcDetails=!1);var r=c({depth:0,ancestors:[]},e,t);return r.length>e.outputMaxLength&&(r=e.style.truncate(r,e.outputMaxLength)),r}function c(e,t,r){var i,a,d,p,f,h,m,g,y,b,w,v,_,k,S,x="",I="",C="",A="";if(y=typeof r,e.depth&&(A=(t.tab??t.style.tab).repeat(t.noMarkup?e.depth-1:e.depth)),"function"===y&&t.noFunc)return"";if(void 0!==e.key&&(e.descriptor&&(C=[],e.descriptor.error?C="["+e.descriptor.error+"]":(e.descriptor.configurable||C.push("-conf"),e.descriptor.enumerable||C.push("-enum"),e.descriptor.writable||C.push("-w"),C=C.length?C.join(" "):"")),e.keyIsProperty?I=!t.noMarkup&&function(e){return!e.length}(e.key)?'"'+t.style.key(e.key)+'": ':t.style.key(e.key)+": ":t.bulletIndex?I=("string"==typeof t.bulletIndex?t.bulletIndex:"*")+" ":t.noIndex||(I=t.style.index(e.key)),C&&(C=" "+t.style.type(C))),b=e.noPre?"":A+I,void 0===r)x+=b+t.style.constant("undefined")+C+t.style.newline;else if(r===o)x+=b+t.style.constant("[empty]")+C+t.style.newline;else if(null===r)x+=b+t.style.constant("null")+C+t.style.newline;else if(!1===r)x+=b+t.style.constant("false")+C+t.style.newline;else if(!0===r)x+=b+t.style.constant("true")+C+t.style.newline;else if("number"===y)x+=b+t.style.number(r.toString())+(t.noType||t.noTypeButConstructor?"":" "+t.style.type("number"))+C+t.style.newline;else if("string"===y)r.length>t.maxLength?x+=b+(t.noMarkup?"":'"')+t.style.string(n.control(r.slice(0,t.maxLength-1)))+"…"+(t.noMarkup?"":'"')+(t.noType||t.noTypeButConstructor?"":" "+t.style.type("string")+t.style.length("("+r.length+" - TRUNCATED)"))+C+t.style.newline:x+=b+(t.noMarkup?"":'"')+t.style.string(n.control(r))+(t.noMarkup?"":'"')+(t.noType||t.noTypeButConstructor?"":" "+t.style.type("string")+t.style.length("("+r.length+")"))+C+t.style.newline;else if(Buffer.isBuffer(r))x+=b+t.style.inspect(r.inspect())+(t.noType?"":" "+t.style.type("Buffer")+t.style.length("("+r.length+")"))+C+t.style.newline;else if("object"===y||"function"===y)if(a=d="",v=!1,"function"===y&&(v=!0,a=" "+t.style.funcName(r.name?r.name:"(anonymous)"),d=t.style.length("("+r.length+")")),w=!1,Array.isArray(r)&&(w=!0,d=t.style.length("("+r.length+")")),m=r.constructor?r.constructor.name?r.constructor.name:"(anonymous)":"(no constructor)",h=!r.constructor||s.has(r.constructor),m=t.style.constructorName(m),p=Object.getPrototypeOf(r),x+=b,t.noType||t.noTypeButConstructor&&h||(!e.forceType||t.noType||t.noTypeButConstructor?t.noTypeButConstructor?x+=m:x+=m+a+d+" "+t.style.type(y)+C:x+=t.style.type(e.forceType),v&&!t.funcDetails||(x+=" ")),f=w&&t.noArrayProperty?[...Array(r.length).keys()]:Object.getOwnPropertyNames(r),t.sort&&f.sort(),_=function(e,t,r){if("function"==typeof e.constructor){if(e instanceof String)return e.toString();if(e instanceof RegExp)return e.toString();if(e instanceof Date)return e.toString()+" ["+e.getTime()+"]";if("function"==typeof Set&&e instanceof Set)return Array.from(e);if("function"==typeof Map&&e instanceof Map)return Array.from(e);if(e instanceof Promise&&process&&process.binding&&process.binding("util")&&process.binding("util").getPromiseDetails){let n=process.binding("util").getPromiseDetails(e),i=l[n[0]],o="Promise <"+i+">";return"fulfilled"===i?o+=" "+c({depth:t.depth,ancestors:t.ancestors,noPre:!0},r,n[1]):"rejected"===i&&(n[1]instanceof Error?o+=" "+u({style:r.style,noErrorStack:!0},n[1]):o+=" "+c({depth:t.depth,ancestors:t.ancestors,noPre:!0},r,n[1])),o}return e._bsontype?e.toString():r.useInspect&&"function"==typeof e.inspect?e.inspect():void 0}}(r,e,t),t.protoBlackList&&t.protoBlackList.has(p))x+=t.style.limit("[skip]")+t.style.newline;else if(void 0!==_)x+="string"==typeof _?"=> "+_+t.style.newline:"=> "+c({depth:e.depth,ancestors:e.ancestors,noPre:!0},t,_);else if(v&&!t.funcDetails)x+=t.style.newline;else if(f.length||t.proto)if(e.depth>=t.depth)x+=t.style.limit("[depth limit]")+t.style.newline;else if(-1!==e.ancestors.indexOf(r))x+=t.style.limit("[circular]")+t.style.newline;else{for(x+=(t.noMarkup?"":w?"[":"{")+t.style.newline,(S=e.ancestors.slice()).push(r),i=0;i<f.length&&x.length<t.outputMaxLength;i++)if(w||!(t.propertyBlackList&&t.propertyBlackList.has(f[i])||t.useInspectPropertyBlackList&&r.inspectPropertyBlackList instanceof Set&&r.inspectPropertyBlackList.has(f[i]))){if(w&&t.noArrayProperty&&!(f[i]in r))x+=c({depth:e.depth+1,ancestors:S,key:f[i],keyIsProperty:!1},t,o);else try{if((k=Object.getOwnPropertyDescriptor(r,f[i]))&&!k.enumerable&&t.enumOnly)continue;g=!w||!k.enumerable||isNaN(f[i]),!t.noDescriptor&&k&&(k.get||k.set)?x+=c({depth:e.depth+1,ancestors:S,key:f[i],keyIsProperty:g,descriptor:k,forceType:"getter/setter"},t,{get:k.get,set:k.set}):x+=c({depth:e.depth+1,ancestors:S,key:f[i],keyIsProperty:g,descriptor:t.noDescriptor?void 0:k||{error:"Bad Proxy Descriptor"}},t,r[f[i]])}catch(r){x+=c({depth:e.depth+1,ancestors:S,key:f[i],keyIsProperty:g,descriptor:t.noDescriptor?void 0:k},t,r)}i<f.length-1&&(x+=t.style.comma)}t.proto&&(x+=c({depth:e.depth+1,ancestors:S,key:"__proto__",keyIsProperty:!0},t,p)),x+=t.noMarkup?"":A+(w?"]":"}")+t.style.newline}else x+=(t.noMarkup?"":w?"[]":"{}")+t.style.newline;return 0===e.depth&&(t.style.trim&&(x=x.trim()),"html"===t.style&&(x=n.html(x))),x}t.inspect=a;var l=["pending","fulfilled","rejected"];function u(e,t){var r,i,o,s="";if(arguments.length<2?(t=e,e={}):e&&"object"==typeof e||(e={}),e.style?"string"==typeof e.style&&(e.style=p[e.style]):e.style=p.none,!(t instanceof Error)){if(s+="[not an Error] ","string"==typeof t){let r=5e3;return t.length>r?s+=e.style.errorMessage(n.control(t.slice(0,r-1),!0))+"…"+e.style.length("("+t.length+" - TRUNCATED)")+e.style.newline:s+=e.style.errorMessage(n.control(t,!0))+e.style.newline,s}if(!t||"object"!=typeof t||!t.name||"string"!=typeof t.name||!t.message||"string"!=typeof t.message)return s+a(e,t)}return t.stack&&!e.noErrorStack&&(r=d(e,t.stack)),i=t.type||t.constructor.name,o=t.code||t.name||t.errno||t.number,s+=e.style.errorType(i)+(o?" ["+e.style.errorType(o)+"]":"")+": ",s+=e.style.errorMessage(t.message)+"\n",r&&(s+=e.style.errorStack(r)+"\n"),t.from&&(s+=e.style.newline+e.style.errorFromMessage("From error:")+e.style.newline+u(e,t.from)),s}function d(e,t){if(arguments.length<2?(t=e,e={}):e&&"object"==typeof e||(e={}),e.style?"string"==typeof e.style&&(e.style=p[e.style]):e.style=p.none,t)return(e.browser||process.browser)&&-1!==t.indexOf("@")?t.replace(/[</]*(?=@)/g,"").replace(/^\s*([^@]*)\s*@\s*([^\n]*)(?::([0-9]+):([0-9]+))?$/gm,(t,r,n,i,o)=>e.style.errorStack("    at ")+(r?e.style.errorStackMethod(r)+" ":"")+e.style.errorStack("(")+(n?e.style.errorStackFile(n):e.style.errorStack("unknown"))+(i?e.style.errorStack(":")+e.style.errorStackLine(i):"")+(o?e.style.errorStack(":")+e.style.errorStackColumn(o):"")+e.style.errorStack(")")):(t=t.replace(/^[^\n]*\n/,"")).replace(/^\s*(at)\s+(?:(?:(async|new)\s+)?([^\s:()[\]\n]+(?:\([^)]+\))?)\s)?(?:\[as ([^\s:()[\]\n]+)\]\s)?(?:\(?([^:()[\]\n]+):([0-9]+):([0-9]+)\)?)?$/gm,(t,r,n,i,o,s,a,c)=>e.style.errorStack("    at ")+(n?e.style.errorStackKeyword(n)+" ":"")+(i?e.style.errorStackMethod(i)+" ":"")+(o?e.style.errorStack("[as ")+e.style.errorStackMethodAs(o)+e.style.errorStack("] "):"")+e.style.errorStack("(")+(s?e.style.errorStackFile(s):e.style.errorStack("unknown"))+(a?e.style.errorStack(":")+e.style.errorStackLine(a):"")+(c?e.style.errorStack(":")+e.style.errorStackColumn(c):"")+e.style.errorStack(")"))}t.inspectError=u,t.inspectStack=d;var p={},f=e=>e;p.none={trim:!1,tab:"    ",newline:"\n",comma:"",limit:f,type:e=>"<"+e+">",constant:f,funcName:f,constructorName:e=>"<"+e+">",length:f,key:f,index:e=>"["+e+"] ",number:f,inspect:f,string:f,errorType:f,errorMessage:f,errorStack:f,errorStackKeyword:f,errorStackMethod:f,errorStackMethodAs:f,errorStackFile:f,errorStackLine:f,errorStackColumn:f,errorFromMessage:f,truncate:(e,t)=>e.slice(0,t-1)+"…"},p.inline=Object.assign({},p.none,{trim:!0,tab:"",newline:" ",comma:", ",length:()=>"",index:()=>""}),p.color=Object.assign({},p.none,{limit:e=>i.bold+i.brightRed+e+i.reset,type:e=>i.italic+i.brightBlack+e+i.reset,constant:e=>i.cyan+e+i.reset,funcName:e=>i.italic+i.magenta+e+i.reset,constructorName:e=>i.magenta+e+i.reset,length:e=>i.italic+i.brightBlack+e+i.reset,key:e=>i.green+e+i.reset,index:e=>i.blue+"["+e+"]"+i.reset+" ",number:e=>i.cyan+e+i.reset,inspect:e=>i.cyan+e+i.reset,string:e=>i.blue+e+i.reset,errorType:e=>i.red+i.bold+e+i.reset,errorMessage:e=>i.red+i.italic+e+i.reset,errorStack:e=>i.brightBlack+e+i.reset,errorStackKeyword:e=>i.italic+i.bold+e+i.reset,errorStackMethod:e=>i.brightYellow+e+i.reset,errorStackMethodAs:e=>i.yellow+e+i.reset,errorStackFile:e=>i.brightCyan+e+i.reset,errorStackLine:e=>i.blue+e+i.reset,errorStackColumn:e=>i.magenta+e+i.reset,errorFromMessage:e=>i.yellow+i.underline+e+i.reset,truncate:(e,t)=>{var r=i.gray+"…"+i.reset,n=(e=e.slice(0,t-r.length)).lastIndexOf("");return n>=e.length-6&&(e=e.slice(0,n)),e+r}}),p.html=Object.assign({},p.none,{tab:"&nbsp;&nbsp;&nbsp;&nbsp;",newline:"<br />",limit:e=>'<span style="color:red">'+e+"</span>",type:e=>'<i style="color:gray">'+e+"</i>",constant:e=>'<span style="color:cyan">'+e+"</span>",funcName:e=>'<i style="color:magenta">'+e+"</i>",constructorName:e=>'<span style="color:magenta">'+e+"</span>",length:e=>'<i style="color:gray">'+e+"</i>",key:e=>'<span style="color:green">'+e+"</span>",index:e=>'<span style="color:blue">['+e+"]</span> ",number:e=>'<span style="color:cyan">'+e+"</span>",inspect:e=>'<span style="color:cyan">'+e+"</span>",string:e=>'<span style="color:blue">'+e+"</span>",errorType:e=>'<span style="color:red">'+e+"</span>",errorMessage:e=>'<span style="color:red">'+e+"</span>",errorStack:e=>'<span style="color:gray">'+e+"</span>",errorStackKeyword:e=>"<i>"+e+"</i>",errorStackMethod:e=>'<span style="color:yellow">'+e+"</span>",errorStackMethodAs:e=>'<span style="color:yellow">'+e+"</span>",errorStackFile:e=>'<span style="color:cyan">'+e+"</span>",errorStackLine:e=>'<span style="color:blue">'+e+"</span>",errorStackColumn:e=>'<span style="color:gray">'+e+"</span>",errorFromMessage:e=>'<span style="color:yellow">'+e+"</span>"})},9917:e=>{e.exports=function(e){const t={},r=(e,r)=>{let n="",i="",o="",s="",a=!1,c=!1,l=!1,u=[],d="",p="44",f="";Array.isArray(e)?(n=e[0].toString(),d=n,e.length>1&&(a=!0,i=e[1].toString(),u.push({feedbackId:"modifier",options:{modifier:1,location:"anywhere"},style:{text:i}})),e.length>2&&(c=!0,o=e[2].toString(),u.push({feedbackId:"modifier",options:{modifier:2,location:"anywhere"},style:{text:o}})),e.length>3&&(l=!0,s=e[3].toString(),u.push({feedbackId:"modifier",options:{modifier:3,location:"anywhere"},style:{text:s}}))):"object"==typeof e?(n=e.data0,d=e.desc||n,e.button||n,e.size&&(p=e.size.toString())):(n=e.toString(),d=n),t[`${r}${d}`]={type:"button",category:`${r}`,name:`Insert ${d}`,style:{text:`${n}`,size:p,color:"#fff",bgcolor:"rgb(10,10,10)"},steps:[{down:[{actionId:"insertData",options:{data0:n,data1type:a,data1:i,data2type:c,data2:o,data3type:l,data3:s,position:"cursor"}}],up:[]}],feedbacks:u}};for(let e=0;e<=9;e+=1)r(e,"Numpad");r(",","Numpad"),r(".","Numpad");const n=[["a","A","á","Á"],["b","B","฿",""],["c","C","©","ȼ"],["d","D","đ","Ð"],["e","E","é","É"],["f","F","f","F"],["g","G","g","G"],["h","H","h","H"],["i","I","í","Í"],["j","J","j","J"],["k","K","k","K"],["l","L","ø","Ø"],["m","M","μ","Μ"],["n","N","ñ","Ñ"],["o","O","ó","Ó"],["p","P","ö","Ö"],["q","Q","ä","Ä"],["r","R","®","℗"],["s","S","ß","§"],["t","T","ϸ","Ϸ"],["u","U","ú","Ú"],["v","V","v","V"],["w","W","å","Å"],["x","X","x","X"],["y","Y","ü","Ü"],["z","Z","æ","Æ"],["1","!","¡","¹"],["2","@","²","@"],["3","#","³","#"],["4","$","¤","₤"],["5","%","€","‰"],["6"," ̂","¼"," ̂"],["7","&","½","&"],["8","*","¾","*"],["9","(","‘","("],["0",")","’",")"],["-","_","¥","_"],["=","+","×","÷"],["[","{","«","‹"],["]","}","»","›"],["\\","|","﹁","¦"],[";",":","¶","°"],["'",'"',"′"," ̈"],[",","<","ç","Ç"],[".",">","",">"],["/","?","¿","?"],["`","~","`","~"]];for(const e of n)r(e,"US Keyboard");t.space={type:"button",category:"US Keyboard",name:"Space",style:{text:"␣",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"insertData",options:{data0:" ",data1type:!1,data1:"",data2type:!1,data2:"",data3type:!1,data3:"",position:"cursor"}}],up:[]}],feedbacks:[]},t.control_enter={type:"button",category:"Control",name:"Enter",style:{text:"⏎",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"enterData",options:{copy:"default"}}],up:[]}],feedbacks:[]},t.control_shift={type:"button",category:"Control",name:"Shift",style:{text:"⇧",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"changeModifier",options:{modifier:1,action:"set"}}],up:[{actionId:"changeModifier",options:{modifier:1,action:"release"}}]}],feedbacks:[{feedbackId:"modifier",options:{modifier:1,location:"anywhere"},style:{bgcolor:"rgb(100, 100, 100)"}}]},t.control_capslock={type:"button",category:"Control",name:"Caps Lock",style:{text:"⇪",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"changeModifier",options:{modifier:1,action:"toggleall"}}],up:[]}],feedbacks:[{feedbackId:"modifier",options:{modifier:1,location:"anywhere"},style:{bgcolor:"rgb(100, 100, 100)"}}]},t.control_shiftonetime={type:"button",category:"Control",name:"Shift One Time",style:{text:"⌤",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"changeModifier",options:{modifier:1,action:"onetime"}}],up:[]}],feedbacks:[{feedbackId:"modifier",options:{modifier:1,location:"anywhere"},style:{bgcolor:"rgb(100, 100, 100)"}}]},t.control_alt={type:"button",category:"Control",name:"Alt",style:{text:"⌥",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"changeModifier",options:{modifier:2,action:"onetime"}}],up:[]}],feedbacks:[{feedbackId:"modifier",options:{modifier:2,location:"anywhere"},style:{bgcolor:"rgb(100, 100, 100)"}}]},t.control_cursorleft={type:"button",category:"Control",name:"Move cursor left",style:{text:"🠜",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"cursorPosition",options:{operation:"inc",amount:-1}}],up:[]}],feedbacks:[]},t.control_cursorright={type:"button",category:"Control",name:"Move cursor right",style:{text:"🠞",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"cursorPosition",options:{operation:"inc",amount:1}}],up:[]}],feedbacks:[]},t.control_cursorstart={type:"button",category:"Control",name:"Move cursor to start",style:{text:"⇤",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"cursorPosition",options:{operation:"abs",amount:0}}],up:[]}],feedbacks:[]},t.control_cursorend={type:"button",category:"Control",name:"Move cursor to end",style:{text:"⇥",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"cursorPosition",options:{operation:"abs",amount:65536}}],up:[]}],feedbacks:[]},t.control_backspace={type:"button",category:"Control",name:"Backspace",style:{text:"⌫",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"deleteData",options:{amount:-1,position:"cursor"}}],up:[]}],feedbacks:[]},t.control_delete={type:"button",category:"Control",name:"Delete",style:{text:"⌦",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"deleteData",options:{amount:1,position:"cursor"}}],up:[]}],feedbacks:[]},t.control_clear={type:"button",category:"Control",name:"Clear Entry",style:{text:"⌧",size:"44",color:"#fff",bgcolor:"rgb(10, 10, 10)"},steps:[{down:[{actionId:"setData",options:{data:""}},{actionId:"cancelTimeout",delay:10}],up:[]}],feedbacks:[]};const i=[{data0:"̀",button:" ̀",desc:"Combining Grave Accent"},{data0:"́",button:" ́",desc:"Combining Acute Accent "},{data0:"̂",button:" ̂",desc:"Combining Circumflex Accent"},{data0:"̃",button:" ̃",desc:"Combining Tilde"},{data0:"̄",button:" ̄",desc:"Combining Macron"},{data0:"̅",button:" ̅",desc:"Combining Overline"},{data0:"̆",button:" ̆",desc:"Combining Breve"},{data0:"̇",button:" ̇",desc:"Combining Dot Above"},{data0:"̈",button:" ̈",desc:"Combining Diaeresis"},{data0:"̉",button:" ̉",desc:"Combining Hook Above"},{data0:"̊",button:" ̊",desc:"Combining Ring Above"},{data0:"̋",button:" ̋",desc:"Combining Double Acute Accent"},{data0:"̌",button:" ̌",desc:"Combining Caron"},{data0:"̍",button:" ̍",desc:"Combining Vertical Line Above"},{data0:"̎",button:" ̎",desc:"Combining Double Vertical Line Above"},{data0:"̏",button:" ̏",desc:"Combining Double Grave Accent"},{data0:"̐",button:" ̐",desc:"Combining Candrabindu"},{data0:"̑",button:" ̑",desc:"Combining Inverted Breve"},{data0:"̒",button:" ̒",desc:"Combining Turned Comma Above"},{data0:"̓",button:" ̓",desc:"Combining Comma Above"},{data0:"̔",button:" ̔",desc:"Combining Reversed Comma Above"},{data0:"̕",button:" ̕",desc:"Combining Comma Above Right"},{data0:"̖",button:" ̖",desc:"Combining Grave Accent Below"},{data0:"̗",button:" ̗",desc:"Combining Acute Accent Below"},{data0:"̘",button:" ̘",desc:"Combining Left Tack Below"},{data0:"̙",button:" ̙",desc:"Combining Right Tack Below"},{data0:"̚",button:" ̚",desc:"Combining Left Angle Above"},{data0:"̛",button:" ̛",desc:"Combining Horn"},{data0:"̜",button:" ̜",desc:"Combining Left Half Ring Below"},{data0:"̝",button:" ̝",desc:"Combining Up Tack Below"},{data0:"̞",button:" ̞",desc:"Combining Down Tack Below"},{data0:"̟",button:" ̟",desc:"Combining Plus Sign Below"},{data0:"̠",button:" ̠",desc:"Combining Minus Sign Below"},{data0:"̡",button:" ̡",desc:"Combining Palatalized Hook Below"},{data0:"̢",button:" ̢",desc:"Combining Retroflex Hook Below"},{data0:"̣",button:" ̣",desc:"Combining Dot Below"},{data0:"̤",button:" ̤",desc:"Combining Diaeresis Below"},{data0:"̥",button:" ̥",desc:"Combining Ring Below"},{data0:"̦",button:" ̦",desc:"Combining Comma Below"},{data0:"̧",button:" ̧",desc:"Combining Cedilla"},{data0:"̨",button:" ̨",desc:"Combining Ogonek"},{data0:"̩",button:" ̩",desc:"Combining Vertical Line Below"},{data0:"̪",button:" ̪",desc:"Combining Bridge Below"},{data0:"̫",button:" ̫",desc:"Combining Inverted Double Arch Below"},{data0:"̬",button:" ̬",desc:"Combining Caron Below"},{data0:"̭",button:" ̭",desc:"Combining Circumflex Accent Below"},{data0:"̮",button:" ̮",desc:"Combining Breve Below"},{data0:"̯",button:" ̯",desc:"Combining Inverted Breve Below"},{data0:"̰",button:" ̰",desc:"Combining Tilde Below"},{data0:"̱",button:" ̱",desc:"Combining Macron Below"},{data0:"̲",button:" ̲",desc:"Combining Low Line"},{data0:"̳",button:" ̳",desc:"Combining Double Low Line"},{data0:"̴",button:" ̴",desc:"Combining Tilde Overlay"},{data0:"̵",button:" ̵",desc:"Combining Short Stroke Overlay"},{data0:"̶",button:" ̶",desc:"Combining Long Stroke Overlay"},{data0:"̷",button:" ̷",desc:"Combining Short Solidus Overlay"},{data0:"̸",button:" ̸",desc:"Combining Long Solidus Overlay"},{data0:"̹",button:" ̹",desc:"Combining Right Half Ring Below"},{data0:"̺",button:" ̺",desc:"Combining Inverted Bridge Below"},{data0:"̻",button:" ̻",desc:"Combining Square Below"},{data0:"̼",button:" ̼",desc:"Combining Seagull Below"},{data0:"̽",button:" ̽",desc:"Combining X Above"},{data0:"̾",button:" ̾",desc:"Combining Vertical Tilde"},{data0:"̿",button:" ̿",desc:"Combining Double Overline"},{data0:"̀",button:" ̀",desc:"Combining Grave Tone Mark"},{data0:"́",button:" ́",desc:"Combining Acute Tone Mark"},{data0:"͂",button:" ͂",desc:"Combining Greek Perispomeni"},{data0:"̓",button:" ̓",desc:"Combining Greek Koronis"},{data0:"̈́",button:" ̈́",desc:"Combining Greek Dialytika Tonos"},{data0:"ͅ",button:" ͅ",desc:"Combining Greek Ypogegrammeni"},{data0:"͆",button:" ͆",desc:"Combining Bridge Above"},{data0:"͇",button:" ͇",desc:"Combining Equals Sign Below"},{data0:"͈",button:" ͈",desc:"Combining Double Vertical Line Below"},{data0:"͉",button:" ͉",desc:"Combining Left Angle Below"},{data0:"͊",button:" ͊",desc:"Combining Not Tilde Above"},{data0:"͋",button:" ͋",desc:"Combining Homothetic Above"},{data0:"͌",button:" ͌",desc:"Combining Almost Equal To Above"},{data0:"͍",button:" ͍",desc:"Combining Left Right Arrow Below"},{data0:"͎",button:" ͎",desc:"Combining Upwards Arrow Below"},{data0:"͏",button:" ͏",desc:"Combining Grapheme Joiner"},{data0:"͐",button:" ͐",desc:"Combining Right Arrowhead Above"},{data0:"͑",button:" ͑",desc:"Combining Left Half Ring Above"},{data0:"͒",button:" ͒",desc:"Combining Fermata"},{data0:"͓",button:" ͓",desc:"Combining X Below"},{data0:"͔",button:" ͔",desc:"Combining Left Arrowhead Below"},{data0:"͕",button:" ͕",desc:"Combining Right Arrowhead Below"},{data0:"͖",button:" ͖",desc:"Combining Right Arrowhead And Up Arrowhead Below"},{data0:"͗",button:" ͗",desc:"Combining Right Half Ring Above"},{data0:"͘",button:" ͘",desc:"Combining Dot Above Right"},{data0:"͙",button:" ͙",desc:"Combining Asterisk Below"},{data0:"͚",button:" ͚",desc:"Combining Double Ring Below"},{data0:"͛",button:" ͛",desc:"Combining Zigzag Above"},{data0:"͜",button:" ͜",desc:"Combining Double Breve Below"},{data0:"͝",button:" ͝",desc:"Combining Double Breve"},{data0:"͞",button:" ͞",desc:"Combining Double Macron"},{data0:"͟",button:" ͟",desc:"Combining Double Macron Below"},{data0:"͠",button:" ͠",desc:"Combining Double Tilde"},{data0:"͡",button:" ͡",desc:"Combining Double Inverted Breve"},{data0:"͢",button:" ͢",desc:"Combining Double Rightwards Arrow Below"},{data0:"ͣ",button:" ͣ",desc:"Combining Latin Small Letter A"},{data0:"ͤ",button:" ͤ",desc:"Combining Latin Small Letter E"},{data0:"ͥ",button:" ͥ",desc:"Combining Latin Small Letter I"},{data0:"ͦ",button:" ͦ",desc:"Combining Latin Small Letter O"},{data0:"ͧ",button:" ͧ",desc:"Combining Latin Small Letter U"},{data0:"ͨ",button:" ͨ",desc:"Combining Latin Small Letter C"},{data0:"ͩ",button:" ͩ",desc:"Combining Latin Small Letter D"},{data0:"ͪ",button:" ͪ",desc:"Combining Latin Small Letter H"},{data0:"ͫ",button:" ͫ",desc:"Combining Latin Small Letter M"},{data0:"ͬ",button:" ͬ",desc:"Combining Latin Small Letter R"},{data0:"ͭ",button:" ͭ",desc:"Combining Latin Small Letter T"},{data0:"ͮ",button:" ͮ",desc:"Combining Latin Small Letter V"},{data0:"ͯ",button:" ͯ",desc:"Combining Latin Small Letter X "}];for(const e of i)r({...e,size:"30"},"Diacritics"),t[`Diacritics${e.desc}`].steps[0].down.push({actionId:"normalizeEntry",options:[],delay:5});e.setPresetDefinitions(t)}},9928:(e,t,r)=>{"use strict";const n={};e.exports=n,Object.assign(n,{escape:r(7798)},{ansi:r(7762)},{unicode:r(6846)}),Object.assign(n,r(7034),r(4357),r(9825),r(732),r(1295),{latinize:r(3889),toTitleCase:r(6136),wordwrap:r(2789),naturalSort:r(7748),fuzzy:r(41),StringNumber:r(277)})},9967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},9998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){const o=i/2|0;let s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const{InstanceBase:n,Regex:i,runEntrypoint:o,InstanceStatus:s}=r(6278),a=r(7060),c=r(4694),l=r(4797),u=r(8176),d=r(9917),{format:p,escape:f}=r(9928),h=r(9474);o(class extends n{constructor(e){super(e)}async init(e){this.config=e,this.updateStatus(s.Ok),this.modifier=[{effective:!1,onetime:!1,controls:new Set},{effective:!1,onetime:!1,controls:new Set},{effective:!1,onetime:!1,controls:new Set}],this.timeout=void 0,this.variables=[{variableId:"entry_raw",name:"Current entry",initial:""},{variableId:"entry_last",name:"Last entry",initial:""},{variableId:"entry_second_last",name:"Second last entry",initial:""},{variableId:"entry_raw_length",name:"Length of current entry",initial:0},{variableId:"entry_last_length",name:"Length of last entry",initial:0},{variableId:"entry_formatted",name:"Current entry formatted",initial:""},{variableId:"entry_cursor",name:"Current entry with cursor shown",initial:this.config.cursor},{variableId:"entry_cursor_position",name:"Position of cursor",initial:0},{variableId:"entrycounter",name:"Counter of entries",initial:0}],this.updateVariableDefinitions(),this.initVariables(),this.updateActions(),this.updateFeedbacks(),this.updatePresetDefinitions()}async destroy(){this.timeout&&clearTimeout(this.timeout),this.log("debug","destroy")}async configUpdated(e){this.cancelTimeout(),this.config=e,this.updateActions()}async initVariables(){this.variables.forEach(e=>{this[e.variableId]=e.initial??void 0}),this.setVariableValues(this.variables.filter(e=>null!=e.initial).reduce((e,t)=>({...e,[t.variableId]:t.initial}),{}))}getConfigFields(){return[{id:"hint",type:"static-text",label:"This is a complex module, please read the help page for an explanation of all options.",width:12},{id:"autolengthraw",label:"Automatic enter when raw length is reached",type:"checkbox",default:!1,width:9},{type:"number",id:"enterlengthraw",label:"Length",width:3,min:1,max:65536,step:1,default:4,isVisibleExpression:"$(options:autolengthraw) == true"},{id:"autolengthformatted",label:"Automatic enter when formatted length is reached",type:"checkbox",default:!1,width:9},{type:"number",id:"enterlengthformatted",label:"Length",width:3,min:1,max:65536,step:1,default:4,isVisibleExpression:"$(options:autolengthformatted) == true"},{id:"autoregex",label:"Automatic enter when regular expression matches",type:"checkbox",default:!1,width:9},{id:"enterregex",label:"Regular expression",type:"textinput",width:12,default:"/.*/i",regex:"/^/(.+)\\/([gmiyusvd]?)$/",isVisibleExpression:"$(options:autoregex) == true"},{id:"autotime",label:"Automatic enter after inactivity timeout",type:"checkbox",default:!1,width:9},{type:"number",id:"timeout",label:"Timeout (s)",width:3,min:.1,max:30,step:.1,default:2.5,isVisibleExpression:"$(options:autotime) == true"},{type:"dropdown",id:"criterialogic",label:"Enter Criteria",width:12,choices:[{id:"or",label:"Any checked criterion is met (OR)"},{id:"and",label:"All checked cruteria are met (AND)"}],default:"or"},{type:"dropdown",id:"copydata",label:"When entering...",width:6,choices:[{id:"raw",label:"...copy raw entry"},{id:"formatted",label:"...copy formatted entry"}],default:"raw"},{type:"dropdown",id:"after",label:"After entering...",width:6,choices:[{id:"clear",label:"...clear raw entry"},{id:"keep",label:"...keep raw entry"}],default:"clear"},{type:"dropdown",id:"formattype",label:"Format Type",width:6,choices:[{id:"none",label:"None"},{id:"ecmaauto",label:"ECMA-376 automatic"},{id:"ecmastring",label:"ECMA-376 text"},{id:"ecmanumber",label:"ECMA-376 number"},{id:"ecmadate",label:"ECMA-376 date"},{id:"ecmatime",label:"ECMA-376 time"},{id:"ecmabool",label:"ECMA-376 boolean"},{id:"printf",label:"Printf format"},{id:"regex",label:"Regular Expression"}],default:"none"},{type:"static-text",id:"placeholder",label:"",value:"",width:6,isVisibleExpression:"$(options:formattype) == 'none'"},{type:"textinput",id:"formatecma",label:"ECMA-376 format expression",width:6,default:"*",useVariables:!0,isVisibleExpression:'includes($(options:formattype), "ecma")'},{type:"textinput",id:"formatprintf",label:"printf format expression",width:6,default:"%s",useVariables:!0,isVisibleExpression:"$(options:formattype) == 'printf'"},{type:"textinput",id:"formatregex",label:"Regular replacement expression",width:6,default:"/(.)/$1/g",useVariables:!0,isVisibleExpression:"$(options:formattype) == 'regex'"},{type:"number",id:"maxlength",label:"Maximum entry length before truncation",width:6,min:1,max:65536,step:1,default:1024},{type:"textinput",id:"cursor",label:"Cursor Character",width:6,default:"|",regex:"/^.$/"}]}buildRegex(e){const t=e.match(/^\/(.+)\/([gmiyusvd]?)$/);if(null===t)return new RegExp("^\b$");try{return new RegExp(t[1],t[2])}catch(t){return this.log("error",`Cannot compile regular expression from "${e}", ${t.message}`),new RegExp("^\b$")}}checkEnter(e){if("or"===this.config.criterialogic){if(this.config.autotime&&e||this.config.autolengthraw&&this.entry_raw.length>=this.config.enterlengthraw||this.config.autolengthformatted&&this.entry_formatted.length>=this.config.enterlengthformatted||this.config.autoregex&&this.buildRegex(this.config.enterregex).test(this.entry_raw))return void this.enter()}else if("and"===this.config.criterialogic){if(this.config.autotime&&!e)return;if(this.config.autolengthraw&&this.entry_raw.length<this.config.enterlengthraw)return;if(this.config.autolengthformatted&&this.entry_formatted.length<this.config.enterlengthformatted)return;if(this.config.autoregex&&!this.buildRegex(this.config.enterregex).test(this.entry_raw))return;this.enter()}}cancelTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}restartTimeout(){this.cancelTimeout(),this.timeout=setTimeout(this.fireTimeout.bind(this),1e3*this.config.timeout)}fireTimeout(){this.checkEnter(!0)}async enter(e){this.cancelTimeout(),void 0===e&&(e=this.config.copydata),"raw"===e?(this.entry_second_last=this.entry_last,this.entry_last=this.entry_raw):"formatted"===e?(this.entry_second_last=this.entry_last,this.entry_last=this.entry_formatted):this.log("error","copy data unknown: "+e),this.setVariableValues({entry_second_last:this.entry_second_last,entry_last:this.entry_last}),this.entrycounter+=1,this.setVariableValues({entrycounter:this.entrycounter}),"none"!==e&&"clear"===this.config.after&&await this.clearRaw(),this.checkFeedbacks("valid")}getlocale(e){let t="en-US",r="en-US",n=e.match(/(\{(zh(?:-\w\w)?|cs(?:-\w\w)?|da(?:-\w\w)?|nl(?:-\w\w)?|en(?:-\w\w)?|fi(?:-\w\w)?|fr(?:-\w\w)?|de(?:-\w\w)?|el(?:-\w\w)?|hu(?:-\w\w)?|is(?:-\w\w)?|id(?:-\w\w)?|it(?:-\w\w)?|ja(?:-\w\w)?|ko(?:-\w\w)?|nb(?:-\w\w)?|pl(?:-\w\w)?|pt(?:-\w\w)?|ru(?:-\w\w)?|sk(?:-\w\w)?|es(?:-\w\w)?|sv(?:-\w\w)?|th(?:-\w\w)?|tr(?:-\w\w)?)\}){1,2}$/i);if(null===n)return{apendix:"",from:t,to:r};{let e=n[0];e=e.replaceAll("}{","|"),e=e.replaceAll(/[\{\}]/g,"");let i=e.split("|");1===i.length?(t=i[0],r=i[0]):2===i.length&&(t=i[0],r=i[1])}return{apendix:n[0],from:t,to:r}}async formatData(e){const t=async()=>{const e=await this.parseVariablesInString(this.config.formatecma),t=this.getlocale(e);return{format:t.apendix.length?e.slice(0,-1*t.apendix.length):e,from:{locale:t.from},to:{locale:t.to}}};let r="";if("none"===this.config.formattype)r=e;else if("ecmastring"===this.config.formattype){const n=await t();r=h.format(n.format,e,n.to)}else if("ecmanumber"===this.config.formattype){const n=await t();let i=h.parseNumber(e,n.from)??{v:""};r=h.format(n.format,i.v,n.to)}else if("ecmadate"===this.config.formattype){const n=await t();let i=h.parseDate(e,n.from)??{v:""};r=h.format(n.format,i.v,n.to)}else if("ecmatime"===this.config.formattype){const n=await t();let i=h.parseTime(e,n.from)??{v:""};r=h.format(n.format,i.v,n.to)}else if("ecmabool"===this.config.formattype){const n=await t();let i=h.parseBool(e,n.from)??{v:!1};r=h.format(n.format,i.v,n.to)}else if("ecmaauto"===this.config.formattype){const n=await t();let i=h.parseValue(e,n.from)??{v:""};r=h.format(n.format,i.v,n.to)}else if("printf"===this.config.formattype){let t=await this.parseVariablesInString(this.config.formatprintf);r=p(t,e)}else if("regex"===this.config.formattype){let t=(await this.parseVariablesInString(this.config.formatregex)).match(/^\/(.+)(?<!\\)\/(.*)\/([gmiyusvd]?)$/);if(Array.isArray(t))try{r=e.replace(new RegExp(t[1],t[3]),t[2].replaceAll("\\/","/"))}catch(t){r=e,this.log("error",`Regex formatting failed: ${t.message}`)}else r=e,this.log("error","Regex formatting failed: input is no valid regular expression")}else r=e;return r}async clearRaw(){this.entry_raw="",this.entry_cursor=this.config.cursor,this.entry_cursor_position=0,this.entry_raw_length=0,this.entry_formatted=await this.formatData(this.entry_raw),this.setVariableValues({entry_raw:this.entry_raw,entry_cursor:this.entry_cursor,entry_cursor_position:this.entry_cursor_position,entry_raw_length:this.entry_raw_length,entry_formatted:this.entry_formatted})}releaseModifier(e){this.modifier[e].controls.clear(),this.modifier[e].effective=!1,this.modifier[e].onetime=!1}updateActions(){c(this)}updateFeedbacks(){l(this)}updateVariableDefinitions(){u(this)}updatePresetDefinitions(){d(this)}},a)})();