/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t,r={97169:(e,t,r)=>{"use strict";const n=r(32017);n.code='require("ajv/dist/runtime/equal").default',t.A=n},79100:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(38729),o=function(){function e(){}return e.prototype.active=function(){return n.l},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return t.call.apply(t,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([r],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),s=r(69627),i=r(44892),a="context",c=new o,l=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,s.$G)(a,e,i.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(n=this._getContextManager()).with.apply(n,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([e,t,r],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,s.mS)(a)||c},e.prototype.disable=function(){this._getContextManager().disable(),(0,s.kv)(a,i.K.instance())},e}()},44892:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(69627),o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("verbose",this._namespace,e)},e}();function s(e,t,r){var o=(0,n.mS)("diag");if(o)return r.unshift(t),o[e].apply(o,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(r),!1))}var i=r(76733),a=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=(0,n.mS)("diag");if(o)return o[e].apply(o,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(t),!1))}}var t=this;t.setLogger=function(e,r){var o,s,a;if(void 0===r&&(r={logLevel:i.u.INFO}),e===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=c.stack)&&void 0!==o?o:c.message),!1}"number"==typeof r&&(r={logLevel:r});var l=(0,n.mS)("diag"),u=function(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<i.u.NONE?e=i.u.NONE:e>i.u.ALL&&(e=i.u.ALL),t=t||{},{error:r("error",i.u.ERROR),warn:r("warn",i.u.WARN),info:r("info",i.u.INFO),debug:r("debug",i.u.DEBUG),verbose:r("verbose",i.u.VERBOSE)}}(null!==(s=r.logLevel)&&void 0!==s?s:i.u.INFO,e);if(l&&!r.suppressOverrideMessage){var p=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),u.warn("Current logger will overwrite one already registered from "+p)}return(0,n.$G)("diag",u,t,!0)},t.disable=function(){(0,n.kv)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},11616:(e,t,r)=>{"use strict";r.d(t,{B:()=>c,L:()=>a});var n=r(44892),o=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=new e(this._entries);try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),a=i.next();!a.done;a=i.next()){var c=a.value;s._entries.delete(c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),s=Symbol("BaggageEntryMetadata"),i=n.K.instance();function a(e){return void 0===e&&(e={}),new o(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:s,toString:function(){return e}}}},41844:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n=r(79100)._.getInstance()},38729:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{l:()=>o,n:()=>n});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},78758:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n=r(44892).K.instance()},76733:(e,t,r)=>{"use strict";var n;r.d(t,{u:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},74681:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>a,DiagLogLevel:()=>c.u,INVALID_SPANID:()=>b.w9,INVALID_SPAN_CONTEXT:()=>b.dM,INVALID_TRACEID:()=>b.RH,ProxyTracer:()=>p.y,ProxyTracerProvider:()=>d.n,ROOT_CONTEXT:()=>s.l,SamplingDecision:()=>h.i,SpanKind:()=>f.v,SpanStatusCode:()=>m.s,TraceFlags:()=>g.X,ValueType:()=>n,baggageEntryMetadataFromString:()=>o.B,context:()=>I._,createContextKey:()=>s.n,createNoopMeter:()=>l.Ac,createTraceState:()=>v,default:()=>L,defaultTextMapGetter:()=>u.q,defaultTextMapSetter:()=>u.U,diag:()=>R.s,isSpanContextValid:()=>T.YA,isValidSpanId:()=>T.wN,isValidTraceId:()=>T.hX,metrics:()=>O.q,propagation:()=>N.$,trace:()=>C.u});var n,o=r(11616),s=r(38729),i=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],a=function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<i.length;t++)this[i[t].n]=e(i[t].c)},c=r(76733),l=r(39833);!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}));var u=r(22009),p=r(19505),d=r(74975),h=r(72674),f=r(58651),m=r(11908),g=r(47397),E="[_0-9a-z-*/]",S=new RegExp("^(?:[a-z]"+E+"{0,255}|[a-z0-9]"+E+"{0,240}@[a-z]"+E+"{0,13})$"),_=/^[ -~]{0,255}[!-~]$/,y=/,|=/,A=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),s=r.slice(n+1,t.length);(function(e){return S.test(e)})(o)&&function(e){return _.test(e)&&!y.test(e)}(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function v(e){return new A(e)}var T=r(67823),b=r(97872),I=r(41844),R=r(78758),O=r(60176),N=r(49348),C=r(6664);const L={context:I._,diag:R.s,metrics:O.q,propagation:N.$,trace:C.u}},69627:(e,t,r)=>{"use strict";r.d(t,{mS:()=>p,$G:()=>u,kv:()=>d});var n="object"==typeof globalThis?globalThis:global,o="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,i=function(e){var t=new Set([e]),r=new Set,n=e.match(s);if(!n)return function(){return!1};var o=+n[1],i=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function c(e){return r.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(s);if(!n)return c(e);var u=+n[1],p=+n[2],d=+n[3];return null!=n[4]||o!==u?c(e):0===o?i===p&&a<=d?l(e):c(e):i<=p?l(e):c(e)}}(o),a=o.split(".")[0],c=Symbol.for("opentelemetry.js.api."+a),l=n;function u(e,t,r,n){var s;void 0===n&&(n=!1);var i=l[c]=null!==(s=l[c])&&void 0!==s?s:{version:o};if(!n&&i[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}return i.version!==o?(a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+o),r.error(a.stack||a.message),!1):(i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0)}function p(e){var t,r,n=null===(t=l[c])||void 0===t?void 0:t.version;if(n&&i(n))return null===(r=l[c])||void 0===r?void 0:r[e]}function d(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var r=l[c];r&&delete r[e]}},60176:(e,t,r)=>{"use strict";r.d(t,{q:()=>c});var n=r(39833),o=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return n.Dq},e}()),s=r(69627),i=r(44892),a="metrics",c=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,s.$G)(a,e,i.K.instance())},e.prototype.getMeterProvider=function(){return(0,s.mS)(a)||o},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,s.kv)(a,i.K.instance())},e}().getInstance()},39833:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>T,Dq:()=>m});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(){function e(){}return e.prototype.createGauge=function(e,t){return E},e.prototype.createHistogram=function(e,t){return S},e.prototype.createCounter=function(e,t){return g},e.prototype.createUpDownCounter=function(e,t){return _},e.prototype.createObservableGauge=function(e,t){return A},e.prototype.createObservableCounter=function(e,t){return y},e.prototype.createObservableUpDownCounter=function(e,t){return v},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),i=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(i),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(i),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(i),p=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(p),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(p),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(p),m=new s,g=new a,E=new l,S=new u,_=new c,y=new d,A=new h,v=new f;function T(){return m}},49348:(e,t,r)=>{"use strict";r.d(t,{$:()=>E});var n=r(69627),o=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),s=r(22009),i=r(79100),a=(0,r(38729).n)("OpenTelemetry Baggage Key");function c(e){return e.getValue(a)||void 0}function l(){return c(i._.getInstance().active())}function u(e,t){return e.setValue(a,t)}function p(e){return e.deleteValue(a)}var d=r(11616),h=r(44892),f="propagation",m=new o,g=function(){function e(){this.createBaggage=d.L,this.getBaggage=c,this.getActiveBaggage=l,this.setBaggage=u,this.deleteBaggage=p}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,n.$G)(f,e,h.K.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=s.U),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=s.q),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,n.kv)(f,h.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,n.mS)(f)||m},e}(),E=g.getInstance()},22009:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,q:()=>n});var n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,r){null!=e&&(e[t]=r)}}},6664:(e,t,r)=>{"use strict";r.d(t,{u:()=>l});var n=r(69627),o=r(74975),s=r(67823),i=r(13299),a=r(44892),c="trace",l=function(){function e(){this._proxyTracerProvider=new o.n,this.wrapSpanContext=s.IP,this.isSpanContextValid=s.YA,this.deleteSpan=i.EW,this.getSpan=i.fU,this.getActiveSpan=i.Bk,this.getSpanContext=i.w8,this.setSpan=i.Bx,this.setSpanContext=i.g_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.$G)(c,this._proxyTracerProvider,a.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.mS)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.kv)(c,a.K.instance()),this._proxyTracerProvider=new o.n},e}().getInstance()},31440:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(97872),o=function(){function e(e){void 0===e&&(e=n.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},79755:(e,t,r)=>{"use strict";r.d(t,{o:()=>c});var n=r(79100),o=r(13299),s=r(31440),i=r(67823),a=n._.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=a.active()),Boolean(null==t?void 0:t.root))return new s.d;var n,c=r&&(0,o.w8)(r);return"object"==typeof(n=c)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,i.YA)(c)?new s.d(c):new s.d},e.prototype.startActiveSpan=function(e,t,r,n){var s,i,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=r):(s=t,i=r,c=n);var l=null!=i?i:a.active(),u=this.startSpan(e,s,l),p=(0,o.Bx)(l,u);return a.with(p,c,void 0,u)}},e}()},19505:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});var n=new(r(79755).o),o=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},74975:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(19505),o=r(79755),s=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new o.o},e}()),i=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var o;return null!==(o=this.getDelegateTracer(e,t,r))&&void 0!==o?o:new n.y(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:s},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},72674:(e,t,r)=>{"use strict";var n;r.d(t,{i:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},13299:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>c,Bx:()=>l,EW:()=>u,fU:()=>a,g_:()=>p,w8:()=>d});var n=r(38729),o=r(31440),s=r(79100),i=(0,n.n)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(i)||void 0}function c(){return a(s._.getInstance().active())}function l(e,t){return e.setValue(i,t)}function u(e){return e.deleteValue(i)}function p(e,t){return l(e,new o.d(t))}function d(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},97872:(e,t,r)=>{"use strict";r.d(t,{RH:()=>s,dM:()=>i,w9:()=>o});var n=r(47397),o="0000000000000000",s="00000000000000000000000000000000",i={traceId:s,spanId:o,traceFlags:n.X.NONE}},58651:(e,t,r)=>{"use strict";var n;r.d(t,{v:()=>n}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={}))},67823:(e,t,r)=>{"use strict";r.d(t,{IP:()=>u,YA:()=>l,hX:()=>a,wN:()=>c});var n=r(97872),o=r(31440),s=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function a(e){return s.test(e)&&e!==n.RH}function c(e){return i.test(e)&&e!==n.w9}function l(e){return a(e.traceId)&&c(e.spanId)}function u(e){return new o.d(e)}},11908:(e,t,r)=>{"use strict";var n;r.d(t,{s:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},47397:(e,t,r)=>{"use strict";var n;r.d(t,{X:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},63634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAsyncHooksContextManager=void 0;const n=r(24434),o=["addListener","on","once","prependListener","prependOnceListener"];t.AbstractAsyncHooksContextManager=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof n.EventEmitter?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){const r=this,n=function(...n){return r.with(e,(()=>t.apply(this,n)))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),o.forEach((r=>{void 0!==t[r]&&(t[r]=this._patchAddListener(t,t[r],e))})),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){const r=this;return function(n,o){var s;const i=null===(s=r._getPatchMap(e))||void 0===s?void 0:s[n];if(void 0===i)return t.call(this,n,o);const a=i.get(o);return t.call(this,n,a||o)}}_patchRemoveAllListeners(e,t){const r=this;return function(n){const o=r._getPatchMap(e);return void 0!==o&&(0===arguments.length?r._createPatchMap(e):void 0!==o[n]&&delete o[n]),t.apply(this,arguments)}}_patchAddListener(e,t,r){const n=this;return function(o,s){if(n._wrapped)return t.call(this,o,s);let i=n._getPatchMap(e);void 0===i&&(i=n._createPatchMap(e));let a=i[o];void 0===a&&(a=new WeakMap,i[o]=a);const c=n.bind(r,s);a.set(s,c),n._wrapped=!0;try{return t.call(this,o,c)}finally{n._wrapped=!1}}}_createPatchMap(e){const t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}}},68852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncHooksContextManager=void 0;const n=r(74681),o=r(90290),s=r(63634);class i extends s.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=o.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return null!==(e=this._stack[this._stack.length-1])&&void 0!==e?e:n.ROOT_CONTEXT}with(e,t,r,...n){this._enterContext(e);try{return t.call(r,...n)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if("TIMERWRAP"===t)return;const r=this._stack[this._stack.length-1];void 0!==r&&this._contexts.set(e,r)}_destroy(e){this._contexts.delete(e)}_before(e){const t=this._contexts.get(e);void 0!==t&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}}t.AsyncHooksContextManager=i},86594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=void 0;const n=r(74681),o=r(90290),s=r(63634);class i extends s.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new o.AsyncLocalStorage}active(){var e;return null!==(e=this._asyncLocalStorage.getStore())&&void 0!==e?e:n.ROOT_CONTEXT}with(e,t,r,...n){const o=null==r?t:t.bind(r);return this._asyncLocalStorage.run(e,o,...n)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}t.AsyncLocalStorageContextManager=i},81376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=t.AsyncHooksContextManager=void 0;var n=r(68852);Object.defineProperty(t,"AsyncHooksContextManager",{enumerable:!0,get:function(){return n.AsyncHooksContextManager}});var o=r(86594);Object.defineProperty(t,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return o.AsyncLocalStorageContextManager}})},92068:(e,t,r)=>{"use strict";var n;r.d(t,{V:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},82711:(e,t,r)=>{"use strict";r.d(t,{EC:()=>s,KV:()=>c,QC:()=>a,hN:()=>o,kI:()=>l,r_:()=>i,un:()=>n});var n="=",o=";",s=",",i="baggage",a=180,c=4096,l=8192},75477:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(49348),o=r(4445),s=r(82711),i=r(98151),a=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.$.getBaggage(e);if(a&&!(0,o.Zf)(e)){var c=(0,i.pX)(a).filter((function(e){return e.length<=s.KV})).slice(0,s.QC),l=(0,i.L7)(c);l.length>0&&r.set(t,s.r_,l)}},e.prototype.extract=function(e,t,r){var o=r.get(t,s.r_),a=Array.isArray(o)?o.join(s.EC):o;if(!a)return e;var c={};return 0===a.length?e:(a.split(s.EC).forEach((function(e){var t=(0,i.Qd)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),c[t.key]=r}})),0===Object.entries(c).length?e:n.$.setBaggage(e,n.$.createBaggage(c)))},e.prototype.fields=function(){return[s.r_]},e}()},98151:(e,t,r)=>{"use strict";r.d(t,{L7:()=>i,Qd:()=>c,hD:()=>l,pX:()=>a});var n=r(11616),o=r(82711),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function i(e){return e.reduce((function(e,t){var r=""+e+(""!==e?o.EC:"")+t;return r.length>o.kI?e:r}),"")}function a(e){return e.getAllEntries().map((function(e){var t=s(e,2),r=t[0],n=t[1],i=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(i+=o.hN+n.metadata.toString()),i}))}function c(e){var t=e.split(o.hN);if(!(t.length<=0)){var r=t.shift();if(r){var s=r.indexOf(o.un);if(!(s<=0)){var i,a=decodeURIComponent(r.substring(0,s).trim()),c=decodeURIComponent(r.substring(s+1).trim());return t.length>0&&(i=(0,n.B)(t.join(o.hN))),{key:a,value:c,metadata:i}}}}}function l(e){return"string"!=typeof e||0===e.length?{}:e.split(o.EC).map((function(e){return c(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},80788:(e,t,r)=>{"use strict";r.d(t,{L:()=>i,m:()=>c,oU:()=>a});var n=r(78758),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function i(e){var t,r,i={};if("object"!=typeof e||null==e)return i;try{for(var l=o(Object.entries(e)),u=l.next();!u.done;u=l.next()){var p=s(u.value,2),d=p[0],h=p[1];a(d)?c(h)?Array.isArray(h)?i[d]=h.slice():i[d]=h:n.s.warn("Invalid attribute value set for key: "+d):n.s.warn("Invalid attribute key: "+d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return i}function a(e){return"string"==typeof e&&e.length>0}function c(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var s=o(e),i=s.next();!i.done;i=s.next()){var a=i.value;if(null!=a){if(!n){if(l(a)){n=typeof a;continue}return!1}if(typeof a!==n)return!1}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return!0}(e):l(e))}function l(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},78044:(e,t,r)=>{"use strict";r.d(t,{s:()=>s,u:()=>o});var n=(0,r(11590).o)();function o(e){n=e}function s(e){try{n(e)}catch(e){}}},11590:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var n=r(78758);function o(){return function(e){n.s.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},r=e;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}},65864:(e,t,r)=>{"use strict";r.d(t,{Ir:()=>E,JU:()=>f,KJ:()=>u,VL:()=>g,W5:()=>p,_5:()=>l,lg:()=>a,mw:()=>S,tq:()=>d,u5:()=>h,uc:()=>c,w_:()=>m});var n=r(26822),o=9,s=Math.pow(10,6),i=Math.pow(10,o);function a(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*s)]}function c(){var e=n.u.timeOrigin;if("number"!=typeof e){var t=n.u;e=t.timing&&t.timing.fetchStart}return e}function l(e){return S(a(c()),a("number"==typeof e?e:n.u.now()))}function u(e){if(g(e))return e;if("number"==typeof e)return e<c()?l(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function p(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=i),[r,n]}function d(e){var t=o,r=""+"0".repeat(t)+e[1]+"Z",n=r.substr(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function h(e){return e[0]*i+e[1]}function f(e){return 1e3*e[0]+e[1]/1e6}function m(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function E(e){return g(e)||"number"==typeof e||e instanceof Date}function S(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=i&&(r[1]-=i,r[0]+=1),r}},98035:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>w,AlwaysOnSampler:()=>P,AnchoredClock:()=>o,BindOnceFuture:()=>z.I,CompositePropagator:()=>T.n,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>$.fv,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>$.aE,DEFAULT_ENVIRONMENT:()=>$.Uz,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>$.h9,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>$.V,ExportResultCode:()=>p.V,ParentBasedSampler:()=>D,RPCType:()=>S,RandomIdGenerator:()=>h,SDK_INFO:()=>_.q,TRACE_PARENT_HEADER:()=>b.ZS,TRACE_STATE_HEADER:()=>b.UD,TimeoutError:()=>H,TraceIdRatioBasedSampler:()=>V,TraceState:()=>G.n,TracesSamplerValues:()=>F.R,VERSION:()=>J.x,W3CBaggagePropagator:()=>n.t,W3CTraceContextPropagator:()=>b.lm,_globalThis:()=>g,addHrTimes:()=>c.mw,baggageUtils:()=>q,callWithTimeout:()=>W,deleteRPCMetadata:()=>O,getEnv:()=>y._,getEnvWithoutDefaults:()=>y.w,getRPCMetadata:()=>N,getTimeOrigin:()=>c.uc,globalErrorHandler:()=>i.s,hexToBase64:()=>E,hexToBinary:()=>u,hrTime:()=>c._5,hrTimeDuration:()=>c.W5,hrTimeToMicroseconds:()=>c.w_,hrTimeToMilliseconds:()=>c.JU,hrTimeToNanoseconds:()=>c.u5,hrTimeToTimeStamp:()=>c.tq,internal:()=>ee,isAttributeKey:()=>s.oU,isAttributeValue:()=>s.m,isTimeInput:()=>c.Ir,isTimeInputHrTime:()=>c.VL,isTracingSuppressed:()=>U.Zf,isUrlIgnored:()=>K,isWrapped:()=>Z,loggingErrorHandler:()=>a.o,merge:()=>B.h,millisToHrTime:()=>c.lg,otperformance:()=>A.u,parseEnvironment:()=>$.Nq,parseTraceParent:()=>b.ZI,sanitizeAttributes:()=>s.L,setGlobalErrorHandler:()=>i.u,setRPCMetadata:()=>R,suppressTracing:()=>U.M1,timeInputToHrTime:()=>c.KJ,unrefTimer:()=>v.K,unsuppressTracing:()=>U.FU,urlMatches:()=>Y});var n=r(75477),o=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}(),s=r(80788),i=r(78044),a=r(11590),c=r(65864);function l(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function u(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var o=l(e.charCodeAt(n)),s=l(e.charCodeAt(n+1));t[r++]=o<<4|s}return t}var p=r(92068),d=r(98151),h=function(){this.generateTraceId=m(16),this.generateSpanId=m(8)},f=Buffer.allocUnsafe(16);function m(e){return function(){for(var t=0;t<e/4;t++)f.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(f[t]>0);t++)t===e-1&&(f[e-1]=1);return f.toString("hex",0,e)}}var g="object"==typeof globalThis?globalThis:global;function E(e){return Buffer.from(u(e)).toString("base64")}var S,_=r(59339),y=r(37925),A=r(26822),v=r(22778),T=r(22721),b=r(79859),I=(0,r(38729).n)("OpenTelemetry SDK Context Key RPC_METADATA");function R(e,t){return e.setValue(I,t)}function O(e){return e.deleteValue(I)}function N(e){return e.getValue(I)}!function(e){e.HTTP="http"}(S||(S={}));var C,L=r(72674),w=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:L.i.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),P=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:L.i.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),M=r(6664),x=r(67823),k=r(47397),D=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,i.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new P),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new P,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new w,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new P,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new w}return e.prototype.shouldSample=function(e,t,r,n,o,s){var i=M.u.getSpanContext(e);return i&&(0,x.YA)(i)?i.isRemote?i.traceFlags&k.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,s):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,s):i.traceFlags&k.X.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,s):this._localParentNotSampled.shouldSample(e,t,r,n,o,s):this._root.shouldSample(e,t,r,n,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),V=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,x.hX)(t)&&this._accumulate(t)<this._upperBound?L.i.RECORD_AND_SAMPLED:L.i.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}(),U=r(4445),G=r(59406),$=r(23144),B=r(31194),F=r(70676),j=(C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},C(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),H=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return j(t,e),t}(Error);function W(e,t){var r,n=new Promise((function(e,n){r=setTimeout((function(){n(new H("Operation timed out."))}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))}var X=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Y(e,t){return"string"==typeof t?e===t:!!e.match(t)}function K(e,t){var r,n;if(!t)return!1;try{for(var o=X(t),s=o.next();!s.done;s=o.next())if(Y(e,s.value))return!0}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}function Z(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var z=r(77375),J=r(42299),Q=r(41844),q={getKeyPairs:d.pX,serializeKeyPairs:d.L7,parseKeyPairsIntoRecord:d.hD,parsePairKeyValue:d.Qd},ee={_export:function(e,t){return new Promise((function(r){Q._.with((0,U.M1)(Q._.active()),(function(){e.export(t,(function(e){r(e)}))}))}))}}},37925:(e,t,r)=>{"use strict";r.d(t,{_:()=>o,w:()=>s});var n=r(23144);function o(){var e=(0,n.Nq)(process.env);return Object.assign({},n.Uz,e)}function s(){return(0,n.Nq)(process.env)}},26822:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n=r(82987).performance},59339:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n,o=r(42299),s=((n={})["telemetry.sdk.name"]="opentelemetry",n["process.runtime.name"]="node",n["telemetry.sdk.language"]="nodejs",n["telemetry.sdk.version"]=o.x,n)},22778:(e,t,r)=>{"use strict";function n(e){e.unref()}r.d(t,{K:()=>n})},22721:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(78758),o=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var o,s;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._propagators),a=i.next();!a.done;a=i.next()){var c=a.value;try{c.inject(e,t,r)}catch(e){n.s.warn("Failed to inject with "+c.constructor.name+". Err: "+e.message)}}}catch(e){o={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,o){try{return o.extract(e,t,r)}catch(e){n.s.warn("Failed to extract with "+o.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},59406:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n="[_0-9a-z-*/]",o=new RegExp("^(?:[a-z]"+n+"{0,255}|[a-z0-9]"+n+"{0,240}@[a-z]"+n+"{0,13})$"),s=/^[ -~]{0,255}[!-~]$/,i=/,|=/,a=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),c=r.slice(n+1,t.length);(function(e){return o.test(e)})(a)&&function(e){return s.test(e)&&!i.test(e)}(c)&&e.set(a,c)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},79859:(e,t,r)=>{"use strict";r.d(t,{UD:()=>l,ZI:()=>p,ZS:()=>c,lm:()=>d});var n=r(6664),o=r(67823),s=r(47397),i=r(4445),a=r(59406),c="traceparent",l="tracestate",u=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function p(e){var t=u.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var d=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.u.getSpanContext(e);if(a&&!(0,i.Zf)(e)&&(0,o.YA)(a)){var u="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||s.X.NONE).toString(16);r.set(t,c,u),a.traceState&&r.set(t,l,a.traceState.serialize())}},e.prototype.extract=function(e,t,r){var o=r.get(t,c);if(!o)return e;var s=Array.isArray(o)?o[0]:o;if("string"!=typeof s)return e;var i=p(s);if(!i)return e;i.isRemote=!0;var u=r.get(t,l);if(u){var d=Array.isArray(u)?u.join(","):u;i.traceState=new a.n("string"==typeof d?d:void 0)}return n.u.setSpanContext(e,i)},e.prototype.fields=function(){return[c,l]},e}()},4445:(e,t,r)=>{"use strict";r.d(t,{FU:()=>s,M1:()=>o,Zf:()=>i});var n=(0,r(38729).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(n,!0)}function s(e){return e.deleteValue(n)}function i(e){return!0===e.getValue(n)}},77375:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var n=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),o=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([this._that],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},23144:(e,t,r)=>{"use strict";r.d(t,{Nq:()=>v,Uz:()=>g,V:()=>m,aE:()=>d,fv:()=>h,h9:()=>f});var n=r(76733),o=r(70676),s=",",i=["OTEL_SDK_DISABLED"];function a(e){return i.indexOf(e)>-1}var c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function l(e){return c.indexOf(e)>-1}var u=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function p(e){return u.indexOf(e)>-1}var d=1/0,h=128,f=128,m=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:d,OTEL_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:d,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:d,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function E(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function S(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var s=Number(r[e]);isNaN(s)||(t[e]=s<n?n:s>o?o:s)}}function _(e,t,r,n){void 0===n&&(n=s);var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var y={ALL:n.u.ALL,VERBOSE:n.u.VERBOSE,DEBUG:n.u.DEBUG,INFO:n.u.INFO,WARN:n.u.WARN,ERROR:n.u.ERROR,NONE:n.u.NONE};function A(e,t,r){var n=r[e];if("string"==typeof n){var o=y[n.toUpperCase()];null!=o&&(t[e]=o)}}function v(e){var t={};for(var r in g){var n=r;if("OTEL_LOG_LEVEL"===n)A(n,t,e);else if(a(n))E(n,t,e);else if(l(n))S(n,t,e);else if(p(n))_(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}},31194:(e,t,r)=>{"use strict";r.d(t,{h:()=>E});var n,o,s="[object Object]",i="[object Null]",a="[object Undefined]",c=Function.prototype.toString,l=c.call(Object),u=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))}),p=Object.prototype,d=p.hasOwnProperty,h=Symbol?Symbol.toStringTag:void 0,f=p.toString;function m(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){return null==e?void 0===e?a:i:h&&h in Object(e)?function(e){var t=d.call(e,h),r=e[h],n=!1;try{e[h]=void 0,n=!0}catch(e){}var o=f.call(e);return n&&(t?e[h]=r:delete e[h]),o}(e):function(e){return f.call(e)}(e)}(e)!==s)return!1;var t=u(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)===l}var g=20;function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=_(r,e.shift(),0,n);return r}function S(e){return A(e)?e.slice():e}function _(e,t,r,n){var o;if(void 0===r&&(r=0),!(r>g)){if(r++,b(e)||b(t)||v(t))o=S(t);else if(A(e)){if(o=e.slice(),A(t))for(var s=0,i=t.length;s<i;s++)o.push(S(t[s]));else if(T(t))for(s=0,i=(a=Object.keys(t)).length;s<i;s++)o[c=a[s]]=S(t[c])}else if(T(e))if(T(t)){if(!function(e,t){return!(!m(e)||!m(t))}(e,t))return t;var a;for(o=Object.assign({},e),s=0,i=(a=Object.keys(t)).length;s<i;s++){var c,l=t[c=a[s]];if(b(l))void 0===l?delete o[c]:o[c]=l;else{var u=o[c],p=l;if(y(e,c,n)||y(t,c,n))delete o[c];else{if(T(u)&&T(p)){var d=n.get(u)||[],h=n.get(p)||[];d.push({obj:e,key:c}),h.push({obj:t,key:c}),n.set(u,d),n.set(p,h)}o[c]=_(o[c],l,r,n)}}}}else o=t;return o}}function y(e,t,r){for(var n=r.get(e[t])||[],o=0,s=n.length;o<s;o++){var i=n[o];if(i.key===t&&i.obj===e)return!0}return!1}function A(e){return Array.isArray(e)}function v(e){return"function"==typeof e}function T(e){return!b(e)&&!A(e)&&!v(e)&&"object"==typeof e}function b(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},70676:(e,t,r)=>{"use strict";var n;r.d(t,{R:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},42299:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var n="1.28.0"},9059:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AmqplibInstrumentation=void 0;const n=r(74681),o=r(98035),s=r(76808),i=r(51002),a=r(39963),c=r(14279),l=r(67186),u=[">=0.5.5 <1"];class p extends s.InstrumentationBase{constructor(e={}){super(l.PACKAGE_NAME,l.PACKAGE_VERSION,Object.assign(Object.assign({},a.DEFAULT_CONFIG),e))}setConfig(e={}){super.setConfig(Object.assign(Object.assign({},a.DEFAULT_CONFIG),e))}init(){const e=new s.InstrumentationNodeModuleFile("amqplib/lib/channel_model.js",u,this.patchChannelModel.bind(this),this.unpatchChannelModel.bind(this)),t=new s.InstrumentationNodeModuleFile("amqplib/lib/callback_model.js",u,this.patchChannelModel.bind(this),this.unpatchChannelModel.bind(this)),r=new s.InstrumentationNodeModuleFile("amqplib/lib/connect.js",u,this.patchConnect.bind(this),this.unpatchConnect.bind(this));return new s.InstrumentationNodeModuleDefinition("amqplib",u,void 0,void 0,[e,r,t])}patchConnect(e){return e=this.unpatchConnect(e),(0,s.isWrapped)(e.connect)||this._wrap(e,"connect",this.getConnectPatch.bind(this)),e}unpatchConnect(e){return(0,s.isWrapped)(e.connect)&&this._unwrap(e,"connect"),e}patchChannelModel(e,t){return(0,s.isWrapped)(e.Channel.prototype.publish)||this._wrap(e.Channel.prototype,"publish",this.getPublishPatch.bind(this,t)),(0,s.isWrapped)(e.Channel.prototype.consume)||this._wrap(e.Channel.prototype,"consume",this.getConsumePatch.bind(this,t)),(0,s.isWrapped)(e.Channel.prototype.ack)||this._wrap(e.Channel.prototype,"ack",this.getAckPatch.bind(this,!1,a.EndOperation.Ack)),(0,s.isWrapped)(e.Channel.prototype.nack)||this._wrap(e.Channel.prototype,"nack",this.getAckPatch.bind(this,!0,a.EndOperation.Nack)),(0,s.isWrapped)(e.Channel.prototype.reject)||this._wrap(e.Channel.prototype,"reject",this.getAckPatch.bind(this,!0,a.EndOperation.Reject)),(0,s.isWrapped)(e.Channel.prototype.ackAll)||this._wrap(e.Channel.prototype,"ackAll",this.getAckAllPatch.bind(this,!1,a.EndOperation.AckAll)),(0,s.isWrapped)(e.Channel.prototype.nackAll)||this._wrap(e.Channel.prototype,"nackAll",this.getAckAllPatch.bind(this,!0,a.EndOperation.NackAll)),(0,s.isWrapped)(e.Channel.prototype.emit)||this._wrap(e.Channel.prototype,"emit",this.getChannelEmitPatch.bind(this)),(0,s.isWrapped)(e.ConfirmChannel.prototype.publish)||this._wrap(e.ConfirmChannel.prototype,"publish",this.getConfirmedPublishPatch.bind(this,t)),e}unpatchChannelModel(e){return(0,s.isWrapped)(e.Channel.prototype.publish)&&this._unwrap(e.Channel.prototype,"publish"),(0,s.isWrapped)(e.Channel.prototype.consume)&&this._unwrap(e.Channel.prototype,"consume"),(0,s.isWrapped)(e.Channel.prototype.ack)&&this._unwrap(e.Channel.prototype,"ack"),(0,s.isWrapped)(e.Channel.prototype.nack)&&this._unwrap(e.Channel.prototype,"nack"),(0,s.isWrapped)(e.Channel.prototype.reject)&&this._unwrap(e.Channel.prototype,"reject"),(0,s.isWrapped)(e.Channel.prototype.ackAll)&&this._unwrap(e.Channel.prototype,"ackAll"),(0,s.isWrapped)(e.Channel.prototype.nackAll)&&this._unwrap(e.Channel.prototype,"nackAll"),(0,s.isWrapped)(e.Channel.prototype.emit)&&this._unwrap(e.Channel.prototype,"emit"),(0,s.isWrapped)(e.ConfirmChannel.prototype.publish)&&this._unwrap(e.ConfirmChannel.prototype,"publish"),e}getConnectPatch(e){return function(t,r,n){return e.call(this,t,r,(function(e,r){if(null==e){const e=(0,c.getConnectionAttributesFromUrl)(t),n=(0,c.getConnectionAttributesFromServer)(r);r[c.CONNECTION_ATTRIBUTES]=Object.assign(Object.assign({},e),n)}n.apply(this,arguments)}))}}getChannelEmitPatch(e){const t=this;return function(r){if("close"===r){t.endAllSpansOnChannel(this,!0,a.EndOperation.ChannelClosed,void 0);const e=this[c.CHANNEL_CONSUME_TIMEOUT_TIMER];e&&clearInterval(e),this[c.CHANNEL_CONSUME_TIMEOUT_TIMER]=void 0}else"error"===r&&t.endAllSpansOnChannel(this,!0,a.EndOperation.ChannelError,void 0);return e.apply(this,arguments)}}getAckAllPatch(e,t,r){const n=this;return function(o){return n.endAllSpansOnChannel(this,e,t,o),r.apply(this,arguments)}}getAckPatch(e,t,r){const n=this;return function(o,s,i){var l;const u=t===a.EndOperation.Reject?s:i,p=null!==(l=this[c.CHANNEL_SPANS_NOT_ENDED])&&void 0!==l?l:[],d=p.findIndex((e=>e.msg===o));if(d<0)n.endConsumerSpan(o,e,t,u);else if(t!==a.EndOperation.Reject&&s){for(let r=0;r<=d;r++)n.endConsumerSpan(p[r].msg,e,t,u);p.splice(0,d+1)}else n.endConsumerSpan(o,e,t,u),p.splice(d,1);return r.apply(this,arguments)}}getConsumePatch(e,t){const r=this;return function(l,u,p){const d=this;if(!Object.prototype.hasOwnProperty.call(d,c.CHANNEL_SPANS_NOT_ENDED)){const{consumeTimeoutMs:e}=r.getConfig();if(e){const t=setInterval((()=>{r.checkConsumeTimeoutOnChannel(d)}),e);t.unref(),d[c.CHANNEL_CONSUME_TIMEOUT_TIMER]=t}d[c.CHANNEL_SPANS_NOT_ENDED]=[]}return arguments[1]=function(t){var h,f,m,g,E;if(!t)return u.call(this,t);const S=null!==(h=t.properties.headers)&&void 0!==h?h:{};let _=n.propagation.extract(n.ROOT_CONTEXT,S);const y=null===(f=t.fields)||void 0===f?void 0:f.exchange;let A;if(r._config.useLinksForConsume){const e=_?null===(m=n.trace.getSpan(_))||void 0===m?void 0:m.spanContext():void 0;_=void 0,e&&(A=[{context:e}])}const v=r.tracer.startSpan(`${l} process`,{kind:n.SpanKind.CONSUMER,attributes:Object.assign(Object.assign({},null===(g=null==d?void 0:d.connection)||void 0===g?void 0:g[c.CONNECTION_ATTRIBUTES]),{[i.SEMATTRS_MESSAGING_DESTINATION]:y,[i.SEMATTRS_MESSAGING_DESTINATION_KIND]:i.MESSAGINGDESTINATIONKINDVALUES_TOPIC,[i.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY]:null===(E=t.fields)||void 0===E?void 0:E.routingKey,[i.SEMATTRS_MESSAGING_OPERATION]:i.MESSAGINGOPERATIONVALUES_PROCESS,[i.SEMATTRS_MESSAGING_MESSAGE_ID]:null==t?void 0:t.properties.messageId,[i.SEMATTRS_MESSAGING_CONVERSATION_ID]:null==t?void 0:t.properties.correlationId}),links:A},_),{consumeHook:T}=r.getConfig();T&&(0,s.safeExecuteInTheMiddle)((()=>T(v,{moduleVersion:e,msg:t})),(e=>{e&&n.diag.error("amqplib instrumentation: consumerHook error",e)}),!0),(null==p?void 0:p.noAck)||(d[c.CHANNEL_SPANS_NOT_ENDED].push({msg:t,timeOfConsume:(0,o.hrTime)()}),t[c.MESSAGE_STORED_SPAN]=v);const b=_||n.ROOT_CONTEXT;n.context.with(n.trace.setSpan(b,v),(()=>{u.call(this,t)})),(null==p?void 0:p.noAck)&&(r.callConsumeEndHook(v,t,!1,a.EndOperation.AutoAck),v.end())},t.apply(this,arguments)}}getConfirmedPublishPatch(e,t){const r=this;return function(o,i,a,l,u){const{span:p,modifiedOptions:d}=r.createPublishSpan(r,o,i,this,l),{publishHook:h}=r.getConfig();h&&(0,s.safeExecuteInTheMiddle)((()=>h(p,{moduleVersion:e,exchange:o,routingKey:i,content:a,options:d,isConfirmChannel:!0})),(e=>{e&&n.diag.error("amqplib instrumentation: publishHook error",e)}),!0);const f=(0,c.markConfirmChannelTracing)(n.context.active()),m=[...arguments];return m[3]=d,m[4]=n.context.bind((0,c.unmarkConfirmChannelTracing)(n.trace.setSpan(f,p)),(function(t,c){try{null==u||u.call(this,t,c)}finally{const{publishConfirmHook:c}=r.getConfig();c&&(0,s.safeExecuteInTheMiddle)((()=>c(p,{moduleVersion:e,exchange:o,routingKey:i,content:a,options:l,isConfirmChannel:!0,confirmError:t})),(e=>{e&&n.diag.error("amqplib instrumentation: publishConfirmHook error",e)}),!0),t&&p.setStatus({code:n.SpanStatusCode.ERROR,message:"message confirmation has been nack'ed"}),p.end()}})),n.context.with(f,t.bind(this,...m))}}getPublishPatch(e,t){const r=this;return function(o,i,a,l){if((0,c.isConfirmChannelTracing)(n.context.active()))return t.apply(this,arguments);{const c=this,{span:u,modifiedOptions:p}=r.createPublishSpan(r,o,i,c,l),{publishHook:d}=r.getConfig();d&&(0,s.safeExecuteInTheMiddle)((()=>d(u,{moduleVersion:e,exchange:o,routingKey:i,content:a,options:p,isConfirmChannel:!1})),(e=>{e&&n.diag.error("amqplib instrumentation: publishHook error",e)}),!0);const h=[...arguments];h[3]=p;const f=t.apply(this,h);return u.end(),f}}}createPublishSpan(e,t,r,o,s){var a;const l=(0,c.normalizeExchange)(t),u=e.tracer.startSpan(`publish ${l}`,{kind:n.SpanKind.PRODUCER,attributes:Object.assign(Object.assign({},o.connection[c.CONNECTION_ATTRIBUTES]),{[i.SEMATTRS_MESSAGING_DESTINATION]:t,[i.SEMATTRS_MESSAGING_DESTINATION_KIND]:i.MESSAGINGDESTINATIONKINDVALUES_TOPIC,[i.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY]:r,[i.SEMATTRS_MESSAGING_MESSAGE_ID]:null==s?void 0:s.messageId,[i.SEMATTRS_MESSAGING_CONVERSATION_ID]:null==s?void 0:s.correlationId})}),p=null!=s?s:{};return p.headers=null!==(a=p.headers)&&void 0!==a?a:{},n.propagation.inject(n.trace.setSpan(n.context.active(),u),p.headers),{span:u,modifiedOptions:p}}endConsumerSpan(e,t,r,o){const s=e[c.MESSAGE_STORED_SPAN];s&&(!1!==t&&s.setStatus({code:n.SpanStatusCode.ERROR,message:r!==a.EndOperation.ChannelClosed&&r!==a.EndOperation.ChannelError?`${r} called on message${!0===o?" with requeue":!1===o?" without requeue":""}`:r}),this.callConsumeEndHook(s,e,t,r),s.end(),e[c.MESSAGE_STORED_SPAN]=void 0)}endAllSpansOnChannel(e,t,r,n){var o;(null!==(o=e[c.CHANNEL_SPANS_NOT_ENDED])&&void 0!==o?o:[]).forEach((e=>{this.endConsumerSpan(e.msg,t,r,n)})),e[c.CHANNEL_SPANS_NOT_ENDED]=[]}callConsumeEndHook(e,t,r,o){const{consumeEndHook:i}=this.getConfig();i&&(0,s.safeExecuteInTheMiddle)((()=>i(e,{msg:t,rejected:r,endOperation:o})),(e=>{e&&n.diag.error("amqplib instrumentation: consumerEndHook error",e)}),!0)}checkConsumeTimeoutOnChannel(e){var t;const r=(0,o.hrTime)(),n=null!==(t=e[c.CHANNEL_SPANS_NOT_ENDED])&&void 0!==t?t:[];let s;const{consumeTimeoutMs:i}=this.getConfig();for(s=0;s<n.length;s++){const e=n[s],t=(0,o.hrTimeDuration)(e.timeOfConsume,r);if((0,o.hrTimeToMilliseconds)(t)<i)break;this.endConsumerSpan(e.msg,null,a.EndOperation.InstrumentationTimeout,!0)}n.splice(0,s)}}t.AmqplibInstrumentation=p},66822:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(9059),t),o(r(39963),t)},39963:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.EndOperation=void 0,(r=t.EndOperation||(t.EndOperation={})).AutoAck="auto ack",r.Ack="ack",r.AckAll="ackAll",r.Reject="reject",r.Nack="nack",r.NackAll="nackAll",r.ChannelClosed="channel closed",r.ChannelError="channel error",r.InstrumentationTimeout="instrumentation timeout",t.DEFAULT_CONFIG={consumeTimeoutMs:6e4,useLinksForConsume:!1}},14279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isConfirmChannelTracing=t.unmarkConfirmChannelTracing=t.markConfirmChannelTracing=t.getConnectionAttributesFromUrl=t.getConnectionAttributesFromServer=t.normalizeExchange=t.CONNECTION_ATTRIBUTES=t.CHANNEL_CONSUME_TIMEOUT_TIMER=t.CHANNEL_SPANS_NOT_ENDED=t.MESSAGE_STORED_SPAN=void 0;const n=r(74681),o=r(51002);t.MESSAGE_STORED_SPAN=Symbol("opentelemetry.amqplib.message.stored-span"),t.CHANNEL_SPANS_NOT_ENDED=Symbol("opentelemetry.amqplib.channel.spans-not-ended"),t.CHANNEL_CONSUME_TIMEOUT_TIMER=Symbol("opentelemetry.amqplib.channel.consumer-timeout-timer"),t.CONNECTION_ATTRIBUTES=Symbol("opentelemetry.amqplib.connection.attributes");const s=(0,n.createContextKey)("opentelemetry.amqplib.channel.is-confirm-channel");t.normalizeExchange=e=>""!==e?e:"<default>";const i=(e,t)=>e||("AMQP"===t?5672:5671),a=e=>{const t=e||"amqp";return(t.endsWith(":")?t.substring(0,t.length-1):t).toUpperCase()},c=e=>e||"localhost",l=(e,t,r,o)=>r?{[t]:r}:(n.diag.error(`amqplib instrumentation: could not extract connection attribute ${o} from user supplied url`,{url:e}),{});t.getConnectionAttributesFromServer=e=>{var t,r;const n=null===(r=null===(t=e.serverProperties.product)||void 0===t?void 0:t.toLowerCase)||void 0===r?void 0:r.call(t);return n?{[o.SEMATTRS_MESSAGING_SYSTEM]:n}:{}},t.getConnectionAttributesFromUrl=e=>{const t={[o.SEMATTRS_MESSAGING_PROTOCOL_VERSION]:"0.9.1"};if("object"==typeof(e=e||"amqp://localhost")){const r=e,n=a(null==r?void 0:r.protocol);Object.assign(t,Object.assign({},l(e,o.SEMATTRS_MESSAGING_PROTOCOL,n,"protocol")));const s=c(null==r?void 0:r.hostname);Object.assign(t,Object.assign({},l(e,o.SEMATTRS_NET_PEER_NAME,s,"hostname")));const u=i(r.port,n);Object.assign(t,Object.assign({},l(e,o.SEMATTRS_NET_PEER_PORT,u,"port")))}else{const r=(e=>e.replace(/:[^:@/]*@/,":***@"))(e);t[o.SEMATTRS_MESSAGING_URL]=r;try{const e=new URL(r),n=a(e.protocol);Object.assign(t,Object.assign({},l(r,o.SEMATTRS_MESSAGING_PROTOCOL,n,"protocol")));const s=c(e.hostname);Object.assign(t,Object.assign({},l(r,o.SEMATTRS_NET_PEER_NAME,s,"hostname")));const u=i(e.port?parseInt(e.port):void 0,n);Object.assign(t,Object.assign({},l(r,o.SEMATTRS_NET_PEER_PORT,u,"port")))}catch(e){n.diag.error("amqplib instrumentation: error while extracting connection details from connection url",{censoredUrl:r,err:e})}}return t},t.markConfirmChannelTracing=e=>e.setValue(s,!0),t.unmarkConfirmChannelTracing=e=>e.deleteValue(s),t.isConfirmChannelTracing=e=>!0===e.getValue(s)},67186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.43.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-amqplib"},76808:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(60208),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(46567).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},46567:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=46567,e.exports=t},79899:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(36796),{safeRe:i,t:a}=r(99671),c=r(52542),l=r(9919),u=r(8531),p=r(4950)},4950:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(2447)),i=r(36796),a=r(79899),c=r(9919),l=r(8531),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(99671),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(11125),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},8531:(e,t,r)=>{const n=r(9919),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(11125),{safeRe:i,t:a}=r(99671),c=r(36796),{compareIdentifiers:l}=r(19804);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},72975:(e,t,r)=>{const n=r(4361);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},52542:(e,t,r)=>{const n=r(40802),o=r(89862),s=r(57231),i=r(29212),a=r(27688),c=r(76389);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},22433:(e,t,r)=>{const n=r(8531),o=r(4361),{safeRe:s,t:i}=r(99671);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},16456:(e,t,r)=>{const n=r(8531);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},2002:(e,t,r)=>{const n=r(59213);e.exports=(e,t)=>n(e,t,!0)},59213:(e,t,r)=>{const n=r(8531);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},37983:(e,t,r)=>{const n=r(4361);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},40802:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>0===n(e,t,r)},57231:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>n(e,t,r)>0},29212:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>n(e,t,r)>=0},69802:(e,t,r)=>{const n=r(8531);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},27688:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>n(e,t,r)<0},76389:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>n(e,t,r)<=0},67319:(e,t,r)=>{const n=r(8531);e.exports=(e,t)=>new n(e,t).major},82083:(e,t,r)=>{const n=r(8531);e.exports=(e,t)=>new n(e,t).minor},89862:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>0!==n(e,t,r)},4361:(e,t,r)=>{const n=r(8531);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},70220:(e,t,r)=>{const n=r(8531);e.exports=(e,t)=>new n(e,t).patch},9674:(e,t,r)=>{const n=r(4361);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},42757:(e,t,r)=>{const n=r(59213);e.exports=(e,t,r)=>n(t,e,r)},7312:(e,t,r)=>{const n=r(16456);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},53363:(e,t,r)=>{const n=r(4950);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},73016:(e,t,r)=>{const n=r(16456);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},62212:(e,t,r)=>{const n=r(4361);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},60208:(e,t,r)=>{const n=r(99671),o=r(11125),s=r(8531),i=r(19804),a=r(4361),c=r(62212),l=r(72975),u=r(69802),p=r(37983),d=r(67319),h=r(82083),f=r(70220),m=r(9674),g=r(59213),E=r(42757),S=r(2002),_=r(16456),y=r(73016),A=r(7312),v=r(57231),T=r(27688),b=r(40802),I=r(89862),R=r(29212),O=r(76389),N=r(52542),C=r(22433),L=r(79899),w=r(4950),P=r(53363),M=r(38054),x=r(69041),k=r(83563),D=r(51794),V=r(91401),U=r(36048),G=r(33212),$=r(8325),B=r(91457),F=r(55540),j=r(95433);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},11125:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9919:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},19804:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},2447:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},36796:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},99671:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(11125),i=r(9919),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},33212:(e,t,r)=>{const n=r(36048);e.exports=(e,t,r)=>n(e,t,">",r)},91457:(e,t,r)=>{const n=r(4950);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},8325:(e,t,r)=>{const n=r(36048);e.exports=(e,t,r)=>n(e,t,"<",r)},69041:(e,t,r)=>{const n=r(8531),o=r(4950);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},83563:(e,t,r)=>{const n=r(8531),o=r(4950);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},51794:(e,t,r)=>{const n=r(8531),o=r(4950),s=r(57231);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},36048:(e,t,r)=>{const n=r(8531),o=r(79899),{ANY:s}=o,i=r(4950),a=r(53363),c=r(57231),l=r(27688),u=r(76389),p=r(29212);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},55540:(e,t,r)=>{const n=r(53363),o=r(59213);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},95433:(e,t,r)=>{const n=r(4950),o=r(79899),{ANY:s}=o,i=r(53363),a=r(59213),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},38054:(e,t,r)=>{const n=r(4950);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},91401:(e,t,r)=>{const n=r(4950);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},50403:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectNames=t.ConnectTypes=t.AttributeNames=void 0,(o=t.AttributeNames||(t.AttributeNames={})).CONNECT_TYPE="connect.type",o.CONNECT_NAME="connect.name",(n=t.ConnectTypes||(t.ConnectTypes={})).MIDDLEWARE="middleware",n.REQUEST_HANDLER="request_handler",(r=t.ConnectNames||(t.ConnectNames={})).MIDDLEWARE="middleware",r.REQUEST_HANDLER="request handler"},68202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(50403),t),o(r(70284),t)},70284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectInstrumentation=t.ANONYMOUS_NAME=void 0;const n=r(74681),o=r(98035),s=r(50403),i=r(50526),a=r(88980),c=r(51002),l=r(28443);t.ANONYMOUS_NAME="anonymous";class u extends a.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){return[new a.InstrumentationNodeModuleDefinition("connect",[">=3.0.0 <4"],(e=>this._patchConstructor(e)))]}_patchApp(e){(0,a.isWrapped)(e.use)||this._wrap(e,"use",this._patchUse.bind(this)),(0,a.isWrapped)(e.handle)||this._wrap(e,"handle",this._patchHandle.bind(this))}_patchConstructor(e){const t=this;return function(...r){const n=e.apply(this,r);return t._patchApp(n),n}}_patchNext(e,t){return function(r){const n=e.apply(this,[r]);return t(),n}}_startSpan(e,r){let n,o,i;e?(n=s.ConnectTypes.REQUEST_HANDLER,i=s.ConnectNames.REQUEST_HANDLER,o=e):(n=s.ConnectTypes.MIDDLEWARE,i=s.ConnectNames.MIDDLEWARE,o=r.name||t.ANONYMOUS_NAME);const a=`${i} - ${o}`,l={attributes:{[c.SEMATTRS_HTTP_ROUTE]:e.length>0?e:"/",[s.AttributeNames.CONNECT_TYPE]:n,[s.AttributeNames.CONNECT_NAME]:o}};return this.tracer.startSpan(a,l)}_patchMiddleware(e,r){const s=this,i=4===r.length;function a(){if(!s.isEnabled())return r.apply(this,arguments);const[a,c,u]=i?[1,2,3]:[0,1,2],p=arguments[a],d=arguments[c],h=arguments[u];(0,l.replaceCurrentStackRoute)(p,e);const f=(0,o.getRPCMetadata)(n.context.active());e&&(null==f?void 0:f.type)===o.RPCType.HTTP&&(f.route=(0,l.generateRoute)(p));let m="";m=e?`request handler - ${e}`:`middleware - ${r.name||t.ANONYMOUS_NAME}`;const g=s._startSpan(e,r);s._diag.debug("start span",m);let E=!1;function S(){E?s._diag.debug(`span ${g.name} - already finished`):(E=!0,s._diag.debug(`finishing span ${g.name}`),g.end()),d.removeListener("close",S)}return d.addListener("close",S),arguments[u]=s._patchNext(h,S),r.apply(this,arguments)}return Object.defineProperty(a,"length",{value:r.length,writable:!1,configurable:!0}),a}_patchUse(e){const t=this;return function(...r){const n=r[r.length-1],o=r[r.length-2]||"";return r[r.length-1]=t._patchMiddleware(o,n),e.apply(this,r)}}_patchHandle(e){const t=this;return function(){const[r,n]=[0,2],o=arguments[r],s=arguments[n],i=(0,l.addNewStackLayer)(o);return"function"==typeof s&&(arguments[n]=t._patchOut(s,i)),e.apply(this,arguments)}}_patchOut(e,t){return function(...r){return t(),Reflect.apply(e,this,r)}}}t.ConnectInstrumentation=u},55357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._LAYERS_STORE_PROPERTY=void 0,t._LAYERS_STORE_PROPERTY=Symbol("opentelemetry.instrumentation-connect.request-route-stack")},28443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRoute=t.replaceCurrentStackRoute=t.addNewStackLayer=void 0;const n=r(74681),o=r(55357);t.addNewStackLayer=e=>{!1===Array.isArray(e[o._LAYERS_STORE_PROPERTY])&&Object.defineProperty(e,o._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]}),e[o._LAYERS_STORE_PROPERTY].push("/");const t=e[o._LAYERS_STORE_PROPERTY].length;return()=>{t===e[o._LAYERS_STORE_PROPERTY].length?e[o._LAYERS_STORE_PROPERTY].pop():n.diag.warn("Connect: Trying to pop the stack multiple time")}},t.replaceCurrentStackRoute=(e,t)=>{t&&e[o._LAYERS_STORE_PROPERTY].splice(-1,1,t)},t.generateRoute=e=>e[o._LAYERS_STORE_PROPERTY].reduce(((e,t)=>e.replace(/\/+$/,"")+t))},50526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-connect"},88980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(29172),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(58987).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},58987:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=58987,e.exports=t},72167:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(24528),{safeRe:i,t:a}=r(67787),c=r(78906),l=r(72723),u=r(35311),p=r(55906)},55906:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(12195)),i=r(24528),a=r(72167),c=r(72723),l=r(35311),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(67787),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(15185),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},35311:(e,t,r)=>{const n=r(72723),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(15185),{safeRe:i,t:a}=r(67787),c=r(24528),{compareIdentifiers:l}=r(22496);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},37179:(e,t,r)=>{const n=r(30501);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},78906:(e,t,r)=>{const n=r(89606),o=r(26650),s=r(36043),i=r(26680),a=r(7364),c=r(9953);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},43365:(e,t,r)=>{const n=r(35311),o=r(30501),{safeRe:s,t:i}=r(67787);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},43444:(e,t,r)=>{const n=r(35311);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},7734:(e,t,r)=>{const n=r(81417);e.exports=(e,t)=>n(e,t,!0)},81417:(e,t,r)=>{const n=r(35311);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},84595:(e,t,r)=>{const n=r(30501);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},89606:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>0===n(e,t,r)},36043:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>n(e,t,r)>0},26680:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>n(e,t,r)>=0},53958:(e,t,r)=>{const n=r(35311);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},7364:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>n(e,t,r)<0},9953:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>n(e,t,r)<=0},99851:(e,t,r)=>{const n=r(35311);e.exports=(e,t)=>new n(e,t).major},37183:(e,t,r)=>{const n=r(35311);e.exports=(e,t)=>new n(e,t).minor},26650:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>0!==n(e,t,r)},30501:(e,t,r)=>{const n=r(35311);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},33352:(e,t,r)=>{const n=r(35311);e.exports=(e,t)=>new n(e,t).patch},96542:(e,t,r)=>{const n=r(30501);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},21529:(e,t,r)=>{const n=r(81417);e.exports=(e,t,r)=>n(t,e,r)},38628:(e,t,r)=>{const n=r(43444);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},55391:(e,t,r)=>{const n=r(55906);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},47732:(e,t,r)=>{const n=r(43444);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},34080:(e,t,r)=>{const n=r(30501);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},29172:(e,t,r)=>{const n=r(67787),o=r(15185),s=r(35311),i=r(22496),a=r(30501),c=r(34080),l=r(37179),u=r(53958),p=r(84595),d=r(99851),h=r(37183),f=r(33352),m=r(96542),g=r(81417),E=r(21529),S=r(7734),_=r(43444),y=r(47732),A=r(38628),v=r(36043),T=r(7364),b=r(89606),I=r(26650),R=r(26680),O=r(9953),N=r(78906),C=r(43365),L=r(72167),w=r(55906),P=r(55391),M=r(93546),x=r(25293),k=r(56111),D=r(10366),V=r(19845),U=r(53052),G=r(83168),$=r(9305),B=r(79429),F=r(6984),j=r(45949);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},15185:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},72723:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},22496:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},12195:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},24528:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},67787:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(15185),i=r(72723),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},83168:(e,t,r)=>{const n=r(53052);e.exports=(e,t,r)=>n(e,t,">",r)},79429:(e,t,r)=>{const n=r(55906);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},9305:(e,t,r)=>{const n=r(53052);e.exports=(e,t,r)=>n(e,t,"<",r)},25293:(e,t,r)=>{const n=r(35311),o=r(55906);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},56111:(e,t,r)=>{const n=r(35311),o=r(55906);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},10366:(e,t,r)=>{const n=r(35311),o=r(55906),s=r(36043);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},53052:(e,t,r)=>{const n=r(35311),o=r(72167),{ANY:s}=o,i=r(55906),a=r(55391),c=r(36043),l=r(7364),u=r(9953),p=r(26680);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},6984:(e,t,r)=>{const n=r(55391),o=r(81417);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},45949:(e,t,r)=>{const n=r(55906),o=r(72167),{ANY:s}=o,i=r(55391),a=r(81417),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},93546:(e,t,r)=>{const n=r(55906);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},19845:(e,t,r)=>{const n=r(55906);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},84391:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(77022),t),o(r(54305),t)},54305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataloaderInstrumentation=void 0;const n=r(25907),o=r(74681),s=r(66103),i="dataloader";class a extends n.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){return[new n.InstrumentationNodeModuleDefinition(i,[">=2.0.0 <3"],(e=>(this._patchLoad(e.prototype),this._patchLoadMany(e.prototype),this._getPatchedConstructor(e))),(e=>{(0,n.isWrapped)(e.prototype.load)&&this._unwrap(e.prototype,"load"),(0,n.isWrapped)(e.prototype.loadMany)&&this._unwrap(e.prototype,"loadMany")}))]}shouldCreateSpans(){const e=this.getConfig();return void 0!==o.trace.getSpan(o.context.active())||!e.requireParentSpan}getSpanName(e,t){const r=e.name;return null==r?`${i}.${t}`:`${i}.${t} ${r}`}_getPatchedConstructor(e){const t=e.prototype,r=this;function s(...t){const s=new e(...t);return r.isEnabled()?((0,n.isWrapped)(s._batchLoadFn)&&r._unwrap(s,"_batchLoadFn"),r._wrap(s,"_batchLoadFn",(e=>function(...t){var n;if(!r.isEnabled()||!r.shouldCreateSpans())return e.call(this,...t);const i=o.context.active(),a=r.tracer.startSpan(r.getSpanName(s,"batch"),{links:null===(n=this._batch)||void 0===n?void 0:n.spanLinks},i);return o.context.with(o.trace.setSpan(i,a),(()=>e.apply(this,t).then((e=>(a.end(),e))).catch((e=>{throw a.recordException(e),a.setStatus({code:o.SpanStatusCode.ERROR,message:e.message}),a.end(),e}))))})),s):s}return s.prototype=t,s}_patchLoad(e){(0,n.isWrapped)(e.load)&&this._unwrap(e,"load"),this._wrap(e,"load",this._getPatchedLoad.bind(this))}_getPatchedLoad(e){const t=this;return function(...r){if(!t.shouldCreateSpans())return e.call(this,...r);const n=o.context.active(),s=t.tracer.startSpan(t.getSpanName(this,"load"),{kind:o.SpanKind.CLIENT},n);return o.context.with(o.trace.setSpan(n,s),(()=>{const t=e.call(this,...r).then((e=>(s.end(),e))).catch((e=>{throw s.recordException(e),s.setStatus({code:o.SpanStatusCode.ERROR,message:e.message}),s.end(),e})),n=this;return n._batch&&(n._batch.spanLinks||(n._batch.spanLinks=[]),n._batch.spanLinks.push({context:s.spanContext()})),t}))}}_patchLoadMany(e){(0,n.isWrapped)(e.loadMany)&&this._unwrap(e,"loadMany"),this._wrap(e,"loadMany",this._getPatchedLoadMany.bind(this))}_getPatchedLoadMany(e){const t=this;return function(...r){if(!t.shouldCreateSpans())return e.call(this,...r);const n=o.context.active(),s=t.tracer.startSpan(t.getSpanName(this,"loadMany"),{kind:o.SpanKind.CLIENT},n);return o.context.with(o.trace.setSpan(n,s),(()=>e.call(this,...r).then((e=>(s.end(),e)))))}}}t.DataloaderInstrumentation=a},77022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},66103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.12.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-dataloader"},12649:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).EXPRESS_TYPE="express.type",r.EXPRESS_NAME="express.name"},91420:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressLayerType=void 0,(r=t.ExpressLayerType||(t.ExpressLayerType={})).ROUTER="router",r.MIDDLEWARE="middleware",r.REQUEST_HANDLER="request_handler"},46012:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4506),t),o(r(91420),t),o(r(12649),t),o(r(7865),t)},4506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressInstrumentation=void 0;const n=r(98035),o=r(74681),s=r(91420),i=r(12649),a=r(14101),c=r(75728),l=r(86118),u=r(51002),p=r(23831);class d extends l.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new l.InstrumentationNodeModuleDefinition("express",[">=4.0.0 <5"],(e=>{const t=e.Router;return(0,l.isWrapped)(t.route)&&this._unwrap(t,"route"),this._wrap(t,"route",this._getRoutePatch()),(0,l.isWrapped)(t.use)&&this._unwrap(t,"use"),this._wrap(t,"use",this._getRouterUsePatch()),(0,l.isWrapped)(e.application.use)&&this._unwrap(e.application,"use"),this._wrap(e.application,"use",this._getAppUsePatch()),e}),(e=>{if(void 0===e)return;const t=e.Router;this._unwrap(t,"route"),this._unwrap(t,"use"),this._unwrap(e.application,"use")}))]}_getRoutePatch(){const e=this;return function(t){return function(...r){const n=t.apply(this,r),o=this.stack[this.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(r)),n}}}_getRouterUsePatch(){const e=this;return function(t){return function(...r){const n=t.apply(this,r),o=this.stack[this.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(r)),n}}}_getAppUsePatch(){const e=this;return function(t){return function(...r){const n=t.apply(this,r),o=this._router.stack[this._router.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(r)),n}}}_applyPatch(e,t){const r=this;!0!==e[p.kLayerPatched]&&(e[p.kLayerPatched]=!0,this._wrap(e,"handle",(c=>{if(4===c.length)return c;const d=function(d,h){(0,a.storeLayerPath)(d,t);const f=d[p._LAYERS_STORE_PROPERTY].filter((e=>"/"!==e&&"/*"!==e)).join("").replace(/\/{2,}/g,"/"),m={[u.SEMATTRS_HTTP_ROUTE]:f.length>0?f:"/"},g=(0,a.getLayerMetadata)(f,e,t),E=g.attributes[i.AttributeNames.EXPRESS_TYPE],S=(0,n.getRPCMetadata)(o.context.active());if((null==S?void 0:S.type)===n.RPCType.HTTP&&(S.route=f||"/"),(0,a.isLayerIgnored)(g.name,E,r.getConfig()))return E===s.ExpressLayerType.MIDDLEWARE&&d[p._LAYERS_STORE_PROPERTY].pop(),c.apply(this,arguments);if(void 0===o.trace.getSpan(o.context.active()))return c.apply(this,arguments);const _=r._getSpanName({request:d,layerType:E,route:f},g.name),y=r.tracer.startSpan(_,{attributes:Object.assign(m,g.attributes)}),{requestHook:A}=r.getConfig();A&&(0,l.safeExecuteInTheMiddle)((()=>A(y,{request:d,layerType:E,route:f})),(e=>{e&&o.diag.error("express instrumentation: request hook failed",e)}),!0);let v=!1;g.attributes[i.AttributeNames.EXPRESS_TYPE]!==s.ExpressLayerType.MIDDLEWARE&&(y.end(),v=!0);const T=()=>{!1===v&&(v=!0,y.end())},b=Array.from(arguments),I=b.findIndex((e=>"function"==typeof e));I>=0&&(arguments[I]=function(){var e;const t=arguments[0],r=![void 0,null,"route","router"].includes(t);if(!v&&r){const[e,r]=(0,a.asErrorAndMessage)(t);y.recordException(e),y.setStatus({code:o.SpanStatusCode.ERROR,message:r})}return!1===v&&(v=!0,null===(e=d.res)||void 0===e||e.removeListener("finish",T),y.end()),d.route&&r||d[p._LAYERS_STORE_PROPERTY].pop(),b[I].apply(this,arguments)});try{return c.apply(this,arguments)}catch(e){const[t,r]=(0,a.asErrorAndMessage)(e);throw y.recordException(t),y.setStatus({code:o.SpanStatusCode.ERROR,message:r}),e}finally{v||h.once("finish",T)}};for(const e in c)Object.defineProperty(d,e,{get:()=>c[e],set(t){c[e]=t}});return d})))}_getSpanName(e,t){var r;const{spanNameHook:n}=this.getConfig();if(!(n instanceof Function))return t;try{return null!==(r=n(e,t))&&void 0!==r?r:t}catch(e){return o.diag.error("express instrumentation: error calling span name rewrite hook",e),t}}}t.ExpressInstrumentation=d},23831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._LAYERS_STORE_PROPERTY=t.kLayerPatched=void 0,t.kLayerPatched=Symbol("express-layer-patched"),t._LAYERS_STORE_PROPERTY="__ot_middlewares"},7865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayerPath=t.asErrorAndMessage=t.isLayerIgnored=t.getLayerMetadata=t.getRouterPath=t.storeLayerPath=void 0;const n=r(91420),o=r(12649),s=r(23831);t.storeLayerPath=(e,t)=>{!1===Array.isArray(e[s._LAYERS_STORE_PROPERTY])&&Object.defineProperty(e,s._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]}),void 0!==t&&e[s._LAYERS_STORE_PROPERTY].push(t)},t.getRouterPath=(e,r)=>{var n,o,s,i;const a=null===(o=null===(n=r.handle)||void 0===n?void 0:n.stack)||void 0===o?void 0:o[0];return(null===(s=null==a?void 0:a.route)||void 0===s?void 0:s.path)?`${e}${a.route.path}`:(null===(i=null==a?void 0:a.handle)||void 0===i?void 0:i.stack)?(0,t.getRouterPath)(e,a):e},t.getLayerMetadata=(e,r,s)=>{var i;if("router"===r.name){const i=(0,t.getRouterPath)("",r)||s||e||"/";return{attributes:{[o.AttributeNames.EXPRESS_NAME]:i,[o.AttributeNames.EXPRESS_TYPE]:n.ExpressLayerType.ROUTER},name:`router - ${i}`}}return"bound dispatch"===r.name?{attributes:{[o.AttributeNames.EXPRESS_NAME]:null!==(i=e||s)&&void 0!==i?i:"request handler",[o.AttributeNames.EXPRESS_TYPE]:n.ExpressLayerType.REQUEST_HANDLER},name:"request handler"+(r.path?` - ${e||s}`:"")}:{attributes:{[o.AttributeNames.EXPRESS_NAME]:r.name,[o.AttributeNames.EXPRESS_TYPE]:n.ExpressLayerType.MIDDLEWARE},name:`middleware - ${r.name}`}};const i=(e,t)=>{if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);throw new TypeError("Pattern is in unsupported datatype")};t.isLayerIgnored=(e,t,r)=>{var n;if(Array.isArray(null==r?void 0:r.ignoreLayersType)&&(null===(n=null==r?void 0:r.ignoreLayersType)||void 0===n?void 0:n.includes(t)))return!0;if(!1===Array.isArray(null==r?void 0:r.ignoreLayers))return!1;try{for(const t of r.ignoreLayers)if(i(e,t))return!0}catch(e){}return!1},t.asErrorAndMessage=e=>e instanceof Error?[e,e.message]:[String(e),String(e)],t.getLayerPath=e=>{const t=e[0];return Array.isArray(t)?t.map((e=>a(e)||"")).join(","):a(t)};const a=e=>"string"==typeof e?e:e instanceof RegExp||"number"==typeof e?e.toString():void 0},75728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.44.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-express"},86118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(78134),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(66573).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},66573:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=66573,e.exports=t},31481:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(18970),{safeRe:i,t:a}=r(90413),c=r(93184),l=r(89813),u=r(28433),p=r(67728)},67728:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(65549)),i=r(18970),a=r(31481),c=r(89813),l=r(28433),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(90413),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(46243),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},28433:(e,t,r)=>{const n=r(89813),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(46243),{safeRe:i,t:a}=r(90413),c=r(18970),{compareIdentifiers:l}=r(32770);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},57797:(e,t,r)=>{const n=r(12943);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},93184:(e,t,r)=>{const n=r(49236),o=r(66576),s=r(93181),i=r(24734),a=r(93258),c=r(21699);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},26051:(e,t,r)=>{const n=r(28433),o=r(12943),{safeRe:s,t:i}=r(90413);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},26150:(e,t,r)=>{const n=r(28433);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},97816:(e,t,r)=>{const n=r(37431);e.exports=(e,t)=>n(e,t,!0)},37431:(e,t,r)=>{const n=r(28433);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},51801:(e,t,r)=>{const n=r(12943);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},49236:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>0===n(e,t,r)},93181:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>n(e,t,r)>0},24734:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>n(e,t,r)>=0},56096:(e,t,r)=>{const n=r(28433);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},93258:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>n(e,t,r)<0},21699:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>n(e,t,r)<=0},82369:(e,t,r)=>{const n=r(28433);e.exports=(e,t)=>new n(e,t).major},30229:(e,t,r)=>{const n=r(28433);e.exports=(e,t)=>new n(e,t).minor},66576:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>0!==n(e,t,r)},12943:(e,t,r)=>{const n=r(28433);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},29086:(e,t,r)=>{const n=r(28433);e.exports=(e,t)=>new n(e,t).patch},88104:(e,t,r)=>{const n=r(12943);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},93127:(e,t,r)=>{const n=r(37431);e.exports=(e,t,r)=>n(t,e,r)},25654:(e,t,r)=>{const n=r(26150);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},25209:(e,t,r)=>{const n=r(67728);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},5734:(e,t,r)=>{const n=r(26150);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},84838:(e,t,r)=>{const n=r(12943);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},78134:(e,t,r)=>{const n=r(90413),o=r(46243),s=r(28433),i=r(32770),a=r(12943),c=r(84838),l=r(57797),u=r(56096),p=r(51801),d=r(82369),h=r(30229),f=r(29086),m=r(88104),g=r(37431),E=r(93127),S=r(97816),_=r(26150),y=r(5734),A=r(25654),v=r(93181),T=r(93258),b=r(49236),I=r(66576),R=r(24734),O=r(21699),N=r(93184),C=r(26051),L=r(31481),w=r(67728),P=r(25209),M=r(54048),x=r(15115),k=r(28833),D=r(9516),V=r(3991),U=r(77410),G=r(14974),$=r(29235),B=r(81523),F=r(14954),j=r(54283);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},46243:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},89813:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},32770:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},65549:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},18970:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},90413:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(46243),i=r(89813),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},14974:(e,t,r)=>{const n=r(77410);e.exports=(e,t,r)=>n(e,t,">",r)},81523:(e,t,r)=>{const n=r(67728);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},29235:(e,t,r)=>{const n=r(77410);e.exports=(e,t,r)=>n(e,t,"<",r)},15115:(e,t,r)=>{const n=r(28433),o=r(67728);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},28833:(e,t,r)=>{const n=r(28433),o=r(67728);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},9516:(e,t,r)=>{const n=r(28433),o=r(67728),s=r(93181);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},77410:(e,t,r)=>{const n=r(28433),o=r(31481),{ANY:s}=o,i=r(67728),a=r(25209),c=r(93181),l=r(93258),u=r(21699),p=r(24734);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},14954:(e,t,r)=>{const n=r(25209),o=r(37431);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},54283:(e,t,r)=>{const n=r(67728),o=r(31481),{ANY:s}=o,i=r(25209),a=r(37431),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},54048:(e,t,r)=>{const n=r(67728);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},3991:(e,t,r)=>{const n=r(67728);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},91557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hooksNamesToWrap=t.spanRequestSymbol=void 0,t.spanRequestSymbol=Symbol("opentelemetry.instrumentation.fastify.request_active_span"),t.hooksNamesToWrap=new Set(["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"])},86373:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.FastifyNames=t.FastifyTypes=t.AttributeNames=void 0,(o=t.AttributeNames||(t.AttributeNames={})).FASTIFY_NAME="fastify.name",o.FASTIFY_TYPE="fastify.type",o.HOOK_NAME="hook.name",o.PLUGIN_NAME="plugin.name",(n=t.FastifyTypes||(t.FastifyTypes={})).MIDDLEWARE="middleware",n.REQUEST_HANDLER="request_handler",(r=t.FastifyNames||(t.FastifyNames={})).MIDDLEWARE="middleware",r.REQUEST_HANDLER="request handler"},90224:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(86373),t),o(r(57301),t),o(r(27110),t)},27110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastifyInstrumentation=t.ANONYMOUS_NAME=void 0;const n=r(74681),o=r(98035),s=r(3938),i=r(51002),a=r(91557),c=r(86373),l=r(35593),u=r(34460);t.ANONYMOUS_NAME="anonymous";class p extends s.InstrumentationBase{constructor(e={}){super(u.PACKAGE_NAME,u.PACKAGE_VERSION,e)}init(){return[new s.InstrumentationNodeModuleDefinition("fastify",[">=3.0.0 <6"],(e=>this._patchConstructor(e)))]}_hookOnRequest(){const e=this;return function(t,r,s){if(!e.isEnabled())return s();e._wrap(r,"send",e._patchSend());const i=t,a=(0,o.getRPCMetadata)(n.context.active()),c=i.routeOptions?i.routeOptions.url:t.routerPath;c&&(null==a?void 0:a.type)===o.RPCType.HTTP&&(a.route=c),s()}}_wrapHandler(e,r,o,s){const i=this;return this._diag.debug("Patching fastify route.handler function"),function(...a){if(!i.isEnabled())return o.apply(this,a);const u=o.name||e||t.ANONYMOUS_NAME,p=`${c.FastifyNames.MIDDLEWARE} - ${u}`,d=a[1],h=(0,l.startSpan)(d,i.tracer,p,{[c.AttributeNames.FASTIFY_TYPE]:c.FastifyTypes.MIDDLEWARE,[c.AttributeNames.PLUGIN_NAME]:e,[c.AttributeNames.HOOK_NAME]:r}),f=s&&a[a.length-1];return f&&(a[a.length-1]=function(...e){(0,l.endSpan)(d),f.apply(this,e)}),n.context.with(n.trace.setSpan(n.context.active(),h),(()=>(0,l.safeExecuteInTheMiddleMaybePromise)((()=>o.apply(this,a)),(e=>{e instanceof Error&&(h.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}),h.recordException(e)),s||(0,l.endSpan)(d)}))))}}_wrapAddHook(){const e=this;return this._diag.debug("Patching fastify server.addHook function"),function(t){return function(...r){const n=r[0],o=r[1],s=this.pluginName;if(!a.hooksNamesToWrap.has(n))return t.apply(this,r);const i="function"==typeof r[r.length-1]&&"AsyncFunction"!==o.constructor.name;return t.apply(this,[n,e._wrapHandler(s,n,o,i)])}}}_patchConstructor(e){const t=this;function r(...r){const n=e.fastify.apply(this,r);return n.addHook("onRequest",t._hookOnRequest()),n.addHook("preHandler",t._hookPreHandler()),t._wrap(n,"addHook",t._wrapAddHook()),n}return r.fastify=r,r.default=r,r}_patchSend(){const e=this;return this._diag.debug("Patching fastify reply.send function"),function(t){return function(...r){const n=r[0];return e.isEnabled()?(0,s.safeExecuteInTheMiddle)((()=>t.apply(this,r)),(e=>{!e&&n instanceof Error&&(e=n),(0,l.endSpan)(this,e)})):t.apply(this,r)}}}_hookPreHandler(){const e=this;return this._diag.debug("Patching fastify preHandler function"),function(r,o,a){var u,p;if(!e.isEnabled())return a();const d=r,h=(null===(u=d.routeOptions)||void 0===u?void 0:u.handler)||(null===(p=d.context)||void 0===p?void 0:p.handler),f=(null==h?void 0:h.name.startsWith("bound "))?h.name.substr(6):null==h?void 0:h.name,m=`${c.FastifyNames.REQUEST_HANDLER} - ${f||this.pluginName||t.ANONYMOUS_NAME}`,g={[c.AttributeNames.PLUGIN_NAME]:this.pluginName,[c.AttributeNames.FASTIFY_TYPE]:c.FastifyTypes.REQUEST_HANDLER,[i.SEMATTRS_HTTP_ROUTE]:d.routeOptions?d.routeOptions.url:r.routerPath};f&&(g[c.AttributeNames.FASTIFY_NAME]=f);const E=(0,l.startSpan)(o,e.tracer,m,g),{requestHook:S}=e.getConfig();return S&&(0,s.safeExecuteInTheMiddle)((()=>S(E,{request:r})),(t=>{t&&e._diag.error("request hook failed",t)}),!0),n.context.with(n.trace.setSpan(n.context.active(),E),(()=>{a()}))}}}t.FastifyInstrumentation=p},57301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeExecuteInTheMiddleMaybePromise=t.endSpan=t.startSpan=void 0;const n=r(74681),o=r(91557);function s(e){var t;return"object"==typeof e&&e&&"function"==typeof(null===(t=Object.getOwnPropertyDescriptor(e,"then"))||void 0===t?void 0:t.value)||!1}t.startSpan=function(e,t,r,n={}){const s=t.startSpan(r,{attributes:n}),i=e[o.spanRequestSymbol]||[];return i.push(s),Object.defineProperty(e,o.spanRequestSymbol,{enumerable:!1,configurable:!0,value:i}),s},t.endSpan=function(e,t){const r=e[o.spanRequestSymbol]||[];r.length&&(r.forEach((e=>{t&&(e.setStatus({code:n.SpanStatusCode.ERROR,message:t.message}),e.recordException(t)),e.end()})),delete e[o.spanRequestSymbol])},t.safeExecuteInTheMiddleMaybePromise=function(e,t,r){let n,o;try{o=e(),s(o)&&o.then((e=>t(void 0,e)),(e=>t(e)))}catch(e){n=e}finally{if(!s(o)&&(t(n,o),n&&!r))throw n;return o}}},34460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-fastify"},3938:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(92410),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(31297).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},31297:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=31297,e.exports=t},77333:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(74430),{safeRe:i,t:a}=r(26017),c=r(2204),l=r(76153),u=r(22669),p=r(73244)},73244:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(90785)),i=r(74430),a=r(77333),c=r(76153),l=r(22669),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(26017),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(49743),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},22669:(e,t,r)=>{const n=r(76153),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(49743),{safeRe:i,t:a}=r(26017),c=r(74430),{compareIdentifiers:l}=r(22998);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},38929:(e,t,r)=>{const n=r(35067);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},2204:(e,t,r)=>{const n=r(30264),o=r(73636),s=r(75465),i=r(4186),a=r(1526),c=r(76047);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},53703:(e,t,r)=>{const n=r(22669),o=r(35067),{safeRe:s,t:i}=r(26017);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},30530:(e,t,r)=>{const n=r(22669);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},80508:(e,t,r)=>{const n=r(53603);e.exports=(e,t)=>n(e,t,!0)},53603:(e,t,r)=>{const n=r(22669);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},81517:(e,t,r)=>{const n=r(35067);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},30264:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>0===n(e,t,r)},75465:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>n(e,t,r)>0},4186:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>n(e,t,r)>=0},11020:(e,t,r)=>{const n=r(22669);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},1526:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>n(e,t,r)<0},76047:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>n(e,t,r)<=0},54805:(e,t,r)=>{const n=r(22669);e.exports=(e,t)=>new n(e,t).major},17137:(e,t,r)=>{const n=r(22669);e.exports=(e,t)=>new n(e,t).minor},73636:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>0!==n(e,t,r)},35067:(e,t,r)=>{const n=r(22669);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},58202:(e,t,r)=>{const n=r(22669);e.exports=(e,t)=>new n(e,t).patch},27404:(e,t,r)=>{const n=r(35067);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},46539:(e,t,r)=>{const n=r(53603);e.exports=(e,t,r)=>n(t,e,r)},72570:(e,t,r)=>{const n=r(30530);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},57141:(e,t,r)=>{const n=r(73244);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},13074:(e,t,r)=>{const n=r(30530);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},70258:(e,t,r)=>{const n=r(35067);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},92410:(e,t,r)=>{const n=r(26017),o=r(49743),s=r(22669),i=r(22998),a=r(35067),c=r(70258),l=r(38929),u=r(11020),p=r(81517),d=r(54805),h=r(17137),f=r(58202),m=r(27404),g=r(53603),E=r(46539),S=r(80508),_=r(30530),y=r(13074),A=r(72570),v=r(75465),T=r(1526),b=r(30264),I=r(73636),R=r(4186),O=r(76047),N=r(2204),C=r(53703),L=r(77333),w=r(73244),P=r(57141),M=r(54068),x=r(82263),k=r(74021),D=r(40056),V=r(53107),U=r(77950),G=r(65170),$=r(65831),B=r(48967),F=r(80414),j=r(68047);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},49743:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},76153:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},22998:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},90785:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},74430:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},26017:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(49743),i=r(76153),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},65170:(e,t,r)=>{const n=r(77950);e.exports=(e,t,r)=>n(e,t,">",r)},48967:(e,t,r)=>{const n=r(73244);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},65831:(e,t,r)=>{const n=r(77950);e.exports=(e,t,r)=>n(e,t,"<",r)},82263:(e,t,r)=>{const n=r(22669),o=r(73244);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},74021:(e,t,r)=>{const n=r(22669),o=r(73244);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},40056:(e,t,r)=>{const n=r(22669),o=r(73244),s=r(75465);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},77950:(e,t,r)=>{const n=r(22669),o=r(77333),{ANY:s}=o,i=r(73244),a=r(57141),c=r(75465),l=r(1526),u=r(76047),p=r(4186);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},80414:(e,t,r)=>{const n=r(57141),o=r(53603);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},68047:(e,t,r)=>{const n=r(73244),o=r(77333),{ANY:s}=o,i=r(57141),a=r(53603),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},54068:(e,t,r)=>{const n=r(73244);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},53107:(e,t,r)=>{const n=r(73244);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},34074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYNC_FUNCTIONS=t.CALLBACK_FUNCTIONS=t.PROMISE_FUNCTIONS=void 0,t.PROMISE_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"],t.CALLBACK_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","exists","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","realpath.native","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"],t.SYNC_FUNCTIONS=["accessSync","appendFileSync","chmodSync","chownSync","copyFileSync","cpSync","existsSync","lchownSync","linkSync","lstatSync","lutimesSync","mkdirSync","mkdtempSync","opendirSync","openSync","readdirSync","readFileSync","readlinkSync","realpathSync","realpathSync.native","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","writeFileSync"]},30135:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(82897),t),o(r(174),t)},82897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FsInstrumentation=void 0;const n=r(74681),o=r(98035),s=r(21443),i=r(89223),a=r(34074),c=r(39023),l=r(50114);function u(e,t){return Object.assign(e,t)}class p extends s.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){return[new s.InstrumentationNodeModuleDefinition("fs",["*"],(e=>{for(const t of a.SYNC_FUNCTIONS){const{objectToPatch:r,functionNameToPatch:n}=(0,l.indexFs)(e,t);(0,s.isWrapped)(r[n])&&this._unwrap(r,n),this._wrap(r,n,this._patchSyncFunction.bind(this,t))}for(const t of a.CALLBACK_FUNCTIONS){const{objectToPatch:r,functionNameToPatch:n}=(0,l.indexFs)(e,t);(0,s.isWrapped)(r[n])&&this._unwrap(r,n),"exists"!==t?this._wrap(r,n,this._patchCallbackFunction.bind(this,t)):this._wrap(r,n,this._patchExistsCallbackFunction.bind(this,t))}for(const t of a.PROMISE_FUNCTIONS)(0,s.isWrapped)(e.promises[t])&&this._unwrap(e.promises,t),this._wrap(e.promises,t,this._patchPromiseFunction.bind(this,t));return e}),(e=>{if(void 0!==e){for(const t of a.SYNC_FUNCTIONS){const{objectToPatch:r,functionNameToPatch:n}=(0,l.indexFs)(e,t);(0,s.isWrapped)(r[n])&&this._unwrap(r,n)}for(const t of a.CALLBACK_FUNCTIONS){const{objectToPatch:r,functionNameToPatch:n}=(0,l.indexFs)(e,t);(0,s.isWrapped)(r[n])&&this._unwrap(r,n)}for(const t of a.PROMISE_FUNCTIONS)(0,s.isWrapped)(e.promises[t])&&this._unwrap(e.promises,t)}})),new s.InstrumentationNodeModuleDefinition("fs/promises",["*"],(e=>{for(const t of a.PROMISE_FUNCTIONS)(0,s.isWrapped)(e[t])&&this._unwrap(e,t),this._wrap(e,t,this._patchPromiseFunction.bind(this,t));return e}),(e=>{if(void 0!==e)for(const t of a.PROMISE_FUNCTIONS)(0,s.isWrapped)(e[t])&&this._unwrap(e,t)}))]}_patchSyncFunction(e,t){const r=this;return u((function(...s){const i=n.context.active();if(!r._shouldTrace(i))return t.apply(this,s);if(!1===r._runCreateHook(e,{args:s}))return n.context.with((0,o.suppressTracing)(i),t,this,...s);const a=r.tracer.startSpan(`fs ${e}`);try{const c=n.context.with((0,o.suppressTracing)(n.trace.setSpan(i,a)),t,this,...s);return r._runEndHook(e,{args:s,span:a}),c}catch(t){throw a.recordException(t),a.setStatus({message:t.message,code:n.SpanStatusCode.ERROR}),r._runEndHook(e,{args:s,span:a,error:t}),t}finally{a.end()}}),t)}_patchCallbackFunction(e,t){const r=this;return u((function(...s){const i=n.context.active();if(!r._shouldTrace(i))return t.apply(this,s);if(!1===r._runCreateHook(e,{args:s}))return n.context.with((0,o.suppressTracing)(i),t,this,...s);const a=s.length-1,c=s[a];if("function"!=typeof c)return t.apply(this,s);{const l=r.tracer.startSpan(`fs ${e}`);s[a]=n.context.bind(i,(function(t){return t&&(l.recordException(t),l.setStatus({message:t.message,code:n.SpanStatusCode.ERROR})),r._runEndHook(e,{args:s,span:l,error:t}),l.end(),c.apply(this,arguments)}));try{return n.context.with((0,o.suppressTracing)(n.trace.setSpan(i,l)),t,this,...s)}catch(t){throw l.recordException(t),l.setStatus({message:t.message,code:n.SpanStatusCode.ERROR}),r._runEndHook(e,{args:s,span:l,error:t}),l.end(),t}}}),t)}_patchExistsCallbackFunction(e,t){const r=this,s=u((function(...s){const i=n.context.active();if(!r._shouldTrace(i))return t.apply(this,s);if(!1===r._runCreateHook(e,{args:s}))return n.context.with((0,o.suppressTracing)(i),t,this,...s);const a=s.length-1,c=s[a];if("function"!=typeof c)return t.apply(this,s);{const l=r.tracer.startSpan(`fs ${e}`);s[a]=n.context.bind(i,(function(){return r._runEndHook(e,{args:s,span:l}),l.end(),c.apply(this,arguments)}));try{return n.context.with((0,o.suppressTracing)(n.trace.setSpan(i,l)),t,this,...s)}catch(t){throw l.recordException(t),l.setStatus({message:t.message,code:n.SpanStatusCode.ERROR}),r._runEndHook(e,{args:s,span:l,error:t}),l.end(),t}}}),t),i=function(e){return new Promise((t=>s(e,t)))};return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(s,c.promisify.custom,{value:i}),s}_patchPromiseFunction(e,t){const r=this;return u((async function(...s){const i=n.context.active();if(!r._shouldTrace(i))return t.apply(this,s);if(!1===r._runCreateHook(e,{args:s}))return n.context.with((0,o.suppressTracing)(i),t,this,...s);const a=r.tracer.startSpan(`fs ${e}`);try{const c=await n.context.with((0,o.suppressTracing)(n.trace.setSpan(i,a)),t,this,...s);return r._runEndHook(e,{args:s,span:a}),c}catch(t){throw a.recordException(t),a.setStatus({message:t.message,code:n.SpanStatusCode.ERROR}),r._runEndHook(e,{args:s,span:a,error:t}),t}finally{a.end()}}),t)}_runCreateHook(...e){const{createHook:t}=this.getConfig();if("function"==typeof t)try{return t(...e)}catch(e){this._diag.error("caught createHook error",e)}return!0}_runEndHook(...e){const{endHook:t}=this.getConfig();if("function"==typeof t)try{t(...e)}catch(e){this._diag.error("caught endHook error",e)}}_shouldTrace(e){if((0,o.isTracingSuppressed)(e))return!1;const{requireParentSpan:t}=this.getConfig();return!t||null!=n.trace.getSpan(e)}}t.FsInstrumentation=p},174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},50114:(e,t)=>{"use strict";function r(e){const t=e.split(".");if(t.length>1){if(2!==t.length)throw Error(`Invalid member function name ${e}`);return t}return[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.indexFs=t.splitTwoLevels=void 0,t.splitTwoLevels=r,t.indexFs=function(e,t){if(!t)throw new Error(JSON.stringify({member:t}));const n=r(t),[o,s]=n;return s?{objectToPatch:e[o],functionNameToPatch:s}:{objectToPatch:e,functionNameToPatch:o}}},89223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.16.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-fs"},21443:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(97241),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(26614).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},26614:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=26614,e.exports=t},19964:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(5327),{safeRe:i,t:a}=r(25098),c=r(72539),l=r(19884),u=r(688),p=r(91539)},91539:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(15646)),i=r(5327),a=r(19964),c=r(19884),l=r(688),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(25098),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(68022),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},688:(e,t,r)=>{const n=r(19884),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(68022),{safeRe:i,t:a}=r(25098),c=r(5327),{compareIdentifiers:l}=r(78791);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},77842:(e,t,r)=>{const n=r(59612);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},72539:(e,t,r)=>{const n=r(51397),o=r(41427),s=r(99496),i=r(91909),a=r(94351),c=r(93148);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},91838:(e,t,r)=>{const n=r(688),o=r(59612),{safeRe:s,t:i}=r(25098);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},83497:(e,t,r)=>{const n=r(688);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},48711:(e,t,r)=>{const n=r(34620);e.exports=(e,t)=>n(e,t,!0)},34620:(e,t,r)=>{const n=r(688);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},64188:(e,t,r)=>{const n=r(59612);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},51397:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>0===n(e,t,r)},99496:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>n(e,t,r)>0},91909:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>n(e,t,r)>=0},40027:(e,t,r)=>{const n=r(688);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},94351:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>n(e,t,r)<0},93148:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>n(e,t,r)<=0},11790:(e,t,r)=>{const n=r(688);e.exports=(e,t)=>new n(e,t).major},14826:(e,t,r)=>{const n=r(688);e.exports=(e,t)=>new n(e,t).minor},41427:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>0!==n(e,t,r)},59612:(e,t,r)=>{const n=r(688);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},38937:(e,t,r)=>{const n=r(688);e.exports=(e,t)=>new n(e,t).patch},70245:(e,t,r)=>{const n=r(59612);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},91494:(e,t,r)=>{const n=r(34620);e.exports=(e,t,r)=>n(t,e,r)},67033:(e,t,r)=>{const n=r(83497);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},76162:(e,t,r)=>{const n=r(91539);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},21107:(e,t,r)=>{const n=r(83497);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},53797:(e,t,r)=>{const n=r(59612);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},97241:(e,t,r)=>{const n=r(25098),o=r(68022),s=r(688),i=r(78791),a=r(59612),c=r(53797),l=r(77842),u=r(40027),p=r(64188),d=r(11790),h=r(14826),f=r(38937),m=r(70245),g=r(34620),E=r(91494),S=r(48711),_=r(83497),y=r(21107),A=r(67033),v=r(99496),T=r(94351),b=r(51397),I=r(41427),R=r(91909),O=r(93148),N=r(72539),C=r(91838),L=r(19964),w=r(91539),P=r(76162),M=r(32675),x=r(8552),k=r(64210),D=r(90681),V=r(28734),U=r(39007),G=r(83399),$=r(17298),B=r(91312),F=r(58785),j=r(75564);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},68022:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},19884:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},78791:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},15646:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},5327:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},25098:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(68022),i=r(19884),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},83399:(e,t,r)=>{const n=r(39007);e.exports=(e,t,r)=>n(e,t,">",r)},91312:(e,t,r)=>{const n=r(91539);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},17298:(e,t,r)=>{const n=r(39007);e.exports=(e,t,r)=>n(e,t,"<",r)},8552:(e,t,r)=>{const n=r(688),o=r(91539);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},64210:(e,t,r)=>{const n=r(688),o=r(91539);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},90681:(e,t,r)=>{const n=r(688),o=r(91539),s=r(99496);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},39007:(e,t,r)=>{const n=r(688),o=r(19964),{ANY:s}=o,i=r(91539),a=r(76162),c=r(99496),l=r(94351),u=r(93148),p=r(91909);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},58785:(e,t,r)=>{const n=r(76162),o=r(34620);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},75564:(e,t,r)=>{const n=r(91539),o=r(19964),{ANY:s}=o,i=r(76162),a=r(34620),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},32675:(e,t,r)=>{const n=r(91539);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},28734:(e,t,r)=>{const n=r(91539);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},27930:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(94972),t)},94972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericPoolInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(34798),i="generic-pool";class a extends o.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e),this._isDisabled=!1}init(){return[new o.InstrumentationNodeModuleDefinition(i,[">=3.0.0 <4"],(e=>{const t=e.Pool;return(0,o.isWrapped)(t.prototype.acquire)&&this._unwrap(t.prototype,"acquire"),this._wrap(t.prototype,"acquire",this._acquirePatcher.bind(this)),e}),(e=>{const t=e.Pool;return this._unwrap(t.prototype,"acquire"),e})),new o.InstrumentationNodeModuleDefinition(i,[">=2.4.0 <3"],(e=>{const t=e.Pool;return(0,o.isWrapped)(t.prototype.acquire)&&this._unwrap(t.prototype,"acquire"),this._wrap(t.prototype,"acquire",this._acquireWithCallbacksPatcher.bind(this)),e}),(e=>{const t=e.Pool;return this._unwrap(t.prototype,"acquire"),e})),new o.InstrumentationNodeModuleDefinition(i,[">=2.0.0 <2.4"],(e=>(this._isDisabled=!1,(0,o.isWrapped)(e.Pool)&&this._unwrap(e,"Pool"),this._wrap(e,"Pool",this._poolWrapper.bind(this)),e)),(e=>(this._isDisabled=!0,e)))]}_acquirePatcher(e){const t=this;return function(...r){const o=n.context.active(),s=t.tracer.startSpan("generic-pool.acquire",{},o);return n.context.with(n.trace.setSpan(o,s),(()=>e.call(this,...r).then((e=>(s.end(),e)),(e=>{throw s.recordException(e),s.end(),e}))))}}_poolWrapper(e){const t=this;return function(){const r=e.apply(this,arguments);return t._wrap(r,"acquire",t._acquireWithCallbacksPatcher.bind(t)),r}}_acquireWithCallbacksPatcher(e){const t=this;return function(r,o){if(t._isDisabled)return e.call(this,r,o);const s=n.context.active(),i=t.tracer.startSpan("generic-pool.acquire",{},s);return n.context.with(n.trace.setSpan(s,i),(()=>{e.call(this,((e,t)=>{if(i.end(),r)return r(e,t)}),o)}))}}}t.GenericPoolInstrumentation=a},34798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.39.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-generic-pool"},81708:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanNames=t.TokenKind=t.AllowedOperationTypes=void 0,(o=t.AllowedOperationTypes||(t.AllowedOperationTypes={})).QUERY="query",o.MUTATION="mutation",o.SUBSCRIPTION="subscription",(n=t.TokenKind||(t.TokenKind={})).SOF="<SOF>",n.EOF="<EOF>",n.BANG="!",n.DOLLAR="$",n.AMP="&",n.PAREN_L="(",n.PAREN_R=")",n.SPREAD="...",n.COLON=":",n.EQUALS="=",n.AT="@",n.BRACKET_L="[",n.BRACKET_R="]",n.BRACE_L="{",n.PIPE="|",n.BRACE_R="}",n.NAME="Name",n.INT="Int",n.FLOAT="Float",n.STRING="String",n.BLOCK_STRING="BlockString",n.COMMENT="Comment",(r=t.SpanNames||(t.SpanNames={})).EXECUTE="graphql.execute",r.PARSE="graphql.parse",r.RESOLVE="graphql.resolve",r.VALIDATE="graphql.validate",r.SCHEMA_VALIDATE="graphql.validateSchema",r.SCHEMA_PARSE="graphql.parseSchema"},64442:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).SOURCE="graphql.source",r.FIELD_NAME="graphql.field.name",r.FIELD_PATH="graphql.field.path",r.FIELD_TYPE="graphql.field.type",r.OPERATION_TYPE="graphql.operation.type",r.OPERATION_NAME="graphql.operation.name",r.VARIABLES="graphql.variables.",r.ERROR_VALIDATION_NAME="graphql.validation.error"},57317:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(18995),t),o(r(40172),t)},18995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLInstrumentation=void 0;const n=r(74681),o=r(20721),s=r(81708),i=r(64442),a=r(12348),c=r(19712),l=r(64256),u=r(55837),p={mergeItems:!1,depth:-1,allowValues:!1,ignoreResolveSpans:!1},d=[">=14.0.0 <17"];class h extends o.InstrumentationBase{constructor(e={}){super(u.PACKAGE_NAME,u.PACKAGE_VERSION,Object.assign(Object.assign({},p),e))}setConfig(e={}){super.setConfig(Object.assign(Object.assign({},p),e))}init(){const e=new o.InstrumentationNodeModuleDefinition("graphql",d);return e.files.push(this._addPatchingExecute()),e.files.push(this._addPatchingParser()),e.files.push(this._addPatchingValidate()),e}_addPatchingExecute(){return new o.InstrumentationNodeModuleFile("graphql/execution/execute.js",d,(e=>((0,o.isWrapped)(e.execute)&&this._unwrap(e,"execute"),this._wrap(e,"execute",this._patchExecute(e.defaultFieldResolver)),e)),(e=>{e&&this._unwrap(e,"execute")}))}_addPatchingParser(){return new o.InstrumentationNodeModuleFile("graphql/language/parser.js",d,(e=>((0,o.isWrapped)(e.parse)&&this._unwrap(e,"parse"),this._wrap(e,"parse",this._patchParse()),e)),(e=>{e&&this._unwrap(e,"parse")}))}_addPatchingValidate(){return new o.InstrumentationNodeModuleFile("graphql/validation/validate.js",d,(e=>((0,o.isWrapped)(e.validate)&&this._unwrap(e,"validate"),this._wrap(e,"validate",this._patchValidate()),e)),(e=>{e&&this._unwrap(e,"validate")}))}_patchExecute(e){const t=this;return function(r){return function(){let s;if(arguments.length>=2){const r=arguments;s=t._wrapExecuteArgs(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],e)}else{const r=arguments[0];s=t._wrapExecuteArgs(r.schema,r.document,r.rootValue,r.contextValue,r.variableValues,r.operationName,r.fieldResolver,r.typeResolver,e)}const i=(0,l.getOperation)(s.document,s.operationName),c=t._createExecuteSpan(i,s);return s.contextValue[a.OTEL_GRAPHQL_DATA_SYMBOL]={source:s.document?s.document||s.document[a.OTEL_GRAPHQL_DATA_SYMBOL]:void 0,span:c,fields:{}},n.context.with(n.trace.setSpan(n.context.active(),c),(()=>(0,o.safeExecuteInTheMiddle)((()=>r.apply(this,[s])),((e,r)=>{t._handleExecutionResult(c,e,r)}))))}}}_handleExecutionResult(e,t,r){const n=this.getConfig();if(void 0===r||t)(0,l.endSpan)(e,t);else if((0,l.isPromise)(r))r.then((t=>{"function"==typeof n.responseHook?this._executeResponseHook(e,t):(0,l.endSpan)(e)}),(t=>{(0,l.endSpan)(e,t)}));else{if("function"!=typeof n.responseHook)return void(0,l.endSpan)(e);this._executeResponseHook(e,r)}}_executeResponseHook(e,t){const{responseHook:r}=this.getConfig();r&&(0,o.safeExecuteInTheMiddle)((()=>{r(e,t)}),(t=>{t&&this._diag.error("Error running response hook",t),(0,l.endSpan)(e,void 0)}),!0)}_patchParse(){const e=this;return function(t){return function(r,n){return e._parse(this,t,r,n)}}}_patchValidate(){const e=this;return function(t){return function(r,n,o,s,i){return e._validate(this,t,r,n,o,i,s)}}}_parse(e,t,r,i){const a=this.getConfig(),c=this.tracer.startSpan(s.SpanNames.PARSE);return n.context.with(n.trace.setSpan(n.context.active(),c),(()=>(0,o.safeExecuteInTheMiddle)((()=>t.call(e,r,i)),((e,t)=>{t&&((0,l.getOperation)(t)?t.loc&&(0,l.addSpanSource)(c,t.loc,a.allowValues):c.updateName(s.SpanNames.SCHEMA_PARSE)),(0,l.endSpan)(c,e)}))))}_validate(e,t,r,a,c,u,p){const d=this.tracer.startSpan(s.SpanNames.VALIDATE,{});return n.context.with(n.trace.setSpan(n.context.active(),d),(()=>(0,o.safeExecuteInTheMiddle)((()=>t.call(e,r,a,c,p,u)),((e,t)=>{a.loc||d.updateName(s.SpanNames.SCHEMA_VALIDATE),t&&t.length&&d.recordException({name:i.AttributeNames.ERROR_VALIDATION_NAME,message:JSON.stringify(t)}),(0,l.endSpan)(d,e)}))))}_createExecuteSpan(e,t){var r;const n=this.getConfig(),o=this.tracer.startSpan(s.SpanNames.EXECUTE,{});if(e){const{operation:t,name:r}=e;o.setAttribute(i.AttributeNames.OPERATION_TYPE,t);const n=null==r?void 0:r.value;n?(o.setAttribute(i.AttributeNames.OPERATION_NAME,n),o.updateName(`${t} ${n}`)):o.updateName(t)}else{let e=" ";t.operationName&&(e=` "${t.operationName}" `),e=c.OPERATION_NOT_SUPPORTED.replace("$operationName$",e),o.setAttribute(i.AttributeNames.OPERATION_NAME,e)}return(null===(r=t.document)||void 0===r?void 0:r.loc)&&(0,l.addSpanSource)(o,t.document.loc,n.allowValues),t.variableValues&&n.allowValues&&(0,l.addInputVariableAttributes)(o,t.variableValues),o}_wrapExecuteArgs(e,t,r,n,o,s,i,c,u){if(n||(n={}),n[a.OTEL_GRAPHQL_DATA_SYMBOL]||this.getConfig().ignoreResolveSpans)return{schema:e,document:t,rootValue:r,contextValue:n,variableValues:o,operationName:s,fieldResolver:i,typeResolver:c};const p=null==i,d=null!=i?i:u;return i=(0,l.wrapFieldResolver)(this.tracer,(()=>this.getConfig()),d,p),e&&((0,l.wrapFields)(e.getQueryType(),this.tracer,(()=>this.getConfig())),(0,l.wrapFields)(e.getMutationType(),this.tracer,(()=>this.getConfig()))),{schema:e,document:t,rootValue:r,contextValue:n,variableValues:o,operationName:s,fieldResolver:i,typeResolver:c}}}t.GraphQLInstrumentation=h},19712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATION_NOT_SUPPORTED=void 0,r(12348),t.OPERATION_NOT_SUPPORTED="Operation$operationName$not supported"},12348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OTEL_GRAPHQL_DATA_SYMBOL=t.OTEL_PATCHED_SYMBOL=void 0,t.OTEL_PATCHED_SYMBOL=Symbol.for("opentelemetry.patched"),t.OTEL_GRAPHQL_DATA_SYMBOL=Symbol.for("opentelemetry.graphql_data")},40172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapFieldResolver=t.wrapFields=t.getSourceFromLocation=t.getOperation=t.endSpan=t.addSpanSource=t.addInputVariableAttributes=t.isPromise=void 0;const n=r(74681),o=r(81708),s=r(64442),i=r(12348),a=Object.values(o.AllowedOperationTypes);t.isPromise=e=>"function"==typeof(null==e?void 0:e.then);function c(e,t,r){Array.isArray(r)?r.forEach(((r,n)=>{c(e,`${t}.${n}`,r)})):r instanceof Object?Object.entries(r).forEach((([r,n])=>{c(e,`${t}.${r}`,n)})):e.setAttribute(`${s.AttributeNames.VARIABLES}${String(t)}`,r)}function l(e,t,r,n,o){const i=g(t,r,n,o);e.setAttribute(s.AttributeNames.SOURCE,i)}function u(e,t,r,a,c,u){var p,d;const h={[s.AttributeNames.FIELD_NAME]:a.fieldName,[s.AttributeNames.FIELD_PATH]:c.join("."),[s.AttributeNames.FIELD_TYPE]:a.returnType.toString()},f=e.startSpan(`${o.SpanNames.RESOLVE} ${h[s.AttributeNames.FIELD_PATH]}`,{attributes:h},u?n.trace.setSpan(n.context.active(),u):void 0),m=r[i.OTEL_GRAPHQL_DATA_SYMBOL].source,g=a.fieldNodes.find((e=>"Field"===e.kind));return g&&l(f,m.loc,t().allowValues,null===(p=g.loc)||void 0===p?void 0:p.start,null===(d=g.loc)||void 0===d?void 0:d.end),f}function p(e,t){return e[i.OTEL_GRAPHQL_DATA_SYMBOL].fields[t.join(".")]}function d(e,t){for(let r=t.length-1;r>0;r--){const n=p(e,t.slice(0,r));if(n)return n}return{span:e[i.OTEL_GRAPHQL_DATA_SYMBOL].span}}function h(e){return f(" ",e)}function f(e,t){let r="";for(let n=0;n<t;n++)r+=e;return r}t.addInputVariableAttributes=function(e,t){Object.entries(t).forEach((([t,r])=>{c(e,t,r)}))},t.addSpanSource=l,t.endSpan=function(e,t){t&&e.recordException(t),e.end()},t.getOperation=function(e,t){if(e&&Array.isArray(e.definitions))return t?e.definitions.filter((e=>{var t;return-1!==a.indexOf(null===(t=e)||void 0===t?void 0:t.operation)})).find((e=>{var r,n;return t===(null===(n=null===(r=e)||void 0===r?void 0:r.name)||void 0===n?void 0:n.value)})):e.definitions.find((e=>{var t;return-1!==a.indexOf(null===(t=e)||void 0===t?void 0:t.operation)}))};const m=[o.TokenKind.FLOAT,o.TokenKind.STRING,o.TokenKind.INT,o.TokenKind.BLOCK_STRING];function g(e,t=!1,r,n){var s,i;let a="";if(null==e?void 0:e.startToken){const c="number"==typeof r?r:e.start,l="number"==typeof n?n:e.end;let u=e.startToken.next,p=1;for(;u;){if(u.start<c){u=u.next,p=null==u?void 0:u.line;continue}if(u.end>l){u=u.next,p=null==u?void 0:u.line;continue}let e=u.value||u.kind,r="";!t&&m.indexOf(u.kind)>=0&&(e="*"),u.kind===o.TokenKind.STRING&&(e=`"${e}"`),u.kind===o.TokenKind.EOF&&(e=""),u.line>p?(a+=f("\n",u.line-p),p=u.line,r=h(u.column-1)):u.line===(null===(s=u.prev)||void 0===s?void 0:s.line)&&(r=h(u.start-((null===(i=u.prev)||void 0===i?void 0:i.end)||0))),a+=r+e,u&&(u=u.next)}}return a}t.getSourceFromLocation=g,t.wrapFields=function e(t,r,n){if(!t||"function"!=typeof t.getFields||t[i.OTEL_PATCHED_SYMBOL])return;const o=t.getFields();t[i.OTEL_PATCHED_SYMBOL]=!0,Object.keys(o).forEach((t=>{const s=o[t];if(s&&(s.resolve&&(s.resolve=_(r,n,s.resolve)),s.type)){let t=s.type;for(;t.ofType;)t=t.ofType;e(t,r,n)}}))};const E=(e,t,r)=>{r&&(e.recordException(t),e.setStatus({code:n.SpanStatusCode.ERROR,message:t.message}),e.end())},S=(e,t)=>{t&&e.end()};function _(e,r,o,s=!1){if(a[i.OTEL_PATCHED_SYMBOL]||"function"!=typeof o)return o;function a(a,c,l,h){if(!o)return;const f=r();if(f.ignoreTrivialResolveSpans&&s&&("object"==typeof(m=a)&&null!==m||"function"==typeof a)&&"function"!=typeof a[h.fieldName])return o.call(this,a,c,l,h);var m;if(!l[i.OTEL_GRAPHQL_DATA_SYMBOL])return o.call(this,a,c,l,h);const g=function(e,t){const r=[];let n=t;for(;n;){let t=n.key;e&&"number"==typeof t&&(t="*"),r.push(String(t)),n=n.prev}return r.reverse()}(f.mergeItems,h&&h.path),_=g.filter((e=>"string"==typeof e)).length;let y,A=!1;if(f.depth>=0&&f.depth<_)y=d(l,g);else{const t=function(e,t,r,n,o){let s=p(r,o),a=!1;if(!s){a=!0;const c=d(r,o);s={parent:c,span:u(e,t,r,n,o,c.span),error:null},function(e,t,r){e[i.OTEL_GRAPHQL_DATA_SYMBOL].fields[t.join(".")]=r}(r,o,s)}return{spanAdded:a,field:s}}(e,r,l,h,g);y=t.field,A=t.spanAdded}return n.context.with(n.trace.setSpan(n.context.active(),y.span),(()=>{try{const e=o.call(this,a,c,l,h);return(0,t.isPromise)(e)?e.then((e=>(S(y.span,A),e)),(e=>{throw E(y.span,e,A),e})):(S(y.span,A),e)}catch(e){throw E(y.span,e,A),e}}))}return a[i.OTEL_PATCHED_SYMBOL]=!0,a}t.wrapFieldResolver=_},55837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.44.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-graphql"},20721:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(7679),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(18564).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},18564:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=18564,e.exports=t},13754:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(26773),{safeRe:i,t:a}=r(30448),c=r(52621),l=r(50874),u=r(56934),p=r(43613)},43613:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(89108)),i=r(26773),a=r(13754),c=r(50874),l=r(56934),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(30448),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(12079),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},56934:(e,t,r)=>{const n=r(50874),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(12079),{safeRe:i,t:a}=r(30448),c=r(26773),{compareIdentifiers:l}=r(61813);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},61632:(e,t,r)=>{const n=r(19674);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},52621:(e,t,r)=>{const n=r(23303),o=r(16373),s=r(75022),i=r(19223),a=r(70993),c=r(53554);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},50960:(e,t,r)=>{const n=r(56934),o=r(19674),{safeRe:s,t:i}=r(30448);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},37351:(e,t,r)=>{const n=r(56934);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},2877:(e,t,r)=>{const n=r(6342);e.exports=(e,t)=>n(e,t,!0)},6342:(e,t,r)=>{const n=r(56934);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},77062:(e,t,r)=>{const n=r(19674);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},23303:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>0===n(e,t,r)},75022:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>n(e,t,r)>0},19223:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>n(e,t,r)>=0},40385:(e,t,r)=>{const n=r(56934);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},70993:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>n(e,t,r)<0},53554:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>n(e,t,r)<=0},8328:(e,t,r)=>{const n=r(56934);e.exports=(e,t)=>new n(e,t).major},96020:(e,t,r)=>{const n=r(56934);e.exports=(e,t)=>new n(e,t).minor},16373:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>0!==n(e,t,r)},19674:(e,t,r)=>{const n=r(56934);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},20123:(e,t,r)=>{const n=r(56934);e.exports=(e,t)=>new n(e,t).patch},1115:(e,t,r)=>{const n=r(19674);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},95584:(e,t,r)=>{const n=r(6342);e.exports=(e,t,r)=>n(t,e,r)},21687:(e,t,r)=>{const n=r(37351);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},47936:(e,t,r)=>{const n=r(43613);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},16185:(e,t,r)=>{const n=r(37351);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},35199:(e,t,r)=>{const n=r(19674);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},7679:(e,t,r)=>{const n=r(30448),o=r(12079),s=r(56934),i=r(61813),a=r(19674),c=r(35199),l=r(61632),u=r(40385),p=r(77062),d=r(8328),h=r(96020),f=r(20123),m=r(1115),g=r(6342),E=r(95584),S=r(2877),_=r(37351),y=r(16185),A=r(21687),v=r(75022),T=r(70993),b=r(23303),I=r(16373),R=r(19223),O=r(53554),N=r(52621),C=r(50960),L=r(13754),w=r(43613),P=r(47936),M=r(92029),x=r(25346),k=r(93720),D=r(12739),V=r(24052),U=r(59057),G=r(87913),$=r(9584),B=r(72682),F=r(99327),j=r(57358);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},12079:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},50874:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},61813:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},89108:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},26773:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},30448:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(12079),i=r(50874),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},87913:(e,t,r)=>{const n=r(59057);e.exports=(e,t,r)=>n(e,t,">",r)},72682:(e,t,r)=>{const n=r(43613);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},9584:(e,t,r)=>{const n=r(59057);e.exports=(e,t,r)=>n(e,t,"<",r)},25346:(e,t,r)=>{const n=r(56934),o=r(43613);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},93720:(e,t,r)=>{const n=r(56934),o=r(43613);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},12739:(e,t,r)=>{const n=r(56934),o=r(43613),s=r(75022);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},59057:(e,t,r)=>{const n=r(56934),o=r(13754),{ANY:s}=o,i=r(43613),a=r(47936),c=r(75022),l=r(70993),u=r(53554),p=r(19223);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},99327:(e,t,r)=>{const n=r(47936),o=r(6342);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},57358:(e,t,r)=>{const n=r(43613),o=r(13754),{ANY:s}=o,i=r(47936),a=r(6342),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},92029:(e,t,r)=>{const n=r(43613);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},24052:(e,t,r)=>{const n=r(43613);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},54365:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).HAPI_TYPE="hapi.type",r.PLUGIN_NAME="hapi.plugin.name",r.EXT_TYPE="server.ext.type"},87496:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(92158),t),o(r(54365),t)},92158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HapiInstrumentation=void 0;const n=r(74681),o=r(98035),s=r(25907),i=r(980),a=r(25987),c=r(71281);class l extends s.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){return new s.InstrumentationNodeModuleDefinition(a.HapiComponentName,[">=17.0.0 <22"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return(0,s.isWrapped)(t.server)||this._wrap(t,"server",this._getServerPatch.bind(this)),(0,s.isWrapped)(t.Server)||this._wrap(t,"Server",this._getServerPatch.bind(this)),t}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;this._massUnwrap([t],["server","Server"])}))}_getServerPatch(e){const t=this,r=this;return function(n){const o=e.apply(this,[n]);return r._wrap(o,"route",(e=>t._getServerRoutePatch.bind(t)(e))),r._wrap(o,"ext",(e=>t._getServerExtPatch.bind(t)(e))),r._wrap(o,"register",t._getServerRegisterPatch.bind(t)),o}}_getServerRegisterPatch(e){const t=this;return function(r,n){if(Array.isArray(r))for(const e of r){const r=(0,c.getPluginFromInput)(e);t._wrapRegisterHandler(r)}else{const e=(0,c.getPluginFromInput)(r);t._wrapRegisterHandler(e)}return e.apply(this,[r,n])}}_getServerExtPatch(e,t){const r=this;return function(...n){if(Array.isArray(n[0])){const o=n[0];for(let e=0;e<o.length;e++){const n=o[e];if((0,c.isLifecycleExtType)(n.type)){const s=n,i=r._wrapExtMethods(s.method,n.type,t);s.method=i,o[e]=s}}return e.apply(this,n)}if((0,c.isDirectExtInput)(n)){const o=n,s=o[1],i=r._wrapExtMethods(s,o[0],t);return e.apply(this,[o[0],i,o[2]])}if((0,c.isLifecycleExtEventObj)(n[0])){const o=n[0],s=r._wrapExtMethods(o.method,o.type,t);return o.method=s,e.call(this,o)}return e.apply(this,n)}}_getServerRoutePatch(e,t){const r=this;return function(n){if(Array.isArray(n))for(let e=0;e<n.length;e++){const o=r._wrapRouteHandler.call(r,n[e],t);n[e]=o}else n=r._wrapRouteHandler.call(r,n,t);return e.apply(this,[n])}}_wrapRegisterHandler(e){const t=this,r=(0,c.getPluginName)(e),n=e.register,o=this;e.register=function(e,s){return o._wrap(e,"route",(e=>t._getServerRoutePatch.bind(t)(e,r))),o._wrap(e,"ext",(e=>t._getServerExtPatch.bind(t)(e,r))),n(e,s)}}_wrapExtMethods(e,t,r){const o=this;if(e instanceof Array){for(let r=0;r<e.length;r++)e[r]=o._wrapExtMethods(e[r],t);return e}return(0,c.isPatchableExtMethod)(e)?!0===e[a.handlerPatched]?e:(e[a.handlerPatched]=!0,async function(...s){if(void 0===n.trace.getSpan(n.context.active()))return await e.apply(this,s);const i=(0,c.getExtMetadata)(t,r),a=o.tracer.startSpan(i.name,{attributes:i.attributes});try{return await n.context.with(n.trace.setSpan(n.context.active(),a),e,void 0,...s)}catch(e){throw a.recordException(e),a.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}),e}finally{a.end()}}):e}_wrapRouteHandler(e,t){var r;const s=this;if(!0===e[a.handlerPatched])return e;e[a.handlerPatched]=!0;const i=r=>async function(...i){if(void 0===n.trace.getSpan(n.context.active()))return await r.call(this,...i);const a=(0,o.getRPCMetadata)(n.context.active());(null==a?void 0:a.type)===o.RPCType.HTTP&&(a.route=e.path);const l=(0,c.getRouteMetadata)(e,t),u=s.tracer.startSpan(l.name,{attributes:l.attributes});try{return await n.context.with(n.trace.setSpan(n.context.active(),u),(()=>r.call(this,...i)))}catch(e){throw u.recordException(e),u.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}),e}finally{u.end()}};if("function"==typeof e.handler)e.handler=i(e.handler);else if("function"==typeof e.options){const t=e.options;e.options=function(e){const r=t(e);return"function"==typeof r.handler&&(r.handler=i(r.handler)),r}}else"function"==typeof(null===(r=e.options)||void 0===r?void 0:r.handler)&&(e.options.handler=i(e.options.handler));return e}}t.HapiInstrumentation=l},25987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HapiLifecycleMethodNames=t.HapiLayerType=t.handlerPatched=t.HapiComponentName=void 0,t.HapiComponentName="@hapi/hapi",t.handlerPatched=Symbol("hapi-handler-patched"),t.HapiLayerType={ROUTER:"router",PLUGIN:"plugin",EXT:"server.ext"},t.HapiLifecycleMethodNames=new Set(["onPreAuth","onCredentials","onPostAuth","onPreHandler","onPostHandler","onPreResponse","onRequest"])},71281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginFromInput=t.getExtMetadata=t.getRouteMetadata=t.isPatchableExtMethod=t.isDirectExtInput=t.isLifecycleExtEventObj=t.isLifecycleExtType=t.getPluginName=void 0;const n=r(51002),o=r(25987),s=r(54365);t.getPluginName=function(e){return e.name?e.name:e.pkg.name},t.isLifecycleExtType=e=>"string"==typeof e&&o.HapiLifecycleMethodNames.has(e),t.isLifecycleExtEventObj=e=>{var r;const n=null===(r=e)||void 0===r?void 0:r.type;return void 0!==n&&(0,t.isLifecycleExtType)(n)},t.isDirectExtInput=e=>Array.isArray(e)&&e.length<=3&&(0,t.isLifecycleExtType)(e[0])&&"function"==typeof e[1],t.isPatchableExtMethod=e=>!Array.isArray(e),t.getRouteMetadata=(e,t)=>t?{attributes:{[n.SEMATTRS_HTTP_ROUTE]:e.path,[n.SEMATTRS_HTTP_METHOD]:e.method,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.PLUGIN,[s.AttributeNames.PLUGIN_NAME]:t},name:`${t}: route - ${e.path}`}:{attributes:{[n.SEMATTRS_HTTP_ROUTE]:e.path,[n.SEMATTRS_HTTP_METHOD]:e.method,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.ROUTER},name:`route - ${e.path}`},t.getExtMetadata=(e,t)=>t?{attributes:{[s.AttributeNames.EXT_TYPE]:e,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.EXT,[s.AttributeNames.PLUGIN_NAME]:t},name:`${t}: ext - ${e}`}:{attributes:{[s.AttributeNames.EXT_TYPE]:e,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.EXT},name:`ext - ${e}`},t.getPluginFromInput=e=>"plugin"in e?"plugin"in e.plugin?e.plugin.plugin:e.plugin:e},980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-hapi"},79693:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).HTTP_ERROR_NAME="http.error_name",r.HTTP_ERROR_MESSAGE="http.error_message",r.HTTP_STATUS_TEXT="http.status_text"},3614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpInstrumentation=void 0;const n=r(74681),o=r(88956),s=r(63794),i=r(87016),a=r(36737),c=r(26308),l=r(25907),u=r(88956),p=r(24434),d=r(92845);class h extends l.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-http",c.VERSION,e),this._spanNotEnded=new WeakSet,this._headerCapture=this._createHeaderCapture()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:n.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:n.ValueType.DOUBLE})}setConfig(e={}){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new l.InstrumentationNodeModuleDefinition("http",["*"],(e=>{if(!this.getConfig().disableOutgoingRequestInstrumentation){const t=this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http"));this._wrap(e,"get",this._getPatchOutgoingGetFunction(t))}return this.getConfig().disableIncomingRequestInstrumentation||this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e}),(e=>{void 0!==e&&(this.getConfig().disableOutgoingRequestInstrumentation||(this._unwrap(e,"request"),this._unwrap(e,"get")),this.getConfig().disableIncomingRequestInstrumentation||this._unwrap(e.Server.prototype,"emit"))}))}_getHttpsInstrumentation(){return new l.InstrumentationNodeModuleDefinition("https",["*"],(e=>{if(!this.getConfig().disableOutgoingRequestInstrumentation){const t=this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https"));this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(t))}return this.getConfig().disableIncomingRequestInstrumentation||this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e}),(e=>{void 0!==e&&(this.getConfig().disableOutgoingRequestInstrumentation||(this._unwrap(e,"request"),this._unwrap(e,"get")),this.getConfig().disableIncomingRequestInstrumentation||this._unwrap(e.Server.prototype,"emit"))}))}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(t,...r){const n=e(t,...r);return n.end(),n}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{const r=this;return function(n,...o){var s;return"https"===e&&"object"==typeof n&&"URL"!==(null===(s=null==n?void 0:n.constructor)||void 0===s?void 0:s.name)&&(n=Object.assign({},n),r._setDefaultOptions(n)),r._getPatchOutgoingRequestFunction(e)(t)(n,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{const r=this;return function(n,...o){return r._getPatchOutgoingGetFunction(e)(t)(n,...o)}}}_traceClientRequest(e,t,r,o){this.getConfig().requestHook&&this._callRequestHook(t,e);let i=!1;return e.prependListener("response",(c=>{this._diag.debug("outgoingRequest on response()"),e.listenerCount("response")<=1&&c.resume();const u=a.getOutgoingRequestAttributesOnResponse(c);t.setAttributes(u),o=Object.assign(o,a.getOutgoingRequestMetricAttributesOnResponse(u)),this.getConfig().responseHook&&this._callResponseHook(t,c),this._headerCapture.client.captureRequestHeaders(t,(t=>e.getHeader(t))),this._headerCapture.client.captureResponseHeaders(t,(e=>c.headers[e])),n.context.bind(n.context.active(),c);const d=()=>{if(this._diag.debug("outgoingRequest on end()"),i)return;let s;i=!0,s=c.aborted&&!c.complete?{code:n.SpanStatusCode.ERROR}:{code:a.parseResponseStatus(n.SpanKind.CLIENT,c.statusCode)},t.setStatus(s),this.getConfig().applyCustomAttributesOnSpan&&(0,l.safeExecuteInTheMiddle)((()=>this.getConfig().applyCustomAttributesOnSpan(t,e,c)),(()=>{}),!0),this._closeHttpSpan(t,n.SpanKind.CLIENT,r,o)};c.on("end",d),s.lt(process.version,"16.0.0")&&c.on("close",d),c.on(p.errorMonitor,(e=>{this._diag.debug("outgoingRequest on error()",e),i||(i=!0,a.setSpanWithError(t,e),t.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}),this._closeHttpSpan(t,n.SpanKind.CLIENT,r,o))}))})),e.on("close",(()=>{this._diag.debug("outgoingRequest on request close()"),e.aborted||i||(i=!0,this._closeHttpSpan(t,n.SpanKind.CLIENT,r,o))})),e.on(p.errorMonitor,(e=>{this._diag.debug("outgoingRequest on request error()",e),i||(i=!0,a.setSpanWithError(t,e),this._closeHttpSpan(t,n.SpanKind.CLIENT,r,o))})),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){const r=this;return function(s,...c){if("request"!==s)return t.apply(this,[s,...c]);const d=c[0],h=c[1],f=d.url&&i.parse(d.url).pathname||"/",m=d.method||"GET";if(r._diag.debug(`${e} instrumentation incomingRequest`),a.isIgnored(f,r.getConfig().ignoreIncomingPaths,(e=>r._diag.error("caught ignoreIncomingPaths error: ",e)))||(0,l.safeExecuteInTheMiddle)((()=>{var e,t;return null===(t=(e=r.getConfig()).ignoreIncomingRequestHook)||void 0===t?void 0:t.call(e,d)}),(e=>{null!=e&&r._diag.error("caught ignoreIncomingRequestHook error: ",e)}),!0))return n.context.with((0,o.suppressTracing)(n.context.active()),(()=>(n.context.bind(n.context.active(),d),n.context.bind(n.context.active(),h),t.apply(this,[s,...c]))));const g=d.headers,E=a.getIncomingRequestAttributes(d,{component:e,serverName:r.getConfig().serverName,hookAttributes:r._callStartSpanHook(d,r.getConfig().startIncomingSpanHook)}),S={kind:n.SpanKind.SERVER,attributes:E},_=(0,o.hrTime)(),y=a.getIncomingRequestMetricAttributes(E),A=n.propagation.extract(n.ROOT_CONTEXT,g),v=r._startHttpSpan(m,S,A),T={type:u.RPCType.HTTP,span:v};return n.context.with((0,u.setRPCMetadata)(n.trace.setSpan(A,v),T),(()=>{n.context.bind(n.context.active(),d),n.context.bind(n.context.active(),h),r.getConfig().requestHook&&r._callRequestHook(v,d),r.getConfig().responseHook&&r._callResponseHook(v,h),r._headerCapture.server.captureRequestHeaders(v,(e=>d.headers[e]));let e=!1;return h.on("close",(()=>{e||r._onServerResponseFinish(d,h,v,y,_)})),h.on(p.errorMonitor,(t=>{e=!0,r._onServerResponseError(v,y,_,t)})),(0,l.safeExecuteInTheMiddle)((()=>t.apply(this,[s,...c])),(e=>{if(e)throw a.setSpanWithError(v,e),r._closeHttpSpan(v,n.SpanKind.SERVER,_,y),e}))}))}}_outgoingRequestFunction(e,t){const r=this;return function(c,...u){if(!a.isValidOptionsType(c))return t.apply(this,[c,...u]);const p="object"==typeof u[0]&&("string"==typeof c||c instanceof i.URL)?u.shift():void 0,{origin:d,pathname:h,method:f,optionsParsed:m}=a.getRequestInfo(c,p);if("http"===e&&s.lt(process.version,"9.0.0")&&"https:"===m.protocol)return t.apply(this,[m,...u]);if(a.isIgnored(d+h,r.getConfig().ignoreOutgoingUrls,(e=>r._diag.error("caught ignoreOutgoingUrls error: ",e)))||(0,l.safeExecuteInTheMiddle)((()=>{var e,t;return null===(t=(e=r.getConfig()).ignoreOutgoingRequestHook)||void 0===t?void 0:t.call(e,m)}),(e=>{null!=e&&r._diag.error("caught ignoreOutgoingRequestHook error: ",e)}),!0))return t.apply(this,[m,...u]);const{hostname:g,port:E}=a.extractHostnameAndPort(m),S=a.getOutgoingRequestAttributes(m,{component:e,port:E,hostname:g,hookAttributes:r._callStartSpanHook(m,r.getConfig().startOutgoingSpanHook)}),_=(0,o.hrTime)(),y=a.getOutgoingRequestMetricAttributes(S),A={kind:n.SpanKind.CLIENT,attributes:S},v=r._startHttpSpan(f,A),T=n.context.active(),b=n.trace.setSpan(T,v);return m.headers?m.headers=Object.assign({},m.headers):m.headers={},n.propagation.inject(b,m.headers),n.context.with(b,(()=>{const o=u[u.length-1];"function"==typeof o&&(u[u.length-1]=n.context.bind(T,o));const s=(0,l.safeExecuteInTheMiddle)((()=>t.apply(this,[m,...u])),(e=>{if(e)throw a.setSpanWithError(v,e),r._closeHttpSpan(v,n.SpanKind.CLIENT,_,y),e}));return r._diag.debug(`${e} instrumentation outgoingRequest`),n.context.bind(T,s),r._traceClientRequest(s,v,_,y)}))}}_onServerResponseFinish(e,t,r,o,s){const i=a.getIncomingRequestAttributesOnResponse(e,t);o=Object.assign(o,a.getIncomingRequestMetricAttributesOnResponse(i)),this._headerCapture.server.captureResponseHeaders(r,(e=>t.getHeader(e))),r.setAttributes(i).setStatus({code:a.parseResponseStatus(n.SpanKind.SERVER,t.statusCode)});const c=i[d.SEMATTRS_HTTP_ROUTE];c&&r.updateName(`${e.method||"GET"} ${c}`),this.getConfig().applyCustomAttributesOnSpan&&(0,l.safeExecuteInTheMiddle)((()=>this.getConfig().applyCustomAttributesOnSpan(r,e,t)),(()=>{}),!0),this._closeHttpSpan(r,n.SpanKind.SERVER,s,o)}_onServerResponseError(e,t,r,o){a.setSpanWithError(e,o),this._closeHttpSpan(e,n.SpanKind.SERVER,r,t)}_startHttpSpan(e,t,r=n.context.active()){const o=t.kind===n.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans;let s;const i=n.trace.getSpan(r);return s=!0===o&&void 0===i?n.trace.wrapSpanContext(n.INVALID_SPAN_CONTEXT):!0===o&&(null==i?void 0:i.spanContext().isRemote)?i:this.tracer.startSpan(e,t,r),this._spanNotEnded.add(s),s}_closeHttpSpan(e,t,r,s){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);const i=(0,o.hrTimeToMilliseconds)((0,o.hrTimeDuration)(r,(0,o.hrTime)()));t===n.SpanKind.SERVER?this._httpServerDurationHistogram.record(i,s):t===n.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(i,s)}_callResponseHook(e,t){(0,l.safeExecuteInTheMiddle)((()=>this.getConfig().responseHook(e,t)),(()=>{}),!0)}_callRequestHook(e,t){(0,l.safeExecuteInTheMiddle)((()=>this.getConfig().requestHook(e,t)),(()=>{}),!0)}_callStartSpanHook(e,t){if("function"==typeof t)return(0,l.safeExecuteInTheMiddle)((()=>t(e)),(()=>{}),!0)}_createHeaderCapture(){var e,t,r,n,o,s,i,c,l,u,p,d;const h=this.getConfig();return{client:{captureRequestHeaders:a.headerCapture("request",null!==(r=null===(t=null===(e=h.headersToSpanAttributes)||void 0===e?void 0:e.client)||void 0===t?void 0:t.requestHeaders)&&void 0!==r?r:[]),captureResponseHeaders:a.headerCapture("response",null!==(s=null===(o=null===(n=h.headersToSpanAttributes)||void 0===n?void 0:n.client)||void 0===o?void 0:o.responseHeaders)&&void 0!==s?s:[])},server:{captureRequestHeaders:a.headerCapture("request",null!==(l=null===(c=null===(i=h.headersToSpanAttributes)||void 0===i?void 0:i.server)||void 0===c?void 0:c.requestHeaders)&&void 0!==l?l:[]),captureResponseHeaders:a.headerCapture("response",null!==(d=null===(p=null===(u=h.headersToSpanAttributes)||void 0===u?void 0:u.server)||void 0===p?void 0:p.responseHeaders)&&void 0!==d?d:[])}}}}t.HttpInstrumentation=h},86520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSpanWithError=t.setResponseContentLengthAttribute=t.setRequestContentLengthAttribute=t.setAttributesFromHttpKind=t.satisfiesPattern=t.parseResponseStatus=t.isValidOptionsType=t.isIgnored=t.isCompressed=t.headerCapture=t.getRequestInfo=t.getOutgoingRequestMetricAttributesOnResponse=t.getOutgoingRequestMetricAttributes=t.getOutgoingRequestAttributesOnResponse=t.getOutgoingRequestAttributes=t.getIncomingRequestMetricAttributesOnResponse=t.getIncomingRequestMetricAttributes=t.getIncomingRequestAttributesOnResponse=t.getIncomingRequestAttributes=t.getAbsoluteUrl=t.extractHostnameAndPort=t.HttpInstrumentation=void 0;var n=r(3614);Object.defineProperty(t,"HttpInstrumentation",{enumerable:!0,get:function(){return n.HttpInstrumentation}});var o=r(36737);Object.defineProperty(t,"extractHostnameAndPort",{enumerable:!0,get:function(){return o.extractHostnameAndPort}}),Object.defineProperty(t,"getAbsoluteUrl",{enumerable:!0,get:function(){return o.getAbsoluteUrl}}),Object.defineProperty(t,"getIncomingRequestAttributes",{enumerable:!0,get:function(){return o.getIncomingRequestAttributes}}),Object.defineProperty(t,"getIncomingRequestAttributesOnResponse",{enumerable:!0,get:function(){return o.getIncomingRequestAttributesOnResponse}}),Object.defineProperty(t,"getIncomingRequestMetricAttributes",{enumerable:!0,get:function(){return o.getIncomingRequestMetricAttributes}}),Object.defineProperty(t,"getIncomingRequestMetricAttributesOnResponse",{enumerable:!0,get:function(){return o.getIncomingRequestMetricAttributesOnResponse}}),Object.defineProperty(t,"getOutgoingRequestAttributes",{enumerable:!0,get:function(){return o.getOutgoingRequestAttributes}}),Object.defineProperty(t,"getOutgoingRequestAttributesOnResponse",{enumerable:!0,get:function(){return o.getOutgoingRequestAttributesOnResponse}}),Object.defineProperty(t,"getOutgoingRequestMetricAttributes",{enumerable:!0,get:function(){return o.getOutgoingRequestMetricAttributes}}),Object.defineProperty(t,"getOutgoingRequestMetricAttributesOnResponse",{enumerable:!0,get:function(){return o.getOutgoingRequestMetricAttributesOnResponse}}),Object.defineProperty(t,"getRequestInfo",{enumerable:!0,get:function(){return o.getRequestInfo}}),Object.defineProperty(t,"headerCapture",{enumerable:!0,get:function(){return o.headerCapture}}),Object.defineProperty(t,"isCompressed",{enumerable:!0,get:function(){return o.isCompressed}}),Object.defineProperty(t,"isIgnored",{enumerable:!0,get:function(){return o.isIgnored}}),Object.defineProperty(t,"isValidOptionsType",{enumerable:!0,get:function(){return o.isValidOptionsType}}),Object.defineProperty(t,"parseResponseStatus",{enumerable:!0,get:function(){return o.parseResponseStatus}}),Object.defineProperty(t,"satisfiesPattern",{enumerable:!0,get:function(){return o.satisfiesPattern}}),Object.defineProperty(t,"setAttributesFromHttpKind",{enumerable:!0,get:function(){return o.setAttributesFromHttpKind}}),Object.defineProperty(t,"setRequestContentLengthAttribute",{enumerable:!0,get:function(){return o.setRequestContentLengthAttribute}}),Object.defineProperty(t,"setResponseContentLengthAttribute",{enumerable:!0,get:function(){return o.setResponseContentLengthAttribute}}),Object.defineProperty(t,"setSpanWithError",{enumerable:!0,get:function(){return o.setSpanWithError}})},36737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCapture=t.getIncomingRequestMetricAttributesOnResponse=t.getIncomingRequestAttributesOnResponse=t.getIncomingRequestMetricAttributes=t.getIncomingRequestAttributes=t.getOutgoingRequestMetricAttributesOnResponse=t.getOutgoingRequestAttributesOnResponse=t.setAttributesFromHttpKind=t.getOutgoingRequestMetricAttributes=t.getOutgoingRequestAttributes=t.extractHostnameAndPort=t.isValidOptionsType=t.getRequestInfo=t.isCompressed=t.setResponseContentLengthAttribute=t.setRequestContentLengthAttribute=t.setSpanWithError=t.isIgnored=t.satisfiesPattern=t.parseResponseStatus=t.getAbsoluteUrl=void 0;const n=r(74681),o=r(92845),s=r(88956),i=r(87016),a=r(79693);function c(e){const t=e["content-length"];if(void 0===t)return null;const r=parseInt(t,10);return isNaN(r)?null:r}t.getAbsoluteUrl=(e,t,r="http:")=>{const n=e||{},o=n.protocol||r,s=(n.port||"").toString(),i=n.path||"/";let a=n.host||n.hostname||t.host||"localhost";return-1===a.indexOf(":")&&s&&"80"!==s&&"443"!==s&&(a+=`:${s}`),`${o}//${a}${i}`},t.parseResponseStatus=(e,t)=>{const r=e===n.SpanKind.CLIENT?400:500;return t&&t>=100&&t<r?n.SpanStatusCode.UNSET:n.SpanStatusCode.ERROR},t.satisfiesPattern=(e,t)=>{if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);throw new TypeError("Pattern is in unsupported datatype")},t.isIgnored=(e,r,n)=>{if(!r)return!1;try{for(const n of r)if((0,t.satisfiesPattern)(e,n))return!0}catch(e){n&&n(e)}return!1},t.setSpanWithError=(e,t)=>{const r=t.message;e.setAttribute(a.AttributeNames.HTTP_ERROR_NAME,t.name),e.setAttribute(a.AttributeNames.HTTP_ERROR_MESSAGE,r),e.setStatus({code:n.SpanStatusCode.ERROR,message:r}),e.recordException(t)},t.setRequestContentLengthAttribute=(e,r)=>{const n=c(e.headers);null!==n&&((0,t.isCompressed)(e.headers)?r[o.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH]=n:r[o.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=n)},t.setResponseContentLengthAttribute=(e,r)=>{const n=c(e.headers);null!==n&&((0,t.isCompressed)(e.headers)?r[o.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH]=n:r[o.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=n)},t.isCompressed=e=>{const t=e["content-encoding"];return!!t&&"identity"!==t},t.getRequestInfo=(e,t)=>{let r,n="/",o="";if("string"==typeof e)r=i.parse(e),n=r.pathname||"/",o=`${r.protocol||"http:"}//${r.host}`,void 0!==t&&Object.assign(r,t);else if(e instanceof i.URL)r={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,path:`${e.pathname||""}${e.search||""}`},""!==e.port&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${e.username}:${e.password}`),n=e.pathname,o=e.origin,void 0!==t&&Object.assign(r,t);else{r=Object.assign({protocol:e.host?"http:":void 0},e),n=e.pathname,!n&&r.path&&(n=i.parse(r.path).pathname||"/");const t=r.host||(null!=r.port?`${r.hostname}${r.port}`:r.hostname);o=`${r.protocol||"http:"}//${t}`}return{origin:o,pathname:n,method:r.method?r.method.toUpperCase():"GET",optionsParsed:r}},t.isValidOptionsType=e=>{if(!e)return!1;const t=typeof e;return"string"===t||"object"===t&&!Array.isArray(e)},t.extractHostnameAndPort=e=>{var t;if(e.hostname&&e.port)return{hostname:e.hostname,port:e.port};const r=(null===(t=e.host)||void 0===t?void 0:t.match(/^([^:/ ]+)(:\d{1,5})?/))||null,n=e.hostname||(null===r?"localhost":r[1]);let o=e.port;return o||(o=r&&r[2]?r[2].substring(1):"https:"===e.protocol?"443":"80"),{hostname:n,port:o}},t.getOutgoingRequestAttributes=(e,r)=>{var n;const s=r.hostname,i=r.port,a=e.method,c=a?a.toUpperCase():"GET",l=e.headers||{},u=l["user-agent"],p={[o.SEMATTRS_HTTP_URL]:(0,t.getAbsoluteUrl)(e,l,`${r.component}:`),[o.SEMATTRS_HTTP_METHOD]:c,[o.SEMATTRS_HTTP_TARGET]:e.path||"/",[o.SEMATTRS_NET_PEER_NAME]:s,[o.SEMATTRS_HTTP_HOST]:null!==(n=l.host)&&void 0!==n?n:`${s}:${i}`};return void 0!==u&&(p[o.SEMATTRS_HTTP_USER_AGENT]=u),Object.assign(p,r.hookAttributes)},t.getOutgoingRequestMetricAttributes=e=>{const t={};return t[o.SEMATTRS_HTTP_METHOD]=e[o.SEMATTRS_HTTP_METHOD],t[o.SEMATTRS_NET_PEER_NAME]=e[o.SEMATTRS_NET_PEER_NAME],t},t.setAttributesFromHttpKind=(e,t)=>{e&&(t[o.SEMATTRS_HTTP_FLAVOR]=e,"QUIC"!==e.toUpperCase()?t[o.SEMATTRS_NET_TRANSPORT]=o.NETTRANSPORTVALUES_IP_TCP:t[o.SEMATTRS_NET_TRANSPORT]=o.NETTRANSPORTVALUES_IP_UDP)},t.getOutgoingRequestAttributesOnResponse=e=>{const{statusCode:r,statusMessage:n,httpVersion:s,socket:i}=e,c={};if(i){const{remoteAddress:e,remotePort:t}=i;c[o.SEMATTRS_NET_PEER_IP]=e,c[o.SEMATTRS_NET_PEER_PORT]=t}return(0,t.setResponseContentLengthAttribute)(e,c),r&&(c[o.SEMATTRS_HTTP_STATUS_CODE]=r,c[a.AttributeNames.HTTP_STATUS_TEXT]=(n||"").toUpperCase()),(0,t.setAttributesFromHttpKind)(s,c),c},t.getOutgoingRequestMetricAttributesOnResponse=e=>{const t={};return t[o.SEMATTRS_NET_PEER_PORT]=e[o.SEMATTRS_NET_PEER_PORT],t[o.SEMATTRS_HTTP_STATUS_CODE]=e[o.SEMATTRS_HTTP_STATUS_CODE],t[o.SEMATTRS_HTTP_FLAVOR]=e[o.SEMATTRS_HTTP_FLAVOR],t},t.getIncomingRequestAttributes=(e,r)=>{const n=e.headers,s=n["user-agent"],a=n["x-forwarded-for"],c=e.method||"GET",l=e.httpVersion,u=e.url?i.parse(e.url):null,p=(null==u?void 0:u.host)||n.host,d=(null==u?void 0:u.hostname)||(null==p?void 0:p.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",h=r.serverName,f={[o.SEMATTRS_HTTP_URL]:(0,t.getAbsoluteUrl)(u,n,`${r.component}:`),[o.SEMATTRS_HTTP_HOST]:p,[o.SEMATTRS_NET_HOST_NAME]:d,[o.SEMATTRS_HTTP_METHOD]:c,[o.SEMATTRS_HTTP_SCHEME]:r.component};return"string"==typeof a&&(f[o.SEMATTRS_HTTP_CLIENT_IP]=a.split(",")[0]),"string"==typeof h&&(f[o.SEMATTRS_HTTP_SERVER_NAME]=h),u&&(f[o.SEMATTRS_HTTP_TARGET]=u.path||"/"),void 0!==s&&(f[o.SEMATTRS_HTTP_USER_AGENT]=s),(0,t.setRequestContentLengthAttribute)(e,f),(0,t.setAttributesFromHttpKind)(l,f),Object.assign(f,r.hookAttributes)},t.getIncomingRequestMetricAttributes=e=>{const t={};return t[o.SEMATTRS_HTTP_SCHEME]=e[o.SEMATTRS_HTTP_SCHEME],t[o.SEMATTRS_HTTP_METHOD]=e[o.SEMATTRS_HTTP_METHOD],t[o.SEMATTRS_NET_HOST_NAME]=e[o.SEMATTRS_NET_HOST_NAME],t[o.SEMATTRS_HTTP_FLAVOR]=e[o.SEMATTRS_HTTP_FLAVOR],t},t.getIncomingRequestAttributesOnResponse=(e,t)=>{const{socket:r}=e,{statusCode:i,statusMessage:c}=t,l=(0,s.getRPCMetadata)(n.context.active()),u={};if(r){const{localAddress:e,localPort:t,remoteAddress:n,remotePort:s}=r;u[o.SEMATTRS_NET_HOST_IP]=e,u[o.SEMATTRS_NET_HOST_PORT]=t,u[o.SEMATTRS_NET_PEER_IP]=n,u[o.SEMATTRS_NET_PEER_PORT]=s}return u[o.SEMATTRS_HTTP_STATUS_CODE]=i,u[a.AttributeNames.HTTP_STATUS_TEXT]=(c||"").toUpperCase(),(null==l?void 0:l.type)===s.RPCType.HTTP&&void 0!==l.route&&(u[o.SEMATTRS_HTTP_ROUTE]=l.route),u},t.getIncomingRequestMetricAttributesOnResponse=e=>{const t={};return t[o.SEMATTRS_HTTP_STATUS_CODE]=e[o.SEMATTRS_HTTP_STATUS_CODE],t[o.SEMATTRS_NET_HOST_PORT]=e[o.SEMATTRS_NET_HOST_PORT],void 0!==e[o.SEMATTRS_HTTP_ROUTE]&&(t[o.SEMATTRS_HTTP_ROUTE]=e[o.SEMATTRS_HTTP_ROUTE]),t},t.headerCapture=function(e,t){const r=new Map;for(let e=0,n=t.length;e<n;e++){const n=t[e].toLowerCase();r.set(n,n.replace(/-/g,"_"))}return(t,n)=>{for(const o of r.keys()){const s=n(o);if(void 0===s)continue;const i=r.get(o),a=`http.${e}.header.${i}`;"string"==typeof s?t.setAttribute(a,[s]):Array.isArray(s)?t.setAttribute(a,s):t.setAttribute(a,[s])}}}},26308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.53.0"},88956:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>Ye,AlwaysOnSampler:()=>Ke,AnchoredClock:()=>g,BindOnceFuture:()=>Rt,CompositePropagator:()=>Ie,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>pe,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>ue,DEFAULT_ENVIRONMENT:()=>fe,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>de,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>he,ExportResultCode:()=>N,ParentBasedSampler:()=>Ze,RPCType:()=>Ue,RandomIdGenerator:()=>Y,SDK_INFO:()=>ee,TRACE_PARENT_HEADER:()=>xe,TRACE_STATE_HEADER:()=>ke,TimeoutError:()=>_t,TraceIdRatioBasedSampler:()=>ze,TraceState:()=>Me,TracesSamplerValues:()=>J,VERSION:()=>Q,W3CBaggagePropagator:()=>m,W3CTraceContextPropagator:()=>Ge,_globalThis:()=>te,addHrTimes:()=>H,baggageUtils:()=>Nt,callWithTimeout:()=>yt,deleteRPCMetadata:()=>Fe,getEnv:()=>Ae,getEnvWithoutDefaults:()=>ve,getRPCMetadata:()=>je,getTimeOrigin:()=>x,globalErrorHandler:()=>O,hexToBase64:()=>Te,hexToBinary:()=>X,hrTime:()=>k,hrTimeDuration:()=>V,hrTimeToMicroseconds:()=>B,hrTimeToMilliseconds:()=>$,hrTimeToNanoseconds:()=>G,hrTimeToTimeStamp:()=>U,internal:()=>Ct,isAttributeKey:()=>A,isAttributeValue:()=>v,isTimeInput:()=>j,isTimeInputHrTime:()=>F,isTracingSuppressed:()=>c,isUrlIgnored:()=>Tt,isWrapped:()=>bt,loggingErrorHandler:()=>b,merge:()=>lt,millisToHrTime:()=>M,otperformance:()=>C,parseEnvironment:()=>ye,parseTraceParent:()=>Ve,sanitizeAttributes:()=>y,setGlobalErrorHandler:()=>R,setRPCMetadata:()=>Be,suppressTracing:()=>i,timeInputToHrTime:()=>D,unrefTimer:()=>be,unsuppressTracing:()=>a,urlMatches:()=>vt});var n=r(49348),o=r(38729),s=(0,o.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function i(e){return e.setValue(s,!0)}function a(e){return e.deleteValue(s)}function c(e){return!0===e.getValue(s)}var l=",",u="baggage",p=r(11616);function d(e){return e.reduce((function(e,t){var r=""+e+(""!==e?l:"")+t;return r.length>8192?e:r}),"")}function h(e){return e.getAllEntries().map((function(e){var t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(e,2),r=t[0],n=t[1],o=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(o+=";"+n.metadata.toString()),o}))}function f(e){var t=e.split(";");if(!(t.length<=0)){var r=t.shift();if(r){var n=r.indexOf("=");if(!(n<=0)){var o,s=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim());return t.length>0&&(o=(0,p.B)(t.join(";"))),{key:s,value:i,metadata:o}}}}}var m=function(){function e(){}return e.prototype.inject=function(e,t,r){var o=n.$.getBaggage(e);if(o&&!c(e)){var s=d(h(o).filter((function(e){return e.length<=4096})).slice(0,180));s.length>0&&r.set(t,u,s)}},e.prototype.extract=function(e,t,r){var o=r.get(t,u),s=Array.isArray(o)?o.join(l):o;if(!s)return e;var i={};return 0===s.length?e:(s.split(l).forEach((function(e){var t=f(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),i[t.key]=r}})),0===Object.entries(i).length?e:n.$.setBaggage(e,n.$.createBaggage(i)))},e.prototype.fields=function(){return[u]},e}(),g=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}(),E=r(78758),S=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function y(e){var t,r,n={};if("object"!=typeof e||null==e)return n;try{for(var o=S(Object.entries(e)),s=o.next();!s.done;s=o.next()){var i=_(s.value,2),a=i[0],c=i[1];A(a)?v(c)?Array.isArray(c)?n[a]=c.slice():n[a]=c:E.s.warn("Invalid attribute value set for key: "+a):E.s.warn("Invalid attribute key: "+a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function A(e){return"string"==typeof e&&e.length>0}function v(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var o=S(e),s=o.next();!s.done;s=o.next()){var i=s.value;if(null!=i){if(!n){if(T(i)){n=typeof i;continue}return!1}if(typeof i!==n)return!1}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0}(e):T(e))}function T(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function b(){return function(e){E.s.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},r=e;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}var I=b();function R(e){I=e}function O(e){try{I(e)}catch(e){}}var N,C=r(82987).performance,L=9,w=Math.pow(10,6),P=Math.pow(10,L);function M(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*w)]}function x(){var e=C.timeOrigin;if("number"!=typeof e){var t=C;e=t.timing&&t.timing.fetchStart}return e}function k(e){return H(M(x()),M("number"==typeof e?e:C.now()))}function D(e){if(F(e))return e;if("number"==typeof e)return e<x()?k(e):M(e);if(e instanceof Date)return M(e.getTime());throw TypeError("Invalid input type")}function V(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=P),[r,n]}function U(e){var t=L,r=""+"0".repeat(t)+e[1]+"Z",n=r.substr(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function G(e){return e[0]*P+e[1]}function $(e){return 1e3*e[0]+e[1]/1e6}function B(e){return 1e6*e[0]+e[1]/1e3}function F(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function j(e){return F(e)||"number"==typeof e||e instanceof Date}function H(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=P&&(r[1]-=P,r[0]+=1),r}function W(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function X(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var o=W(e.charCodeAt(n)),s=W(e.charCodeAt(n+1));t[r++]=o<<4|s}return t}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(N||(N={}));var Y=function(){this.generateTraceId=Z(16),this.generateSpanId=Z(8)},K=Buffer.allocUnsafe(16);function Z(e){return function(){for(var t=0;t<e/4;t++)K.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(K[t]>0);t++)t===e-1&&(K[e-1]=1);return K.toString("hex",0,e)}}var z,J,Q="1.26.0",q=r(43896),ee=((z={})[q.$L]="opentelemetry",z[q.lb]="node",z[q.Pl]=q.wE,z[q.y$]=Q,z),te="object"==typeof globalThis?globalThis:global,re=r(76733);!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(J||(J={}));var ne=",",oe=["OTEL_SDK_DISABLED"];function se(e){return oe.indexOf(e)>-1}var ie=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function ae(e){return ie.indexOf(e)>-1}var ce=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function le(e){return ce.indexOf(e)>-1}var ue=1/0,pe=128,de=128,he=128,fe={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:re.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue,OTEL_ATTRIBUTE_COUNT_LIMIT:pe,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:pe,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:pe,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:de,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:he,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:J.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function me(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function ge(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var s=Number(r[e]);isNaN(s)||(t[e]=s<n?n:s>o?o:s)}}function Ee(e,t,r,n){void 0===n&&(n=ne);var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var Se={ALL:re.u.ALL,VERBOSE:re.u.VERBOSE,DEBUG:re.u.DEBUG,INFO:re.u.INFO,WARN:re.u.WARN,ERROR:re.u.ERROR,NONE:re.u.NONE};function _e(e,t,r){var n=r[e];if("string"==typeof n){var o=Se[n.toUpperCase()];null!=o&&(t[e]=o)}}function ye(e){var t={};for(var r in fe){var n=r;if("OTEL_LOG_LEVEL"===n)_e(n,t,e);else if(se(n))me(n,t,e);else if(ae(n))ge(n,t,e);else if(le(n))Ee(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}function Ae(){var e=ye(process.env);return Object.assign({},fe,e)}function ve(){return ye(process.env)}function Te(e){return Buffer.from(X(e)).toString("base64")}function be(e){e.unref()}var Ie=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var n,o;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._propagators),i=s.next();!i.done;i=s.next()){var a=i.value;try{a.inject(e,t,r)}catch(e){E.s.warn("Failed to inject with "+a.constructor.name+". Err: "+e.message)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,n){try{return n.extract(e,t,r)}catch(e){E.s.warn("Failed to inject with "+n.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}(),Re=r(6664),Oe=r(67823),Ne=r(47397),Ce="[_0-9a-z-*/]",Le=new RegExp("^(?:[a-z]"+Ce+"{0,255}|[a-z0-9]"+Ce+"{0,240}@[a-z]"+Ce+"{0,13})$"),we=/^[ -~]{0,255}[!-~]$/,Pe=/,|=/,Me=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),s=r.slice(n+1,t.length);(function(e){return Le.test(e)})(o)&&function(e){return we.test(e)&&!Pe.test(e)}(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),xe="traceparent",ke="tracestate",De=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function Ve(e){var t=De.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var Ue,Ge=function(){function e(){}return e.prototype.inject=function(e,t,r){var n=Re.u.getSpanContext(e);if(n&&!c(e)&&(0,Oe.YA)(n)){var o="00-"+n.traceId+"-"+n.spanId+"-0"+Number(n.traceFlags||Ne.X.NONE).toString(16);r.set(t,xe,o),n.traceState&&r.set(t,ke,n.traceState.serialize())}},e.prototype.extract=function(e,t,r){var n=r.get(t,xe);if(!n)return e;var o=Array.isArray(n)?n[0]:n;if("string"!=typeof o)return e;var s=Ve(o);if(!s)return e;s.isRemote=!0;var i=r.get(t,ke);if(i){var a=Array.isArray(i)?i.join(","):i;s.traceState=new Me("string"==typeof a?a:void 0)}return Re.u.setSpanContext(e,s)},e.prototype.fields=function(){return[xe,ke]},e}(),$e=(0,o.n)("OpenTelemetry SDK Context Key RPC_METADATA");function Be(e,t){return e.setValue($e,t)}function Fe(e){return e.deleteValue($e)}function je(e){return e.getValue($e)}!function(e){e.HTTP="http"}(Ue||(Ue={}));var He,We,Xe=r(72674),Ye=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Xe.i.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Ke=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Xe.i.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Ze=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||(O(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Ke),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new Ke,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new Ye,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new Ke,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new Ye}return e.prototype.shouldSample=function(e,t,r,n,o,s){var i=Re.u.getSpanContext(e);return i&&(0,Oe.YA)(i)?i.isRemote?i.traceFlags&Ne.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,s):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,s):i.traceFlags&Ne.X.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,s):this._localParentNotSampled.shouldSample(e,t,r,n,o,s):this._root.shouldSample(e,t,r,n,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),ze=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,Oe.hX)(t)&&this._accumulate(t)<this._upperBound?Xe.i.RECORD_AND_SAMPLED:Xe.i.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}(),Je="[object Object]",Qe="[object Null]",qe="[object Undefined]",et=Function.prototype.toString,tt=et.call(Object),rt=(He=Object.getPrototypeOf,We=Object,function(e){return He(We(e))}),nt=Object.prototype,ot=nt.hasOwnProperty,st=Symbol?Symbol.toStringTag:void 0,it=nt.toString;function at(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){return null==e?void 0===e?qe:Qe:st&&st in Object(e)?function(e){var t=ot.call(e,st),r=e[st],n=!1;try{e[st]=void 0,n=!0}catch(e){}var o=it.call(e);return n&&(t?e[st]=r:delete e[st]),o}(e):function(e){return it.call(e)}(e)}(e)!==Je)return!1;var t=rt(e);if(null===t)return!0;var r=ot.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&et.call(r)===tt}var ct=20;function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=pt(r,e.shift(),0,n);return r}function ut(e){return ht(e)?e.slice():e}function pt(e,t,r,n){var o;if(void 0===r&&(r=0),!(r>ct)){if(r++,gt(e)||gt(t)||ft(t))o=ut(t);else if(ht(e)){if(o=e.slice(),ht(t))for(var s=0,i=t.length;s<i;s++)o.push(ut(t[s]));else if(mt(t))for(s=0,i=(a=Object.keys(t)).length;s<i;s++)o[c=a[s]]=ut(t[c])}else if(mt(e))if(mt(t)){if(!function(e,t){return!(!at(e)||!at(t))}(e,t))return t;var a;for(o=Object.assign({},e),s=0,i=(a=Object.keys(t)).length;s<i;s++){var c,l=t[c=a[s]];if(gt(l))void 0===l?delete o[c]:o[c]=l;else{var u=o[c],p=l;if(dt(e,c,n)||dt(t,c,n))delete o[c];else{if(mt(u)&&mt(p)){var d=n.get(u)||[],h=n.get(p)||[];d.push({obj:e,key:c}),h.push({obj:t,key:c}),n.set(u,d),n.set(p,h)}o[c]=pt(o[c],l,r,n)}}}}else o=t;return o}}function dt(e,t,r){for(var n=r.get(e[t])||[],o=0,s=n.length;o<s;o++){var i=n[o];if(i.key===t&&i.obj===e)return!0}return!1}function ht(e){return Array.isArray(e)}function ft(e){return"function"==typeof e}function mt(e){return!gt(e)&&!ht(e)&&!ft(e)&&"object"==typeof e}function gt(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}var Et,St=(Et=function(e,t){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Et(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Et(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_t=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return St(t,e),t}(Error);function yt(e,t){var r,n=new Promise((function(e,n){r=setTimeout((function(){n(new _t("Operation timed out."))}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))}var At=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function vt(e,t){return"string"==typeof t?e===t:!!e.match(t)}function Tt(e,t){var r,n;if(!t)return!1;try{for(var o=At(t),s=o.next();!s.done;s=o.next())if(vt(e,s.value))return!0}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}function bt(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var It=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),Rt=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new It}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([this._that],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}(),Ot=r(41844),Nt={getKeyPairs:h,serializeKeyPairs:d,parseKeyPairsIntoRecord:function(e){return"string"!=typeof e||0===e.length?{}:e.split(l).map((function(e){return f(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})},parsePairKeyValue:f},Ct={_export:function(e,t){return new Promise((function(r){Ot._.with(i(Ot._.active()),(function(){e.export(t,(function(e){r(e)}))}))}))}}},92845:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>Fc,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>jc,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>Hc,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>Wc,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>Ac,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>vc,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>Tc,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>bc,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>zc,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>Jc,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>Bc,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>$c,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>Xc,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>yc,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>Yc,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>Kc,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>Zc,ATTR_CLIENT_ADDRESS:()=>Qc,ATTR_CLIENT_PORT:()=>qc,ATTR_ERROR_TYPE:()=>el,ATTR_EXCEPTION_ESCAPED:()=>rl,ATTR_EXCEPTION_MESSAGE:()=>nl,ATTR_EXCEPTION_STACKTRACE:()=>ol,ATTR_EXCEPTION_TYPE:()=>sl,ATTR_HTTP_REQUEST_HEADER:()=>il,ATTR_HTTP_REQUEST_METHOD:()=>al,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>Sl,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>_l,ATTR_HTTP_RESPONSE_HEADER:()=>yl,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>Al,ATTR_HTTP_ROUTE:()=>vl,ATTR_JVM_GC_ACTION:()=>Tl,ATTR_JVM_GC_NAME:()=>bl,ATTR_JVM_MEMORY_POOL_NAME:()=>Il,ATTR_JVM_MEMORY_TYPE:()=>Rl,ATTR_JVM_THREAD_DAEMON:()=>Cl,ATTR_JVM_THREAD_STATE:()=>Ll,ATTR_NETWORK_LOCAL_ADDRESS:()=>Vl,ATTR_NETWORK_LOCAL_PORT:()=>Ul,ATTR_NETWORK_PEER_ADDRESS:()=>Gl,ATTR_NETWORK_PEER_PORT:()=>$l,ATTR_NETWORK_PROTOCOL_NAME:()=>Bl,ATTR_NETWORK_PROTOCOL_VERSION:()=>Fl,ATTR_NETWORK_TRANSPORT:()=>jl,ATTR_NETWORK_TYPE:()=>Zl,ATTR_OTEL_SCOPE_NAME:()=>Ql,ATTR_OTEL_SCOPE_VERSION:()=>ql,ATTR_OTEL_STATUS_CODE:()=>eu,ATTR_OTEL_STATUS_DESCRIPTION:()=>nu,ATTR_SERVER_ADDRESS:()=>ou,ATTR_SERVER_PORT:()=>su,ATTR_SERVICE_NAME:()=>iu,ATTR_SERVICE_VERSION:()=>au,ATTR_SIGNALR_CONNECTION_STATUS:()=>cu,ATTR_SIGNALR_TRANSPORT:()=>du,ATTR_TELEMETRY_SDK_LANGUAGE:()=>Ic,ATTR_TELEMETRY_SDK_NAME:()=>Uc,ATTR_TELEMETRY_SDK_VERSION:()=>Gc,ATTR_URL_FRAGMENT:()=>gu,ATTR_URL_FULL:()=>Eu,ATTR_URL_PATH:()=>Su,ATTR_URL_QUERY:()=>_u,ATTR_URL_SCHEME:()=>yu,ATTR_USER_AGENT_ORIGINAL:()=>Au,AWSECSLAUNCHTYPEVALUES_EC2:()=>_c.Jn,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>_c.Fz,AwsEcsLaunchtypeValues:()=>_c.AS,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>_c.WE,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>_c.op,CLOUDPLATFORMVALUES_AWS_EC2:()=>_c.WC,CLOUDPLATFORMVALUES_AWS_ECS:()=>_c.p7,CLOUDPLATFORMVALUES_AWS_EKS:()=>_c.Vx,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>_c.Vf,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>_c.JO,CLOUDPLATFORMVALUES_AZURE_AKS:()=>_c.Vm,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>_c.L6,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>_c.oH,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>_c.$R,CLOUDPLATFORMVALUES_AZURE_VM:()=>_c.zF,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>_c.$T,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>_c.a1,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>_c.qB,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>_c.Tg,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>_c.qN,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>_c.Eh,CLOUDPROVIDERVALUES_AWS:()=>_c.Xm,CLOUDPROVIDERVALUES_AZURE:()=>_c.BY,CLOUDPROVIDERVALUES_GCP:()=>_c.ov,CloudPlatformValues:()=>_c.ns,CloudProviderValues:()=>_c.jV,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>Us,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>Xs,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>Gs,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>Ws,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>Bs,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>Ks,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>Fs,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>$s,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>Ys,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>Hs,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>js,DBSYSTEMVALUES_ADABAS:()=>es,DBSYSTEMVALUES_CACHE:()=>qo,DBSYSTEMVALUES_CASSANDRA:()=>Es,DBSYSTEMVALUES_CLOUDSCAPE:()=>Wo,DBSYSTEMVALUES_COCKROACHDB:()=>Cs,DBSYSTEMVALUES_COLDFUSION:()=>gs,DBSYSTEMVALUES_COSMOSDB:()=>Ts,DBSYSTEMVALUES_COUCHBASE:()=>As,DBSYSTEMVALUES_COUCHDB:()=>vs,DBSYSTEMVALUES_DB2:()=>Bo,DBSYSTEMVALUES_DERBY:()=>rs,DBSYSTEMVALUES_DYNAMODB:()=>bs,DBSYSTEMVALUES_EDB:()=>Qo,DBSYSTEMVALUES_ELASTICSEARCH:()=>Os,DBSYSTEMVALUES_FILEMAKER:()=>ns,DBSYSTEMVALUES_FIREBIRD:()=>ts,DBSYSTEMVALUES_FIRSTSQL:()=>Jo,DBSYSTEMVALUES_GEODE:()=>Rs,DBSYSTEMVALUES_H2:()=>ms,DBSYSTEMVALUES_HANADB:()=>Zo,DBSYSTEMVALUES_HBASE:()=>Ss,DBSYSTEMVALUES_HIVE:()=>Ho,DBSYSTEMVALUES_HSQLDB:()=>Xo,DBSYSTEMVALUES_INFORMIX:()=>os,DBSYSTEMVALUES_INGRES:()=>zo,DBSYSTEMVALUES_INSTANTDB:()=>ss,DBSYSTEMVALUES_INTERBASE:()=>is,DBSYSTEMVALUES_MARIADB:()=>as,DBSYSTEMVALUES_MAXDB:()=>Ko,DBSYSTEMVALUES_MEMCACHED:()=>Ns,DBSYSTEMVALUES_MONGODB:()=>_s,DBSYSTEMVALUES_MSSQL:()=>Uo,DBSYSTEMVALUES_MYSQL:()=>Go,DBSYSTEMVALUES_NEO4J:()=>Is,DBSYSTEMVALUES_NETEZZA:()=>cs,DBSYSTEMVALUES_ORACLE:()=>$o,DBSYSTEMVALUES_OTHER_SQL:()=>Vo,DBSYSTEMVALUES_PERVASIVE:()=>ls,DBSYSTEMVALUES_POINTBASE:()=>us,DBSYSTEMVALUES_POSTGRESQL:()=>Fo,DBSYSTEMVALUES_PROGRESS:()=>Yo,DBSYSTEMVALUES_REDIS:()=>ys,DBSYSTEMVALUES_REDSHIFT:()=>jo,DBSYSTEMVALUES_SQLITE:()=>ps,DBSYSTEMVALUES_SYBASE:()=>ds,DBSYSTEMVALUES_TERADATA:()=>hs,DBSYSTEMVALUES_VERTICA:()=>fs,DbCassandraConsistencyLevelValues:()=>Zs,DbSystemValues:()=>Ls,ERROR_TYPE_VALUE_OTHER:()=>tl,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>di,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>pi,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>ui,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>gi,FAASINVOKEDPROVIDERVALUES_AWS:()=>Ei,FAASINVOKEDPROVIDERVALUES_AZURE:()=>Si,FAASINVOKEDPROVIDERVALUES_GCP:()=>_i,FAASTRIGGERVALUES_DATASOURCE:()=>ti,FAASTRIGGERVALUES_HTTP:()=>ri,FAASTRIGGERVALUES_OTHER:()=>si,FAASTRIGGERVALUES_PUBSUB:()=>ni,FAASTRIGGERVALUES_TIMER:()=>oi,FaasDocumentOperationValues:()=>hi,FaasInvokedProviderValues:()=>yi,FaasTriggerValues:()=>ii,HOSTARCHVALUES_AMD64:()=>_c.so,HOSTARCHVALUES_ARM32:()=>_c.hi,HOSTARCHVALUES_ARM64:()=>_c.UQ,HOSTARCHVALUES_IA64:()=>_c.av,HOSTARCHVALUES_PPC32:()=>_c.OZ,HOSTARCHVALUES_PPC64:()=>_c.DL,HOSTARCHVALUES_X86:()=>_c.ig,HTTPFLAVORVALUES_HTTP_1_0:()=>xa,HTTPFLAVORVALUES_HTTP_1_1:()=>ka,HTTPFLAVORVALUES_HTTP_2_0:()=>Da,HTTPFLAVORVALUES_QUIC:()=>Ua,HTTPFLAVORVALUES_SPDY:()=>Va,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>ll,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>ul,HTTP_REQUEST_METHOD_VALUE_GET:()=>pl,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>dl,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>hl,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>cl,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>fl,HTTP_REQUEST_METHOD_VALUE_POST:()=>ml,HTTP_REQUEST_METHOD_VALUE_PUT:()=>gl,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>El,HostArchValues:()=>_c.Cg,HttpFlavorValues:()=>Ga,JVM_MEMORY_TYPE_VALUE_HEAP:()=>Ol,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>Nl,JVM_THREAD_STATE_VALUE_BLOCKED:()=>wl,JVM_THREAD_STATE_VALUE_NEW:()=>Pl,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>Ml,JVM_THREAD_STATE_VALUE_TERMINATED:()=>xl,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>kl,JVM_THREAD_STATE_VALUE_WAITING:()=>Dl,MESSAGETYPEVALUES_RECEIVED:()=>Ec,MESSAGETYPEVALUES_SENT:()=>gc,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>Fa,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>ja,MESSAGINGOPERATIONVALUES_PROCESS:()=>Ka,MESSAGINGOPERATIONVALUES_RECEIVE:()=>Ya,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>vu,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>Tu,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>bu,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>Ou,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>Ru,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>Iu,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>Nu,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>Cu,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>Lu,METRIC_JVM_CLASS_COUNT:()=>wu,METRIC_JVM_CLASS_LOADED:()=>Pu,METRIC_JVM_CLASS_UNLOADED:()=>Mu,METRIC_JVM_CPU_COUNT:()=>xu,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>ku,METRIC_JVM_CPU_TIME:()=>Du,METRIC_JVM_GC_DURATION:()=>Vu,METRIC_JVM_MEMORY_COMMITTED:()=>Uu,METRIC_JVM_MEMORY_LIMIT:()=>Gu,METRIC_JVM_MEMORY_USED:()=>$u,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>Bu,METRIC_JVM_THREAD_COUNT:()=>Fu,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>ju,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>Hu,METRIC_KESTREL_CONNECTION_DURATION:()=>Wu,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>Xu,METRIC_KESTREL_QUEUED_REQUESTS:()=>Yu,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>Ku,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>Zu,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>zu,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>Ju,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>Qu,MessageTypeValues:()=>Sc,MessagingDestinationKindValues:()=>Ha,MessagingOperationValues:()=>Za,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>ha,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>ga,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>pa,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>Ta,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>fa,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>ma,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>Aa,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>ua,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>Ia,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>Ea,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>_a,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>ba,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>Sa,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>ya,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>Oa,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>va,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>La,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>Na,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>Ca,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>Ra,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>da,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>Fi,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>ji,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>Hi,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>$i,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>Bi,NETTRANSPORTVALUES_INPROC:()=>Pi,NETTRANSPORTVALUES_IP:()=>Ci,NETTRANSPORTVALUES_IP_TCP:()=>Oi,NETTRANSPORTVALUES_IP_UDP:()=>Ni,NETTRANSPORTVALUES_OTHER:()=>Mi,NETTRANSPORTVALUES_PIPE:()=>wi,NETTRANSPORTVALUES_UNIX:()=>Li,NETWORK_TRANSPORT_VALUE_PIPE:()=>Hl,NETWORK_TRANSPORT_VALUE_QUIC:()=>Wl,NETWORK_TRANSPORT_VALUE_TCP:()=>Xl,NETWORK_TRANSPORT_VALUE_UDP:()=>Yl,NETWORK_TRANSPORT_VALUE_UNIX:()=>Kl,NETWORK_TYPE_VALUE_IPV4:()=>zl,NETWORK_TYPE_VALUE_IPV6:()=>Jl,NetHostConnectionSubtypeValues:()=>wa,NetHostConnectionTypeValues:()=>Wi,NetTransportValues:()=>xi,OSTYPEVALUES_AIX:()=>_c.cJ,OSTYPEVALUES_DARWIN:()=>_c.JW,OSTYPEVALUES_DRAGONFLYBSD:()=>_c.tD,OSTYPEVALUES_FREEBSD:()=>_c.xG,OSTYPEVALUES_HPUX:()=>_c.BT,OSTYPEVALUES_LINUX:()=>_c.Yh,OSTYPEVALUES_NETBSD:()=>_c.sS,OSTYPEVALUES_OPENBSD:()=>_c.h7,OSTYPEVALUES_SOLARIS:()=>_c.l9,OSTYPEVALUES_WINDOWS:()=>_c.xR,OSTYPEVALUES_Z_OS:()=>_c.Pi,OTEL_STATUS_CODE_VALUE_ERROR:()=>tu,OTEL_STATUS_CODE_VALUE_OK:()=>ru,OsTypeValues:()=>_c.h0,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>ic,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>rc,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>Ja,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>pc,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>ec,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>sc,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>lc,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>qa,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>tc,RPCGRPCSTATUSCODEVALUES_OK:()=>za,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>ac,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>nc,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>oc,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>dc,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>uc,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>cc,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>Qa,RpcGrpcStatusCodeValues:()=>hc,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>qr,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>dn,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>zr,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>Xr,SEMATTRS_AWS_DYNAMODB_COUNT:()=>un,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>on,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>rn,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>hn,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>en,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>Yr,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>Qr,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>nn,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>Jr,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>Kr,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>Zr,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>pn,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>an,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cn,SEMATTRS_AWS_DYNAMODB_SELECT:()=>tn,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>sn,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>Wr,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>ln,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>bt,SEMATTRS_CODE_FILEPATH:()=>Nr,SEMATTRS_CODE_FUNCTION:()=>Rr,SEMATTRS_CODE_LINENO:()=>Cr,SEMATTRS_CODE_NAMESPACE:()=>Or,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>kt,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>$t,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>Gt,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>Vt,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>Mt,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>xt,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>Ut,SEMATTRS_DB_CASSANDRA_TABLE:()=>Dt,SEMATTRS_DB_CONNECTION_STRING:()=>Rt,SEMATTRS_DB_HBASE_NAMESPACE:()=>Bt,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>Nt,SEMATTRS_DB_MONGODB_COLLECTION:()=>jt,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>Pt,SEMATTRS_DB_NAME:()=>Ct,SEMATTRS_DB_OPERATION:()=>wt,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>Ft,SEMATTRS_DB_SQL_TABLE:()=>Ht,SEMATTRS_DB_STATEMENT:()=>Lt,SEMATTRS_DB_SYSTEM:()=>It,SEMATTRS_DB_USER:()=>Ot,SEMATTRS_ENDUSER_ID:()=>Ar,SEMATTRS_ENDUSER_ROLE:()=>vr,SEMATTRS_ENDUSER_SCOPE:()=>Tr,SEMATTRS_EXCEPTION_ESCAPED:()=>Kt,SEMATTRS_EXCEPTION_MESSAGE:()=>Xt,SEMATTRS_EXCEPTION_STACKTRACE:()=>Yt,SEMATTRS_EXCEPTION_TYPE:()=>Wt,SEMATTRS_FAAS_COLDSTART:()=>nr,SEMATTRS_FAAS_CRON:()=>rr,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>Jt,SEMATTRS_FAAS_DOCUMENT_NAME:()=>er,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>Qt,SEMATTRS_FAAS_DOCUMENT_TIME:()=>qt,SEMATTRS_FAAS_EXECUTION:()=>zt,SEMATTRS_FAAS_INVOKED_NAME:()=>or,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>sr,SEMATTRS_FAAS_INVOKED_REGION:()=>ir,SEMATTRS_FAAS_TIME:()=>tr,SEMATTRS_FAAS_TRIGGER:()=>Zt,SEMATTRS_HTTP_CLIENT_IP:()=>Hr,SEMATTRS_HTTP_FLAVOR:()=>Dr,SEMATTRS_HTTP_HOST:()=>Mr,SEMATTRS_HTTP_METHOD:()=>Lr,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>Ur,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>Gr,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>$r,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>Br,SEMATTRS_HTTP_ROUTE:()=>jr,SEMATTRS_HTTP_SCHEME:()=>xr,SEMATTRS_HTTP_SERVER_NAME:()=>Fr,SEMATTRS_HTTP_STATUS_CODE:()=>kr,SEMATTRS_HTTP_TARGET:()=>Pr,SEMATTRS_HTTP_URL:()=>wr,SEMATTRS_HTTP_USER_AGENT:()=>Vr,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>jn,SEMATTRS_MESSAGE_ID:()=>Fn,SEMATTRS_MESSAGE_TYPE:()=>Bn,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>Hn,SEMATTRS_MESSAGING_CONSUMER_ID:()=>Rn,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>vn,SEMATTRS_MESSAGING_DESTINATION:()=>mn,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>gn,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>Ln,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>Cn,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>Nn,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>wn,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>Pn,SEMATTRS_MESSAGING_MESSAGE_ID:()=>An,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>bn,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>Tn,SEMATTRS_MESSAGING_OPERATION:()=>In,SEMATTRS_MESSAGING_PROTOCOL:()=>Sn,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>_n,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>On,SEMATTRS_MESSAGING_SYSTEM:()=>fn,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>En,SEMATTRS_MESSAGING_URL:()=>yn,SEMATTRS_NET_HOST_CARRIER_ICC:()=>_r,SEMATTRS_NET_HOST_CARRIER_MCC:()=>Er,SEMATTRS_NET_HOST_CARRIER_MNC:()=>Sr,SEMATTRS_NET_HOST_CARRIER_NAME:()=>gr,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>mr,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>fr,SEMATTRS_NET_HOST_IP:()=>pr,SEMATTRS_NET_HOST_NAME:()=>hr,SEMATTRS_NET_HOST_PORT:()=>dr,SEMATTRS_NET_PEER_IP:()=>cr,SEMATTRS_NET_PEER_NAME:()=>ur,SEMATTRS_NET_PEER_PORT:()=>lr,SEMATTRS_NET_TRANSPORT:()=>ar,SEMATTRS_PEER_SERVICE:()=>yr,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>Dn,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>Gn,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>$n,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>Un,SEMATTRS_RPC_JSONRPC_VERSION:()=>Vn,SEMATTRS_RPC_METHOD:()=>kn,SEMATTRS_RPC_SERVICE:()=>xn,SEMATTRS_RPC_SYSTEM:()=>Mn,SEMATTRS_THREAD_ID:()=>br,SEMATTRS_THREAD_NAME:()=>Ir,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>_c.VH,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>_c.SV,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>_c.SA,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>_c.yB,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>_c.Zf,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>_c.MK,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>_c.v0,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>_c.an,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>_c.qF,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>_c.ZZ,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>_c.Dn,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>_c.E3,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>_c.xC,SEMRESATTRS_CLOUD_PLATFORM:()=>_c.Iq,SEMRESATTRS_CLOUD_PROVIDER:()=>_c.mA,SEMRESATTRS_CLOUD_REGION:()=>_c.Nw,SEMRESATTRS_CONTAINER_ID:()=>_c.ux,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>_c.uB,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>_c.RB,SEMRESATTRS_CONTAINER_NAME:()=>_c.aA,SEMRESATTRS_CONTAINER_RUNTIME:()=>_c.PZ,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>_c.I2,SEMRESATTRS_DEVICE_ID:()=>_c.tn,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>_c.BF,SEMRESATTRS_DEVICE_MODEL_NAME:()=>_c.Bt,SEMRESATTRS_FAAS_ID:()=>_c.Mm,SEMRESATTRS_FAAS_INSTANCE:()=>_c.uu,SEMRESATTRS_FAAS_MAX_MEMORY:()=>_c.PO,SEMRESATTRS_FAAS_NAME:()=>_c.Uf,SEMRESATTRS_FAAS_VERSION:()=>_c.lO,SEMRESATTRS_HOST_ARCH:()=>_c.yT,SEMRESATTRS_HOST_ID:()=>_c.zs,SEMRESATTRS_HOST_IMAGE_ID:()=>_c.HP,SEMRESATTRS_HOST_IMAGE_NAME:()=>_c.be,SEMRESATTRS_HOST_IMAGE_VERSION:()=>_c.g9,SEMRESATTRS_HOST_NAME:()=>_c.RK,SEMRESATTRS_HOST_TYPE:()=>_c.kE,SEMRESATTRS_K8S_CLUSTER_NAME:()=>_c.IG,SEMRESATTRS_K8S_CONTAINER_NAME:()=>_c.Pb,SEMRESATTRS_K8S_CRONJOB_NAME:()=>_c.Vy,SEMRESATTRS_K8S_CRONJOB_UID:()=>_c.gT,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>_c.Su,SEMRESATTRS_K8S_DAEMONSET_UID:()=>_c.rK,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>_c.do,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>_c.k7,SEMRESATTRS_K8S_JOB_NAME:()=>_c.z3,SEMRESATTRS_K8S_JOB_UID:()=>_c.mc,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>_c.Tl,SEMRESATTRS_K8S_NODE_NAME:()=>_c.Ky,SEMRESATTRS_K8S_NODE_UID:()=>_c.pV,SEMRESATTRS_K8S_POD_NAME:()=>_c.TH,SEMRESATTRS_K8S_POD_UID:()=>_c.gJ,SEMRESATTRS_K8S_REPLICASET_NAME:()=>_c.kv,SEMRESATTRS_K8S_REPLICASET_UID:()=>_c.PU,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>_c.kn,SEMRESATTRS_K8S_STATEFULSET_UID:()=>_c.f8,SEMRESATTRS_OS_DESCRIPTION:()=>_c.ik,SEMRESATTRS_OS_NAME:()=>_c.hQ,SEMRESATTRS_OS_TYPE:()=>_c.ko,SEMRESATTRS_OS_VERSION:()=>_c.AC,SEMRESATTRS_PROCESS_COMMAND:()=>_c.Cn,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>_c.U2,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>_c.x2,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>_c.fP,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>_c.xQ,SEMRESATTRS_PROCESS_OWNER:()=>_c.Yb,SEMRESATTRS_PROCESS_PID:()=>_c.ky,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>_c.C3,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>_c.lb,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>_c.cV,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>_c.PL,SEMRESATTRS_SERVICE_NAME:()=>_c.AV,SEMRESATTRS_SERVICE_NAMESPACE:()=>_c.ar,SEMRESATTRS_SERVICE_VERSION:()=>_c.xs,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>_c.nA,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>_c.Pl,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>_c.$L,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>_c.y$,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>_c.U1,SEMRESATTRS_WEBENGINE_NAME:()=>_c.HF,SEMRESATTRS_WEBENGINE_VERSION:()=>_c.WN,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>lu,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>uu,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>pu,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>hu,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>fu,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>mu,SemanticAttributes:()=>Wn,SemanticResourceAttributes:()=>_c._2,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>_c.S5,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>_c.XE,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>_c.o2,TELEMETRYSDKLANGUAGEVALUES_GO:()=>_c.HE,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>_c.du,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>_c.wE,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>_c.tP,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>_c.$c,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>_c.jN,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>_c.uh,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>Rc,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>Oc,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>Nc,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>Cc,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>Lc,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>wc,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>Pc,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>Mc,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>xc,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>kc,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>Dc,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>Vc,TelemetrySdkLanguageValues:()=>_c.wP});var n=r(6577),o="aws.lambda.invoked_arn",s="db.system",i="db.connection_string",a="db.user",c="db.jdbc.driver_classname",l="db.name",u="db.statement",p="db.operation",d="db.mssql.instance_name",h="db.cassandra.keyspace",f="db.cassandra.page_size",m="db.cassandra.consistency_level",g="db.cassandra.table",E="db.cassandra.idempotence",S="db.cassandra.speculative_execution_count",_="db.cassandra.coordinator.id",y="db.cassandra.coordinator.dc",A="db.hbase.namespace",v="db.redis.database_index",T="db.mongodb.collection",b="db.sql.table",I="exception.type",R="exception.message",O="exception.stacktrace",N="exception.escaped",C="faas.trigger",L="faas.execution",w="faas.document.collection",P="faas.document.operation",M="faas.document.time",x="faas.document.name",k="faas.time",D="faas.cron",V="faas.coldstart",U="faas.invoked_name",G="faas.invoked_provider",$="faas.invoked_region",B="net.transport",F="net.peer.ip",j="net.peer.port",H="net.peer.name",W="net.host.ip",X="net.host.port",Y="net.host.name",K="net.host.connection.type",Z="net.host.connection.subtype",z="net.host.carrier.name",J="net.host.carrier.mcc",Q="net.host.carrier.mnc",q="net.host.carrier.icc",ee="peer.service",te="enduser.id",re="enduser.role",ne="enduser.scope",oe="thread.id",se="thread.name",ie="code.function",ae="code.namespace",ce="code.filepath",le="code.lineno",ue="http.method",pe="http.url",de="http.target",he="http.host",fe="http.scheme",me="http.status_code",ge="http.flavor",Ee="http.user_agent",Se="http.request_content_length",_e="http.request_content_length_uncompressed",ye="http.response_content_length",Ae="http.response_content_length_uncompressed",ve="http.server_name",Te="http.route",be="http.client_ip",Ie="aws.dynamodb.table_names",Re="aws.dynamodb.consumed_capacity",Oe="aws.dynamodb.item_collection_metrics",Ne="aws.dynamodb.provisioned_read_capacity",Ce="aws.dynamodb.provisioned_write_capacity",Le="aws.dynamodb.consistent_read",we="aws.dynamodb.projection",Pe="aws.dynamodb.limit",Me="aws.dynamodb.attributes_to_get",xe="aws.dynamodb.index_name",ke="aws.dynamodb.select",De="aws.dynamodb.global_secondary_indexes",Ve="aws.dynamodb.local_secondary_indexes",Ue="aws.dynamodb.exclusive_start_table",Ge="aws.dynamodb.table_count",$e="aws.dynamodb.scan_forward",Be="aws.dynamodb.segment",Fe="aws.dynamodb.total_segments",je="aws.dynamodb.count",He="aws.dynamodb.scanned_count",We="aws.dynamodb.attribute_definitions",Xe="aws.dynamodb.global_secondary_index_updates",Ye="messaging.system",Ke="messaging.destination",Ze="messaging.destination_kind",ze="messaging.temp_destination",Je="messaging.protocol",Qe="messaging.protocol_version",qe="messaging.url",et="messaging.message_id",tt="messaging.conversation_id",rt="messaging.message_payload_size_bytes",nt="messaging.message_payload_compressed_size_bytes",ot="messaging.operation",st="messaging.consumer_id",it="messaging.rabbitmq.routing_key",at="messaging.kafka.message_key",ct="messaging.kafka.consumer_group",lt="messaging.kafka.client_id",ut="messaging.kafka.partition",pt="messaging.kafka.tombstone",dt="rpc.system",ht="rpc.service",ft="rpc.method",mt="rpc.grpc.status_code",gt="rpc.jsonrpc.version",Et="rpc.jsonrpc.request_id",St="rpc.jsonrpc.error_code",_t="rpc.jsonrpc.error_message",yt="message.type",At="message.id",vt="message.compressed_size",Tt="message.uncompressed_size",bt=o,It=s,Rt=i,Ot=a,Nt=c,Ct=l,Lt=u,wt=p,Pt=d,Mt=h,xt=f,kt=m,Dt=g,Vt=E,Ut=S,Gt=_,$t=y,Bt=A,Ft=v,jt=T,Ht=b,Wt=I,Xt=R,Yt=O,Kt=N,Zt=C,zt=L,Jt=w,Qt=P,qt=M,er=x,tr=k,rr=D,nr=V,or=U,sr=G,ir=$,ar=B,cr=F,lr=j,ur=H,pr=W,dr=X,hr=Y,fr=K,mr=Z,gr=z,Er=J,Sr=Q,_r=q,yr=ee,Ar=te,vr=re,Tr=ne,br=oe,Ir=se,Rr=ie,Or=ae,Nr=ce,Cr=le,Lr=ue,wr=pe,Pr=de,Mr=he,xr=fe,kr=me,Dr=ge,Vr=Ee,Ur=Se,Gr=_e,$r=ye,Br=Ae,Fr=ve,jr=Te,Hr=be,Wr=Ie,Xr=Re,Yr=Oe,Kr=Ne,Zr=Ce,zr=Le,Jr=we,Qr=Pe,qr=Me,en=xe,tn=ke,rn=De,nn=Ve,on=Ue,sn=Ge,an=$e,cn=Be,ln=Fe,un=je,pn=He,dn=We,hn=Xe,fn=Ye,mn=Ke,gn=Ze,En=ze,Sn=Je,_n=Qe,yn=qe,An=et,vn=tt,Tn=rt,bn=nt,In=ot,Rn=st,On=it,Nn=at,Cn=ct,Ln=lt,wn=ut,Pn=pt,Mn=dt,xn=ht,kn=ft,Dn=mt,Vn=gt,Un=Et,Gn=St,$n=_t,Bn=yt,Fn=At,jn=vt,Hn=Tt,Wn=(0,n.O)([o,s,i,a,c,l,u,p,d,h,f,m,g,E,S,_,y,A,v,T,b,I,R,O,N,C,L,w,P,M,x,k,D,V,U,G,$,B,F,j,H,W,X,Y,K,Z,z,J,Q,q,ee,te,re,ne,oe,se,ie,ae,ce,le,ue,pe,de,he,fe,me,ge,Ee,Se,_e,ye,Ae,ve,Te,be,Ie,Re,Oe,Ne,Ce,Le,we,Pe,Me,xe,ke,De,Ve,Ue,Ge,$e,Be,Fe,je,He,We,Xe,Ye,Ke,Ze,ze,Je,Qe,qe,et,tt,rt,nt,ot,st,it,at,ct,lt,ut,pt,dt,ht,ft,mt,gt,Et,St,_t,yt,At,vt,Tt]),Xn="other_sql",Yn="mssql",Kn="mysql",Zn="oracle",zn="postgresql",Jn="redshift",Qn="hive",qn="cloudscape",eo="hsqldb",to="progress",ro="maxdb",no="hanadb",oo="ingres",so="firstsql",io="cache",ao="adabas",co="firebird",lo="derby",uo="filemaker",po="informix",ho="instantdb",fo="interbase",mo="mariadb",go="netezza",Eo="pervasive",So="pointbase",_o="sqlite",yo="sybase",Ao="teradata",vo="vertica",To="coldfusion",bo="cassandra",Io="hbase",Ro="mongodb",Oo="redis",No="couchbase",Co="couchdb",Lo="cosmosdb",wo="dynamodb",Po="neo4j",Mo="geode",xo="elasticsearch",ko="memcached",Do="cockroachdb",Vo=Xn,Uo=Yn,Go=Kn,$o=Zn,Bo="db2",Fo=zn,jo=Jn,Ho=Qn,Wo=qn,Xo=eo,Yo=to,Ko=ro,Zo=no,zo=oo,Jo=so,Qo="edb",qo=io,es=ao,ts=co,rs=lo,ns=uo,os=po,ss=ho,is=fo,as=mo,cs=go,ls=Eo,us=So,ps=_o,ds=yo,hs=Ao,fs=vo,ms="h2",gs=To,Es=bo,Ss=Io,_s=Ro,ys=Oo,As=No,vs=Co,Ts=Lo,bs=wo,Is=Po,Rs=Mo,Os=xo,Ns=ko,Cs=Do,Ls=(0,n.O)([Xn,Yn,Kn,Zn,"db2",zn,Jn,Qn,qn,eo,to,ro,no,oo,so,"edb",io,ao,co,lo,uo,po,ho,fo,mo,go,Eo,So,_o,yo,Ao,vo,"h2",To,bo,Io,Ro,Oo,No,Co,Lo,wo,Po,Mo,xo,ko,Do]),ws="each_quorum",Ps="quorum",Ms="local_quorum",xs="three",ks="local_one",Ds="serial",Vs="local_serial",Us="all",Gs=ws,$s=Ps,Bs=Ms,Fs="one",js="two",Hs=xs,Ws=ks,Xs="any",Ys=Ds,Ks=Vs,Zs=(0,n.O)(["all",ws,Ps,Ms,"one","two",xs,ks,"any",Ds,Vs]),zs="datasource",Js="http",Qs="pubsub",qs="timer",ei="other",ti=zs,ri=Js,ni=Qs,oi=qs,si=ei,ii=(0,n.O)([zs,Js,Qs,qs,ei]),ai="insert",ci="edit",li="delete",ui=ai,pi=ci,di=li,hi=(0,n.O)([ai,ci,li]),fi="alibaba_cloud",mi="azure",gi=fi,Ei="aws",Si=mi,_i="gcp",yi=(0,n.O)([fi,"aws",mi,"gcp"]),Ai="ip_tcp",vi="ip_udp",Ti="unix",bi="pipe",Ii="inproc",Ri="other",Oi=Ai,Ni=vi,Ci="ip",Li=Ti,wi=bi,Pi=Ii,Mi=Ri,xi=(0,n.O)([Ai,vi,"ip",Ti,bi,Ii,Ri]),ki="wifi",Di="wired",Vi="cell",Ui="unavailable",Gi="unknown",$i=ki,Bi=Di,Fi=Vi,ji=Ui,Hi=Gi,Wi=(0,n.O)([ki,Di,Vi,Ui,Gi]),Xi="gprs",Yi="edge",Ki="umts",Zi="cdma",zi="evdo_0",Ji="evdo_a",Qi="cdma2000_1xrtt",qi="hsdpa",ea="hsupa",ta="hspa",ra="iden",na="evdo_b",oa="ehrpd",sa="hspap",ia="td_scdma",aa="iwlan",ca="nrnsa",la="lte_ca",ua=Xi,pa=Yi,da=Ki,ha=Zi,fa=zi,ma=Ji,ga=Qi,Ea=qi,Sa=ea,_a=ta,ya=ra,Aa=na,va="lte",Ta=oa,ba=sa,Ia="gsm",Ra=ia,Oa=aa,Na="nr",Ca=ca,La=la,wa=(0,n.O)([Xi,Yi,Ki,Zi,zi,Ji,Qi,qi,ea,ta,ra,na,"lte",oa,sa,"gsm",ia,aa,"nr",ca,la]),Pa="SPDY",Ma="QUIC",xa="1.0",ka="1.1",Da="2.0",Va=Pa,Ua=Ma,Ga={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:Pa,QUIC:Ma},$a="queue",Ba="topic",Fa=$a,ja=Ba,Ha=(0,n.O)([$a,Ba]),Wa="receive",Xa="process",Ya=Wa,Ka=Xa,Za=(0,n.O)([Wa,Xa]),za=0,Ja=1,Qa=2,qa=3,ec=4,tc=5,rc=6,nc=7,oc=8,sc=9,ic=10,ac=11,cc=12,lc=13,uc=14,pc=15,dc=16,hc={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},fc="SENT",mc="RECEIVED",gc=fc,Ec=mc,Sc=(0,n.O)([fc,mc]),_c=r(43896),yc="aspnetcore.rate_limiting.result",Ac="acquired",vc="endpoint_limiter",Tc="global_limiter",bc="request_canceled",Ic="telemetry.sdk.language",Rc="cpp",Oc="dotnet",Nc="erlang",Cc="go",Lc="java",wc="nodejs",Pc="php",Mc="python",xc="ruby",kc="rust",Dc="swift",Vc="webjs",Uc="telemetry.sdk.name",Gc="telemetry.sdk.version",$c="aspnetcore.diagnostics.handler.type",Bc="aspnetcore.diagnostics.exception.result",Fc="aborted",jc="handled",Hc="skipped",Wc="unhandled",Xc="aspnetcore.rate_limiting.policy",Yc="aspnetcore.request.is_unhandled",Kc="aspnetcore.routing.is_fallback",Zc="aspnetcore.routing.match_status",zc="failure",Jc="success",Qc="client.address",qc="client.port",el="error.type",tl="_OTHER",rl="exception.escaped",nl="exception.message",ol="exception.stacktrace",sl="exception.type",il=function(e){return"http.request.header."+e},al="http.request.method",cl="_OTHER",ll="CONNECT",ul="DELETE",pl="GET",dl="HEAD",hl="OPTIONS",fl="PATCH",ml="POST",gl="PUT",El="TRACE",Sl="http.request.method_original",_l="http.request.resend_count",yl=function(e){return"http.response.header."+e},Al="http.response.status_code",vl="http.route",Tl="jvm.gc.action",bl="jvm.gc.name",Il="jvm.memory.pool.name",Rl="jvm.memory.type",Ol="heap",Nl="non_heap",Cl="jvm.thread.daemon",Ll="jvm.thread.state",wl="blocked",Pl="new",Ml="runnable",xl="terminated",kl="timed_waiting",Dl="waiting",Vl="network.local.address",Ul="network.local.port",Gl="network.peer.address",$l="network.peer.port",Bl="network.protocol.name",Fl="network.protocol.version",jl="network.transport",Hl="pipe",Wl="quic",Xl="tcp",Yl="udp",Kl="unix",Zl="network.type",zl="ipv4",Jl="ipv6",Ql="otel.scope.name",ql="otel.scope.version",eu="otel.status_code",tu="ERROR",ru="OK",nu="otel.status_description",ou="server.address",su="server.port",iu="service.name",au="service.version",cu="signalr.connection.status",lu="app_shutdown",uu="normal_closure",pu="timeout",du="signalr.transport",hu="long_polling",fu="server_sent_events",mu="web_sockets",gu="url.fragment",Eu="url.full",Su="url.path",_u="url.query",yu="url.scheme",Au="user_agent.original",vu="aspnetcore.diagnostics.exceptions",Tu="aspnetcore.rate_limiting.active_request_leases",bu="aspnetcore.rate_limiting.queued_requests",Iu="aspnetcore.rate_limiting.request.time_in_queue",Ru="aspnetcore.rate_limiting.request_lease.duration",Ou="aspnetcore.rate_limiting.requests",Nu="aspnetcore.routing.match_attempts",Cu="http.client.request.duration",Lu="http.server.request.duration",wu="jvm.class.count",Pu="jvm.class.loaded",Mu="jvm.class.unloaded",xu="jvm.cpu.count",ku="jvm.cpu.recent_utilization",Du="jvm.cpu.time",Vu="jvm.gc.duration",Uu="jvm.memory.committed",Gu="jvm.memory.limit",$u="jvm.memory.used",Bu="jvm.memory.used_after_last_gc",Fu="jvm.thread.count",ju="kestrel.active_connections",Hu="kestrel.active_tls_handshakes",Wu="kestrel.connection.duration",Xu="kestrel.queued_connections",Yu="kestrel.queued_requests",Ku="kestrel.rejected_connections",Zu="kestrel.tls_handshake.duration",zu="kestrel.upgraded_connections",Ju="signalr.server.active_connections",Qu="signalr.server.connection.duration"},6577:(e,t,r)=>{"use strict";function n(e){for(var t={},r=e.length,n=0;n<r;n++){var o=e[n];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}r.d(t,{O:()=>n})},43896:(e,t,r)=>{"use strict";r.d(t,{$L:()=>Jt,$R:()=>Gr,$T:()=>Wr,$c:()=>Kn,AC:()=>Dt,AS:()=>zr,AV:()=>Yt,BF:()=>et,BT:()=>Cn,BY:()=>lr,Bt:()=>tt,C3:()=>Xt,Cg:()=>pn,Cn:()=>$t,DL:()=>ln,Dn:()=>We,E3:()=>Pe,Eh:()=>ar,Fz:()=>Zr,HE:()=>Hn,HF:()=>tr,HP:()=>dt,I2:()=>Qe,IG:()=>ft,Iq:()=>ke,JO:()=>xr,JW:()=>bn,Jn:()=>Kr,Ky:()=>mt,L6:()=>$r,MK:()=>Be,Mm:()=>nt,Nw:()=>Me,OZ:()=>cn,PL:()=>Zt,PO:()=>it,PU:()=>At,PZ:()=>Ze,Pb:()=>yt,Pi:()=>Pn,Pl:()=>Qt,RB:()=>Je,RK:()=>ct,S5:()=>Bn,SA:()=>Ue,SV:()=>De,Su:()=>Nt,TH:()=>_t,Tg:()=>Br,Tl:()=>Et,U1:()=>nr,U2:()=>Ft,UQ:()=>sn,Uf:()=>rt,VH:()=>Ve,Vf:()=>kr,Vm:()=>Ur,Vx:()=>Mr,Vy:()=>Pt,WC:()=>wr,WE:()=>Cr,WN:()=>rr,XE:()=>Fn,Xm:()=>cr,Yb:()=>jt,Yh:()=>Tn,ZZ:()=>Xe,Zf:()=>$e,_2:()=>or,a1:()=>Hr,aA:()=>Ye,an:()=>He,ar:()=>Kt,av:()=>an,be:()=>pt,cJ:()=>Ln,cV:()=>Wt,do:()=>bt,du:()=>Wn,f8:()=>It,fP:()=>Ut,g9:()=>ht,gJ:()=>St,gT:()=>wt,h0:()=>Mn,h7:()=>On,hQ:()=>kt,hi:()=>on,ig:()=>un,ik:()=>xt,jN:()=>Zn,jV:()=>pr,k7:()=>Tt,kE:()=>lt,kn:()=>Rt,ko:()=>Mt,kv:()=>vt,ky:()=>Vt,l9:()=>wn,lO:()=>ot,lb:()=>Ht,mA:()=>we,mc:()=>Ct,nA:()=>er,ns:()=>Xr,o2:()=>jn,oH:()=>Vr,op:()=>Lr,ov:()=>ur,p7:()=>Pr,pV:()=>gt,qB:()=>Fr,qF:()=>je,qN:()=>jr,rK:()=>Ot,sS:()=>Rn,so:()=>nn,tD:()=>Nn,tP:()=>Yn,tn:()=>qe,uB:()=>ze,uh:()=>zn,uu:()=>st,ux:()=>Ke,v0:()=>Fe,wE:()=>Xn,wP:()=>Jn,x2:()=>Bt,xC:()=>xe,xG:()=>In,xQ:()=>Gt,xR:()=>vn,xs:()=>zt,y$:()=>qt,yB:()=>Ge,yT:()=>ut,z3:()=>Lt,zF:()=>Dr,zs:()=>at});var n=r(6577),o="cloud.provider",s="cloud.account.id",i="cloud.region",a="cloud.availability_zone",c="cloud.platform",l="aws.ecs.container.arn",u="aws.ecs.cluster.arn",p="aws.ecs.launchtype",d="aws.ecs.task.arn",h="aws.ecs.task.family",f="aws.ecs.task.revision",m="aws.eks.cluster.arn",g="aws.log.group.names",E="aws.log.group.arns",S="aws.log.stream.names",_="aws.log.stream.arns",y="container.name",A="container.id",v="container.runtime",T="container.image.name",b="container.image.tag",I="deployment.environment",R="device.id",O="device.model.identifier",N="device.model.name",C="faas.name",L="faas.id",w="faas.version",P="faas.instance",M="faas.max_memory",x="host.id",k="host.name",D="host.type",V="host.arch",U="host.image.name",G="host.image.id",$="host.image.version",B="k8s.cluster.name",F="k8s.node.name",j="k8s.node.uid",H="k8s.namespace.name",W="k8s.pod.uid",X="k8s.pod.name",Y="k8s.container.name",K="k8s.replicaset.uid",Z="k8s.replicaset.name",z="k8s.deployment.uid",J="k8s.deployment.name",Q="k8s.statefulset.uid",q="k8s.statefulset.name",ee="k8s.daemonset.uid",te="k8s.daemonset.name",re="k8s.job.uid",ne="k8s.job.name",oe="k8s.cronjob.uid",se="k8s.cronjob.name",ie="os.type",ae="os.description",ce="os.name",le="os.version",ue="process.pid",pe="process.executable.name",de="process.executable.path",he="process.command",fe="process.command_line",me="process.command_args",ge="process.owner",Ee="process.runtime.name",Se="process.runtime.version",_e="process.runtime.description",ye="service.name",Ae="service.namespace",ve="service.instance.id",Te="service.version",be="telemetry.sdk.name",Ie="telemetry.sdk.language",Re="telemetry.sdk.version",Oe="telemetry.auto.version",Ne="webengine.name",Ce="webengine.version",Le="webengine.description",we=o,Pe=s,Me=i,xe=a,ke=c,De=l,Ve=u,Ue=p,Ge=d,$e=h,Be=f,Fe=m,je=g,He=E,We=S,Xe=_,Ye=y,Ke=A,Ze=v,ze=T,Je=b,Qe=I,qe=R,et=O,tt=N,rt=C,nt=L,ot=w,st=P,it=M,at=x,ct=k,lt=D,ut=V,pt=U,dt=G,ht=$,ft=B,mt=F,gt=j,Et=H,St=W,_t=X,yt=Y,At=K,vt=Z,Tt=z,bt=J,It=Q,Rt=q,Ot=ee,Nt=te,Ct=re,Lt=ne,wt=oe,Pt=se,Mt=ie,xt=ae,kt=ce,Dt=le,Vt=ue,Ut=pe,Gt=de,$t=he,Bt=fe,Ft=me,jt=ge,Ht=Ee,Wt=Se,Xt=_e,Yt=ye,Kt=Ae,Zt=ve,zt=Te,Jt=be,Qt=Ie,qt=Re,er=Oe,tr=Ne,rr=Ce,nr=Le,or=(0,n.O)([o,s,i,a,c,l,u,p,d,h,f,m,g,E,S,_,y,A,v,T,b,I,R,O,N,C,L,w,P,M,x,k,D,V,U,G,$,B,F,j,H,W,X,Y,K,Z,z,J,Q,q,ee,te,re,ne,oe,se,ie,ae,ce,le,ue,pe,de,he,fe,me,ge,Ee,Se,_e,ye,Ae,ve,Te,be,Ie,Re,Oe,Ne,Ce,Le]),sr="alibaba_cloud",ir="azure",ar=sr,cr="aws",lr=ir,ur="gcp",pr=(0,n.O)([sr,"aws",ir,"gcp"]),dr="alibaba_cloud_ecs",hr="alibaba_cloud_fc",fr="aws_ec2",mr="aws_ecs",gr="aws_eks",Er="aws_lambda",Sr="aws_elastic_beanstalk",_r="azure_vm",yr="azure_container_instances",Ar="azure_aks",vr="azure_functions",Tr="azure_app_service",br="gcp_compute_engine",Ir="gcp_cloud_run",Rr="gcp_kubernetes_engine",Or="gcp_cloud_functions",Nr="gcp_app_engine",Cr=dr,Lr=hr,wr=fr,Pr=mr,Mr=gr,xr=Er,kr=Sr,Dr=_r,Vr=yr,Ur=Ar,Gr=vr,$r=Tr,Br=br,Fr=Ir,jr=Rr,Hr=Or,Wr=Nr,Xr=(0,n.O)([dr,hr,fr,mr,gr,Er,Sr,_r,yr,Ar,vr,Tr,br,Ir,Rr,Or,Nr]),Yr="fargate",Kr="ec2",Zr=Yr,zr=(0,n.O)(["ec2",Yr]),Jr="amd64",Qr="arm32",qr="arm64",en="ia64",tn="ppc32",rn="ppc64",nn=Jr,on=Qr,sn=qr,an=en,cn=tn,ln=rn,un="x86",pn=(0,n.O)([Jr,Qr,qr,en,tn,rn,"x86"]),dn="windows",hn="linux",fn="darwin",mn="freebsd",gn="netbsd",En="openbsd",Sn="dragonflybsd",_n="hpux",yn="solaris",An="z_os",vn=dn,Tn=hn,bn=fn,In=mn,Rn=gn,On=En,Nn=Sn,Cn=_n,Ln="aix",wn=yn,Pn=An,Mn=(0,n.O)([dn,hn,fn,mn,gn,En,Sn,_n,"aix",yn,An]),xn="dotnet",kn="erlang",Dn="java",Vn="nodejs",Un="python",Gn="ruby",$n="webjs",Bn="cpp",Fn=xn,jn=kn,Hn="go",Wn=Dn,Xn=Vn,Yn="php",Kn=Un,Zn=Gn,zn=$n,Jn=(0,n.O)(["cpp",xn,kn,"go",Dn,Vn,"php",Un,Gn,$n])},84349:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(15510),{safeRe:i,t:a}=r(56505),c=r(54628),l=r(75233),u=r(77749),p=r(92948)},92948:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(51769)),i=r(15510),a=r(84349),c=r(75233),l=r(77749),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(56505),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(27623),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},77749:(e,t,r)=>{const n=r(75233),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(27623),{safeRe:i,t:a}=r(56505),c=r(15510),{compareIdentifiers:l}=r(22270);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},79273:(e,t,r)=>{const n=r(42547);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},54628:(e,t,r)=>{const n=r(256),o=r(1932),s=r(52049),i=r(80722),a=r(72430),c=r(46391);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},37727:(e,t,r)=>{const n=r(77749),o=r(42547),{safeRe:s,t:i}=r(56505);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},49130:(e,t,r)=>{const n=r(77749);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},68468:(e,t,r)=>{const n=r(86875);e.exports=(e,t)=>n(e,t,!0)},86875:(e,t,r)=>{const n=r(77749);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},54789:(e,t,r)=>{const n=r(42547);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},256:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>0===n(e,t,r)},52049:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>n(e,t,r)>0},80722:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>n(e,t,r)>=0},63812:(e,t,r)=>{const n=r(77749);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},72430:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>n(e,t,r)<0},46391:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>n(e,t,r)<=0},57437:(e,t,r)=>{const n=r(77749);e.exports=(e,t)=>new n(e,t).major},92169:(e,t,r)=>{const n=r(77749);e.exports=(e,t)=>new n(e,t).minor},1932:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>0!==n(e,t,r)},42547:(e,t,r)=>{const n=r(77749);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},83266:(e,t,r)=>{const n=r(77749);e.exports=(e,t)=>new n(e,t).patch},46724:(e,t,r)=>{const n=r(42547);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},67795:(e,t,r)=>{const n=r(86875);e.exports=(e,t,r)=>n(t,e,r)},82402:(e,t,r)=>{const n=r(49130);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},10829:(e,t,r)=>{const n=r(92948);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},65002:(e,t,r)=>{const n=r(49130);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},63018:(e,t,r)=>{const n=r(42547);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},63794:(e,t,r)=>{const n=r(56505),o=r(27623),s=r(77749),i=r(22270),a=r(42547),c=r(63018),l=r(79273),u=r(63812),p=r(54789),d=r(57437),h=r(92169),f=r(83266),m=r(46724),g=r(86875),E=r(67795),S=r(68468),_=r(49130),y=r(65002),A=r(82402),v=r(52049),T=r(72430),b=r(256),I=r(1932),R=r(80722),O=r(46391),N=r(54628),C=r(37727),L=r(84349),w=r(92948),P=r(10829),M=r(69388),x=r(19151),k=r(26573),D=r(1248),V=r(64011),U=r(73014),G=r(65450),$=r(66095),B=r(6095),F=r(18422),j=r(18391);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},27623:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},75233:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},22270:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},51769:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},15510:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},56505:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(27623),i=r(75233),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},65450:(e,t,r)=>{const n=r(73014);e.exports=(e,t,r)=>n(e,t,">",r)},6095:(e,t,r)=>{const n=r(92948);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},66095:(e,t,r)=>{const n=r(73014);e.exports=(e,t,r)=>n(e,t,"<",r)},19151:(e,t,r)=>{const n=r(77749),o=r(92948);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},26573:(e,t,r)=>{const n=r(77749),o=r(92948);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},1248:(e,t,r)=>{const n=r(77749),o=r(92948),s=r(52049);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},73014:(e,t,r)=>{const n=r(77749),o=r(84349),{ANY:s}=o,i=r(92948),a=r(10829),c=r(52049),l=r(72430),u=r(46391),p=r(80722);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},18422:(e,t,r)=>{const n=r(10829),o=r(86875);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},18391:(e,t,r)=>{const n=r(92948),o=r(84349),{ANY:s}=o,i=r(10829),a=r(86875),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},69388:(e,t,r)=>{const n=r(92948);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},64011:(e,t,r)=>{const n=r(92948);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},83251:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(15061),t),o(r(82322),t)},15061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IORedisInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(51002),i=r(25907),a=r(91118),c=r(67238),l=r(555),u={requireParentSpan:!0};class p extends o.InstrumentationBase{constructor(e={}){super(l.PACKAGE_NAME,l.PACKAGE_VERSION,Object.assign(Object.assign({},u),e))}setConfig(e={}){super.setConfig(Object.assign(Object.assign({},u),e))}init(){return[new o.InstrumentationNodeModuleDefinition("ioredis",[">=2.0.0 <6"],((e,t)=>{const r="Module"===e[Symbol.toStringTag]?e.default:e;return(0,o.isWrapped)(r.prototype.sendCommand)&&this._unwrap(r.prototype,"sendCommand"),this._wrap(r.prototype,"sendCommand",this._patchSendCommand(t)),(0,o.isWrapped)(r.prototype.connect)&&this._unwrap(r.prototype,"connect"),this._wrap(r.prototype,"connect",this._patchConnection()),e}),(e=>{if(void 0===e)return;const t="Module"===e[Symbol.toStringTag]?e.default:e;this._unwrap(t.prototype,"sendCommand"),this._unwrap(t.prototype,"connect")}))]}_patchSendCommand(e){return t=>this._traceSendCommand(t,e)}_patchConnection(){return e=>this._traceConnection(e)}_traceSendCommand(e,t){const r=this;return function(o){if(arguments.length<1||"object"!=typeof o)return e.apply(this,arguments);const l=r.getConfig(),u=l.dbStatementSerializer||c.defaultDbStatementSerializer,p=void 0===n.trace.getSpan(n.context.active());if(!0===l.requireParentSpan&&p)return e.apply(this,arguments);const d=r.tracer.startSpan(o.name,{kind:n.SpanKind.CLIENT,attributes:{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_REDIS,[s.SEMATTRS_DB_STATEMENT]:u(o.name,o.args)}}),{requestHook:h}=l;h&&(0,i.safeExecuteInTheMiddle)((()=>h(d,{moduleVersion:t,cmdName:o.name,cmdArgs:o.args})),(e=>{e&&n.diag.error("ioredis instrumentation: request hook failed",e)}),!0);const{host:f,port:m}=this.options;d.setAttributes({[s.SEMATTRS_NET_PEER_NAME]:f,[s.SEMATTRS_NET_PEER_PORT]:m,[s.SEMATTRS_DB_CONNECTION_STRING]:`redis://${f}:${m}`});try{const t=e.apply(this,arguments),r=o.resolve;o.resolve=function(e){(0,i.safeExecuteInTheMiddle)((()=>{var t;return null===(t=l.responseHook)||void 0===t?void 0:t.call(l,d,o.name,o.args,e)}),(e=>{e&&n.diag.error("ioredis instrumentation: response hook failed",e)}),!0),(0,a.endSpan)(d,null),r(e)};const s=o.reject;return o.reject=function(e){(0,a.endSpan)(d,e),s(e)},t}catch(e){throw(0,a.endSpan)(d,e),e}}}_traceConnection(e){const t=this;return function(){const r=void 0===n.trace.getSpan(n.context.active());if(!0===t.getConfig().requireParentSpan&&r)return e.apply(this,arguments);const o=t.tracer.startSpan("connect",{kind:n.SpanKind.CLIENT,attributes:{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_REDIS,[s.SEMATTRS_DB_STATEMENT]:"connect"}}),{host:i,port:c}=this.options;o.setAttributes({[s.SEMATTRS_NET_PEER_NAME]:i,[s.SEMATTRS_NET_PEER_PORT]:c,[s.SEMATTRS_DB_CONNECTION_STRING]:`redis://${i}:${c}`});try{const t=e.apply(this,arguments);return(0,a.endSpan)(o,null),t}catch(e){throw(0,a.endSpan)(o,e),e}}}}t.IORedisInstrumentation=p},82322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endSpan=void 0;const n=r(74681);t.endSpan=(e,t)=>{t&&(e.recordException(t),e.setStatus({code:n.SpanStatusCode.ERROR,message:t.message})),e.end()}},555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.43.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-ioredis"},85213:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5963),t),o(r(61572),t)},5963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KafkaJsInstrumentation=void 0;const n=r(74681),o=r(51002),s=r(97013),i=r(43588),a=r(81961);class c extends a.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){const e=e=>{var t,r;(0,a.isWrapped)(null===(t=null==e?void 0:e.Kafka)||void 0===t?void 0:t.prototype.producer)&&this._unwrap(e.Kafka.prototype,"producer"),(0,a.isWrapped)(null===(r=null==e?void 0:e.Kafka)||void 0===r?void 0:r.prototype.consumer)&&this._unwrap(e.Kafka.prototype,"consumer")};return new a.InstrumentationNodeModuleDefinition("kafkajs",[">=0.1.0 <3"],(t=>{var r,n;return e(t),this._wrap(null===(r=null==t?void 0:t.Kafka)||void 0===r?void 0:r.prototype,"producer",this._getProducerPatch()),this._wrap(null===(n=null==t?void 0:t.Kafka)||void 0===n?void 0:n.prototype,"consumer",this._getConsumerPatch()),t}),e)}_getConsumerPatch(){const e=this;return t=>function(...r){const n=t.apply(this,r);return(0,a.isWrapped)(n.run)&&e._unwrap(n,"run"),e._wrap(n,"run",e._getConsumerRunPatch()),n}}_getProducerPatch(){const e=this;return t=>function(...r){const n=t.apply(this,r);return(0,a.isWrapped)(n.sendBatch)&&e._unwrap(n,"sendBatch"),e._wrap(n,"sendBatch",e._getProducerSendBatchPatch()),(0,a.isWrapped)(n.send)&&e._unwrap(n,"send"),e._wrap(n,"send",e._getProducerSendPatch()),n}}_getConsumerRunPatch(){const e=this;return t=>function(...r){const n=r[0];return(null==n?void 0:n.eachMessage)&&((0,a.isWrapped)(n.eachMessage)&&e._unwrap(n,"eachMessage"),e._wrap(n,"eachMessage",e._getConsumerEachMessagePatch())),(null==n?void 0:n.eachBatch)&&((0,a.isWrapped)(n.eachBatch)&&e._unwrap(n,"eachBatch"),e._wrap(n,"eachBatch",e._getConsumerEachBatchPatch())),t.call(this,n)}}_getConsumerEachMessagePatch(){const e=this;return t=>function(...r){const s=r[0],a=n.propagation.extract(n.ROOT_CONTEXT,s.message.headers,i.bufferTextMapGetter),c=e._startConsumerSpan(s.topic,s.message,o.MESSAGINGOPERATIONVALUES_PROCESS,a),l=n.context.with(n.trace.setSpan(a,c),(()=>t.apply(this,r)));return e._endSpansOnPromise([c],l)}}_getConsumerEachBatchPatch(){return e=>{const t=this;return function(...r){const s=r[0],a=t._startConsumerSpan(s.batch.topic,void 0,o.MESSAGINGOPERATIONVALUES_RECEIVE,n.ROOT_CONTEXT);return n.context.with(n.trace.setSpan(n.context.active(),a),(()=>{const c=s.batch.messages.map((e=>{var r;const a=n.propagation.extract(n.ROOT_CONTEXT,e.headers,i.bufferTextMapGetter),c=null===(r=n.trace.getSpan(a))||void 0===r?void 0:r.spanContext();let l;return c&&(l={context:c}),t._startConsumerSpan(s.batch.topic,e,o.MESSAGINGOPERATIONVALUES_PROCESS,void 0,l)})),l=e.apply(this,r);return c.unshift(a),t._endSpansOnPromise(c,l)}))}}}_getProducerSendBatchPatch(){const e=this;return t=>function(...r){const n=(r[0].topicMessages||[]).map((t=>t.messages.map((r=>e._startProducerSpan(t.topic,r))))).reduce(((e,t)=>e.concat(t)),[]),o=t.apply(this,r);return e._endSpansOnPromise(n,o)}}_getProducerSendPatch(){const e=this;return t=>function(...r){const n=r[0],o=n.messages.map((t=>e._startProducerSpan(n.topic,t))),s=t.apply(this,r);return e._endSpansOnPromise(o,s)}}_endSpansOnPromise(e,t){return Promise.resolve(t).catch((t=>{let r;throw"string"==typeof t?r=t:"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"message")&&(r=t.message),e.forEach((e=>e.setStatus({code:n.SpanStatusCode.ERROR,message:r}))),t})).finally((()=>{e.forEach((e=>e.end()))}))}_startConsumerSpan(e,t,r,s,i){const c=this.tracer.startSpan(e,{kind:n.SpanKind.CONSUMER,attributes:{[o.SEMATTRS_MESSAGING_SYSTEM]:"kafka",[o.SEMATTRS_MESSAGING_DESTINATION]:e,[o.SEMATTRS_MESSAGING_OPERATION]:r},links:i?[i]:[]},s),{consumerHook:l}=this.getConfig();return l&&t&&(0,a.safeExecuteInTheMiddle)((()=>l(c,{topic:e,message:t})),(e=>{e&&this._diag.error("consumerHook error",e)}),!0),c}_startProducerSpan(e,t){var r;const s=this.tracer.startSpan(e,{kind:n.SpanKind.PRODUCER,attributes:{[o.SEMATTRS_MESSAGING_SYSTEM]:"kafka",[o.SEMATTRS_MESSAGING_DESTINATION]:e}});t.headers=null!==(r=t.headers)&&void 0!==r?r:{},n.propagation.inject(n.trace.setSpan(n.context.active(),s),t.headers);const{producerHook:i}=this.getConfig();return i&&(0,a.safeExecuteInTheMiddle)((()=>i(s,{topic:e,message:t})),(e=>{e&&this._diag.error("producerHook error",e)}),!0),s}}t.KafkaJsInstrumentation=c},43588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTextMapGetter=void 0,t.bufferTextMapGetter={get(e,t){var r;if(!e)return;const n=Object.keys(e);for(const o of n)if(o===t||o.toLowerCase()===t)return null===(r=e[o])||void 0===r?void 0:r.toString()},keys:e=>e?Object.keys(e):[]}},61572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.4.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-kafkajs"},81961:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(64327),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(47036).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},47036:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=47036,e.exports=t},22514:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(37821),{safeRe:i,t:a}=r(94392),c=r(9125),l=r(67250),u=r(36862),p=r(8133)},8133:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(31484)),i=r(37821),a=r(22514),c=r(67250),l=r(36862),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(94392),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(30724),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},36862:(e,t,r)=>{const n=r(67250),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(30724),{safeRe:i,t:a}=r(94392),c=r(37821),{compareIdentifiers:l}=r(98637);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},2472:(e,t,r)=>{const n=r(70914);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},9125:(e,t,r)=>{const n=r(49279),o=r(73549),s=r(81798),i=r(84575),a=r(58265),c=r(46218);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},78520:(e,t,r)=>{const n=r(36862),o=r(70914),{safeRe:s,t:i}=r(94392);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},17727:(e,t,r)=>{const n=r(36862);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},84933:(e,t,r)=>{const n=r(72942);e.exports=(e,t)=>n(e,t,!0)},72942:(e,t,r)=>{const n=r(36862);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},71822:(e,t,r)=>{const n=r(70914);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},49279:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>0===n(e,t,r)},81798:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>n(e,t,r)>0},84575:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>n(e,t,r)>=0},25865:(e,t,r)=>{const n=r(36862);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},58265:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>n(e,t,r)<0},46218:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>n(e,t,r)<=0},57888:(e,t,r)=>{const n=r(36862);e.exports=(e,t)=>new n(e,t).major},20252:(e,t,r)=>{const n=r(36862);e.exports=(e,t)=>new n(e,t).minor},73549:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>0!==n(e,t,r)},70914:(e,t,r)=>{const n=r(36862);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},52339:(e,t,r)=>{const n=r(36862);e.exports=(e,t)=>new n(e,t).patch},38307:(e,t,r)=>{const n=r(70914);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},46328:(e,t,r)=>{const n=r(72942);e.exports=(e,t,r)=>n(t,e,r)},24687:(e,t,r)=>{const n=r(17727);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},86120:(e,t,r)=>{const n=r(8133);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},38113:(e,t,r)=>{const n=r(17727);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},8231:(e,t,r)=>{const n=r(70914);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},64327:(e,t,r)=>{const n=r(94392),o=r(30724),s=r(36862),i=r(98637),a=r(70914),c=r(8231),l=r(2472),u=r(25865),p=r(71822),d=r(57888),h=r(20252),f=r(52339),m=r(38307),g=r(72942),E=r(46328),S=r(84933),_=r(17727),y=r(38113),A=r(24687),v=r(81798),T=r(58265),b=r(49279),I=r(73549),R=r(84575),O=r(46218),N=r(9125),C=r(78520),L=r(22514),w=r(8133),P=r(86120),M=r(63493),x=r(24618),k=r(50768),D=r(3899),V=r(92092),U=r(94553),G=r(81361),$=r(28328),B=r(83906),F=r(84103),j=r(73382);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},30724:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},67250:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},98637:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},31484:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},37821:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},94392:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(30724),i=r(67250),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},81361:(e,t,r)=>{const n=r(94553);e.exports=(e,t,r)=>n(e,t,">",r)},83906:(e,t,r)=>{const n=r(8133);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},28328:(e,t,r)=>{const n=r(94553);e.exports=(e,t,r)=>n(e,t,"<",r)},24618:(e,t,r)=>{const n=r(36862),o=r(8133);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},50768:(e,t,r)=>{const n=r(36862),o=r(8133);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},3899:(e,t,r)=>{const n=r(36862),o=r(8133),s=r(81798);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},94553:(e,t,r)=>{const n=r(36862),o=r(22514),{ANY:s}=o,i=r(8133),a=r(86120),c=r(81798),l=r(58265),u=r(46218),p=r(84575);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},84103:(e,t,r)=>{const n=r(86120),o=r(72942);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},73382:(e,t,r)=>{const n=r(8133),o=r(22514),{ANY:s}=o,i=r(86120),a=r(72942),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},63493:(e,t,r)=>{const n=r(8133);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},92092:(e,t,r)=>{const n=r(8133);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},23109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_VERSIONS=t.MODULE_NAME=void 0,t.MODULE_NAME="knex",t.SUPPORTED_VERSIONS=[">=0.22.0 <4",">=0.10.0 <0.18.0",">=0.19.0 <0.22.0",">=0.18.0 <0.19.0"]},54576:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(61478),t),o(r(5301),t)},61478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KnexInstrumentation=void 0;const n=r(74681),o=r(57628),s=r(23109),i=r(56770),a=r(51002),c=r(99945),l=Symbol("opentelemetry.instrumentation-knex.context"),u={maxQueryLength:1022,requireParentSpan:!1};class p extends i.InstrumentationBase{constructor(e={}){super(o.PACKAGE_NAME,o.PACKAGE_VERSION,Object.assign(Object.assign({},u),e))}setConfig(e={}){super.setConfig(Object.assign(Object.assign({},u),e))}init(){const e=new i.InstrumentationNodeModuleDefinition(s.MODULE_NAME,s.SUPPORTED_VERSIONS);return e.files.push(this.getClientNodeModuleFileInstrumentation("src"),this.getClientNodeModuleFileInstrumentation("lib"),this.getRunnerNodeModuleFileInstrumentation("src"),this.getRunnerNodeModuleFileInstrumentation("lib"),this.getRunnerNodeModuleFileInstrumentation("lib/execution")),e}getRunnerNodeModuleFileInstrumentation(e){return new i.InstrumentationNodeModuleFile(`knex/${e}/runner.js`,s.SUPPORTED_VERSIONS,((e,t)=>(this.ensureWrapped(e.prototype,"query",this.createQueryWrapper(t)),e)),((e,t)=>(this._unwrap(e.prototype,"query"),e)))}getClientNodeModuleFileInstrumentation(e){return new i.InstrumentationNodeModuleFile(`knex/${e}/client.js`,s.SUPPORTED_VERSIONS,(e=>(this.ensureWrapped(e.prototype,"queryBuilder",this.storeContext.bind(this)),this.ensureWrapped(e.prototype,"schemaBuilder",this.storeContext.bind(this)),this.ensureWrapped(e.prototype,"raw",this.storeContext.bind(this)),e)),(e=>(this._unwrap(e.prototype,"queryBuilder"),this._unwrap(e.prototype,"schemaBuilder"),this._unwrap(e.prototype,"raw"),e)))}createQueryWrapper(e){const t=this;return function(r){return function(o){var s,i,u,p,d,h;const f=this.client.config,m=c.extractTableName(this.builder),g=null==o?void 0:o.method,E=(null===(s=null==f?void 0:f.connection)||void 0===s?void 0:s.filename)||(null===(i=null==f?void 0:f.connection)||void 0===i?void 0:i.database),{maxQueryLength:S}=t.getConfig(),_={"knex.version":e,[a.SEMATTRS_DB_SYSTEM]:c.mapSystem(f.client),[a.SEMATTRS_DB_SQL_TABLE]:m,[a.SEMATTRS_DB_OPERATION]:g,[a.SEMATTRS_DB_USER]:null===(u=null==f?void 0:f.connection)||void 0===u?void 0:u.user,[a.SEMATTRS_DB_NAME]:E,[a.SEMATTRS_NET_PEER_NAME]:null===(p=null==f?void 0:f.connection)||void 0===p?void 0:p.host,[a.SEMATTRS_NET_PEER_PORT]:null===(d=null==f?void 0:f.connection)||void 0===d?void 0:d.port,[a.SEMATTRS_NET_TRANSPORT]:":memory:"===(null===(h=null==f?void 0:f.connection)||void 0===h?void 0:h.filename)?"inproc":void 0};S&&(_[a.SEMATTRS_DB_STATEMENT]=c.limitLength(null==o?void 0:o.sql,S));const y=this.builder[l]||n.context.active(),A=n.trace.getSpan(y),v=A&&n.trace.isSpanContextValid(A.spanContext());if(t._config.requireParentSpan&&!v)return r.bind(this)(...arguments);const T=t.tracer.startSpan(c.getName(E,g,m),{kind:n.SpanKind.CLIENT,attributes:_},y),b=n.trace.setSpan(n.context.active(),T);return n.context.with(b,r,this,...arguments).then((e=>(T.end(),e))).catch((e=>{const t=c.getFormatter(this)(o.sql,o.bindings||[]),r=e.message.replace(t+" - ",""),s=c.cloneErrorWithNewMessage(e,r);throw T.recordException(s),T.setStatus({code:n.SpanStatusCode.ERROR,message:r}),T.end(),e}))}}}storeContext(e){return function(){const t=e.apply(this,arguments);return Object.defineProperty(t,l,{value:n.context.active()}),t}}ensureWrapped(e,t,r){(0,i.isWrapped)(e[t])&&this._unwrap(e,t),this._wrap(e,t,r)}}t.KnexInstrumentation=p},5301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},99945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTableName=t.limitLength=t.getName=t.mapSystem=t.cloneErrorWithNewMessage=t.getFormatter=void 0;const n=r(51002);t.getFormatter=e=>{if(e){if(e.client){if(e.client._formatQuery)return e.client._formatQuery.bind(e.client);if(e.client.SqlString)return e.client.SqlString.format.bind(e.client.SqlString)}if(e.builder)return e.builder.toString.bind(e.builder)}return()=>"<noop formatter>"},t.cloneErrorWithNewMessage=(e,t)=>{if(e&&e instanceof Error){const r=new e.constructor(t);return r.code=e.code,r.stack=e.stack,r.errno=e.errno,r}return e};const o=new Map([["sqlite3",n.DBSYSTEMVALUES_SQLITE],["pg",n.DBSYSTEMVALUES_POSTGRESQL]]);t.mapSystem=e=>o.get(e)||e,t.getName=(e,t,r)=>t?r?`${t} ${e}.${r}`:`${t} ${e}`:e,t.limitLength=(e,t)=>"string"==typeof e&&"number"==typeof t&&0<t&&t<e.length?e.substr(0,t)+"..":e,t.extractTableName=e=>{var r;const n=null===(r=null==e?void 0:e._single)||void 0===r?void 0:r.table;return"object"==typeof n?(0,t.extractTableName)(n):n}},57628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-knex"},56770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(26778),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(90881).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},90881:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=90881,e.exports=t},22421:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(87742),{safeRe:i,t:a}=r(47713),c=r(61852),l=r(9881),u=r(72749),p=r(32892)},32892:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(29889)),i=r(87742),a=r(22421),c=r(9881),l=r(72749),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(47713),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(94831),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},72749:(e,t,r)=>{const n=r(9881),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(94831),{safeRe:i,t:a}=r(47713),c=r(87742),{compareIdentifiers:l}=r(17942);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},80305:(e,t,r)=>{const n=r(76443);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},61852:(e,t,r)=>{const n=r(11544),o=r(33284),s=r(40393),i=r(63834),a=r(82806),c=r(35695);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},30183:(e,t,r)=>{const n=r(72749),o=r(76443),{safeRe:s,t:i}=r(47713);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},95906:(e,t,r)=>{const n=r(72749);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},45884:(e,t,r)=>{const n=r(92707);e.exports=(e,t)=>n(e,t,!0)},92707:(e,t,r)=>{const n=r(72749);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},15245:(e,t,r)=>{const n=r(76443);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},11544:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>0===n(e,t,r)},40393:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>n(e,t,r)>0},63834:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>n(e,t,r)>=0},70668:(e,t,r)=>{const n=r(72749);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},82806:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>n(e,t,r)<0},35695:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>n(e,t,r)<=0},79829:(e,t,r)=>{const n=r(72749);e.exports=(e,t)=>new n(e,t).major},58513:(e,t,r)=>{const n=r(72749);e.exports=(e,t)=>new n(e,t).minor},33284:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>0!==n(e,t,r)},76443:(e,t,r)=>{const n=r(72749);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},83226:(e,t,r)=>{const n=r(72749);e.exports=(e,t)=>new n(e,t).patch},5996:(e,t,r)=>{const n=r(76443);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},91627:(e,t,r)=>{const n=r(92707);e.exports=(e,t,r)=>n(t,e,r)},97594:(e,t,r)=>{const n=r(95906);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},15029:(e,t,r)=>{const n=r(32892);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},63154:(e,t,r)=>{const n=r(95906);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},95282:(e,t,r)=>{const n=r(76443);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},26778:(e,t,r)=>{const n=r(47713),o=r(94831),s=r(72749),i=r(17942),a=r(76443),c=r(95282),l=r(80305),u=r(70668),p=r(15245),d=r(79829),h=r(58513),f=r(83226),m=r(5996),g=r(92707),E=r(91627),S=r(45884),_=r(95906),y=r(63154),A=r(97594),v=r(40393),T=r(82806),b=r(11544),I=r(33284),R=r(63834),O=r(35695),N=r(61852),C=r(30183),L=r(22421),w=r(32892),P=r(15029),M=r(92628),x=r(4471),k=r(12581),D=r(85144),V=r(18035),U=r(28030),G=r(92466),$=r(15508),B=r(88071),F=r(5438),j=r(27695);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},94831:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9881:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},17942:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},29889:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},87742:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},47713:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(94831),i=r(9881),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},92466:(e,t,r)=>{const n=r(28030);e.exports=(e,t,r)=>n(e,t,">",r)},88071:(e,t,r)=>{const n=r(32892);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},15508:(e,t,r)=>{const n=r(28030);e.exports=(e,t,r)=>n(e,t,"<",r)},4471:(e,t,r)=>{const n=r(72749),o=r(32892);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},12581:(e,t,r)=>{const n=r(72749),o=r(32892);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},85144:(e,t,r)=>{const n=r(72749),o=r(32892),s=r(40393);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},28030:(e,t,r)=>{const n=r(72749),o=r(22421),{ANY:s}=o,i=r(32892),a=r(15029),c=r(40393),l=r(82806),u=r(35695),p=r(63834);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},5438:(e,t,r)=>{const n=r(15029),o=r(92707);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},27695:(e,t,r)=>{const n=r(32892),o=r(22421),{ANY:s}=o,i=r(15029),a=r(92707),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},92628:(e,t,r)=>{const n=r(32892);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},18035:(e,t,r)=>{const n=r(32892);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},20906:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).KOA_TYPE="koa.type",r.KOA_NAME="koa.name"},45845:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(67651),t),o(r(96252),t),o(r(20906),t)},67651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KoaInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(96252),i=r(39373),a=r(79504),c=r(98035),l=r(73136);class u extends o.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){return new o.InstrumentationNodeModuleDefinition("koa",[">=2.0.0 <3"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return null==t?t:((0,o.isWrapped)(t.prototype.use)&&this._unwrap(t.prototype,"use"),this._wrap(t.prototype,"use",this._getKoaUsePatch.bind(this)),e)}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;(0,o.isWrapped)(t.prototype.use)&&this._unwrap(t.prototype,"use")}))}_getKoaUsePatch(e){const t=this;return function(r){let n;return n=r.router?t._patchRouterDispatch(r):t._patchLayer(r,!1),e.apply(this,[n])}}_patchRouterDispatch(e){var t;n.diag.debug("Patching @koa/router dispatch");const r=e.router,o=null!==(t=null==r?void 0:r.stack)&&void 0!==t?t:[];for(const e of o){const t=e.path,r=e.stack;for(let e=0;e<r.length;e++){const n=r[e];r[e]=this._patchLayer(n,!0,t)}}return e}_patchLayer(e,t,r){const i=t?s.KoaLayerType.ROUTER:s.KoaLayerType.MIDDLEWARE;return!0===e[l.kLayerPatched]||(0,a.isLayerIgnored)(i,this.getConfig())?e:"GeneratorFunction"===e.constructor.name||"AsyncGeneratorFunction"===e.constructor.name?(n.diag.debug("ignoring generator-based Koa middleware layer"),e):(e[l.kLayerPatched]=!0,n.diag.debug("patching Koa middleware layer"),async(s,l)=>{if(void 0===n.trace.getSpan(n.context.active()))return e(s,l);const u=(0,a.getMiddlewareMetadata)(s,e,t,r),p=this.tracer.startSpan(u.name,{attributes:u.attributes}),d=(0,c.getRPCMetadata)(n.context.active());(null==d?void 0:d.type)===c.RPCType.HTTP&&s._matchedRoute&&(d.route=s._matchedRoute.toString());const{requestHook:h}=this.getConfig();h&&(0,o.safeExecuteInTheMiddle)((()=>h(p,{context:s,middlewareLayer:e,layerType:i})),(e=>{e&&n.diag.error("koa instrumentation: request hook failed",e)}),!0);const f=n.trace.setSpan(n.context.active(),p);return n.context.with(f,(async()=>{try{return await e(s,l)}catch(e){throw p.recordException(e),e}finally{p.end()}}))})}}t.KoaInstrumentation=u},73136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kLayerPatched=void 0,t.kLayerPatched=Symbol("koa-layer-patched")},96252:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.KoaLayerType=void 0,(r=t.KoaLayerType||(t.KoaLayerType={})).ROUTER="router",r.MIDDLEWARE="middleware"},79504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLayerIgnored=t.getMiddlewareMetadata=void 0;const n=r(96252),o=r(20906),s=r(51002);t.getMiddlewareMetadata=(e,t,r,i)=>{var a;return r?{attributes:{[o.AttributeNames.KOA_NAME]:null==i?void 0:i.toString(),[o.AttributeNames.KOA_TYPE]:n.KoaLayerType.ROUTER,[s.SEMATTRS_HTTP_ROUTE]:null==i?void 0:i.toString()},name:e._matchedRouteName||`router - ${i}`}:{attributes:{[o.AttributeNames.KOA_NAME]:null!==(a=t.name)&&void 0!==a?a:"middleware",[o.AttributeNames.KOA_TYPE]:n.KoaLayerType.MIDDLEWARE},name:`middleware - ${t.name}`}},t.isLayerIgnored=(e,t)=>{var r;return!(!Array.isArray(null==t?void 0:t.ignoreLayersType)||!(null===(r=null==t?void 0:t.ignoreLayersType)||void 0===r?void 0:r.includes(e)))}},39373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.43.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-koa"},6750:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(70968),t)},70968:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruMemoizerInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(57770);class i extends o.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){return[new o.InstrumentationNodeModuleDefinition("lru-memoizer",[">=1.3 <3"],(e=>{const t=function(){const t=e.apply(this,arguments);return function(){const e=[...arguments],r=e.pop(),o="function"==typeof r?n.context.bind(n.context.active(),r):r;return e.push(o),t.apply(this,e)}};return t.sync=e.sync,t}),void 0)]}}t.LruMemoizerInstrumentation=i},57770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-lru-memoizer"},71526:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(46656),t),o(r(44667),t)},46656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MongoDBInstrumentation=void 0;const n=r(74681),o=r(21224),s=r(51002),i=r(12761),a=r(28306);class c extends o.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){const{v3PatchConnection:e,v3UnpatchConnection:t}=this._getV3ConnectionPatches(),{v4PatchConnect:r,v4UnpatchConnect:n}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:s,v4PatchConnectionPromise:i,v4UnpatchConnection:a}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:c,v4UnpatchConnectionPool:l}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:u,v4UnpatchSessions:p}=this._getV4SessionsPatches();return[new o.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new o.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],e,t)]),new o.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <7"],void 0,void 0,[new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],s,a),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <7"],i,a),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],c,l),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <7"],r,n),new o.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <7"],u,p)])]}_getV3ConnectionPatches(){return{v3PatchConnection:e=>((0,o.isWrapped)(e.insert)&&this._unwrap(e,"insert"),this._wrap(e,"insert",this._getV3PatchOperation("insert")),(0,o.isWrapped)(e.remove)&&this._unwrap(e,"remove"),this._wrap(e,"remove",this._getV3PatchOperation("remove")),(0,o.isWrapped)(e.update)&&this._unwrap(e,"update"),this._wrap(e,"update",this._getV3PatchOperation("update")),(0,o.isWrapped)(e.command)&&this._unwrap(e,"command"),this._wrap(e,"command",this._getV3PatchCommand()),(0,o.isWrapped)(e.query)&&this._unwrap(e,"query"),this._wrap(e,"query",this._getV3PatchFind()),(0,o.isWrapped)(e.getMore)&&this._unwrap(e,"getMore"),this._wrap(e,"getMore",this._getV3PatchCursor()),e),v3UnpatchConnection:e=>{void 0!==e&&(this._unwrap(e,"insert"),this._unwrap(e,"remove"),this._unwrap(e,"update"),this._unwrap(e,"command"),this._unwrap(e,"query"),this._unwrap(e,"getMore"))}}}_getV4SessionsPatches(){return{v4PatchSessions:e=>((0,o.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),this._wrap(e.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0,o.isWrapped)(e.release)&&this._unwrap(e,"release"),this._wrap(e.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),e),v4UnpatchSessions:e=>{void 0!==e&&((0,o.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),(0,o.isWrapped)(e.release)&&this._unwrap(e,"release"))}}}_getV4AcquireCommand(){const e=this;return t=>function(){const r=this.sessions.length,n=t.call(this),o=this.sessions.length;return r===o?e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName}):r-1===o&&(e._connectionsUsage.add(-1,{state:"idle","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName})),n}}_getV4ReleaseCommand(){const e=this;return t=>function(r){const n=t.call(this,r);return e._connectionsUsage.add(-1,{state:"used","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"idle","pool.name":e._poolName}),n}}_getV4ConnectionPoolPatches(){return{v4PatchConnectionPool:e=>{const t=e.ConnectionPool.prototype;return(0,o.isWrapped)(t.checkOut)&&this._unwrap(t,"checkOut"),this._wrap(t,"checkOut",this._getV4ConnectionPoolCheckOut()),e},v4UnpatchConnectionPool:e=>{void 0!==e&&this._unwrap(e.ConnectionPool.prototype,"checkOut")}}}_getV4ConnectPatches(){return{v4PatchConnect:e=>((0,o.isWrapped)(e.connect)&&this._unwrap(e,"connect"),this._wrap(e,"connect",this._getV4ConnectCommand()),e),v4UnpatchConnect:e=>{void 0!==e&&this._unwrap(e,"connect")}}}_getV4ConnectionPoolCheckOut(){return e=>function(t){const r=n.context.bind(n.context.active(),t);return e.call(this,r)}}_getV4ConnectCommand(){const e=this;return t=>function(r,n){if(1===t.length){const n=t.call(this,r);return n&&"function"==typeof n.then&&n.then((()=>e.setPoolName(r)),(()=>{})),n}return t.call(this,r,(function(t,o){!t&&o?(e.setPoolName(r),n(t,o)):n(t,o)}))}}_getV4ConnectionPatches(){return{v4PatchConnectionCallback:e=>((0,o.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandCallback()),e),v4PatchConnectionPromise:e=>((0,o.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandPromise()),e),v4UnpatchConnection:e=>{void 0!==e&&this._unwrap(e.Connection.prototype,"command")}}}_getV3PatchOperation(e){const t=this;return r=>function(o,s,i,a,c){const l="function"==typeof a?a:c;if(!n.trace.getSpan(n.context.active())||"function"!=typeof l||"object"!=typeof i)return"function"==typeof a?r.call(this,o,s,i,a):r.call(this,o,s,i,a,c);const u=t.tracer.startSpan(`mongodb.${e}`,{kind:n.SpanKind.CLIENT});t._populateV3Attributes(u,s,o,i[0],e);const p=t._patchEnd(u,l);return"function"==typeof a?r.call(this,o,s,i,p):r.call(this,o,s,i,a,p)}}_getV3PatchCommand(){const e=this;return t=>function(r,o,s,a,l){const u="function"==typeof a?a:l;if(!n.trace.getSpan(n.context.active())||"function"!=typeof u||"object"!=typeof s)return"function"==typeof a?t.call(this,r,o,s,a):t.call(this,r,o,s,a,l);const p=c._getCommandType(s),d=p===i.MongodbCommandType.UNKNOWN?"command":p,h=e.tracer.startSpan(`mongodb.${d}`,{kind:n.SpanKind.CLIENT}),f=p===i.MongodbCommandType.UNKNOWN?void 0:p;e._populateV3Attributes(h,o,r,s,f);const m=e._patchEnd(h,u);return"function"==typeof a?t.call(this,r,o,s,m):t.call(this,r,o,s,a,m)}}_getV4PatchCommandCallback(){const e=this;return t=>function(r,o,s,i){const a=n.trace.getSpan(n.context.active()),c=i,l=Object.keys(o)[0];if("function"!=typeof c||"object"!=typeof o||o.ismaster||o.hello)return t.call(this,r,o,s,i);let u;a&&(u=e.tracer.startSpan(`mongodb.${l}`,{kind:n.SpanKind.CLIENT}),e._populateV4Attributes(u,this,r,o,l));const p=e._patchEnd(u,c,this.id,l);return t.call(this,r,o,s,p)}}_getV4PatchCommandPromise(){const e=this;return t=>function(...r){const[o,s]=r,i=n.trace.getSpan(n.context.active()),a=Object.keys(s)[0];if("object"!=typeof s||s.ismaster||s.hello)return t.apply(this,r);let c;i&&(c=e.tracer.startSpan(`mongodb.${a}`,{kind:n.SpanKind.CLIENT}),e._populateV4Attributes(c,this,o,s,a));const l=e._patchEnd(c,(()=>{}),this.id,a),u=t.apply(this,r);return u.then((e=>l(null,e)),(e=>l(e))),u}}_getV3PatchFind(){const e=this;return t=>function(r,o,s,i,a,c){const l="function"==typeof a?a:c;if(!n.trace.getSpan(n.context.active())||"function"!=typeof l||"object"!=typeof s)return"function"==typeof a?t.call(this,r,o,s,i,a):t.call(this,r,o,s,i,a,c);const u=e.tracer.startSpan("mongodb.find",{kind:n.SpanKind.CLIENT});e._populateV3Attributes(u,o,r,s,"find");const p=e._patchEnd(u,l);return"function"==typeof a?t.call(this,r,o,s,i,p):t.call(this,r,o,s,i,a,p)}}_getV3PatchCursor(){const e=this;return t=>function(r,o,s,i,a,c){const l="function"==typeof a?a:c;if(!n.trace.getSpan(n.context.active())||"function"!=typeof l)return"function"==typeof a?t.call(this,r,o,s,i,a):t.call(this,r,o,s,i,a,c);const u=e.tracer.startSpan("mongodb.getMore",{kind:n.SpanKind.CLIENT});e._populateV3Attributes(u,o,r,s.cmd,"getMore");const p=e._patchEnd(u,l);return"function"==typeof a?t.call(this,r,o,s,i,p):t.call(this,r,o,s,i,a,p)}}static _getCommandType(e){return void 0!==e.createIndexes?i.MongodbCommandType.CREATE_INDEXES:void 0!==e.findandmodify?i.MongodbCommandType.FIND_AND_MODIFY:void 0!==e.ismaster?i.MongodbCommandType.IS_MASTER:void 0!==e.count?i.MongodbCommandType.COUNT:void 0!==e.aggregate?i.MongodbCommandType.AGGREGATE:i.MongodbCommandType.UNKNOWN}_populateV4Attributes(e,t,r,n,o){let s,i,a;if(t){const e="string"==typeof t.address?t.address.split(":"):"";2===e.length&&(s=e[0],i=e[1])}a=(null==n?void 0:n.documents)&&n.documents[0]?n.documents[0]:(null==n?void 0:n.cursors)?n.cursors:n,this._addAllSpanAttributes(e,r.db,r.collection,s,i,a,o)}_populateV3Attributes(e,t,r,n,o){var s,i,a,c,l,u,p,d;let h,f;if(r&&r.s&&(h=null!==(i=null===(s=r.s.options)||void 0===s?void 0:s.host)&&void 0!==i?i:r.s.host,f=null===(l=null!==(c=null===(a=r.s.options)||void 0===a?void 0:a.port)&&void 0!==c?c:r.s.port)||void 0===l?void 0:l.toString(),null==h||null==f)){const e=null===(u=r.description)||void 0===u?void 0:u.address;if(e){const t=e.split(":");h=t[0],f=t[1]}}const[m,g]=t.toString().split("."),E=null!==(d=null!==(p=null==n?void 0:n.query)&&void 0!==p?p:null==n?void 0:n.q)&&void 0!==d?d:n;this._addAllSpanAttributes(e,m,g,h,f,E,o)}_addAllSpanAttributes(e,t,r,n,i,a,c){if(e.setAttributes({[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_MONGODB,[s.SEMATTRS_DB_NAME]:t,[s.SEMATTRS_DB_MONGODB_COLLECTION]:r,[s.SEMATTRS_DB_OPERATION]:c,[s.SEMATTRS_DB_CONNECTION_STRING]:`mongodb://${n}:${i}/${t}`}),n&&i){e.setAttribute(s.SEMATTRS_NET_PEER_NAME,n);const t=parseInt(i,10);isNaN(t)||e.setAttribute(s.SEMATTRS_NET_PEER_PORT,t)}if(!a)return;const{dbStatementSerializer:l}=this.getConfig(),u="function"==typeof l?l:this._defaultDbStatementSerializer.bind(this);(0,o.safeExecuteInTheMiddle)((()=>{const t=u(a);e.setAttribute(s.SEMATTRS_DB_STATEMENT,t)}),(e=>{e&&this._diag.error("Error running dbStatementSerializer hook",e)}),!0)}_defaultDbStatementSerializer(e){const{enhancedDatabaseReporting:t}=this.getConfig(),r=t?e:this._scrubStatement(e);return JSON.stringify(r)}_scrubStatement(e){return Array.isArray(e)?e.map((e=>this._scrubStatement(e))):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map((([e,t])=>[e,this._scrubStatement(t)]))):"?"}_handleExecutionResult(e,t){const{responseHook:r}=this.getConfig();"function"==typeof r&&(0,o.safeExecuteInTheMiddle)((()=>{r(e,{data:t})}),(e=>{e&&this._diag.error("Error running response hook",e)}),!0)}_patchEnd(e,t,r,o){const s=n.context.active(),i=this;return function(...r){const a=r[0];if(e){if(a instanceof Error)null==e||e.setStatus({code:n.SpanStatusCode.ERROR,message:a.message});else{const t=r[1];i._handleExecutionResult(e,t)}e.end()}return n.context.with(s,(()=>("endSessions"===o&&i._connectionsUsage.add(-1,{state:"idle","pool.name":i._poolName}),t.apply(this,r))))}}setPoolName(e){var t,r;const n=`mongodb://${null===(t=e.hostAddress)||void 0===t?void 0:t.host}:${null===(r=e.hostAddress)||void 0===r?void 0:r.port}/${e.dbName}`;this._poolName=n}}t.MongoDBInstrumentation=c},12761:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MongodbCommandType=void 0,(r=t.MongodbCommandType||(t.MongodbCommandType={})).CREATE_INDEXES="createIndexes",r.FIND_AND_MODIFY="findAndModify",r.IS_MASTER="isMaster",r.COUNT="count",r.AGGREGATE="aggregate",r.UNKNOWN="unknown"},44667:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MongodbCommandType=void 0,(r=t.MongodbCommandType||(t.MongodbCommandType={})).CREATE_INDEXES="createIndexes",r.FIND_AND_MODIFY="findAndModify",r.IS_MASTER="isMaster",r.COUNT="count",r.UNKNOWN="unknown"},28306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.48.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb"},21224:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(9648),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(80103).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},80103:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=80103,e.exports=t},68379:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(21980),{safeRe:i,t:a}=r(33239),c=r(77182),l=r(81343),u=r(63603),p=r(29590)},29590:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(28495)),i=r(21980),a=r(68379),c=r(81343),l=r(63603),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(33239),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(99605),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},63603:(e,t,r)=>{const n=r(81343),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(99605),{safeRe:i,t:a}=r(33239),c=r(21980),{compareIdentifiers:l}=r(38236);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},12847:(e,t,r)=>{const n=r(44233);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},77182:(e,t,r)=>{const n=r(66178),o=r(14502),s=r(82607),i=r(53852),a=r(53064),c=r(1029);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},93985:(e,t,r)=>{const n=r(63603),o=r(44233),{safeRe:s,t:i}=r(33239);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},54440:(e,t,r)=>{const n=r(63603);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},56338:(e,t,r)=>{const n=r(1613);e.exports=(e,t)=>n(e,t,!0)},1613:(e,t,r)=>{const n=r(63603);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},9407:(e,t,r)=>{const n=r(44233);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},66178:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>0===n(e,t,r)},82607:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>n(e,t,r)>0},53852:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>n(e,t,r)>=0},94442:(e,t,r)=>{const n=r(63603);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},53064:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>n(e,t,r)<0},1029:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>n(e,t,r)<=0},7191:(e,t,r)=>{const n=r(63603);e.exports=(e,t)=>new n(e,t).major},21955:(e,t,r)=>{const n=r(63603);e.exports=(e,t)=>new n(e,t).minor},14502:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>0!==n(e,t,r)},44233:(e,t,r)=>{const n=r(63603);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},10092:(e,t,r)=>{const n=r(63603);e.exports=(e,t)=>new n(e,t).patch},28106:(e,t,r)=>{const n=r(44233);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},47589:(e,t,r)=>{const n=r(1613);e.exports=(e,t,r)=>n(t,e,r)},47184:(e,t,r)=>{const n=r(54440);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},27123:(e,t,r)=>{const n=r(29590);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},44440:(e,t,r)=>{const n=r(54440);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},2084:(e,t,r)=>{const n=r(44233);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},9648:(e,t,r)=>{const n=r(33239),o=r(99605),s=r(63603),i=r(38236),a=r(44233),c=r(2084),l=r(12847),u=r(94442),p=r(9407),d=r(7191),h=r(21955),f=r(10092),m=r(28106),g=r(1613),E=r(47589),S=r(56338),_=r(54440),y=r(44440),A=r(47184),v=r(82607),T=r(53064),b=r(66178),I=r(14502),R=r(53852),O=r(1029),N=r(77182),C=r(93985),L=r(68379),w=r(29590),P=r(27123),M=r(75558),x=r(6545),k=r(21067),D=r(56626),V=r(16777),U=r(7472),G=r(94556),$=r(69669),B=r(33857),F=r(95412),j=r(20073);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},99605:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},81343:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},38236:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},28495:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},21980:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},33239:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(99605),i=r(81343),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},94556:(e,t,r)=>{const n=r(7472);e.exports=(e,t,r)=>n(e,t,">",r)},33857:(e,t,r)=>{const n=r(29590);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},69669:(e,t,r)=>{const n=r(7472);e.exports=(e,t,r)=>n(e,t,"<",r)},6545:(e,t,r)=>{const n=r(63603),o=r(29590);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},21067:(e,t,r)=>{const n=r(63603),o=r(29590);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},56626:(e,t,r)=>{const n=r(63603),o=r(29590),s=r(82607);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},7472:(e,t,r)=>{const n=r(63603),o=r(68379),{ANY:s}=o,i=r(29590),a=r(27123),c=r(82607),l=r(53064),u=r(1029),p=r(53852);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},95412:(e,t,r)=>{const n=r(27123),o=r(1613);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},20073:(e,t,r)=>{const n=r(29590),o=r(68379),{ANY:s}=o,i=r(27123),a=r(1613),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},75558:(e,t,r)=>{const n=r(29590);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},16777:(e,t,r)=>{const n=r(29590);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},57125:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(120),t),o(r(30124),t)},120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MongooseInstrumentation=t._STORED_PARENT_SPAN=void 0;const n=r(74681),o=r(98035),s=r(34560),i=r(25907),a=r(59581),c=r(51002),l=["deleteOne","deleteMany","find","findOne","estimatedDocumentCount","countDocuments","distinct","where","$where","findOneAndUpdate","findOneAndDelete","findOneAndReplace"],u=["remove","count","findOneAndRemove",...l],p=["count","findOneAndRemove",...l],d=[...l];function h(e){return e?e.startsWith("6.")||e.startsWith("5.")?u:e.startsWith("7.")?p:d:l}function f(e){return e&&(e.startsWith("5.")||e.startsWith("6."))||!1}t._STORED_PARENT_SPAN=Symbol("stored-parent-span");class m extends i.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}init(){return new i.InstrumentationNodeModuleDefinition("mongoose",[">=5.9.7 <9"],this.patch.bind(this),this.unpatch.bind(this))}patch(e,t){return this._wrap(e.Model.prototype,"save",this.patchOnModelMethods("save",t)),e.Model.prototype.$save=e.Model.prototype.save,f(t)&&this._wrap(e.Model.prototype,"remove",this.patchOnModelMethods("remove",t)),this._wrap(e.Query.prototype,"exec",this.patchQueryExec(t)),this._wrap(e.Aggregate.prototype,"exec",this.patchAggregateExec(t)),h(t).forEach((t=>{this._wrap(e.Query.prototype,t,this.patchAndCaptureSpanContext(t))})),this._wrap(e.Model,"aggregate",this.patchModelAggregate()),e}unpatch(e,t){const r=h(t);this._unwrap(e.Model.prototype,"save"),e.Model.prototype.$save=e.Model.prototype.save,f(t)&&this._unwrap(e.Model.prototype,"remove"),this._unwrap(e.Query.prototype,"exec"),this._unwrap(e.Aggregate.prototype,"exec"),r.forEach((t=>{this._unwrap(e.Query.prototype,t)})),this._unwrap(e.Model,"aggregate")}patchAggregateExec(e){const r=this;return o=>function(s){var i;if(r.getConfig().requireParentSpan&&void 0===n.trace.getSpan(n.context.active()))return o.apply(this,arguments);const a=this[t._STORED_PARENT_SPAN],l={},{dbStatementSerializer:u}=r.getConfig();u&&(l[c.SEMATTRS_DB_STATEMENT]=u("aggregate",{options:this.options,aggregatePipeline:this._pipeline}));const p=r._startSpan(this._model.collection,null===(i=this._model)||void 0===i?void 0:i.modelName,"aggregate",l,a);return r._handleResponse(p,o,this,arguments,s,e)}}patchQueryExec(e){const r=this;return o=>function(s){if(r.getConfig().requireParentSpan&&void 0===n.trace.getSpan(n.context.active()))return o.apply(this,arguments);const i=this[t._STORED_PARENT_SPAN],a={},{dbStatementSerializer:l}=r.getConfig();l&&(a[c.SEMATTRS_DB_STATEMENT]=l(this.op,{condition:this._conditions,updates:this._update,options:this.options,fields:this._fields}));const u=r._startSpan(this.mongooseCollection,this.model.modelName,this.op,a,i);return r._handleResponse(u,o,this,arguments,s,e)}}patchOnModelMethods(e,t){const r=this;return o=>function(s,i){if(r.getConfig().requireParentSpan&&void 0===n.trace.getSpan(n.context.active()))return o.apply(this,arguments);const a={document:this};!s||s instanceof Function||(a.options=s);const l={},{dbStatementSerializer:u}=r.getConfig();u&&(l[c.SEMATTRS_DB_STATEMENT]=u(e,a));const p=r._startSpan(this.constructor.collection,this.constructor.modelName,e,l);return s instanceof Function&&(i=s,s=void 0),r._handleResponse(p,o,this,arguments,i,t)}}patchModelAggregate(){const e=this;return r=>function(){const o=n.trace.getSpan(n.context.active()),s=e._callOriginalFunction((()=>r.apply(this,arguments)));return s&&(s[t._STORED_PARENT_SPAN]=o),s}}patchAndCaptureSpanContext(e){const r=this;return e=>function(){return this[t._STORED_PARENT_SPAN]=n.trace.getSpan(n.context.active()),r._callOriginalFunction((()=>e.apply(this,arguments)))}}_startSpan(e,t,r,o,i){return this.tracer.startSpan(`mongoose.${t}.${r}`,{kind:n.SpanKind.CLIENT,attributes:Object.assign(Object.assign(Object.assign({},o),(0,s.getAttributesFromCollection)(e)),{[c.SEMATTRS_DB_OPERATION]:r,[c.SEMATTRS_DB_SYSTEM]:"mongoose"})},i?n.trace.setSpan(n.context.active(),i):void 0)}_handleResponse(e,t,r,n,o,i=void 0){const a=this;if(o instanceof Function)return a._callOriginalFunction((()=>(0,s.handleCallbackResponse)(o,t,r,e,n,a.getConfig().responseHook,i)));{const o=a._callOriginalFunction((()=>t.apply(r,n)));return(0,s.handlePromiseResponse)(o,e,a.getConfig().responseHook,i)}}_callOriginalFunction(e){return this.getConfig().suppressInternalInstrumentation?n.context.with((0,o.suppressTracing)(n.context.active()),e):e()}}t.MongooseInstrumentation=m},30124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCallbackResponse=t.handlePromiseResponse=t.getAttributesFromCollection=void 0;const n=r(74681),o=r(25907),s=r(51002);function i(e,t={}){e.recordException(t),e.setStatus({code:n.SpanStatusCode.ERROR,message:`${t.message} ${t.code?`\nMongoose Error Code: ${t.code}`:""}`})}function a(e,t,r,s=void 0){r&&(0,o.safeExecuteInTheMiddle)((()=>r(e,{moduleVersion:s,response:t})),(e=>{e&&n.diag.error("mongoose instrumentation: responseHook error",e)}),!0)}t.getAttributesFromCollection=function(e){return{[s.SEMATTRS_DB_MONGODB_COLLECTION]:e.name,[s.SEMATTRS_DB_NAME]:e.conn.name,[s.SEMATTRS_DB_USER]:e.conn.user,[s.SEMATTRS_NET_PEER_NAME]:e.conn.host,[s.SEMATTRS_NET_PEER_PORT]:e.conn.port}},t.handlePromiseResponse=function(e,t,r,n=void 0){return e instanceof Promise?e.then((e=>(a(t,e,r,n),e))).catch((e=>{throw i(t,e),e})).finally((()=>t.end())):(a(t,e,r,n),t.end(),e)},t.handleCallbackResponse=function(e,t,r,n,o,s,c=void 0){let l=0;return 2===o.length&&(l=1),o[l]=(t,r)=>(t?i(n,t):a(n,r,s,c),n.end(),e(t,r)),t.apply(r,o)}},59581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mongoose"},81960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(t.AttributeNames||(t.AttributeNames={})).MYSQL_VALUES="db.mysql.values"},90450:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(26164),t),o(r(54223),t)},26164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MySQLInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(51002),i=r(81960),a=r(67731),c=r(4441);class l extends o.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e),this._setMetricInstruments()}setMeterProvider(e){super.setMeterProvider(e),this._setMetricInstruments()}_setMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){return[new o.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],(e=>((0,o.isWrapped)(e.createConnection)&&this._unwrap(e,"createConnection"),this._wrap(e,"createConnection",this._patchCreateConnection()),(0,o.isWrapped)(e.createPool)&&this._unwrap(e,"createPool"),this._wrap(e,"createPool",this._patchCreatePool()),(0,o.isWrapped)(e.createPoolCluster)&&this._unwrap(e,"createPoolCluster"),this._wrap(e,"createPoolCluster",this._patchCreatePoolCluster()),e)),(e=>{void 0!==e&&(this._unwrap(e,"createConnection"),this._unwrap(e,"createPool"),this._unwrap(e,"createPoolCluster"))}))]}_patchCreateConnection(){return e=>{const t=this;return function(r){const n=e(...arguments);return t._wrap(n,"query",t._patchQuery(n)),n}}}_patchCreatePool(){return e=>{const t=this;return function(r){const n=e(...arguments);return t._wrap(n,"query",t._patchQuery(n)),t._wrap(n,"getConnection",t._patchGetConnection(n)),t._wrap(n,"end",t._patchPoolEnd(n)),t._setPoolcallbacks(n,t,""),n}}}_patchPoolEnd(e){return t=>{const r=this;return function(n){const o=e._allConnections.length,s=e._freeConnections.length,i=o-s,c=(0,a.getPoolName)(e);r._connectionsUsage.add(-i,{state:"used",name:c}),r._connectionsUsage.add(-s,{state:"idle",name:c}),t.apply(e,arguments)}}}_patchCreatePoolCluster(){return e=>{const t=this;return function(r){const n=e(...arguments);return t._wrap(n,"getConnection",t._patchGetConnection(n)),t._wrap(n,"add",t._patchAdd(n)),n}}}_patchAdd(e){return t=>{const r=this;return function(n,o){if(!r._enabled)return r._unwrap(e,"add"),t.apply(e,arguments);t.apply(e,arguments);const s=e._nodes;if(s){const t=s["object"==typeof n?"CLUSTER::"+e._lastId:String(n)].pool;r._setPoolcallbacks(t,r,n)}}}}_patchGetConnection(e){return t=>{const r=this;return function(n,o,s){if(!r._enabled)return r._unwrap(e,"getConnection"),t.apply(e,arguments);if(1===arguments.length&&"function"==typeof n){const o=r._getConnectionCallbackPatchFn(n);return t.call(e,o)}if(2===arguments.length&&"function"==typeof o){const s=r._getConnectionCallbackPatchFn(o);return t.call(e,n,s)}if(3===arguments.length&&"function"==typeof s){const i=r._getConnectionCallbackPatchFn(s);return t.call(e,n,o,i)}return t.apply(e,arguments)}}}_getConnectionCallbackPatchFn(e){const t=this,r=n.context.active();return function(s,i){i&&((0,o.isWrapped)(i.query)||t._wrap(i,"query",t._patchQuery(i))),"function"==typeof e&&n.context.with(r,e,this,s,i)}}_patchQuery(e){return t=>{const r=this;return function(o,c,u){if(!r._enabled)return r._unwrap(e,"query"),t.apply(e,arguments);const p=r.tracer.startSpan((0,a.getSpanName)(o),{kind:n.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},l.COMMON_ATTRIBUTES),(0,a.getConnectionAttributes)(e.config))});if(p.setAttribute(s.SEMATTRS_DB_STATEMENT,(0,a.getDbStatement)(o)),r.getConfig().enhancedDatabaseReporting){let e;Array.isArray(c)?e=c:arguments[2]&&(e=[c]),p.setAttribute(i.AttributeNames.MYSQL_VALUES,(0,a.getDbValues)(o,e))}const d=Array.from(arguments).findIndex((e=>"function"==typeof e)),h=n.context.active();if(-1===d){const r=n.context.with(n.trace.setSpan(n.context.active(),p),(()=>t.apply(e,arguments)));return n.context.bind(h,r),r.on("error",(e=>p.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}))).on("end",(()=>{p.end()}))}return r._wrap(arguments,d,r._patchCallbackQuery(p,h)),n.context.with(n.trace.setSpan(n.context.active(),p),(()=>t.apply(e,arguments)))}}}_patchCallbackQuery(e,t){return r=>function(o,s,i){return o&&e.setStatus({code:n.SpanStatusCode.ERROR,message:o.message}),e.end(),n.context.with(t,(()=>r(...arguments)))}}_setPoolcallbacks(e,t,r){const n=r||(0,a.getPoolName)(e);e.on("connection",(e=>{t._connectionsUsage.add(1,{state:"idle",name:n})})),e.on("acquire",(e=>{t._connectionsUsage.add(-1,{state:"idle",name:n}),t._connectionsUsage.add(1,{state:"used",name:n})})),e.on("release",(e=>{t._connectionsUsage.add(-1,{state:"used",name:n}),t._connectionsUsage.add(1,{state:"idle",name:n})}))}}t.MySQLInstrumentation=l,l.COMMON_ATTRIBUTES={[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_MYSQL}},54223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67731:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPoolName=t.arrayStringifyHelper=t.getSpanName=t.getDbValues=t.getDbStatement=t.getConnectionAttributes=void 0;const n=r(51002);function o(e,t,r){let n=`jdbc:mysql://${e||"localhost"}`;return"number"==typeof t&&(n+=`:${t}`),"string"==typeof r&&(n+=`/${r}`),n}function s(e){return e?`[${e.toString()}]`:""}t.getConnectionAttributes=function(e){const{host:t,port:r,database:s,user:i}=function(e){const{host:t,port:r,database:n,user:o}=e&&e.connectionConfig||e||{};return{host:t,port:r,database:n,user:o}}(e),a=parseInt(r,10);return isNaN(a)?{[n.SEMATTRS_NET_PEER_NAME]:t,[n.SEMATTRS_DB_CONNECTION_STRING]:o(t,r,s),[n.SEMATTRS_DB_NAME]:s,[n.SEMATTRS_DB_USER]:i}:{[n.SEMATTRS_NET_PEER_NAME]:t,[n.SEMATTRS_NET_PEER_PORT]:a,[n.SEMATTRS_DB_CONNECTION_STRING]:o(t,r,s),[n.SEMATTRS_DB_NAME]:s,[n.SEMATTRS_DB_USER]:i}},t.getDbStatement=function(e){return"string"==typeof e?e:e.sql},t.getDbValues=function(e,t){return s("string"==typeof e?t:t||e.values)},t.getSpanName=function(e){return"object"==typeof e?e.sql:e.split(" ")[0]},t.arrayStringifyHelper=s,t.getPoolName=function(e){const t=e.config.connectionConfig;let r="";return r+=t.host?`host: '${t.host}', `:"",r+=t.port?`port: ${t.port}, `:"",r+=t.database?`database: '${t.database}', `:"",r+=t.user?`user: '${t.user}'`:"",t.user||(r=r.substring(0,r.length-2)),r.trim()}},4441:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mysql"},73932:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(48330),t),o(r(42537),t)},48330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MySQL2Instrumentation=void 0;const n=r(74681),o=r(25907),s=r(51002),i=r(57263),a=r(64677),c=r(76224);class l extends o.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new o.InstrumentationNodeModuleDefinition("mysql2",[">=1.4.2 <4"],(e=>{const t=e.Connection.prototype;return(0,o.isWrapped)(t.query)&&this._unwrap(t,"query"),this._wrap(t,"query",this._patchQuery(e.format,!1)),(0,o.isWrapped)(t.execute)&&this._unwrap(t,"execute"),this._wrap(t,"execute",this._patchQuery(e.format,!0)),e}),(e=>{if(void 0===e)return;const t=e.Connection.prototype;this._unwrap(t,"query"),this._unwrap(t,"execute")}))]}_patchQuery(e,t){return r=>{const c=this;return function(u,p,d){let h;Array.isArray(p)?h=p:arguments[2]&&(h=[p]);const f=c.tracer.startSpan((0,a.getSpanName)(u),{kind:n.SpanKind.CLIENT,attributes:Object.assign(Object.assign(Object.assign({},l.COMMON_ATTRIBUTES),(0,a.getConnectionAttributes)(this.config)),{[s.SEMATTRS_DB_STATEMENT]:(0,a.getDbStatement)(u,e,h)})});!t&&c.getConfig().addSqlCommenterCommentToQueries&&(arguments[0]=u="string"==typeof u?(0,i.addSqlCommenterComment)(f,u):Object.assign(u,{sql:(0,i.addSqlCommenterComment)(f,u.sql)}));const m=(0,a.once)(((e,t)=>{if(e)f.setStatus({code:n.SpanStatusCode.ERROR,message:e.message});else{const{responseHook:e}=c.getConfig();"function"==typeof e&&(0,o.safeExecuteInTheMiddle)((()=>{e(f,{queryResults:t})}),(e=>{e&&c._diag.warn("Failed executing responseHook",e)}),!0)}f.end()}));if(1===arguments.length){"function"==typeof u.onResult&&c._wrap(u,"onResult",c._patchCallbackQuery(m));const e=r.apply(this,arguments);return e.once("error",(e=>{m(e)})).once("result",(e=>{m(void 0,e)})),e}return"function"==typeof arguments[1]?c._wrap(arguments,1,c._patchCallbackQuery(m)):"function"==typeof arguments[2]&&c._wrap(arguments,2,c._patchCallbackQuery(m)),r.apply(this,arguments)}}}_patchCallbackQuery(e){return t=>function(r,n,o){return e(r,n),t(...arguments)}}}t.MySQL2Instrumentation=l,l.COMMON_ATTRIBUTES={[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_MYSQL}},42537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64677:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.getSpanName=t.getDbStatement=t.getConnectionAttributes=void 0;const n=r(51002);function o(e,t,r){let n=`jdbc:mysql://${e||"localhost"}`;return"number"==typeof t&&(n+=`:${t}`),"string"==typeof r&&(n+=`/${r}`),n}t.getConnectionAttributes=function(e){const{host:t,port:r,database:s,user:i}=function(e){const{host:t,port:r,database:n,user:o}=e&&e.connectionConfig||e||{};return{host:t,port:r,database:n,user:o}}(e),a=parseInt(r,10);return isNaN(a)?{[n.SEMATTRS_NET_PEER_NAME]:t,[n.SEMATTRS_DB_CONNECTION_STRING]:o(t,r,s),[n.SEMATTRS_DB_NAME]:s,[n.SEMATTRS_DB_USER]:i}:{[n.SEMATTRS_NET_PEER_NAME]:t,[n.SEMATTRS_NET_PEER_PORT]:a,[n.SEMATTRS_DB_CONNECTION_STRING]:o(t,r,s),[n.SEMATTRS_DB_NAME]:s,[n.SEMATTRS_DB_USER]:i}},t.getDbStatement=function(e,t,r){return"string"==typeof e?r?t(e,r):e:r||e.values?t(e.sql,r||e.values):e.sql},t.getSpanName=function(e){var t;const r="object"==typeof e?e.sql:e;return null===(t=null==r?void 0:r.split(" "))||void 0===t?void 0:t[0]},t.once=e=>{let t=!1;return(...r)=>{if(!t)return t=!0,e(...r)}}},76224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mysql2"},88736:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).VERSION="nestjs.version",r.TYPE="nestjs.type",r.MODULE="nestjs.module",r.CONTROLLER="nestjs.controller",r.CALLBACK="nestjs.callback",r.PIPES="nestjs.pipes",r.INTERCEPTORS="nestjs.interceptors",r.GUARDS="nestjs.guards"},68866:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NestType=void 0,(r=t.NestType||(t.NestType={})).APP_CREATION="app_creation",r.REQUEST_CONTEXT="request_context",r.REQUEST_HANDLER="handler"},42938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestType=t.AttributeNames=void 0;var n=r(88736);Object.defineProperty(t,"AttributeNames",{enumerable:!0,get:function(){return n.AttributeNames}});var o=r(68866);Object.defineProperty(t,"NestType",{enumerable:!0,get:function(){return o.NestType}})},84455:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(43265),t),o(r(88736),t)},43265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(72087),i=r(51002),a=r(42938),c=[">=4.0.0 <11"];class l extends o.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){const e=new o.InstrumentationNodeModuleDefinition(l.COMPONENT,c);return e.files.push(this.getNestFactoryFileInstrumentation(c),this.getRouterExecutionContextFileInstrumentation(c)),e}getNestFactoryFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/core/nest-factory.js",e,((e,t)=>(this.ensureWrapped(e.NestFactoryStatic.prototype,"create",function(e,t){return function(r){return function(o){const s=e.startSpan("Create Nest App",{attributes:Object.assign(Object.assign({},l.COMMON_ATTRIBUTES),{[a.AttributeNames.TYPE]:a.NestType.APP_CREATION,[a.AttributeNames.VERSION]:t,[a.AttributeNames.MODULE]:o.name})}),i=n.trace.setSpan(n.context.active(),s);return n.context.with(i,(async()=>{try{return await r.apply(this,arguments)}catch(e){throw u(s,e)}finally{s.end()}}))}}}(this.tracer,t)),e)),(e=>{this._unwrap(e.NestFactoryStatic.prototype,"create")}))}getRouterExecutionContextFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/core/router/router-execution-context.js",e,((e,t)=>(this.ensureWrapped(e.RouterExecutionContext.prototype,"create",function(e,t){return function(r){return function(o,s){arguments[1]=function(e,t,r){const o=r.name||"anonymous nest handler",s={attributes:Object.assign(Object.assign({},l.COMMON_ATTRIBUTES),{[a.AttributeNames.VERSION]:t,[a.AttributeNames.TYPE]:a.NestType.REQUEST_HANDLER,[a.AttributeNames.CALLBACK]:r.name})},i=function(){const t=e.startSpan(o,s),i=n.trace.setSpan(n.context.active(),t);return n.context.with(i,(async()=>{try{return await r.apply(this,arguments)}catch(e){throw u(t,e)}finally{t.end()}}))};return r.name&&Object.defineProperty(i,"name",{value:r.name}),Reflect.getMetadataKeys(r).forEach((e=>{Reflect.defineMetadata(e,Reflect.getMetadata(e,r),i)})),i}(e,t,s);const c=r.apply(this,arguments),p=s.name,d=o.constructor&&o.constructor.name?o.constructor.name:"UnnamedInstance",h=p?`${d}.${p}`:d;return function(r,o,s){var f,m;const g=e.startSpan(h,{attributes:Object.assign(Object.assign({},l.COMMON_ATTRIBUTES),{[a.AttributeNames.VERSION]:t,[a.AttributeNames.TYPE]:a.NestType.REQUEST_CONTEXT,[i.SEMATTRS_HTTP_METHOD]:r.method,[i.SEMATTRS_HTTP_URL]:r.originalUrl||r.url,[i.SEMATTRS_HTTP_ROUTE]:(null===(f=r.route)||void 0===f?void 0:f.path)||(null===(m=r.routeOptions)||void 0===m?void 0:m.url)||r.routerPath,[a.AttributeNames.CONTROLLER]:d,[a.AttributeNames.CALLBACK]:p})}),E=n.trace.setSpan(n.context.active(),g);return n.context.with(E,(async()=>{try{return await c.apply(this,arguments)}catch(e){throw u(g,e)}finally{g.end()}}))}}}}(this.tracer,t)),e)),(e=>{this._unwrap(e.RouterExecutionContext.prototype,"create")}))}ensureWrapped(e,t,r){(0,o.isWrapped)(e[t])&&this._unwrap(e,t),this._wrap(e,t,r)}}t.NestInstrumentation=l,l.COMPONENT="@nestjs/core",l.COMMON_ATTRIBUTES={component:l.COMPONENT};const u=(e,t)=>(e.recordException(t),e.setStatus({code:n.SpanStatusCode.ERROR,message:t.message}),t)},72087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-nestjs-core"},34974:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(r=t.AttributeNames||(t.AttributeNames={})).PG_VALUES="db.postgresql.values",r.PG_PLAN="db.postgresql.plan",r.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",r.MAX_CLIENT="db.postgresql.max.client"},6760:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanNames=void 0,(r=t.SpanNames||(t.SpanNames={})).QUERY_PREFIX="pg.query",r.CONNECT="pg.connect",r.POOL_CONNECT="pg-pool.connect"},65:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(14423),t),o(r(97904),t),o(r(34974),t)},14423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PgInstrumentation=void 0;const n=r(25907),o=r(74681),s=r(61644),i=r(57263),a=r(73953),c=r(6760);class l extends n.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}init(){return[new n.InstrumentationNodeModuleDefinition("pg",[">=8.0.0 <9"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return(0,n.isWrapped)(t.Client.prototype.query)&&this._unwrap(t.Client.prototype,"query"),(0,n.isWrapped)(t.Client.prototype.connect)&&this._unwrap(t.Client.prototype,"connect"),this._wrap(t.Client.prototype,"query",this._getClientQueryPatch()),this._wrap(t.Client.prototype,"connect",this._getClientConnectPatch()),e}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;(0,n.isWrapped)(t.Client.prototype.query)&&this._unwrap(t.Client.prototype,"query")})),new n.InstrumentationNodeModuleDefinition("pg-pool",[">=2.0.0 <4"],(e=>((0,n.isWrapped)(e.prototype.connect)&&this._unwrap(e.prototype,"connect"),this._wrap(e.prototype,"connect",this._getPoolConnectPatch()),e)),(e=>{(0,n.isWrapped)(e.prototype.connect)&&this._unwrap(e.prototype,"connect")}))]}_getClientConnectPatch(){const e=this;return t=>function(r){if(s.shouldSkipInstrumentation(e.getConfig()))return t.call(this,r);const n=e.tracer.startSpan(c.SpanNames.CONNECT,{kind:o.SpanKind.CLIENT,attributes:s.getSemanticAttributesFromConnection(this)});if(r){const e=o.trace.getSpan(o.context.active());r=s.patchClientConnectCallback(n,r),e&&(r=o.context.bind(o.context.active(),r))}return u(n,o.context.with(o.trace.setSpan(o.context.active(),n),(()=>t.call(this,r))))}}_getClientQueryPatch(){const e=this;return t=>(this._diag.debug("Patching pg.Client.prototype.query"),function(...r){if(s.shouldSkipInstrumentation(e.getConfig()))return t.apply(this,r);const a=r[0],c="string"==typeof a,l=s.isObjectWithTextString(a),u=c?{text:a,values:Array.isArray(r[1])?r[1]:void 0}:l?a:void 0,p=e.getConfig(),d=s.handleConfigQuery.call(this,e.tracer,p,u);if(p.addSqlCommenterCommentToQueries&&(r[0]=c?(0,i.addSqlCommenterComment)(d,a):l?Object.assign(Object.assign({},a),{text:(0,i.addSqlCommenterComment)(d,a.text)}):r[0]),r.length>0){const t=o.trace.getSpan(o.context.active());if("function"==typeof r[r.length-1])r[r.length-1]=s.patchCallback(p,d,r[r.length-1]),t&&(r[r.length-1]=o.context.bind(o.context.active(),r[r.length-1]));else if("function"==typeof(null==u?void 0:u.callback)){let n=s.patchCallback(e.getConfig(),d,u.callback);t&&(n=o.context.bind(o.context.active(),n)),r[0].callback=n}}const{requestHook:h}=p;let f;"function"==typeof h&&u&&(0,n.safeExecuteInTheMiddle)((()=>{const{database:e,host:t,port:r,user:n}=this.connectionParameters;h(d,{connection:{database:e,host:t,port:r,user:n},query:{text:u.text,values:u.values,name:u.name}})}),(t=>{t&&e._diag.error("Error running query hook",t)}),!0);try{f=t.apply(this,r)}catch(e){throw d.setStatus({code:o.SpanStatusCode.ERROR,message:s.getErrorMessage(e)}),d.end(),e}return f instanceof Promise?f.then((t=>new Promise((r=>{s.handleExecutionResult(e.getConfig(),d,t),d.end(),r(t)})))).catch((e=>new Promise(((t,r)=>{d.setStatus({code:o.SpanStatusCode.ERROR,message:e.message}),d.end(),r(e)})))):f})}_getPoolConnectPatch(){const e=this;return t=>function(r){if(s.shouldSkipInstrumentation(e.getConfig()))return t.call(this,r);const n=e.tracer.startSpan(c.SpanNames.POOL_CONNECT,{kind:o.SpanKind.CLIENT,attributes:s.getSemanticAttributesFromPool(this.options)});if(r){const e=o.trace.getSpan(o.context.active());r=s.patchCallbackPGPool(n,r),e&&(r=o.context.bind(o.context.active(),r))}return u(n,o.context.with(o.trace.setSpan(o.context.active(),n),(()=>t.call(this,r))))}}}function u(e,t){if(!(t instanceof Promise))return t;const r=t;return o.context.bind(o.context.active(),r.then((t=>(e.end(),t))).catch((t=>(e.setStatus({code:o.SpanStatusCode.ERROR,message:s.getErrorMessage(t)}),e.end(),Promise.reject(t)))))}t.PgInstrumentation=l},97904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},61644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObjectWithTextString=t.getErrorMessage=t.patchClientConnectCallback=t.patchCallbackPGPool=t.patchCallback=t.handleExecutionResult=t.handleConfigQuery=t.shouldSkipInstrumentation=t.getSemanticAttributesFromPool=t.getSemanticAttributesFromConnection=t.getConnectionString=t.getQuerySpanName=void 0;const n=r(74681),o=r(34974),s=r(51002),i=r(25907),a=r(6760);function c(e,t){if(!t)return a.SpanNames.QUERY_PREFIX;const r="string"==typeof t.name&&t.name?t.name:function(e){const t=e.indexOf(" ");let r=-1===t?e:e.slice(0,t);return r=r.toUpperCase(),r.endsWith(";")?r.slice(0,-1):r}(t.text);return`${a.SpanNames.QUERY_PREFIX}:${r}${e?` ${e}`:""}`}function l(e){return`postgresql://${e.host||"localhost"}:${e.port||5432}/${e.database||""}`}function u(e){if(Number.isInteger(e))return e}function p(e){return{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_POSTGRESQL,[s.SEMATTRS_DB_NAME]:e.database,[s.SEMATTRS_DB_CONNECTION_STRING]:l(e),[s.SEMATTRS_NET_PEER_NAME]:e.host,[s.SEMATTRS_NET_PEER_PORT]:u(e.port),[s.SEMATTRS_DB_USER]:e.user}}function d(e,t,r){"function"==typeof e.responseHook&&(0,i.safeExecuteInTheMiddle)((()=>{e.responseHook(t,{data:r})}),(e=>{e&&n.diag.error("Error running response hook",e)}),!0)}t.getQuerySpanName=c,t.getConnectionString=l,t.getSemanticAttributesFromConnection=p,t.getSemanticAttributesFromPool=function(e){return{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_POSTGRESQL,[s.SEMATTRS_DB_NAME]:e.database,[s.SEMATTRS_DB_CONNECTION_STRING]:l(e),[s.SEMATTRS_NET_PEER_NAME]:e.host,[s.SEMATTRS_NET_PEER_PORT]:u(e.port),[s.SEMATTRS_DB_USER]:e.user,[o.AttributeNames.IDLE_TIMEOUT_MILLIS]:e.idleTimeoutMillis,[o.AttributeNames.MAX_CLIENT]:e.maxClient}},t.shouldSkipInstrumentation=function(e){return!0===e.requireParentSpan&&void 0===n.trace.getSpan(n.context.active())},t.handleConfigQuery=function(e,t,r){const{connectionParameters:i}=this,a=c(i.database,r),l=e.startSpan(a,{kind:n.SpanKind.CLIENT,attributes:p(i)});if(!r)return l;if(r.text&&l.setAttribute(s.SEMATTRS_DB_STATEMENT,r.text),t.enhancedDatabaseReporting&&Array.isArray(r.values))try{const e=r.values.map((e=>null==e?"null":e instanceof Buffer?e.toString():"object"==typeof e?"function"==typeof e.toPostgres?e.toPostgres():JSON.stringify(e):e.toString()));l.setAttribute(o.AttributeNames.PG_VALUES,e)}catch(e){n.diag.error("failed to stringify ",r.values,e)}return"string"==typeof r.name&&l.setAttribute(o.AttributeNames.PG_PLAN,r.name),l},t.handleExecutionResult=d,t.patchCallback=function(e,t,r){return function(o,s){o?t.setStatus({code:n.SpanStatusCode.ERROR,message:o.message}):d(e,t,s),t.end(),r.call(this,o,s)}},t.patchCallbackPGPool=function(e,t){return function(r,o,s){r&&e.setStatus({code:n.SpanStatusCode.ERROR,message:r.message}),e.end(),t.call(this,r,o,s)}},t.patchClientConnectCallback=function(e,t){return function(r){r&&e.setStatus({code:n.SpanStatusCode.ERROR,message:r.message}),e.end(),t.apply(this,arguments)}},t.getErrorMessage=function(e){return"object"==typeof e&&null!==e&&"message"in e?String(e.message):void 0},t.isObjectWithTextString=function(e){var t;return"object"==typeof e&&"string"==typeof(null===(t=e)||void 0===t?void 0:t.text)}},73953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.44.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-pg"},92554:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(98476),t),o(r(64519),t)},98476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedisInstrumentation=void 0;const n=r(74681),o=r(25907),s=r(69147),i=r(67238),a=r(89534),c=r(51002),l=Symbol("opentelemetry.instrumentation.redis.open_spans"),u=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),p={requireParentSpan:!1};class d extends o.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,Object.assign(Object.assign({},p),e))}setConfig(e={}){super.setConfig(Object.assign(Object.assign({},p),e))}init(){return[this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){const t=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],((e,t)=>{const r=e.transformCommandArguments;if(!r)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),e;const n=(null==t?void 0:t.startsWith("1.0."))?"extendWithCommands":"attachCommands";return(0,o.isWrapped)(null==e?void 0:e[n])&&this._unwrap(e,n),this._wrap(e,n,this._getPatchExtendWithCommands(r)),e}),(e=>{(0,o.isWrapped)(null==e?void 0:e.extendWithCommands)&&this._unwrap(e,"extendWithCommands"),(0,o.isWrapped)(null==e?void 0:e.attachCommands)&&this._unwrap(e,"attachCommands")})),r=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0"],(e=>{var t;const r=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;return(0,o.isWrapped)(null==r?void 0:r.exec)&&this._unwrap(r,"exec"),this._wrap(r,"exec",this._getPatchMultiCommandsExec()),(0,o.isWrapped)(null==r?void 0:r.addCommand)&&this._unwrap(r,"addCommand"),this._wrap(r,"addCommand",this._getPatchMultiCommandsAddCommand()),e}),(e=>{var t;const r=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;(0,o.isWrapped)(null==r?void 0:r.exec)&&this._unwrap(r,"exec"),(0,o.isWrapped)(null==r?void 0:r.addCommand)&&this._unwrap(r,"addCommand")})),n=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0"],(e=>{var t;const r=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;return(null==r?void 0:r.multi)&&((0,o.isWrapped)(null==r?void 0:r.multi)&&this._unwrap(r,"multi"),this._wrap(r,"multi",this._getPatchRedisClientMulti())),(null==r?void 0:r.MULTI)&&((0,o.isWrapped)(null==r?void 0:r.MULTI)&&this._unwrap(r,"MULTI"),this._wrap(r,"MULTI",this._getPatchRedisClientMulti())),(0,o.isWrapped)(null==r?void 0:r.sendCommand)&&this._unwrap(r,"sendCommand"),this._wrap(r,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(r,"connect",this._getPatchedClientConnect()),e}),(e=>{var t;const r=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;(0,o.isWrapped)(null==r?void 0:r.multi)&&this._unwrap(r,"multi"),(0,o.isWrapped)(null==r?void 0:r.MULTI)&&this._unwrap(r,"MULTI"),(0,o.isWrapped)(null==r?void 0:r.sendCommand)&&this._unwrap(r,"sendCommand")}));return new o.InstrumentationNodeModuleDefinition(e,["^1.0.0"],(e=>e),(()=>{}),[t,r,n])}_getPatchExtendWithCommands(e){const t=this;return function(r){return function(n){var o;if("RedisClient"!==(null===(o=null==n?void 0:n.BaseClass)||void 0===o?void 0:o.name))return r.apply(this,arguments);const s=n.executor;return n.executor=function(r,n){const o=e(r,n).args;return t._traceClientCommand(s,this,arguments,o)},r.apply(this,arguments)}}}_getPatchMultiCommandsExec(){const e=this;return function(t){return function(){const r=t.apply(this,arguments);return"function"!=typeof(null==r?void 0:r.then)?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),r):r.then((t=>{const r=this[l];return e._endSpansWithRedisReplies(r,t),t})).catch((t=>{const r=this[l];if(r){const n="MultiErrorReply"===t.constructor.name?t.replies:new Array(r.length).fill(t);e._endSpansWithRedisReplies(r,n)}else e._diag.error("cannot find open spans to end for redis multi command");return Promise.reject(t)}))}}}_getPatchMultiCommandsAddCommand(){const e=this;return function(t){return function(r){return e._traceClientCommand(t,this,arguments,r)}}}_getPatchRedisClientMulti(){return function(e){return function(){const t=e.apply(this,arguments);return t[u]=this.options,t}}}_getPatchRedisClientSendCommand(){const e=this;return function(t){return function(r){return e._traceClientCommand(t,this,arguments,r)}}}_getPatchedClientConnect(){const e=this;return function(t){return function(){const r=this.options,o=(0,s.getClientAttributes)(e._diag,r),i=e.tracer.startSpan(`${d.COMPONENT}-connect`,{kind:n.SpanKind.CLIENT,attributes:o});return n.context.with(n.trace.setSpan(n.context.active(),i),(()=>t.apply(this))).then((e=>(i.end(),e))).catch((e=>(i.recordException(e),i.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}),i.end(),Promise.reject(e))))}}}_traceClientCommand(e,t,r,o){if(void 0===n.trace.getSpan(n.context.active())&&this.getConfig().requireParentSpan)return e.apply(t,r);const a=t.options||t[u],p=o[0],h=o.slice(1),f=this.getConfig().dbStatementSerializer||i.defaultDbStatementSerializer,m=(0,s.getClientAttributes)(this._diag,a);try{const e=f(p,h);null!=e&&(m[c.SEMATTRS_DB_STATEMENT]=e)}catch(e){this._diag.error("dbStatementSerializer throw an exception",e,{commandName:p})}const g=this.tracer.startSpan(`${d.COMPONENT}-${p}`,{kind:n.SpanKind.CLIENT,attributes:m}),E=n.context.with(n.trace.setSpan(n.context.active(),g),(()=>e.apply(t,r)));if("function"==typeof(null==E?void 0:E.then))E.then((e=>{this._endSpanWithResponse(g,p,h,e,void 0)}),(e=>{this._endSpanWithResponse(g,p,h,null,e)}));else{const e=E;e[l]=e[l]||[],e[l].push({span:g,commandName:p,commandArgs:h})}return E}_endSpansWithRedisReplies(e,t){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(t.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let r=0;r<e.length;r++){const{span:n,commandName:o,commandArgs:s}=e[r],i=t[r],[a,c]=i instanceof Error?[null,i]:[i,void 0];this._endSpanWithResponse(n,o,s,a,c)}}_endSpanWithResponse(e,t,r,o,s){const{responseHook:i}=this.getConfig();if(!s&&i)try{i(e,t,r,o)}catch(e){this._diag.error("responseHook throw an exception",e)}s&&(e.recordException(s),e.setStatus({code:n.SpanStatusCode.ERROR,message:null==s?void 0:s.message})),e.end()}}t.RedisInstrumentation=d,d.COMPONENT="redis"},64519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},69147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAttributes=void 0;const n=r(51002);function o(e,t){if("string"==typeof t)try{const e=new URL(t);return e.searchParams.delete("user_pwd"),e.username="",e.password="",e.href}catch(t){e.error("failed to sanitize redis connection url",t)}}t.getClientAttributes=function(e,t){var r,s;return{[n.SEMATTRS_DB_SYSTEM]:n.DBSYSTEMVALUES_REDIS,[n.SEMATTRS_NET_PEER_NAME]:null===(r=null==t?void 0:t.socket)||void 0===r?void 0:r.host,[n.SEMATTRS_NET_PEER_PORT]:null===(s=null==t?void 0:t.socket)||void 0===s?void 0:s.port,[n.SEMATTRS_DB_CONNECTION_STRING]:o(e,null==t?void 0:t.url)}}},89534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4"},42081:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(43671),t),o(r(44400),t)},43671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TediousInstrumentation=void 0;const n=r(74681),o=r(24434),s=r(42997),i=r(51002),a=r(34412),c=r(95105),l=Symbol("opentelemetry.instrumentation-tedious.current-database"),u=["callProcedure","execSql","execSqlBatch","execBulkLoad","prepare","execute"];function p(e){Object.defineProperty(this,l,{value:e,writable:!0})}class d extends s.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new s.InstrumentationNodeModuleDefinition(d.COMPONENT,[">=1.11.0 <20"],(e=>{const t=e.Connection.prototype;for(const e of u)(0,s.isWrapped)(t[e])&&this._unwrap(t,e),this._wrap(t,e,this._patchQuery(e));return(0,s.isWrapped)(t.connect)&&this._unwrap(t,"connect"),this._wrap(t,"connect",this._patchConnect),e}),(e=>{if(void 0===e)return;const t=e.Connection.prototype;for(const e of u)this._unwrap(t,e);this._unwrap(t,"connect")}))]}_patchConnect(e){return function(){var t,r;return p.call(this,null===(r=null===(t=this.config)||void 0===t?void 0:t.options)||void 0===r?void 0:r.database),this.removeListener("databaseChange",p),this.on("databaseChange",p),this.once("end",(()=>{this.removeListener("databaseChange",p)})),e.apply(this,arguments)}}_patchQuery(e){return t=>{const r=this;function s(s){var c,u,p,d,h,f,m,g;if(!(s instanceof o.EventEmitter))return r._diag.warn(`Unexpected invocation of patched ${e} method. Span not recorded`),t.apply(this,arguments);let E=0,S=0;const _=()=>S++,y=()=>E++,A=this[l],v=(e=>{var t,r;return"sp_prepare"===e.sqlTextOrProcedure&&(null===(r=null===(t=e.parametersByName)||void 0===t?void 0:t.stmt)||void 0===r?void 0:r.value)?e.parametersByName.stmt.value:e.sqlTextOrProcedure})(s),T=r.tracer.startSpan((0,a.getSpanName)(e,A,v,s.table),{kind:n.SpanKind.CLIENT,attributes:{[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_MSSQL,[i.SEMATTRS_DB_NAME]:A,[i.SEMATTRS_NET_PEER_PORT]:null===(u=null===(c=this.config)||void 0===c?void 0:c.options)||void 0===u?void 0:u.port,[i.SEMATTRS_NET_PEER_NAME]:null===(p=this.config)||void 0===p?void 0:p.server,[i.SEMATTRS_DB_USER]:null!==(h=null===(d=this.config)||void 0===d?void 0:d.userName)&&void 0!==h?h:null===(g=null===(m=null===(f=this.config)||void 0===f?void 0:f.authentication)||void 0===m?void 0:m.options)||void 0===g?void 0:g.userName,[i.SEMATTRS_DB_STATEMENT]:v,[i.SEMATTRS_DB_SQL_TABLE]:s.table}}),b=(0,a.once)((e=>{s.removeListener("done",_),s.removeListener("doneInProc",_),s.removeListener("doneProc",y),s.removeListener("error",b),this.removeListener("end",b),T.setAttribute("tedious.procedure_count",E),T.setAttribute("tedious.statement_count",S),e&&T.setStatus({code:n.SpanStatusCode.ERROR,message:e.message}),T.end()}));return s.on("done",_),s.on("doneInProc",_),s.on("doneProc",y),s.once("error",b),this.on("end",b),"function"==typeof s.callback?r._wrap(s,"callback",r._patchCallbackQuery(b)):r._diag.error("Expected request.callback to be a function"),n.context.with(n.trace.setSpan(n.context.active(),T),t,this,...arguments)}return Object.defineProperty(s,"length",{value:t.length,writable:!1}),s}}_patchCallbackQuery(e){return t=>function(r,n,o){return e(r),t.apply(this,arguments)}}}t.TediousInstrumentation=d,d.COMPONENT="tedious"},44400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.getSpanName=void 0,t.getSpanName=function(e,t,r,n){return"execBulkLoad"===e&&n&&t?`${e} ${n} ${t}`:"callProcedure"===e?t?`${e} ${r} ${t}`:`${e} ${r}`:t?`${e} ${t}`:`${e}`},t.once=e=>{let t=!1;return(...r)=>{if(!t)return t=!0,e(...r)}}},95105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.15.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-tedious"},42997:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(24619),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(48480).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},48480:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=48480,e.exports=t},45822:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(29761),{safeRe:i,t:a}=r(2252),c=r(5617),l=r(3126),u=r(78010),p=r(88017)},88017:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(53296)),i=r(29761),a=r(45822),c=r(3126),l=r(78010),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(2252),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(36912),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},78010:(e,t,r)=>{const n=r(3126),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(36912),{safeRe:i,t:a}=r(2252),c=r(29761),{compareIdentifiers:l}=r(11185);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},2132:(e,t,r)=>{const n=r(82574);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},5617:(e,t,r)=>{const n=r(7075),o=r(96641),s=r(57730),i=r(25099),a=r(37381),c=r(20310);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},3004:(e,t,r)=>{const n=r(78010),o=r(82574),{safeRe:s,t:i}=r(2252);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},18875:(e,t,r)=>{const n=r(78010);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},46489:(e,t,r)=>{const n=r(40826);e.exports=(e,t)=>n(e,t,!0)},40826:(e,t,r)=>{const n=r(78010);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},9762:(e,t,r)=>{const n=r(82574);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},7075:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>0===n(e,t,r)},57730:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>n(e,t,r)>0},25099:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>n(e,t,r)>=0},11589:(e,t,r)=>{const n=r(78010);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},37381:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>n(e,t,r)<0},20310:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>n(e,t,r)<=0},68644:(e,t,r)=>{const n=r(78010);e.exports=(e,t)=>new n(e,t).major},19208:(e,t,r)=>{const n=r(78010);e.exports=(e,t)=>new n(e,t).minor},96641:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>0!==n(e,t,r)},82574:(e,t,r)=>{const n=r(78010);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},49567:(e,t,r)=>{const n=r(78010);e.exports=(e,t)=>new n(e,t).patch},63111:(e,t,r)=>{const n=r(82574);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},13852:(e,t,r)=>{const n=r(40826);e.exports=(e,t,r)=>n(t,e,r)},16691:(e,t,r)=>{const n=r(18875);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},90788:(e,t,r)=>{const n=r(88017);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},16621:(e,t,r)=>{const n=r(18875);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},4243:(e,t,r)=>{const n=r(82574);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},24619:(e,t,r)=>{const n=r(2252),o=r(36912),s=r(78010),i=r(11185),a=r(82574),c=r(4243),l=r(2132),u=r(11589),p=r(9762),d=r(68644),h=r(19208),f=r(49567),m=r(63111),g=r(40826),E=r(13852),S=r(46489),_=r(18875),y=r(16621),A=r(16691),v=r(57730),T=r(37381),b=r(7075),I=r(96641),R=r(25099),O=r(20310),N=r(5617),C=r(3004),L=r(45822),w=r(88017),P=r(90788),M=r(40873),x=r(28662),k=r(77092),D=r(96519),V=r(48776),U=r(41989),G=r(42213),$=r(67100),B=r(24966),F=r(70363),j=r(96138);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},36912:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},3126:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},11185:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},53296:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},29761:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},2252:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(36912),i=r(3126),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},42213:(e,t,r)=>{const n=r(41989);e.exports=(e,t,r)=>n(e,t,">",r)},24966:(e,t,r)=>{const n=r(88017);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},67100:(e,t,r)=>{const n=r(41989);e.exports=(e,t,r)=>n(e,t,"<",r)},28662:(e,t,r)=>{const n=r(78010),o=r(88017);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},77092:(e,t,r)=>{const n=r(78010),o=r(88017);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},96519:(e,t,r)=>{const n=r(78010),o=r(88017),s=r(57730);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},41989:(e,t,r)=>{const n=r(78010),o=r(45822),{ANY:s}=o,i=r(88017),a=r(90788),c=r(57730),l=r(37381),u=r(20310),p=r(25099);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},70363:(e,t,r)=>{const n=r(90788),o=r(40826);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},96138:(e,t,r)=>{const n=r(88017),o=r(45822),{ANY:s}=o,i=r(90788),a=r(40826),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},40873:(e,t,r)=>{const n=r(88017);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},48776:(e,t,r)=>{const n=r(88017);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},91264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticAttributes=void 0,t.SemanticAttributes={HTTP_CONNECTION_STATE:"http.connection.state",ERROR_TYPE:"error.type",HTTP_REQUEST_BODY_SIZE:"http.request.body.size",HTTP_REQUEST_METHOD:"http.request.method",HTTP_REQUEST_METHOD_ORIGINAL:"http.request.method_original",HTTP_REQUEST_RESEND_COUNT:"http.request.resend_count",HTTP_RESPONSE_BODY_SIZE:"http.response.body.size",HTTP_RESPONSE_STATUS_CODE:"http.response.status_code",HTTP_ROUTE:"http.route",NETWORK_PEER_ADDRESS:"network.peer.address",NETWORK_PEER_PORT:"network.peer.port",NETWORK_PROTOCOL_NAME:"network.protocol.name",NETWORK_PROTOCOL_VERSION:"network.protocol.version",SERVER_ADDRESS:"server.address",SERVER_PORT:"server.port",URL_FULL:"url.full",URL_PATH:"url.path",URL_QUERY:"url.query",URL_SCHEME:"url.scheme",USER_AGENT_ORIGINAL:"user_agent.original"}},1740:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(91349),t),o(r(53993),t)},53993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndiciInstrumentation=void 0;const n=r(31637),o=r(87016),s=r(25907),i=r(74681),a=r(6592),c=r(91264),l=r(98035);class u extends s.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e),this._recordFromReq=new WeakMap}init(){}disable(){super.disable(),this._channelSubs.forEach((e=>e.channel.unsubscribe(e.onMessage))),this._channelSubs.length=0}enable(){super.enable(),this._channelSubs=this._channelSubs||[],this._channelSubs.length>0||(this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this)))}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram("http.client.request.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:i.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}})}subscribeToChannel(e,t){const r=n.channel(e);r.subscribe(t),this._channelSubs.push({name:e,channel:r,onMessage:t})}onRequestCreated({request:e}){const t=this.getConfig(),r=!1!==t.enabled;if((0,s.safeExecuteInTheMiddle)((()=>{var n;return!r||"CONNECT"===e.method||(null===(n=t.ignoreRequestHook)||void 0===n?void 0:n.call(t,e))}),(e=>e&&this._diag.error("caught ignoreRequestHook error: ",e)),!0))return;const n=(0,l.hrTime)(),a=new o.URL(e.origin+e.path),u=a.protocol.replace(":",""),p=this.getRequestMethod(e.method),d={[c.SemanticAttributes.HTTP_REQUEST_METHOD]:p,[c.SemanticAttributes.HTTP_REQUEST_METHOD_ORIGINAL]:e.method,[c.SemanticAttributes.URL_FULL]:a.toString(),[c.SemanticAttributes.URL_PATH]:a.pathname,[c.SemanticAttributes.URL_QUERY]:a.search,[c.SemanticAttributes.URL_SCHEME]:u},h=a.hostname,f=a.port||{https:"443",http:"80"}[u];let m;if(d[c.SemanticAttributes.SERVER_ADDRESS]=h,f&&!isNaN(Number(f))&&(d[c.SemanticAttributes.SERVER_PORT]=Number(f)),Array.isArray(e.headers)){const t=e.headers.findIndex((e=>"user-agent"===e.toLowerCase()));t>=0&&(m=e.headers[t+1])}else if("string"==typeof e.headers){const t=e.headers.split("\r\n").find((e=>e.toLowerCase().startsWith("user-agent")));m=t&&t.substring(t.indexOf(":")+1).trim()}m&&(d[c.SemanticAttributes.USER_AGENT_ORIGINAL]=m);const g=(0,s.safeExecuteInTheMiddle)((()=>{var r;return null===(r=t.startSpanHook)||void 0===r?void 0:r.call(t,e)}),(e=>e&&this._diag.error("caught startSpanHook error: ",e)),!0);g&&Object.entries(g).forEach((([e,t])=>{d[e]=t}));const E=i.context.active(),S=i.trace.getSpan(E);let _;_=!t.requireParentforSpans||S&&i.trace.isSpanContextValid(S.spanContext())?this.tracer.startSpan("_OTHER"===p?"HTTP":p,{kind:i.SpanKind.CLIENT,attributes:d},E):i.trace.wrapSpanContext(i.INVALID_SPAN_CONTEXT),(0,s.safeExecuteInTheMiddle)((()=>{var r;return null===(r=t.requestHook)||void 0===r?void 0:r.call(t,_,e)}),(e=>e&&this._diag.error("caught requestHook error: ",e)),!0);const y=i.trace.setSpan(i.context.active(),_),A={};i.propagation.inject(y,A);const v=Object.entries(A);for(let t=0;t<v.length;t++){const[r,n]=v[t];"function"==typeof e.addHeader?e.addHeader(r,n):"string"==typeof e.headers?e.headers+=`${r}: ${n}\r\n`:Array.isArray(e.headers)&&e.headers.push(r,n)}this._recordFromReq.set(e,{span:_,attributes:d,startTime:n})}onRequestHeaders({request:e,socket:t}){var r;const n=this._recordFromReq.get(e);if(!n)return;const o=this.getConfig(),{span:s}=n,{remoteAddress:i,remotePort:a}=t,l={[c.SemanticAttributes.NETWORK_PEER_ADDRESS]:i,[c.SemanticAttributes.NETWORK_PEER_PORT]:a};if(null===(r=o.headersToSpanAttributes)||void 0===r?void 0:r.requestHeaders){const t=new Set(o.headersToSpanAttributes.requestHeaders.map((e=>e.toLowerCase()))),r=Array.isArray(e.headers)?e.headers:e.headers.split("\r\n");r.forEach(((e,n)=>{const o=e.indexOf(":"),s=-1!==o,i=(s?e.substring(0,o):e).toLowerCase(),a=s?e.substring(o+1):r[n+1];t.has(i)&&(l[`http.request.header.${i}`]=a.trim())}))}s.setAttributes(l)}onResponseHeaders({request:e,response:t}){var r,n;const o=this._recordFromReq.get(e);if(!o)return;const{span:a,attributes:l}=o,u={[c.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE]:t.statusCode},p=this.getConfig();(0,s.safeExecuteInTheMiddle)((()=>{var r;return null===(r=p.responseHook)||void 0===r?void 0:r.call(p,a,{request:e,response:t})}),(e=>e&&this._diag.error("caught responseHook error: ",e)),!0);const d=new Set;(null===(r=p.headersToSpanAttributes)||void 0===r?void 0:r.responseHeaders)&&(null===(n=p.headersToSpanAttributes)||void 0===n||n.responseHeaders.forEach((e=>d.add(e.toLowerCase()))));for(let e=0;e<t.headers.length;e+=2){const r=t.headers[e].toString().toLowerCase(),n=t.headers[e+1];if(d.has(r)&&(u[`http.response.header.${r}`]=n.toString()),"content-length"===r){const e=Number(n.toString());isNaN(e)||(u["http.response.header.content-length"]=e)}}a.setAttributes(u),a.setStatus({code:t.statusCode>=400?i.SpanStatusCode.ERROR:i.SpanStatusCode.UNSET}),o.attributes=Object.assign(l,u)}onDone({request:e}){const t=this._recordFromReq.get(e);if(!t)return;const{span:r,attributes:n,startTime:o}=t;r.end(),this._recordFromReq.delete(e),this.recordRequestDuration(n,o)}onError({request:e,error:t}){const r=this._recordFromReq.get(e);if(!r)return;const{span:n,attributes:o,startTime:s}=r;n.recordException(t),n.setStatus({code:i.SpanStatusCode.ERROR,message:t.message}),n.end(),this._recordFromReq.delete(e),o[c.SemanticAttributes.ERROR_TYPE]=t.message,this.recordRequestDuration(o,s)}recordRequestDuration(e,t){const r={};[c.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE,c.SemanticAttributes.HTTP_REQUEST_METHOD,c.SemanticAttributes.SERVER_ADDRESS,c.SemanticAttributes.SERVER_PORT,c.SemanticAttributes.URL_SCHEME,c.SemanticAttributes.ERROR_TYPE].forEach((t=>{t in e&&(r[t]=e[t])}));const n=(0,l.hrTimeToMilliseconds)((0,l.hrTimeDuration)(t,(0,l.hrTime)()))/1e3;this._httpClientDurationHistogram.record(n,r)}getRequestMethod(e){return e.toUpperCase()in{CONNECT:!0,OPTIONS:!0,HEAD:!0,GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0,TRACE:!0}?e.toUpperCase():"_OTHER"}}t.UndiciInstrumentation=u},6592:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.6.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-undici"},25907:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>U,InstrumentationNodeModuleDefinition:()=>$,InstrumentationNodeModuleFile:()=>B,isWrapped:()=>x,registerInstrumentations:()=>p,safeExecuteInTheMiddle:()=>P,safeExecuteInTheMiddleAsync:()=>M});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=(new c,new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}())),u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=l,function(e){return 1===e?t:r}),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:l},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i]},e}().getInstance();function p(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||u.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var d=r(16928),h=r(39023),f=r(25107),m=r(81132),g=r(78758),E=function(){return E=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)},S=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=m.wrap,this._unwrap=m.unwrap,this._massWrap=m.massWrap,this._massUnwrap=m.massUnwrap,this.setConfig(r),this._diag=g.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=u.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=E({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),_=r(69136),y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},v=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},T="/",b=function(){this.hooks=[],this.children=new Map},I=function(){function e(){this._trie=new b,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=y(e.moduleName.split(T)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new b,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=y(e.split(T)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,v([],A(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,v([],A(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),R=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),O=function(){function e(){this._moduleNameTrie=new I,this._initialize()}return e.prototype._initialize=function(){var e=this;new _.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,d.sep!==T?i.split(d.sep).join(T):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return R?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),N=r(30616),C=r(79896),L=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},w=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function P(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function M(e,t,r){return L(this,void 0,void 0,(function(){var n,o,s;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function x(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var k,D=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),V=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},U=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=O.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(x(e[t])&&o._unwrap(e,t),h.types.isProxy(e)){var n=(0,m.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,m.wrap)(e,t,r)},o._unwrap=function(e,t){return h.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,m.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):g.s.error("must provide one or more functions to wrap on modules")):g.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):g.s.error("must provide one or more functions to wrap on modules")):g.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return D(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(24370).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,C.readFileSync)(d.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){g.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return G(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=d.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return G(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=V(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,V(l.files)),p=u.next();!p.done;p=u.next()){var h=p.value;h.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:h.name}),h.patch(h.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var f=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=d.isAbsolute(e.name)?new _.Hook([e.name],{internals:!0},t):m._requireInTheMiddleSingleton.register(e.name,t);m._hooks.push(r);var n=new N.Hook([e.name],{internals:!1},(function(t,r,n){return i._onRequire(e,t,r,n)}));m._hooks.push(n)},m=this;try{for(var g=V(this._modules),E=g.next();!E.done;E=g.next())f(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=V(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,V(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(S);function G(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,f.satisfies)(t,e,{includePrerelease:r})}))}var $=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},B=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,d.normalize)(e)}},24370:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=24370,e.exports=t},19670:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(24009),{safeRe:i,t:a}=r(29588),c=r(76201),l=r(97966),u=r(25618),p=r(19449)},19449:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(12120)),i=r(24009),a=r(19670),c=r(97966),l=r(25618),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(29588),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(57880),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},25618:(e,t,r)=>{const n=r(97966),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(57880),{safeRe:i,t:a}=r(29588),c=r(24009),{compareIdentifiers:l}=r(19753);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},85724:(e,t,r)=>{const n=r(98614);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},76201:(e,t,r)=>{const n=r(62011),o=r(93657),s=r(78394),i=r(27059),a=r(88429),c=r(88302);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},53252:(e,t,r)=>{const n=r(25618),o=r(98614),{safeRe:s,t:i}=r(29588);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},47187:(e,t,r)=>{const n=r(25618);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},59489:(e,t,r)=>{const n=r(47394);e.exports=(e,t)=>n(e,t,!0)},47394:(e,t,r)=>{const n=r(25618);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},80618:(e,t,r)=>{const n=r(98614);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},62011:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>0===n(e,t,r)},78394:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>n(e,t,r)>0},27059:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>n(e,t,r)>=0},30797:(e,t,r)=>{const n=r(25618);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},88429:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>n(e,t,r)<0},88302:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>n(e,t,r)<=0},83132:(e,t,r)=>{const n=r(25618);e.exports=(e,t)=>new n(e,t).major},78160:(e,t,r)=>{const n=r(25618);e.exports=(e,t)=>new n(e,t).minor},93657:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>0!==n(e,t,r)},98614:(e,t,r)=>{const n=r(25618);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},63671:(e,t,r)=>{const n=r(25618);e.exports=(e,t)=>new n(e,t).patch},70895:(e,t,r)=>{const n=r(98614);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},57620:(e,t,r)=>{const n=r(47394);e.exports=(e,t,r)=>n(t,e,r)},76555:(e,t,r)=>{const n=r(47187);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},79148:(e,t,r)=>{const n=r(19449);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},82069:(e,t,r)=>{const n=r(47187);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},70139:(e,t,r)=>{const n=r(98614);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},25107:(e,t,r)=>{const n=r(29588),o=r(57880),s=r(25618),i=r(19753),a=r(98614),c=r(70139),l=r(85724),u=r(30797),p=r(80618),d=r(83132),h=r(78160),f=r(63671),m=r(70895),g=r(47394),E=r(57620),S=r(59489),_=r(47187),y=r(82069),A=r(76555),v=r(78394),T=r(88429),b=r(62011),I=r(93657),R=r(27059),O=r(88302),N=r(76201),C=r(53252),L=r(19670),w=r(19449),P=r(79148),M=r(35953),x=r(50622),k=r(18396),D=r(2495),V=r(21680),U=r(30605),G=r(82669),$=r(36660),B=r(638),F=r(13827),j=r(84962);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},57880:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},97966:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},19753:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},12120:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},24009:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},29588:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(57880),i=r(97966),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},82669:(e,t,r)=>{const n=r(30605);e.exports=(e,t,r)=>n(e,t,">",r)},638:(e,t,r)=>{const n=r(19449);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},36660:(e,t,r)=>{const n=r(30605);e.exports=(e,t,r)=>n(e,t,"<",r)},50622:(e,t,r)=>{const n=r(25618),o=r(19449);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},18396:(e,t,r)=>{const n=r(25618),o=r(19449);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},2495:(e,t,r)=>{const n=r(25618),o=r(19449),s=r(78394);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},30605:(e,t,r)=>{const n=r(25618),o=r(19670),{ANY:s}=o,i=r(19449),a=r(79148),c=r(78394),l=r(88429),u=r(88302),p=r(27059);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},13827:(e,t,r)=>{const n=r(79148),o=r(47394);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},84962:(e,t,r)=>{const n=r(19449),o=r(19670),{ANY:s}=o,i=r(79148),a=r(47394),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},35953:(e,t,r)=>{const n=r(19449);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},21680:(e,t,r)=>{const n=r(19449);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},67238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDbStatementSerializer=void 0;const r=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}];t.defaultDbStatementSerializer=(e,t)=>{var n,o;if(Array.isArray(t)&&t.length){const s=null!==(o=null===(n=r.find((({regex:t})=>t.test(e))))||void 0===n?void 0:n.args)&&void 0!==o?o:0,i=s>=0?t.slice(0,s):t;return t.length>i.length&&i.push(`[${t.length-s} other arguments]`),`${e} ${i.join(" ")}`}return e}},2287:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var n=r(78758),o=r(96066),s=r(59339),i=r(21479),a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},c=function(){function e(e,t){var r,o=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return o._attributes=Object.assign({},o._attributes,e),o.asyncAttributesPending=!1,e}),(function(e){return n.s.debug("a resource's async attributes promise rejected: %s",e),o.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[o.AV]=(0,i.m)(),t[o.Pl]=s.q[o.Pl],t[o.$L]=s.q[o.$L],t[o.y$]=s.q[o.y$],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&n.s.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return e=this,t=void 0,n=function(){return function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},new((r=void 0)||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype.merge=function(t){var r,n=this;if(!t)return this;var o=a(a({},this._syncAttributes),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var s=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var r,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(e,2),s=o[0],i=o[1];return a(a(a(a({},n._syncAttributes),s),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes),i)}));return new e(o,s)},e.EMPTY=new e({}),e}()},19642:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});const n=require("child_process");var o=r(39023).promisify(n.exec)},50454:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var n=r(79896),o=r(19642),s=r(78758),i=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},a=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function c(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return[2,r.sent().trim()];case 2:return e=r.sent(),s.s.debug("error reading machine id: "+e),[3,3];case 3:return r.trys.push([3,5,,6]),[4,(0,o.q)("kenv -q smbios.system.uuid")];case 4:return[2,r.sent().stdout.trim()];case 5:return t=r.sent(),s.s.debug("error reading machine id: "+t),[3,6];case 6:return[2,""]}}))}))}},1568:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(19642),o=r(78758),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},i=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function a(){return s(this,void 0,void 0,(function(){var e,t,r,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,n.q)('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:return e=i.sent(),(t=e.stdout.split("\n").find((function(e){return e.includes("IOPlatformUUID")})))?2===(r=t.split('" = "')).length?[2,r[1].slice(0,-1)]:[3,3]:[2,""];case 2:return s=i.sent(),o.s.debug("error reading machine id: "+s),[3,3];case 3:return[2,""]}}))}))}},7917:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var n=r(79896),o=r(78758),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},i=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(){return s(this,void 0,void 0,(function(){var e,t,r,s,c,l,u,p;return i(this,(function(i){switch(i.label){case 0:e=["/etc/machine-id","/var/lib/dbus/machine-id"],i.label=1;case 1:i.trys.push([1,8,9,10]),t=a(e),r=t.next(),i.label=2;case 2:if(r.done)return[3,7];s=r.value,i.label=3;case 3:return i.trys.push([3,5,,6]),[4,n.promises.readFile(s,{encoding:"utf8"})];case 4:return[2,i.sent().trim()];case 5:return c=i.sent(),o.s.debug("error reading machine id: "+c),[3,6];case 6:return r=t.next(),[3,2];case 7:return[3,10];case 8:return l=i.sent(),u={error:l},[3,10];case 9:try{r&&!r.done&&(p=t.return)&&p.call(t)}finally{if(u)throw u.error}return[7];case 10:return[2,""]}}))}))}},42408:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(78758),o=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},s=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function i(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return n.s.debug("could not read machine-id: unsupported platform"),[2,""]}))}))}},57349:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var n=r(932),o=r(19642),s=r(78758),i=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},a=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function c(){return i(this,void 0,void 0,(function(){var e,t,r,i,c;return a(this,(function(a){switch(a.label){case 0:e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe","ia32"===n.arch&&"PROCESSOR_ARCHITEW6432"in n.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,o.q)(t+" "+e)];case 2:return r=a.sent(),2===(i=r.stdout.split("REG_SZ")).length?[2,i[1].trim()]:[3,4];case 3:return c=a.sent(),s.s.debug("error reading machine id: "+c),[3,4];case 4:return[2,""]}}))}))}},13097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>o.F,browserDetector:()=>u,browserDetectorSync:()=>l,defaultServiceName:()=>s.m,detectResources:()=>N,detectResourcesSync:()=>C,envDetector:()=>f,envDetectorSync:()=>h,hostDetector:()=>E,hostDetectorSync:()=>g,osDetector:()=>_,osDetectorSync:()=>S,processDetector:()=>T,processDetectorSync:()=>v,serviceInstanceIdDetectorSync:()=>I});var n,o=r(2287),s=r(21479),i=r(96066),a=r(78758),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},l=new(function(){function e(){}return e.prototype.detect=function(e){var t,r,n,s;if("undefined"==typeof navigator||void 0!==(null===(n=null===(r=global.process)||void 0===r?void 0:r.versions)||void 0===n?void 0:n.node)||void 0!==(null===(s=global.Bun)||void 0===s?void 0:s.version))return o.F.empty();var a=((t={})[i.lb]="browser",t[i.C3]="Web Browser",t[i.cV]=navigator.userAgent,t);return this._getResourceAttributes(a,e)},e.prototype._getResourceAttributes=function(e,t){return""===e[i.cV]?(a.s.debug("BrowserDetector failed: Unable to find required browser resources. "),o.F.empty()):new o.F(c({},e))},e}()),u=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(l.detect(e))},e}()),p=r(37925),d=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},h=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){var t={},r=(0,p._)(),n=r.OTEL_RESOURCE_ATTRIBUTES,s=r.OTEL_SERVICE_NAME;if(n)try{var c=this._parseResourceAttributes(n);Object.assign(t,c)}catch(e){a.s.debug("EnvDetector failed: "+e.message)}return s&&(t[i.AV]=s),new o.F(t)},e.prototype._parseResourceAttributes=function(e){var t,r;if(!e)return{};var n={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),i=s.next();!i.done;i=s.next()){var a=i.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===a.length){var c=d(a,2),l=c[0],u=c[1];if(l=l.trim(),u=u.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(l))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(u))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);n[l]=decodeURIComponent(u)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},e.prototype._isBaggageOctetString=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}()),f=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(h.detect(e))},e}()),m=r(70857);switch(r(932).platform){case"darwin":n=r(1568).D;break;case"linux":n=r(7917).D;break;case"freebsd":n=r(50454).D;break;case"win32":n=r(57349).D;break;default:n=r(42408).D}var g=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[i.RK]=(0,m.hostname)(),t[i.yT]=function(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}((0,m.arch)()),t);return new o.F(r,this._getAsyncAttributes())},e.prototype._getAsyncAttributes=function(){return n().then((function(e){var t={};return e&&(t[i.zs]=e),t}))},e}()),E=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(g.detect(e))},e}()),S=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[i.ko]=function(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}((0,m.platform)()),t[i.AC]=(0,m.release)(),t);return new o.F(r)},e}()),_=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(S.detect(e))},e}()),y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},A=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},v=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[i.ky]=process.pid,t[i.fP]=process.title,t[i.xQ]=process.execPath,t[i.U2]=A(A([process.argv[0]],y(process.execArgv),!1),y(process.argv.slice(1)),!1),t[i.cV]=process.versions.node,t[i.lb]="nodejs",t[i.C3]="Node.js",t);process.argv.length>1&&(r[i.Cn]=process.argv[1]);try{var n=m.userInfo();r[i.Yb]=n.username}catch(e){a.s.debug("error obtaining process owner: "+e)}return new o.F(r)},e}()),T=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(v.detect(e))},e}()),b=r(76982),I=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[i.PL]=(0,b.randomUUID)(),t);return new o.F(r)},e}()),R=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},O=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},N=function(e){return void 0===e&&(e={}),R(void 0,void 0,void 0,(function(){var t;return O(this,(function(r){switch(r.label){case 0:return[4,Promise.all((e.detectors||[]).map((function(t){return R(void 0,void 0,void 0,(function(){var r,n;return O(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t.detect(e)];case 1:return r=s.sent(),a.s.debug(t.constructor.name+" found resource.",r),[2,r];case 2:return n=s.sent(),a.s.debug(t.constructor.name+" failed: "+n.message),[2,o.F.empty()];case 3:return[2]}}))}))})))];case 1:return t=r.sent(),L(t),[2,t.reduce((function(e,t){return e.merge(t)}),o.F.empty())]}}))}))},C=function(e){var t;void 0===e&&(e={});var r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((function(t){try{var r,n=t.detect(e);return r=null!==(s=n)&&"object"==typeof s&&"function"==typeof s.then?new o.F({},R(void 0,void 0,void 0,(function(){var e,t;return O(this,(function(r){switch(r.label){case 0:return[4,n];case 1:return e=r.sent(),[4,null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)];case 2:return r.sent(),[2,e.attributes]}}))}))):n,r.waitForAsyncAttributes?r.waitForAsyncAttributes().then((function(){return a.s.debug(t.constructor.name+" found resource.",r)})):a.s.debug(t.constructor.name+" found resource.",r),r}catch(e){return a.s.error(t.constructor.name+" failed: "+e.message),o.F.empty()}var s})),n=r.reduce((function(e,t){return e.merge(t)}),o.F.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then((function(){L(r)})),n},L=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);a.s.verbose(t)}}))}},21479:(e,t,r)=>{"use strict";function n(){return"unknown_service:"+process.argv0}r.d(t,{m:()=>n})},96066:(e,t,r)=>{"use strict";r.d(t,{yT:()=>s,zs:()=>n,RK:()=>o,ko:()=>i,AC:()=>a,Cn:()=>p,U2:()=>d,fP:()=>l,xQ:()=>u,Yb:()=>h,ky:()=>c,C3:()=>g,lb:()=>f,cV:()=>m,PL:()=>S,AV:()=>E,Pl:()=>y,$L:()=>_,y$:()=>A});var n="host.id",o="host.name",s="host.arch",i="os.type",a="os.version",c="process.pid",l="process.executable.name",u="process.executable.path",p="process.command",d="process.command_args",h="process.owner",f="process.runtime.name",m="process.runtime.version",g="process.runtime.description",E="service.name",S="service.instance.id",_="telemetry.sdk.name",y="telemetry.sdk.language",A="telemetry.sdk.version"},4374:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>T,AlwaysOnSampler:()=>b,BasicTracerProvider:()=>ne,BatchSpanProcessor:()=>re,ConsoleSpanExporter:()=>oe,ForceFlushState:()=>$,InMemorySpanExporter:()=>se,NoopSpanProcessor:()=>z,ParentBasedSampler:()=>O,RandomIdGenerator:()=>D,SamplingDecision:()=>n,SimpleSpanProcessor:()=>ae,Span:()=>y,TraceIdRatioBasedSampler:()=>N,Tracer:()=>B});var n,o=r(41844),s=r(6664),i=r(78758),a=r(97872),c=r(58651),l=r(72674),u=r(47397),p=r(4445),d=r(80788),h=r(11908),f=r(26822),m=r(65864),g="exception.type",E="exception.message",S=function(){return S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)},_=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},y=function(){function e(e,t,r,n,o,s,i,a,c,l){void 0===i&&(i=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:h.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=n,this.parentSpanId=s,this.kind=o,this.links=i;var u=Date.now();this._performanceStartTime=f.u.now(),this._performanceOffset=u-(this._performanceStartTime+(0,m.uc)()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:u),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=l&&this.setAttributes(l),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(i.s.warn("Invalid attribute key: "+e),this):(0,d.m)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(i.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=n.next();!o.done;o=n.next()){var s=_(o.value,2),i=s[0],a=s[1];this.setAttribute(i,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return i.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&i.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,m.Ir)(t)&&((0,m.Ir)(r)||(r=t),t=void 0);var n=(0,d.L)(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],_(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=S({},e),null!=this.status.message&&"string"!=typeof e.message&&(i.s.warn("Dropping invalid status.message of type '"+typeof e.message+"', expected 'string'"),delete this.status.message)),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?i.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,m.W5)(this.startTime,this.endTime),this._duration[0]<0&&(i.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&i.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<=f.u.now())return(0,m._5)(e+this._performanceOffset);if("number"==typeof e)return(0,m.lg)(e);if(e instanceof Date)return(0,m.lg)(e.getTime());if((0,m.VL)(e))return e;if(this._startTimeProvided)return(0,m.lg)(Date.now());var t=f.u.now()-this._performanceStartTime;return(0,m.mw)(this.startTime,(0,m.lg)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var r={};"string"==typeof e?r[E]=e:e&&(e.code?r[g]=e.code.toString():e.name&&(r[g]=e.name),e.message&&(r[E]=e.message),e.stack&&(r["exception.stacktrace"]=e.stack)),r[g]||r[E]?this.addEvent("exception",r,t):i.s.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&i.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(i.s.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e}(),A=r(37925),v=r(70676);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}));var T=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),b=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),I=r(67823),R=r(78044),O=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,R.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new b),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new b,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new T,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new b,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new T}return e.prototype.shouldSample=function(e,t,r,n,o,i){var a=s.u.getSpanContext(e);return a&&(0,I.YA)(a)?a.isRemote?a.traceFlags&u.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):a.traceFlags&u.X.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),N=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,I.hX)(t)&&this._accumulate(t)<this._upperBound?n.RECORD_AND_SAMPLED:n.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}(),C=(0,A._)(),L=v.R.AlwaysOn,w=1;function P(){var e=(0,A._)();return{sampler:M(C),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function M(e){switch(void 0===e&&(e=(0,A._)()),e.OTEL_TRACES_SAMPLER){case v.R.AlwaysOn:return new b;case v.R.AlwaysOff:return new T;case v.R.ParentBasedAlwaysOn:return new O({root:new b});case v.R.ParentBasedAlwaysOff:return new O({root:new T});case v.R.TraceIdRatio:return new N(x(e));case v.R.ParentBasedTraceIdRatio:return new O({root:new N(x(e))});default:return i.s.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+L+'".'),new b}}function x(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return i.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+w+"."),w;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(i.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+w+"."),w):t<0||t>1?(i.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+w+"."),w):t}var k=r(23144),D=function(){this.generateTraceId=U(16),this.generateSpanId=U(8)},V=Buffer.allocUnsafe(16);function U(e){return function(){for(var t=0;t<e/4;t++)V.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(V[t]>0);t++)t===e-1&&(V[e-1]=1);return V.toString("hex",0,e)}}var G,$,B=function(){function e(e,t,r){this._tracerProvider=r;var n,o,s,i,a=(n=t,o={sampler:M()},s=P(),(i=Object.assign({},s,o,n)).generalLimits=Object.assign({},s.generalLimits,n.generalLimits||{}),i.spanLimits=Object.assign({},s.spanLimits,n.spanLimits||{}),i);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new D,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){var n,h,f;void 0===t&&(t={}),void 0===r&&(r=o._.active()),t.root&&(r=s.u.deleteSpan(r));var m=s.u.getSpan(r);if((0,p.Zf)(r))return i.s.debug("Instrumentation suppressed, returning Noop Span"),s.u.wrapSpanContext(a.dM);var g,E,S,_=null==m?void 0:m.spanContext(),A=this._idGenerator.generateSpanId();_&&s.u.isSpanContextValid(_)?(g=_.traceId,E=_.traceState,S=_.spanId):g=this._idGenerator.generateTraceId();var v=null!==(n=t.kind)&&void 0!==n?n:c.v.INTERNAL,T=(null!==(h=t.links)&&void 0!==h?h:[]).map((function(e){return{context:e.context,attributes:(0,d.L)(e.attributes)}})),b=(0,d.L)(t.attributes),I=this._sampler.shouldSample(r,g,e,v,b,T);E=null!==(f=I.traceState)&&void 0!==f?f:E;var R={traceId:g,spanId:A,traceFlags:I.decision===l.i.RECORD_AND_SAMPLED?u.X.SAMPLED:u.X.NONE,traceState:E};if(I.decision===l.i.NOT_RECORD)return i.s.debug("Recording is off, propagating context in a non-recording span"),s.u.wrapSpanContext(R);var O=(0,d.L)(Object.assign(b,I.attributes));return new y(this,r,e,R,v,S,T,t.startTime,void 0,O)},e.prototype.startActiveSpan=function(e,t,r,n){var i,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(i=t,c=r):(i=t,a=r,c=n);var l=null!=a?a:o._.active(),u=this.startSpan(e,i,l),p=s.u.setSpan(l,u);return o._.with(p,c,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),F=r(49348),j=r(31194),H=r(22721),W=r(79859),X=r(75477),Y=r(2287),K=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var n=K(this._spanProcessors),o=n.next();!o.done;o=n.next()){var s=o.value;r.push(s.forceFlush())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(r).then((function(){e()})).catch((function(t){(0,R.s)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var r,n;try{for(var o=K(this._spanProcessors),s=o.next();!s.done;s=o.next())s.value.onStart(e,t)}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=K(this._spanProcessors),o=n.next();!o.done;o=n.next())o.value.onEnd(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=K(this._spanProcessors),o=n.next();!o.done;o=n.next()){var s=o.value;r.push(s.shutdown())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(r).then((function(){e()}),t)}))},e}(),z=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),J=r(77375),Q=r(92068),q=r(22778),ee=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=(0,A._)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new J.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(i.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&u.X.SAMPLED)&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&i.s.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(i.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=0,s=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<s;o++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,r){var n=setTimeout((function(){r(new Error("Timeout"))}),e._exportTimeoutMillis);o._.with((0,p.M1)(o._.active()),(function(){var o;e._finishedSpans.length<=e._maxExportBatchSize?(o=e._finishedSpans,e._finishedSpans=[]):o=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var s=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(n),e.code===Q.V.SUCCESS?t():r(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},i=null,a=0,c=o.length;a<c;a++){var l=o[a];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(null!=i||(i=[]),i.push(l.resource.waitForAsyncAttributes()))}null===i?s():Promise.all(i).then(s,(function(e){(0,R.s)(e),r(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally((function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){e._isExporting=!1,(0,R.s)(t)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout((function(){return t()}),this._scheduledDelayMillis),(0,q.K)(this._timer))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),te=(G=function(e,t){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},G(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.onShutdown=function(){},t}(ee);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}($||($={}));var ne=function(){function e(e){var t,r;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=(0,j.h)({},P(),function(e){var t,r,n,o,s,i,a,c,l,u,p,d,h=Object.assign({},e.spanLimits),f=(0,A.w)();return h.attributeCountLimit=null!==(i=null!==(s=null!==(o=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==o?o:f.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:f.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:k.fv,h.attributeValueLengthLimit=null!==(d=null!==(p=null!==(u=null!==(c=null===(a=e.spanLimits)||void 0===a?void 0:a.attributeValueLengthLimit)&&void 0!==c?c:null===(l=e.generalLimits)||void 0===l?void 0:l.attributeValueLengthLimit)&&void 0!==u?u:f.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:f.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:k.aE,Object.assign({},e,{spanLimits:h})}(e));if(this.resource=null!==(t=n.resource)&&void 0!==t?t:Y.F.empty(),n.mergeResourceWithDefaults&&(this.resource=Y.F.default().merge(this.resource)),this._config=Object.assign({},n,{resource:this.resource}),null===(r=e.spanProcessors)||void 0===r?void 0:r.length)this._registeredSpanProcessors=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(e.spanProcessors),!1),this.activeSpanProcessor=new Z(this._registeredSpanProcessors);else{var o=this._buildExporterFromEnv();if(void 0!==o){var s=new re(o);this.activeSpanProcessor=s}else this.activeSpanProcessor=new z}}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new B({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return i.s.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Z(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),s.u.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&o._.setGlobalContextManager(e.contextManager),e.propagator&&F.$.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(r){var n,o=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+e+" ms")),n=$.timeout}),e);t.forceFlush().then((function(){clearTimeout(o),n!==$.timeout&&(n=$.resolved,r(n))})).catch((function(e){clearTimeout(o),n=$.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(t).then((function(t){var n=t.filter((function(e){return e!==$.resolved}));n.length>0?r(n):e()})).catch((function(e){return r([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,A._)().OTEL_PROPAGATORS)),r=t.map((function(t){var r=e._getPropagator(t);return r||i.s.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),r})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===r.length?void 0:1===t.length?r[0]:new H.n({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=(0,A._)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||i.s.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new W.lm}],["baggage",function(){return new X.t}]]),e._registeredExporters=new Map,e}(),oe=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationLibrary,traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,m.w_)(e.startTime),duration:(0,m.w_)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=o.next();!s.done;s=o.next()){var i=s.value;console.dir(this._exportInfo(i),{depth:3})}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(t)return t({code:Q.V.SUCCESS})},e}(),se=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:Q.V.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(e),!1)),setTimeout((function(){return t({code:Q.V.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}(),ie=r(98035),ae=function(){function e(e){this._exporter=e,this._shutdownOnce=new J.I(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return e=this,t=void 0,n=function(){return function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,r,n=this;if(!this._shutdownOnce.isCalled&&0!=(e.spanContext().traceFlags&u.X.SAMPLED)){var o=function(){return ie.internal._export(n._exporter,[e]).then((function(e){var t;e.code!==Q.V.SUCCESS&&(0,R.s)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,R.s)(e)}))};if(e.resource.asyncAttributesPending){var s=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then((function(){return null!=s&&n._unresolvedExports.delete(s),o()}),(function(e){return(0,R.s)(e)}));null!=s&&this._unresolvedExports.add(s)}else o()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},51002:(e,t,r)=>{"use strict";function n(e){for(var t={},r=e.length,n=0;n<r;n++){var o=e[n];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}r.r(t),r.d(t,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>xh,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>kh,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>Dh,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>Vh,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>hh,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>fh,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>mh,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>gh,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>Fh,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>jh,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>Mh,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>Ph,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>Uh,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>dh,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>Gh,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>$h,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>Bh,ATTR_CLIENT_ADDRESS:()=>Hh,ATTR_CLIENT_PORT:()=>Wh,ATTR_ERROR_TYPE:()=>Xh,ATTR_EXCEPTION_ESCAPED:()=>Kh,ATTR_EXCEPTION_MESSAGE:()=>Zh,ATTR_EXCEPTION_STACKTRACE:()=>zh,ATTR_EXCEPTION_TYPE:()=>Jh,ATTR_HTTP_REQUEST_HEADER:()=>Qh,ATTR_HTTP_REQUEST_METHOD:()=>qh,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>pf,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>df,ATTR_HTTP_RESPONSE_HEADER:()=>hf,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>ff,ATTR_HTTP_ROUTE:()=>mf,ATTR_JVM_GC_ACTION:()=>gf,ATTR_JVM_GC_NAME:()=>Ef,ATTR_JVM_MEMORY_POOL_NAME:()=>Sf,ATTR_JVM_MEMORY_TYPE:()=>_f,ATTR_JVM_THREAD_DAEMON:()=>vf,ATTR_JVM_THREAD_STATE:()=>Tf,ATTR_NETWORK_LOCAL_ADDRESS:()=>Lf,ATTR_NETWORK_LOCAL_PORT:()=>wf,ATTR_NETWORK_PEER_ADDRESS:()=>Pf,ATTR_NETWORK_PEER_PORT:()=>Mf,ATTR_NETWORK_PROTOCOL_NAME:()=>xf,ATTR_NETWORK_PROTOCOL_VERSION:()=>kf,ATTR_NETWORK_TRANSPORT:()=>Df,ATTR_NETWORK_TYPE:()=>Ff,ATTR_OTEL_SCOPE_NAME:()=>Wf,ATTR_OTEL_SCOPE_VERSION:()=>Xf,ATTR_OTEL_STATUS_CODE:()=>Yf,ATTR_OTEL_STATUS_DESCRIPTION:()=>zf,ATTR_SERVER_ADDRESS:()=>Jf,ATTR_SERVER_PORT:()=>Qf,ATTR_SERVICE_NAME:()=>qf,ATTR_SERVICE_VERSION:()=>em,ATTR_SIGNALR_CONNECTION_STATUS:()=>tm,ATTR_SIGNALR_TRANSPORT:()=>sm,ATTR_TELEMETRY_SDK_LANGUAGE:()=>Eh,ATTR_TELEMETRY_SDK_NAME:()=>Lh,ATTR_TELEMETRY_SDK_VERSION:()=>wh,ATTR_URL_FRAGMENT:()=>lm,ATTR_URL_FULL:()=>um,ATTR_URL_PATH:()=>pm,ATTR_URL_QUERY:()=>dm,ATTR_URL_SCHEME:()=>hm,ATTR_USER_AGENT_ORIGINAL:()=>fm,AWSECSLAUNCHTYPEVALUES_EC2:()=>ld,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>ud,AwsEcsLaunchtypeValues:()=>pd,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>Hp,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>Wp,CLOUDPLATFORMVALUES_AWS_EC2:()=>Xp,CLOUDPLATFORMVALUES_AWS_ECS:()=>Yp,CLOUDPLATFORMVALUES_AWS_EKS:()=>Kp,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>zp,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>Zp,CLOUDPLATFORMVALUES_AZURE_AKS:()=>qp,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>td,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>Qp,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>ed,CLOUDPLATFORMVALUES_AZURE_VM:()=>Jp,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>id,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>sd,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>nd,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>rd,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>od,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>vp,CLOUDPROVIDERVALUES_AWS:()=>Tp,CLOUDPROVIDERVALUES_AZURE:()=>bp,CLOUDPROVIDERVALUES_GCP:()=>Ip,CloudPlatformValues:()=>ad,CloudProviderValues:()=>Rp,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>Us,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>Xs,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>Gs,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>Ws,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>Bs,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>Ks,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>Fs,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>$s,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>Ys,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>Hs,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>js,DBSYSTEMVALUES_ADABAS:()=>es,DBSYSTEMVALUES_CACHE:()=>qo,DBSYSTEMVALUES_CASSANDRA:()=>Es,DBSYSTEMVALUES_CLOUDSCAPE:()=>Wo,DBSYSTEMVALUES_COCKROACHDB:()=>Cs,DBSYSTEMVALUES_COLDFUSION:()=>gs,DBSYSTEMVALUES_COSMOSDB:()=>Ts,DBSYSTEMVALUES_COUCHBASE:()=>As,DBSYSTEMVALUES_COUCHDB:()=>vs,DBSYSTEMVALUES_DB2:()=>Bo,DBSYSTEMVALUES_DERBY:()=>rs,DBSYSTEMVALUES_DYNAMODB:()=>bs,DBSYSTEMVALUES_EDB:()=>Qo,DBSYSTEMVALUES_ELASTICSEARCH:()=>Os,DBSYSTEMVALUES_FILEMAKER:()=>ns,DBSYSTEMVALUES_FIREBIRD:()=>ts,DBSYSTEMVALUES_FIRSTSQL:()=>Jo,DBSYSTEMVALUES_GEODE:()=>Rs,DBSYSTEMVALUES_H2:()=>ms,DBSYSTEMVALUES_HANADB:()=>Zo,DBSYSTEMVALUES_HBASE:()=>Ss,DBSYSTEMVALUES_HIVE:()=>Ho,DBSYSTEMVALUES_HSQLDB:()=>Xo,DBSYSTEMVALUES_INFORMIX:()=>os,DBSYSTEMVALUES_INGRES:()=>zo,DBSYSTEMVALUES_INSTANTDB:()=>ss,DBSYSTEMVALUES_INTERBASE:()=>is,DBSYSTEMVALUES_MARIADB:()=>as,DBSYSTEMVALUES_MAXDB:()=>Ko,DBSYSTEMVALUES_MEMCACHED:()=>Ns,DBSYSTEMVALUES_MONGODB:()=>_s,DBSYSTEMVALUES_MSSQL:()=>Uo,DBSYSTEMVALUES_MYSQL:()=>Go,DBSYSTEMVALUES_NEO4J:()=>Is,DBSYSTEMVALUES_NETEZZA:()=>cs,DBSYSTEMVALUES_ORACLE:()=>$o,DBSYSTEMVALUES_OTHER_SQL:()=>Vo,DBSYSTEMVALUES_PERVASIVE:()=>ls,DBSYSTEMVALUES_POINTBASE:()=>us,DBSYSTEMVALUES_POSTGRESQL:()=>Fo,DBSYSTEMVALUES_PROGRESS:()=>Yo,DBSYSTEMVALUES_REDIS:()=>ys,DBSYSTEMVALUES_REDSHIFT:()=>jo,DBSYSTEMVALUES_SQLITE:()=>ps,DBSYSTEMVALUES_SYBASE:()=>ds,DBSYSTEMVALUES_TERADATA:()=>hs,DBSYSTEMVALUES_VERTICA:()=>fs,DbCassandraConsistencyLevelValues:()=>Zs,DbSystemValues:()=>Ls,ERROR_TYPE_VALUE_OTHER:()=>Yh,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>di,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>pi,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>ui,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>gi,FAASINVOKEDPROVIDERVALUES_AWS:()=>Ei,FAASINVOKEDPROVIDERVALUES_AZURE:()=>Si,FAASINVOKEDPROVIDERVALUES_GCP:()=>_i,FAASTRIGGERVALUES_DATASOURCE:()=>ti,FAASTRIGGERVALUES_HTTP:()=>ri,FAASTRIGGERVALUES_OTHER:()=>si,FAASTRIGGERVALUES_PUBSUB:()=>ni,FAASTRIGGERVALUES_TIMER:()=>oi,FaasDocumentOperationValues:()=>hi,FaasInvokedProviderValues:()=>yi,FaasTriggerValues:()=>ii,HOSTARCHVALUES_AMD64:()=>Sd,HOSTARCHVALUES_ARM32:()=>_d,HOSTARCHVALUES_ARM64:()=>yd,HOSTARCHVALUES_IA64:()=>Ad,HOSTARCHVALUES_PPC32:()=>vd,HOSTARCHVALUES_PPC64:()=>Td,HOSTARCHVALUES_X86:()=>bd,HTTPFLAVORVALUES_HTTP_1_0:()=>xa,HTTPFLAVORVALUES_HTTP_1_1:()=>ka,HTTPFLAVORVALUES_HTTP_2_0:()=>Da,HTTPFLAVORVALUES_QUIC:()=>Ua,HTTPFLAVORVALUES_SPDY:()=>Va,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>tf,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>rf,HTTP_REQUEST_METHOD_VALUE_GET:()=>nf,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>of,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>sf,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>ef,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>af,HTTP_REQUEST_METHOD_VALUE_POST:()=>cf,HTTP_REQUEST_METHOD_VALUE_PUT:()=>lf,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>uf,HostArchValues:()=>Id,HttpFlavorValues:()=>Ga,JVM_MEMORY_TYPE_VALUE_HEAP:()=>yf,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>Af,JVM_THREAD_STATE_VALUE_BLOCKED:()=>bf,JVM_THREAD_STATE_VALUE_NEW:()=>If,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>Rf,JVM_THREAD_STATE_VALUE_TERMINATED:()=>Of,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>Nf,JVM_THREAD_STATE_VALUE_WAITING:()=>Cf,MESSAGETYPEVALUES_RECEIVED:()=>Ec,MESSAGETYPEVALUES_SENT:()=>gc,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>Fa,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>ja,MESSAGINGOPERATIONVALUES_PROCESS:()=>Ka,MESSAGINGOPERATIONVALUES_RECEIVE:()=>Ya,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>mm,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>gm,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>Em,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>ym,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>_m,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>Sm,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>Am,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>vm,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>Tm,METRIC_JVM_CLASS_COUNT:()=>bm,METRIC_JVM_CLASS_LOADED:()=>Im,METRIC_JVM_CLASS_UNLOADED:()=>Rm,METRIC_JVM_CPU_COUNT:()=>Om,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>Nm,METRIC_JVM_CPU_TIME:()=>Cm,METRIC_JVM_GC_DURATION:()=>Lm,METRIC_JVM_MEMORY_COMMITTED:()=>wm,METRIC_JVM_MEMORY_LIMIT:()=>Pm,METRIC_JVM_MEMORY_USED:()=>Mm,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>xm,METRIC_JVM_THREAD_COUNT:()=>km,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>Dm,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>Vm,METRIC_KESTREL_CONNECTION_DURATION:()=>Um,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>Gm,METRIC_KESTREL_QUEUED_REQUESTS:()=>$m,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>Bm,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>Fm,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>jm,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>Hm,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>Wm,MessageTypeValues:()=>Sc,MessagingDestinationKindValues:()=>Ha,MessagingOperationValues:()=>Za,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>ha,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>ga,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>pa,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>Ta,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>fa,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>ma,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>Aa,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>ua,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>Ia,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>Ea,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>_a,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>ba,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>Sa,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>ya,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>Oa,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>va,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>La,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>Na,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>Ca,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>Ra,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>da,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>Fi,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>ji,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>Hi,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>$i,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>Bi,NETTRANSPORTVALUES_INPROC:()=>Pi,NETTRANSPORTVALUES_IP:()=>Ci,NETTRANSPORTVALUES_IP_TCP:()=>Oi,NETTRANSPORTVALUES_IP_UDP:()=>Ni,NETTRANSPORTVALUES_OTHER:()=>Mi,NETTRANSPORTVALUES_PIPE:()=>wi,NETTRANSPORTVALUES_UNIX:()=>Li,NETWORK_TRANSPORT_VALUE_PIPE:()=>Vf,NETWORK_TRANSPORT_VALUE_QUIC:()=>Uf,NETWORK_TRANSPORT_VALUE_TCP:()=>Gf,NETWORK_TRANSPORT_VALUE_UDP:()=>$f,NETWORK_TRANSPORT_VALUE_UNIX:()=>Bf,NETWORK_TYPE_VALUE_IPV4:()=>jf,NETWORK_TYPE_VALUE_IPV6:()=>Hf,NetHostConnectionSubtypeValues:()=>wa,NetHostConnectionTypeValues:()=>Wi,NetTransportValues:()=>xi,OSTYPEVALUES_AIX:()=>Hd,OSTYPEVALUES_DARWIN:()=>Ud,OSTYPEVALUES_DRAGONFLYBSD:()=>Fd,OSTYPEVALUES_FREEBSD:()=>Gd,OSTYPEVALUES_HPUX:()=>jd,OSTYPEVALUES_LINUX:()=>Vd,OSTYPEVALUES_NETBSD:()=>$d,OSTYPEVALUES_OPENBSD:()=>Bd,OSTYPEVALUES_SOLARIS:()=>Wd,OSTYPEVALUES_WINDOWS:()=>Dd,OSTYPEVALUES_Z_OS:()=>Xd,OTEL_STATUS_CODE_VALUE_ERROR:()=>Kf,OTEL_STATUS_CODE_VALUE_OK:()=>Zf,OsTypeValues:()=>Yd,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>ic,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>rc,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>Ja,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>pc,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>ec,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>sc,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>lc,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>qa,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>tc,RPCGRPCSTATUSCODEVALUES_OK:()=>za,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>ac,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>nc,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>oc,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>dc,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>uc,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>cc,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>Qa,RpcGrpcStatusCodeValues:()=>hc,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>qr,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>dn,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>zr,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>Xr,SEMATTRS_AWS_DYNAMODB_COUNT:()=>un,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>on,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>rn,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>hn,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>en,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>Yr,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>Qr,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>nn,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>Jr,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>Kr,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>Zr,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>pn,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>an,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cn,SEMATTRS_AWS_DYNAMODB_SELECT:()=>tn,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>sn,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>Wr,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>ln,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>bt,SEMATTRS_CODE_FILEPATH:()=>Nr,SEMATTRS_CODE_FUNCTION:()=>Rr,SEMATTRS_CODE_LINENO:()=>Cr,SEMATTRS_CODE_NAMESPACE:()=>Or,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>kt,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>$t,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>Gt,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>Vt,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>Mt,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>xt,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>Ut,SEMATTRS_DB_CASSANDRA_TABLE:()=>Dt,SEMATTRS_DB_CONNECTION_STRING:()=>Rt,SEMATTRS_DB_HBASE_NAMESPACE:()=>Bt,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>Nt,SEMATTRS_DB_MONGODB_COLLECTION:()=>jt,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>Pt,SEMATTRS_DB_NAME:()=>Ct,SEMATTRS_DB_OPERATION:()=>wt,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>Ft,SEMATTRS_DB_SQL_TABLE:()=>Ht,SEMATTRS_DB_STATEMENT:()=>Lt,SEMATTRS_DB_SYSTEM:()=>It,SEMATTRS_DB_USER:()=>Ot,SEMATTRS_ENDUSER_ID:()=>Ar,SEMATTRS_ENDUSER_ROLE:()=>vr,SEMATTRS_ENDUSER_SCOPE:()=>Tr,SEMATTRS_EXCEPTION_ESCAPED:()=>Kt,SEMATTRS_EXCEPTION_MESSAGE:()=>Xt,SEMATTRS_EXCEPTION_STACKTRACE:()=>Yt,SEMATTRS_EXCEPTION_TYPE:()=>Wt,SEMATTRS_FAAS_COLDSTART:()=>nr,SEMATTRS_FAAS_CRON:()=>rr,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>Jt,SEMATTRS_FAAS_DOCUMENT_NAME:()=>er,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>Qt,SEMATTRS_FAAS_DOCUMENT_TIME:()=>qt,SEMATTRS_FAAS_EXECUTION:()=>zt,SEMATTRS_FAAS_INVOKED_NAME:()=>or,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>sr,SEMATTRS_FAAS_INVOKED_REGION:()=>ir,SEMATTRS_FAAS_TIME:()=>tr,SEMATTRS_FAAS_TRIGGER:()=>Zt,SEMATTRS_HTTP_CLIENT_IP:()=>Hr,SEMATTRS_HTTP_FLAVOR:()=>Dr,SEMATTRS_HTTP_HOST:()=>Mr,SEMATTRS_HTTP_METHOD:()=>Lr,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>Ur,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>Gr,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>$r,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>Br,SEMATTRS_HTTP_ROUTE:()=>jr,SEMATTRS_HTTP_SCHEME:()=>xr,SEMATTRS_HTTP_SERVER_NAME:()=>Fr,SEMATTRS_HTTP_STATUS_CODE:()=>kr,SEMATTRS_HTTP_TARGET:()=>Pr,SEMATTRS_HTTP_URL:()=>wr,SEMATTRS_HTTP_USER_AGENT:()=>Vr,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>jn,SEMATTRS_MESSAGE_ID:()=>Fn,SEMATTRS_MESSAGE_TYPE:()=>Bn,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>Hn,SEMATTRS_MESSAGING_CONSUMER_ID:()=>Rn,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>vn,SEMATTRS_MESSAGING_DESTINATION:()=>mn,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>gn,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>Ln,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>Cn,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>Nn,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>wn,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>Pn,SEMATTRS_MESSAGING_MESSAGE_ID:()=>An,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>bn,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>Tn,SEMATTRS_MESSAGING_OPERATION:()=>In,SEMATTRS_MESSAGING_PROTOCOL:()=>Sn,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>_n,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>On,SEMATTRS_MESSAGING_SYSTEM:()=>fn,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>En,SEMATTRS_MESSAGING_URL:()=>yn,SEMATTRS_NET_HOST_CARRIER_ICC:()=>_r,SEMATTRS_NET_HOST_CARRIER_MCC:()=>Er,SEMATTRS_NET_HOST_CARRIER_MNC:()=>Sr,SEMATTRS_NET_HOST_CARRIER_NAME:()=>gr,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>mr,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>fr,SEMATTRS_NET_HOST_IP:()=>pr,SEMATTRS_NET_HOST_NAME:()=>hr,SEMATTRS_NET_HOST_PORT:()=>dr,SEMATTRS_NET_PEER_IP:()=>cr,SEMATTRS_NET_PEER_NAME:()=>ur,SEMATTRS_NET_PEER_PORT:()=>lr,SEMATTRS_NET_TRANSPORT:()=>ar,SEMATTRS_PEER_SERVICE:()=>yr,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>Dn,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>Gn,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>$n,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>Un,SEMATTRS_RPC_JSONRPC_VERSION:()=>Vn,SEMATTRS_RPC_METHOD:()=>kn,SEMATTRS_RPC_SERVICE:()=>xn,SEMATTRS_RPC_SYSTEM:()=>Mn,SEMATTRS_THREAD_ID:()=>br,SEMATTRS_THREAD_NAME:()=>Ir,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>Ql,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>Jl,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>ql,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>eu,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>tu,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>ru,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>nu,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>su,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>ou,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>au,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>iu,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>Yl,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>Zl,SEMRESATTRS_CLOUD_PLATFORM:()=>zl,SEMRESATTRS_CLOUD_PROVIDER:()=>Xl,SEMRESATTRS_CLOUD_REGION:()=>Kl,SEMRESATTRS_CONTAINER_ID:()=>lu,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>pu,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>du,SEMRESATTRS_CONTAINER_NAME:()=>cu,SEMRESATTRS_CONTAINER_RUNTIME:()=>uu,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>hu,SEMRESATTRS_DEVICE_ID:()=>fu,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>mu,SEMRESATTRS_DEVICE_MODEL_NAME:()=>gu,SEMRESATTRS_FAAS_ID:()=>Su,SEMRESATTRS_FAAS_INSTANCE:()=>yu,SEMRESATTRS_FAAS_MAX_MEMORY:()=>Au,SEMRESATTRS_FAAS_NAME:()=>Eu,SEMRESATTRS_FAAS_VERSION:()=>_u,SEMRESATTRS_HOST_ARCH:()=>Iu,SEMRESATTRS_HOST_ID:()=>vu,SEMRESATTRS_HOST_IMAGE_ID:()=>Ou,SEMRESATTRS_HOST_IMAGE_NAME:()=>Ru,SEMRESATTRS_HOST_IMAGE_VERSION:()=>Nu,SEMRESATTRS_HOST_NAME:()=>Tu,SEMRESATTRS_HOST_TYPE:()=>bu,SEMRESATTRS_K8S_CLUSTER_NAME:()=>Cu,SEMRESATTRS_K8S_CONTAINER_NAME:()=>ku,SEMRESATTRS_K8S_CRONJOB_NAME:()=>Yu,SEMRESATTRS_K8S_CRONJOB_UID:()=>Xu,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>ju,SEMRESATTRS_K8S_DAEMONSET_UID:()=>Fu,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>Gu,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>Uu,SEMRESATTRS_K8S_JOB_NAME:()=>Wu,SEMRESATTRS_K8S_JOB_UID:()=>Hu,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>Pu,SEMRESATTRS_K8S_NODE_NAME:()=>Lu,SEMRESATTRS_K8S_NODE_UID:()=>wu,SEMRESATTRS_K8S_POD_NAME:()=>xu,SEMRESATTRS_K8S_POD_UID:()=>Mu,SEMRESATTRS_K8S_REPLICASET_NAME:()=>Vu,SEMRESATTRS_K8S_REPLICASET_UID:()=>Du,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>Bu,SEMRESATTRS_K8S_STATEFULSET_UID:()=>$u,SEMRESATTRS_OS_DESCRIPTION:()=>Zu,SEMRESATTRS_OS_NAME:()=>zu,SEMRESATTRS_OS_TYPE:()=>Ku,SEMRESATTRS_OS_VERSION:()=>Ju,SEMRESATTRS_PROCESS_COMMAND:()=>tp,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>np,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>rp,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>qu,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>ep,SEMRESATTRS_PROCESS_OWNER:()=>op,SEMRESATTRS_PROCESS_PID:()=>Qu,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>ap,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>sp,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>ip,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>up,SEMRESATTRS_SERVICE_NAME:()=>cp,SEMRESATTRS_SERVICE_NAMESPACE:()=>lp,SEMRESATTRS_SERVICE_VERSION:()=>pp,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>mp,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>hp,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>dp,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>fp,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>Sp,SEMRESATTRS_WEBENGINE_NAME:()=>gp,SEMRESATTRS_WEBENGINE_VERSION:()=>Ep,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>rm,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>nm,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>om,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>im,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>am,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>cm,SemanticAttributes:()=>Wn,SemanticResourceAttributes:()=>_p,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>th,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>rh,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>nh,TELEMETRYSDKLANGUAGEVALUES_GO:()=>oh,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>sh,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>ih,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>ah,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>ch,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>lh,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>uh,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>Sh,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>_h,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>yh,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>Ah,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>vh,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>Th,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>bh,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>Ih,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>Rh,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>Oh,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>Nh,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>Ch,TelemetrySdkLanguageValues:()=>ph});var o="aws.lambda.invoked_arn",s="db.system",i="db.connection_string",a="db.user",c="db.jdbc.driver_classname",l="db.name",u="db.statement",p="db.operation",d="db.mssql.instance_name",h="db.cassandra.keyspace",f="db.cassandra.page_size",m="db.cassandra.consistency_level",g="db.cassandra.table",E="db.cassandra.idempotence",S="db.cassandra.speculative_execution_count",_="db.cassandra.coordinator.id",y="db.cassandra.coordinator.dc",A="db.hbase.namespace",v="db.redis.database_index",T="db.mongodb.collection",b="db.sql.table",I="exception.type",R="exception.message",O="exception.stacktrace",N="exception.escaped",C="faas.trigger",L="faas.execution",w="faas.document.collection",P="faas.document.operation",M="faas.document.time",x="faas.document.name",k="faas.time",D="faas.cron",V="faas.coldstart",U="faas.invoked_name",G="faas.invoked_provider",$="faas.invoked_region",B="net.transport",F="net.peer.ip",j="net.peer.port",H="net.peer.name",W="net.host.ip",X="net.host.port",Y="net.host.name",K="net.host.connection.type",Z="net.host.connection.subtype",z="net.host.carrier.name",J="net.host.carrier.mcc",Q="net.host.carrier.mnc",q="net.host.carrier.icc",ee="peer.service",te="enduser.id",re="enduser.role",ne="enduser.scope",oe="thread.id",se="thread.name",ie="code.function",ae="code.namespace",ce="code.filepath",le="code.lineno",ue="http.method",pe="http.url",de="http.target",he="http.host",fe="http.scheme",me="http.status_code",ge="http.flavor",Ee="http.user_agent",Se="http.request_content_length",_e="http.request_content_length_uncompressed",ye="http.response_content_length",Ae="http.response_content_length_uncompressed",ve="http.server_name",Te="http.route",be="http.client_ip",Ie="aws.dynamodb.table_names",Re="aws.dynamodb.consumed_capacity",Oe="aws.dynamodb.item_collection_metrics",Ne="aws.dynamodb.provisioned_read_capacity",Ce="aws.dynamodb.provisioned_write_capacity",Le="aws.dynamodb.consistent_read",we="aws.dynamodb.projection",Pe="aws.dynamodb.limit",Me="aws.dynamodb.attributes_to_get",xe="aws.dynamodb.index_name",ke="aws.dynamodb.select",De="aws.dynamodb.global_secondary_indexes",Ve="aws.dynamodb.local_secondary_indexes",Ue="aws.dynamodb.exclusive_start_table",Ge="aws.dynamodb.table_count",$e="aws.dynamodb.scan_forward",Be="aws.dynamodb.segment",Fe="aws.dynamodb.total_segments",je="aws.dynamodb.count",He="aws.dynamodb.scanned_count",We="aws.dynamodb.attribute_definitions",Xe="aws.dynamodb.global_secondary_index_updates",Ye="messaging.system",Ke="messaging.destination",Ze="messaging.destination_kind",ze="messaging.temp_destination",Je="messaging.protocol",Qe="messaging.protocol_version",qe="messaging.url",et="messaging.message_id",tt="messaging.conversation_id",rt="messaging.message_payload_size_bytes",nt="messaging.message_payload_compressed_size_bytes",ot="messaging.operation",st="messaging.consumer_id",it="messaging.rabbitmq.routing_key",at="messaging.kafka.message_key",ct="messaging.kafka.consumer_group",lt="messaging.kafka.client_id",ut="messaging.kafka.partition",pt="messaging.kafka.tombstone",dt="rpc.system",ht="rpc.service",ft="rpc.method",mt="rpc.grpc.status_code",gt="rpc.jsonrpc.version",Et="rpc.jsonrpc.request_id",St="rpc.jsonrpc.error_code",_t="rpc.jsonrpc.error_message",yt="message.type",At="message.id",vt="message.compressed_size",Tt="message.uncompressed_size",bt=o,It=s,Rt=i,Ot=a,Nt=c,Ct=l,Lt=u,wt=p,Pt=d,Mt=h,xt=f,kt=m,Dt=g,Vt=E,Ut=S,Gt=_,$t=y,Bt=A,Ft=v,jt=T,Ht=b,Wt=I,Xt=R,Yt=O,Kt=N,Zt=C,zt=L,Jt=w,Qt=P,qt=M,er=x,tr=k,rr=D,nr=V,or=U,sr=G,ir=$,ar=B,cr=F,lr=j,ur=H,pr=W,dr=X,hr=Y,fr=K,mr=Z,gr=z,Er=J,Sr=Q,_r=q,yr=ee,Ar=te,vr=re,Tr=ne,br=oe,Ir=se,Rr=ie,Or=ae,Nr=ce,Cr=le,Lr=ue,wr=pe,Pr=de,Mr=he,xr=fe,kr=me,Dr=ge,Vr=Ee,Ur=Se,Gr=_e,$r=ye,Br=Ae,Fr=ve,jr=Te,Hr=be,Wr=Ie,Xr=Re,Yr=Oe,Kr=Ne,Zr=Ce,zr=Le,Jr=we,Qr=Pe,qr=Me,en=xe,tn=ke,rn=De,nn=Ve,on=Ue,sn=Ge,an=$e,cn=Be,ln=Fe,un=je,pn=He,dn=We,hn=Xe,fn=Ye,mn=Ke,gn=Ze,En=ze,Sn=Je,_n=Qe,yn=qe,An=et,vn=tt,Tn=rt,bn=nt,In=ot,Rn=st,On=it,Nn=at,Cn=ct,Ln=lt,wn=ut,Pn=pt,Mn=dt,xn=ht,kn=ft,Dn=mt,Vn=gt,Un=Et,Gn=St,$n=_t,Bn=yt,Fn=At,jn=vt,Hn=Tt,Wn=n([o,s,i,a,c,l,u,p,d,h,f,m,g,E,S,_,y,A,v,T,b,I,R,O,N,C,L,w,P,M,x,k,D,V,U,G,$,B,F,j,H,W,X,Y,K,Z,z,J,Q,q,ee,te,re,ne,oe,se,ie,ae,ce,le,ue,pe,de,he,fe,me,ge,Ee,Se,_e,ye,Ae,ve,Te,be,Ie,Re,Oe,Ne,Ce,Le,we,Pe,Me,xe,ke,De,Ve,Ue,Ge,$e,Be,Fe,je,He,We,Xe,Ye,Ke,Ze,ze,Je,Qe,qe,et,tt,rt,nt,ot,st,it,at,ct,lt,ut,pt,dt,ht,ft,mt,gt,Et,St,_t,yt,At,vt,Tt]),Xn="other_sql",Yn="mssql",Kn="mysql",Zn="oracle",zn="postgresql",Jn="redshift",Qn="hive",qn="cloudscape",eo="hsqldb",to="progress",ro="maxdb",no="hanadb",oo="ingres",so="firstsql",io="cache",ao="adabas",co="firebird",lo="derby",uo="filemaker",po="informix",ho="instantdb",fo="interbase",mo="mariadb",go="netezza",Eo="pervasive",So="pointbase",_o="sqlite",yo="sybase",Ao="teradata",vo="vertica",To="coldfusion",bo="cassandra",Io="hbase",Ro="mongodb",Oo="redis",No="couchbase",Co="couchdb",Lo="cosmosdb",wo="dynamodb",Po="neo4j",Mo="geode",xo="elasticsearch",ko="memcached",Do="cockroachdb",Vo=Xn,Uo=Yn,Go=Kn,$o=Zn,Bo="db2",Fo=zn,jo=Jn,Ho=Qn,Wo=qn,Xo=eo,Yo=to,Ko=ro,Zo=no,zo=oo,Jo=so,Qo="edb",qo=io,es=ao,ts=co,rs=lo,ns=uo,os=po,ss=ho,is=fo,as=mo,cs=go,ls=Eo,us=So,ps=_o,ds=yo,hs=Ao,fs=vo,ms="h2",gs=To,Es=bo,Ss=Io,_s=Ro,ys=Oo,As=No,vs=Co,Ts=Lo,bs=wo,Is=Po,Rs=Mo,Os=xo,Ns=ko,Cs=Do,Ls=n([Xn,Yn,Kn,Zn,"db2",zn,Jn,Qn,qn,eo,to,ro,no,oo,so,"edb",io,ao,co,lo,uo,po,ho,fo,mo,go,Eo,So,_o,yo,Ao,vo,"h2",To,bo,Io,Ro,Oo,No,Co,Lo,wo,Po,Mo,xo,ko,Do]),ws="each_quorum",Ps="quorum",Ms="local_quorum",xs="three",ks="local_one",Ds="serial",Vs="local_serial",Us="all",Gs=ws,$s=Ps,Bs=Ms,Fs="one",js="two",Hs=xs,Ws=ks,Xs="any",Ys=Ds,Ks=Vs,Zs=n(["all",ws,Ps,Ms,"one","two",xs,ks,"any",Ds,Vs]),zs="datasource",Js="http",Qs="pubsub",qs="timer",ei="other",ti=zs,ri=Js,ni=Qs,oi=qs,si=ei,ii=n([zs,Js,Qs,qs,ei]),ai="insert",ci="edit",li="delete",ui=ai,pi=ci,di=li,hi=n([ai,ci,li]),fi="alibaba_cloud",mi="azure",gi=fi,Ei="aws",Si=mi,_i="gcp",yi=n([fi,"aws",mi,"gcp"]),Ai="ip_tcp",vi="ip_udp",Ti="unix",bi="pipe",Ii="inproc",Ri="other",Oi=Ai,Ni=vi,Ci="ip",Li=Ti,wi=bi,Pi=Ii,Mi=Ri,xi=n([Ai,vi,"ip",Ti,bi,Ii,Ri]),ki="wifi",Di="wired",Vi="cell",Ui="unavailable",Gi="unknown",$i=ki,Bi=Di,Fi=Vi,ji=Ui,Hi=Gi,Wi=n([ki,Di,Vi,Ui,Gi]),Xi="gprs",Yi="edge",Ki="umts",Zi="cdma",zi="evdo_0",Ji="evdo_a",Qi="cdma2000_1xrtt",qi="hsdpa",ea="hsupa",ta="hspa",ra="iden",na="evdo_b",oa="ehrpd",sa="hspap",ia="td_scdma",aa="iwlan",ca="nrnsa",la="lte_ca",ua=Xi,pa=Yi,da=Ki,ha=Zi,fa=zi,ma=Ji,ga=Qi,Ea=qi,Sa=ea,_a=ta,ya=ra,Aa=na,va="lte",Ta=oa,ba=sa,Ia="gsm",Ra=ia,Oa=aa,Na="nr",Ca=ca,La=la,wa=n([Xi,Yi,Ki,Zi,zi,Ji,Qi,qi,ea,ta,ra,na,"lte",oa,sa,"gsm",ia,aa,"nr",ca,la]),Pa="SPDY",Ma="QUIC",xa="1.0",ka="1.1",Da="2.0",Va=Pa,Ua=Ma,Ga={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:Pa,QUIC:Ma},$a="queue",Ba="topic",Fa=$a,ja=Ba,Ha=n([$a,Ba]),Wa="receive",Xa="process",Ya=Wa,Ka=Xa,Za=n([Wa,Xa]),za=0,Ja=1,Qa=2,qa=3,ec=4,tc=5,rc=6,nc=7,oc=8,sc=9,ic=10,ac=11,cc=12,lc=13,uc=14,pc=15,dc=16,hc={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},fc="SENT",mc="RECEIVED",gc=fc,Ec=mc,Sc=n([fc,mc]),_c="cloud.provider",yc="cloud.account.id",Ac="cloud.region",vc="cloud.availability_zone",Tc="cloud.platform",bc="aws.ecs.container.arn",Ic="aws.ecs.cluster.arn",Rc="aws.ecs.launchtype",Oc="aws.ecs.task.arn",Nc="aws.ecs.task.family",Cc="aws.ecs.task.revision",Lc="aws.eks.cluster.arn",wc="aws.log.group.names",Pc="aws.log.group.arns",Mc="aws.log.stream.names",xc="aws.log.stream.arns",kc="container.name",Dc="container.id",Vc="container.runtime",Uc="container.image.name",Gc="container.image.tag",$c="deployment.environment",Bc="device.id",Fc="device.model.identifier",jc="device.model.name",Hc="faas.name",Wc="faas.id",Xc="faas.version",Yc="faas.instance",Kc="faas.max_memory",Zc="host.id",zc="host.name",Jc="host.type",Qc="host.arch",qc="host.image.name",el="host.image.id",tl="host.image.version",rl="k8s.cluster.name",nl="k8s.node.name",ol="k8s.node.uid",sl="k8s.namespace.name",il="k8s.pod.uid",al="k8s.pod.name",cl="k8s.container.name",ll="k8s.replicaset.uid",ul="k8s.replicaset.name",pl="k8s.deployment.uid",dl="k8s.deployment.name",hl="k8s.statefulset.uid",fl="k8s.statefulset.name",ml="k8s.daemonset.uid",gl="k8s.daemonset.name",El="k8s.job.uid",Sl="k8s.job.name",_l="k8s.cronjob.uid",yl="k8s.cronjob.name",Al="os.type",vl="os.description",Tl="os.name",bl="os.version",Il="process.pid",Rl="process.executable.name",Ol="process.executable.path",Nl="process.command",Cl="process.command_line",Ll="process.command_args",wl="process.owner",Pl="process.runtime.name",Ml="process.runtime.version",xl="process.runtime.description",kl="service.name",Dl="service.namespace",Vl="service.instance.id",Ul="service.version",Gl="telemetry.sdk.name",$l="telemetry.sdk.language",Bl="telemetry.sdk.version",Fl="telemetry.auto.version",jl="webengine.name",Hl="webengine.version",Wl="webengine.description",Xl=_c,Yl=yc,Kl=Ac,Zl=vc,zl=Tc,Jl=bc,Ql=Ic,ql=Rc,eu=Oc,tu=Nc,ru=Cc,nu=Lc,ou=wc,su=Pc,iu=Mc,au=xc,cu=kc,lu=Dc,uu=Vc,pu=Uc,du=Gc,hu=$c,fu=Bc,mu=Fc,gu=jc,Eu=Hc,Su=Wc,_u=Xc,yu=Yc,Au=Kc,vu=Zc,Tu=zc,bu=Jc,Iu=Qc,Ru=qc,Ou=el,Nu=tl,Cu=rl,Lu=nl,wu=ol,Pu=sl,Mu=il,xu=al,ku=cl,Du=ll,Vu=ul,Uu=pl,Gu=dl,$u=hl,Bu=fl,Fu=ml,ju=gl,Hu=El,Wu=Sl,Xu=_l,Yu=yl,Ku=Al,Zu=vl,zu=Tl,Ju=bl,Qu=Il,qu=Rl,ep=Ol,tp=Nl,rp=Cl,np=Ll,op=wl,sp=Pl,ip=Ml,ap=xl,cp=kl,lp=Dl,up=Vl,pp=Ul,dp=Gl,hp=$l,fp=Bl,mp=Fl,gp=jl,Ep=Hl,Sp=Wl,_p=n([_c,yc,Ac,vc,Tc,bc,Ic,Rc,Oc,Nc,Cc,Lc,wc,Pc,Mc,xc,kc,Dc,Vc,Uc,Gc,$c,Bc,Fc,jc,Hc,Wc,Xc,Yc,Kc,Zc,zc,Jc,Qc,qc,el,tl,rl,nl,ol,sl,il,al,cl,ll,ul,pl,dl,hl,fl,ml,gl,El,Sl,_l,yl,Al,vl,Tl,bl,Il,Rl,Ol,Nl,Cl,Ll,wl,Pl,Ml,xl,kl,Dl,Vl,Ul,Gl,$l,Bl,Fl,jl,Hl,Wl]),yp="alibaba_cloud",Ap="azure",vp=yp,Tp="aws",bp=Ap,Ip="gcp",Rp=n([yp,"aws",Ap,"gcp"]),Op="alibaba_cloud_ecs",Np="alibaba_cloud_fc",Cp="aws_ec2",Lp="aws_ecs",wp="aws_eks",Pp="aws_lambda",Mp="aws_elastic_beanstalk",xp="azure_vm",kp="azure_container_instances",Dp="azure_aks",Vp="azure_functions",Up="azure_app_service",Gp="gcp_compute_engine",$p="gcp_cloud_run",Bp="gcp_kubernetes_engine",Fp="gcp_cloud_functions",jp="gcp_app_engine",Hp=Op,Wp=Np,Xp=Cp,Yp=Lp,Kp=wp,Zp=Pp,zp=Mp,Jp=xp,Qp=kp,qp=Dp,ed=Vp,td=Up,rd=Gp,nd=$p,od=Bp,sd=Fp,id=jp,ad=n([Op,Np,Cp,Lp,wp,Pp,Mp,xp,kp,Dp,Vp,Up,Gp,$p,Bp,Fp,jp]),cd="fargate",ld="ec2",ud=cd,pd=n(["ec2",cd]),dd="amd64",hd="arm32",fd="arm64",md="ia64",gd="ppc32",Ed="ppc64",Sd=dd,_d=hd,yd=fd,Ad=md,vd=gd,Td=Ed,bd="x86",Id=n([dd,hd,fd,md,gd,Ed,"x86"]),Rd="windows",Od="linux",Nd="darwin",Cd="freebsd",Ld="netbsd",wd="openbsd",Pd="dragonflybsd",Md="hpux",xd="solaris",kd="z_os",Dd=Rd,Vd=Od,Ud=Nd,Gd=Cd,$d=Ld,Bd=wd,Fd=Pd,jd=Md,Hd="aix",Wd=xd,Xd=kd,Yd=n([Rd,Od,Nd,Cd,Ld,wd,Pd,Md,"aix",xd,kd]),Kd="dotnet",Zd="erlang",zd="java",Jd="nodejs",Qd="python",qd="ruby",eh="webjs",th="cpp",rh=Kd,nh=Zd,oh="go",sh=zd,ih=Jd,ah="php",ch=Qd,lh=qd,uh=eh,ph=n(["cpp",Kd,Zd,"go",zd,Jd,"php",Qd,qd,eh]),dh="aspnetcore.rate_limiting.result",hh="acquired",fh="endpoint_limiter",mh="global_limiter",gh="request_canceled",Eh="telemetry.sdk.language",Sh="cpp",_h="dotnet",yh="erlang",Ah="go",vh="java",Th="nodejs",bh="php",Ih="python",Rh="ruby",Oh="rust",Nh="swift",Ch="webjs",Lh="telemetry.sdk.name",wh="telemetry.sdk.version",Ph="aspnetcore.diagnostics.handler.type",Mh="aspnetcore.diagnostics.exception.result",xh="aborted",kh="handled",Dh="skipped",Vh="unhandled",Uh="aspnetcore.rate_limiting.policy",Gh="aspnetcore.request.is_unhandled",$h="aspnetcore.routing.is_fallback",Bh="aspnetcore.routing.match_status",Fh="failure",jh="success",Hh="client.address",Wh="client.port",Xh="error.type",Yh="_OTHER",Kh="exception.escaped",Zh="exception.message",zh="exception.stacktrace",Jh="exception.type",Qh=function(e){return"http.request.header."+e},qh="http.request.method",ef="_OTHER",tf="CONNECT",rf="DELETE",nf="GET",of="HEAD",sf="OPTIONS",af="PATCH",cf="POST",lf="PUT",uf="TRACE",pf="http.request.method_original",df="http.request.resend_count",hf=function(e){return"http.response.header."+e},ff="http.response.status_code",mf="http.route",gf="jvm.gc.action",Ef="jvm.gc.name",Sf="jvm.memory.pool.name",_f="jvm.memory.type",yf="heap",Af="non_heap",vf="jvm.thread.daemon",Tf="jvm.thread.state",bf="blocked",If="new",Rf="runnable",Of="terminated",Nf="timed_waiting",Cf="waiting",Lf="network.local.address",wf="network.local.port",Pf="network.peer.address",Mf="network.peer.port",xf="network.protocol.name",kf="network.protocol.version",Df="network.transport",Vf="pipe",Uf="quic",Gf="tcp",$f="udp",Bf="unix",Ff="network.type",jf="ipv4",Hf="ipv6",Wf="otel.scope.name",Xf="otel.scope.version",Yf="otel.status_code",Kf="ERROR",Zf="OK",zf="otel.status_description",Jf="server.address",Qf="server.port",qf="service.name",em="service.version",tm="signalr.connection.status",rm="app_shutdown",nm="normal_closure",om="timeout",sm="signalr.transport",im="long_polling",am="server_sent_events",cm="web_sockets",lm="url.fragment",um="url.full",pm="url.path",dm="url.query",hm="url.scheme",fm="user_agent.original",mm="aspnetcore.diagnostics.exceptions",gm="aspnetcore.rate_limiting.active_request_leases",Em="aspnetcore.rate_limiting.queued_requests",Sm="aspnetcore.rate_limiting.request.time_in_queue",_m="aspnetcore.rate_limiting.request_lease.duration",ym="aspnetcore.rate_limiting.requests",Am="aspnetcore.routing.match_attempts",vm="http.client.request.duration",Tm="http.server.request.duration",bm="jvm.class.count",Im="jvm.class.loaded",Rm="jvm.class.unloaded",Om="jvm.cpu.count",Nm="jvm.cpu.recent_utilization",Cm="jvm.cpu.time",Lm="jvm.gc.duration",wm="jvm.memory.committed",Pm="jvm.memory.limit",Mm="jvm.memory.used",xm="jvm.memory.used_after_last_gc",km="jvm.thread.count",Dm="kestrel.active_connections",Vm="kestrel.active_tls_handshakes",Um="kestrel.connection.duration",Gm="kestrel.queued_connections",$m="kestrel.queued_requests",Bm="kestrel.rejected_connections",Fm="kestrel.tls_handshake.duration",jm="kestrel.upgraded_connections",Hm="signalr.server.active_connections",Wm="signalr.server.connection.duration"},57263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSqlCommenterComment=void 0;const n=r(74681),o=r(98035);t.addSqlCommenterComment=function(e,t){if("string"!=typeof t||0===t.length)return t;if(function(e){const t=e.indexOf("--");return t>=0||!(e.indexOf("/*")<0)&&t<e.indexOf("*/")}(t))return t;const r=new o.W3CTraceContextPropagator,s={};r.inject(n.trace.setSpan(n.ROOT_CONTEXT,e),s,n.defaultTextMapSetter);const i=Object.keys(s).sort();return 0===i.length?t:`${t} /*${i.map((e=>`${e}='${encodeURIComponent(s[e]).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}'`)).join(",")}*/`}},26685:(e,t,r)=>{"use strict";var n,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(c,{PrismaInstrumentation:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of i(t))a.call(e,r)||undefined===r||o(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(o({},"__esModule",{value:!0}),n));var l=r(27233),u=r(38559),p=r(49441),d=class extends p.InstrumentationBase{constructor(e={}){super(u.NAME,u.VERSION,e)}init(){return[new p.InstrumentationNodeModuleDefinition(u.MODULE_NAME,[u.VERSION])]}enable(){const e=this._config,t={helper:new l.ActiveTracingHelper({traceMiddleware:e.middleware??!1})};global[u.GLOBAL_KEY]=t}disable(){delete global[u.GLOBAL_KEY]}isEnabled(){return Boolean(global[u.GLOBAL_KEY])}}},19073:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(i,{__commonJS:()=>c}),e.exports=(t=i,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))s.call(e,i)||undefined===i||r(e,i,{get:()=>t[i],enumerable:!(a=n(t,i))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var a=Object.getOwnPropertyNames,c=(e,t)=>function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports}},38559:(e,t,r)=>{"use strict";var n,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(c,{GLOBAL_KEY:()=>d,MODULE_NAME:()=>m,NAME:()=>f,VERSION:()=>h}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of i(t))a.call(e,r)||undefined===r||o(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(o({},"__esModule",{value:!0}),n));var l=(0,r(19073).__commonJS)({"package.json"(e,t){t.exports={name:"@prisma/instrumentation",version:"5.19.1",description:"OpenTelemetry compliant instrumentation for Prisma Client",main:"dist/index.js",types:"dist/index.d.ts",license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation"},bugs:"https://github.com/prisma/prisma/issues",devDependencies:{"@prisma/internals":"workspace:*","@swc/core":"1.6.13","@types/jest":"29.5.12","@types/node":"18.19.31",jest:"29.7.0","jest-junit":"16.0.0",typescript:"5.4.5"},dependencies:{"@opentelemetry/api":"^1.8","@opentelemetry/instrumentation":"^0.49 || ^0.50 || ^0.51 || ^0.52.0","@opentelemetry/sdk-trace-base":"^1.22"},files:["dist"],keywords:["prisma","instrumentation","opentelemetry","otel"],scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"jest"},sideEffects:!1}}}),{version:u,name:p}=l(),d="PRISMA_INSTRUMENTATION",h=u,f=p,m="prisma"},27233:(e,t,r)=>{"use strict";var n,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(c,{ActiveTracingHelper:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of i(t))a.call(e,r)||undefined===r||o(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(o({},"__esModule",{value:!0}),n));var l=r(74681),u=r(4374),p="true"===process.env.PRISMA_SHOW_ALL_TRACES,d=class{constructor({traceMiddleware:e}){this.traceMiddleware=e}isEnabled(){return!0}getTraceParent(e){const t=l.trace.getSpanContext(e??l.context.active());return t?`00-${t.traceId}-${t.spanId}-0${t.traceFlags}`:"00-10-10-00"}createEngineSpan(e){const t=l.trace.getTracer("prisma");e.spans.forEach((e=>{const r={traceId:e.trace_id,spanId:e.span_id,traceFlags:l.TraceFlags.SAMPLED},n=e.links?.map((e=>({context:{traceId:e.trace_id,spanId:e.span_id,traceFlags:l.TraceFlags.SAMPLED}}))),o=new u.Span(t,l.ROOT_CONTEXT,e.name,r,l.SpanKind.INTERNAL,e.parent_span_id,n,e.start_time);e.attributes&&o.setAttributes(e.attributes),o.end(e.end_time)}))}getActiveContext(){return l.context.active()}runInChildSpan(e,t){if("string"==typeof e&&(e={name:e}),e.internal&&!p)return t();if(e.middleware&&!this.traceMiddleware)return t();const r=l.trace.getTracer("prisma"),n=e.context??this.getActiveContext(),o=`prisma:client:${e.name}`;if(!1===e.active){const s=r.startSpan(o,e,n);return h(s,t(s,n))}return r.startActiveSpan(o,e,(e=>h(e,t(e,n))))}};function h(e,t){return null!=(r=t)&&"function"==typeof r.then?t.then((t=>(e.end(),t)),(t=>{throw e.end(),t})):(e.end(),t);var r}},57991:(e,t,r)=>{"use strict";var n,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(c,{PrismaInstrumentation:()=>l.PrismaInstrumentation}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of i(t))a.call(e,r)||undefined===r||o(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(o({},"__esModule",{value:!0}),n));var l=r(26685);r(27233),r(38559),r(19073)},49441:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>U,InstrumentationNodeModuleDefinition:()=>$,InstrumentationNodeModuleFile:()=>B,isWrapped:()=>x,registerInstrumentations:()=>p,safeExecuteInTheMiddle:()=>P,safeExecuteInTheMiddleAsync:()=>M});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=(new c,new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}())),u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=l,function(e){return 1===e?t:r}),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:l},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i]},e}().getInstance();function p(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||u.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var d=r(16928),h=r(39023),f=r(66818),m=r(81132),g=r(78758),E=function(){return E=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)},S=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=m.wrap,this._unwrap=m.unwrap,this._massWrap=m.massWrap,this._massUnwrap=m.massUnwrap,this._config=E({enabled:!0},r),this._diag=g.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=u.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=E({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),_=r(69136),y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},v=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},T="/",b=function(){this.hooks=[],this.children=new Map},I=function(){function e(){this._trie=new b,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=y(e.moduleName.split(T)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new b,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=y(e.split(T)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,v([],A(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,v([],A(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),R=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),O=function(){function e(){this._moduleNameTrie=new I,this._initialize()}return e.prototype._initialize=function(){var e=this;new _.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,d.sep!==T?i.split(d.sep).join(T):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return R?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),N=r(30616),C=r(79896),L=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},w=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function P(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function M(e,t,r){return L(this,void 0,void 0,(function(){var n,o,s;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function x(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var k,D=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),V=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},U=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=O.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(x(e[t])&&o._unwrap(e,t),h.types.isProxy(e)){var n=(0,m.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n})}return(0,m.wrap)(e,t,r)},o._unwrap=function(e,t){return h.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,m.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):g.s.error("must provide one or more functions to wrap on modules")):g.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):g.s.error("must provide one or more functions to wrap on modules")):g.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],0===o._modules.length&&g.s.debug("No modules instrumentation has been defined for '"+o.instrumentationName+"@"+o.instrumentationVersion+"', nothing will be patched"),o._config.enabled&&o.enable(),o}return D(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(52825).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,C.readFileSync)(d.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){g.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return G(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=d.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return G(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=V(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,V(l.files)),p=u.next();!p.done;p=u.next()){var h=p.value;h.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:h.name}),h.patch(h.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var f=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=d.isAbsolute(e.name)?new _.Hook([e.name],{internals:!0},t):m._requireInTheMiddleSingleton.register(e.name,t);m._hooks.push(r);var n=new N.Hook([e.name],{internals:!1},(function(t,r,n){return i._onRequire(e,t,r,n)}));m._hooks.push(n)},m=this;try{for(var g=V(this._modules),E=g.next();!E.done;E=g.next())f(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=V(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,V(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(S);function G(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,f.satisfies)(t,e,{includePrerelease:r})}))}var $=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},B=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,d.normalize)(e)}},52825:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=52825,e.exports=t},39405:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(2182),{safeRe:i,t:a}=r(7753),c=r(27252),l=r(58449),u=r(41605),p=r(10724)},10724:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(5737)),i=r(2182),a=r(39405),c=r(58449),l=r(41605),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(7753),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(67383),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},41605:(e,t,r)=>{const n=r(58449),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(67383),{safeRe:i,t:a}=r(7753),c=r(2182),{compareIdentifiers:l}=r(94574);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},36569:(e,t,r)=>{const n=r(38243);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},27252:(e,t,r)=>{const n=r(52528),o=r(85116),s=r(97089),i=r(45634),a=r(74942),c=r(62887);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},87247:(e,t,r)=>{const n=r(41605),o=r(38243),{safeRe:s,t:i}=r(7753);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},12922:(e,t,r)=>{const n=r(41605);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},58948:(e,t,r)=>{const n=r(50987);e.exports=(e,t)=>n(e,t,!0)},50987:(e,t,r)=>{const n=r(41605);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},6709:(e,t,r)=>{const n=r(38243);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},52528:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>0===n(e,t,r)},97089:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>n(e,t,r)>0},45634:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>n(e,t,r)>=0},95764:(e,t,r)=>{const n=r(41605);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},74942:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>n(e,t,r)<0},62887:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>n(e,t,r)<=0},70669:(e,t,r)=>{const n=r(41605);e.exports=(e,t)=>new n(e,t).major},75641:(e,t,r)=>{const n=r(41605);e.exports=(e,t)=>new n(e,t).minor},85116:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>0!==n(e,t,r)},38243:(e,t,r)=>{const n=r(41605);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},40370:(e,t,r)=>{const n=r(41605);e.exports=(e,t)=>new n(e,t).patch},70196:(e,t,r)=>{const n=r(38243);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},59043:(e,t,r)=>{const n=r(50987);e.exports=(e,t,r)=>n(t,e,r)},38098:(e,t,r)=>{const n=r(12922);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},4157:(e,t,r)=>{const n=r(10724);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},51130:(e,t,r)=>{const n=r(12922);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},72762:(e,t,r)=>{const n=r(38243);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},66818:(e,t,r)=>{const n=r(7753),o=r(67383),s=r(41605),i=r(94574),a=r(38243),c=r(72762),l=r(36569),u=r(95764),p=r(6709),d=r(70669),h=r(75641),f=r(40370),m=r(70196),g=r(50987),E=r(59043),S=r(58948),_=r(12922),y=r(51130),A=r(38098),v=r(97089),T=r(74942),b=r(52528),I=r(85116),R=r(45634),O=r(62887),N=r(27252),C=r(87247),L=r(39405),w=r(10724),P=r(4157),M=r(65372),x=r(94047),k=r(94365),D=r(42768),V=r(61083),U=r(75942),G=r(85850),$=r(95807),B=r(81759),F=r(20774),j=r(97479);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},67383:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},58449:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},94574:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},5737:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},2182:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},7753:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(67383),i=r(58449),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},85850:(e,t,r)=>{const n=r(75942);e.exports=(e,t,r)=>n(e,t,">",r)},81759:(e,t,r)=>{const n=r(10724);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},95807:(e,t,r)=>{const n=r(75942);e.exports=(e,t,r)=>n(e,t,"<",r)},94047:(e,t,r)=>{const n=r(41605),o=r(10724);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},94365:(e,t,r)=>{const n=r(41605),o=r(10724);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},42768:(e,t,r)=>{const n=r(41605),o=r(10724),s=r(97089);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},75942:(e,t,r)=>{const n=r(41605),o=r(39405),{ANY:s}=o,i=r(10724),a=r(4157),c=r(97089),l=r(74942),u=r(62887),p=r(45634);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},20774:(e,t,r)=>{const n=r(4157),o=r(50987);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},97479:(e,t,r)=>{const n=r(10724),o=r(39405),{ANY:s}=o,i=r(4157),a=r(50987),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},65372:(e,t,r)=>{const n=r(10724);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},61083:(e,t,r)=>{const n=r(10724);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},85740:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(41101),o=r(82093);function s(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}t.getEnvelopeEndpointWithUrlEncodedAuth=function(e,t,r){return t||`${function(e){return`${s(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return o.urlEncode({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`},t.getReportDialogEndpoint=function(e,t){const r=n.makeDsn(e);if(!r)return"";const o=`${s(r)}embed/error-page/`;let i=`dsn=${n.dsnToString(r)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(i+=`&name=${encodeURIComponent(e.name)}`),e.email&&(i+=`&email=${encodeURIComponent(e.email)}`)}else i+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${o}?${i}`}},42810:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(73220),o=r(5475);t.getAsyncContextStrategy=function(e){const t=n.getSentryCarrier(e);return t.acs?t.acs:o.getStackAsyncContextStrategy()},t.setAsyncContextStrategy=function(e){const t=n.getMainCarrier();n.getSentryCarrier(t).acs=e}},5475:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37320),o=r(69640),s=r(44478);r(29572),r(8950),r(53910),r(88587),r(87120);const i=r(73220);class a{constructor(e,t){let r,n;r=e||new o.Scope,n=t||new o.Scope,this._stack=[{scope:r}],this._isolationScope=n}withScope(e){const t=this._pushScope();let r;try{r=e(t)}catch(e){throw this._popScope(),e}return s.isThenable(r)?r.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function c(){const e=i.getMainCarrier(),t=i.getSentryCarrier(e);return t.stack=t.stack||new a(n.getDefaultCurrentScope(),n.getDefaultIsolationScope())}function l(e){return c().withScope(e)}function u(e,t){const r=c();return r.withScope((()=>(r.getStackTop().scope=e,t(e))))}function p(e){return c().withScope((()=>e(c().getIsolationScope())))}t.AsyncContextStack=a,t.getStackAsyncContextStrategy=function(){return{withIsolationScope:p,withScope:l,withSetScope:u,withSetIsolationScope:(e,t)=>p(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},29564:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(85740),o=r(49564),s=r(68974),i=r(30238),a=r(82430),c=r(11348),l=r(93754),u=r(81091),p=r(41101),d=r(73206),h=r(68746),f=r(44478),m=r(53910),g=r(72322),E=r(82093),S=r(87120),_=r(10393),y=r(31485),A="Not capturing exception because it's already been captured.";function v(e){return void 0===e.type}function T(e){return"transaction"===e.type}t.BaseClient=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=p.makeDsn(e.dsn):s.DEBUG_BUILD&&m.logger.warn("No DSN provided, client will not send events."),this._dsn){const t=n.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){const n=g.uuid4();if(g.checkOrSetAlreadyCaught(e))return s.DEBUG_BUILD&&m.logger.log(A),n;const o={event_id:n,...t};return this._process(this.eventFromException(e,o).then((e=>this._captureEvent(e,o,r)))),o.event_id}captureMessage(e,t,r,n){const o={event_id:g.uuid4(),...r},s=f.isParameterizedString(e)?e:String(e),i=f.isPrimitive(e)?this.eventFromMessage(s,t,o):this.eventFromException(e,o);return this._process(i.then((e=>this._captureEvent(e,o,n)))),o.event_id}captureEvent(e,t,r){const n=g.uuid4();if(t&&t.originalException&&g.checkOrSetAlreadyCaught(t.originalException))return s.DEBUG_BUILD&&m.logger.log(A),n;const o={event_id:n,...t},i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,i||r)),o.event_id}captureSession(e){"string"!=typeof e.release?s.DEBUG_BUILD&&m.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),c.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((r=>t.flush(e).then((e=>r&&e))))):S.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];a.setupIntegration(this,e,this._integrations),t||a.afterSetupIntegrations(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=i.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])r=d.addItemToEnvelope(r,d.createAttachmentEnvelopeItem(e));const n=this.sendEnvelope(r);n&&n.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=i.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){const n="number"==typeof r?r:1,o=`${e}:${t}`;s.DEBUG_BUILD&&m.logger.log(`Recording outcome: "${o}"${n>1?` (${n} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+n}}on(e,t){const r=this._hooks[e]=this._hooks[e]||[];return r.push(t),()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)}}emit(e,...t){const r=this._hooks[e];r&&r.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(s.DEBUG_BUILD&&m.logger.error("Error while sending envelope:",e),e))):(s.DEBUG_BUILD&&m.logger.error("Transport disabled"),S.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=a.setupIntegrations(this,e),a.afterSetupIntegrations(this,e)}_updateSessionFromEvent(e,t){let r=!1,n=!1;const o=t.exception&&t.exception.values;if(o){n=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){r=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&r)&&(c.updateSession(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new S.SyncPromise((t=>{let r=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,r,n=o.getIsolationScope()){const s=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||n.setLastEventId(e.event_id||t.event_id),y.prepareEvent(s,e,t,r,this,n).then((e=>{if(null===e)return e;const t={...n.getPropagationContext(),...r?r.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:r,spanId:n,parentSpanId:o,dsc:s}=t;e.contexts={trace:E.dropUndefinedKeys({trace_id:r,span_id:n,parent_span_id:o}),...e.contexts};const i=s||l.getDynamicSamplingContextFromClient(r,this);e.sdkProcessingMetadata={dynamicSamplingContext:i,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then((e=>e.event_id),(e=>{if(s.DEBUG_BUILD){const t=e;"log"===t.logLevel?m.logger.log(t.message):m.logger.warn(t)}}))}_processEvent(e,t,r){const n=this.getOptions(),{sampleRate:o}=n,s=T(e),i=v(e),a=e.type||"error",c=`before send for type \`${a}\``,l=void 0===o?void 0:_.parseSampleRate(o);if(i&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",e),S.rejectedSyncPromise(new h.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const u="replay_event"===a?"replay":a,p=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,p).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",u,e),new h.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return r;const o=function(e,t,r,n){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;if(v(r)&&o)return o(r,n);if(T(r)){if(r.spans&&i){const t=[];for(const n of r.spans){const r=i(n);r?t.push(r):e.recordDroppedEvent("before_send","span")}r.spans=t}if(s){if(r.spans){const e=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(r,n)}}return r}(this,n,r,t);return function(e,t){const r=`${t} must return \`null\` or a valid event.`;if(f.isThenable(e))return e.then((e=>{if(!f.isPlainObject(e)&&null!==e)throw new h.SentryError(r);return e}),(e=>{throw new h.SentryError(`${t} rejected with ${e}`)}));if(!f.isPlainObject(e)&&null!==e)throw new h.SentryError(r);return e}(o,c)})).then((n=>{if(null===n){if(this.recordDroppedEvent("before_send",u,e),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new h.SentryError(`${c} returned \`null\`, will not send event.`,"log")}const o=r&&r.getSession();if(!s&&o&&this._updateSessionFromEvent(o,n),s){const e=(n.sdkProcessingMetadata&&n.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(n.spans?n.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const i=n.transaction_info;if(s&&i&&n.transaction!==e.transaction){const e="custom";n.transaction_info={...i,source:e}}return this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof h.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new h.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[r,n]=e.split(":");return{reason:r,category:n,quantity:t}}))}_flushOutcomes(){s.DEBUG_BUILD&&m.logger.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(s.DEBUG_BUILD&&m.logger.log("No outcomes to send"));if(!this._dsn)return void(s.DEBUG_BUILD&&m.logger.log("No dsn provided, will not send outcomes"));s.DEBUG_BUILD&&m.logger.log("Sending outcomes:",e);const t=u.createClientReportEnvelope(e,this._options.tunnel&&p.dsnToString(this._dsn));this.sendEnvelope(t)}}},87990:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(53910),s=r(88587),i=100;t.addBreadcrumb=function(e,t){const r=n.getClient(),a=n.getIsolationScope();if(!r)return;const{beforeBreadcrumb:c=null,maxBreadcrumbs:l=i}=r.getOptions();if(l<=0)return;const u={timestamp:s.dateTimestampInSeconds(),...e},p=c?o.consoleSandbox((()=>c(u,t))):u;null!==p&&(r.emit&&r.emit("beforeAddBreadcrumb",p,t),a.addBreadcrumb(p,l))}},73220:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(29572),o=r(84987);function s(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||n.SDK_VERSION,t[n.SDK_VERSION]=t[n.SDK_VERSION]||{}}t.getMainCarrier=function(){return s(o.GLOBAL_OBJ),o.GLOBAL_OBJ},t.getSentryCarrier=s},60251:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(41101),o=r(73206),s=r(82093);t.createCheckInEnvelope=function(e,t,r,i,a){const c={sent_at:(new Date).toISOString()};r&&r.sdk&&(c.sdk={name:r.sdk.name,version:r.sdk.version}),i&&a&&(c.dsn=n.dsnToString(a)),t&&(c.trace=s.dropUndefinedKeys(t));const l=function(e){return[{type:"check_in"},e]}(e);return o.createEnvelope(c,[l])}},42501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENVIRONMENT="production"},49564:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(42810),o=r(73220),s=r(69640),i=r(84987);function a(){const e=o.getMainCarrier();return n.getAsyncContextStrategy(e).getCurrentScope()}t.getClient=function(){return a().getClient()},t.getCurrentScope=a,t.getGlobalScope=function(){return i.getGlobalSingleton("globalScope",(()=>new s.Scope))},t.getIsolationScope=function(){const e=o.getMainCarrier();return n.getAsyncContextStrategy(e).getIsolationScope()},t.withIsolationScope=function(...e){const t=o.getMainCarrier(),r=n.getAsyncContextStrategy(t);if(2===e.length){const[t,n]=e;return t?r.withSetIsolationScope(t,n):r.withIsolationScope(n)}return r.withIsolationScope(e[0])},t.withScope=function(...e){const t=o.getMainCarrier(),r=n.getAsyncContextStrategy(t);if(2===e.length){const[t,n]=e;return t?r.withSetScope(t,n):r.withScope(n)}return r.withScope(e[0])}},68974:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=r},37320:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(69640),o=r(84987);t.getDefaultCurrentScope=function(){return o.getGlobalSingleton("defaultCurrentScope",(()=>new n.Scope))},t.getDefaultIsolationScope=function(){return o.getGlobalSingleton("defaultIsolationScope",(()=>new n.Scope))}},30238:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(93754),o=r(41101),s=r(73206),i=r(54583);t.createEventEnvelope=function(e,t,r,n){const o=s.getSdkMetadataForEnvelopeHeader(r),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,r&&r.sdk);const a=s.createEventEnvelopeHeaders(e,o,n,t);delete e.sdkProcessingMetadata;const c=[{type:i},e];return s.createEnvelope(a,[c])},t.createSessionEnvelope=function(e,t,r,n){const i=s.getSdkMetadataForEnvelopeHeader(r),a={sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:o.dsnToString(t)}},c="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return s.createEnvelope(a,[c])},t.createSpanEnvelope=function(e,t){const r=n.getDynamicSamplingContextFromSpan(e[0]),a=t&&t.getDsn(),c=t&&t.getOptions().tunnel,l={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(r)&&{trace:r},...!!c&&a&&{dsn:o.dsnToString(a)}},u=t&&t.getOptions().beforeSendSpan,p=u?e=>u(i.spanToJSON(e)):e=>i.spanToJSON(e),d=[];for(const t of e){const e=p(t);e&&d.push(s.createSpanEnvelopeItem(e))}return s.createEnvelope(l,d)}},51929:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(44478),s=r(53910),i=r(87120);t.notifyEventProcessors=function e(t,r,a,c=0){return new i.SyncPromise(((i,l)=>{const u=t[c];if(null===r||"function"!=typeof u)i(r);else{const p=u({...r},a);n.DEBUG_BUILD&&u.id&&null===p&&s.logger.log(`Event processor "${u.id}" dropped event`),o.isThenable(p)?p.then((r=>e(t,r,a,c+1).then(i))).then(null,l):e(t,p,a,c+1).then(i).then(null,l)}}))}},79183:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(42501),o=r(49564),s=r(68974),i=r(11348),a=r(44478),c=r(53910),l=r(72322),u=r(88587),p=r(84987),d=r(31485);function h(e,t){const r=o.getCurrentScope(),n=o.getClient();if(n){if(n.captureCheckIn)return n.captureCheckIn(e,t,r);s.DEBUG_BUILD&&c.logger.warn("Cannot capture check-in. Client does not support sending check-ins.")}else s.DEBUG_BUILD&&c.logger.warn("Cannot capture check-in. No client defined.");return l.uuid4()}function f(){const e=o.getIsolationScope(),t=o.getCurrentScope(),r=t.getSession()||e.getSession();r&&i.closeSession(r),m(),e.setSession(),t.setSession()}function m(){const e=o.getIsolationScope(),t=o.getCurrentScope(),r=o.getClient(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}t.addEventProcessor=function(e){o.getIsolationScope().addEventProcessor(e)},t.captureCheckIn=h,t.captureEvent=function(e,t){return o.getCurrentScope().captureEvent(e,t)},t.captureException=function(e,t){return o.getCurrentScope().captureException(e,d.parseEventHintOrCaptureContext(t))},t.captureMessage=function(e,t){const r="string"==typeof t?t:void 0,n="string"!=typeof t?{captureContext:t}:void 0;return o.getCurrentScope().captureMessage(e,r,n)},t.captureSession=function(e=!1){e?f():m()},t.close=async function(e){const t=o.getClient();return t?t.close(e):(s.DEBUG_BUILD&&c.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},t.endSession=f,t.flush=async function(e){const t=o.getClient();return t?t.flush(e):(s.DEBUG_BUILD&&c.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},t.isEnabled=function(){const e=o.getClient();return!!e&&!1!==e.getOptions().enabled&&!!e.getTransport()},t.isInitialized=function(){return!!o.getClient()},t.lastEventId=function(){return o.getIsolationScope().lastEventId()},t.setContext=function(e,t){o.getIsolationScope().setContext(e,t)},t.setExtra=function(e,t){o.getIsolationScope().setExtra(e,t)},t.setExtras=function(e){o.getIsolationScope().setExtras(e)},t.setTag=function(e,t){o.getIsolationScope().setTag(e,t)},t.setTags=function(e){o.getIsolationScope().setTags(e)},t.setUser=function(e){o.getIsolationScope().setUser(e)},t.startSession=function(e){const t=o.getClient(),r=o.getIsolationScope(),s=o.getCurrentScope(),{release:a,environment:c=n.DEFAULT_ENVIRONMENT}=t&&t.getOptions()||{},{userAgent:l}=p.GLOBAL_OBJ.navigator||{},u=i.makeSession({release:a,environment:c,user:s.getUser()||r.getUser(),...l&&{userAgent:l},...e}),d=r.getSession();return d&&"ok"===d.status&&i.updateSession(d,{status:"exited"}),f(),r.setSession(u),s.setSession(u),u},t.withMonitor=function(e,t,r){const n=h({monitorSlug:e,status:"in_progress"},r),s=u.timestampInSeconds();function i(t){h({monitorSlug:e,status:t,checkInId:n,duration:u.timestampInSeconds()-s})}return o.withIsolationScope((()=>{let e;try{e=t()}catch(e){throw i("error"),e}return a.isThenable(e)?Promise.resolve(e).then((()=>{i("ok")}),(e=>{throw i("error"),e})):i("ok"),e}))}},6933:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(82093);t.captureFeedback=function(e,t={},r=n.getCurrentScope()){const{message:s,name:i,email:a,url:c,source:l,associatedEventId:u,tags:p}=e,d={contexts:{feedback:o.dropUndefinedKeys({contact_email:a,name:i,message:s,url:c,source:l,associated_event_id:u})},type:"feedback",level:"info",tags:p},h=r&&r.getClient()||n.getClient();return h&&h.emit("beforeSendFeedback",d,t),r.captureEvent(d,t)}},31096:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(52751);r(44038);const s=r(44478);r(29572),r(8950),r(53910),r(68974),r(88587);const i=r(60073),a=r(54583),c=r(67392),l=r(15363),u=r(55908),p=r(93754),d=r(38558),h=r(74890),f=r(89657);function m(e,t,r,o,i){const c=n.getIsolationScope(),{traceId:l,spanId:u,sampled:f,dsc:m}={...c.getPropagationContext(),...r.getPropagationContext()},E=i?a.spanToTraceHeader(i):h.generateSentryTraceHeader(l,u,f),S=d.dynamicSamplingContextToSentryBaggageHeader(m||(i?p.getDynamicSamplingContextFromSpan(i):p.getDynamicSamplingContextFromClient(l,t))),_=o.headers||("undefined"!=typeof Request&&s.isInstanceOf(e,Request)?e.headers:void 0);if(_){if("undefined"!=typeof Headers&&s.isInstanceOf(_,Headers)){const e=new Headers(_);if(e.set("sentry-trace",E),S){const t=e.get(d.BAGGAGE_HEADER_NAME);if(t){const r=g(t);e.set(d.BAGGAGE_HEADER_NAME,r?`${r},${S}`:S)}else e.set(d.BAGGAGE_HEADER_NAME,S)}return e}if(Array.isArray(_)){const e=[..._.filter((e=>!(Array.isArray(e)&&"sentry-trace"===e[0]))).map((e=>{if(Array.isArray(e)&&e[0]===d.BAGGAGE_HEADER_NAME&&"string"==typeof e[1]){const[t,r,...n]=e;return[t,g(r),...n]}return e})),["sentry-trace",E]];return S&&e.push([d.BAGGAGE_HEADER_NAME,S]),e}{const e="baggage"in _?_.baggage:void 0;let t=[];return Array.isArray(e)?t=e.map((e=>"string"==typeof e?g(e):e)).filter((e=>""===e)):e&&t.push(g(e)),S&&t.push(S),{..._,"sentry-trace":E,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":E,baggage:S}}function g(e){return e.split(",").filter((e=>!e.split("=")[0].startsWith(d.SENTRY_BAGGAGE_KEY_PREFIX))).join(",")}t.addTracingHeadersToFetchRequest=m,t.instrumentFetchRequest=function(e,t,r,s,p="auto.http.browser"){if(!e.fetchData)return;const d=i.hasTracingEnabled()&&t(e.fetchData.url);if(e.endTimestamp&&d){const t=e.fetchData.__span;if(!t)return;const r=s[t];return void(r&&(function(e,t){if(t.response){l.setHttpStatus(e,t.response.status);const r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){const t=parseInt(r);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:l.SPAN_STATUS_ERROR,message:"internal_error"});e.end()}(r,e),delete s[t]))}const h=n.getCurrentScope(),g=n.getClient(),{method:E,url:S}=e.fetchData,_=function(e){try{return new URL(e).href}catch(e){return}}(S),y=_?f.parseUrl(_).host:void 0,A=!!a.getActiveSpan(),v=d&&A?u.startInactiveSpan({name:`${E} ${S}`,attributes:{url:S,type:"fetch","http.method":E,"http.url":_,"server.address":y,[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:p,[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new c.SentryNonRecordingSpan;if(e.fetchData.__span=v.spanContext().spanId,s[v.spanContext().spanId]=v,r(e.fetchData.url)&&g){const t=e.args[0];e.args[1]=e.args[1]||{};const r=e.args[1];r.headers=m(t,g,h,r,i.hasTracingEnabled()&&A?v:void 0)}return v}},67249:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(87990),o=r(49564),s=r(79183);function i(){return{bindClient(e){o.getCurrentScope().setClient(e)},withScope:o.withScope,getClient:()=>o.getClient(),getScope:o.getCurrentScope,getIsolationScope:o.getIsolationScope,captureException:(e,t)=>o.getCurrentScope().captureException(e,t),captureMessage:(e,t,r)=>o.getCurrentScope().captureMessage(e,t,r),captureEvent:s.captureEvent,addBreadcrumb:n.addBreadcrumb,setUser:s.setUser,setTags:s.setTags,setTag:s.setTag,setExtra:s.setExtra,setExtras:s.setExtras,setContext:s.setContext,getIntegration(e){const t=o.getClient();return t&&t.getIntegrationByName(e.id)||null},startSession:s.startSession,endSession:s.endSession,captureSession(e){if(e)return s.endSession();!function(){const e=o.getCurrentScope(),t=o.getClient(),r=e.getSession();t&&r&&t.captureSession(r)}()}}}const a=i;t.getCurrentHub=a,t.getCurrentHubShim=i},37872:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44038),o=r(64284),s=r(12188),i=r(57011),a=r(30242),c=r(67392),l=r(15363),u=r(55908),p=r(93754),d=r(28945),h=r(79816),f=r(8346),m=r(52751),g=r(30238),E=r(79183),S=r(49564),_=r(37320),y=r(42810),A=r(73220),v=r(11348),T=r(84751),b=r(69640),I=r(51929),R=r(85740),O=r(29564),N=r(24842),C=r(27008),L=r(64450),w=r(52256),P=r(14082),M=r(82430),x=r(5013),k=r(31485),D=r(60251),V=r(60073),U=r(46877),G=r(76354),$=r(72979),B=r(54583),F=r(10393),j=r(55303),H=r(20647),W=r(145),X=r(42501),Y=r(87990),K=r(68360),Z=r(66492),z=r(92958),J=r(52213),Q=r(92215),q=r(75003),ee=r(39097),te=r(431),re=r(41312),ne=r(17536),oe=r(200),se=r(24208),ie=r(80699),ae=r(92177),ce=r(83090),le=r(9133),ue=r(92094),pe=r(14021),de=r(31096),he=r(36033),fe=r(6933),me=r(67249),ge=r(38891),Ee=r(14558),Se=r(41647),_e=r(81268),ye=r(41101),Ae=r(68746),ve=r(84987),Te=r(23765),be=r(38096),Ie=r(45495),Re=r(22023),Oe=r(21364),Ne=r(44478),Ce=r(78612),Le=r(53910),we=r(54880),Pe=r(72322),Me=r(6566),xe=r(56507),ke=r(82093),De=r(36785),Ve=r(85467),Ue=r(20789),Ge=r(13389),$e=r(48051),Be=r(46835),Fe=r(43591),je=r(11002),He=r(87120),We=r(88587),Xe=r(74890),Ye=r(9827),Ke=r(73206),Ze=r(81091),ze=r(75469),Je=r(38558),Qe=r(89657),qe=r(32302),et=r(73185),tt=r(91771),rt=r(47501),nt=r(90367),ot=r(30306),st=r(29572),it=r(64008),at=r(32123),ct=r(93423),lt=r(77060),ut=r(1357),pt=r(1622),dt=r(54834),ht=r(89015),ft=r(77816);t.registerSpanErrorInstrumentation=n.registerSpanErrorInstrumentation,t.getCapturedScopesOnSpan=o.getCapturedScopesOnSpan,t.setCapturedScopesOnSpan=o.setCapturedScopesOnSpan,t.addTracingExtensions=s.addTracingExtensions,t.TRACING_DEFAULTS=i.TRACING_DEFAULTS,t.startIdleSpan=i.startIdleSpan,t.SentrySpan=a.SentrySpan,t.SentryNonRecordingSpan=c.SentryNonRecordingSpan,t.SPAN_STATUS_ERROR=l.SPAN_STATUS_ERROR,t.SPAN_STATUS_OK=l.SPAN_STATUS_OK,t.SPAN_STATUS_UNSET=l.SPAN_STATUS_UNSET,t.getSpanStatusFromHttpCode=l.getSpanStatusFromHttpCode,t.setHttpStatus=l.setHttpStatus,t.continueTrace=u.continueTrace,t.startInactiveSpan=u.startInactiveSpan,t.startNewTrace=u.startNewTrace,t.startSpan=u.startSpan,t.startSpanManual=u.startSpanManual,t.suppressTracing=u.suppressTracing,t.withActiveSpan=u.withActiveSpan,t.getDynamicSamplingContextFromClient=p.getDynamicSamplingContextFromClient,t.getDynamicSamplingContextFromSpan=p.getDynamicSamplingContextFromSpan,t.spanToBaggageHeader=p.spanToBaggageHeader,t.setMeasurement=d.setMeasurement,t.timedEventsToMeasurements=d.timedEventsToMeasurements,t.sampleSpan=h.sampleSpan,t.logSpanEnd=f.logSpanEnd,t.logSpanStart=f.logSpanStart,t.SEMANTIC_ATTRIBUTE_CACHE_HIT=m.SEMANTIC_ATTRIBUTE_CACHE_HIT,t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=m.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,t.SEMANTIC_ATTRIBUTE_CACHE_KEY=m.SEMANTIC_ATTRIBUTE_CACHE_KEY,t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=m.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,t.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD=m.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD,t.SEMANTIC_ATTRIBUTE_PROFILE_ID=m.SEMANTIC_ATTRIBUTE_PROFILE_ID,t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=m.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=m.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=m.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=m.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=m.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=m.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=m.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.SEMANTIC_ATTRIBUTE_URL_FULL=m.SEMANTIC_ATTRIBUTE_URL_FULL,t.createEventEnvelope=g.createEventEnvelope,t.createSessionEnvelope=g.createSessionEnvelope,t.createSpanEnvelope=g.createSpanEnvelope,t.addEventProcessor=E.addEventProcessor,t.captureCheckIn=E.captureCheckIn,t.captureEvent=E.captureEvent,t.captureException=E.captureException,t.captureMessage=E.captureMessage,t.captureSession=E.captureSession,t.close=E.close,t.endSession=E.endSession,t.flush=E.flush,t.isEnabled=E.isEnabled,t.isInitialized=E.isInitialized,t.lastEventId=E.lastEventId,t.setContext=E.setContext,t.setExtra=E.setExtra,t.setExtras=E.setExtras,t.setTag=E.setTag,t.setTags=E.setTags,t.setUser=E.setUser,t.startSession=E.startSession,t.withMonitor=E.withMonitor,t.getClient=S.getClient,t.getCurrentScope=S.getCurrentScope,t.getGlobalScope=S.getGlobalScope,t.getIsolationScope=S.getIsolationScope,t.withIsolationScope=S.withIsolationScope,t.withScope=S.withScope,t.getDefaultCurrentScope=_.getDefaultCurrentScope,t.getDefaultIsolationScope=_.getDefaultIsolationScope,t.setAsyncContextStrategy=y.setAsyncContextStrategy,t.getMainCarrier=A.getMainCarrier,t.closeSession=v.closeSession,t.makeSession=v.makeSession,t.updateSession=v.updateSession,t.SessionFlusher=T.SessionFlusher,t.Scope=b.Scope,t.notifyEventProcessors=I.notifyEventProcessors,t.getEnvelopeEndpointWithUrlEncodedAuth=R.getEnvelopeEndpointWithUrlEncodedAuth,t.getReportDialogEndpoint=R.getReportDialogEndpoint,t.BaseClient=O.BaseClient,t.ServerRuntimeClient=N.ServerRuntimeClient,t.initAndBind=C.initAndBind,t.setCurrentClient=C.setCurrentClient,t.createTransport=L.createTransport,t.makeOfflineTransport=w.makeOfflineTransport,t.makeMultiplexedTransport=P.makeMultiplexedTransport,t.addIntegration=M.addIntegration,t.defineIntegration=M.defineIntegration,t.getIntegrationsToSetup=M.getIntegrationsToSetup,t.applyScopeDataToEvent=x.applyScopeDataToEvent,t.mergeScopeData=x.mergeScopeData,t.prepareEvent=k.prepareEvent,t.createCheckInEnvelope=D.createCheckInEnvelope,t.hasTracingEnabled=V.hasTracingEnabled,t.isSentryRequestUrl=U.isSentryRequestUrl,t.handleCallbackErrors=G.handleCallbackErrors,t.parameterize=$.parameterize,t.addChildSpanToSpan=B.addChildSpanToSpan,t.getActiveSpan=B.getActiveSpan,t.getRootSpan=B.getRootSpan,t.getSpanDescendants=B.getSpanDescendants,t.getStatusMessage=B.getStatusMessage,t.spanIsSampled=B.spanIsSampled,t.spanTimeInputToSeconds=B.spanTimeInputToSeconds,t.spanToJSON=B.spanToJSON,t.spanToTraceContext=B.spanToTraceContext,t.spanToTraceHeader=B.spanToTraceHeader,t.parseSampleRate=F.parseSampleRate,t.applySdkMetadata=j.applySdkMetadata,t.getTraceData=H.getTraceData,t.getTraceMetaTags=W.getTraceMetaTags,t.DEFAULT_ENVIRONMENT=X.DEFAULT_ENVIRONMENT,t.addBreadcrumb=Y.addBreadcrumb,t.functionToStringIntegration=K.functionToStringIntegration,t.inboundFiltersIntegration=Z.inboundFiltersIntegration,t.linkedErrorsIntegration=z.linkedErrorsIntegration,t.moduleMetadataIntegration=J.moduleMetadataIntegration,t.requestDataIntegration=Q.requestDataIntegration,t.captureConsoleIntegration=q.captureConsoleIntegration,t.debugIntegration=ee.debugIntegration,t.dedupeIntegration=te.dedupeIntegration,t.extraErrorDataIntegration=re.extraErrorDataIntegration,t.rewriteFramesIntegration=ne.rewriteFramesIntegration,t.sessionTimingIntegration=oe.sessionTimingIntegration,t.zodErrorsIntegration=se.zodErrorsIntegration,t.thirdPartyErrorFilterIntegration=ie.thirdPartyErrorFilterIntegration,t.metrics=ae.metrics,t.profiler=ce.profiler,t.metricsDefault=le.metricsDefault,t.BrowserMetricsAggregator=ue.BrowserMetricsAggregator,t.getMetricSummaryJsonForSpan=pe.getMetricSummaryJsonForSpan,t.addTracingHeadersToFetchRequest=de.addTracingHeadersToFetchRequest,t.instrumentFetchRequest=de.instrumentFetchRequest,t.trpcMiddleware=he.trpcMiddleware,t.captureFeedback=fe.captureFeedback,t.getCurrentHub=me.getCurrentHub,t.getCurrentHubShim=me.getCurrentHubShim,t.applyAggregateErrorsToEvent=ge.applyAggregateErrorsToEvent,t.flatten=Ee.flatten,t.getBreadcrumbLogLevelFromHttpStatusCode=Se.getBreadcrumbLogLevelFromHttpStatusCode,t.getComponentName=_e.getComponentName,t.getDomElement=_e.getDomElement,t.getLocationHref=_e.getLocationHref,t.htmlTreeAsString=_e.htmlTreeAsString,t.dsnFromString=ye.dsnFromString,t.dsnToString=ye.dsnToString,t.makeDsn=ye.makeDsn,t.SentryError=Ae.SentryError,t.GLOBAL_OBJ=ve.GLOBAL_OBJ,t.getGlobalSingleton=ve.getGlobalSingleton,t.addConsoleInstrumentationHandler=Te.addConsoleInstrumentationHandler,t.addFetchEndInstrumentationHandler=be.addFetchEndInstrumentationHandler,t.addFetchInstrumentationHandler=be.addFetchInstrumentationHandler,t.addGlobalErrorInstrumentationHandler=Ie.addGlobalErrorInstrumentationHandler,t.addGlobalUnhandledRejectionInstrumentationHandler=Re.addGlobalUnhandledRejectionInstrumentationHandler,t.addHandler=Oe.addHandler,t.maybeInstrument=Oe.maybeInstrument,t.resetInstrumentationHandlers=Oe.resetInstrumentationHandlers,t.triggerHandlers=Oe.triggerHandlers,t.isDOMError=Ne.isDOMError,t.isDOMException=Ne.isDOMException,t.isElement=Ne.isElement,t.isError=Ne.isError,t.isErrorEvent=Ne.isErrorEvent,t.isEvent=Ne.isEvent,t.isInstanceOf=Ne.isInstanceOf,t.isParameterizedString=Ne.isParameterizedString,t.isPlainObject=Ne.isPlainObject,t.isPrimitive=Ne.isPrimitive,t.isRegExp=Ne.isRegExp,t.isString=Ne.isString,t.isSyntheticEvent=Ne.isSyntheticEvent,t.isThenable=Ne.isThenable,t.isVueViewModel=Ne.isVueViewModel,t.isBrowser=Ce.isBrowser,t.CONSOLE_LEVELS=Le.CONSOLE_LEVELS,t.consoleSandbox=Le.consoleSandbox,t.logger=Le.logger,t.originalConsoleMethods=Le.originalConsoleMethods,t.memoBuilder=we.memoBuilder,t.addContextToFrame=Pe.addContextToFrame,t.addExceptionMechanism=Pe.addExceptionMechanism,t.addExceptionTypeValue=Pe.addExceptionTypeValue,t.arrayify=Pe.arrayify,t.checkOrSetAlreadyCaught=Pe.checkOrSetAlreadyCaught,t.getEventDescription=Pe.getEventDescription,t.parseSemver=Pe.parseSemver,t.uuid4=Pe.uuid4,t.dynamicRequire=Me.dynamicRequire,t.isNodeEnv=Me.isNodeEnv,t.loadModule=Me.loadModule,t.normalize=xe.normalize,t.normalizeToSize=xe.normalizeToSize,t.normalizeUrlToBase=xe.normalizeUrlToBase,t.addNonEnumerableProperty=ke.addNonEnumerableProperty,t.convertToPlainObject=ke.convertToPlainObject,t.dropUndefinedKeys=ke.dropUndefinedKeys,t.extractExceptionKeysForMessage=ke.extractExceptionKeysForMessage,t.fill=ke.fill,t.getOriginalFunction=ke.getOriginalFunction,t.markFunctionWrapped=ke.markFunctionWrapped,t.objectify=ke.objectify,t.urlEncode=ke.urlEncode,t.basename=De.basename,t.dirname=De.dirname,t.isAbsolute=De.isAbsolute,t.join=De.join,t.normalizePath=De.normalizePath,t.relative=De.relative,t.resolve=De.resolve,t.makePromiseBuffer=Ve.makePromiseBuffer,t.DEFAULT_USER_INCLUDES=Ue.DEFAULT_USER_INCLUDES,t.addNormalizedRequestDataToEvent=Ue.addNormalizedRequestDataToEvent,t.addRequestDataToEvent=Ue.addRequestDataToEvent,t.extractPathForTransaction=Ue.extractPathForTransaction,t.extractQueryParamsFromUrl=Ue.extractQueryParamsFromUrl,t.extractRequestData=Ue.extractRequestData,t.headersToDict=Ue.headersToDict,t.httpRequestToRequestData=Ue.httpRequestToRequestData,t.winterCGHeadersToDict=Ue.winterCGHeadersToDict,t.winterCGRequestToRequestData=Ue.winterCGRequestToRequestData,t.severityLevelFromString=Ge.severityLevelFromString,t.validSeverityLevels=Ge.validSeverityLevels,t.UNKNOWN_FUNCTION=$e.UNKNOWN_FUNCTION,t.createStackParser=$e.createStackParser,t.getFramesFromEvent=$e.getFramesFromEvent,t.getFunctionName=$e.getFunctionName,t.stackParserFromStackParserOptions=$e.stackParserFromStackParserOptions,t.stripSentryFramesAndReverse=$e.stripSentryFramesAndReverse,t.filenameIsInApp=Be.filenameIsInApp,t.node=Be.node,t.nodeStackLineParser=Be.nodeStackLineParser,t.isMatchingPattern=Fe.isMatchingPattern,t.safeJoin=Fe.safeJoin,t.snipLine=Fe.snipLine,t.stringMatchesSomePattern=Fe.stringMatchesSomePattern,t.truncate=Fe.truncate,t.isNativeFunction=je.isNativeFunction,t.supportsDOMError=je.supportsDOMError,t.supportsDOMException=je.supportsDOMException,t.supportsErrorEvent=je.supportsErrorEvent,t.supportsFetch=je.supportsFetch,t.supportsNativeFetch=je.supportsNativeFetch,t.supportsReferrerPolicy=je.supportsReferrerPolicy,t.supportsReportingObserver=je.supportsReportingObserver,t.SyncPromise=He.SyncPromise,t.rejectedSyncPromise=He.rejectedSyncPromise,t.resolvedSyncPromise=He.resolvedSyncPromise,Object.defineProperty(t,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>We._browserPerformanceTimeOriginMode}),t.browserPerformanceTimeOrigin=We.browserPerformanceTimeOrigin,t.dateTimestampInSeconds=We.dateTimestampInSeconds,t.timestampInSeconds=We.timestampInSeconds,t.TRACEPARENT_REGEXP=Xe.TRACEPARENT_REGEXP,t.extractTraceparentData=Xe.extractTraceparentData,t.generateSentryTraceHeader=Xe.generateSentryTraceHeader,t.propagationContextFromHeaders=Xe.propagationContextFromHeaders,t.getSDKSource=Ye.getSDKSource,t.isBrowserBundle=Ye.isBrowserBundle,t.addItemToEnvelope=Ke.addItemToEnvelope,t.createAttachmentEnvelopeItem=Ke.createAttachmentEnvelopeItem,t.createEnvelope=Ke.createEnvelope,t.createEventEnvelopeHeaders=Ke.createEventEnvelopeHeaders,t.createSpanEnvelopeItem=Ke.createSpanEnvelopeItem,t.envelopeContainsItemType=Ke.envelopeContainsItemType,t.envelopeItemTypeToDataCategory=Ke.envelopeItemTypeToDataCategory,t.forEachEnvelopeItem=Ke.forEachEnvelopeItem,t.getSdkMetadataForEnvelopeHeader=Ke.getSdkMetadataForEnvelopeHeader,t.parseEnvelope=Ke.parseEnvelope,t.serializeEnvelope=Ke.serializeEnvelope,t.createClientReportEnvelope=Ze.createClientReportEnvelope,t.DEFAULT_RETRY_AFTER=ze.DEFAULT_RETRY_AFTER,t.disabledUntil=ze.disabledUntil,t.isRateLimited=ze.isRateLimited,t.parseRetryAfterHeader=ze.parseRetryAfterHeader,t.updateRateLimits=ze.updateRateLimits,t.BAGGAGE_HEADER_NAME=Je.BAGGAGE_HEADER_NAME,t.MAX_BAGGAGE_STRING_LENGTH=Je.MAX_BAGGAGE_STRING_LENGTH,t.SENTRY_BAGGAGE_KEY_PREFIX=Je.SENTRY_BAGGAGE_KEY_PREFIX,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Je.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,t.baggageHeaderToDynamicSamplingContext=Je.baggageHeaderToDynamicSamplingContext,t.dynamicSamplingContextToSentryBaggageHeader=Je.dynamicSamplingContextToSentryBaggageHeader,t.parseBaggageHeader=Je.parseBaggageHeader,t.getNumberOfUrlSegments=Qe.getNumberOfUrlSegments,t.getSanitizedUrlString=Qe.getSanitizedUrlString,t.parseUrl=Qe.parseUrl,t.stripUrlQueryAndFragment=Qe.stripUrlQueryAndFragment,t.makeFifoCache=qe.makeFifoCache,t.eventFromMessage=et.eventFromMessage,t.eventFromUnknownInput=et.eventFromUnknownInput,t.exceptionFromError=et.exceptionFromError,t.parseStackFrames=et.parseStackFrames,t.callFrameToStackFrame=tt.callFrameToStackFrame,t.watchdogTimer=tt.watchdogTimer,t.LRUMap=rt.LRUMap,t.generatePropagationContext=nt.generatePropagationContext,t.vercelWaitUntil=ot.vercelWaitUntil,t.SDK_VERSION=st.SDK_VERSION,t.getDebugImagesForResources=it.getDebugImagesForResources,t.getFilenameToDebugIdMap=it.getFilenameToDebugIdMap,t.escapeStringForRegex=at.escapeStringForRegex,t.supportsHistory=ct.supportsHistory,t._asyncNullishCoalesce=lt._asyncNullishCoalesce,t._asyncOptionalChain=ut._asyncOptionalChain,t._asyncOptionalChainDelete=pt._asyncOptionalChainDelete,t._nullishCoalesce=dt._nullishCoalesce,t._optionalChain=ht._optionalChain,t._optionalChainDelete=ft._optionalChainDelete},82430:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(68974),s=r(53910),i=[];function a(e,t,r){if(r[t.name])o.DEBUG_BUILD&&s.logger.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,-1===i.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),i.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,n)=>r(t,n,e)))}if("function"==typeof t.processEvent){const r=t.processEvent.bind(t),n=Object.assign(((t,n)=>r(t,n,e)),{id:t.name});e.addEventProcessor(n)}o.DEBUG_BUILD&&s.logger.log(`Integration installed: ${t.name}`)}}t.addIntegration=function(e){const t=n.getClient();t?t.addIntegration(e):o.DEBUG_BUILD&&s.logger.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},t.afterSetupIntegrations=function(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)},t.defineIntegration=function(e){return e},t.getIntegrationsToSetup=function(e){const t=e.defaultIntegrations||[],r=e.integrations;let n;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(r))n=[...t,...r];else if("function"==typeof r){const e=r(t);n=Array.isArray(e)?e:[e]}else n=t;const o=function(e){const t={};return e.forEach((e=>{const{name:r}=e,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)})),Object.values(t)}(n),s=o.findIndex((e=>"Debug"===e.name));if(s>-1){const[e]=o.splice(s,1);o.push(e)}return o},t.installedIntegrations=i,t.setupIntegration=a,t.setupIntegrations=function(e,t){const r={};return t.forEach((t=>{t&&a(e,t,r)})),r}},75003:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(79183),s=r(82430),i=r(23765),a=r(53910),c=r(72322),l=r(13389),u=r(43591),p=r(84987),d=s.defineIntegration(((e={})=>{const t=e.levels||a.CONSOLE_LEVELS;return{name:"CaptureConsole",setup(e){"console"in p.GLOBAL_OBJ&&i.addConsoleInstrumentationHandler((({args:r,level:s})=>{n.getClient()===e&&t.includes(s)&&function(e,t){const r={level:l.severityLevelFromString(t),extra:{arguments:e}};n.withScope((n=>{if(n.addEventProcessor((e=>(e.logger="console",c.addExceptionMechanism(e,{handled:!1,type:"console"}),e))),"assert"===t){if(!e[0]){const t=`Assertion failed: ${u.safeJoin(e.slice(1)," ")||"console.assert"}`;n.setExtra("arguments",e.slice(1)),o.captureMessage(t,r)}return}const s=e.find((e=>e instanceof Error));if(s)return void o.captureException(s,r);const i=u.safeJoin(e," ");o.captureMessage(i,r)}))}(r,s)}))}}}));t.captureConsoleIntegration=d},39097:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(53910),s=n.defineIntegration(((e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:"Debug",setup(e){e.on("beforeSendEvent",((e,r)=>{t.debugger,o.consoleSandbox((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),r&&Object.keys(r).length&&console.log(JSON.stringify(r,null,2))):(console.log(e),r&&Object.keys(r).length&&console.log(r))}))}))}}}));t.debugIntegration=s},431:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(68974),s=r(53910),i=r(48051),a=n.defineIntegration((()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(c(t,e))return o.DEBUG_BUILD&&s.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function c(e,t){return!(!t||!function(e,t){const r=e.message,n=t.message;return!(!r&&!n)&&(!(r&&!n||!r&&n)&&(r===n&&(!!u(e,t)&&!!l(e,t))))}(e,t)&&!function(e,t){const r=p(t),n=p(e);return!(!r||!n)&&(r.type===n.type&&r.value===n.value&&(!!u(e,t)&&!!l(e,t)))}(e,t))}function l(e,t){let r=i.getFramesFromEvent(e),n=i.getFramesFromEvent(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++){const t=n[e],o=r[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function u(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function p(e){return e.exception&&e.exception.values&&e.exception.values[0]}t._shouldDropEvent=c,t.dedupeIntegration=a},41312:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(68974),s=r(44478),i=r(53910),a=r(56507),c=r(82093),l=r(43591),u=n.defineIntegration(((e={})=>{const{depth:t=3,captureErrorCause:r=!0}=e;return{name:"ExtraErrorData",processEvent(e,n,u){const{maxValueLength:p=250}=u.getOptions();return function(e,t={},r,n,u){if(!t.originalException||!s.isError(t.originalException))return e;const p=t.originalException.name||t.originalException.constructor.name,d=function(e,t,r){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const i=e[t];o[t]=s.isError(i)||"string"==typeof i?l.truncate(`${i}`,r):i}if(t&&void 0!==e.cause&&(o.cause=s.isError(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const r=t[e];o[e]=s.isError(r)?r.toString():r}}return o}catch(e){o.DEBUG_BUILD&&i.logger.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,n,u);if(d){const t={...e.contexts},n=a.normalize(d,r);return s.isPlainObject(n)&&(c.addNonEnumerableProperty(n,"__sentry_skip_normalization__",!0),t[p]=n),{...e,contexts:t}}return e}(e,n,t,r,p)}}}));t.extraErrorDataIntegration=u},68360:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(82430),s=r(82093);let i;const a=new WeakMap,c=o.defineIntegration((()=>({name:"FunctionToString",setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=s.getOriginalFunction(this),r=a.has(n.getClient())&&void 0!==t?t:this;return i.apply(r,e)}}catch(e){}},setup(e){a.set(e,!0)}})));t.functionToStringIntegration=c},66492:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(82430),s=r(53910),i=r(72322),a=r(43591),c=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],l=o.defineIntegration(((e={})=>({name:"InboundFilters",processEvent(t,r,o){const l=o.getOptions(),p=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:c],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,l);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(n.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${i.getEventDescription(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let r;e.message&&t.push(e.message);try{r=e.exception.values[e.exception.values.length-1]}catch(e){}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),t}(e).some((e=>a.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors)?(n.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${i.getEventDescription(e)}`),!0):function(e){return!e.type&&(!(!e.exception||!e.exception.values||0===e.exception.values.length)&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))))}(e)?(n.DEBUG_BUILD&&s.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${i.getEventDescription(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const r=e.transaction;return!!r&&a.stringMatchesSomePattern(r,t)}(e,t.ignoreTransactions)?(n.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${i.getEventDescription(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const r=u(e);return!!r&&a.stringMatchesSomePattern(r,t)}(e,t.denyUrls)?(n.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${i.getEventDescription(e)}.\nUrl: ${u(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const r=u(e);return!r||a.stringMatchesSomePattern(r,t)}(e,t.allowUrls)&&(n.DEBUG_BUILD&&s.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${i.getEventDescription(e)}.\nUrl: ${u(e)}`),!0)}(t,p)?null:t}})));function u(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(t):null}catch(t){return n.DEBUG_BUILD&&s.logger.error(`Cannot extract url for event ${i.getEventDescription(e)}`),null}}t.inboundFiltersIntegration=l},92958:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(38891),s=r(73185),i=n.defineIntegration(((e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,n,i){const a=i.getOptions();o.applyAggregateErrorsToEvent(s.exceptionFromError,a.stackParser,a.maxValueLength,r,t,e,n)}}}));t.linkedErrorsIntegration=i},52213:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(36823),s=r(73206),i=n.defineIntegration((()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",(e=>{s.forEachEnvelopeItem(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(o.stripMetadataFromStackFrames(t),e[1]=t)}}))})),e.on("applyFrameMetadata",(t=>{if(t.type)return;const r=e.getOptions().stackParser;o.addMetadataToStackFrames(r,t)}))}})));t.moduleMetadataIntegration=i},92215:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(20789),s={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},i=n.defineIntegration(((e={})=>{const t={...s,...e,include:{...s.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...s.include.user,...(e.include||{}).user}}};return{name:"RequestData",processEvent(e){const{sdkProcessingMetadata:r={}}=e,{request:n,normalizedRequest:s}=r,i=function(e){const{transactionNamingScheme:t,include:{ip:r,user:n,...o}}=e,s=["method"];for(const[e,t]of Object.entries(o))t&&s.push(e);let i;if(void 0===n)i=!0;else if("boolean"==typeof n)i=n;else{const e=[];for(const[t,r]of Object.entries(n))r&&e.push(t);i=e}return{include:{ip:r,user:i,request:0!==s.length?s:void 0,transaction:t}}}(t);if(s){const t=n?n.ip||n.socket&&n.socket.remoteAddress:void 0,r=n?n.user:void 0;return o.addNormalizedRequestDataToEvent(e,s,{ipAddress:t,user:r},i),e}return n?o.addRequestDataToEvent(e,n,i):e}}}));t.requestDataIntegration=i},17536:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(36785),s=r(84987),i=n.defineIntegration(((e={})=>{const t=e.root,r=e.prefix||"app:///",n="window"in s.GLOBAL_OBJ&&void 0!==s.GLOBAL_OBJ.window,o=e.iteratee||a({isBrowser:n,root:t,prefix:r});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>o(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}}));function a({isBrowser:e,root:t,prefix:r}){return n=>{if(!n.filename)return n;const s=/^[a-zA-Z]:\\/.test(n.filename)||n.filename.includes("\\")&&!n.filename.includes("/"),i=/^\//.test(n.filename);if(e){if(t){const e=n.filename;0===e.indexOf(t)&&(n.filename=e.replace(t,r))}}else if(s||i){const e=s?n.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):n.filename,i=t?o.relative(t,e):o.basename(e);n.filename=`${r}${i}`}return n}}t.generateIteratee=a,t.rewriteFramesIntegration=i},200:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(88587),s=n.defineIntegration((()=>{const e=1e3*o.timestampInSeconds();return{name:"SessionTiming",processEvent(t){const r=1e3*o.timestampInSeconds();return{...t,extra:{...t.extra,"session:start":e,"session:duration":r-e,"session:end":r}}}}}));t.sessionTimingIntegration=s},80699:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(36823),s=r(73206),i=r(48051),a=n.defineIntegration((e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",(e=>{s.forEachEnvelopeItem(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(o.stripMetadataFromStackFrames(t),e[1]=t)}}))})),e.on("applyFrameMetadata",(t=>{if(t.type)return;const r=e.getOptions().stackParser;o.addMetadataToStackFrames(r,t)}))},processEvent(t){const r=function(e){const t=i.getFramesFromEvent(e);if(t)return t.filter((e=>!!e.filename)).map((e=>e.module_metadata?Object.keys(e.module_metadata).filter((e=>e.startsWith(c))).map((e=>e.slice(c.length))):[]))}(t);if(r&&r["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"]((t=>!t.some((t=>e.filterKeys.includes(t)))))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0}}return t}}))),c="_sentryBundlerPluginAppKey:";t.thirdPartyErrorFilterIntegration=a},24208:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82430),o=r(44478),s=r(43591);function i(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function a(e){const t=new Set;for(const r of e.issues)r.path&&r.path[0]&&t.add(r.path[0]);const r=Array.from(t);return`Failed to validate keys: ${s.truncate(r.join(", "),100)}`}function c(e,t,r){return t.exception&&t.exception.values&&r&&r.originalException&&(n=r.originalException,o.isError(n)&&"ZodError"===n.name&&Array.isArray(n.errors))&&0!==r.originalException.issues.length?{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:a(r.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":r.originalException.errors.slice(0,e).map(i)}}:t;var n}const l=n.defineIntegration(((e={})=>{const t=e.limit||10;return{name:"ZodErrors",processEvent:(e,r)=>c(t,e,r)}}));t.applyZodErrorsToEvent=c,t.zodErrorsIntegration=l},36823:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987),o=new Map,s=new Set;function i(e,t){return function(e){if(n.GLOBAL_OBJ._sentryModuleMetadata)for(const t of Object.keys(n.GLOBAL_OBJ._sentryModuleMetadata)){const r=n.GLOBAL_OBJ._sentryModuleMetadata[t];if(s.has(t))continue;s.add(t);const i=e(t);for(const e of i.reverse())if(e.filename){o.set(e.filename,r);break}}}(e),o.get(t)}t.addMetadataToStackFrames=function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const r of t.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const t=i(e,r.filename);t&&(r.module_metadata=t)}}))}catch(e){}},t.getMetadataForUrl=i,t.stripMetadataFromStackFrames=function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}},30885:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(88587),o=r(54583),s=r(89371),i=r(8844),a=r(38423),c=r(3227);t.MetricsAggregator=class{constructor(e){this._client=e,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval((()=>this._flush()),s.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*s.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(e,t,r,i="none",l={},u=n.timestampInSeconds()){const p=Math.floor(u),d=c.sanitizeMetricKey(t),h=c.sanitizeTags(l),f=c.sanitizeUnit(i),m=c.getBucketKey(e,d,f,h);let g=this._buckets.get(m);const E=g&&e===s.SET_METRIC_TYPE?g.metric.weight:0;g?(g.metric.add(r),g.timestamp<p&&(g.timestamp=p)):(g={metric:new a.METRIC_MAP[e](r),timestamp:p,metricType:e,name:d,unit:f,tags:h},this._buckets.set(m,g));const S="string"==typeof r?g.metric.weight-E:r;o.updateMetricSummaryOnActiveSpan(e,d,S,f,l,m),this._bucketsTotalWeight+=g.metric.weight,this._bucketsTotalWeight>=s.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush)return this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),void this._buckets.clear();const e=Math.floor(n.timestampInSeconds())-s.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,t=new Map;for(const[r,n]of this._buckets)n.timestamp<=e&&(t.set(r,n),this._bucketsTotalWeight-=n.metric.weight);for(const[e]of t)this._buckets.delete(e);this._captureMetrics(t)}_captureMetrics(e){if(e.size>0){const t=Array.from(e).map((([,e])=>e));i.captureAggregateMetrics(this._client,t)}}}},92094:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(88587),o=r(54583),s=r(89371),i=r(8844),a=r(38423),c=r(3227);t.BrowserMetricsAggregator=class{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),s.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(e,t,r,i="none",l={},u=n.timestampInSeconds()){const p=Math.floor(u),d=c.sanitizeMetricKey(t),h=c.sanitizeTags(l),f=c.sanitizeUnit(i),m=c.getBucketKey(e,d,f,h);let g=this._buckets.get(m);const E=g&&e===s.SET_METRIC_TYPE?g.metric.weight:0;g?(g.metric.add(r),g.timestamp<p&&(g.timestamp=p)):(g={metric:new a.METRIC_MAP[e](r),timestamp:p,metricType:e,name:d,unit:f,tags:h},this._buckets.set(m,g));const S="string"==typeof r?g.metric.weight-E:r;o.updateMetricSummaryOnActiveSpan(e,d,S,f,l,m)}flush(){if(0===this._buckets.size)return;const e=Array.from(this._buckets.values());i.captureAggregateMetrics(this._client,e),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}},89371:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COUNTER_METRIC_TYPE="c",t.DEFAULT_BROWSER_FLUSH_INTERVAL=5e3,t.DEFAULT_FLUSH_INTERVAL=1e4,t.DISTRIBUTION_METRIC_TYPE="d",t.GAUGE_METRIC_TYPE="g",t.MAX_WEIGHT=1e4,t.SET_METRIC_TYPE="s"},8844:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(41101),o=r(73206),s=r(53910),i=r(3227);function a(e,t,r,s){const a={sent_at:(new Date).toISOString()};r&&r.sdk&&(a.sdk={name:r.sdk.name,version:r.sdk.version}),s&&t&&(a.dsn=n.dsnToString(t));const c=function(e){const t=i.serializeMetricBuckets(e);return[{type:"statsd",length:t.length},t]}(e);return o.createEnvelope(a,[c])}t.captureAggregateMetrics=function(e,t){s.logger.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const r=a(t,e.getDsn(),e.getSdkMetadata(),e.getOptions().tunnel);e.sendEnvelope(r)},t.createMetricEnvelope=a},9133:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(30885),o=r(92177),s={increment:function(e,t=1,r){o.metrics.increment(n.MetricsAggregator,e,t,r)},distribution:function(e,t,r){o.metrics.distribution(n.MetricsAggregator,e,t,r)},set:function(e,t,r){o.metrics.set(n.MetricsAggregator,e,t,r)},gauge:function(e,t,r){o.metrics.gauge(n.MetricsAggregator,e,t,r)},timing:function(e,t,r="second",s){return o.metrics.timing(n.MetricsAggregator,e,t,r,s)},getMetricsAggregatorForClient:function(e){return o.metrics.getMetricsAggregatorForClient(e,n.MetricsAggregator)}};t.metricsDefault=s},92177:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(68974);r(44038);const s=r(84987);r(8950);const i=r(53910),a=r(88587),c=r(54583),l=r(55908),u=r(76354),p=r(89371);function d(e,t){const r=s.getGlobalSingleton("globalMetricsAggregators",(()=>new WeakMap)),n=r.get(e);if(n)return n;const o=new t(e);return e.on("flush",(()=>o.flush())),e.on("close",(()=>o.close())),r.set(e,o),o}function h(e,t,r,s,a={}){const l=a.client||n.getClient();if(!l)return;const u=c.getActiveSpan(),p=u?c.getRootSpan(u):void 0,h=p&&c.spanToJSON(p).description,{unit:f,tags:m,timestamp:g}=a,{release:E,environment:S}=l.getOptions(),_={};E&&(_.release=E),S&&(_.environment=S),h&&(_.transaction=h),o.DEBUG_BUILD&&i.logger.log(`Adding value of ${s} to ${t} metric ${r}`),d(l,e).add(t,r,s,f,{..._,...m},g)}function f(e,t,r,n){h(e,p.DISTRIBUTION_METRIC_TYPE,t,g(r),n)}const m={increment:function(e,t,r=1,n){h(e,p.COUNTER_METRIC_TYPE,t,g(r),n)},distribution:f,set:function(e,t,r,n){h(e,p.SET_METRIC_TYPE,t,r,n)},gauge:function(e,t,r,n){h(e,p.GAUGE_METRIC_TYPE,t,g(r),n)},timing:function(e,t,r,n="second",o){if("function"==typeof r){const n=a.timestampInSeconds();return l.startSpanManual({op:"metrics.timing",name:t,startTime:n,onlyIfParent:!0},(s=>u.handleCallbackErrors((()=>r()),(()=>{}),(()=>{const r=a.timestampInSeconds();f(e,t,r-n,{...o,unit:"second"}),s.end(r)}))))}f(e,t,r,{...o,unit:n})},getMetricsAggregatorForClient:d};function g(e){return"string"==typeof e?parseInt(e):e}t.metrics=m},38423:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(89371),o=r(3227);class s{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}}class i{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class a{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}}class c{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?o.simpleHash(e):e)).join(":")}}const l={[n.COUNTER_METRIC_TYPE]:s,[n.GAUGE_METRIC_TYPE]:i,[n.DISTRIBUTION_METRIC_TYPE]:a,[n.SET_METRIC_TYPE]:c};t.CounterMetric=s,t.DistributionMetric=a,t.GaugeMetric=i,t.METRIC_MAP=l,t.SetMetric=c},14021:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82093),o="_sentryMetrics";t.getMetricSummaryJsonForSpan=function(e){const t=e[o];if(!t)return;const r={};for(const[,[e,o]]of t)(r[e]||(r[e]=[])).push(n.dropUndefinedKeys(o));return r},t.updateMetricSummaryOnSpan=function(e,t,r,n,s,i,a){const c=e[o]||(e[o]=new Map),l=`${t}:${r}@${s}`,u=c.get(a);if(u){const[,e]=u;c.set(a,[l,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else c.set(a,[l,{min:n,max:n,count:1,sum:n,tags:i}])}},3227:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82093);function o(e){return e.replace(/[^\w\-./]+/gi,"")}const s=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];t.getBucketKey=function(e,t,r,o){return`${e}${t}${r}${Object.entries(n.dropUndefinedKeys(o)).sort(((e,t)=>e[0].localeCompare(t[0])))}`},t.sanitizeMetricKey=function(e){return e.replace(/[^\w\-.]+/gi,"_")},t.sanitizeTags=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[o(n)]=(r=String(e[n]),[...r].reduce(((e,t)=>e+function(e){for(const[t,r]of s)if(e===t)return r;return e}(t)),"")));var r;return t},t.sanitizeUnit=function(e){return e.replace(/[^\w]+/gi,"_")},t.serializeMetricBuckets=function(e){let t="";for(const r of e){const e=Object.entries(r.tags),n=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${n}|T${r.timestamp}\n`}return t},t.simpleHash=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t>>>0}},83090:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(68974),s=r(53910);function i(e){return!!e&&void 0!==e._profiler&&"function"==typeof e._profiler.start&&"function"==typeof e._profiler.stop}const a={startProfiler:function(){const e=n.getClient();if(!e)return void(o.DEBUG_BUILD&&s.logger.warn("No Sentry client available, profiling is not started"));const t=e.getIntegrationByName("ProfilingIntegration");t?i(t)?t._profiler.start():o.DEBUG_BUILD&&s.logger.warn("Profiler is not available on profiling integration."):o.DEBUG_BUILD&&s.logger.warn("ProfilingIntegration is not available")},stopProfiler:function(){const e=n.getClient();if(!e)return void(o.DEBUG_BUILD&&s.logger.warn("No Sentry client available, profiling is not started"));const t=e.getIntegrationByName("ProfilingIntegration");t?i(t)?t._profiler.stop():o.DEBUG_BUILD&&s.logger.warn("Profiler is not available on profiling integration."):o.DEBUG_BUILD&&s.logger.warn("ProfilingIntegration is not available")}};t.profiler=a},69640:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(11348),o=r(44478),s=r(53910),i=r(72322),a=r(90367),c=r(88587),l=r(19090),u=r(64865);class p{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=a.generatePropagationContext()}clone(){const e=new p;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,u._setSpanForScope(e,u._getSpanForScope(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&n.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[r,n]=t instanceof d?[t.getScopeData(),t.getRequestSession()]:o.isPlainObject(t)?[e,e.requestSession]:[],{tags:s,extra:i,user:a,contexts:c,level:l,fingerprint:u=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),l&&(this._level=l),u.length&&(this._fingerprint=u),p&&(this._propagationContext=p),n&&(this._requestSession=n),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,u._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=a.generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const r="number"==typeof t?t:100;if(r<=0)return this;const n={timestamp:c.dateTimestampInSeconds(),...e},o=this._breadcrumbs;return o.push(n),this._breadcrumbs=o.length>r?o.slice(-r):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:u._getSpanForScope(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=l.merge(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const r=t&&t.event_id?t.event_id:i.uuid4();if(!this._client)return s.logger.warn("No client configured on scope - will not capture exception!"),r;const n=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){const n=r&&r.event_id?r.event_id:i.uuid4();if(!this._client)return s.logger.warn("No client configured on scope - will not capture message!"),n;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...r,event_id:n},this),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:i.uuid4();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(s.logger.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const d=p;t.Scope=d},27008:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(68974),s=r(53910);function i(e){n.getCurrentScope().setClient(e)}t.initAndBind=function(e,t){!0===t.debug&&(o.DEBUG_BUILD?s.logger.enable():s.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),n.getCurrentScope().update(t.initialScope);const r=new e(t);return i(r),r.init(),r},t.setCurrentClient=i},52751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SEMANTIC_ATTRIBUTE_CACHE_HIT="cache.hit",t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE="cache.item_size",t.SEMANTIC_ATTRIBUTE_CACHE_KEY="cache.key",t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",t.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD="http.request.method",t.SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON="sentry.idle_span_finish_reason",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT="sentry.measurement_unit",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE="sentry.measurement_value",t.SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",t.SEMANTIC_ATTRIBUTE_URL_FULL="url.full"},24842:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(29564),o=r(60251),s=r(49564),i=r(68974),a=r(84751),c=r(44038);r(29572),r(8950);const l=r(53910);r(88587);const u=r(64865),p=r(54583),d=r(72322),h=r(87120),f=r(73185),m=r(93754);class g extends n.BaseClient{constructor(e){c.registerSpanErrorInstrumentation(),super(e)}eventFromException(e,t){return h.resolvedSyncPromise(f.eventFromUnknownInput(this,this._options.stackParser,e,t))}eventFromMessage(e,t="info",r){return h.resolvedSyncPromise(f.eventFromMessage(this._options.stackParser,e,t,r,this._options.attachStacktrace))}captureException(e,t,r){if(this._options.autoSessionTracking&&this._sessionFlusher){const e=s.getIsolationScope().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureException(e,t,r)}captureEvent(e,t,r){if(this._options.autoSessionTracking&&this._sessionFlusher&&"exception"===(e.type||"exception")&&e.exception&&e.exception.values&&e.exception.values.length>0){const e=s.getIsolationScope().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureEvent(e,t,r)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){const{release:e,environment:t}=this._options;e?this._sessionFlusher=new a.SessionFlusher(this,{release:e,environment:t}):i.DEBUG_BUILD&&l.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,t,r){const n="checkInId"in e&&e.checkInId?e.checkInId:d.uuid4();if(!this._isEnabled())return i.DEBUG_BUILD&&l.logger.warn("SDK not enabled, will not capture checkin."),n;const s=this.getOptions(),{release:a,environment:c,tunnel:u}=s,p={check_in_id:n,monitor_slug:e.monitorSlug,status:e.status,release:a,environment:c};"duration"in e&&(p.duration=e.duration),t&&(p.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});const[h,f]=this._getTraceInfoFromScope(r);f&&(p.contexts={trace:f});const m=o.createCheckInEnvelope(p,h,this.getSdkMetadata(),u,this.getDsn());return i.DEBUG_BUILD&&l.logger.info("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(m),n}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():i.DEBUG_BUILD&&l.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,t,r,n){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,r,n)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];const t=u._getSpanForScope(e);if(t){const e=p.getRootSpan(t);return[m.getDynamicSamplingContextFromSpan(e),p.spanToTraceContext(e)]}const{traceId:r,spanId:n,parentSpanId:o,dsc:s}=e.getPropagationContext(),i={trace_id:r,span_id:n,parent_span_id:o};return s?[s,i]:[m.getDynamicSamplingContextFromClient(r,this),i]}}t.ServerRuntimeClient=g},11348:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),r(29572),r(8950),r(53910);const n=r(82093),o=r(88587),s=r(72322);function i(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||o.timestampInSeconds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:s.uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}r(87120),t.closeSession=function(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),i(e,r)},t.makeSession=function(e){const t=o.timestampInSeconds(),r={sid:s.uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return n.dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)};return e&&i(r,e),r},t.updateSession=i},84751:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(82093);t.SessionFlusher=class{constructor(e,t){this._client=e,this.flushTimeout=60,this._pendingAggregates=new Map,this._isEnabled=!0,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates=new Map,this._client.sendSession(e))}getSessionAggregates(){const e=Array.from(this._pendingAggregates.values()),t={attrs:this._sessionAttrs,aggregates:e};return o.dropUndefinedKeys(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=n.getIsolationScope(),t=e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const r=new Date(t).setSeconds(0,0);let n=this._pendingAggregates.get(r);switch(n||(n={started:new Date(r).toISOString()},this._pendingAggregates.set(r,n)),e){case"errored":return n.errored=(n.errored||0)+1,n.errored;case"ok":return n.exited=(n.exited||0)+1,n.exited;default:return n.crashed=(n.crashed||0)+1,n.crashed}}}},93754:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(42501),o=r(49564),s=r(52751),i=r(38558),a=r(82093),c=r(60073),l=r(54583),u="_frozenDsc";function p(e,t){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},s=a.dropUndefinedKeys({environment:r.environment||n.DEFAULT_ENVIRONMENT,release:r.release,public_key:o,trace_id:e});return t.emit("createDsc",s),s}function d(e){const t=o.getClient();if(!t)return{};const r=p(l.spanToJSON(e).trace_id||"",t),n=l.getRootSpan(e),a=n[u];if(a)return a;const d=n.spanContext().traceState,h=d&&d.get("sentry.dsc"),f=h&&i.baggageHeaderToDynamicSamplingContext(h);if(f)return f;const m=l.spanToJSON(n),g=m.data||{},E=g[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];null!=E&&(r.sample_rate=`${E}`);const S=g[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],_=m.description;return"url"!==S&&_&&(r.transaction=_),c.hasTracingEnabled()&&(r.sampled=String(l.spanIsSampled(n))),t.emit("createDsc",r,n),r}t.freezeDscOnSpan=function(e,t){const r=e;a.addNonEnumerableProperty(r,u,t)},t.getDynamicSamplingContextFromClient=p,t.getDynamicSamplingContextFromSpan=d,t.spanToBaggageHeader=function(e){const t=d(e);return i.dynamicSamplingContextToSentryBaggageHeader(t)}},44038:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(45495),s=r(22023),i=r(53910),a=r(54583),c=r(15363);let l=!1;function u(){const e=a.getActiveSpan(),t=e&&a.getRootSpan(e);if(t){const e="internal_error";n.DEBUG_BUILD&&i.logger.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:c.SPAN_STATUS_ERROR,message:e})}}u.tag="sentry_tracingErrorCallback",t.registerSpanErrorInstrumentation=function(){l||(l=!0,o.addGlobalErrorInstrumentationHandler(u),s.addGlobalUnhandledRejectionInstrumentationHandler(u))}},12188:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44038);t.addTracingExtensions=function(){n.registerSpanErrorInstrumentation()}},57011:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(68974),s=r(52751),i=r(53910),a=r(88587),c=r(60073),l=r(64865),u=r(54583),p=r(67392),d=r(15363),h=r(55908),f={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};t.TRACING_DEFAULTS=f,t.startIdleSpan=function(e,t={}){const r=new Map;let m,g=!1,E="externalFinish",S=!t.disableAutoFinish;const _=[],{idleTimeout:y=f.idleTimeout,finalTimeout:A=f.finalTimeout,childSpanTimeout:v=f.childSpanTimeout,beforeSpanEnd:T}=t,b=n.getClient();if(!b||!c.hasTracingEnabled())return new p.SentryNonRecordingSpan;const I=n.getCurrentScope(),R=u.getActiveSpan(),O=function(e){const t=h.startInactiveSpan(e);return l._setSpanForScope(n.getCurrentScope(),t),o.DEBUG_BUILD&&i.logger.log("[Tracing] Started span is an idle span"),t}(e);function N(){m&&(clearTimeout(m),m=void 0)}function C(e){N(),m=setTimeout((()=>{!g&&0===r.size&&S&&(E="idleTimeout",O.end(e))}),y)}function L(e){m=setTimeout((()=>{!g&&S&&(E="heartbeatFailed",O.end(e))}),v)}function w(e){g=!0,r.clear(),_.forEach((e=>e())),l._setSpanForScope(I,R);const t=u.spanToJSON(O),{start_timestamp:n}=t;if(!n)return;(t.data||{})[s.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||O.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,E),i.logger.log(`[Tracing] Idle span "${t.op}" finished`);const a=u.getSpanDescendants(O).filter((e=>e!==O));let c=0;a.forEach((t=>{t.isRecording()&&(t.setStatus({code:d.SPAN_STATUS_ERROR,message:"cancelled"}),t.end(e),o.DEBUG_BUILD&&i.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const r=u.spanToJSON(t),{timestamp:n=0,start_timestamp:s=0}=r,a=s<=e,l=n-s<=(A+y)/1e3;if(o.DEBUG_BUILD){const e=JSON.stringify(t,void 0,2);a?l||i.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",e):i.logger.log("[Tracing] Discarding span since it happened after idle span was finished",e)}l&&a||(u.removeChildSpanFromSpan(O,t),c++)})),c>0&&O.setAttribute("sentry.idle_span_discarded_spans",c)}return O.end=new Proxy(O.end,{apply(e,t,r){T&&T(O);const[n,...o]=r,s=n||a.timestampInSeconds(),i=u.spanTimeInputToSeconds(s),c=u.getSpanDescendants(O).filter((e=>e!==O));if(!c.length)return w(i),Reflect.apply(e,t,[i,...o]);const l=c.map((e=>u.spanToJSON(e).timestamp)).filter((e=>!!e)),p=l.length?Math.max(...l):void 0,d=u.spanToJSON(O).start_timestamp,h=Math.min(d?d+A/1e3:1/0,Math.max(d||-1/0,Math.min(i,p||1/0)));return w(h),Reflect.apply(e,t,[h,...o])}}),_.push(b.on("spanStart",(e=>{var t;g||e===O||u.spanToJSON(e).timestamp||u.getSpanDescendants(O).includes(e)&&(t=e.spanContext().spanId,N(),r.set(t,!0),L(a.timestampInSeconds()+v/1e3))}))),_.push(b.on("spanEnd",(e=>{var t;g||(t=e.spanContext().spanId,r.has(t)&&r.delete(t),0===r.size&&C(a.timestampInSeconds()+y/1e3))}))),_.push(b.on("idleSpanEnableAutoFinish",(e=>{e===O&&(S=!0,C(),r.size&&L())}))),t.disableAutoFinish||C(),setTimeout((()=>{g||(O.setStatus({code:d.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),E="finalTimeout",O.end())}),A),O}},8346:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(53910),s=r(54583);t.logSpanEnd=function(e){if(!n.DEBUG_BUILD)return;const{description:t="< unknown name >",op:r="< unknown op >"}=s.spanToJSON(e),{spanId:i}=e.spanContext(),a=`[Tracing] Finishing "${r}" ${s.getRootSpan(e)===e?"root ":""}span "${t}" with ID ${i}`;o.logger.log(a)},t.logSpanStart=function(e){if(!n.DEBUG_BUILD)return;const{description:t="< unknown name >",op:r="< unknown op >",parent_span_id:i}=s.spanToJSON(e),{spanId:a}=e.spanContext(),c=s.spanIsSampled(e),l=s.getRootSpan(e),u=l===e,p=`[Tracing] Starting ${c?"sampled":"unsampled"} ${u?"root ":""}span`,d=[`op: ${r}`,`name: ${t}`,`ID: ${a}`];if(i&&d.push(`parent ID: ${i}`),!u){const{op:e,description:t}=s.spanToJSON(l);d.push(`root ID: ${l.spanContext().spanId}`),e&&d.push(`root op: ${e}`),t&&d.push(`root description: ${t}`)}o.logger.log(`${p}\n  ${d.join("\n  ")}`)}},28945:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(52751),o=r(54583);t.setMeasurement=function(e,t,r,s=o.getActiveSpan()){const i=s&&o.getRootSpan(s);i&&i.addEvent(e,{[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t,[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:r})},t.timedEventsToMeasurements=function(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const r=e.attributes||{},o=r[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],s=r[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof o&&"number"==typeof s&&(t[e.name]={value:s,unit:o})})),t}},79816:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(53910),s=r(60073),i=r(10393);t.sampleSpan=function(e,t){if(!s.hasTracingEnabled(e))return[!1];let r;r="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;const a=i.parseSampleRate(r);return void 0===a?(n.DEBUG_BUILD&&o.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(n.DEBUG_BUILD&&o.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[!1,a]):(n.DEBUG_BUILD&&o.logger.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,a])}},67392:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(72322),o=r(54583);t.SentryNonRecordingSpan=class{constructor(e={}){this._traceId=e.traceId||n.uuid4(),this._spanId=e.spanId||n.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:o.TRACE_FLAG_NONE}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}},30242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(68974),s=r(30238),i=r(14021),a=r(52751),c=r(53910),l=r(72322),u=r(82093),p=r(88587),d=r(54583),h=r(93754),f=r(8346),m=r(28945),g=r(64284);class E{constructor(e={}){this._traceId=e.traceId||l.uuid4(),this._spanId=e.spanId||l.uuid4().substring(16),this._startTime=e.startTimestamp||p.timestampInSeconds(),this._attributes={},this.setAttributes({[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:r}=this;return{spanId:e,traceId:t,traceFlags:r?d.TRACE_FLAG_SAMPLED:d.TRACE_FLAG_NONE}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}updateStartTime(e){this._startTime=d.spanTimeInputToSeconds(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"custom"),this}end(e){this._endTime||(this._endTime=d.spanTimeInputToSeconds(e),f.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return u.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:d.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:i.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[a.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[a.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:m.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&d.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?d.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,r){o.DEBUG_BUILD&&c.logger.log("[Tracing] Adding an event to span:",e);const n=S(t)?t:r||p.timestampInSeconds(),s=S(t)?{}:t||{},i={name:e,time:d.spanTimeInputToSeconds(n),attributes:s};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=n.getClient();if(e&&e.emit("spanEnd",this),!this._isStandaloneSpan&&this!==d.getRootSpan(this))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=n.getClient();if(!t)return;const r=e[1];r&&0!==r.length?t.sendEnvelope(e):t.recordDroppedEvent("before_send","span")}(s.createSpanEnvelope([this],e)):(o.DEBUG_BUILD&&c.logger.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();t&&(g.getCapturedScopesOnSpan(this).scope||n.getCurrentScope()).captureEvent(t)}_convertSpanToTransaction(){if(!_(d.spanToJSON(this)))return;this._name||(o.DEBUG_BUILD&&c.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=g.getCapturedScopesOnSpan(this),r=(e||n.getCurrentScope()).getClient()||n.getClient();if(!0!==this._sampled)return o.DEBUG_BUILD&&c.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(r&&r.recordDroppedEvent("sample_rate","transaction"));const s=d.getSpanDescendants(this).filter((e=>e!==this&&!function(e){return e instanceof E&&e.isStandaloneSpan()}(e))).map((e=>d.spanToJSON(e))).filter(_),l=this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],p={contexts:{trace:d.spanToTransactionTraceContext(this)},spans:s.length>1e3?s.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...u.dropUndefinedKeys({dynamicSamplingContext:h.getDynamicSamplingContextFromSpan(this)})},_metrics_summary:i.getMetricSummaryJsonForSpan(this),...l&&{transaction_info:{source:l}}},f=m.timedEventsToMeasurements(this._events);return f&&Object.keys(f).length&&(o.DEBUG_BUILD&&c.logger.log("[Measurements] Adding measurements to transaction event",JSON.stringify(f,void 0,2)),p.measurements=f),p}}function S(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function _(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}t.SentrySpan=E},15363:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function r(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}t.SPAN_STATUS_ERROR=2,t.SPAN_STATUS_OK=1,t.SPAN_STATUS_UNSET=0,t.getSpanStatusFromHttpCode=r,t.setHttpStatus=function(e,t){e.setAttribute("http.response.status_code",t);const n=r(t);"unknown_error"!==n.message&&e.setStatus(n)}},55908:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(73220),o=r(49564),s=r(42810),i=r(68974),a=r(52751),c=r(53910),l=r(90367),u=r(74890),p=r(76354),d=r(60073),h=r(64865),f=r(54583),m=r(93754),g=r(8346),E=r(79816),S=r(67392),_=r(30242),y=r(15363),A=r(64284),v="__SENTRY_SUPPRESS_TRACING__";function T(e,t){const r=R();return r.withActiveSpan?r.withActiveSpan(e,t):o.withScope((r=>(h._setSpanForScope(r,e||void 0),t(r))))}function b({parentSpan:e,spanArguments:t,forceTransaction:r,scope:n}){if(!d.hasTracingEnabled())return new S.SentryNonRecordingSpan;const s=o.getIsolationScope();let i;if(e&&!r)i=function(e,t,r){const{spanId:n,traceId:s}=e.spanContext(),i=!t.getScopeData().sdkProcessingMetadata[v]&&f.spanIsSampled(e),a=i?new _.SentrySpan({...r,parentSpanId:n,traceId:s,sampled:i}):new S.SentryNonRecordingSpan({traceId:s});f.addChildSpanToSpan(e,a);const c=o.getClient();return c&&(c.emit("spanStart",a),r.endTimestamp&&c.emit("spanEnd",a)),a}(e,n,t),f.addChildSpanToSpan(e,i);else if(e){const r=m.getDynamicSamplingContextFromSpan(e),{traceId:o,spanId:s}=e.spanContext(),a=f.spanIsSampled(e);i=O({traceId:o,parentSpanId:s,...t},n,a),m.freezeDscOnSpan(i,r)}else{const{traceId:e,dsc:r,parentSpanId:o,sampled:a}={...s.getPropagationContext(),...n.getPropagationContext()};i=O({traceId:e,parentSpanId:o,...t},n,a),r&&m.freezeDscOnSpan(i,r)}return g.logSpanStart(i),A.setCapturedScopesOnSpan(i,n,s),i}function I(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...t};return r.startTimestamp=f.spanTimeInputToSeconds(e.startTime),delete r.startTime,r}return t}function R(){const e=n.getMainCarrier();return s.getAsyncContextStrategy(e)}function O(e,t,r){const n=o.getClient(),s=n&&n.getOptions()||{},{name:i="",attributes:c}=e,[l,u]=t.getScopeData().sdkProcessingMetadata[v]?[!1]:E.sampleSpan(s,{name:i,parentSampled:r,attributes:c,transactionContext:{name:i,parentSampled:r}}),p=new _.SentrySpan({...e,attributes:{[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",...e.attributes},sampled:l});return void 0!==u&&p.setAttribute(a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,u),n&&n.emit("spanStart",p),p}function N(e){const t=h._getSpanForScope(e);if(!t)return;const r=o.getClient();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?f.getRootSpan(t):t}function C(e){return void 0!==e?t=>T(e,t):e=>e()}t.continueTrace=({sentryTrace:e,baggage:t},r)=>o.withScope((n=>{const o=u.propagationContextFromHeaders(e,t);return n.setPropagationContext(o),r()})),t.startInactiveSpan=function(e){const t=R();if(t.startInactiveSpan)return t.startInactiveSpan(e);const r=I(e),{forceTransaction:n,parentSpan:s}=e;return(e.scope?t=>o.withScope(e.scope,t):void 0!==s?e=>T(s,e):e=>e())((()=>{const t=o.getCurrentScope(),s=N(t);return e.onlyIfParent&&!s?new S.SentryNonRecordingSpan:b({parentSpan:s,spanArguments:r,forceTransaction:n,scope:t})}))},t.startNewTrace=function(e){return o.withScope((t=>(t.setPropagationContext(l.generatePropagationContext()),i.DEBUG_BUILD&&c.logger.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),T(null,e))))},t.startSpan=function(e,t){const r=R();if(r.startSpan)return r.startSpan(e,t);const n=I(e),{forceTransaction:s,parentSpan:i}=e;return o.withScope(e.scope,(()=>C(i)((()=>{const r=o.getCurrentScope(),i=N(r),a=e.onlyIfParent&&!i?new S.SentryNonRecordingSpan:b({parentSpan:i,spanArguments:n,forceTransaction:s,scope:r});return h._setSpanForScope(r,a),p.handleCallbackErrors((()=>t(a)),(()=>{const{status:e}=f.spanToJSON(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:y.SPAN_STATUS_ERROR,message:"internal_error"})}),(()=>a.end()))}))))},t.startSpanManual=function(e,t){const r=R();if(r.startSpanManual)return r.startSpanManual(e,t);const n=I(e),{forceTransaction:s,parentSpan:i}=e;return o.withScope(e.scope,(()=>C(i)((()=>{const r=o.getCurrentScope(),i=N(r),a=e.onlyIfParent&&!i?new S.SentryNonRecordingSpan:b({parentSpan:i,spanArguments:n,forceTransaction:s,scope:r});function c(){a.end()}return h._setSpanForScope(r,a),p.handleCallbackErrors((()=>t(a,c)),(()=>{const{status:e}=f.spanToJSON(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:y.SPAN_STATUS_ERROR,message:"internal_error"})}))}))))},t.suppressTracing=function(e){const t=R();return t.suppressTracing?t.suppressTracing(e):o.withScope((t=>(t.setSDKProcessingMetadata({[v]:!0}),e())))},t.withActiveSpan=T},64284:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82093),o="_sentryScope",s="_sentryIsolationScope";t.getCapturedScopesOnSpan=function(e){return{scope:e[o],isolationScope:e[s]}},t.setCapturedScopesOnSpan=function(e,t,r){e&&(n.addNonEnumerableProperty(e,s,r),n.addNonEnumerableProperty(e,o,t))}},64450:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(73206),s=r(68746),i=r(53910),a=r(85467),c=r(75469),l=r(87120);function u(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}t.DEFAULT_TRANSPORT_BUFFER_SIZE=64,t.createTransport=function(e,t,r=a.makePromiseBuffer(e.bufferSize||64)){let p={};return{send:function(a){const d=[];if(o.forEachEnvelopeItem(a,((t,r)=>{const n=o.envelopeItemTypeToDataCategory(r);if(c.isRateLimited(p,n)){const o=u(t,r);e.recordDroppedEvent("ratelimit_backoff",n,o)}else d.push(t)})),0===d.length)return l.resolvedSyncPromise({});const h=o.createEnvelope(a[0],d),f=t=>{o.forEachEnvelopeItem(h,((r,n)=>{const s=u(r,n);e.recordDroppedEvent(t,o.envelopeItemTypeToDataCategory(n),s)}))};return r.add((()=>t({body:o.serializeEnvelope(h)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&n.DEBUG_BUILD&&i.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),p=c.updateRateLimits(p,e),e)),(e=>{throw f("network_error"),e})))).then((e=>e),(e=>{if(e instanceof s.SentryError)return n.DEBUG_BUILD&&i.logger.error("Skipped sending event because buffer is full."),f("queue_overflow"),l.resolvedSyncPromise({});throw e}))},flush:e=>r.drain(e)}}},14082:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(85740),o=r(41101),s=r(73206);function i(e,t){let r;return s.forEachEnvelopeItem(e,((e,n)=>(t.includes(n)&&(r=Array.isArray(e)?e[1]:void 0),!!r))),r}function a(e,t){return s.createEnvelope(t?{...e[0],dsn:t}:e[0],e[1])}t.eventFromEnvelope=i,t.makeMultiplexedTransport=function(e,t){return r=>{const s=e(r),c=new Map;function l(t,s){const a=s?`${t}:${s}`:t;let l=c.get(a);if(!l){const u=o.dsnFromString(t);if(!u)return;const p=n.getEnvelopeEndpointWithUrlEncodedAuth(u,r.tunnel);l=s?function(e,t){return r=>{const n=e(r);return{...n,send:async e=>{const r=i(e,["event","transaction","profile","replay_event"]);return r&&(r.release=t),n.send(e)}}}}(e,s)({...r,url:p}):e({...r,url:p}),c.set(a,l)}return[t,l]}return{send:async function(e){const r=t({envelope:e,getEvent:function(t){const r=t&&t.length?t:["event"];return i(e,r)}}).map((e=>"string"==typeof e?l(e,void 0):l(e.dsn,e.release))).filter((e=>!!e)),n=r.length?r:[["",s]],o=await Promise.all(n.map((([t,r])=>r.send(a(e,t)))));return o[0]},flush:async function(e){const t=[...c.values(),s];return(await Promise.all(t.map((t=>t.flush(e))))).every((e=>e))}}}}},52256:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(73206),s=r(53910),i=r(75469),a=5e3;t.MIN_DELAY=100,t.START_DELAY=a,t.makeOfflineTransport=function(e){function t(...e){n.DEBUG_BUILD&&s.logger.info("[Offline]:",...e)}return r=>{const n=e(r);if(!r.createStore)throw new Error("No `createStore` function was provided");const s=r.createStore(r);let c,l=a;function u(e){c&&clearTimeout(c),c=setTimeout((async()=>{c=void 0;const e=await s.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=(new Date).toISOString(),d(e,!0).catch((e=>{t("Failed to retry sending",e)})))}),e),"number"!=typeof c&&c.unref&&c.unref()}function p(){c||(u(l),l=Math.min(2*l,36e5))}async function d(e,c=!1){if(!c&&o.envelopeContainsItemType(e,["replay_event","replay_recording"]))return await s.push(e),u(100),{};try{const t=await n.send(e);let r=100;if(t)if(t.headers&&t.headers["retry-after"])r=i.parseRetryAfterHeader(t.headers["retry-after"]);else if(t.headers&&t.headers["x-sentry-rate-limits"])r=6e4;else if((t.statusCode||0)>=400)return t;return u(r),l=a,t}catch(n){if(await function(e,t,n){return!o.envelopeContainsItemType(e,["client_report"])&&(!r.shouldStore||r.shouldStore(e,t,n))}(e,n,l))return c?await s.unshift(e):await s.push(e),p(),t("Error sending. Event queued.",n),{};throw n}}return r.flushAtStartup&&p(),{send:d,flush:e=>n.flush(e)}}}},36033:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564),o=r(79183),s=r(52751);r(44038),r(29572),r(8950),r(53910),r(68974),r(88587);const i=r(56507);r(87120);const a=r(55908),c={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};t.trpcMiddleware=function(e={}){return async function(t){const{path:r,type:l,next:u,rawInput:p,getRawInput:d}=t,h=n.getClient(),f=h&&h.getOptions(),m={procedure_path:r,procedure_type:l};if((void 0!==e.attachRpcInput?e.attachRpcInput:f&&f.sendDefaultPii)&&(void 0!==p&&(m.input=i.normalize(p)),void 0!==d&&"function"==typeof d))try{const e=await d();m.input=i.normalize(e)}catch(e){}return n.withScope((e=>(e.setContext("trpc",m),a.startSpanManual({name:`trpc/${r}`,op:"rpc.server",attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},(async e=>{try{const t=await u();return function(e){"object"==typeof e&&null!==e&&"ok"in e&&!e.ok&&"error"in e&&o.captureException(e.error,c)}(t),e.end(),t}catch(t){throw o.captureException(t,c),e.end(),t}})))))}}},38891:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478),o=r(43591);function s(e,t,r,o,c,l,u,p){if(l.length>=r+1)return l;let d=[...l];if(n.isInstanceOf(o[c],Error)){i(u,p);const n=e(t,o[c]),l=d.length;a(n,c,l,p),d=s(e,t,r,o[c],c,[n,...d],n,l)}return Array.isArray(o.errors)&&o.errors.forEach(((o,l)=>{if(n.isInstanceOf(o,Error)){i(u,p);const n=e(t,o),h=d.length;a(n,`errors[${l}]`,h,p),d=s(e,t,r,o,c,[n,...d],n,h)}})),d}function i(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function a(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}t.applyAggregateErrorsToEvent=function(e,t,r=250,i,a,c,l){if(!(c.exception&&c.exception.values&&l&&n.isInstanceOf(l.originalException,Error)))return;const u=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var p,d;u&&(c.exception.values=(p=s(e,t,a,l.originalException,i,c.exception.values,u,0),d=r,p.map((e=>(e.value&&(e.value=o.truncate(e.value,d)),e)))))}},91771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(46835),o=r(82093),s=r(48051);t.callFrameToStackFrame=function(e,t,r){const i=t?t.replace(/^file:\/\//,""):void 0,a=e.location.columnNumber?e.location.columnNumber+1:void 0,c=e.location.lineNumber?e.location.lineNumber+1:void 0;return o.dropUndefinedKeys({filename:i,module:r(i),function:e.functionName||s.UNKNOWN_FUNCTION,colno:a,lineno:c,in_app:i?n.filenameIsInApp(i):void 0})},t.watchdogTimer=function(e,t,r,n){const o=e();let s=!1,i=!0;return setInterval((()=>{const e=o.getTimeMs();!1===s&&e>t+r&&(s=!0,i&&n()),e<t+r&&(s=!1)}),20),{poll:()=>{o.reset()},enabled:e=>{i=e}}}},14558:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){const t=[],r=e=>{e.forEach((e=>{Array.isArray(e)?r(e):t.push(e)}))};return r(e),t}},38558:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(8950),o=r(44478),s=r(53910),i="sentry-",a=/^sentry-/;function c(e){if(e&&(o.isString(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const r=l(t);return Object.entries(r).forEach((([t,r])=>{e[t]=r})),e}),{}):l(e)}function l(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,r])=>(t&&r&&(e[t]=r),e)),{})}t.BAGGAGE_HEADER_NAME="baggage",t.MAX_BAGGAGE_STRING_LENGTH=8192,t.SENTRY_BAGGAGE_KEY_PREFIX=i,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=a,t.baggageHeaderToDynamicSamplingContext=function(e){const t=c(e);if(!t)return;const r=Object.entries(t).reduce(((e,[t,r])=>(t.match(a)&&(e[t.slice(7)]=r),e)),{});return Object.keys(r).length>0?r:void 0},t.dynamicSamplingContextToSentryBaggageHeader=function(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,r],o)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`,a=0===o?i:`${e},${i}`;return a.length>8192?(n.DEBUG_BUILD&&s.logger.warn(`Not adding key: ${t} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):a}),"")}(Object.entries(e).reduce(((e,[t,r])=>(r&&(e[`${i}${t}`]=r),e)),{}))},t.parseBaggageHeader=c},41647:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBreadcrumbLogLevelFromHttpStatusCode=function(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}},81268:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478),o=r(84987).GLOBAL_OBJ;function s(e,t){const r=e,s=[];if(!r||!r.tagName)return"";if(o.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}s.push(r.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{s.push(`[${e[0]}="${e[1]}"]`)}));else{r.id&&s.push(`#${r.id}`);const e=r.className;if(e&&n.isString(e)){const t=e.split(/\s+/);for(const e of t)s.push(`.${e}`)}}const a=["aria-label","type","name","title","alt"];for(const e of a){const t=r.getAttribute(e);t&&s.push(`[${e}="${t}"]`)}return s.join("")}t.getComponentName=function(e){if(!o.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null},t.getDomElement=function(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null},t.getLocationHref=function(){try{return o.document.location.href}catch(e){return""}},t.htmlTreeAsString=function(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,o=[];let i=0,a=0;const c=" > ",l=c.length;let u;const p=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=s(r,p),!("html"===u||i>1&&a+o.length*l+u.length>=d));)o.push(u),a+=u.length,r=r.parentNode;return o.reverse().join(c)}catch(e){return"<unknown>"}}},77060:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(54834);t._asyncNullishCoalesce=async function(e,t){return n._nullishCoalesce(e,t)}},1357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._asyncOptionalChain=async function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=await s(r)):"call"!==o&&"optionalCall"!==o||(r=await s(((...e)=>r.call(t,...e))),t=void 0)}return r}},1622:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(1357);t._asyncOptionalChainDelete=async function(e){const t=await n._asyncOptionalChain(e);return null==t||t}},54834:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._nullishCoalesce=function(e,t){return null!=e?e:t()}},89015:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._optionalChain=function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}},77816:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(89015);t._optionalChainDelete=function(e){const t=n._optionalChain(e);return null==t||t}},32302:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeFifoCache=function(e){let t=[],r={};return{add(n,o){for(;t.length>=e;){const e=t.shift();void 0!==e&&delete r[e]}r[n]&&this.delete(n),t.push(n),r[n]=o},clear(){r={},t=[]},get:e=>r[e],size:()=>t.length,delete(e){if(!r[e])return!1;delete r[e];for(let r=0;r<t.length;r++)if(t[r]===e){t.splice(r,1);break}return!0}}}},81091:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(73206),o=r(88587);t.createClientReportEnvelope=function(e,t,r){const s=[{type:"client_report"},{timestamp:r||o.dateTimestampInSeconds(),discarded_events:e}];return n.createEnvelope(t?{dsn:t}:{},[s])}},96396:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseCookie=function(e){const t={};let r=0;for(;r<e.length;){const n=e.indexOf("=",r);if(-1===n)break;let o=e.indexOf(";",r);if(-1===o)o=e.length;else if(o<n){r=e.lastIndexOf(";",n-1)+1;continue}const s=e.slice(r,n).trim();if(void 0===t[s]){let r=e.slice(n+1,o).trim();34===r.charCodeAt(0)&&(r=r.slice(1,-1));try{t[s]=-1!==r.indexOf("%")?decodeURIComponent(r):r}catch(e){t[s]=r}}r=o+1}return t}},8950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=r},64008:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987),o=new WeakMap;function s(e){const t=n.GLOBAL_OBJ._sentryDebugIds;if(!t)return{};let r;const s=o.get(e);return s?r=s:(r=new Map,o.set(e,r)),Object.keys(t).reduce(((n,o)=>{let s;const i=r.get(o);i?s=i:(s=e(o),r.set(o,s));for(let e=s.length-1;e>=0;e--){const r=s[e],i=r&&r.filename;if(r&&i){n[i]=t[o];break}}return n}),{})}t.getDebugImagesForResources=function(e,t){const r=s(e),n=[];for(const e of t)e&&r[e]&&n.push({type:"sourcemap",code_file:e,debug_id:r[e]});return n},t.getFilenameToDebugIdMap=s},41101:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(8950),o=r(53910),s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e){const t=s.exec(e);if(!t)return void o.consoleSandbox((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[r,n,i="",c="",l="",u=""]=t.slice(1);let p="",d=u;const h=d.split("/");if(h.length>1&&(p=h.slice(0,-1).join("/"),d=h.pop()),d){const e=d.match(/^\d+/);e&&(d=e[0])}return a({host:c,pass:i,path:p,projectId:d,port:l,protocol:r,publicKey:n})}function a(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}t.dsnFromString=i,t.dsnToString=function(e,t=!1){const{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n?`${n}/`:n}${i}`},t.makeDsn=function(e){const t="string"==typeof e?i(e):a(e);if(t&&function(e){if(!n.DEBUG_BUILD)return!0;const{port:t,projectId:r,protocol:s}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(r.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(s)?t&&isNaN(parseInt(t,10))&&(o.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(t))return t}},9827:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKSource=function(){return"npm"},t.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},73206:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(41101),o=r(56507),s=r(82093),i=r(84987);function a(e,t){const r=e[1];for(const e of r)if(t(e,e[0].type))return!0;return!1}function c(e){return i.GLOBAL_OBJ.__SENTRY__&&i.GLOBAL_OBJ.__SENTRY__.encodePolyfill?i.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}const l={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};t.addItemToEnvelope=function(e,t){const[r,n]=e;return[r,[...n,t]]},t.createAttachmentEnvelopeItem=function(e){const t="string"==typeof e.data?c(e.data):e.data;return[s.dropUndefinedKeys({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]},t.createEnvelope=function(e,t=[]){return[e,t]},t.createEventEnvelopeHeaders=function(e,t,r,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!r&&o&&{dsn:n.dsnToString(o)},...i&&{trace:s.dropUndefinedKeys({...i})}}},t.createSpanEnvelopeItem=function(e){return[{type:"span"},e]},t.envelopeContainsItemType=function(e,t){return a(e,((e,r)=>t.includes(r)))},t.envelopeItemTypeToDataCategory=function(e){return l[e]},t.forEachEnvelopeItem=a,t.getSdkMetadataForEnvelopeHeader=function(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}},t.parseEnvelope=function(e){let t="string"==typeof e?c(e):e;function r(e){const r=t.subarray(0,e);return t=t.subarray(e+1),r}function n(){let e=t.indexOf(10);return e<0&&(e=t.length),JSON.parse((n=r(e),i.GLOBAL_OBJ.__SENTRY__&&i.GLOBAL_OBJ.__SENTRY__.decodePolyfill?i.GLOBAL_OBJ.__SENTRY__.decodePolyfill(n):(new TextDecoder).decode(n)));var n}const o=n(),s=[];for(;t.length;){const e=n(),t="number"==typeof e.length?e.length:void 0;s.push([e,t?r(t):n()])}return[o,s]},t.serializeEnvelope=function(e){const[t,r]=e;let n=JSON.stringify(t);function s(e){"string"==typeof n?n="string"==typeof e?n+e:[c(n),e]:n.push("string"==typeof e?c(e):e)}for(const e of r){const[t,r]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof r||r instanceof Uint8Array)s(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify(o.normalize(r))}s(e)}}return"string"==typeof n?n:function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}(n)}},68746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}t.SentryError=r},73185:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478),o=r(72322),s=r(56507),i=r(82093);function a(e,t){return e(t.stack||"",1)}function c(e,t){const r={type:t.name||t.constructor.name,value:t.message},n=a(e,t);return n.length&&(r.stacktrace={frames:n}),r}function l(e,t,r,o){if(n.isError(r))return[r,void 0];if(t.synthetic=!0,n.isPlainObject(r)){const t=e&&e.getOptions().normalizeDepth,a={__serialized__:s.normalizeToSize(r,t)},c=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r instanceof Error)return r}}(r);if(c)return[c,a];const l=function(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;const t=i.extractExceptionKeysForMessage(e);if(n.isErrorEvent(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;const r=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`${r&&"Object"!==r?`'${r}'`:"Object"} captured as exception with keys: ${t}`}(r),u=o&&o.syntheticException||new Error(l);return u.message=l,[u,a]}const a=o&&o.syntheticException||new Error(r);return a.message=`${r}`,[a,void 0]}t.eventFromMessage=function(e,t,r="info",o,s){const i={event_id:o&&o.event_id,level:r};if(s&&o&&o.syntheticException){const r=a(e,o.syntheticException);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(n.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:r}=t;return i.logentry={message:e,params:r},i}return i.message=t,i},t.eventFromUnknownInput=function(e,t,r,n){const s=n&&n.data&&n.data.mechanism||{handled:!0,type:"generic"},[i,a]=l(e,s,r,n),u={exception:{values:[c(t,i)]}};return a&&(u.extra=a),o.addExceptionTypeValue(u,void 0,void 0),o.addExceptionMechanism(u,s),{...u,event_id:n&&n.event_id}},t.exceptionFromError=c,t.parseStackFrames=a},23765:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(53910),o=r(82093),s=r(84987),i=r(21364);function a(){"console"in s.GLOBAL_OBJ&&n.CONSOLE_LEVELS.forEach((function(e){e in s.GLOBAL_OBJ.console&&o.fill(s.GLOBAL_OBJ.console,e,(function(t){return n.originalConsoleMethods[e]=t,function(...t){const r={args:t,level:e};i.triggerHandlers("console",r);const o=n.originalConsoleMethods[e];o&&o.apply(s.GLOBAL_OBJ.console,t)}}))}))}t.addConsoleInstrumentationHandler=function(e){const t="console";i.addHandler(t,e),i.maybeInstrument(t,a)}},38096:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478),o=r(82093),s=r(11002),i=r(88587),a=r(84987),c=r(21364);function l(e,t=!1){t&&!s.supportsNativeFetch()||o.fill(a.GLOBAL_OBJ,"fetch",(function(t){return function(...r){const{method:s,url:l}=h(r),u={args:r,fetchData:{method:s,url:l},startTimestamp:1e3*i.timestampInSeconds()};e||c.triggerHandlers("fetch",{...u});const p=(new Error).stack;return t.apply(a.GLOBAL_OBJ,r).then((async t=>(e?e(t):c.triggerHandlers("fetch",{...u,endTimestamp:1e3*i.timestampInSeconds(),response:t}),t)),(e=>{throw c.triggerHandlers("fetch",{...u,endTimestamp:1e3*i.timestampInSeconds(),error:e}),n.isError(e)&&void 0===e.stack&&(e.stack=p,o.addNonEnumerableProperty(e,"framesToPop",1)),e}))}}))}function u(e){let t;try{t=e.clone()}catch(e){return}!async function(t,r){if(t&&t.body){const r=t.body,n=r.getReader(),o=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),9e4);let s=!0;for(;s;){let t;try{t=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),5e3);const{done:o}=await n.read();clearTimeout(t),o&&(c.triggerHandlers("fetch-body-resolved",{endTimestamp:1e3*i.timestampInSeconds(),response:e}),s=!1)}catch(e){s=!1}finally{clearTimeout(t)}}clearTimeout(o),n.releaseLock(),r.cancel().then(null,(()=>{}))}}(t)}function p(e,t){return!!e&&"object"==typeof e&&!!e[t]}function d(e){return"string"==typeof e?e:e?p(e,"url")?e.url:e.toString?e.toString():"":""}function h(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,r]=e;return{url:d(t),method:p(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:d(t),method:p(t,"method")?String(t.method).toUpperCase():"GET"}}t.addFetchEndInstrumentationHandler=function(e){const t="fetch-body-resolved";c.addHandler(t,e),c.maybeInstrument(t,(()=>l(u)))},t.addFetchInstrumentationHandler=function(e,t){const r="fetch";c.addHandler(r,e),c.maybeInstrument(r,(()=>l(void 0,t)))},t.parseFetchArgs=h},45495:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987),o=r(21364);let s=null;function i(){s=n.GLOBAL_OBJ.onerror,n.GLOBAL_OBJ.onerror=function(e,t,r,n,i){const a={column:n,error:i,line:r,msg:e,url:t};return o.triggerHandlers("error",a),!(!s||s.__SENTRY_LOADER__)&&s.apply(this,arguments)},n.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}t.addGlobalErrorInstrumentationHandler=function(e){const t="error";o.addHandler(t,e),o.maybeInstrument(t,i)}},22023:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987),o=r(21364);let s=null;function i(){s=n.GLOBAL_OBJ.onunhandledrejection,n.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return o.triggerHandlers("unhandledrejection",t),!(s&&!s.__SENTRY_LOADER__)||s.apply(this,arguments)},n.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}t.addGlobalUnhandledRejectionInstrumentationHandler=function(e){const t="unhandledrejection";o.addHandler(t,e),o.maybeInstrument(t,i)}},21364:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(8950),o=r(53910),s=r(48051),i={},a={};t.addHandler=function(e,t){i[e]=i[e]||[],i[e].push(t)},t.maybeInstrument=function(e,t){if(!a[e]){a[e]=!0;try{t()}catch(t){n.DEBUG_BUILD&&o.logger.error(`Error while instrumenting ${e}`,t)}}},t.resetInstrumentationHandlers=function(){Object.keys(i).forEach((e=>{i[e]=void 0}))},t.triggerHandlers=function(e,t){const r=e&&i[e];if(r)for(const i of r)try{i(t)}catch(t){n.DEBUG_BUILD&&o.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${s.getFunctionName(i)}\nError:`,t)}}},44478:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=Object.prototype.toString;function n(e,t){return r.call(e)===`[object ${t}]`}function o(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function s(e){return n(e,"Object")}function i(e,t){try{return e instanceof t}catch(e){return!1}}t.isDOMError=function(e){return n(e,"DOMError")},t.isDOMException=function(e){return n(e,"DOMException")},t.isElement=function(e){return"undefined"!=typeof Element&&i(e,Element)},t.isError=function(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return i(e,Error)}},t.isErrorEvent=function(e){return n(e,"ErrorEvent")},t.isEvent=function(e){return"undefined"!=typeof Event&&i(e,Event)},t.isInstanceOf=i,t.isParameterizedString=o,t.isPlainObject=s,t.isPrimitive=function(e){return null===e||o(e)||"object"!=typeof e&&"function"!=typeof e},t.isRegExp=function(e){return n(e,"RegExp")},t.isString=function(e){return n(e,"String")},t.isSyntheticEvent=function(e){return s(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},t.isThenable=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)},t.isVueViewModel=function(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},78612:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(6566),o=r(84987);t.isBrowser=function(){return"undefined"!=typeof window&&(!n.isNodeEnv()||void 0!==o.GLOBAL_OBJ.process&&"renderer"===o.GLOBAL_OBJ.process.type)}},53910:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(8950),o=r(84987),s=["debug","info","warn","error","log","assert","trace"],i={};function a(e){if(!("console"in o.GLOBAL_OBJ))return e();const t=o.GLOBAL_OBJ.console,r={},n=Object.keys(i);n.forEach((e=>{const n=i[e];r[e]=t[e],t[e]=n}));try{return e()}finally{n.forEach((e=>{t[e]=r[e]}))}}const c=o.getGlobalSingleton("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return n.DEBUG_BUILD?s.forEach((r=>{t[r]=(...t)=>{e&&a((()=>{o.GLOBAL_OBJ.console[r](`Sentry Logger [${r}]:`,...t)}))}})):s.forEach((e=>{t[e]=()=>{}})),t}));t.CONSOLE_LEVELS=s,t.consoleSandbox=a,t.logger=c,t.originalConsoleMethods=i},47501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=class{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){const t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,t)}remove(e){const t=this._cache.get(e);return t&&this._cache.delete(e),t}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const e=[];return this._cache.forEach((t=>e.push(t))),e}}},54880:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.memoBuilder=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}},72322:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82093),o=r(43591),s=r(84987);function i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function c(e){return parseInt(e||"",10)}t.addContextToFrame=function(e,t,r=5){if(void 0===t.lineno)return;const n=e.length,s=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-r),s).map((e=>o.snipLine(e,0)));const i=Math.min(n-1,s);t.context_line=o.snipLine(e[i],t.colno||0),t.post_context=e.slice(Math.min(s+1,n),s+1+r).map((e=>o.snipLine(e,0)))},t.addExceptionMechanism=function(e,t){const r=i(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n&&n.data,...t.data};r.mechanism.data=e}},t.addExceptionTypeValue=function(e,t,r){const n=e.exception=e.exception||{},o=n.values=n.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")},t.arrayify=function(e){return Array.isArray(e)?e:[e]},t.checkOrSetAlreadyCaught=function(e){if(e&&e.__sentry_captured__)return!0;try{n.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(e){}return!1},t.getEventDescription=function(e){const{message:t,event_id:r}=e;if(t)return t;const n=i(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"},t.parseSemver=function(e){const t=e.match(a)||[],r=c(t[1]),n=c(t[2]),o=c(t[3]);return{buildmetadata:t[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(o)?void 0:o,prerelease:t[4]}},t.uuid4=function(){const e=s.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&r())>>e/4).toString(16)))}},46835:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(48051);function o(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//)||void 0===e||e.includes("node_modules/"))}function s(e){const t=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return s=>{const a=s.match(r);if(a){let t,r,s,c,l;if(a[1]){s=a[1];let e=s.lastIndexOf(".");if("."===s[e-1]&&e--,e>0){t=s.slice(0,e),r=s.slice(e+1);const n=t.indexOf(".Module");n>0&&(s=s.slice(n+1),t=t.slice(0,n))}c=void 0}r&&(c=t,l=r),"<anonymous>"===r&&(l=void 0,s=void 0),void 0===s&&(l=l||n.UNKNOWN_FUNCTION,s=c?`${c}.${l}`:l);let u=a[2]&&a[2].startsWith("file://")?a[2].slice(7):a[2];const p="native"===a[5];return u&&u.match(/\/[A-Z]:/)&&(u=u.slice(1)),u||!a[5]||p||(u=a[5]),{filename:u,module:e?e(u):void 0,function:s,lineno:i(a[3]),colno:i(a[4]),in_app:o(u||"",p)}}if(s.match(t))return{filename:s}}}function i(e){return parseInt(e||"",10)||void 0}t.filenameIsInApp=o,t.node=s,t.nodeStackLineParser=function(e){return[90,s(e)]}},6566:(e,t,r)=>{e=r.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});const n=r(9827);function o(e,t){return e.require(t)}t.dynamicRequire=o,t.isNodeEnv=function(){return!n.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},t.loadModule=function(t){let r;try{r=o(e,t)}catch(e){}if(!r)try{const{cwd:n}=o(e,"process");r=o(e,`${n()}/node_modules/${t}`)}catch(e){}return r}},56507:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478),o=r(54880),s=r(82093),i=r(48051);function a(e,t=100,r=1/0){try{return c("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function c(e,t,r=1/0,a=1/0,l=o.memoBuilder()){const[u,p]=l;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const d=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(n.isVueViewModel(t))return"[VueViewModel]";if(n.isSyntheticEvent(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${i.getFunctionName(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!d.startsWith("[object "))return d;if(t.__sentry_skip_normalization__)return t;const h="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===h)return d.replace("object ","");if(u(t))return"[Circular ~]";const f=t;if(f&&"function"==typeof f.toJSON)try{return c("",f.toJSON(),h-1,a,l)}catch(e){}const m=Array.isArray(t)?[]:{};let g=0;const E=s.convertToPlainObject(t);for(const e in E){if(!Object.prototype.hasOwnProperty.call(E,e))continue;if(g>=a){m[e]="[MaxProperties ~]";break}const t=E[e];m[e]=c(e,t,h-1,a,l),g++}return p(t),m}t.normalize=a,t.normalizeToSize=function e(t,r=3,n=102400){const o=a(t,r);return s=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?e(t,r-1,n):o;var s},t.normalizeUrlToBase=function(e,t){const r=t.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let n=e;try{n=decodeURI(e)}catch(e){}return n.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${r}/*`,"ig"),"app:///")}},82093:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(81268),o=r(8950),s=r(44478),i=r(53910),a=r(43591);function c(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){o.DEBUG_BUILD&&i.logger.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function l(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,c(e,"__sentry_original__",t)}catch(e){}}function u(e){if(s.isError(e))return{message:e.message,name:e.name,stack:e.stack,...d(e)};if(s.isEvent(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...d(e)};return"undefined"!=typeof CustomEvent&&s.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return s.isElement(e)?n.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function d(e){if("object"==typeof e&&null!==e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function h(e,t){if(function(e){if(!s.isPlainObject(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const r=t.get(e);if(void 0!==r)return r;const n={};t.set(e,n);for(const r of Object.getOwnPropertyNames(e))void 0!==e[r]&&(n[r]=h(e[r],t));return n}if(Array.isArray(e)){const r=t.get(e);if(void 0!==r)return r;const n=[];return t.set(e,n),e.forEach((e=>{n.push(h(e,t))})),n}return e}t.addNonEnumerableProperty=c,t.convertToPlainObject=u,t.dropUndefinedKeys=function(e){return h(e,new Map)},t.extractExceptionKeysForMessage=function(e,t=40){const r=Object.keys(u(e));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return a.truncate(n,t);for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(", ");if(!(n.length>t))return e===r.length?n:a.truncate(n,t)}return""},t.fill=function(e,t,r){if(!(t in e))return;const n=e[t],s=r(n);"function"==typeof s&&l(s,n);try{e[t]=s}catch(r){o.DEBUG_BUILD&&i.logger.log(`Failed to replace method "${t}" in object`,e)}},t.getOriginalFunction=function(e){return e.__sentry_original__},t.markFunctionWrapped=l,t.objectify=function(e){let t;switch(!0){case null==e:t=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:t=Object(e);break;case s.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t},t.urlEncode=function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}},36785:(e,t)=>{function r(e,t){let r=0;for(let t=e.length-1;t>=0;t--){const n=e[t];"."===n?e.splice(t,1):".."===n?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}Object.defineProperty(t,"__esModule",{value:!0});const n=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function o(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=n.exec(t);return r?r.slice(1):[]}function s(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n="/"===o.charAt(0))}return t=r(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function i(e){let t=0;for(;t<e.length&&""===e[t];t++);let r=e.length-1;for(;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}function a(e){const t=c(e),n="/"===e.slice(-1);let o=r(e.split("/").filter((e=>!!e)),!t).join("/");return o||t||(o="."),o&&n&&(o+="/"),(t?"/":"")+o}function c(e){return"/"===e.charAt(0)}t.basename=function(e,t){let r=o(e)[2]||"";return t&&r.slice(-1*t.length)===t&&(r=r.slice(0,r.length-t.length)),r},t.dirname=function(e){const t=o(e),r=t[0]||"";let n=t[1];return r||n?(n&&(n=n.slice(0,n.length-1)),r+n):"."},t.isAbsolute=c,t.join=function(...e){return a(e.join("/"))},t.normalizePath=a,t.relative=function(e,t){e=s(e).slice(1),t=s(t).slice(1);const r=i(e.split("/")),n=i(t.split("/")),o=Math.min(r.length,n.length);let a=o;for(let e=0;e<o;e++)if(r[e]!==n[e]){a=e;break}let c=[];for(let e=a;e<r.length;e++)c.push("..");return c=c.concat(n.slice(a)),c.join("/")},t.resolve=s},85467:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68746),o=r(87120);t.makePromiseBuffer=function(e){const t=[];function r(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(s){if(!(void 0===e||t.length<e))return o.rejectedSyncPromise(new n.SentryError("Not adding Promise because buffer limit was reached."));const i=s();return-1===t.indexOf(i)&&t.push(i),i.then((()=>r(i))).then(null,(()=>r(i).then(null,(()=>{})))),i},drain:function(e){return new o.SyncPromise(((r,n)=>{let s=t.length;if(!s)return r(!0);const i=setTimeout((()=>{e&&e>0&&r(!1)}),e);t.forEach((e=>{o.resolvedSyncPromise(e).then((()=>{--s||(clearTimeout(i),r(!0))}),n)}))}))}}}},90367:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(72322);t.generatePropagationContext=function(){return{traceId:n.uuid4(),spanId:n.uuid4().substring(16)}}},75469:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function r(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;const n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function n(e,t){return e[t]||e.all||0}t.DEFAULT_RETRY_AFTER=6e4,t.disabledUntil=n,t.isRateLimited=function(e,t,r=Date.now()){return n(e,t)>r},t.parseRetryAfterHeader=r,t.updateRateLimits=function(e,{statusCode:t,headers:n},o=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,r,,,n]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(r)for(const e of r.split(";"))"metric_bucket"===e&&n&&!n.split(";").includes("custom")||(s[e]=o+a);else s.all=o+a}else a?s.all=o+r(a,o):429===t&&(s.all=o+6e4);return s}},20789:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(96396),o=r(8950),s=r(44478),i=r(53910),a=r(56507),c=r(82093),l=r(43591),u=r(89657),p=r(18940),d={ip:!1,request:!0,user:!0},h=["cookies","data","headers","method","query_string","url"],f=["id","username","email"];function m(e,t){const r={};return(Array.isArray(t)?t:f).forEach((t=>{e&&t in e&&(r[t]=e[t])})),r}function g(e,t={}){const{include:r=h}=t,o={},i=e.headers||{},c=e.method,u=i.host||e.hostname||e.host||"<no host>",d="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",f=e.originalUrl||e.url||"",m=f.startsWith(d)?f:`${d}://${u}${f}`;return r.forEach((t=>{switch(t){case"headers":o.headers=i,r.includes("cookies")||delete o.headers.cookie,r.includes("ip")||p.ipHeaderNames.forEach((e=>{delete o.headers[e]}));break;case"method":o.method=c;break;case"url":o.url=m;break;case"cookies":o.cookies=e.cookies||i.cookie&&n.parseCookie(i.cookie)||{};break;case"query_string":o.query_string=function(e){let t=e.originalUrl||e.url||"";if(t){t.startsWith("/")&&(t=`http://dogs.are.great${t}`);try{const r=e.query||new URL(t).search.slice(1);return r.length?r:void 0}catch(e){return}}}(e);break;case"data":{if("GET"===c||"HEAD"===c)break;const t=e.body;if(void 0!==t){const e=s.isString(t)?t:s.isPlainObject(t)?JSON.stringify(a.normalize(t)):l.truncate(`${t}`,1024);e&&(o.data=e)}break}default:({}).hasOwnProperty.call(e,t)&&(o[t]=e[t])}})),o}function E(e){const t={};try{e.forEach(((e,r)=>{"string"==typeof e&&(t[r]=e)}))}catch(e){o.DEBUG_BUILD&&i.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return t}function S(e){const t=Object.create(null);try{Object.entries(e).forEach((([e,r])=>{"string"==typeof r&&(t[e]=r)}))}catch(e){o.DEBUG_BUILD&&i.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return t}function _(e){if(e)try{const t=new URL(e,"http://dogs.are.great").search.slice(1);return t.length?t:void 0}catch(e){return}}t.DEFAULT_USER_INCLUDES=f,t.addNormalizedRequestDataToEvent=function(e,t,r,o){const i={...d,...o&&o.include};if(i.request){const r=Array.isArray(i.request)?[...i.request]:[...h];i.ip&&r.push("ip");const o=function(e,{include:t}){const r=t?Array.isArray(t)?t:h:[],o={},s={...e.headers};if(r.includes("headers")&&(o.headers=s,t.includes("cookies")||delete s.cookie,t.includes("ip")||p.ipHeaderNames.forEach((e=>{delete s[e]}))),r.includes("method")&&(o.method=e.method),r.includes("url")&&(o.url=e.url),r.includes("cookies")){const t=e.cookies||(s&&s.cookie?n.parseCookie(s.cookie):void 0);o.cookies=t||{}}return r.includes("query_string")&&(o.query_string=e.query_string),r.includes("data")&&(o.data=e.data),o}(t,{include:r});e.request={...e.request,...o}}if(i.user){const t=r.user&&s.isPlainObject(r.user)?m(r.user,i.user):{};Object.keys(t).length&&(e.user={...e.user,...t})}if(i.ip){const n=t.headers&&p.getClientIPAddress(t.headers)||r.ipAddress;n&&(e.user={...e.user,ip_address:n})}},t.addRequestDataToEvent=function(e,t,r){const n={...d,...r&&r.include};if(n.request){const r=Array.isArray(n.request)?[...n.request]:[...h];n.ip&&r.push("ip");const o=g(t,{include:r});e.request={...e.request,...o}}if(n.user){const r=t.user&&s.isPlainObject(t.user)?m(t.user,n.user):{};Object.keys(r).length&&(e.user={...e.user,...r})}if(n.ip){const r=t.headers&&p.getClientIPAddress(t.headers)||t.ip||t.socket&&t.socket.remoteAddress;r&&(e.user={...e.user,ip_address:r})}return e},t.extractPathForTransaction=function(e,t={}){const r=e.method&&e.method.toUpperCase();let n="",o="url";t.customRoute||e.route?(n=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(n=u.stripUrlQueryAndFragment(e.originalUrl||e.url||""));let s="";return t.method&&r&&(s+=r),t.method&&t.path&&(s+=" "),t.path&&n&&(s+=n),[s,o]},t.extractQueryParamsFromUrl=_,t.extractRequestData=g,t.headersToDict=S,t.httpRequestToRequestData=function(e){const t=e.headers||{},r=t.host||"<no host>",n=e.socket&&e.socket.encrypted?"https":"http",o=e.url||"",s=o.startsWith(n)?o:`${n}://${r}${o}`,i=e.body||void 0,a=e.cookies;return c.dropUndefinedKeys({url:s,method:e.method,query_string:_(o),headers:S(t),cookies:a,data:i})},t.winterCGHeadersToDict=E,t.winterCGRequestToRequestData=function(e){const t=E(e.headers);return{method:e.method,url:e.url,query_string:_(e.url),headers:t}}},13389:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=["fatal","error","warning","log","info","debug"];t.severityLevelFromString=function(e){return"warn"===e?"warning":r.includes(e)?e:"log"},t.validSeverityLevels=r},48051:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=50,n="?",o=/\(error: (.*)\)/,s=/captureMessage|captureException/;function i(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,s=0)=>{const i=[],c=e.split("\n");for(let e=n;e<c.length;e++){const n=c[e];if(n.length>1024)continue;const a=o.test(n)?n.replace(o,"$1"):n;if(!a.match(/\S*Error: /)){for(const e of t){const t=e(a);if(t){i.push(t);break}}if(i.length>=r+s)break}}return a(i.slice(s))}}function a(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(c(t).function||"")&&t.pop(),t.reverse(),s.test(c(t).function||"")&&(t.pop(),s.test(c(t).function||"")&&t.pop()),t.slice(0,r).map((e=>({...e,filename:e.filename||c(t).filename,function:e.function||n})))}function c(e){return e[e.length-1]||{}}const l="<anonymous>";t.UNKNOWN_FUNCTION=n,t.createStackParser=i,t.getFramesFromEvent=function(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}},t.getFunctionName=function(e){try{return e&&"function"==typeof e&&e.name||l}catch(e){return l}},t.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?i(...e):e},t.stripSentryFramesAndReverse=a},43591:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478);function o(e,t,r=!1){return!!n.isString(e)&&(n.isRegExp(t)?t.test(e):!!n.isString(t)&&(r?e===t:e.includes(t)))}t.isMatchingPattern=o,t.safeJoin=function(e,t){if(!Array.isArray(e))return"";const r=[];for(let t=0;t<e.length;t++){const o=e[t];try{n.isVueViewModel(o)?r.push("[VueViewModel]"):r.push(String(o))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)},t.snipLine=function(e,t){let r=e;const n=r.length;if(n<=150)return r;t>n&&(t=n);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,n);return s>n-5&&(s=n),s===n&&(o=Math.max(s-140,0)),r=r.slice(o,s),o>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r},t.stringMatchesSomePattern=function(e,t=[],r=!1){return t.some((t=>o(e,t,r)))},t.truncate=function(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}},11002:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(8950),o=r(53910),s=r(84987).GLOBAL_OBJ;function i(){if(!("fetch"in s))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}t.isNativeFunction=a,t.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},t.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},t.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},t.supportsFetch=i,t.supportsNativeFetch=function(){if("string"==typeof EdgeRuntime)return!0;if(!i())return!1;if(a(s.fetch))return!0;let e=!1;const t=s.document;if(t&&"function"==typeof t.createElement)try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=a(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){n.DEBUG_BUILD&&o.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e},t.supportsReferrerPolicy=function(){if(!i())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},t.supportsReportingObserver=function(){return"ReportingObserver"in s}},87120:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478);var o;!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(o||(o={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=o.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s(((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,r)=>{let n,o;return this.then((t=>{o=!1,n=t,e&&e()}),(t=>{o=!0,n=t,e&&e()})).then((()=>{o?r(n):t(n)}))}))}__init(){this._resolve=e=>{this._setResult(o.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(o.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===o.PENDING&&(n.isThenable(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===o.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===o.RESOLVED&&e[1](this._value),this._state===o.REJECTED&&e[2](this._value),e[0]=!0)}))}}}t.SyncPromise=s,t.rejectedSyncPromise=function(e){return new s(((t,r)=>{r(e)}))},t.resolvedSyncPromise=function(e){return new s((t=>{t(e)}))}},88587:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987);function o(){return Date.now()/1e3}const s=function(){const{performance:e}=n.GLOBAL_OBJ;if(!e||!e.now)return o;const t=Date.now()-e.now(),r=null==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/1e3}();t._browserPerformanceTimeOriginMode=void 0;const i=(()=>{const{performance:e}=n.GLOBAL_OBJ;if(!e||!e.now)return void(t._browserPerformanceTimeOriginMode="none");const r=36e5,o=e.now(),s=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+o-s):r,a=i<r,c=e.timing&&e.timing.navigationStart,l="number"==typeof c?Math.abs(c+o-s):r;return a||l<r?i<=l?(t._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(t._browserPerformanceTimeOriginMode="navigationStart",c):(t._browserPerformanceTimeOriginMode="dateNow",s)})();t.browserPerformanceTimeOrigin=i,t.dateTimestampInSeconds=o,t.timestampInSeconds=s},74890:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(38558),o=r(72322),s=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(e){if(!e)return;const t=e.match(s);if(!t)return;let r;return"1"===t[3]?r=!0:"0"===t[3]&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}t.TRACEPARENT_REGEXP=s,t.extractTraceparentData=i,t.generateSentryTraceHeader=function(e=o.uuid4(),t=o.uuid4().substring(16),r){let n="";return void 0!==r&&(n=r?"-1":"-0"),`${e}-${t}${n}`},t.propagationContextFromHeaders=function(e,t){const r=i(e),s=n.baggageHeaderToDynamicSamplingContext(t),{traceId:a,parentSpanId:c,parentSampled:l}=r||{};return r?{traceId:a||o.uuid4(),parentSpanId:c||o.uuid4().substring(16),spanId:o.uuid4().substring(16),sampled:l,dsc:s||{}}:{traceId:a||o.uuid4(),spanId:o.uuid4().substring(16)}}},89657:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfUrlSegments=function(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length},t.getSanitizedUrlString=function(e){const{protocol:t,host:r,path:n}=e;return`${t?`${t}://`:""}${r&&r.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||""}${n}`},t.parseUrl=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}},t.stripUrlQueryAndFragment=function(e){return e.split(/[?#]/,1)[0]}},32123:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},18940:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"];t.getClientIPAddress=function(e){return r.map((t=>{const r=e[t],n=Array.isArray(r)?r.join(";"):r;return"Forwarded"===t?function(e){if(!e)return null;for(const t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}(n):n&&n.split(",").map((e=>e.trim()))})).reduce(((e,t)=>t?e.concat(t):e),[]).find((e=>null!==e&&/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(e)))||null},t.ipHeaderNames=r},93423:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987).GLOBAL_OBJ;t.supportsHistory=function(){const e=n.chrome,t=e&&e.app&&e.app.runtime,r="history"in n&&!!n.history.pushState&&!!n.history.replaceState;return!t&&r}},30306:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(84987);t.vercelWaitUntil=function(e){const t=n.GLOBAL_OBJ[Symbol.for("@vercel/request-context")],r=t&&t.get&&t.get()?t.get():{};r&&r.waitUntil&&r.waitUntil(e)}},29572:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION="8.40.0"},84987:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(29572),o=globalThis;t.GLOBAL_OBJ=o,t.getGlobalSingleton=function(e,t,r){const s=r||o,i=s.__SENTRY__=s.__SENTRY__||{},a=i[n.SDK_VERSION]=i[n.SDK_VERSION]||{};return a[e]||(a[e]=t())}},5013:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(93754);r(29572),r(8950),r(53910);const o=r(82093);r(88587),r(87120);const s=r(19090),i=r(54583);function a(e,t,r){e[t]=s.merge(e[t],r,1)}t.applyScopeDataToEvent=function(e,t){const{fingerprint:r,span:s,breadcrumbs:a,sdkProcessingMetadata:c}=t;!function(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,transactionName:c}=t,l=o.dropUndefinedKeys(r);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=o.dropUndefinedKeys(n);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const p=o.dropUndefinedKeys(s);p&&Object.keys(p).length&&(e.user={...p,...e.user});const d=o.dropUndefinedKeys(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),a&&(e.level=a),c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),s&&function(e,t){e.contexts={trace:i.spanToTraceContext(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContextFromSpan(t),...e.sdkProcessingMetadata};const r=i.getRootSpan(t),o=i.spanToJSON(r).description;o&&!e.transaction&&"transaction"===e.type&&(e.transaction=o)}(e,s),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,r),function(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}(e,a),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,c)},t.mergeAndOverwriteScopeData=a,t.mergeScopeData=function(e,t){const{extra:r,tags:n,user:o,contexts:i,level:c,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:p,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:g}=t;a(e,"extra",r),a(e,"tags",n),a(e,"user",o),a(e,"contexts",i),e.sdkProcessingMetadata=s.merge(e.sdkProcessingMetadata,l,2),c&&(e.level=c),m&&(e.transactionName=m),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),p.length&&(e.fingerprint=[...e.fingerprint,...p]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}},76354:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44478);t.handleCallbackErrors=function(e,t,r=(()=>{})){let o;try{o=e()}catch(e){throw t(e),r(),e}return function(e,t,r){return n.isThenable(e)?e.then((e=>(r(),e)),(e=>{throw t(e),r(),e})):(r(),e)}(o,t,r)}},60073:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(49564);t.hasTracingEnabled=function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=n.getClient(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}},46877:(e,t)=>{function r(e){return"/"===e[e.length-1]?e.slice(0,-1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.isSentryRequestUrl=function(e,t){const n=t&&t.getDsn(),o=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){return!!t&&r(e)===r(t)}(e,o)}},19090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function e(t,r,n=2){if(!r||"object"!=typeof r||n<=0)return r;if(t&&r&&0===Object.keys(r).length)return t;const o={...t};for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(o[t]=e(o[t],r[t],n-1));return o}},145:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(20647);t.getTraceMetaTags=function(){return Object.entries(n.getTraceData()).map((([e,t])=>`<meta name="${e}" content="${t}"/>`)).join("\n")}},72979:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parameterize=function(e,...t){const r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r}},10393:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68974),o=r(53910);t.parseSampleRate=function(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;n.DEBUG_BUILD&&o.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}},31485:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(42501),o=r(49564),s=r(51929),i=r(69640),a=r(64008),c=r(72322),l=r(56507),u=r(43591),p=r(88587),d=r(5013);function h(e,t){const r=a.getFilenameToDebugIdMap(t);try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=r[e.filename])}))}))}catch(e){}}function f(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{r.push({type:"sourcemap",code_file:e,debug_id:t})}))}function m(e,t){if(!t)return e;const r=e?e.clone():new i.Scope;return r.update(t),r}const g=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];t.applyDebugIds=h,t.applyDebugMeta=f,t.parseEventHintOrCaptureContext=function(e){if(e)return function(e){return e instanceof i.Scope||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>g.includes(e)))}(e)?{captureContext:e}:e},t.prepareEvent=function(e,t,r,i,a,g){const{normalizeDepth:E=3,normalizeMaxBreadth:S=1e3}=e,_={...t,event_id:t.event_id||r.event_id||c.uuid4(),timestamp:t.timestamp||p.dateTimestampInSeconds()},y=r.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:r,release:o,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?r:n.DEFAULT_ENVIRONMENT),void 0===e.release&&void 0!==o&&(e.release=o),void 0===e.dist&&void 0!==s&&(e.dist=s),e.message&&(e.message=u.truncate(e.message,i));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=u.truncate(a.value,i));const c=e.request;c&&c.url&&(c.url=u.truncate(c.url,i))}(_,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(_,y),a&&a.emit("applyFrameMetadata",t),void 0===t.type&&h(_,e.stackParser);const A=m(i,r.captureContext);r.mechanism&&c.addExceptionMechanism(_,r.mechanism);const v=a?a.getEventProcessors():[],T=o.getGlobalScope().getScopeData();if(g){const e=g.getScopeData();d.mergeScopeData(T,e)}if(A){const e=A.getScopeData();d.mergeScopeData(T,e)}const b=[...r.attachments||[],...T.attachments];b.length&&(r.attachments=b),d.applyScopeDataToEvent(_,T);const I=[...v,...T.eventProcessors];return s.notifyEventProcessors(I,_,r).then((e=>(e&&f(e),"number"==typeof E&&E>0?function(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:l.normalize(e.data,t,r)}})))},...e.user&&{user:l.normalize(e.user,t,r)},...e.contexts&&{contexts:l.normalize(e.contexts,t,r)},...e.extra&&{extra:l.normalize(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=l.normalize(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map((e=>({...e,...e.data&&{data:l.normalize(e.data,t,r)}})))),n}(e,E,S):e)))}},55303:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(29572);t.applySdkMetadata=function(e,t,r=[t],o="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:r.map((e=>({name:`${o}:@sentry/${e}`,version:n.SDK_VERSION}))),version:n.SDK_VERSION}),e._metadata=s}},64865:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(82093),o="_sentrySpan";t._getSpanForScope=function(e){return e[o]},t._setSpanForScope=function(e,t){t?n.addNonEnumerableProperty(e,o,t):delete e[o]}},54583:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(42810),o=r(73220),s=r(49564),i=r(14021),a=r(52751),c=r(15363),l=r(82093),u=r(88587),p=r(74890),d=r(64865);function h(e){return"number"==typeof e?f(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?f(e.getTime()):u.timestampInSeconds()}function f(e){return e>9999999999?e/1e3:e}function m(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:n,startTime:o,name:s,endTime:c,parentSpanId:u,status:p}=e;return l.dropUndefinedKeys({span_id:t,trace_id:r,data:n,description:s,parent_span_id:u,start_timestamp:h(o),timestamp:h(c)||void 0,status:E(p),op:n[a.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:n[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:i.getMetricSummaryJsonForSpan(e)})}return{span_id:t,trace_id:r}}catch(e){return{}}}function g(e){const{traceFlags:t}=e.spanContext();return 1===t}function E(e){if(e&&e.code!==c.SPAN_STATUS_UNSET)return e.code===c.SPAN_STATUS_OK?"ok":e.message||"unknown_error"}const S="_sentryChildSpans",_="_sentryRootSpan";function y(){const e=o.getMainCarrier(),t=n.getAsyncContextStrategy(e);return t.getActiveSpan?t.getActiveSpan():d._getSpanForScope(s.getCurrentScope())}t.TRACE_FLAG_NONE=0,t.TRACE_FLAG_SAMPLED=1,t.addChildSpanToSpan=function(e,t){const r=e[_]||e;l.addNonEnumerableProperty(t,_,r),e[S]?e[S].add(t):l.addNonEnumerableProperty(e,S,new Set([t]))},t.getActiveSpan=y,t.getRootSpan=function(e){return e[_]||e},t.getSpanDescendants=function(e){const t=new Set;return function e(r){if(!t.has(r)&&g(r)){t.add(r);const n=r[S]?Array.from(r[S]):[];for(const t of n)e(t)}}(e),Array.from(t)},t.getStatusMessage=E,t.removeChildSpanFromSpan=function(e,t){e[S]&&e[S].delete(t)},t.spanIsSampled=g,t.spanTimeInputToSeconds=h,t.spanToJSON=m,t.spanToTraceContext=function(e){const{spanId:t,traceId:r}=e.spanContext(),{parent_span_id:n}=m(e);return l.dropUndefinedKeys({parent_span_id:n,span_id:t,trace_id:r})},t.spanToTraceHeader=function(e){const{traceId:t,spanId:r}=e.spanContext(),n=g(e);return p.generateSentryTraceHeader(t,r,n)},t.spanToTransactionTraceContext=function(e){const{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,origin:a}=m(e);return l.dropUndefinedKeys({parent_span_id:s,span_id:t,trace_id:r,data:n,op:o,status:i,origin:a})},t.updateMetricSummaryOnActiveSpan=function(e,t,r,n,o,s){const a=y();a&&i.updateMetricSummaryOnSpan(a,e,t,r,n,o,s)}},20647:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(42810),o=r(73220),s=r(49564),i=r(79183);r(44038),r(29572),r(8950);const a=r(53910);r(68974),r(88587);const c=r(54583),l=r(74890),u=r(93754),p=r(38558);function d(e){if(!e||!e.length)return!1;const t="[-!#$%&'*+.^_`|~A-Za-z0-9]+",r="[!#-+-./0-9:<=>?@A-Z\\[\\]a-z{-}]+",n="\\s*";return new RegExp(`^${t}${n}=${n}${r}(${n},${n}${t}${n}=${n}${r})*$`).test(e)}t.getTraceData=function(){if(!i.isEnabled())return{};const e=o.getMainCarrier(),t=n.getAsyncContextStrategy(e);if(t.getTraceData)return t.getTraceData();const r=s.getClient(),h=s.getCurrentScope(),f=c.getActiveSpan(),{dsc:m,sampled:g,traceId:E}=h.getPropagationContext(),S=f&&c.getRootSpan(f),_=f?c.spanToTraceHeader(f):l.generateSentryTraceHeader(E,void 0,g),y=S?u.getDynamicSamplingContextFromSpan(S):m||(r?u.getDynamicSamplingContextFromClient(E,r):void 0),A=p.dynamicSamplingContextToSentryBaggageHeader(y);if(!l.TRACEPARENT_REGEXP.test(_))return a.logger.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const v=d(A);return v||a.logger.warn('Invalid baggage data. Not returning "baggage" value'),{"sentry-trace":_,...v&&{baggage:A}}},t.isValidBaggageString=d},5695:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=[["january","1"],["february","2"],["march","3"],["april","4"],["may","5"],["june","6"],["july","7"],["august","8"],["september","9"],["october","10"],["november","11"],["december","12"],["jan","1"],["feb","2"],["mar","3"],["apr","4"],["may","5"],["jun","6"],["jul","7"],["aug","8"],["sep","9"],["oct","10"],["nov","11"],["dec","12"],["sunday","0"],["monday","1"],["tuesday","2"],["wednesday","3"],["thursday","4"],["friday","5"],["saturday","6"],["sun","0"],["mon","1"],["tue","2"],["wed","3"],["thu","4"],["fri","5"],["sat","6"]];t.replaceCronNames=function(e){return r.reduce(((e,[t,r])=>e.replace(new RegExp(t,"gi"),r)),e)}},11734:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=r(5695),s="Automatic instrumentation of CronJob only supports crontab string";t.instrumentCron=function(e,t){let r=!1;return new Proxy(e,{construct(e,i){const[a,c,l,u,p,...d]=i;if("string"!=typeof a)throw new Error(s);if(r)throw new Error(`A job named '${t}' has already been scheduled`);r=!0;const h=o.replaceCronNames(a);return new e(a,(async function(e,r){return n.withMonitor(t,(async()=>{try{await c(e,r)}catch(e){throw n.captureException(e),e}}),{schedule:{type:"crontab",value:h},timezone:p||void 0})}),l,u,p,...d)},get:(e,i)=>"from"===i?i=>{const{cronTime:a,onTick:c,timeZone:l}=i;if("string"!=typeof a)throw new Error(s);if(r)throw new Error(`A job named '${t}' has already been scheduled`);r=!0;const u=o.replaceCronNames(a);return i.onTick=async(e,r)=>n.withMonitor(t,(async()=>{try{await c(e,r)}catch(e){throw n.captureException(e),e}}),{schedule:{type:"crontab",value:u},timezone:l||void 0}),e.from(i)}:e[i]})}},83284:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(11734),o=r(15991),s=r(42069),i={instrumentCron:n.instrumentCron,instrumentNodeCron:o.instrumentNodeCron,instrumentNodeSchedule:s.instrumentNodeSchedule};t.cron=i},15991:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(37872),s=r(5695);t.instrumentNodeCron=function(e){return new Proxy(e,{get:(e,t)=>"schedule"===t&&e.schedule?new Proxy(e.schedule,{apply(e,t,r){const[i,a,c]=r;if(!n([c,"optionalAccess",e=>e.name]))throw new Error('Missing "name" for scheduled job. A name is required for Sentry check-in monitoring.');return e.apply(t,[i,async function(){return o.withMonitor(c.name,(async()=>{try{return await a()}catch(e){throw o.captureException(e),e}}),{schedule:{type:"crontab",value:s.replaceCronNames(i)},timezone:n([c,"optionalAccess",e=>e.timezone])})},c])}}):e[t]})}},42069:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(37872),s=r(5695);t.instrumentNodeSchedule=function(e){return new Proxy(e,{get:(e,t)=>"scheduleJob"===t?new Proxy(e.scheduleJob,{apply(e,t,r){const[i,a,c]=r;if("string"!=typeof i||"string"!=typeof a||"function"!=typeof c)throw new Error("Automatic instrumentation of 'node-schedule' requires the first parameter of 'scheduleJob' to be a job name string and the second parameter to be a crontab string");const l=i,u=a;return e.apply(t,[l,u,async function(){return o.withMonitor(l,(async()=>{await n([c,"optionalCall",e=>e()])}),{schedule:{type:"crontab",value:s.replaceCronNames(u)}})}])}}):e[t]})}},13169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=r},62251:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(27284),o=r(76474),s=r(78852),i=r(95022),a=r(82660),c=r(8421),l=r(85055),u=r(9558),p=r(82644),d=r(99804),h=r(41759),f=r(29606),m=r(24214),g=r(55203),E=r(83628),S=r(51021),_=r(80642),y=r(9853),A=r(20160),v=r(85576),T=r(76649),b=r(86715),I=r(81799),R=r(81732),O=r(90871),N=r(41939),C=r(98276),L=r(29871),w=r(13892),P=r(81435),M=r(94165),x=r(92519),k=r(11684),D=r(22044),V=r(73086),U=r(40013),G=r(34220),$=r(23310),B=r(45874),F=r(75376),j=r(32477),H=r(60700),W=r(14709),X=r(83284),Y=r(37872),K=r(25738);t.httpIntegration=n.httpIntegration,t.nativeNodeFetchIntegration=o.nativeNodeFetchIntegration,t.fsIntegration=s.fsIntegration,t.consoleIntegration=i.consoleIntegration,t.nodeContextIntegration=a.nodeContextIntegration,t.contextLinesIntegration=c.contextLinesIntegration,t.localVariablesIntegration=l.localVariablesIntegration,t.modulesIntegration=u.modulesIntegration,t.onUncaughtExceptionIntegration=p.onUncaughtExceptionIntegration,t.onUnhandledRejectionIntegration=d.onUnhandledRejectionIntegration,t.anrIntegration=h.anrIntegration,t.expressErrorHandler=f.expressErrorHandler,t.expressIntegration=f.expressIntegration,t.setupExpressErrorHandler=f.setupExpressErrorHandler,t.fastifyIntegration=m.fastifyIntegration,t.setupFastifyErrorHandler=m.setupFastifyErrorHandler,t.graphqlIntegration=g.graphqlIntegration,t.kafkaIntegration=E.kafkaIntegration,t.lruMemoizerIntegration=S.lruMemoizerIntegration,t.mongoIntegration=_.mongoIntegration,t.mongooseIntegration=y.mongooseIntegration,t.mysqlIntegration=A.mysqlIntegration,t.mysql2Integration=v.mysql2Integration,t.redisIntegration=T.redisIntegration,t.nestIntegration=b.nestIntegration,t.setupNestErrorHandler=b.setupNestErrorHandler,t.postgresIntegration=I.postgresIntegration,t.prismaIntegration=R.prismaIntegration,t.hapiIntegration=O.hapiIntegration,t.setupHapiErrorHandler=O.setupHapiErrorHandler,t.koaIntegration=N.koaIntegration,t.setupKoaErrorHandler=N.setupKoaErrorHandler,t.connectIntegration=C.connectIntegration,t.setupConnectErrorHandler=C.setupConnectErrorHandler,t.spotlightIntegration=L.spotlightIntegration,t.knexIntegration=w.knexIntegration,t.tediousIntegration=P.tediousIntegration,t.genericPoolIntegration=M.genericPoolIntegration,t.dataloaderIntegration=x.dataloaderIntegration,t.amqplibIntegration=k.amqplibIntegration,t.childProcessIntegration=D.childProcessIntegration,t.processThreadBreadcrumbIntegration=D.processThreadBreadcrumbIntegration,t.SentryContextManager=V.SentryContextManager,t.generateInstrumentOnce=U.generateInstrumentOnce,t.getDefaultIntegrations=G.getDefaultIntegrations,t.getDefaultIntegrationsWithoutPerformance=G.getDefaultIntegrationsWithoutPerformance,t.init=G.init,t.initWithoutDefaultIntegrations=G.initWithoutDefaultIntegrations,t.validateOpenTelemetrySetup=G.validateOpenTelemetrySetup,t.initOpenTelemetry=$.initOpenTelemetry,t.preloadOpenTelemetry=$.preloadOpenTelemetry,t.getAutoPerformanceIntegrations=B.getAutoPerformanceIntegrations,t.defaultStackParser=F.defaultStackParser,t.getSentryRelease=F.getSentryRelease,t.createGetModuleFromFilename=j.createGetModuleFromFilename,t.makeNodeTransport=H.makeNodeTransport,t.NodeClient=W.NodeClient,t.cron=X.cron,t.DEFAULT_USER_INCLUDES=Y.DEFAULT_USER_INCLUDES,t.SDK_VERSION=Y.SDK_VERSION,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=Y.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=Y.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=Y.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=Y.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.Scope=Y.Scope,t.addBreadcrumb=Y.addBreadcrumb,t.addEventProcessor=Y.addEventProcessor,t.addIntegration=Y.addIntegration,t.addRequestDataToEvent=Y.addRequestDataToEvent,t.captureCheckIn=Y.captureCheckIn,t.captureConsoleIntegration=Y.captureConsoleIntegration,t.captureEvent=Y.captureEvent,t.captureException=Y.captureException,t.captureFeedback=Y.captureFeedback,t.captureMessage=Y.captureMessage,t.captureSession=Y.captureSession,t.close=Y.close,t.createTransport=Y.createTransport,t.debugIntegration=Y.debugIntegration,t.dedupeIntegration=Y.dedupeIntegration,t.endSession=Y.endSession,t.extraErrorDataIntegration=Y.extraErrorDataIntegration,t.extractRequestData=Y.extractRequestData,t.flush=Y.flush,t.functionToStringIntegration=Y.functionToStringIntegration,t.getActiveSpan=Y.getActiveSpan,t.getClient=Y.getClient,t.getCurrentHub=Y.getCurrentHub,t.getCurrentScope=Y.getCurrentScope,t.getGlobalScope=Y.getGlobalScope,t.getIsolationScope=Y.getIsolationScope,t.getRootSpan=Y.getRootSpan,t.getSpanDescendants=Y.getSpanDescendants,t.getSpanStatusFromHttpCode=Y.getSpanStatusFromHttpCode,t.getTraceData=Y.getTraceData,t.getTraceMetaTags=Y.getTraceMetaTags,t.inboundFiltersIntegration=Y.inboundFiltersIntegration,t.isInitialized=Y.isInitialized,t.lastEventId=Y.lastEventId,t.linkedErrorsIntegration=Y.linkedErrorsIntegration,t.metrics=Y.metricsDefault,t.parameterize=Y.parameterize,t.profiler=Y.profiler,t.requestDataIntegration=Y.requestDataIntegration,t.rewriteFramesIntegration=Y.rewriteFramesIntegration,t.sessionTimingIntegration=Y.sessionTimingIntegration,t.setContext=Y.setContext,t.setCurrentClient=Y.setCurrentClient,t.setExtra=Y.setExtra,t.setExtras=Y.setExtras,t.setHttpStatus=Y.setHttpStatus,t.setMeasurement=Y.setMeasurement,t.setTag=Y.setTag,t.setTags=Y.setTags,t.setUser=Y.setUser,t.spanToBaggageHeader=Y.spanToBaggageHeader,t.spanToJSON=Y.spanToJSON,t.spanToTraceHeader=Y.spanToTraceHeader,t.startInactiveSpan=Y.startInactiveSpan,t.startNewTrace=Y.startNewTrace,t.startSession=Y.startSession,t.startSpan=Y.startSpan,t.startSpanManual=Y.startSpanManual,t.suppressTracing=Y.suppressTracing,t.trpcMiddleware=Y.trpcMiddleware,t.withActiveSpan=Y.withActiveSpan,t.withIsolationScope=Y.withIsolationScope,t.withMonitor=Y.withMonitor,t.withScope=Y.withScope,t.zodErrorsIntegration=Y.zodErrorsIntegration,t.addOpenTelemetryInstrumentation=K.addOpenTelemetryInstrumentation,t.continueTrace=K.continueTrace,t.setNodeAsyncContextStrategy=K.setOpenTelemetryContextAsyncContextStrategy},41759:(e,t,r)=>{var{_optionalChain:n,_optionalChainDelete:o}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const s=r(53053),i=r(75919),a=r(37872),c=r(51055),l="LyohIEBzZW50cnkvbm9kZSA4LjQwLjAgKDdmZjQ2N2MpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyB0fWZyb20ibm9kZTppbnNwZWN0b3IiO2ltcG9ydHtwYXJlbnRQb3J0IGFzIG4sd29ya2VyRGF0YSBhcyBlfWZyb20ibm9kZTp3b3JrZXJfdGhyZWFkcyI7aW1wb3J0e3Bvc2l4IGFzIHIsc2VwIGFzIG99ZnJvbSJub2RlOnBhdGgiO2ltcG9ydCphcyBzIGZyb20ibm9kZTpodHRwIjtpbXBvcnQqYXMgaSBmcm9tIm5vZGU6aHR0cHMiO2ltcG9ydHtSZWFkYWJsZSBhcyBjfWZyb20ibm9kZTpzdHJlYW0iO2ltcG9ydHtjcmVhdGVHemlwIGFzIHV9ZnJvbSJub2RlOnpsaWIiO2ltcG9ydCphcyBhIGZyb20ibm9kZTpuZXQiO2ltcG9ydCphcyBmIGZyb20ibm9kZTp0bHMiO2NvbnN0IGg9InVuZGVmaW5lZCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fLHA9IjguNDAuMCIsbD1nbG9iYWxUaGlzO2Z1bmN0aW9uIGQodCxuLGUpe2NvbnN0IHI9bCxvPXIuX19TRU5UUllfXz1yLl9fU0VOVFJZX198fHt9LHM9b1twXT1vW3BdfHx7fTtyZXR1cm4gc1t0XXx8KHNbdF09bigpKX1jb25zdCBtPSJ1bmRlZmluZWQiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXyx5PVsiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwibG9nIiwiYXNzZXJ0IiwidHJhY2UiXSxnPXt9O2Z1bmN0aW9uIGIodCl7aWYoISgiY29uc29sZSJpbiBsKSlyZXR1cm4gdCgpO2NvbnN0IG49bC5jb25zb2xlLGU9e30scj1PYmplY3Qua2V5cyhnKTtyLmZvckVhY2goKHQ9Pntjb25zdCByPWdbdF07ZVt0XT1uW3RdLG5bdF09cn0pKTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e3IuZm9yRWFjaCgodD0+e25bdF09ZVt0XX0pKX19Y29uc3QgXz1kKCJsb2dnZXIiLChmdW5jdGlvbigpe2xldCB0PSExO2NvbnN0IG49e2VuYWJsZTooKT0+e3Q9ITB9LGRpc2FibGU6KCk9Pnt0PSExfSxpc0VuYWJsZWQ6KCk9PnR9O3JldHVybiBtP3kuZm9yRWFjaCgoZT0+e25bZV09KC4uLm4pPT57dCYmYigoKCk9PntsLmNvbnNvbGVbZV0oYFNlbnRyeSBMb2dnZXIgWyR7ZX1dOmAsLi4ubil9KSl9fSkpOnkuZm9yRWFjaCgodD0+e25bdF09KCk9Pnt9fSkpLG59KSksdj01MCx3PSI/IixTPS9jYXB0dXJlTWVzc2FnZXxjYXB0dXJlRXhjZXB0aW9uLztmdW5jdGlvbiAkKHQpe3JldHVybiB0W3QubGVuZ3RoLTFdfHx7fX1jb25zdCBFPSI8YW5vbnltb3VzPiI7ZnVuY3Rpb24geCgpe3JldHVybiBOKGwpLGx9ZnVuY3Rpb24gTih0KXtjb25zdCBuPXQuX19TRU5UUllfXz10Ll9fU0VOVFJZX198fHt9O3JldHVybiBuLnZlcnNpb249bi52ZXJzaW9ufHxwLG5bcF09bltwXXx8e319Y29uc3QgQz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIFQodCxuKXtyZXR1cm4gQy5jYWxsKHQpPT09YFtvYmplY3QgJHtufV1gfWZ1bmN0aW9uIGoodCl7cmV0dXJuIFQodCwiU3RyaW5nIil9ZnVuY3Rpb24gayh0KXtyZXR1cm4gVCh0LCJPYmplY3QiKX1mdW5jdGlvbiBPKHQpe3JldHVybiBCb29sZWFuKHQmJnQudGhlbiYmImZ1bmN0aW9uIj09dHlwZW9mIHQudGhlbil9ZnVuY3Rpb24gUih0LG4pe3RyeXtyZXR1cm4gdCBpbnN0YW5jZW9mIG59Y2F0Y2godCl7cmV0dXJuITF9fWNvbnN0IEQ9bCxBPTgwO2Z1bmN0aW9uIEkodCxuKXtjb25zdCBlPXQscj1bXTtpZighZXx8IWUudGFnTmFtZSlyZXR1cm4iIjtpZihELkhUTUxFbGVtZW50JiZlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJmUuZGF0YXNldCl7aWYoZS5kYXRhc2V0LnNlbnRyeUNvbXBvbmVudClyZXR1cm4gZS5kYXRhc2V0LnNlbnRyeUNvbXBvbmVudDtpZihlLmRhdGFzZXQuc2VudHJ5RWxlbWVudClyZXR1cm4gZS5kYXRhc2V0LnNlbnRyeUVsZW1lbnR9ci5wdXNoKGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKTtjb25zdCBvPW4mJm4ubGVuZ3RoP24uZmlsdGVyKCh0PT5lLmdldEF0dHJpYnV0ZSh0KSkpLm1hcCgodD0+W3QsZS5nZXRBdHRyaWJ1dGUodCldKSk6bnVsbDtpZihvJiZvLmxlbmd0aClvLmZvckVhY2goKHQ9PntyLnB1c2goYFske3RbMF19PSIke3RbMV19Il1gKX0pKTtlbHNle2UuaWQmJnIucHVzaChgIyR7ZS5pZH1gKTtjb25zdCB0PWUuY2xhc3NOYW1lO2lmKHQmJmoodCkpe2NvbnN0IG49dC5zcGxpdCgvXHMrLyk7Zm9yKGNvbnN0IHQgb2YgbilyLnB1c2goYC4ke3R9YCl9fWNvbnN0IHM9WyJhcmlhLWxhYmVsIiwidHlwZSIsIm5hbWUiLCJ0aXRsZSIsImFsdCJdO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG49ZS5nZXRBdHRyaWJ1dGUodCk7biYmci5wdXNoKGBbJHt0fT0iJHtufSJdYCl9cmV0dXJuIHIuam9pbigiIil9ZnVuY3Rpb24gUCh0KXtpZihmdW5jdGlvbih0KXtzd2l0Y2goQy5jYWxsKHQpKXtjYXNlIltvYmplY3QgRXJyb3JdIjpjYXNlIltvYmplY3QgRXhjZXB0aW9uXSI6Y2FzZSJbb2JqZWN0IERPTUV4Y2VwdGlvbl0iOmNhc2UiW29iamVjdCBXZWJBc3NlbWJseS5FeGNlcHRpb25dIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiBSKHQsRXJyb3IpfX0odCkpcmV0dXJue21lc3NhZ2U6dC5tZXNzYWdlLG5hbWU6dC5uYW1lLHN0YWNrOnQuc3RhY2ssLi4uTSh0KX07aWYobj10LCJ1bmRlZmluZWQiIT10eXBlb2YgRXZlbnQmJlIobixFdmVudCkpe2NvbnN0IG49e3R5cGU6dC50eXBlLHRhcmdldDpVKHQudGFyZ2V0KSxjdXJyZW50VGFyZ2V0OlUodC5jdXJyZW50VGFyZ2V0KSwuLi5NKHQpfTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEN1c3RvbUV2ZW50JiZSKHQsQ3VzdG9tRXZlbnQpJiYobi5kZXRhaWw9dC5kZXRhaWwpLG59cmV0dXJuIHQ7dmFyIG59ZnVuY3Rpb24gVSh0KXt0cnl7cmV0dXJuIG49dCwidW5kZWZpbmVkIiE9dHlwZW9mIEVsZW1lbnQmJlIobixFbGVtZW50KT9mdW5jdGlvbih0LG49e30pe2lmKCF0KXJldHVybiI8dW5rbm93bj4iO3RyeXtsZXQgZT10O2NvbnN0IHI9NSxvPVtdO2xldCBzPTAsaT0wO2NvbnN0IGM9IiA+ICIsdT1jLmxlbmd0aDtsZXQgYTtjb25zdCBmPUFycmF5LmlzQXJyYXkobik/bjpuLmtleUF0dHJzLGg9IUFycmF5LmlzQXJyYXkobikmJm4ubWF4U3RyaW5nTGVuZ3RofHxBO2Zvcig7ZSYmcysrPHImJihhPUkoZSxmKSwhKCJodG1sIj09PWF8fHM+MSYmaStvLmxlbmd0aCp1K2EubGVuZ3RoPj1oKSk7KW8ucHVzaChhKSxpKz1hLmxlbmd0aCxlPWUucGFyZW50Tm9kZTtyZXR1cm4gby5yZXZlcnNlKCkuam9pbihjKX1jYXRjaCh0KXtyZXR1cm4iPHVua25vd24+In19KHQpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1jYXRjaCh0KXtyZXR1cm4iPHVua25vd24+In12YXIgbn1mdW5jdGlvbiBNKHQpe2lmKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQpe2NvbnN0IG49e307Zm9yKGNvbnN0IGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmKG5bZV09dFtlXSk7cmV0dXJuIG59cmV0dXJue319ZnVuY3Rpb24gTCh0KXtyZXR1cm4gQih0LG5ldyBNYXApfWZ1bmN0aW9uIEIodCxuKXtpZihmdW5jdGlvbih0KXtpZighayh0KSlyZXR1cm4hMTt0cnl7Y29uc3Qgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IubmFtZTtyZXR1cm4hbnx8Ik9iamVjdCI9PT1ufWNhdGNoKHQpe3JldHVybiEwfX0odCkpe2NvbnN0IGU9bi5nZXQodCk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZTtjb25zdCByPXt9O24uc2V0KHQscik7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkpdm9pZCAwIT09dFtlXSYmKHJbZV09Qih0W2VdLG4pKTtyZXR1cm4gcn1pZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPW4uZ2V0KHQpO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGU7Y29uc3Qgcj1bXTtyZXR1cm4gbi5zZXQodCxyKSx0LmZvckVhY2goKHQ9PntyLnB1c2goQih0LG4pKX0pKSxyfXJldHVybiB0fWNvbnN0IEc9MWUzO2Z1bmN0aW9uIEooKXtyZXR1cm4gRGF0ZS5ub3coKS9HfWNvbnN0IFk9ZnVuY3Rpb24oKXtjb25zdHtwZXJmb3JtYW5jZTp0fT1sO2lmKCF0fHwhdC5ub3cpcmV0dXJuIEo7Y29uc3Qgbj1EYXRlLm5vdygpLXQubm93KCksZT1udWxsPT10LnRpbWVPcmlnaW4/bjp0LnRpbWVPcmlnaW47cmV0dXJuKCk9PihlK3Qubm93KCkpL0d9KCk7ZnVuY3Rpb24geigpe2NvbnN0IHQ9bCxuPXQuY3J5cHRvfHx0Lm1zQ3J5cHRvO2xldCBlPSgpPT4xNipNYXRoLnJhbmRvbSgpO3RyeXtpZihuJiZuLnJhbmRvbVVVSUQpcmV0dXJuIG4ucmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywiIik7biYmbi5nZXRSYW5kb21WYWx1ZXMmJihlPSgpPT57Y29uc3QgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gbi5nZXRSYW5kb21WYWx1ZXModCksdFswXX0pfWNhdGNoKHQpe31yZXR1cm4oWzFlN10rMWUzKzRlMys4ZTMrMWUxMSkucmVwbGFjZSgvWzAxOF0vZywodD0+KHReKDE1JmUoKSk+PnQvNCkudG9TdHJpbmcoMTYpKSl9dmFyIEg7ZnVuY3Rpb24gVyh0KXtyZXR1cm4gbmV3IEYoKG49PntuKHQpfSkpfSgoKT0+e2NvbnN0e3BlcmZvcm1hbmNlOnR9PWw7aWYoIXR8fCF0Lm5vdylyZXR1cm47Y29uc3Qgbj0zNmU1LGU9dC5ub3coKSxyPURhdGUubm93KCksbz10LnRpbWVPcmlnaW4/TWF0aC5hYnModC50aW1lT3JpZ2luK2Utcik6bixzPW88bixpPXQudGltaW5nJiZ0LnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsYz0ibnVtYmVyIj09dHlwZW9mIGk/TWF0aC5hYnMoaStlLXIpOm47KHN8fGM8bikmJihvPD1jJiZ0LnRpbWVPcmlnaW4pfSkoKSxmdW5jdGlvbih0KXt0W3QuUEVORElORz0wXT0iUEVORElORyI7dFt0LlJFU09MVkVEPTFdPSJSRVNPTFZFRCI7dFt0LlJFSkVDVEVEPTJdPSJSRUpFQ1RFRCJ9KEh8fChIPXt9KSk7Y2xhc3MgRntjb25zdHJ1Y3Rvcih0KXtGLnByb3RvdHlwZS5fX2luaXQuY2FsbCh0aGlzKSxGLnByb3RvdHlwZS5fX2luaXQyLmNhbGwodGhpcyksRi5wcm90b3R5cGUuX19pbml0My5jYWxsKHRoaXMpLEYucHJvdG90eXBlLl9faW5pdDQuY2FsbCh0aGlzKSx0aGlzLnQ9SC5QRU5ESU5HLHRoaXMubz1bXTt0cnl7dCh0aGlzLmksdGhpcy51KX1jYXRjaCh0KXt0aGlzLnUodCl9fXRoZW4odCxuKXtyZXR1cm4gbmV3IEYoKChlLHIpPT57dGhpcy5vLnB1c2goWyExLG49PntpZih0KXRyeXtlKHQobikpfWNhdGNoKHQpe3IodCl9ZWxzZSBlKG4pfSx0PT57aWYobil0cnl7ZShuKHQpKX1jYXRjaCh0KXtyKHQpfWVsc2Ugcih0KX1dKSx0aGlzLmgoKX0pKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy50aGVuKCh0PT50KSx0KX1maW5hbGx5KHQpe3JldHVybiBuZXcgRigoKG4sZSk9PntsZXQgcixvO3JldHVybiB0aGlzLnRoZW4oKG49PntvPSExLHI9bix0JiZ0KCl9KSwobj0+e289ITAscj1uLHQmJnQoKX0pKS50aGVuKCgoKT0+e28/ZShyKTpuKHIpfSkpfSkpfV9faW5pdCgpe3RoaXMuaT10PT57dGhpcy5wKEguUkVTT0xWRUQsdCl9fV9faW5pdDIoKXt0aGlzLnU9dD0+e3RoaXMucChILlJFSkVDVEVELHQpfX1fX2luaXQzKCl7dGhpcy5wPSh0LG4pPT57dGhpcy50PT09SC5QRU5ESU5HJiYoTyhuKT9uLnRoZW4odGhpcy5pLHRoaXMudSk6KHRoaXMudD10LHRoaXMubD1uLHRoaXMuaCgpKSl9fV9faW5pdDQoKXt0aGlzLmg9KCk9PntpZih0aGlzLnQ9PT1ILlBFTkRJTkcpcmV0dXJuO2NvbnN0IHQ9dGhpcy5vLnNsaWNlKCk7dGhpcy5vPVtdLHQuZm9yRWFjaCgodD0+e3RbMF18fCh0aGlzLnQ9PT1ILlJFU09MVkVEJiZ0WzFdKHRoaXMubCksdGhpcy50PT09SC5SRUpFQ1RFRCYmdFsyXSh0aGlzLmwpLHRbMF09ITApfSkpfX19ZnVuY3Rpb24gSyh0KXtjb25zdCBuPVkoKSxlPXtzaWQ6eigpLGluaXQ6ITAsdGltZXN0YW1wOm4sc3RhcnRlZDpuLGR1cmF0aW9uOjAsc3RhdHVzOiJvayIsZXJyb3JzOjAsaWdub3JlRHVyYXRpb246ITEsdG9KU09OOigpPT5mdW5jdGlvbih0KXtyZXR1cm4gTCh7c2lkOmAke3Quc2lkfWAsaW5pdDp0LmluaXQsc3RhcnRlZDpuZXcgRGF0ZSgxZTMqdC5zdGFydGVkKS50b0lTT1N0cmluZygpLHRpbWVzdGFtcDpuZXcgRGF0ZSgxZTMqdC50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksc3RhdHVzOnQuc3RhdHVzLGVycm9yczp0LmVycm9ycyxkaWQ6Im51bWJlciI9PXR5cGVvZiB0LmRpZHx8InN0cmluZyI9PXR5cGVvZiB0LmRpZD9gJHt0LmRpZH1gOnZvaWQgMCxkdXJhdGlvbjp0LmR1cmF0aW9uLGFibm9ybWFsX21lY2hhbmlzbTp0LmFibm9ybWFsX21lY2hhbmlzbSxhdHRyczp7cmVsZWFzZTp0LnJlbGVhc2UsZW52aXJvbm1lbnQ6dC5lbnZpcm9ubWVudCxpcF9hZGRyZXNzOnQuaXBBZGRyZXNzLHVzZXJfYWdlbnQ6dC51c2VyQWdlbnR9fSl9KGUpfTtyZXR1cm4gdCYmVihlLHQpLGV9ZnVuY3Rpb24gVih0LG49e30pe2lmKG4udXNlciYmKCF0LmlwQWRkcmVzcyYmbi51c2VyLmlwX2FkZHJlc3MmJih0LmlwQWRkcmVzcz1uLnVzZXIuaXBfYWRkcmVzcyksdC5kaWR8fG4uZGlkfHwodC5kaWQ9bi51c2VyLmlkfHxuLnVzZXIuZW1haWx8fG4udXNlci51c2VybmFtZSkpLHQudGltZXN0YW1wPW4udGltZXN0YW1wfHxZKCksbi5hYm5vcm1hbF9tZWNoYW5pc20mJih0LmFibm9ybWFsX21lY2hhbmlzbT1uLmFibm9ybWFsX21lY2hhbmlzbSksbi5pZ25vcmVEdXJhdGlvbiYmKHQuaWdub3JlRHVyYXRpb249bi5pZ25vcmVEdXJhdGlvbiksbi5zaWQmJih0LnNpZD0zMj09PW4uc2lkLmxlbmd0aD9uLnNpZDp6KCkpLHZvaWQgMCE9PW4uaW5pdCYmKHQuaW5pdD1uLmluaXQpLCF0LmRpZCYmbi5kaWQmJih0LmRpZD1gJHtuLmRpZH1gKSwibnVtYmVyIj09dHlwZW9mIG4uc3RhcnRlZCYmKHQuc3RhcnRlZD1uLnN0YXJ0ZWQpLHQuaWdub3JlRHVyYXRpb24pdC5kdXJhdGlvbj12b2lkIDA7ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIG4uZHVyYXRpb24pdC5kdXJhdGlvbj1uLmR1cmF0aW9uO2Vsc2V7Y29uc3Qgbj10LnRpbWVzdGFtcC10LnN0YXJ0ZWQ7dC5kdXJhdGlvbj1uPj0wP246MH1uLnJlbGVhc2UmJih0LnJlbGVhc2U9bi5yZWxlYXNlKSxuLmVudmlyb25tZW50JiYodC5lbnZpcm9ubWVudD1uLmVudmlyb25tZW50KSwhdC5pcEFkZHJlc3MmJm4uaXBBZGRyZXNzJiYodC5pcEFkZHJlc3M9bi5pcEFkZHJlc3MpLCF0LnVzZXJBZ2VudCYmbi51c2VyQWdlbnQmJih0LnVzZXJBZ2VudD1uLnVzZXJBZ2VudCksIm51bWJlciI9PXR5cGVvZiBuLmVycm9ycyYmKHQuZXJyb3JzPW4uZXJyb3JzKSxuLnN0YXR1cyYmKHQuc3RhdHVzPW4uc3RhdHVzKX1mdW5jdGlvbiBaKCl7cmV0dXJue3RyYWNlSWQ6eigpLHNwYW5JZDp6KCkuc3Vic3RyaW5nKDE2KX19ZnVuY3Rpb24gcSh0LG4sZT0yKXtpZighbnx8Im9iamVjdCIhPXR5cGVvZiBufHxlPD0wKXJldHVybiBuO2lmKHQmJm4mJjA9PT1PYmplY3Qua2V5cyhuKS5sZW5ndGgpcmV0dXJuIHQ7Y29uc3Qgcj17Li4udH07Zm9yKGNvbnN0IHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKHJbdF09cShyW3RdLG5bdF0sZS0xKSk7cmV0dXJuIHJ9Y29uc3QgUT0iX3NlbnRyeVNwYW4iO2Z1bmN0aW9uIFgodCxuKXtuP2Z1bmN0aW9uKHQsbixlKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1jYXRjaChlKXttJiZfLmxvZyhgRmFpbGVkIHRvIGFkZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSAiJHtufSIgdG8gb2JqZWN0YCx0KX19KHQsUSxuKTpkZWxldGUgdFtRXX1mdW5jdGlvbiB0dCh0KXtyZXR1cm4gdFtRXX1jbGFzcyBudHtjb25zdHJ1Y3Rvcigpe3RoaXMubT0hMSx0aGlzLl89W10sdGhpcy52PVtdLHRoaXMuUz1bXSx0aGlzLk49W10sdGhpcy5DPXt9LHRoaXMuVD17fSx0aGlzLmo9e30sdGhpcy5rPXt9LHRoaXMuTz17fSx0aGlzLlI9WigpfWNsb25lKCl7Y29uc3QgdD1uZXcgbnQ7cmV0dXJuIHQuUz1bLi4udGhpcy5TXSx0LlQ9ey4uLnRoaXMuVH0sdC5qPXsuLi50aGlzLmp9LHQuaz17Li4udGhpcy5rfSx0LkM9dGhpcy5DLHQuRD10aGlzLkQsdC5BPXRoaXMuQSx0Lkk9dGhpcy5JLHQuUD10aGlzLlAsdC52PVsuLi50aGlzLnZdLHQuVT10aGlzLlUsdC5OPVsuLi50aGlzLk5dLHQuTz17Li4udGhpcy5PfSx0LlI9ey4uLnRoaXMuUn0sdC5NPXRoaXMuTSx0Lkw9dGhpcy5MLFgodCx0dCh0aGlzKSksdH1zZXRDbGllbnQodCl7dGhpcy5NPXR9c2V0TGFzdEV2ZW50SWQodCl7dGhpcy5MPXR9Z2V0Q2xpZW50KCl7cmV0dXJuIHRoaXMuTX1sYXN0RXZlbnRJZCgpe3JldHVybiB0aGlzLkx9YWRkU2NvcGVMaXN0ZW5lcih0KXt0aGlzLl8ucHVzaCh0KX1hZGRFdmVudFByb2Nlc3Nvcih0KXtyZXR1cm4gdGhpcy52LnB1c2godCksdGhpc31zZXRVc2VyKHQpe3JldHVybiB0aGlzLkM9dHx8e2VtYWlsOnZvaWQgMCxpZDp2b2lkIDAsaXBfYWRkcmVzczp2b2lkIDAsdXNlcm5hbWU6dm9pZCAwfSx0aGlzLkEmJlYodGhpcy5BLHt1c2VyOnR9KSx0aGlzLkIoKSx0aGlzfWdldFVzZXIoKXtyZXR1cm4gdGhpcy5DfWdldFJlcXVlc3RTZXNzaW9uKCl7cmV0dXJuIHRoaXMuVX1zZXRSZXF1ZXN0U2Vzc2lvbih0KXtyZXR1cm4gdGhpcy5VPXQsdGhpc31zZXRUYWdzKHQpe3JldHVybiB0aGlzLlQ9ey4uLnRoaXMuVCwuLi50fSx0aGlzLkIoKSx0aGlzfXNldFRhZyh0LG4pe3JldHVybiB0aGlzLlQ9ey4uLnRoaXMuVCxbdF06bn0sdGhpcy5CKCksdGhpc31zZXRFeHRyYXModCl7cmV0dXJuIHRoaXMuaj17Li4udGhpcy5qLC4uLnR9LHRoaXMuQigpLHRoaXN9c2V0RXh0cmEodCxuKXtyZXR1cm4gdGhpcy5qPXsuLi50aGlzLmosW3RdOm59LHRoaXMuQigpLHRoaXN9c2V0RmluZ2VycHJpbnQodCl7cmV0dXJuIHRoaXMuUD10LHRoaXMuQigpLHRoaXN9c2V0TGV2ZWwodCl7cmV0dXJuIHRoaXMuRD10LHRoaXMuQigpLHRoaXN9c2V0VHJhbnNhY3Rpb25OYW1lKHQpe3JldHVybiB0aGlzLkk9dCx0aGlzLkIoKSx0aGlzfXNldENvbnRleHQodCxuKXtyZXR1cm4gbnVsbD09PW4/ZGVsZXRlIHRoaXMua1t0XTp0aGlzLmtbdF09bix0aGlzLkIoKSx0aGlzfXNldFNlc3Npb24odCl7cmV0dXJuIHQ/dGhpcy5BPXQ6ZGVsZXRlIHRoaXMuQSx0aGlzLkIoKSx0aGlzfWdldFNlc3Npb24oKXtyZXR1cm4gdGhpcy5BfXVwZGF0ZSh0KXtpZighdClyZXR1cm4gdGhpcztjb25zdCBuPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QodGhpcyk6dCxbZSxyXT1uIGluc3RhbmNlb2YgZXQ/W24uZ2V0U2NvcGVEYXRhKCksbi5nZXRSZXF1ZXN0U2Vzc2lvbigpXTprKG4pP1t0LHQucmVxdWVzdFNlc3Npb25dOltdLHt0YWdzOm8sZXh0cmE6cyx1c2VyOmksY29udGV4dHM6YyxsZXZlbDp1LGZpbmdlcnByaW50OmE9W10scHJvcGFnYXRpb25Db250ZXh0OmZ9PWV8fHt9O3JldHVybiB0aGlzLlQ9ey4uLnRoaXMuVCwuLi5vfSx0aGlzLmo9ey4uLnRoaXMuaiwuLi5zfSx0aGlzLms9ey4uLnRoaXMuaywuLi5jfSxpJiZPYmplY3Qua2V5cyhpKS5sZW5ndGgmJih0aGlzLkM9aSksdSYmKHRoaXMuRD11KSxhLmxlbmd0aCYmKHRoaXMuUD1hKSxmJiYodGhpcy5SPWYpLHImJih0aGlzLlU9ciksdGhpc31jbGVhcigpe3JldHVybiB0aGlzLlM9W10sdGhpcy5UPXt9LHRoaXMuaj17fSx0aGlzLkM9e30sdGhpcy5rPXt9LHRoaXMuRD12b2lkIDAsdGhpcy5JPXZvaWQgMCx0aGlzLlA9dm9pZCAwLHRoaXMuVT12b2lkIDAsdGhpcy5BPXZvaWQgMCxYKHRoaXMsdm9pZCAwKSx0aGlzLk49W10sdGhpcy5SPVooKSx0aGlzLkIoKSx0aGlzfWFkZEJyZWFkY3J1bWIodCxuKXtjb25zdCBlPSJudW1iZXIiPT10eXBlb2Ygbj9uOjEwMDtpZihlPD0wKXJldHVybiB0aGlzO2NvbnN0IHI9e3RpbWVzdGFtcDpKKCksLi4udH0sbz10aGlzLlM7cmV0dXJuIG8ucHVzaChyKSx0aGlzLlM9by5sZW5ndGg+ZT9vLnNsaWNlKC1lKTpvLHRoaXMuQigpLHRoaXN9Z2V0TGFzdEJyZWFkY3J1bWIoKXtyZXR1cm4gdGhpcy5TW3RoaXMuUy5sZW5ndGgtMV19Y2xlYXJCcmVhZGNydW1icygpe3JldHVybiB0aGlzLlM9W10sdGhpcy5CKCksdGhpc31hZGRBdHRhY2htZW50KHQpe3JldHVybiB0aGlzLk4ucHVzaCh0KSx0aGlzfWNsZWFyQXR0YWNobWVudHMoKXtyZXR1cm4gdGhpcy5OPVtdLHRoaXN9Z2V0U2NvcGVEYXRhKCl7cmV0dXJue2JyZWFkY3J1bWJzOnRoaXMuUyxhdHRhY2htZW50czp0aGlzLk4sY29udGV4dHM6dGhpcy5rLHRhZ3M6dGhpcy5ULGV4dHJhOnRoaXMuaix1c2VyOnRoaXMuQyxsZXZlbDp0aGlzLkQsZmluZ2VycHJpbnQ6dGhpcy5QfHxbXSxldmVudFByb2Nlc3NvcnM6dGhpcy52LHByb3BhZ2F0aW9uQ29udGV4dDp0aGlzLlIsc2RrUHJvY2Vzc2luZ01ldGFkYXRhOnRoaXMuTyx0cmFuc2FjdGlvbk5hbWU6dGhpcy5JLHNwYW46dHQodGhpcyl9fXNldFNES1Byb2Nlc3NpbmdNZXRhZGF0YSh0KXtyZXR1cm4gdGhpcy5PPXEodGhpcy5PLHQsMiksdGhpc31zZXRQcm9wYWdhdGlvbkNvbnRleHQodCl7cmV0dXJuIHRoaXMuUj10LHRoaXN9Z2V0UHJvcGFnYXRpb25Db250ZXh0KCl7cmV0dXJuIHRoaXMuUn1jYXB0dXJlRXhjZXB0aW9uKHQsbil7Y29uc3QgZT1uJiZuLmV2ZW50X2lkP24uZXZlbnRfaWQ6eigpO2lmKCF0aGlzLk0pcmV0dXJuIF8ud2FybigiTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIGV4Y2VwdGlvbiEiKSxlO2NvbnN0IHI9bmV3IEVycm9yKCJTZW50cnkgc3ludGhldGljRXhjZXB0aW9uIik7cmV0dXJuIHRoaXMuTS5jYXB0dXJlRXhjZXB0aW9uKHQse29yaWdpbmFsRXhjZXB0aW9uOnQsc3ludGhldGljRXhjZXB0aW9uOnIsLi4ubixldmVudF9pZDplfSx0aGlzKSxlfWNhcHR1cmVNZXNzYWdlKHQsbixlKXtjb25zdCByPWUmJmUuZXZlbnRfaWQ/ZS5ldmVudF9pZDp6KCk7aWYoIXRoaXMuTSlyZXR1cm4gXy53YXJuKCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgbWVzc2FnZSEiKSxyO2NvbnN0IG89bmV3IEVycm9yKHQpO3JldHVybiB0aGlzLk0uY2FwdHVyZU1lc3NhZ2UodCxuLHtvcmlnaW5hbEV4Y2VwdGlvbjp0LHN5bnRoZXRpY0V4Y2VwdGlvbjpvLC4uLmUsZXZlbnRfaWQ6cn0sdGhpcykscn1jYXB0dXJlRXZlbnQodCxuKXtjb25zdCBlPW4mJm4uZXZlbnRfaWQ/bi5ldmVudF9pZDp6KCk7cmV0dXJuIHRoaXMuTT8odGhpcy5NLmNhcHR1cmVFdmVudCh0LHsuLi5uLGV2ZW50X2lkOmV9LHRoaXMpLGUpOihfLndhcm4oIk5vIGNsaWVudCBjb25maWd1cmVkIG9uIHNjb3BlIC0gd2lsbCBub3QgY2FwdHVyZSBldmVudCEiKSxlKX1CKCl7dGhpcy5tfHwodGhpcy5tPSEwLHRoaXMuXy5mb3JFYWNoKCh0PT57dCh0aGlzKX0pKSx0aGlzLm09ITEpfX1jb25zdCBldD1udDtjbGFzcyBydHtjb25zdHJ1Y3Rvcih0LG4pe2xldCBlLHI7ZT10fHxuZXcgZXQscj1ufHxuZXcgZXQsdGhpcy5HPVt7c2NvcGU6ZX1dLHRoaXMuSj1yfXdpdGhTY29wZSh0KXtjb25zdCBuPXRoaXMuWSgpO2xldCBlO3RyeXtlPXQobil9Y2F0Y2godCl7dGhyb3cgdGhpcy5IKCksdH1yZXR1cm4gTyhlKT9lLnRoZW4oKHQ9Pih0aGlzLkgoKSx0KSksKHQ9Pnt0aHJvdyB0aGlzLkgoKSx0fSkpOih0aGlzLkgoKSxlKX1nZXRDbGllbnQoKXtyZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLmNsaWVudH1nZXRTY29wZSgpe3JldHVybiB0aGlzLmdldFN0YWNrVG9wKCkuc2NvcGV9Z2V0SXNvbGF0aW9uU2NvcGUoKXtyZXR1cm4gdGhpcy5KfWdldFN0YWNrVG9wKCl7cmV0dXJuIHRoaXMuR1t0aGlzLkcubGVuZ3RoLTFdfVkoKXtjb25zdCB0PXRoaXMuZ2V0U2NvcGUoKS5jbG9uZSgpO3JldHVybiB0aGlzLkcucHVzaCh7Y2xpZW50OnRoaXMuZ2V0Q2xpZW50KCksc2NvcGU6dH0pLHR9SCgpe3JldHVybiEodGhpcy5HLmxlbmd0aDw9MSkmJiEhdGhpcy5HLnBvcCgpfX1mdW5jdGlvbiBvdCgpe2NvbnN0IHQ9Tih4KCkpO3JldHVybiB0LnN0YWNrPXQuc3RhY2t8fG5ldyBydChkKCJkZWZhdWx0Q3VycmVudFNjb3BlIiwoKCk9Pm5ldyBldCkpLGQoImRlZmF1bHRJc29sYXRpb25TY29wZSIsKCgpPT5uZXcgZXQpKSl9ZnVuY3Rpb24gc3QodCl7cmV0dXJuIG90KCkud2l0aFNjb3BlKHQpfWZ1bmN0aW9uIGl0KHQsbil7Y29uc3QgZT1vdCgpO3JldHVybiBlLndpdGhTY29wZSgoKCk9PihlLmdldFN0YWNrVG9wKCkuc2NvcGU9dCxuKHQpKSkpfWZ1bmN0aW9uIGN0KHQpe3JldHVybiBvdCgpLndpdGhTY29wZSgoKCk9PnQob3QoKS5nZXRJc29sYXRpb25TY29wZSgpKSkpfWZ1bmN0aW9uIHV0KHQpe2NvbnN0IG49Tih0KTtyZXR1cm4gbi5hY3M/bi5hY3M6e3dpdGhJc29sYXRpb25TY29wZTpjdCx3aXRoU2NvcGU6c3Qsd2l0aFNldFNjb3BlOml0LHdpdGhTZXRJc29sYXRpb25TY29wZToodCxuKT0+Y3QobiksZ2V0Q3VycmVudFNjb3BlOigpPT5vdCgpLmdldFNjb3BlKCksZ2V0SXNvbGF0aW9uU2NvcGU6KCk9Pm90KCkuZ2V0SXNvbGF0aW9uU2NvcGUoKX19ZnVuY3Rpb24gYXQoKXtyZXR1cm4gdXQoeCgpKS5nZXRDdXJyZW50U2NvcGUoKS5nZXRDbGllbnQoKX1jb25zdCBmdD0iX3NlbnRyeU1ldHJpY3MiO2Z1bmN0aW9uIGh0KHQpe2NvbnN0IG49dFtmdF07aWYoIW4pcmV0dXJuO2NvbnN0IGU9e307Zm9yKGNvbnN0WyxbdCxyXV1vZiBuKXsoZVt0XXx8KGVbdF09W10pKS5wdXNoKEwocikpfXJldHVybiBlfWNvbnN0IHB0PSJzZW50cnkuc291cmNlIixsdD0ic2VudHJ5LnNhbXBsZV9yYXRlIixkdD0ic2VudHJ5Lm9wIixtdD0ic2VudHJ5Lm9yaWdpbiIseXQ9MCxndD0xLGJ0PSJzZW50cnktIixfdD0vXnNlbnRyeS0vO2Z1bmN0aW9uIHZ0KHQpe2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoIXR8fCFqKHQpJiYhQXJyYXkuaXNBcnJheSh0KSlyZXR1cm47aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5yZWR1Y2UoKCh0LG4pPT57Y29uc3QgZT13dChuKTtyZXR1cm4gT2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoKFtuLGVdKT0+e3Rbbl09ZX0pKSx0fSkse30pO3JldHVybiB3dCh0KX0odCk7aWYoIW4pcmV0dXJuO2NvbnN0IGU9T2JqZWN0LmVudHJpZXMobikucmVkdWNlKCgodCxbbixlXSk9PntpZihuLm1hdGNoKF90KSl7dFtuLnNsaWNlKGJ0Lmxlbmd0aCldPWV9cmV0dXJuIHR9KSx7fSk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aD4wP2U6dm9pZCAwfWZ1bmN0aW9uIHd0KHQpe3JldHVybiB0LnNwbGl0KCIsIikubWFwKCh0PT50LnNwbGl0KCI9IikubWFwKCh0PT5kZWNvZGVVUklDb21wb25lbnQodC50cmltKCkpKSkpKS5yZWR1Y2UoKCh0LFtuLGVdKT0+KG4mJmUmJih0W25dPWUpLHQpKSx7fSl9Y29uc3QgU3Q9MTtmdW5jdGlvbiAkdCh0KXtjb25zdHtzcGFuSWQ6bix0cmFjZUlkOmV9PXQuc3BhbkNvbnRleHQoKSx7cGFyZW50X3NwYW5faWQ6cn09TnQodCk7cmV0dXJuIEwoe3BhcmVudF9zcGFuX2lkOnIsc3Bhbl9pZDpuLHRyYWNlX2lkOmV9KX1mdW5jdGlvbiBFdCh0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/eHQodCk6QXJyYXkuaXNBcnJheSh0KT90WzBdK3RbMV0vMWU5OnQgaW5zdGFuY2VvZiBEYXRlP3h0KHQuZ2V0VGltZSgpKTpZKCl9ZnVuY3Rpb24geHQodCl7cmV0dXJuIHQ+OTk5OTk5OTk5OT90LzFlMzp0fWZ1bmN0aW9uIE50KHQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldFNwYW5KU09OfSh0KSlyZXR1cm4gdC5nZXRTcGFuSlNPTigpO3RyeXtjb25zdHtzcGFuSWQ6bix0cmFjZUlkOmV9PXQuc3BhbkNvbnRleHQoKTtpZihmdW5jdGlvbih0KXtjb25zdCBuPXQ7cmV0dXJuISEobi5hdHRyaWJ1dGVzJiZuLnN0YXJ0VGltZSYmbi5uYW1lJiZuLmVuZFRpbWUmJm4uc3RhdHVzKX0odCkpe2NvbnN0e2F0dHJpYnV0ZXM6cixzdGFydFRpbWU6byxuYW1lOnMsZW5kVGltZTppLHBhcmVudFNwYW5JZDpjLHN0YXR1czp1fT10O3JldHVybiBMKHtzcGFuX2lkOm4sdHJhY2VfaWQ6ZSxkYXRhOnIsZGVzY3JpcHRpb246cyxwYXJlbnRfc3Bhbl9pZDpjLHN0YXJ0X3RpbWVzdGFtcDpFdChvKSx0aW1lc3RhbXA6RXQoaSl8fHZvaWQgMCxzdGF0dXM6Q3QodSksb3A6cltkdF0sb3JpZ2luOnJbbXRdLF9tZXRyaWNzX3N1bW1hcnk6aHQodCl9KX1yZXR1cm57c3Bhbl9pZDpuLHRyYWNlX2lkOmV9fWNhdGNoKHQpe3JldHVybnt9fX1mdW5jdGlvbiBDdCh0KXtpZih0JiZ0LmNvZGUhPT15dClyZXR1cm4gdC5jb2RlPT09Z3Q/Im9rIjp0Lm1lc3NhZ2V8fCJ1bmtub3duX2Vycm9yIn1jb25zdCBUdD0iX3NlbnRyeVJvb3RTcGFuIjtmdW5jdGlvbiBqdCh0KXtyZXR1cm4gdFtUdF18fHR9Y29uc3Qga3Q9InByb2R1Y3Rpb24iLE90PSJfZnJvemVuRHNjIjtmdW5jdGlvbiBSdCh0KXtjb25zdCBuPWF0KCk7aWYoIW4pcmV0dXJue307Y29uc3QgZT1mdW5jdGlvbih0LG4pe2NvbnN0IGU9bi5nZXRPcHRpb25zKCkse3B1YmxpY0tleTpyfT1uLmdldERzbigpfHx7fSxvPUwoe2Vudmlyb25tZW50OmUuZW52aXJvbm1lbnR8fGt0LHJlbGVhc2U6ZS5yZWxlYXNlLHB1YmxpY19rZXk6cix0cmFjZV9pZDp0fSk7cmV0dXJuIG4uZW1pdCgiY3JlYXRlRHNjIixvKSxvfShOdCh0KS50cmFjZV9pZHx8IiIsbikscj1qdCh0KSxvPXJbT3RdO2lmKG8pcmV0dXJuIG87Y29uc3Qgcz1yLnNwYW5Db250ZXh0KCkudHJhY2VTdGF0ZSxpPXMmJnMuZ2V0KCJzZW50cnkuZHNjIiksYz1pJiZ2dChpKTtpZihjKXJldHVybiBjO2NvbnN0IHU9TnQociksYT11LmRhdGF8fHt9LGY9YVtsdF07bnVsbCE9ZiYmKGUuc2FtcGxlX3JhdGU9YCR7Zn1gKTtjb25zdCBoPWFbcHRdLHA9dS5kZXNjcmlwdGlvbjtyZXR1cm4idXJsIiE9PWgmJnAmJihlLnRyYW5zYWN0aW9uPXApLGZ1bmN0aW9uKHQpe2lmKCJib29sZWFuIj09dHlwZW9mIF9fU0VOVFJZX1RSQUNJTkdfXyYmIV9fU0VOVFJZX1RSQUNJTkdfXylyZXR1cm4hMTtjb25zdCBuPWF0KCksZT1uJiZuLmdldE9wdGlvbnMoKTtyZXR1cm4hIWUmJihlLmVuYWJsZVRyYWNpbmd8fCJ0cmFjZXNTYW1wbGVSYXRlImluIGV8fCJ0cmFjZXNTYW1wbGVyImluIGUpfSgpJiYoZS5zYW1wbGVkPVN0cmluZyhmdW5jdGlvbih0KXtjb25zdHt0cmFjZUZsYWdzOm59PXQuc3BhbkNvbnRleHQoKTtyZXR1cm4gbj09PVN0fShyKSkpLG4uZW1pdCgiY3JlYXRlRHNjIixlLHIpLGV9ZnVuY3Rpb24gRHQodCxuPSExKXtjb25zdHtob3N0OmUscGF0aDpyLHBhc3M6byxwb3J0OnMscHJvamVjdElkOmkscHJvdG9jb2w6YyxwdWJsaWNLZXk6dX09dDtyZXR1cm5gJHtjfTovLyR7dX0ke24mJm8/YDoke299YDoiIn1AJHtlfSR7cz9gOiR7c31gOiIifS8ke3I/YCR7cn0vYDpyfSR7aX1gfWZ1bmN0aW9uIEF0KHQsbj0xMDAsZT0xLzApe3RyeXtyZXR1cm4gSXQoIiIsdCxuLGUpfWNhdGNoKHQpe3JldHVybntFUlJPUjpgKipub24tc2VyaWFsaXphYmxlKiogKCR7dH0pYH19fWZ1bmN0aW9uIEl0KHQsbixlPTEvMCxyPTEvMCxvPWZ1bmN0aW9uKCl7Y29uc3QgdD0iZnVuY3Rpb24iPT10eXBlb2YgV2Vha1NldCxuPXQ/bmV3IFdlYWtTZXQ6W107cmV0dXJuW2Z1bmN0aW9uKGUpe2lmKHQpcmV0dXJuISFuLmhhcyhlKXx8KG4uYWRkKGUpLCExKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdPT09ZSlyZXR1cm4hMDtyZXR1cm4gbi5wdXNoKGUpLCExfSxmdW5jdGlvbihlKXtpZih0KW4uZGVsZXRlKGUpO2Vsc2UgZm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XT09PWUpe24uc3BsaWNlKHQsMSk7YnJlYWt9fV19KCkpe2NvbnN0W3MsaV09bztpZihudWxsPT1ufHxbImJvb2xlYW4iLCJzdHJpbmciXS5pbmNsdWRlcyh0eXBlb2Ygbil8fCJudW1iZXIiPT10eXBlb2YgbiYmTnVtYmVyLmlzRmluaXRlKG4pKXJldHVybiBuO2NvbnN0IGM9ZnVuY3Rpb24odCxuKXt0cnl7aWYoImRvbWFpbiI9PT10JiZuJiYib2JqZWN0Ij09dHlwZW9mIG4mJm4uVylyZXR1cm4iW0RvbWFpbl0iO2lmKCJkb21haW5FbWl0dGVyIj09PXQpcmV0dXJuIltEb21haW5FbWl0dGVyXSI7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJm49PT1nbG9iYWwpcmV0dXJuIltHbG9iYWxdIjtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmbj09PXdpbmRvdylyZXR1cm4iW1dpbmRvd10iO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJm49PT1kb2N1bWVudClyZXR1cm4iW0RvY3VtZW50XSI7aWYoIm9iamVjdCI9PXR5cGVvZihlPW4pJiZudWxsIT09ZSYmKGUuX19pc1Z1ZXx8ZS5GKSlyZXR1cm4iW1Z1ZVZpZXdNb2RlbF0iO2lmKGZ1bmN0aW9uKHQpe3JldHVybiBrKHQpJiYibmF0aXZlRXZlbnQiaW4gdCYmInByZXZlbnREZWZhdWx0ImluIHQmJiJzdG9wUHJvcGFnYXRpb24iaW4gdH0obikpcmV0dXJuIltTeW50aGV0aWNFdmVudF0iO2lmKCJudW1iZXIiPT10eXBlb2YgbiYmIU51bWJlci5pc0Zpbml0ZShuKSlyZXR1cm5gWyR7bn1dYDtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm5gW0Z1bmN0aW9uOiAke2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQubmFtZXx8RX1jYXRjaCh0KXtyZXR1cm4gRX19KG4pfV1gO2lmKCJzeW1ib2wiPT10eXBlb2YgbilyZXR1cm5gWyR7U3RyaW5nKG4pfV1gO2lmKCJiaWdpbnQiPT10eXBlb2YgbilyZXR1cm5gW0JpZ0ludDogJHtTdHJpbmcobil9XWA7Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBuPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gbj9uLmNvbnN0cnVjdG9yLm5hbWU6Im51bGwgcHJvdG90eXBlIn0obik7cmV0dXJuL15IVE1MKFx3KilFbGVtZW50JC8udGVzdChyKT9gW0hUTUxFbGVtZW50OiAke3J9XWA6YFtvYmplY3QgJHtyfV1gfWNhdGNoKHQpe3JldHVybmAqKm5vbi1zZXJpYWxpemFibGUqKiAoJHt0fSlgfXZhciBlfSh0LG4pO2lmKCFjLnN0YXJ0c1dpdGgoIltvYmplY3QgIikpcmV0dXJuIGM7aWYobi5fX3NlbnRyeV9za2lwX25vcm1hbGl6YXRpb25fXylyZXR1cm4gbjtjb25zdCB1PSJudW1iZXIiPT10eXBlb2Ygbi5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18/bi5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX186ZTtpZigwPT09dSlyZXR1cm4gYy5yZXBsYWNlKCJvYmplY3QgIiwiIik7aWYocyhuKSlyZXR1cm4iW0NpcmN1bGFyIH5dIjtjb25zdCBhPW47aWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEudG9KU09OKXRyeXtyZXR1cm4gSXQoIiIsYS50b0pTT04oKSx1LTEscixvKX1jYXRjaCh0KXt9Y29uc3QgZj1BcnJheS5pc0FycmF5KG4pP1tdOnt9O2xldCBoPTA7Y29uc3QgcD1QKG4pO2Zvcihjb25zdCB0IGluIHApe2lmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocCx0KSljb250aW51ZTtpZihoPj1yKXtmW3RdPSJbTWF4UHJvcGVydGllcyB+XSI7YnJlYWt9Y29uc3Qgbj1wW3RdO2ZbdF09SXQodCxuLHUtMSxyLG8pLGgrK31yZXR1cm4gaShuKSxmfWZ1bmN0aW9uIFB0KHQsbil7Y29uc3QgZT1uLnJlcGxhY2UoL1xcL2csIi8iKS5yZXBsYWNlKC9bfFxce30oKVtcXV4kKyo/Ll0vZywiXFwkJiIpO2xldCByPXQ7dHJ5e3I9ZGVjb2RlVVJJKHQpfWNhdGNoKHQpe31yZXR1cm4gci5yZXBsYWNlKC9cXC9nLCIvIikucmVwbGFjZSgvd2VicGFjazpcLz8vZywiIikucmVwbGFjZShuZXcgUmVnRXhwKGAoZmlsZTovLyk/Lyoke2V9LypgLCJpZyIpLCJhcHA6Ly8vIil9ZnVuY3Rpb24gVXQodCxuPVtdKXtyZXR1cm5bdCxuXX1mdW5jdGlvbiBNdCh0LG4pe2NvbnN0IGU9dFsxXTtmb3IoY29uc3QgdCBvZiBlKXtpZihuKHQsdFswXS50eXBlKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBMdCh0KXtyZXR1cm4gbC5fX1NFTlRSWV9fJiZsLl9fU0VOVFJZX18uZW5jb2RlUG9seWZpbGw/bC5fX1NFTlRSWV9fLmVuY29kZVBvbHlmaWxsKHQpOihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KX1mdW5jdGlvbiBCdCh0KXtjb25zdFtuLGVdPXQ7bGV0IHI9SlNPTi5zdHJpbmdpZnkobik7ZnVuY3Rpb24gbyh0KXsic3RyaW5nIj09dHlwZW9mIHI/cj0ic3RyaW5nIj09dHlwZW9mIHQ/cit0OltMdChyKSx0XTpyLnB1c2goInN0cmluZyI9PXR5cGVvZiB0P0x0KHQpOnQpfWZvcihjb25zdCB0IG9mIGUpe2NvbnN0W24sZV09dDtpZihvKGBcbiR7SlNPTi5zdHJpbmdpZnkobil9XG5gKSwic3RyaW5nIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KW8oZSk7ZWxzZXtsZXQgdDt0cnl7dD1KU09OLnN0cmluZ2lmeShlKX1jYXRjaChuKXt0PUpTT04uc3RyaW5naWZ5KEF0KGUpKX1vKHQpfX1yZXR1cm4ic3RyaW5nIj09dHlwZW9mIHI/cjpmdW5jdGlvbih0KXtjb25zdCBuPXQucmVkdWNlKCgodCxuKT0+dCtuLmxlbmd0aCksMCksZT1uZXcgVWludDhBcnJheShuKTtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIHQpZS5zZXQobixyKSxyKz1uLmxlbmd0aDtyZXR1cm4gZX0ocil9Y29uc3QgR3Q9e3Nlc3Npb246InNlc3Npb24iLHNlc3Npb25zOiJzZXNzaW9uIixhdHRhY2htZW50OiJhdHRhY2htZW50Iix0cmFuc2FjdGlvbjoidHJhbnNhY3Rpb24iLGV2ZW50OiJlcnJvciIsY2xpZW50X3JlcG9ydDoiaW50ZXJuYWwiLHVzZXJfcmVwb3J0OiJkZWZhdWx0Iixwcm9maWxlOiJwcm9maWxlIixwcm9maWxlX2NodW5rOiJwcm9maWxlIixyZXBsYXlfZXZlbnQ6InJlcGxheSIscmVwbGF5X3JlY29yZGluZzoicmVwbGF5IixjaGVja19pbjoibW9uaXRvciIsZmVlZGJhY2s6ImZlZWRiYWNrIixzcGFuOiJzcGFuIixzdGF0c2Q6Im1ldHJpY19idWNrZXQifTtmdW5jdGlvbiBKdCh0KXtpZighdHx8IXQuc2RrKXJldHVybjtjb25zdHtuYW1lOm4sdmVyc2lvbjplfT10LnNkaztyZXR1cm57bmFtZTpuLHZlcnNpb246ZX19ZnVuY3Rpb24gWXQodCxuLGUscil7Y29uc3Qgbz1KdChlKSxzPXQudHlwZSYmInJlcGxheV9ldmVudCIhPT10LnR5cGU/dC50eXBlOiJldmVudCI7IWZ1bmN0aW9uKHQsbil7biYmKHQuc2RrPXQuc2RrfHx7fSx0LnNkay5uYW1lPXQuc2RrLm5hbWV8fG4ubmFtZSx0LnNkay52ZXJzaW9uPXQuc2RrLnZlcnNpb258fG4udmVyc2lvbix0LnNkay5pbnRlZ3JhdGlvbnM9Wy4uLnQuc2RrLmludGVncmF0aW9uc3x8W10sLi4ubi5pbnRlZ3JhdGlvbnN8fFtdXSx0LnNkay5wYWNrYWdlcz1bLi4udC5zZGsucGFja2FnZXN8fFtdLC4uLm4ucGFja2FnZXN8fFtdXSl9KHQsZSYmZS5zZGspO2NvbnN0IGk9ZnVuY3Rpb24odCxuLGUscil7Y29uc3Qgbz10LnNka1Byb2Nlc3NpbmdNZXRhZGF0YSYmdC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEuZHluYW1pY1NhbXBsaW5nQ29udGV4dDtyZXR1cm57ZXZlbnRfaWQ6dC5ldmVudF9pZCxzZW50X2F0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSwuLi5uJiZ7c2RrOm59LC4uLiEhZSYmciYme2RzbjpEdChyKX0sLi4ubyYme3RyYWNlOkwoey4uLm99KX19fSh0LG8scixuKTtkZWxldGUgdC5zZGtQcm9jZXNzaW5nTWV0YWRhdGE7cmV0dXJuIFV0KGksW1t7dHlwZTpzfSx0XV0pfWNvbnN0IHp0PSJfX1NFTlRSWV9TVVBQUkVTU19UUkFDSU5HX18iO2Z1bmN0aW9uIEh0KHQpe2NvbnN0IG49dXQoeCgpKTtyZXR1cm4gbi5zdXBwcmVzc1RyYWNpbmc/bi5zdXBwcmVzc1RyYWNpbmcodCk6ZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj11dCh4KCkpO2lmKDI9PT10Lmxlbmd0aCl7Y29uc3RbZSxyXT10O3JldHVybiBlP24ud2l0aFNldFNjb3BlKGUscik6bi53aXRoU2NvcGUocil9cmV0dXJuIG4ud2l0aFNjb3BlKHRbMF0pfSgobj0+KG4uc2V0U0RLUHJvY2Vzc2luZ01ldGFkYXRhKHtbenRdOiEwfSksdCgpKSkpfWZ1bmN0aW9uIFd0KHQsbil7Y29uc3R7ZmluZ2VycHJpbnQ6ZSxzcGFuOnIsYnJlYWRjcnVtYnM6byxzZGtQcm9jZXNzaW5nTWV0YWRhdGE6c309bjshZnVuY3Rpb24odCxuKXtjb25zdHtleHRyYTplLHRhZ3M6cix1c2VyOm8sY29udGV4dHM6cyxsZXZlbDppLHRyYW5zYWN0aW9uTmFtZTpjfT1uLHU9TChlKTt1JiZPYmplY3Qua2V5cyh1KS5sZW5ndGgmJih0LmV4dHJhPXsuLi51LC4uLnQuZXh0cmF9KTtjb25zdCBhPUwocik7YSYmT2JqZWN0LmtleXMoYSkubGVuZ3RoJiYodC50YWdzPXsuLi5hLC4uLnQudGFnc30pO2NvbnN0IGY9TChvKTtmJiZPYmplY3Qua2V5cyhmKS5sZW5ndGgmJih0LnVzZXI9ey4uLmYsLi4udC51c2VyfSk7Y29uc3QgaD1MKHMpO2gmJk9iamVjdC5rZXlzKGgpLmxlbmd0aCYmKHQuY29udGV4dHM9ey4uLmgsLi4udC5jb250ZXh0c30pO2kmJih0LmxldmVsPWkpO2MmJiJ0cmFuc2FjdGlvbiIhPT10LnR5cGUmJih0LnRyYW5zYWN0aW9uPWMpfSh0LG4pLHImJmZ1bmN0aW9uKHQsbil7dC5jb250ZXh0cz17dHJhY2U6JHQobiksLi4udC5jb250ZXh0c30sdC5zZGtQcm9jZXNzaW5nTWV0YWRhdGE9e2R5bmFtaWNTYW1wbGluZ0NvbnRleHQ6UnQobiksLi4udC5zZGtQcm9jZXNzaW5nTWV0YWRhdGF9O2NvbnN0IGU9anQobikscj1OdChlKS5kZXNjcmlwdGlvbjtyJiYhdC50cmFuc2FjdGlvbiYmInRyYW5zYWN0aW9uIj09PXQudHlwZSYmKHQudHJhbnNhY3Rpb249cil9KHQsciksZnVuY3Rpb24odCxuKXt0LmZpbmdlcnByaW50PXQuZmluZ2VycHJpbnQ/QXJyYXkuaXNBcnJheSh0LmZpbmdlcnByaW50KT90LmZpbmdlcnByaW50Olt0LmZpbmdlcnByaW50XTpbXSxuJiYodC5maW5nZXJwcmludD10LmZpbmdlcnByaW50LmNvbmNhdChuKSk7dC5maW5nZXJwcmludCYmIXQuZmluZ2VycHJpbnQubGVuZ3RoJiZkZWxldGUgdC5maW5nZXJwcmludH0odCxlKSxmdW5jdGlvbih0LG4pe2NvbnN0IGU9Wy4uLnQuYnJlYWRjcnVtYnN8fFtdLC4uLm5dO3QuYnJlYWRjcnVtYnM9ZS5sZW5ndGg/ZTp2b2lkIDB9KHQsbyksZnVuY3Rpb24odCxuKXt0LnNka1Byb2Nlc3NpbmdNZXRhZGF0YT17Li4udC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEsLi4ubn19KHQscyl9Y29uc3QgRnQ9IjciO2Z1bmN0aW9uIEt0KHQsbil7cmV0dXJuIGU9e3NlbnRyeV9rZXk6dC5wdWJsaWNLZXksc2VudHJ5X3ZlcnNpb246RnQsLi4ubiYme3NlbnRyeV9jbGllbnQ6YCR7bi5uYW1lfS8ke24udmVyc2lvbn1gfX0sT2JqZWN0LmtleXMoZSkubWFwKCh0PT5gJHtlbmNvZGVVUklDb21wb25lbnQodCl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVbdF0pfWApKS5qb2luKCImIik7dmFyIGV9Y2xhc3MgVnQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LG49Indhcm4iKXtzdXBlcih0KSx0aGlzLm1lc3NhZ2U9dCx0aGlzLm5hbWU9bmV3LnRhcmdldC5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxuZXcudGFyZ2V0LnByb3RvdHlwZSksdGhpcy5sb2dMZXZlbD1ufX1mdW5jdGlvbiBadCh0KXtjb25zdCBuPVtdO2Z1bmN0aW9uIGUodCl7cmV0dXJuIG4uc3BsaWNlKG4uaW5kZXhPZih0KSwxKVswXXx8UHJvbWlzZS5yZXNvbHZlKHZvaWQgMCl9cmV0dXJueyQ6bixhZGQ6ZnVuY3Rpb24ocil7aWYoISh2b2lkIDA9PT10fHxuLmxlbmd0aDx0KSlyZXR1cm4gbz1uZXcgVnQoIk5vdCBhZGRpbmcgUHJvbWlzZSBiZWNhdXNlIGJ1ZmZlciBsaW1pdCB3YXMgcmVhY2hlZC4iKSxuZXcgRigoKHQsbik9PntuKG8pfSkpO3ZhciBvO2NvbnN0IHM9cigpO3JldHVybi0xPT09bi5pbmRleE9mKHMpJiZuLnB1c2gocykscy50aGVuKCgoKT0+ZShzKSkpLnRoZW4obnVsbCwoKCk9PmUocykudGhlbihudWxsLCgoKT0+e30pKSkpLHN9LGRyYWluOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRigoKGUscik9PntsZXQgbz1uLmxlbmd0aDtpZighbylyZXR1cm4gZSghMCk7Y29uc3Qgcz1zZXRUaW1lb3V0KCgoKT0+e3QmJnQ+MCYmZSghMSl9KSx0KTtuLmZvckVhY2goKHQ9PntXKHQpLnRoZW4oKCgpPT57LS1vfHwoY2xlYXJUaW1lb3V0KHMpLGUoITApKX0pLHIpfSkpfSkpfX19Y29uc3QgcXQ9NmU0O2Z1bmN0aW9uIFF0KHQse3N0YXR1c0NvZGU6bixoZWFkZXJzOmV9LHI9RGF0ZS5ub3coKSl7Y29uc3Qgbz17Li4udH0scz1lJiZlWyJ4LXNlbnRyeS1yYXRlLWxpbWl0cyJdLGk9ZSYmZVsicmV0cnktYWZ0ZXIiXTtpZihzKWZvcihjb25zdCB0IG9mIHMudHJpbSgpLnNwbGl0KCIsIikpe2NvbnN0W24sZSwsLHNdPXQuc3BsaXQoIjoiLDUpLGk9cGFyc2VJbnQobiwxMCksYz0xZTMqKGlzTmFOKGkpPzYwOmkpO2lmKGUpZm9yKGNvbnN0IHQgb2YgZS5zcGxpdCgiOyIpKSJtZXRyaWNfYnVja2V0Ij09PXQmJnMmJiFzLnNwbGl0KCI7IikuaW5jbHVkZXMoImN1c3RvbSIpfHwob1t0XT1yK2MpO2Vsc2Ugby5hbGw9citjfWVsc2UgaT9vLmFsbD1yK2Z1bmN0aW9uKHQsbj1EYXRlLm5vdygpKXtjb25zdCBlPXBhcnNlSW50KGAke3R9YCwxMCk7aWYoIWlzTmFOKGUpKXJldHVybiAxZTMqZTtjb25zdCByPURhdGUucGFyc2UoYCR7dH1gKTtyZXR1cm4gaXNOYU4ocik/cXQ6ci1ufShpLHIpOjQyOT09PW4mJihvLmFsbD1yKzZlNCk7cmV0dXJuIG99Y29uc3QgWHQ9NjQ7ZnVuY3Rpb24gdG4odCxuLGU9WnQodC5idWZmZXJTaXplfHxYdCkpe2xldCByPXt9O3JldHVybntzZW5kOmZ1bmN0aW9uKHQpe2NvbnN0IG89W107aWYoTXQodCwoKHQsbik9Pntjb25zdCBlPWZ1bmN0aW9uKHQpe3JldHVybiBHdFt0XX0obik7KGZ1bmN0aW9uKHQsbixlPURhdGUubm93KCkpe3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB0W25dfHx0LmFsbHx8MH0odCxuKT5lfSkocixlKXx8by5wdXNoKHQpfSkpLDA9PT1vLmxlbmd0aClyZXR1cm4gVyh7fSk7Y29uc3Qgcz1VdCh0WzBdLG8pLGk9dD0+e010KHMsKCh0LG4pPT57fSkpfTtyZXR1cm4gZS5hZGQoKCgpPT5uKHtib2R5OkJ0KHMpfSkudGhlbigodD0+KHZvaWQgMCE9PXQuc3RhdHVzQ29kZSYmKHQuc3RhdHVzQ29kZTwyMDB8fHQuc3RhdHVzQ29kZT49MzAwKSYmaCYmXy53YXJuKGBTZW50cnkgcmVzcG9uZGVkIHdpdGggc3RhdHVzIGNvZGUgJHt0LnN0YXR1c0NvZGV9IHRvIHNlbnQgZXZlbnQuYCkscj1RdChyLHQpLHQpKSwodD0+e3Rocm93IGkoKSx0fSkpKSkudGhlbigodD0+dCksKHQ9PntpZih0IGluc3RhbmNlb2YgVnQpcmV0dXJuIGgmJl8uZXJyb3IoIlNraXBwZWQgc2VuZGluZyBldmVudCBiZWNhdXNlIGJ1ZmZlciBpcyBmdWxsLiIpLGkoKSxXKHt9KTt0aHJvdyB0fSkpfSxmbHVzaDp0PT5lLmRyYWluKHQpfX1jb25zdCBubj0vXihcUys6XFx8XC8/KShbXHNcU10qPykoKD86XC57MSwyfXxbXi9cXF0rP3wpKFwuW14uL1xcXSp8KSkoPzpbL1xcXSopJC87ZnVuY3Rpb24gZW4odCl7Y29uc3Qgbj1mdW5jdGlvbih0KXtjb25zdCBuPXQubGVuZ3RoPjEwMjQ/YDx0cnVuY2F0ZWQ+JHt0LnNsaWNlKC0xMDI0KX1gOnQsZT1ubi5leGVjKG4pO3JldHVybiBlP2Uuc2xpY2UoMSk6W119KHQpLGU9blswXXx8IiI7bGV0IHI9blsxXTtyZXR1cm4gZXx8cj8ociYmKHI9ci5zbGljZSgwLHIubGVuZ3RoLTEpKSxlK3IpOiIuIn1mdW5jdGlvbiBybih0LG49ITEpe3JldHVybiEobnx8dCYmIXQuc3RhcnRzV2l0aCgiLyIpJiYhdC5tYXRjaCgvXltBLVpdOi8pJiYhdC5zdGFydHNXaXRoKCIuIikmJiF0Lm1hdGNoKC9eW2EtekEtWl0oW2EtekEtWjAtOS5cLStdKSo6XC9cLy8pKSYmdm9pZCAwIT09dCYmIXQuaW5jbHVkZXMoIm5vZGVfbW9kdWxlcy8iKX1jb25zdCBvbj1TeW1ib2woIkFnZW50QmFzZUludGVybmFsU3RhdGUiKTtjbGFzcyBzbiBleHRlbmRzIHMuQWdlbnR7W29uXTtvcHRpb25zO2tlZXBBbGl2ZTtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzW29uXT17fX1pc1NlY3VyZUVuZHBvaW50KHQpe2lmKHQpe2lmKCJib29sZWFuIj09dHlwZW9mIHQuc2VjdXJlRW5kcG9pbnQpcmV0dXJuIHQuc2VjdXJlRW5kcG9pbnQ7aWYoInN0cmluZyI9PXR5cGVvZiB0LnByb3RvY29sKXJldHVybiJodHRwczoiPT09dC5wcm90b2NvbH1jb25zdHtzdGFjazpufT1uZXcgRXJyb3I7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiZuLnNwbGl0KCJcbiIpLnNvbWUoKHQ9Pi0xIT09dC5pbmRleE9mKCIoaHR0cHMuanM6Iil8fC0xIT09dC5pbmRleE9mKCJub2RlOmh0dHBzOiIpKSl9Y3JlYXRlU29ja2V0KHQsbixlKXtjb25zdCByPXsuLi5uLHNlY3VyZUVuZHBvaW50OnRoaXMuaXNTZWN1cmVFbmRwb2ludChuKX07UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9PnRoaXMuY29ubmVjdCh0LHIpKSkudGhlbigobz0+e2lmKG8gaW5zdGFuY2VvZiBzLkFnZW50KXJldHVybiBvLmFkZFJlcXVlc3QodCxyKTt0aGlzW29uXS5jdXJyZW50U29ja2V0PW8sc3VwZXIuY3JlYXRlU29ja2V0KHQsbixlKX0pLGUpfWNyZWF0ZUNvbm5lY3Rpb24oKXtjb25zdCB0PXRoaXNbb25dLmN1cnJlbnRTb2NrZXQ7aWYodGhpc1tvbl0uY3VycmVudFNvY2tldD12b2lkIDAsIXQpdGhyb3cgbmV3IEVycm9yKCJObyBzb2NrZXQgd2FzIHJldHVybmVkIGluIHRoZSBgY29ubmVjdCgpYCBmdW5jdGlvbiIpO3JldHVybiB0fWdldCBkZWZhdWx0UG9ydCgpe3JldHVybiB0aGlzW29uXS5kZWZhdWx0UG9ydD8/KCJodHRwczoiPT09dGhpcy5wcm90b2NvbD80NDM6ODApfXNldCBkZWZhdWx0UG9ydCh0KXt0aGlzW29uXSYmKHRoaXNbb25dLmRlZmF1bHRQb3J0PXQpfWdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzW29uXS5wcm90b2NvbD8/KHRoaXMuaXNTZWN1cmVFbmRwb2ludCgpPyJodHRwczoiOiJodHRwOiIpfXNldCBwcm90b2NvbCh0KXt0aGlzW29uXSYmKHRoaXNbb25dLnByb3RvY29sPXQpfX1mdW5jdGlvbiBjbiguLi50KXtfLmxvZygiW2h0dHBzLXByb3h5LWFnZW50OnBhcnNlLXByb3h5LXJlc3BvbnNlXSIsLi4udCl9ZnVuY3Rpb24gdW4odCl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixlKT0+e2xldCByPTA7Y29uc3Qgbz1bXTtmdW5jdGlvbiBzKCl7Y29uc3QgYz10LnJlYWQoKTtjP2Z1bmN0aW9uKGMpe28ucHVzaChjKSxyKz1jLmxlbmd0aDtjb25zdCB1PUJ1ZmZlci5jb25jYXQobyxyKSxhPXUuaW5kZXhPZigiXHJcblxyXG4iKTtpZigtMT09PWEpcmV0dXJuIGNuKCJoYXZlIG5vdCByZWNlaXZlZCBlbmQgb2YgSFRUUCBoZWFkZXJzIHlldC4uLiIpLHZvaWQgcygpO2NvbnN0IGY9dS5zbGljZSgwLGEpLnRvU3RyaW5nKCJhc2NpaSIpLnNwbGl0KCJcclxuIiksaD1mLnNoaWZ0KCk7aWYoIWgpcmV0dXJuIHQuZGVzdHJveSgpLGUobmV3IEVycm9yKCJObyBoZWFkZXIgcmVjZWl2ZWQgZnJvbSBwcm94eSBDT05ORUNUIHJlc3BvbnNlIikpO2NvbnN0IHA9aC5zcGxpdCgiICIpLGw9KyhwWzFdfHwwKSxkPXAuc2xpY2UoMikuam9pbigiICIpLG09e307Zm9yKGNvbnN0IG4gb2YgZil7aWYoIW4pY29udGludWU7Y29uc3Qgcj1uLmluZGV4T2YoIjoiKTtpZigtMT09PXIpcmV0dXJuIHQuZGVzdHJveSgpLGUobmV3IEVycm9yKGBJbnZhbGlkIGhlYWRlciBmcm9tIHByb3h5IENPTk5FQ1QgcmVzcG9uc2U6ICIke259ImApKTtjb25zdCBvPW4uc2xpY2UoMCxyKS50b0xvd2VyQ2FzZSgpLHM9bi5zbGljZShyKzEpLnRyaW1TdGFydCgpLGk9bVtvXTsic3RyaW5nIj09dHlwZW9mIGk/bVtvXT1baSxzXTpBcnJheS5pc0FycmF5KGkpP2kucHVzaChzKTptW29dPXN9Y24oImdvdCBwcm94eSBzZXJ2ZXIgcmVzcG9uc2U6ICVvICVvIixoLG0pLGkoKSxuKHtjb25uZWN0OntzdGF0dXNDb2RlOmwsc3RhdHVzVGV4dDpkLGhlYWRlcnM6bX0sYnVmZmVyZWQ6dX0pfShjKTp0Lm9uY2UoInJlYWRhYmxlIixzKX1mdW5jdGlvbiBpKCl7dC5yZW1vdmVMaXN0ZW5lcigiZW5kIixjKSx0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksdC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLHMpfWZ1bmN0aW9uIGMoKXtpKCksY24oIm9uZW5kIiksZShuZXcgRXJyb3IoIlByb3h5IGNvbm5lY3Rpb24gZW5kZWQgYmVmb3JlIHJlY2VpdmluZyBDT05ORUNUIHJlc3BvbnNlIikpfWZ1bmN0aW9uIHUodCl7aSgpLGNuKCJvbmVycm9yICVvIix0KSxlKHQpfXQub24oImVycm9yIix1KSx0Lm9uKCJlbmQiLGMpLHMoKX0pKX1mdW5jdGlvbiBhbiguLi50KXtfLmxvZygiW2h0dHBzLXByb3h5LWFnZW50XSIsLi4udCl9Y2xhc3MgZm4gZXh0ZW5kcyBzbntzdGF0aWMgcHJvdG9jb2xzPVsiaHR0cCIsImh0dHBzIl07cHJveHk7cHJveHlIZWFkZXJzO2Nvbm5lY3RPcHRzO2NvbnN0cnVjdG9yKHQsbil7c3VwZXIobiksdGhpcy5vcHRpb25zPXt9LHRoaXMucHJveHk9InN0cmluZyI9PXR5cGVvZiB0P25ldyBVUkwodCk6dCx0aGlzLnByb3h5SGVhZGVycz1uPy5oZWFkZXJzPz97fSxhbigiQ3JlYXRpbmcgbmV3IEh0dHBzUHJveHlBZ2VudCBpbnN0YW5jZTogJW8iLHRoaXMucHJveHkuaHJlZik7Y29uc3QgZT0odGhpcy5wcm94eS5ob3N0bmFtZXx8dGhpcy5wcm94eS5ob3N0KS5yZXBsYWNlKC9eXFt8XF0kL2csIiIpLHI9dGhpcy5wcm94eS5wb3J0P3BhcnNlSW50KHRoaXMucHJveHkucG9ydCwxMCk6Imh0dHBzOiI9PT10aGlzLnByb3h5LnByb3RvY29sPzQ0Mzo4MDt0aGlzLmNvbm5lY3RPcHRzPXtBTFBOUHJvdG9jb2xzOlsiaHR0cC8xLjEiXSwuLi5uP3BuKG4sImhlYWRlcnMiKTpudWxsLGhvc3Q6ZSxwb3J0OnJ9fWFzeW5jIGNvbm5lY3QodCxuKXtjb25zdHtwcm94eTplfT10aGlzO2lmKCFuLmhvc3QpdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gImhvc3QiIHByb3ZpZGVkJyk7bGV0IHI7aWYoImh0dHBzOiI9PT1lLnByb3RvY29sKXthbigiQ3JlYXRpbmcgYHRscy5Tb2NrZXRgOiAlbyIsdGhpcy5jb25uZWN0T3B0cyk7Y29uc3QgdD10aGlzLmNvbm5lY3RPcHRzLnNlcnZlcm5hbWV8fHRoaXMuY29ubmVjdE9wdHMuaG9zdDtyPWYuY29ubmVjdCh7Li4udGhpcy5jb25uZWN0T3B0cyxzZXJ2ZXJuYW1lOnQmJmEuaXNJUCh0KT92b2lkIDA6dH0pfWVsc2UgYW4oIkNyZWF0aW5nIGBuZXQuU29ja2V0YDogJW8iLHRoaXMuY29ubmVjdE9wdHMpLHI9YS5jb25uZWN0KHRoaXMuY29ubmVjdE9wdHMpO2NvbnN0IG89ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMucHJveHlIZWFkZXJzP3RoaXMucHJveHlIZWFkZXJzKCk6ey4uLnRoaXMucHJveHlIZWFkZXJzfSxzPWEuaXNJUHY2KG4uaG9zdCk/YFske24uaG9zdH1dYDpuLmhvc3Q7bGV0IGk9YENPTk5FQ1QgJHtzfToke24ucG9ydH0gSFRUUC8xLjFcclxuYDtpZihlLnVzZXJuYW1lfHxlLnBhc3N3b3JkKXtjb25zdCB0PWAke2RlY29kZVVSSUNvbXBvbmVudChlLnVzZXJuYW1lKX06JHtkZWNvZGVVUklDb21wb25lbnQoZS5wYXNzd29yZCl9YDtvWyJQcm94eS1BdXRob3JpemF0aW9uIl09YEJhc2ljICR7QnVmZmVyLmZyb20odCkudG9TdHJpbmcoImJhc2U2NCIpfWB9by5Ib3N0PWAke3N9OiR7bi5wb3J0fWAsb1siUHJveHktQ29ubmVjdGlvbiJdfHwob1siUHJveHktQ29ubmVjdGlvbiJdPXRoaXMua2VlcEFsaXZlPyJLZWVwLUFsaXZlIjoiY2xvc2UiKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhvKSlpKz1gJHt0fTogJHtvW3RdfVxyXG5gO2NvbnN0IGM9dW4ocik7ci53cml0ZShgJHtpfVxyXG5gKTtjb25zdHtjb25uZWN0OnUsYnVmZmVyZWQ6aH09YXdhaXQgYztpZih0LmVtaXQoInByb3h5Q29ubmVjdCIsdSksdGhpcy5lbWl0KCJwcm94eUNvbm5lY3QiLHUsdCksMjAwPT09dS5zdGF0dXNDb2RlKXtpZih0Lm9uY2UoInNvY2tldCIsaG4pLG4uc2VjdXJlRW5kcG9pbnQpe2FuKCJVcGdyYWRpbmcgc29ja2V0IGNvbm5lY3Rpb24gdG8gVExTIik7Y29uc3QgdD1uLnNlcnZlcm5hbWV8fG4uaG9zdDtyZXR1cm4gZi5jb25uZWN0KHsuLi5wbihuLCJob3N0IiwicGF0aCIsInBvcnQiKSxzb2NrZXQ6cixzZXJ2ZXJuYW1lOmEuaXNJUCh0KT92b2lkIDA6dH0pfXJldHVybiByfXIuZGVzdHJveSgpO2NvbnN0IHA9bmV3IGEuU29ja2V0KHt3cml0YWJsZTohMX0pO3JldHVybiBwLnJlYWRhYmxlPSEwLHQub25jZSgic29ja2V0IiwodD0+e2FuKCJSZXBsYXlpbmcgcHJveHkgYnVmZmVyIGZvciBmYWlsZWQgcmVxdWVzdCIpLHQucHVzaChoKSx0LnB1c2gobnVsbCl9KSkscH19ZnVuY3Rpb24gaG4odCl7dC5yZXN1bWUoKX1mdW5jdGlvbiBwbih0LC4uLm4pe2NvbnN0IGU9e307bGV0IHI7Zm9yKHIgaW4gdCluLmluY2x1ZGVzKHIpfHwoZVtyXT10W3JdKTtyZXR1cm4gZX1jb25zdCBsbj0zMjc2ODtmdW5jdGlvbiBkbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eW0EtWl06LywiIikucmVwbGFjZSgvXFwvZywiLyIpfWNvbnN0IG1uPWU7bGV0IHluLGduPSExLGJuPXt9O2Z1bmN0aW9uIF9uKHQpe21uLmRlYnVnJiZjb25zb2xlLmxvZyhgW0FOUiBXb3JrZXJdICR7dH1gKX12YXIgdm4sd24sU247Y29uc3QgJG49ZnVuY3Rpb24odCl7bGV0IG47dHJ5e249bmV3IFVSTCh0LnVybCl9Y2F0Y2gobil7cmV0dXJuIGIoKCgpPT57Y29uc29sZS53YXJuKCJbQHNlbnRyeS9ub2RlXTogSW52YWxpZCBkc24gb3IgdHVubmVsIG9wdGlvbiwgd2lsbCBub3Qgc2VuZCBhbnkgZXZlbnRzLiBUaGUgdHVubmVsIG9wdGlvbiBtdXN0IGJlIGEgZnVsbCBVUkwgd2hlbiB1c2VkLiIpfSkpLHRuKHQsKCgpPT5Qcm9taXNlLnJlc29sdmUoe30pKSl9Y29uc3QgZT0iaHR0cHM6Ij09PW4ucHJvdG9jb2wscj1mdW5jdGlvbih0LG4pe2NvbnN0e25vX3Byb3h5OmV9PXByb2Nlc3MuZW52O3JldHVybiBlJiZlLnNwbGl0KCIsIikuc29tZSgobj0+dC5ob3N0LmVuZHNXaXRoKG4pfHx0Lmhvc3RuYW1lLmVuZHNXaXRoKG4pKSk/dm9pZCAwOm59KG4sdC5wcm94eXx8KGU/cHJvY2Vzcy5lbnYuaHR0cHNfcHJveHk6dm9pZCAwKXx8cHJvY2Vzcy5lbnYuaHR0cF9wcm94eSksbz1lP2k6cyxhPXZvaWQgMCE9PXQua2VlcEFsaXZlJiZ0LmtlZXBBbGl2ZSxmPXI/bmV3IGZuKHIpOm5ldyBvLkFnZW50KHtrZWVwQWxpdmU6YSxtYXhTb2NrZXRzOjMwLHRpbWVvdXQ6MmUzfSksaD1mdW5jdGlvbih0LG4sZSl7Y29uc3R7aG9zdG5hbWU6cixwYXRobmFtZTpvLHBvcnQ6cyxwcm90b2NvbDppLHNlYXJjaDphfT1uZXcgVVJMKHQudXJsKTtyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIG5ldyBQcm9taXNlKCgoaCxwKT0+e0h0KCgoKT0+e2xldCBsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYyh7cmVhZCgpe3RoaXMucHVzaCh0KSx0aGlzLnB1c2gobnVsbCl9fSl9KGYuYm9keSk7Y29uc3QgZD17Li4udC5oZWFkZXJzfTtmLmJvZHkubGVuZ3RoPmxuJiYoZFsiY29udGVudC1lbmNvZGluZyJdPSJnemlwIixsPWwucGlwZSh1KCkpKTtjb25zdCBtPW4ucmVxdWVzdCh7bWV0aG9kOiJQT1NUIixhZ2VudDplLGhlYWRlcnM6ZCxob3N0bmFtZTpyLHBhdGg6YCR7b30ke2F9YCxwb3J0OnMscHJvdG9jb2w6aSxjYTp0LmNhQ2VydHN9LCh0PT57dC5vbigiZGF0YSIsKCgpPT57fSkpLHQub24oImVuZCIsKCgpPT57fSkpLHQuc2V0RW5jb2RpbmcoInV0ZjgiKTtjb25zdCBuPXQuaGVhZGVyc1sicmV0cnktYWZ0ZXIiXT8/bnVsbCxlPXQuaGVhZGVyc1sieC1zZW50cnktcmF0ZS1saW1pdHMiXT8/bnVsbDtoKHtzdGF0dXNDb2RlOnQuc3RhdHVzQ29kZSxoZWFkZXJzOnsicmV0cnktYWZ0ZXIiOm4sIngtc2VudHJ5LXJhdGUtbGltaXRzIjpBcnJheS5pc0FycmF5KGUpP2VbMF18fG51bGw6ZX19KX0pKTttLm9uKCJlcnJvciIscCksbC5waXBlKG0pfSkpfSkpfX0odCx0Lmh0dHBNb2R1bGU/P28sZik7cmV0dXJuIHRuKHQsaCl9KHt1cmw6KHZuPW1uLmRzbix3bj1tbi50dW5uZWwsU249bW4uc2RrTWV0YWRhdGEuc2RrLHdufHxgJHtmdW5jdGlvbih0KXtyZXR1cm5gJHtmdW5jdGlvbih0KXtjb25zdCBuPXQucHJvdG9jb2w/YCR7dC5wcm90b2NvbH06YDoiIixlPXQucG9ydD9gOiR7dC5wb3J0fWA6IiI7cmV0dXJuYCR7bn0vLyR7dC5ob3N0fSR7ZX0ke3QucGF0aD9gLyR7dC5wYXRofWA6IiJ9L2FwaS9gfSh0KX0ke3QucHJvamVjdElkfS9lbnZlbG9wZS9gfSh2bil9PyR7S3Qodm4sU24pfWApLHJlY29yZERyb3BwZWRFdmVudDooKT0+e319KTthc3luYyBmdW5jdGlvbiBFbigpe2lmKHluKXtfbigiU2VuZGluZyBhYm5vcm1hbCBzZXNzaW9uIiksVih5bix7c3RhdHVzOiJhYm5vcm1hbCIsYWJub3JtYWxfbWVjaGFuaXNtOiJhbnJfZm9yZWdyb3VuZCJ9KTtjb25zdCB0PWZ1bmN0aW9uKHQsbixlLHIpe2NvbnN0IG89SnQoZSk7cmV0dXJuIFV0KHtzZW50X2F0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSwuLi5vJiZ7c2RrOm99LC4uLiEhciYmbiYme2RzbjpEdChuKX19LFsiYWdncmVnYXRlcyJpbiB0P1t7dHlwZToic2Vzc2lvbnMifSx0XTpbe3R5cGU6InNlc3Npb24ifSx0LnRvSlNPTigpXV0pfSh5bixtbi5kc24sbW4uc2RrTWV0YWRhdGEsbW4udHVubmVsKTtfbihKU09OLnN0cmluZ2lmeSh0KSksYXdhaXQgJG4uc2VuZCh0KTt0cnl7bj8ucG9zdE1lc3NhZ2UoInNlc3Npb24tZW5kZWQiKX1jYXRjaCh0KXt9fX1mdW5jdGlvbiB4bih0KXtpZighdClyZXR1cm47Y29uc3Qgbj1mdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuW107Y29uc3Qgbj1BcnJheS5mcm9tKHQpO3JldHVybi9zZW50cnlXcmFwcGVkLy50ZXN0KCQobikuZnVuY3Rpb258fCIiKSYmbi5wb3AoKSxuLnJldmVyc2UoKSxTLnRlc3QoJChuKS5mdW5jdGlvbnx8IiIpJiYobi5wb3AoKSxTLnRlc3QoJChuKS5mdW5jdGlvbnx8IiIpJiZuLnBvcCgpKSxuLnNsaWNlKDAsdikubWFwKCh0PT4oey4uLnQsZmlsZW5hbWU6dC5maWxlbmFtZXx8JChuKS5maWxlbmFtZSxmdW5jdGlvbjp0LmZ1bmN0aW9ufHx3fSkpKX0odCk7aWYobW4uYXBwUm9vdFBhdGgpZm9yKGNvbnN0IHQgb2Ygbil0LmZpbGVuYW1lJiYodC5maWxlbmFtZT1QdCh0LmZpbGVuYW1lLG1uLmFwcFJvb3RQYXRoKSk7cmV0dXJuIG59YXN5bmMgZnVuY3Rpb24gTm4odCxuKXtpZihnbilyZXR1cm47Z249ITAsYXdhaXQgRW4oKSxfbigiU2VuZGluZyBldmVudCIpO2NvbnN0IGU9e2V2ZW50X2lkOnooKSxjb250ZXh0czptbi5jb250ZXh0cyxyZWxlYXNlOm1uLnJlbGVhc2UsZW52aXJvbm1lbnQ6bW4uZW52aXJvbm1lbnQsZGlzdDptbi5kaXN0LHBsYXRmb3JtOiJub2RlIixsZXZlbDoiZXJyb3IiLGV4Y2VwdGlvbjp7dmFsdWVzOlt7dHlwZToiQXBwbGljYXRpb25Ob3RSZXNwb25kaW5nIix2YWx1ZTpgQXBwbGljYXRpb24gTm90IFJlc3BvbmRpbmcgZm9yIGF0IGxlYXN0ICR7bW4uYW5yVGhyZXNob2xkfSBtc2Asc3RhY2t0cmFjZTp7ZnJhbWVzOnhuKHQpfSxtZWNoYW5pc206e3R5cGU6IkFOUiJ9fV19LHRhZ3M6bW4uc3RhdGljVGFnc307biYmZnVuY3Rpb24odCxuKXtpZihXdCh0LG4pLCF0LmNvbnRleHRzPy50cmFjZSl7Y29uc3R7dHJhY2VJZDplLHNwYW5JZDpyLHBhcmVudFNwYW5JZDpvfT1uLnByb3BhZ2F0aW9uQ29udGV4dDt0LmNvbnRleHRzPXt0cmFjZTp7dHJhY2VfaWQ6ZSxzcGFuX2lkOnIscGFyZW50X3NwYW5faWQ6b30sLi4udC5jb250ZXh0c319fShlLG4pLGZ1bmN0aW9uKHQpe2lmKDA9PT1PYmplY3Qua2V5cyhibikubGVuZ3RoKXJldHVybjtjb25zdCBuPW5ldyBNYXA7Zm9yKGNvbnN0IGUgb2YgdC5leGNlcHRpb24/LnZhbHVlc3x8W10pZm9yKGNvbnN0IHQgb2YgZS5zdGFja3RyYWNlPy5mcmFtZXN8fFtdKXtjb25zdCBlPXQuYWJzX3BhdGh8fHQuZmlsZW5hbWU7ZSYmYm5bZV0mJm4uc2V0KGUsYm5bZV0pfWlmKG4uc2l6ZT4wKXtjb25zdCBlPVtdO2Zvcihjb25zdFt0LHJdb2Ygbi5lbnRyaWVzKCkpZS5wdXNoKHt0eXBlOiJzb3VyY2VtYXAiLGNvZGVfZmlsZTp0LGRlYnVnX2lkOnJ9KTt0LmRlYnVnX21ldGE9e2ltYWdlczplfX19KGUpO2NvbnN0IHI9WXQoZSxtbi5kc24sbW4uc2RrTWV0YWRhdGEsbW4udHVubmVsKTtfbihKU09OLnN0cmluZ2lmeShyKSksYXdhaXQgJG4uc2VuZChyKSxhd2FpdCAkbi5mbHVzaCgyZTMpLHNldFRpbWVvdXQoKCgpPT57cHJvY2Vzcy5leGl0KDApfSksNWUzKX1sZXQgQ247aWYoX24oIlN0YXJ0ZWQiKSxtbi5jYXB0dXJlU3RhY2tUcmFjZSl7X24oIkNvbm5lY3RpbmcgdG8gZGVidWdnZXIiKTtjb25zdCBuPW5ldyB0O24uY29ubmVjdFRvTWFpblRocmVhZCgpLF9uKCJDb25uZWN0ZWQgdG8gZGVidWdnZXIiKTtjb25zdCBlPW5ldyBNYXA7bi5vbigiRGVidWdnZXIuc2NyaXB0UGFyc2VkIiwodD0+e2Uuc2V0KHQucGFyYW1zLnNjcmlwdElkLHQucGFyYW1zLnVybCl9KSksbi5vbigiRGVidWdnZXIucGF1c2VkIiwodD0+e2lmKCJvdGhlciI9PT10LnBhcmFtcy5yZWFzb24pdHJ5e19uKCJEZWJ1Z2dlciBwYXVzZWQiKTtjb25zdCBzPVsuLi50LnBhcmFtcy5jYWxsRnJhbWVzXSxpPW1uLmFwcFJvb3RQYXRoP2Z1bmN0aW9uKHQ9KHByb2Nlc3MuYXJndlsxXT9lbihwcm9jZXNzLmFyZ3ZbMV0pOnByb2Nlc3MuY3dkKCkpLG49IlxcIj09PW8pe2NvbnN0IGU9bj9kbih0KTp0O3JldHVybiB0PT57aWYoIXQpcmV0dXJuO2NvbnN0IG89bj9kbih0KTp0O2xldHtkaXI6cyxiYXNlOmksZXh0OmN9PXIucGFyc2Uobyk7Ii5qcyIhPT1jJiYiLm1qcyIhPT1jJiYiLmNqcyIhPT1jfHwoaT1pLnNsaWNlKDAsLTEqYy5sZW5ndGgpKSxzfHwocz0iLiIpO2NvbnN0IHU9cy5sYXN0SW5kZXhPZigiL25vZGVfbW9kdWxlcyIpO2lmKHU+LTEpcmV0dXJuYCR7cy5zbGljZSh1KzE0KS5yZXBsYWNlKC9cLy9nLCIuIil9OiR7aX1gO2lmKHMuc3RhcnRzV2l0aChlKSl7bGV0IHQ9cy5zbGljZShlLmxlbmd0aCsxKS5yZXBsYWNlKC9cLy9nLCIuIik7cmV0dXJuIHQmJih0Kz0iOiIpLHQrPWksdH1yZXR1cm4gaX19KG1uLmFwcFJvb3RQYXRoKTooKT0+e30sYz1zLm1hcCgodD0+ZnVuY3Rpb24odCxuLGUpe2NvbnN0IHI9bj9uLnJlcGxhY2UoL15maWxlOlwvXC8vLCIiKTp2b2lkIDAsbz10LmxvY2F0aW9uLmNvbHVtbk51bWJlcj90LmxvY2F0aW9uLmNvbHVtbk51bWJlcisxOnZvaWQgMCxzPXQubG9jYXRpb24ubGluZU51bWJlcj90LmxvY2F0aW9uLmxpbmVOdW1iZXIrMTp2b2lkIDA7cmV0dXJuIEwoe2ZpbGVuYW1lOnIsbW9kdWxlOmUociksZnVuY3Rpb246dC5mdW5jdGlvbk5hbWV8fHcsY29sbm86byxsaW5lbm86cyxpbl9hcHA6cj9ybihyKTp2b2lkIDB9KX0odCxlLmdldCh0LmxvY2F0aW9uLnNjcmlwdElkKSxpKSkpLHU9c2V0VGltZW91dCgoKCk9PntObihjKS50aGVuKG51bGwsKCgpPT57X24oIlNlbmRpbmcgQU5SIGV2ZW50IGZhaWxlZC4iKX0pKX0pLDVlMyk7bi5wb3N0KCJSdW50aW1lLmV2YWx1YXRlIix7ZXhwcmVzc2lvbjoiZ2xvYmFsLl9fU0VOVFJZX0dFVF9TQ09QRVNfXygpOyIsc2lsZW50OiEwLHJldHVybkJ5VmFsdWU6ITB9LCgodCxlKT0+e3QmJl9uKGBFcnJvciBleGVjdXRpbmcgc2NyaXB0OiAnJHt0Lm1lc3NhZ2V9J2ApLGNsZWFyVGltZW91dCh1KTtjb25zdCByPWUmJmUucmVzdWx0P2UucmVzdWx0LnZhbHVlOnZvaWQgMDtuLnBvc3QoIkRlYnVnZ2VyLnJlc3VtZSIpLG4ucG9zdCgiRGVidWdnZXIuZGlzYWJsZSIpLE5uKGMscikudGhlbihudWxsLCgoKT0+e19uKCJTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQuIil9KSl9KSl9Y2F0Y2godCl7dGhyb3cgbi5wb3N0KCJEZWJ1Z2dlci5yZXN1bWUiKSxuLnBvc3QoIkRlYnVnZ2VyLmRpc2FibGUiKSx0fX0pKSxDbj0oKT0+e3RyeXtuLnBvc3QoIkRlYnVnZ2VyLmVuYWJsZSIsKCgpPT57bi5wb3N0KCJEZWJ1Z2dlci5wYXVzZSIpfSkpfWNhdGNoKHQpe319fWNvbnN0e3BvbGw6VG59PWZ1bmN0aW9uKHQsbixlLHIpe2NvbnN0IG89dCgpO2xldCBzPSExLGk9ITA7cmV0dXJuIHNldEludGVydmFsKCgoKT0+e2NvbnN0IHQ9by5nZXRUaW1lTXMoKTshMT09PXMmJnQ+bitlJiYocz0hMCxpJiZyKCkpLHQ8bitlJiYocz0hMSl9KSwyMCkse3BvbGw6KCk9PntvLnJlc2V0KCl9LGVuYWJsZWQ6dD0+e2k9dH19fSgoZnVuY3Rpb24oKXtsZXQgdD1wcm9jZXNzLmhydGltZSgpO3JldHVybntnZXRUaW1lTXM6KCk9Pntjb25zdFtuLGVdPXByb2Nlc3MuaHJ0aW1lKHQpO3JldHVybiBNYXRoLmZsb29yKDFlMypuK2UvMWU2KX0scmVzZXQ6KCk9Pnt0PXByb2Nlc3MuaHJ0aW1lKCl9fX0pLG1uLnBvbGxJbnRlcnZhbCxtbi5hbnJUaHJlc2hvbGQsKGZ1bmN0aW9uKCl7X24oIldhdGNoZG9nIHRpbWVvdXQiKSxDbj8oX24oIlBhdXNpbmcgZGVidWdnZXIgdG8gY2FwdHVyZSBzdGFjayB0cmFjZSIpLENuKCkpOihfbigiQ2FwdHVyaW5nIGV2ZW50IHdpdGhvdXQgYSBzdGFjayB0cmFjZSIpLE5uKCkudGhlbihudWxsLCgoKT0+e19uKCJTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQgb24gd2F0Y2hkb2cgdGltZW91dC4iKX0pKSl9KSk7bj8ub24oIm1lc3NhZ2UiLCh0PT57dC5zZXNzaW9uJiYoeW49Syh0LnNlc3Npb24pKSx0LmRlYnVnSW1hZ2VzJiYoYm49dC5kZWJ1Z0ltYWdlcyksVG4oKX0pKTs=";function u(e,...t){a.logger.log(`[ANR] ${e}`,...t)}function p(){const e=a.getGlobalScope().getScopeData();return a.mergeScopeData(e,a.getIsolationScope().getScopeData()),a.mergeScopeData(e,a.getCurrentScope().getScopeData()),e.attachments=[],e.eventProcessors=[],e}const d=a.defineIntegration(((e={})=>{if(c.NODE_VERSION.major<16||16===c.NODE_VERSION.major&&c.NODE_VERSION.minor<17)throw new Error("ANR detection requires Node 16.17.0 or later");let t,d;return a.GLOBAL_OBJ.__SENTRY_GET_SCOPES__=p,{name:"Anr",startWorker:()=>{t||d&&(t=async function(e,t){const c=e.getDsn();if(!c)return()=>{};const p=await async function(e){let t={message:"ANR"};const r={};for(const n of e.getEventProcessors()){if(null===t)break;t=await n(t,r)}return n([t,"optionalAccess",e=>e.contexts])||{}}(e);o([p,"access",e=>e.app,"optionalAccess",e=>delete e.app_memory]),o([p,"access",e=>e.device,"optionalAccess",e=>delete e.free_memory]);const d=e.getOptions(),h=e.getSdkMetadata()||{};h.sdk&&(h.sdk.integrations=d.integrations.map((e=>e.name)));const f={debug:a.logger.isEnabled(),dsn:c,tunnel:d.tunnel,environment:d.environment||"production",release:d.release,dist:d.dist,sdkMetadata:h,appRootPath:t.appRootPath,pollInterval:t.pollInterval||50,anrThreshold:t.anrThreshold||5e3,captureStackTrace:!!t.captureStackTrace,staticTags:t.staticTags||{},contexts:p};if(f.captureStackTrace){const e=await Promise.resolve().then(r.t.bind(r,86592,23));e.url()||e.open(0)}let m=a.getFilenameToDebugIdMap(d.stackParser);var g;g=()=>{m=a.getFilenameToDebugIdMap(d.stackParser)},s.channel("module.require.end").subscribe((()=>g())),s.channel("module.import.asyncEnd").subscribe((()=>g()));const E=new i.Worker(new URL(`data:application/javascript;base64,${l}`),{workerData:f,execArgv:[]});process.on("exit",(()=>{E.terminate()}));const S=setInterval((()=>{try{const e=a.getCurrentScope().getSession(),t=e?{...e,toJSON:void 0}:void 0;E.postMessage({session:t,debugImages:m})}catch(e){}}),f.pollInterval);return S.unref(),E.on("message",(e=>{"session-ended"===e&&(u("ANR event sent from ANR worker. Clearing session in this thread."),a.getCurrentScope().setSession(void 0))})),E.once("error",(e=>{clearInterval(S),u("ANR worker error",e)})),E.once("exit",(e=>{clearInterval(S),u("ANR worker exit",e)})),E.unref(),()=>{E.terminate(),clearInterval(S)}}(d,e))},stopWorker:()=>{t&&t.then((e=>{e(),t=void 0}))},setup(e){d=e,setImmediate((()=>this.startWorker()))}}}));t.anrIntegration=d,t.base64WorkerScript=l},22044:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(53053),o=r(37872),s=o.defineIntegration(((e={})=>({name:"ProcessAndThreadBreadcrumbs",setup(t){n.channel("child_process").subscribe((t=>{t&&"object"==typeof t&&"process"in t&&function(e,t){let r,n=!1;e.on("spawn",(()=>{"/usr/bin/sw_vers"!==e.spawnfile?(r={spawnfile:e.spawnfile},t.includeChildProcessArgs&&(r.spawnargs=e.spawnargs)):n=!0})).on("exit",(e=>{n||(n=!0,null!==e&&0!==e&&o.addBreadcrumb({category:"child_process",message:`Child process exited with code '${e}'`,level:"warning",data:r}))})).on("error",(e=>{n||(n=!0,o.addBreadcrumb({category:"child_process",message:`Child process errored with '${e.message}'`,level:"error",data:r}))}))}(t.process,e)})),n.channel("worker_threads").subscribe((e=>{e&&"object"==typeof e&&"worker"in e&&function(e){let t;e.on("online",(()=>{t=e.threadId})).on("error",(e=>{o.addBreadcrumb({category:"worker_thread",message:`Worker thread errored with '${e.message}'`,level:"error",data:{threadId:t}})}))}(e.worker)}))}}))),i=s;t.childProcessIntegration=s,t.processThreadBreadcrumbIntegration=i},95022:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(57975),o=r(37872),s=o.defineIntegration((()=>({name:"Console",setup(e){o.addConsoleInstrumentationHandler((({args:t,level:r})=>{o.getClient()===e&&o.addBreadcrumb({category:"console",level:o.severityLevelFromString(r),message:o.truncate(n.format.apply(void 0,t),2048)},{input:[...t],level:r})}))}})));t.consoleIntegration=s},82660:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(31421),s=r(73024),i=r(48161),a=r(76760),c=r(57975),l=r(37872),u=c.promisify(s.readFile),p=c.promisify(s.readdir),d=l.defineIntegration(((e={})=>{let t;const r={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0,...e};return{name:"Context",processEvent:e=>async function(e){void 0===t&&(t=async function(){const e={};if(r.os&&(e.os=await async function(){const e=i.platform();switch(e){case"darwin":return async function(){const e={kernel_version:i.release(),name:"Mac OS X",version:"10."+(Number(i.release().split(".")[0])-4)};try{const t=await new Promise(((e,t)=>{o.execFile("/usr/bin/sw_vers",((r,n)=>{r?t(r):e(n)}))}));e.name=S(/^ProductName:\s+(.*)$/m,t),e.version=S(/^ProductVersion:\s+(.*)$/m,t),e.build=S(/^BuildVersion:\s+(.*)$/m,t)}catch(e){}return e}();case"linux":return async function(){const e={kernel_version:i.release(),name:"Linux"};try{const t=await p("/etc"),r=g.find((e=>t.includes(e.name)));if(!r)return e;const o=a.join("/etc",r.name),s=(await u(o,{encoding:"utf-8"})).toLowerCase(),{distros:i}=r;e.name=i.find((e=>s.indexOf(_(e))>=0))||i[0];const c=_(e.name);e.version=n([E,"access",e=>e[c],"optionalCall",e=>e(s)])}catch(e){}return e}();default:return{name:m[e]||e,version:i.release()}}}()),r.app&&(e.app=h()),r.device&&(e.device=f(r.device)),r.culture){const t=function(){try{if("string"!=typeof process.versions.icu)return;const e=new Date(9e8);if("enero"===new Intl.DateTimeFormat("es",{month:"long"}).format(e)){const e=Intl.DateTimeFormat().resolvedOptions();return{locale:e.locale,timezone:e.timeZone}}}catch(e){}}();t&&(e.culture=t)}return r.cloudResource&&(e.cloud_resource=process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0),e}());const s=function(e){if(n([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),n([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.free_memory])&&"function"==typeof process.availableMemory){const t=n([process,"access",e=>e.availableMemory,"optionalCall",e=>e()]);null!=t&&(e.app.free_memory=t)}return n([e,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(e.device.free_memory=i.freemem()),e}(await t);return e.contexts={...e.contexts,app:{...s.app,...n([e,"access",e=>e.contexts,"optionalAccess",e=>e.app])},os:{...s.os,...n([e,"access",e=>e.contexts,"optionalAccess",e=>e.os])},device:{...s.device,...n([e,"access",e=>e.contexts,"optionalAccess",e=>e.device])},culture:{...s.culture,...n([e,"access",e=>e.contexts,"optionalAccess",e=>e.culture])},cloud_resource:{...s.cloud_resource,...n([e,"access",e=>e.contexts,"optionalAccess",e=>e.cloud_resource])}},e}(e)}}));function h(){const e=process.memoryUsage().rss,t={app_start_time:new Date(Date.now()-1e3*process.uptime()).toISOString(),app_memory:e};if("function"==typeof process.availableMemory){const e=n([process,"access",e=>e.availableMemory,"optionalCall",e=>e()]);null!=e&&(t.free_memory=e)}return t}function f(e){const t={};let r;try{r=i.uptime&&i.uptime()}catch(e){}if("number"==typeof r&&(t.boot_time=new Date(Date.now()-1e3*r).toISOString()),t.arch=i.arch(),(!0===e||e.memory)&&(t.memory_size=i.totalmem(),t.free_memory=i.freemem()),!0===e||e.cpu){const e=i.cpus(),r=e&&e[0];r&&(t.processor_count=e.length,t.cpu_description=r.model,t.processor_frequency=r.speed)}return t}const m={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},g=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],E={alpine:e=>e,arch:e=>S(/distrib_release=(.*)/,e),centos:e=>S(/release ([^ ]+)/,e),debian:e=>e,fedora:e=>S(/release (..)/,e),mint:e=>S(/distrib_release=(.*)/,e),red:e=>S(/release ([^ ]+)/,e),suse:e=>S(/VERSION = (.*)\n/,e),ubuntu:e=>S(/distrib_release=(.*)/,e)};function S(e,t){const r=e.exec(t);return r?r[1]:void 0}function _(e){return e.split(" ")[0].toLowerCase()}t.getAppContext=h,t.getDeviceContext=f,t.nodeContextIntegration=d,t.readDirAsync=p,t.readFileAsync=u},8421:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(73024),s=r(80481),i=r(37872),a=r(13169),c=new i.LRUMap(10),l=new i.LRUMap(20);function u(e,t,r){const n=e.get(t);return void 0===n?(e.set(t,r),r):n}function p(e){return void 0!==e.lineno&&e.lineno>1e4||void 0!==e.colno&&e.colno>1e3}function d(e,t){const r=c.get(e);if(void 0===r)return!1;for(let e=t[0];e<=t[1];e++)if(void 0===r[e])return!1;return!0}function h(e,t){if(!e.length)return[];let r=0;const n=e[0];if("number"!=typeof n)return[];let o=y(n,t);const s=[];for(;;){if(r===e.length-1){s.push(o);break}const n=e[r+1];if("number"!=typeof n)break;n<=o[1]?o[1]=n+t:(s.push(o),o=y(n,t)),r++}return s}function f(e,t,r){return new Promise(((n,c)=>{const u=o.createReadStream(e),p=s.createInterface({input:u});let d=0,h=0;const f=t[h];if(void 0===f)return void n();let m=f[0],g=f[1];function E(t){l.set(e,1),a.DEBUG_BUILD&&i.logger.error(`Failed to read file: ${e}. Error: ${t}`),p.close(),p.removeAllListeners(),n()}u.on("error",E),p.on("error",E),p.on("close",n),p.on("line",(e=>{if(d++,!(d<m)&&(r[d]=i.snipLine(e,0),d>=g)){if(h===t.length-1)return p.close(),void p.removeAllListeners();h++;const e=t[h];if(void 0===e)return p.close(),void p.removeAllListeners();m=e[0],g=e[1]}}))}))}function m(e,t,r){for(const n of e)if(n.filename&&void 0===n.context_line&&"number"==typeof n.lineno){const e=r.get(n.filename);if(void 0===e)continue;E(n.lineno,n,t,e)}}function g(e){delete e.pre_context,delete e.context_line,delete e.post_context}function E(e,t,r,n){if(void 0===t.lineno||void 0===n)return void(a.DEBUG_BUILD&&i.logger.error("Cannot resolve context for frame with no lineno or file contents"));t.pre_context=[];for(let o=S(e,r);o<e;o++){const e=n[o];if(void 0===e)return g(t),void(a.DEBUG_BUILD&&i.logger.error(`Could not find line ${o} in file ${t.filename}`));t.pre_context.push(e)}if(void 0===n[e])return g(t),void(a.DEBUG_BUILD&&i.logger.error(`Could not find line ${e} in file ${t.filename}`));t.context_line=n[e];const o=_(e,r);t.post_context=[];for(let r=e+1;r<=o;r++){const e=n[r];if(void 0===e)break;t.post_context.push(e)}}function S(e,t){return Math.max(1,e-t)}function _(e,t){return e+t}function y(e,t){return[S(e,t),_(e,t)]}const A=(e={})=>{const t=void 0!==e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>async function(e,t){const r={};if(t>0&&n([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const t of e.exception.values)if(n([t,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e.length]))for(let e=t.stacktrace.frames.length-1;e>=0;e--){const s=t.stacktrace.frames[e],i=n([s,"optionalAccess",e=>e.filename]);!s||"string"!=typeof i||"number"!=typeof s.lineno||(o=i).startsWith("node:")||o.endsWith(".min.js")||o.endsWith(".min.cjs")||o.endsWith(".min.mjs")||o.startsWith("data:")||p(s)||(r[i]||(r[i]=[]),r[i].push(s.lineno))}var o;const s=Object.keys(r);if(0==s.length)return e;const g=[];for(const e of s){if(l.get(e))continue;const n=r[e];if(!n)continue;n.sort(((e,t)=>e-t));const o=h(n,t);if(o.every((t=>d(e,t))))continue;const s=u(c,e,{});g.push(f(e,o,s))}if(await Promise.all(g).catch((()=>{a.DEBUG_BUILD&&i.logger.log("Failed to read one or more source files and resolve context lines")})),t>0&&n([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const r of e.exception.values)r.stacktrace&&r.stacktrace.frames&&r.stacktrace.frames.length>0&&m(r.stacktrace.frames,t,c);return e}(e,t)}},v=i.defineIntegration(A);t.MAX_CONTEXTLINES_COLNO=1e3,t.MAX_CONTEXTLINES_LINENO=1e4,t._contextLinesIntegration=A,t.addContextToFrame=E,t.contextLinesIntegration=v},78852:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(30135),o=r(37872),s=r(40013),i="FileSystem",a=o.defineIntegration(((e={})=>({name:i,setupOnce(){s.generateInstrumentOnce(i,(()=>new n.FsInstrumentation({requireParentSpan:!0,endHook(t,{args:r,span:n,error:s}){n.updateName(`fs.${t}`),n.setAttributes({[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"file",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.file.fs"}),e.recordErrorMessagesAsSpanAttributes&&("string"==typeof r[0]&&h.includes(t)?n.setAttribute("path_argument",r[0]):"string"==typeof r[0]&&"string"==typeof r[1]&&d.includes(t)?(n.setAttribute("target_argument",r[0]),n.setAttribute("path_argument",r[1])):"string"==typeof r[0]&&p.includes(t)?n.setAttribute("prefix_argument",r[0]):"string"==typeof r[0]&&"string"==typeof r[1]&&u.includes(t)?(n.setAttribute("existing_path_argument",r[0]),n.setAttribute("new_path_argument",r[1])):"string"==typeof r[0]&&"string"==typeof r[1]&&l.includes(t)?(n.setAttribute("src_argument",r[0]),n.setAttribute("dest_argument",r[1])):"string"==typeof r[0]&&"string"==typeof r[1]&&c.includes(t)&&(n.setAttribute("old_path_argument",r[0]),n.setAttribute("new_path_argument",r[1]))),s&&e.recordErrorMessagesAsSpanAttributes&&n.setAttribute("fs_error",s.message)}})))()}}))),c=["rename","renameSync"],l=["copyFile","cp","copyFileSync","cpSync"],u=["link","linkSync"],p=["mkdtemp","mkdtempSync"],d=["symlink","symlinkSync"],h=["access","appendFile","chmod","chown","exists","mkdir","lchown","lstat","lutimes","open","opendir","readdir","readFile","readlink","realpath","realpath.native","rm","rmdir","stat","truncate","unlink","utimes","writeFile","accessSync","appendFileSync","chmodSync","chownSync","existsSync","lchownSync","lstatSync","lutimesSync","opendirSync","mkdirSync","openSync","readdirSync","readFileSync","readlinkSync","realpathSync","realpathSync.native","rmdirSync","rmSync","statSync","truncateSync","unlinkSync","utimesSync","writeFileSync"];t.fsIntegration=a},88211:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(98035),o=r(23815),s=r(86520),i=r(37872),a=r(13169),c=r(1247);class l extends o.InstrumentationBase{constructor(e={}){super("@sentry/instrumentation-http",n.VERSION,e)}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new o.InstrumentationNodeModuleDefinition("http",["*"],(e=>{u(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction());const t=u(e,"request",this._getPatchOutgoingRequestFunction());return u(e,"get",this._getPatchOutgoingGetFunction(t)),e}),(()=>{}))}_getHttpsInstrumentation(){return new o.InstrumentationNodeModuleDefinition("https",["*"],(e=>{u(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction());const t=u(e,"request",this._getPatchOutgoingRequestFunction());return u(e,"get",this._getPatchOutgoingGetFunction(t)),e}),(()=>{}))}_getPatchIncomingRequestFunction(){const e=this;return t=>function(r,...n){if("request"!==r)return t.apply(this,[r,...n]);e._diag.debug("http instrumentation for incoming request");const o=i.getIsolationScope().clone(),s=n[0],c=i.httpRequestToRequestData(s);!function(e,t){const r=[];const n=new WeakMap;try{e.on=new Proxy(e.on,{apply:(e,o,s)=>{const[c,l,...u]=s;if("data"===c){const t=new Proxy(l,{apply:(e,t,n)=>{if(r.reduce(((e,t)=>e+t.byteLength),0)<1048576){const e=n[0];r.push(e)}else a.DEBUG_BUILD&&i.logger.log("Dropping request body chunk because it maximum body length of 1048576b is exceeded.");return Reflect.apply(e,t,n)}});return n.set(l,t),Reflect.apply(e,o,[c,t,...u])}if("end"===c){const s=new Proxy(l,{apply:(e,n,o)=>{try{const e=Buffer.concat(r).toString("utf-8");if(e){const r={data:e};t.setSDKProcessingMetadata({normalizedRequest:r})}}catch(e){}return Reflect.apply(e,n,o)}});return n.set(l,s),Reflect.apply(e,o,[c,s,...u])}return Reflect.apply(e,o,s)}}),e.off=new Proxy(e.off,{apply:(e,t,r)=>{const[,o]=r,s=n.get(o);if(s){n.delete(o);const i=r.slice();return i[1]=s,Reflect.apply(e,t,i)}return Reflect.apply(e,t,r)}})}catch(e){}}(s,o),o.setSDKProcessingMetadata({request:s,normalizedRequest:c});const l=i.getClient();l&&l.getOptions().autoSessionTracking&&o.setRequestSession({status:"ok"});const u=`${(s.method||"GET").toUpperCase()} ${i.stripUrlQueryAndFragment(s.url||"/")}`;return o.setTransactionName(u),i.withIsolationScope(o,(()=>t.apply(this,[r,...n])))}}_getPatchOutgoingRequestFunction(){const e=this;return t=>function(...r){e._diag.debug("http instrumentation for outgoing requests");const n=[...r],o=n.shift(),a="object"==typeof n[0]&&("string"==typeof o||o instanceof URL)?n.shift():void 0,{optionsParsed:l}=s.getRequestInfo(o,a),u=t.apply(this,r);return u.prependListener("response",(t=>{const r=e.getConfig().breadcrumbs,n=void 0===r||r,o=e.getConfig().ignoreOutgoingRequests,s="function"!=typeof o||!o(c.getRequestUrl(u),l);n&&s&&function(e,t){const r=function(e){try{const t=e.getHeader("host")||e.host,r=new URL(e.path,`${e.protocol}//${t}`),n=i.parseUrl(r.toString()),o={url:i.getSanitizedUrlString(n),"http.method":e.method||"GET"};return n.search&&(o["http.query"]=n.search),n.hash&&(o["http.fragment"]=n.hash),o}catch(e){return{}}}(e),n=t.statusCode,o=i.getBreadcrumbLogLevelFromHttpStatusCode(n);i.addBreadcrumb({category:"http",data:{status_code:n,...r},type:"http",level:o},{event:"response",request:e,response:t})}(u,t)})),u}}_getPatchOutgoingGetFunction(e){return t=>function(...t){const r=e(...t);return r.end(),r}}}function u(e,t,r){const n=r(e[t]);return function(e,t,r){const n=!!e[t]&&Object.prototype.propertyIsEnumerable.call(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}(e,t,n),n}t.SentryHttpInstrumentation=l},27284:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(74681),s=r(86520),i=r(37872),a=r(25738),c=r(40013),l=r(64061),u=r(1247),p=r(88211),d="Http",h="@opentelemetry_sentry-patched/instrumentation-http",f=c.generateInstrumentOnce(`${d}.sentry`,(e=>new p.SentryHttpInstrumentation({breadcrumbs:n([e,"optionalAccess",e=>e.breadcrumbs]),ignoreOutgoingRequests:n([e,"optionalAccess",e=>e.ignoreOutgoingRequests])}))),m=c.generateInstrumentOnce(d,(e=>{const t=new s.HttpInstrumentation(e);try{t._diag=o.diag.createComponentLogger({namespace:h}),t.instrumentationName=h}catch(e){}return t})),g=i.defineIntegration(((e={})=>({name:d,setupOnce(){((e={})=>{if(!1!==e.spans){const t=function(e={}){return{...n([e,"access",e=>e.instrumentation,"optionalAccess",e=>e._experimentalConfig]),disableIncomingRequestInstrumentation:e.disableIncomingRequestSpans,ignoreOutgoingRequestHook:t=>{const r=u.getRequestUrl(t);if(!r)return!1;const n=e.ignoreOutgoingRequests;return!(!n||!n(r,t))},ignoreIncomingRequestHook:t=>{const r=t.url,o=n([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()]);if("OPTIONS"===o||"HEAD"===o)return!0;const s=e.ignoreIncomingRequests;return!!(r&&s&&s(r,t))},requireParentforOutgoingSpans:!1,requireParentforIncomingSpans:!1,requestHook:(t,r)=>{l.addOriginToSpan(t,"auto.http.otel.http"),!function(e){return"outputData"in e&&"outputSize"in e&&!("client"in e)&&!("statusCode"in e)}(r)&&function(e){return"1"===e.headers["next-router-prefetch"]}(r)&&t.setAttribute("sentry.http.prefetch",!0),n([e,"access",e=>e.instrumentation,"optionalAccess",e=>e.requestHook,"optionalCall",e=>e(t,r)])},responseHook:(t,r)=>{const o=a.getClient();o&&o.getOptions().autoSessionTracking&&setImmediate((()=>{o._captureRequestSession()})),n([e,"access",e=>e.instrumentation,"optionalAccess",e=>e.responseHook,"optionalCall",e=>e(t,r)])},applyCustomAttributesOnSpan:(t,r,o)=>{n([e,"access",e=>e.instrumentation,"optionalAccess",e=>e.applyCustomAttributesOnSpan,"optionalCall",e=>e(t,r,o)])}}}(e);m(t)}f(e)})(e)}})));t.httpIntegration=g,t.instrumentOtelHttp=m,t.instrumentSentryHttp=f},77518:(e,t)=>{function r(e){return void 0!==e&&(0===e.length||"?"===e||"<anonymous>"===e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LOCAL_VARIABLES_KEY="__SENTRY_ERROR_LOCAL_VARIABLES__",t.createRateLimiter=function(e,t,r){let n=0,o=5,s=0;return setInterval((()=>{0===s?n>e&&(o*=2,r(o),o>86400&&(o=86400),s=o):(s-=1,0===s&&t()),n=0}),1e3).unref(),()=>{n+=1}},t.functionNamesMatch=function(e,t){return e===t||r(e)&&r(t)},t.isAnonymous=r},85055:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(51055),o=r(2649),s=r(55842);t.localVariablesIntegration=(e={})=>n.NODE_VERSION.major<19?s.localVariablesSyncIntegration(e):o.localVariablesAsyncIntegration(e)},2649:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(75919),s=r(37872),i=r(77518),a="LyohIEBzZW50cnkvbm9kZSA4LjQwLjAgKDdmZjQ2N2MpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyBlfWZyb20ibm9kZTppbnNwZWN0b3IvcHJvbWlzZXMiO2ltcG9ydHt3b3JrZXJEYXRhIGFzIHR9ZnJvbSJub2RlOndvcmtlcl90aHJlYWRzIjtjb25zdCBuPSI4LjQwLjAiLG89Z2xvYmFsVGhpcztjb25zdCBpPSJ1bmRlZmluZWQiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXyxhPVsiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwibG9nIiwiYXNzZXJ0IiwidHJhY2UiXSxzPXt9O2Z1bmN0aW9uIGMoZSl7aWYoISgiY29uc29sZSJpbiBvKSlyZXR1cm4gZSgpO2NvbnN0IHQ9by5jb25zb2xlLG49e30saT1PYmplY3Qua2V5cyhzKTtpLmZvckVhY2goKGU9Pntjb25zdCBvPXNbZV07bltlXT10W2VdLHRbZV09b30pKTt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e2kuZm9yRWFjaCgoZT0+e3RbZV09bltlXX0pKX19IWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBhPW8scz1hLl9fU0VOVFJZX189YS5fX1NFTlRSWV9ffHx7fSxjPXNbbl09c1tuXXx8e307Y1tlXXx8KGNbZV09dCgpKX0oImxvZ2dlciIsKGZ1bmN0aW9uKCl7bGV0IGU9ITE7Y29uc3QgdD17ZW5hYmxlOigpPT57ZT0hMH0sZGlzYWJsZTooKT0+e2U9ITF9LGlzRW5hYmxlZDooKT0+ZX07cmV0dXJuIGk/YS5mb3JFYWNoKChuPT57dFtuXT0oLi4udCk9PntlJiZjKCgoKT0+e28uY29uc29sZVtuXShgU2VudHJ5IExvZ2dlciBbJHtufV06YCwuLi50KX0pKX19KSk6YS5mb3JFYWNoKChlPT57dFtlXT0oKT0+e319KSksdH0pKTtjb25zdCByPSJfX1NFTlRSWV9FUlJPUl9MT0NBTF9WQVJJQUJMRVNfXyI7Y29uc3QgdT10O2Z1bmN0aW9uIGwoLi4uZSl7dS5kZWJ1ZyYmYygoKCk9PmNvbnNvbGUubG9nKCJbTG9jYWxWYXJpYWJsZXMgV29ya2VyXSIsLi4uZSkpKX1hc3luYyBmdW5jdGlvbiBmKGUsdCxuLG8pe2NvbnN0IGk9YXdhaXQgZS5wb3N0KCJSdW50aW1lLmdldFByb3BlcnRpZXMiLHtvYmplY3RJZDp0LG93blByb3BlcnRpZXM6ITB9KTtvW25dPWkucmVzdWx0LmZpbHRlcigoZT0+Imxlbmd0aCIhPT1lLm5hbWUmJiFpc05hTihwYXJzZUludChlLm5hbWUsMTApKSkpLnNvcnQoKChlLHQpPT5wYXJzZUludChlLm5hbWUsMTApLXBhcnNlSW50KHQubmFtZSwxMCkpKS5tYXAoKGU9PmUudmFsdWU/LnZhbHVlKSl9YXN5bmMgZnVuY3Rpb24gZyhlLHQsbixvKXtjb25zdCBpPWF3YWl0IGUucG9zdCgiUnVudGltZS5nZXRQcm9wZXJ0aWVzIix7b2JqZWN0SWQ6dCxvd25Qcm9wZXJ0aWVzOiEwfSk7b1tuXT1pLnJlc3VsdC5tYXAoKGU9PltlLm5hbWUsZS52YWx1ZT8udmFsdWVdKSkucmVkdWNlKCgoZSxbdCxuXSk9PihlW3RdPW4sZSkpLHt9KX1mdW5jdGlvbiBkKGUsdCl7ZS52YWx1ZSYmKCJ2YWx1ZSJpbiBlLnZhbHVlP3ZvaWQgMD09PWUudmFsdWUudmFsdWV8fG51bGw9PT1lLnZhbHVlLnZhbHVlP3RbZS5uYW1lXT1gPCR7ZS52YWx1ZS52YWx1ZX0+YDp0W2UubmFtZV09ZS52YWx1ZS52YWx1ZToiZGVzY3JpcHRpb24iaW4gZS52YWx1ZSYmImZ1bmN0aW9uIiE9PWUudmFsdWUudHlwZT90W2UubmFtZV09YDwke2UudmFsdWUuZGVzY3JpcHRpb259PmA6InVuZGVmaW5lZCI9PT1lLnZhbHVlLnR5cGUmJih0W2UubmFtZV09Ijx1bmRlZmluZWQ+IikpfWFzeW5jIGZ1bmN0aW9uIGIoZSx0KXtjb25zdCBuPWF3YWl0IGUucG9zdCgiUnVudGltZS5nZXRQcm9wZXJ0aWVzIix7b2JqZWN0SWQ6dCxvd25Qcm9wZXJ0aWVzOiEwfSksbz17fTtmb3IoY29uc3QgdCBvZiBuLnJlc3VsdClpZih0Py52YWx1ZT8ub2JqZWN0SWQmJiJBcnJheSI9PT10Py52YWx1ZS5jbGFzc05hbWUpe2NvbnN0IG49dC52YWx1ZS5vYmplY3RJZDthd2FpdCBmKGUsbix0Lm5hbWUsbyl9ZWxzZSBpZih0Py52YWx1ZT8ub2JqZWN0SWQmJiJPYmplY3QiPT09dD8udmFsdWU/LmNsYXNzTmFtZSl7Y29uc3Qgbj10LnZhbHVlLm9iamVjdElkO2F3YWl0IGcoZSxuLHQubmFtZSxvKX1lbHNlIHQ/LnZhbHVlJiZkKHQsbyk7cmV0dXJuIG99bGV0IHA7KGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgdD1uZXcgZTt0LmNvbm5lY3RUb01haW5UaHJlYWQoKSxsKCJDb25uZWN0ZWQgdG8gbWFpbiB0aHJlYWQiKTtsZXQgbj0hMTt0Lm9uKCJEZWJ1Z2dlci5yZXN1bWVkIiwoKCk9PntuPSExfSkpLHQub24oIkRlYnVnZ2VyLnBhdXNlZCIsKGU9PntuPSEwLGFzeW5jIGZ1bmN0aW9uKGUse3JlYXNvbjp0LGRhdGE6e29iamVjdElkOm59LGNhbGxGcmFtZXM6b30pe2lmKCJleGNlcHRpb24iIT09dCYmInByb21pc2VSZWplY3Rpb24iIT09dClyZXR1cm47aWYocD8uKCksbnVsbD09bilyZXR1cm47Y29uc3QgaT1bXTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3R7c2NvcGVDaGFpbjpuLGZ1bmN0aW9uTmFtZTphLHRoaXM6c309b1t0XSxjPW4uZmluZCgoZT0+ImxvY2FsIj09PWUudHlwZSkpLHI9Imdsb2JhbCIhPT1zLmNsYXNzTmFtZSYmcy5jbGFzc05hbWU/YCR7cy5jbGFzc05hbWV9LiR7YX1gOmE7aWYodm9pZCAwPT09Yz8ub2JqZWN0Lm9iamVjdElkKWlbdF09e2Z1bmN0aW9uOnJ9O2Vsc2V7Y29uc3Qgbj1hd2FpdCBiKGUsYy5vYmplY3Qub2JqZWN0SWQpO2lbdF09e2Z1bmN0aW9uOnIsdmFyczpufX19YXdhaXQgZS5wb3N0KCJSdW50aW1lLmNhbGxGdW5jdGlvbk9uIix7ZnVuY3Rpb25EZWNsYXJhdGlvbjpgZnVuY3Rpb24oKSB7IHRoaXMuJHtyfSA9IHRoaXMuJHtyfSB8fCAke0pTT04uc3RyaW5naWZ5KGkpfTsgfWAsc2lsZW50OiEwLG9iamVjdElkOm59KSxhd2FpdCBlLnBvc3QoIlJ1bnRpbWUucmVsZWFzZU9iamVjdCIse29iamVjdElkOm59KX0odCxlLnBhcmFtcykudGhlbigoYXN5bmMoKT0+e24mJmF3YWl0IHQucG9zdCgiRGVidWdnZXIucmVzdW1lIil9KSwoYXN5bmMgZT0+e24mJmF3YWl0IHQucG9zdCgiRGVidWdnZXIucmVzdW1lIil9KSl9KSksYXdhaXQgdC5wb3N0KCJEZWJ1Z2dlci5lbmFibGUiKTtjb25zdCBvPSExIT09dS5jYXB0dXJlQWxsRXhjZXB0aW9ucztpZihhd2FpdCB0LnBvc3QoIkRlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zIix7c3RhdGU6bz8iYWxsIjoidW5jYXVnaHQifSksbyl7Y29uc3QgZT11Lm1heEV4Y2VwdGlvbnNQZXJTZWNvbmR8fDUwO3A9ZnVuY3Rpb24oZSx0LG4pe2xldCBvPTAsaT01LGE9MDtyZXR1cm4gc2V0SW50ZXJ2YWwoKCgpPT57MD09PWE/bz5lJiYoaSo9MixuKGkpLGk+ODY0MDAmJihpPTg2NDAwKSxhPWkpOihhLT0xLDA9PT1hJiZ0KCkpLG89MH0pLDFlMykudW5yZWYoKSwoKT0+e28rPTF9fShlLChhc3luYygpPT57bCgiUmF0ZS1saW1pdCBsaWZ0ZWQuIiksYXdhaXQgdC5wb3N0KCJEZWJ1Z2dlci5zZXRQYXVzZU9uRXhjZXB0aW9ucyIse3N0YXRlOiJhbGwifSl9KSwoYXN5bmMgZT0+e2woYFJhdGUtbGltaXQgZXhjZWVkZWQuIERpc2FibGluZyBjYXB0dXJpbmcgb2YgY2F1Z2h0IGV4Y2VwdGlvbnMgZm9yICR7ZX0gc2Vjb25kcy5gKSxhd2FpdCB0LnBvc3QoIkRlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zIix7c3RhdGU6InVuY2F1Z2h0In0pfSkpfX0pKCkuY2F0Y2goKGU9PntsKCJGYWlsZWQgdG8gc3RhcnQgZGVidWdnZXIiLGUpfSkpLHNldEludGVydmFsKCgoKT0+e30pLDFlNCk7";function c(...e){s.logger.log("[LocalVariables]",...e)}const l=s.defineIntegration(((e={})=>{function t(e,t){const r=(n([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])||[]).filter((e=>"new Promise"!==e.function));for(let e=0;e<r.length;e++){const n=r.length-e-1,o=t[e],s=r[n];if(!s||!o)break;void 0!==o.vars&&!1!==s.in_app&&i.functionNamesMatch(s.function,o.function)&&(s.vars=o.vars)}}return{name:"LocalVariablesAsync",setup(t){if(!t.getOptions().includeLocalVariables)return;const n={...e,debug:s.logger.isEnabled()};(async function(){const e=await Promise.resolve().then(r.t.bind(r,86592,23));e.url()||e.open(0)})().then((()=>{try{!function(e){const t=new o.Worker(new URL(`data:application/javascript;base64,${a}`),{workerData:e,execArgv:[]});process.on("exit",(()=>{t.terminate()})),t.once("error",(e=>{c("Worker error",e)})),t.once("exit",(e=>{c("Worker exit",e)})),t.unref()}(n)}catch(e){s.logger.error("Failed to start worker",e)}}),(e=>{s.logger.error("Failed to start inspector",e)}))},processEvent:(e,r)=>function(e,r){if(r.originalException&&"object"==typeof r.originalException&&i.LOCAL_VARIABLES_KEY in r.originalException&&Array.isArray(r.originalException[i.LOCAL_VARIABLES_KEY])){for(const o of n([e,"access",e=>e.exception,"optionalAccess",e=>e.values])||[])t(o,r.originalException[i.LOCAL_VARIABLES_KEY]);r.originalException[i.LOCAL_VARIABLES_KEY]=void 0}return e}(e,r)}}));t.base64WorkerScript=a,t.localVariablesAsyncIntegration=l},55842:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(37872),s=r(51055),i=r(77518);function a(e){if(void 0!==e)return e.slice(-10).reduce(((e,t)=>`${e},${t.function},${t.lineno},${t.colno}`),"")}function c(e,t){if(void 0!==t)return a(e(t,1))}function l(e){let t=[],r=!1;function n(n){t=[],r||(r=!0,e(n))}return t.push(n),{add:function(e){t.push(e)},next:function(e){const r=t.pop()||n;try{r(e)}catch(t){n(e)}}}}class u{constructor(e){this._session=e}static async create(e){if(e)return e;const t=await Promise.resolve().then(r.t.bind(r,86592,23));return new u(new t.Session)}configureAndConnect(e,t){this._session.connect(),this._session.on("Debugger.paused",(t=>{e(t,(()=>{this._session.post("Debugger.resume")}))})),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:t?"all":"uncaught"})}setPauseOnExceptions(e){this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}getLocalVariables(e,t){this._getProperties(e,(e=>{const{add:r,next:o}=l(t);for(const t of e)if(n([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Array"===n([t,"optionalAccess",e=>e.value,"access",e=>e.className])){const e=t.value.objectId;r((r=>this._unrollArray(e,t.name,r,o)))}else if(n([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Object"===n([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.className])){const e=t.value.objectId;r((r=>this._unrollObject(e,t.name,r,o)))}else n([t,"optionalAccess",e=>e.value])&&r((e=>this._unrollOther(t,e,o)));o({})}))}_getProperties(e,t){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},((e,r)=>{t(e?[]:r.result)}))}_unrollArray(e,t,r,o){this._getProperties(e,(e=>{r[t]=e.filter((e=>"length"!==e.name&&!isNaN(parseInt(e.name,10)))).sort(((e,t)=>parseInt(e.name,10)-parseInt(t.name,10))).map((e=>n([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value]))),o(r)}))}_unrollObject(e,t,r,o){this._getProperties(e,(e=>{r[t]=e.map((e=>[e.name,n([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])])).reduce(((e,[t,r])=>(e[t]=r,e)),{}),o(r)}))}_unrollOther(e,t,r){e.value&&("value"in e.value?void 0===e.value.value||null===e.value.value?t[e.name]=`<${e.value.value}>`:t[e.name]=e.value.value:"description"in e.value&&"function"!==e.value.type?t[e.name]=`<${e.value.description}>`:"undefined"===e.value.type&&(t[e.name]="<undefined>")),r(t)}}const p=o.defineIntegration(((e={},t)=>{const r=new o.LRUMap(20);let p,d=!1;function h(e){const t=a(n([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===t)return;const o=r.remove(t);if(void 0===o)return;const s=(n([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])||[]).filter((e=>"new Promise"!==e.function));for(let e=0;e<s.length;e++){const t=s.length-e-1,r=o[e],n=s[t];if(!n||!r)break;void 0!==r.vars&&!1!==n.in_app&&i.functionNamesMatch(n.function,r.function)&&(n.vars=r.vars)}}return{name:"LocalVariables",setupOnce(){const a=o.getClient(),h=n([a,"optionalAccess",e=>e.getOptions,"call",e=>e()]);n([h,"optionalAccess",e=>e.includeLocalVariables])&&(s.NODE_MAJOR<18?o.logger.log("The `LocalVariables` integration is only supported on Node >= v18."):u.create(t).then((t=>{const s=!1!==e.captureAllExceptions;if(t.configureAndConnect(((e,o)=>function(e,{params:{reason:o,data:s,callFrames:i}},a){if("exception"!==o&&"promiseRejection"!==o)return void a();n([p,"optionalCall",e=>e()]);const u=c(e,n([s,"optionalAccess",e=>e.description]));if(null==u)return void a();const{add:d,next:h}=l((e=>{r.set(u,e),a()}));for(let e=0;e<Math.min(i.length,5);e++){const{scopeChain:r,functionName:o,this:s}=i[e],a=r.find((e=>"local"===e.type)),c="global"!==s.className&&s.className?`${s.className}.${o}`:o;if(void 0===n([a,"optionalAccess",e=>e.object,"access",e=>e.objectId]))d((t=>{t[e]={function:c},h(t)}));else{const r=a.object.objectId;d((o=>n([t,"optionalAccess",e=>e.getLocalVariables,"call",t=>t(r,(t=>{o[e]={function:c,vars:t},h(o)}))])))}}h([])}(h.stackParser,e,o)),s),s){const r=e.maxExceptionsPerSecond||50;p=i.createRateLimiter(r,(()=>{o.logger.log("Local variables rate-limit lifted."),n([t,"optionalAccess",e=>e.setPauseOnExceptions,"call",e=>e(!0)])}),(e=>{o.logger.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${e} seconds.`),n([t,"optionalAccess",e=>e.setPauseOnExceptions,"call",e=>e(!1)])}))}d=!0}),(e=>{o.logger.log("The `LocalVariables` integration failed to start.",e)})))},processEvent:e=>d?function(e){for(const t of n([e,"optionalAccess",e=>e.exception,"optionalAccess",e=>e.values])||[])h(t);return e}(e):e,_getCachedFramesCount:()=>r.size,_getFirstCachedFrame:()=>r.values()[0]}}));t.createCallbackList=l,t.hashFrames=a,t.hashFromStack=c,t.localVariablesSyncIntegration=p},9558:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(73024),o=r(76760),s=r(37872),i=r(13169),a=r(13955);let c;const l="Modules",u=s.defineIntegration((()=>a.isCjs()?{name:l,processEvent:e=>(e.modules={...e.modules,...(c||(c=p()),c)},e)}:(i.DEBUG_BUILD&&s.logger.warn("modulesIntegration only works in CommonJS (CJS) environments. Remove this integration if you are using ESM."),{name:l})));function p(){const e=r.c[r.s]&&r.c[r.s].paths||[],t=function(){try{return r.c?Object.keys(r.c):[]}catch(e){return[]}}(),s={},i={};return t.forEach((t=>{let r=t;const a=()=>{const t=r;if(r=o.dirname(t),!r||t===r||i[t])return;if(e.indexOf(r)<0)return a();const c=o.join(t,"package.json");if(i[t]=!0,!n.existsSync(c))return a();try{const e=JSON.parse(n.readFileSync(c,"utf8"));s[e.name]=e.version}catch(e){}};a()})),s}t.modulesIntegration=u},76474:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(74681),s=r(1740),i=r(37872),a=r(25738),c=i.defineIntegration(((e={})=>{const t=void 0===e.breadcrumbs||e.breadcrumbs,r=e.ignoreOutgoingRequests;return{name:"NodeFetch",setupOnce(){const e=new s.UndiciInstrumentation({requireParentforSpans:!1,ignoreRequestHook:e=>{const t=function(e,t="/"){const r=`${e}`;return r.endsWith("/")&&t.startsWith("/")?`${r}${t.slice(1)}`:r.endsWith("/")||t.startsWith("/")?`${r}${t}`:`${r}/${t.slice(1)}`}(e.origin,e.path);if(r&&t&&r(t))return!0;if(!i.hasTracingEnabled()){const r=o.context.active(),s={},c=o.trace.getSpan(r),l=c?a.getPropagationContextFromSpan(c):i.getCurrentScope().getPropagationContext(),u=a.generateSpanContextForPropagationContext(l);u.traceState=n([u,"access",e=>e.traceState,"optionalAccess",e=>e.set,"call",e=>e("sentry.url",t)]);const p=o.trace.setSpanContext(r,u);o.propagation.inject(p,s);const d=e.headers;return Array.isArray(d)?Object.entries(s).forEach((e=>d.push(...e))):e.headers+=Object.entries(s).map((([e,t])=>`${e}: ${t}\r\n`)).join(""),!0}return!1},startSpanHook:()=>({[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.node_fetch"}),responseHook:(e,{request:r,response:n})=>{t&&function(e,t){const r=function(e){try{const t=new URL(e.path,e.origin),r=i.parseUrl(t.toString()),n={url:i.getSanitizedUrlString(r),"http.method":e.method||"GET"};return r.search&&(n["http.query"]=r.search),r.hash&&(n["http.fragment"]=r.hash),n}catch(e){return{}}}(e),n=t.statusCode,o=i.getBreadcrumbLogLevelFromHttpStatusCode(n);i.addBreadcrumb({category:"http",data:{status_code:n,...r},type:"http",level:o},{event:"response",request:e,response:t})}(r,n)}});a.addOpenTelemetryInstrumentation(e)}}}));t.nativeNodeFetchIntegration=c},82644:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=r(13169),s=r(96450),i=n.defineIntegration(((e={})=>{const t={exitEvenIfOtherHandlersAreRegistered:!1,...e};return{name:"OnUncaughtException",setup(e){global.process.on("uncaughtException",a(e,t))}}}));function a(e,t){let r,i=!1,a=!1,c=!1;const l=e.getOptions();return Object.assign((u=>{let p=s.logAndExitProcess;t.onFatalError?p=t.onFatalError:l.onFatalError&&(p=l.onFatalError);const d=0===global.process.listeners("uncaughtException").filter((e=>"domainUncaughtExceptionClear"!==e.name&&"sentry_tracingErrorCallback"!==e.tag&&!0!==e._errorHandler)).length,h=t.exitEvenIfOtherHandlersAreRegistered||d;i?h&&(c?(o.DEBUG_BUILD&&n.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),s.logAndExitProcess(u)):a||(a=!0,setTimeout((()=>{c||(c=!0,p(r,u))}),2e3))):(r=u,i=!0,n.getClient()===e&&n.captureException(u,{originalException:u,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!c&&h&&(c=!0,p(u)))}),{_errorHandler:!0})}t.makeErrorHandler=a,t.onUncaughtExceptionIntegration=i},99804:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=r(96450),s=n.defineIntegration(((e={})=>{const t=e.mode||"warn";return{name:"OnUnhandledRejection",setup(e){global.process.on("unhandledRejection",i(e,{mode:t}))}}}));function i(e,t){return function(r,s){n.getClient()===e&&(n.captureException(r,{originalException:s,captureContext:{extra:{unhandledPromiseRejection:!0}},mechanism:{handled:!1,type:"onunhandledrejection"}}),function(e,t){const r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===t.mode?n.consoleSandbox((()=>{console.warn(r),console.error(e&&e.stack?e.stack:e)})):"strict"===t.mode&&(n.consoleSandbox((()=>{console.warn(r)})),o.logAndExitProcess(e))}(r,t))}}t.makeUnhandledPromiseHandler=i,t.onUnhandledRejectionIntegration=s},29871:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37067),o=r(37872),s="Spotlight",i=o.defineIntegration(((e={})=>{const t={sidecarUrl:e.sidecarUrl||"http://localhost:8969/stream"};return{name:s,setup(e){"object"==typeof process&&process.env&&o.logger.warn("[Spotlight] It seems you're not in dev mode. Do you really want to have Spotlight enabled?"),function(e,t){const r=function(e){try{return new URL(`${e}`)}catch(t){return void o.logger.warn(`[Spotlight] Invalid sidecar URL: ${e}`)}}(t.sidecarUrl);if(!r)return;let n=0;e.on("beforeEnvelope",(e=>{if(n>3)return void o.logger.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");const t=o.serializeEnvelope(e),s=a()({method:"POST",path:r.pathname,hostname:r.hostname,port:r.port,headers:{"Content-Type":"application/x-sentry-envelope"}},(e=>{e.statusCode&&e.statusCode>=200&&e.statusCode<400&&(n=0),e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8")}));s.on("error",(()=>{n++,o.logger.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")})),s.write(t),s.end()}))}(e,t)}}}));function a(){const{request:e}=n;return"__sentry_original__"in e?e.__sentry_original__:e}t.INTEGRATION_NAME=s,t.getNativeHttpRequest=a,t.spotlightIntegration=i},11684:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(66822),o=r(37872),s=r(40013),i=r(64061),a="Amqplib",c={consumeEndHook:e=>{i.addOriginToSpan(e,"auto.amqplib.otel.consumer")},publishHook:e=>{i.addOriginToSpan(e,"auto.amqplib.otel.publisher")}},l=s.generateInstrumentOnce(a,(()=>new n.AmqplibInstrumentation(c))),u=o.defineIntegration((()=>({name:a,setupOnce(){l()}})));t.amqplibIntegration=u,t.instrumentAmqplib=l},98276:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(68202),o=r(37872),s=r(40013),i=r(46478),a="Connect",c=s.generateInstrumentOnce(a,(()=>new n.ConnectInstrumentation)),l=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));function u(e,t,r,n){o.captureException(e),n(e)}t.connectIntegration=l,t.instrumentConnect=c,t.setupConnectErrorHandler=e=>{e.use(u);const t=o.getClient();t&&t.on("spanStart",(e=>{!function(e){const t=o.spanToJSON(e).data||{},r=t["connect.type"];if(t[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]||!r)return;e.setAttributes({[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.connect",[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${r}.connect`});const n=t["connect.name"];"string"==typeof n&&e.updateName(n)}(e)})),i.ensureIsWrapped(e.use,"connect")}},92519:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(84391),s=r(37872),i=r(40013),a="Dataloader",c=i.generateInstrumentOnce(a,(()=>new o.DataloaderInstrumentation({requireParentSpan:!0}))),l=s.defineIntegration((()=>({name:a,setupOnce(){c()},setup(e){e.on("spanStart",(e=>{const t=s.spanToJSON(e);n([t,"access",e=>e.description,"optionalAccess",e=>e.startsWith,"call",e=>e("dataloader")])&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.dataloader"),"dataloader.load"!==t.description&&"dataloader.loadMany"!==t.description&&"dataloader.batch"!==t.description||e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_OP,"cache.get")}))}})));t.dataloaderIntegration=l,t.instrumentDataloader=c},29606:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(46012),s=r(37872),i=r(13169),a=r(40013),c=r(64061),l=r(46478),u="Express",p=a.generateInstrumentOnce(u,(()=>new o.ExpressInstrumentation({requestHook(e){c.addOriginToSpan(e,"auto.http.otel.express");const t=s.spanToJSON(e).data||{},r=t["express.type"];r&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_OP,`${r}.express`);const n=t["express.name"];"string"==typeof n&&e.updateName(n)},spanNameHook(e,t){if(s.getIsolationScope()===s.getDefaultIsolationScope())return i.DEBUG_BUILD&&s.logger.warn("Isolation scope is still default isolation scope - skipping setting transactionName"),t;if("request_handler"===e.layerType){const t=e.request,r=t.method?t.method.toUpperCase():"GET";s.getIsolationScope().setTransactionName(`${r} ${e.route}`)}return t}}))),d=s.defineIntegration((()=>({name:u,setupOnce(){p()}})));function h(e){return function(t,r,o,i){if((n([e,"optionalAccess",e=>e.shouldHandleError])||f)(t)){const e=s.getClient();if(e&&e.getOptions().autoSessionTracking&&void 0!==e._sessionFlusher){const e=s.getIsolationScope().getRequestSession();e&&void 0!==e.status&&(e.status="crashed")}const r=s.captureException(t,{mechanism:{type:"middleware",handled:!1}});return o.sentry=r,void i(t)}i(t)}}function f(e){const t=function(e){const t=e.status||e.statusCode||e.status_code||e.output&&e.output.statusCode;return t?parseInt(t,10):500}(e);return t>=500}t.expressErrorHandler=h,t.expressIntegration=d,t.instrumentExpress=p,t.setupExpressErrorHandler=function(e,t){e.use(h(t)),l.ensureIsWrapped(e.use,"express")}},24214:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(90224),s=r(37872),i=r(40013),a=r(46478),c="Fastify",l=i.generateInstrumentOnce(c,(()=>new o.FastifyInstrumentation({requestHook(e){p(e)}}))),u=s.defineIntegration((()=>({name:c,setupOnce(){l()}})));function p(e){const t=s.spanToJSON(e).data||{},r=t["fastify.type"];if(t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]||!r)return;e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.fastify",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${r}.fastify`});const n=t["fastify.name"]||t["plugin.name"]||t["hook.name"];"string"==typeof n&&e.updateName(n.replace(/^fastify -> /,""))}t.fastifyIntegration=u,t.instrumentFastify=l,t.setupFastifyErrorHandler=function(e){const t=Object.assign((function(e,t,r){e.addHook("onError",(async(e,t,r)=>{s.captureException(r)})),e.addHook("onRequest",(async(e,t)=>{const r=e,o=n([r,"access",e=>e.routeOptions,"optionalAccess",e=>e.url])||r.routerPath,i=n([r,"access",e=>e.routeOptions,"optionalAccess",e=>e.method])||"GET";s.getIsolationScope().setTransactionName(`${i} ${o}`)})),r()}),{[Symbol.for("skip-override")]:!0,[Symbol.for("fastify.display-name")]:"sentry-fastify-error-handler"});e.register(t);const r=s.getClient();r&&r.on("spanStart",(e=>{p(e)})),a.ensureIsWrapped(e.addHook,"fastify")}},94165:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(27930),o=r(37872),s=r(40013),i="GenericPool",a=s.generateInstrumentOnce(i,(()=>new n.GenericPoolInstrumentation({}))),c=o.defineIntegration((()=>({name:i,setupOnce(){a()},setup(e){e.on("spanStart",(e=>{const t=o.spanToJSON(e).description;("generic-pool.aquire"===t||"generic-pool.acquire"===t)&&e.setAttribute(o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.generic_pool")}))}})));t.genericPoolIntegration=c,t.instrumentGenericPool=a},55203:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(57317),o=r(37872),s=r(25738),i=r(40013),a=r(64061),c="Graphql",l=i.generateInstrumentOnce(c,((e={})=>{const t=p(e);return new n.GraphQLInstrumentation({...t,responseHook(e){a.addOriginToSpan(e,"auto.graphql.otel.graphql");const r=o.spanToJSON(e).data||{},n=r["graphql.operation.type"],i=r["graphql.operation.name"];if(t.useOperationNameForRootSpan&&n){const t=o.getRootSpan(e),r=(o.spanToJSON(t).data||{})[s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION]||[],a=i?`${n} ${i}`:`${n}`;Array.isArray(r)?(r.push(a),t.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,r)):r?t.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,[r,a]):t.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,a)}}})})),u=o.defineIntegration(((e={})=>({name:c,setupOnce(){l(p(e))}})));function p(e){return{ignoreResolveSpans:!0,ignoreTrivialResolveSpans:!0,useOperationNameForRootSpan:!0,...e}}t.graphqlIntegration=u,t.instrumentGraphql=l},90871:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(87496),s=r(37872),i=r(13169),a=r(40013),c=r(46478),l="Hapi",u=a.generateInstrumentOnce(l,(()=>new o.HapiInstrumentation)),p=s.defineIntegration((()=>({name:l,setupOnce(){u()}}))),d={name:"SentryHapiErrorPlugin",version:s.SDK_VERSION,register:async function(e){e.events.on({name:"request",channels:["error"]},((e,t)=>{if(s.getIsolationScope()!==s.getDefaultIsolationScope()){const t=e.route;t&&t.path&&s.getIsolationScope().setTransactionName(`${n([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET"} ${t.path}`)}else i.DEBUG_BUILD&&s.logger.warn("Isolation scope is still the default isolation scope - skipping setting transactionName");var r;(function(e){return e&&void 0!==e.error})(t)&&(r=t.error,s.captureException(r,{mechanism:{type:"hapi",handled:!1,data:{function:"hapiErrorPlugin"}}}))}))}};t.hapiErrorPlugin=d,t.hapiIntegration=p,t.instrumentHapi=u,t.setupHapiErrorHandler=async function(e){await e.register(d);const t=s.getClient();t&&t.on("spanStart",(e=>{!function(e){const t=s.spanToJSON(e).data||{},r=t["hapi.type"];!t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&r&&e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.hapi",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${r}.hapi`})}(e)})),c.ensureIsWrapped(e.register,"hapi")}},45874:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(27284),o=r(11684),s=r(98276),i=r(29606),a=r(24214),c=r(94165),l=r(55203),u=r(90871),p=r(83628),d=r(41939),h=r(51021),f=r(80642),m=r(9853),g=r(20160),E=r(85576),S=r(86715),_=r(81799),y=r(76649),A=r(81435);t.getAutoPerformanceIntegrations=function(){return[i.expressIntegration(),a.fastifyIntegration(),l.graphqlIntegration(),f.mongoIntegration(),m.mongooseIntegration(),g.mysqlIntegration(),E.mysql2Integration(),y.redisIntegration(),_.postgresIntegration(),S.nestIntegration(),u.hapiIntegration(),d.koaIntegration(),s.connectIntegration(),A.tediousIntegration(),c.genericPoolIntegration(),p.kafkaIntegration(),o.amqplibIntegration(),h.lruMemoizerIntegration()]},t.getOpenTelemetryInstrumentationToPreload=function(){return[n.instrumentOtelHttp,i.instrumentExpress,s.instrumentConnect,a.instrumentFastify,u.instrumentHapi,p.instrumentKafka,d.instrumentKoa,h.instrumentLruMemoizer,S.instrumentNest,f.instrumentMongo,m.instrumentMongoose,g.instrumentMysql,E.instrumentMysql2,_.instrumentPostgres,u.instrumentHapi,l.instrumentGraphql,y.instrumentRedis,A.instrumentTedious,c.instrumentGenericPool,o.instrumentAmqplib]}},83628:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(85213),o=r(37872),s=r(40013),i=r(64061),a="Kafka",c=s.generateInstrumentOnce(a,(()=>new n.KafkaJsInstrumentation({consumerHook(e){i.addOriginToSpan(e,"auto.kafkajs.otel.consumer")},producerHook(e){i.addOriginToSpan(e,"auto.kafkajs.otel.producer")}}))),l=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentKafka=c,t.kafkaIntegration=l},13892:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(54576),o=r(37872),s=r(40013),i="Knex",a=s.generateInstrumentOnce(i,(()=>new n.KnexInstrumentation({requireParentSpan:!0}))),c=o.defineIntegration((()=>({name:i,setupOnce(){a()},setup(e){e.on("spanStart",(e=>{const{data:t}=o.spanToJSON(e);t&&"knex.version"in t&&e.setAttribute(o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.knex")}))}})));t.instrumentKnex=a,t.knexIntegration=c},41939:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(45845),s=r(51002),i=r(37872),a=r(13169),c=r(40013),l=r(46478),u=c.generateInstrumentOnce("Koa",(()=>new o.KoaInstrumentation({requestHook(e,t){if(function(e){e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.http.otel.koa");const t=i.spanToJSON(e).data||{},r=t["koa.type"];r&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_OP,`${r}.koa`);const n=t["koa.name"];"string"==typeof n&&e.updateName(n||"< unknown >")}(e),i.getIsolationScope()===i.getDefaultIsolationScope())return void(a.DEBUG_BUILD&&i.logger.warn("Isolation scope is default isolation scope - skipping setting transactionName"));const r=i.spanToJSON(e).data,o=r&&r[s.ATTR_HTTP_ROUTE],c=n([t,"optionalAccess",e=>e.context,"optionalAccess",e=>e.request,"optionalAccess",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET";o&&i.getIsolationScope().setTransactionName(`${c} ${o}`)}}))),p=i.defineIntegration((()=>({name:"Koa",setupOnce(){u()}})));t.instrumentKoa=u,t.koaIntegration=p,t.setupKoaErrorHandler=e=>{e.use((async(e,t)=>{try{await t()}catch(e){throw i.captureException(e),e}})),l.ensureIsWrapped(e.use,"koa")}},51021:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(6750),o=r(37872),s=r(40013),i="LruMemoizer",a=s.generateInstrumentOnce(i,(()=>new n.LruMemoizerInstrumentation)),c=o.defineIntegration((()=>({name:i,setupOnce(){a()}})));t.instrumentLruMemoizer=a,t.lruMemoizerIntegration=c},80642:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(71526),o=r(37872),s=r(40013),i=r(64061),a="Mongo",c=s.generateInstrumentOnce(a,(()=>new n.MongoDBInstrumentation({dbStatementSerializer:l,responseHook(e){i.addOriginToSpan(e,"auto.db.otel.mongo")}})));function l(e){const t=u(e);return JSON.stringify(t)}function u(e){if(Array.isArray(e))return e.map((e=>u(e)));if(function(e){return"object"==typeof e&&null!==e&&!function(e){let t=!1;return"undefined"!=typeof Buffer&&(t=Buffer.isBuffer(e)),t}(e)}(e)){const t={};return Object.entries(e).map((([e,t])=>[e,u(t)])).reduce(((e,t)=>(function(e){return Array.isArray(e)}(t)&&(e[t[0]]=t[1]),e)),t)}return"?"}const p=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t._defaultDbStatementSerializer=l,t.instrumentMongo=c,t.mongoIntegration=p},9853:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(57125),o=r(37872),s=r(40013),i=r(64061),a="Mongoose",c=s.generateInstrumentOnce(a,(()=>new n.MongooseInstrumentation({responseHook(e){i.addOriginToSpan(e,"auto.db.otel.mongoose")}}))),l=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMongoose=c,t.mongooseIntegration=l},20160:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(90450),o=r(37872),s=r(40013),i="Mysql",a=s.generateInstrumentOnce(i,(()=>new n.MySQLInstrumentation({}))),c=o.defineIntegration((()=>({name:i,setupOnce(){a()}})));t.instrumentMysql=a,t.mysqlIntegration=c},85576:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(73932),o=r(37872),s=r(40013),i=r(64061),a="Mysql2",c=s.generateInstrumentOnce(a,(()=>new n.MySQL2Instrumentation({responseHook(e){i.addOriginToSpan(e,"auto.db.otel.mysql2")}}))),l=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMysql2=c,t.mysql2Integration=l},66796:(e,t,r)=>{var{_nullishCoalesce:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(37872);t.getEventSpanOptions=function(e){return{name:`event ${e}`,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"event.nestjs",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.event.nestjs"},forceTransaction:!0}},t.getMiddlewareSpanOptions=function(e,t=void 0){return{name:n(t,(()=>e.name)),attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"middleware.nestjs",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.middleware.nestjs"}}},t.getNextProxy=function(e,t,r){return new Proxy(e,{apply:(e,n,s)=>(t.end(),r?o.withActiveSpan(r,(()=>Reflect.apply(e,n,s))):Reflect.apply(e,n,s))})},t.instrumentObservable=function(e,t){t&&(e.subscribe=new Proxy(e.subscribe,{apply:(e,r,n)=>o.withActiveSpan(t,(()=>{const o=e.apply(r,n);return o.add((()=>t.end())),o}))}))},t.isPatched=function(e){return!!e.sentryPatched||(o.addNonEnumerableProperty(e,"sentryPatched",!0),!1)}},86715:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(84455),s=r(37872),i=r(40013),a=r(83387),c=r(74742),l="Nest",u=i.generateInstrumentOnce("Nest-Core",(()=>new o.NestInstrumentation)),p=i.generateInstrumentOnce("Nest-Common",(()=>new c.SentryNestInstrumentation)),d=i.generateInstrumentOnce("Nest-Event",(()=>new a.SentryNestEventInstrumentation)),h=Object.assign((()=>{u(),p(),d()}),{id:l}),f=s.defineIntegration((()=>({name:l,setupOnce(){h()}})));t.instrumentNest=h,t.nestIntegration=f,t.setupNestErrorHandler=function(e,t){s.consoleSandbox((()=>{console.warn("[Sentry] Warning: You used the `setupNestErrorHandler()` method to set up Sentry error monitoring. This function is deprecated and will be removed in the next major version. Instead, it is recommended to use the `@sentry/nestjs` package. To set up the NestJS SDK see: https://docs.sentry.io/platforms/javascript/guides/nestjs/")}));const r=s.getClient();r&&r.on("spanStart",(e=>{!function(e){const t=s.spanToJSON(e).data||{},r=t["nestjs.type"];!t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&r&&e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.nestjs",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${r}.nestjs`})}(e)})),e.useGlobalInterceptors({intercept(e,t){if(s.getIsolationScope()===s.getDefaultIsolationScope())return s.logger.warn("Isolation scope is still the default isolation scope, skipping setting transactionName."),t.handle();if("http"===e.getType()){const t=e.switchToHttp().getRequest();t.route&&s.getIsolationScope().setTransactionName(`${n([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET"} ${t.route.path}`)}return t.handle()}});const o=new Proxy(t,{get(e,t,r){if("catch"===t){const n=Reflect.get(e,t,r);return(t,r)=>{const o="object"==typeof t&&null!==t,i=o&&"status"in t?t.status:null,a=o&&"error"in t?t.error:null;return null!==i||null!==a||s.captureException(t),n.apply(e,[t,r])}}return Reflect.get(e,t,r)}});e.useGlobalFilters(o)}},83387:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(98035),o=r(23815),s=r(37872),i=r(66796),a=[">=2.0.0"];class c extends o.InstrumentationBase{static __initStatic(){this.COMPONENT="@nestjs/event-emitter"}static __initStatic2(){this.COMMON_ATTRIBUTES={component:c.COMPONENT}}constructor(e={}){super("sentry-nestjs-event",s.SDK_VERSION,e)}init(){const e=new o.InstrumentationNodeModuleDefinition(c.COMPONENT,a);return e.files.push(this._getOnEventFileInstrumentation(a)),e}_getOnEventFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/event-emitter/dist/decorators/on-event.decorator.js",e,(e=>(n.isWrapped(e.OnEvent)&&this._unwrap(e,"OnEvent"),this._wrap(e,"OnEvent",this._createWrapOnEvent()),e)),(e=>{this._unwrap(e,"OnEvent")}))}_createWrapOnEvent(){return function(e){return function(t,r){const n=Array.isArray(t)?t.join(","):"string"==typeof t||"symbol"==typeof t?t.toString():"<unknown_event>",o=e(t,r);return function(e,t,r){if(!r.value||"function"!=typeof r.value||e.__SENTRY_INTERNAL__)return o(e,t,r);const a=r.value,c=a.name||t;return r.value=async function(...e){return s.startSpan(i.getEventSpanOptions(n),(async()=>{try{return await a.apply(this,e)}catch(e){throw s.captureException(e),e}}))},Object.defineProperty(r.value,"name",{value:c,configurable:!0}),o(e,t,r)}}}}}c.__initStatic(),c.__initStatic2(),t.SentryNestEventInstrumentation=c},74742:(e,t,r)=>{var{_nullishCoalesce:n,_optionalChain:o}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const s=r(98035),i=r(23815),a=r(37872),c=r(66796),l=[">=8.0.0 <11"];class u extends i.InstrumentationBase{static __initStatic(){this.COMPONENT="@nestjs/common"}static __initStatic2(){this.COMMON_ATTRIBUTES={component:u.COMPONENT}}constructor(e={}){super("sentry-nestjs",a.SDK_VERSION,e)}init(){const e=new i.InstrumentationNodeModuleDefinition(u.COMPONENT,l);return e.files.push(this._getInjectableFileInstrumentation(l),this._getCatchFileInstrumentation(l)),e}_getInjectableFileInstrumentation(e){return new i.InstrumentationNodeModuleFile("@nestjs/common/decorators/core/injectable.decorator.js",e,(e=>(s.isWrapped(e.Injectable)&&this._unwrap(e,"Injectable"),this._wrap(e,"Injectable",this._createWrapInjectable()),e)),(e=>{this._unwrap(e,"Injectable")}))}_getCatchFileInstrumentation(e){return new i.InstrumentationNodeModuleFile("@nestjs/common/decorators/core/catch.decorator.js",e,(e=>(s.isWrapped(e.Catch)&&this._unwrap(e,"Catch"),this._wrap(e,"Catch",this._createWrapCatch()),e)),(e=>{this._unwrap(e,"Catch")}))}_createWrapInjectable(){return function(e){return function(t){return function(r){if("function"==typeof r.prototype.use&&!r.__SENTRY_INTERNAL__){if(c.isPatched(r))return e(t)(r);r.prototype.use=new Proxy(r.prototype.use,{apply:(e,t,n)=>{const[o,s,i,...l]=n;if(!o||!s||!i||"function"!=typeof i)return e.apply(t,n);const u=a.getActiveSpan();return a.startSpanManual(c.getMiddlewareSpanOptions(r),(r=>{const n=c.getNextProxy(i,r,u);return e.apply(t,[o,s,n,l])}))}})}if("function"==typeof r.prototype.canActivate&&!r.__SENTRY_INTERNAL__){if(c.isPatched(r))return e(t)(r);r.prototype.canActivate=new Proxy(r.prototype.canActivate,{apply:(e,t,n)=>n[0]?a.startSpan(c.getMiddlewareSpanOptions(r),(()=>e.apply(t,n))):e.apply(t,n)})}if("function"==typeof r.prototype.transform&&!r.__SENTRY_INTERNAL__){if(c.isPatched(r))return e(t)(r);r.prototype.transform=new Proxy(r.prototype.transform,{apply:(e,t,n)=>{const o=n[0],s=n[1];return o&&s?a.startSpan(c.getMiddlewareSpanOptions(r),(()=>e.apply(t,n))):e.apply(t,n)}})}if("function"==typeof r.prototype.intercept&&!r.__SENTRY_INTERNAL__){if(c.isPatched(r))return e(t)(r);r.prototype.intercept=new Proxy(r.prototype.intercept,{apply:(e,t,s)=>{const i=s[0],l=s[1],u=a.getActiveSpan();let p;return i&&l&&"function"==typeof l.handle?a.startSpanManual(c.getMiddlewareSpanOptions(r),(d=>{let h;l.handle=new Proxy(l.handle,{apply:(e,t,n)=>{if(d.end(),u)return a.withActiveSpan(u,(()=>{const o=Reflect.apply(e,t,n);return i._sentryInterceptorInstrumented||(a.addNonEnumerableProperty(i,"_sentryInterceptorInstrumented",!0),p=a.startInactiveSpan(c.getMiddlewareSpanOptions(r,"Interceptors - After Route"))),o}));{const o=Reflect.apply(e,t,n);return i._sentryInterceptorInstrumented||(a.addNonEnumerableProperty(i,"_sentryInterceptorInstrumented",!0),p=a.startInactiveSpan(c.getMiddlewareSpanOptions(r,"Interceptors - After Route"))),o}}});try{h=e.apply(t,s)}catch(e){throw o([d,"optionalAccess",e=>e.end,"call",e=>e()]),o([p,"optionalAccess",e=>e.end,"call",e=>e()]),e}return p?a.isThenable(h)?h.then((e=>(c.instrumentObservable(e,n(p,(()=>u))),e)),(e=>{throw o([d,"optionalAccess",e=>e.end,"call",e=>e()]),o([p,"optionalAccess",e=>e.end,"call",e=>e()]),e})):("function"==typeof h.subscribe&&c.instrumentObservable(h,n(p,(()=>u))),h):h})):e.apply(t,s)}})}return e(t)(r)}}}}_createWrapCatch(){return function(e){return function(...t){return function(r){if("function"==typeof r.prototype.catch&&!r.__SENTRY_INTERNAL__){if(c.isPatched(r))return e(...t)(r);r.prototype.catch=new Proxy(r.prototype.catch,{apply:(e,t,n)=>{const o=n[0],s=n[1];return o&&s?a.startSpan(c.getMiddlewareSpanOptions(r),(()=>e.apply(t,n))):e.apply(t,n)}})}return e(...t)(r)}}}}}u.__initStatic(),u.__initStatic2(),t.SentryNestInstrumentation=u},81799:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(65),o=r(37872),s=r(40013),i=r(64061),a="Postgres",c=s.generateInstrumentOnce(a,(()=>new n.PgInstrumentation({requireParentSpan:!0,requestHook(e){i.addOriginToSpan(e,"auto.db.otel.postgres")}}))),l=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentPostgres=c,t.postgresIntegration=l},81732:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(57991),s=r(37872),i=r(40013),a="Prisma",c=i.generateInstrumentOnce(a,(()=>new(n([o,"access",e=>e.default,"optionalAccess",e=>e.PrismaInstrumentation])||o.PrismaInstrumentation)({}))),l=s.defineIntegration((()=>({name:a,setupOnce(){c()},setup(e){e.on("spanStart",(e=>{const t=s.spanToJSON(e);n([t,"access",e=>e.description,"optionalAccess",e=>e.startsWith,"call",e=>e("prisma:")])&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.prisma"),"prisma:engine:db_query"===t.description&&e.setAttribute("db.system","prisma")}))}})));t.instrumentPrisma=c,t.prismaIntegration=l},76649:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(83251),s=r(92554),i=r(37872),a=r(40013),c=r(35278),l="Redis";let u={};const p=(e,t,r,o)=>{e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.redis");const s=c.getCacheKeySafely(t,r),a=c.getCacheOperation(t);if(!(s&&a&&n([u,"optionalAccess",e=>e.cachePrefixes])&&c.shouldConsiderForCache(t,s,u.cachePrefixes)))return;const l=n([i.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e["net.peer.name"]]),p=n([i.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e["net.peer.port"]]);p&&l&&e.setAttributes({"network.peer.address":l,"network.peer.port":p});const d=c.calculateCacheItemSize(o);d&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,d),c.isInCommands(c.GET_COMMANDS,t)&&void 0!==d&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_CACHE_HIT,d>0),e.setAttributes({[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:a,[i.SEMANTIC_ATTRIBUTE_CACHE_KEY]:s});const h=s.join(", ");e.updateName(i.truncate(h,1024))},d=a.generateInstrumentOnce("IORedis",(()=>new o.IORedisInstrumentation({responseHook:p}))),h=a.generateInstrumentOnce("Redis-4",(()=>new s.RedisInstrumentation({responseHook:p}))),f=Object.assign((()=>{d(),h()}),{id:l}),m=i.defineIntegration(((e={})=>({name:l,setupOnce(){u=e,f()}})));t.instrumentRedis=f,t.redisIntegration=m},81435:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(42081),s=r(37872),i=r(40013),a=new Set(["callProcedure","execSql","execSqlBatch","execBulkLoad","prepare","execute"]),c="Tedious",l=i.generateInstrumentOnce(c,(()=>new o.TediousInstrumentation({}))),u=s.defineIntegration((()=>({name:c,setupOnce(){l()},setup(e){e.on("spanStart",(e=>{const{description:t,data:r}=s.spanToJSON(e);if(!t||"mssql"!==n([r,"optionalAccess",e=>e["db.system"]]))return;const o=n([t,"optionalAccess",e=>e.split,"call",e=>e(" "),"access",e=>e[0]])||"";a.has(o)&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.tedious")}))}})));t.instrumentTedious=l,t.tediousIntegration=u},51055:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872).parseSemver(process.versions.node),o=n.major;t.NODE_MAJOR=o,t.NODE_VERSION=n},73086:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(81376),o=r(25738).wrapContextManagerClass(n.AsyncLocalStorageContextManager);t.SentryContextManager=o},40013:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(25738),o={};t.INSTRUMENTED=o,t.generateInstrumentOnce=function(e,t){return Object.assign((r=>{const s=o[e];if(s)return void(r&&s.setConfig(r));const i=t(r);o[e]=i,n.addOpenTelemetryInstrumentation(i)}),{id:e})}},50575:(e,t,r)=>{var{_nullishCoalesce:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(37067);r(44708);const s=Symbol("AgentBaseInternalState");class i extends o.Agent{constructor(e){super(e),this[s]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,r){const n={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,n))).then((i=>{if(i instanceof o.Agent)return i.addRequest(e,n);this[s].currentSocket=i,super.createSocket(e,t,r)}),r)}createConnection(){const e=this[s].currentSocket;if(this[s].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return n(this[s].defaultPort,(()=>"https:"===this.protocol?443:80))}set defaultPort(e){this[s]&&(this[s].defaultPort=e)}get protocol(){return n(this[s].protocol,(()=>this.isSecureEndpoint()?"https:":"http:"))}set protocol(e){this[s]&&(this[s].protocol=e)}}t.Agent=i},86160:(e,t,r)=>{var{_nullishCoalesce:n,_optionalChain:o}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const s=r(77030),i=r(41692),a=r(37872),c=r(50575),l=r(5244);function u(...e){a.logger.log("[https-proxy-agent]",...e)}class p extends c.Agent{static __initStatic(){this.protocols=["http","https"]}constructor(e,t){super(t),this.options={},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=n(o([t,"optionalAccess",e=>e.headers]),(()=>({}))),u("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),s=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?h(t,"headers"):null,host:r,port:s}}async connect(e,t){const{proxy:r}=this;if(!t.host)throw new TypeError('No "host" provided');let n;if("https:"===r.protocol){u("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;n=i.connect({...this.connectOpts,servername:e&&s.isIP(e)?void 0:e})}else u("Creating `net.Socket`: %o",this.connectOpts),n=s.connect(this.connectOpts);const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},a=s.isIPv6(t.host)?`[${t.host}]`:t.host;let c=`CONNECT ${a}:${t.port} HTTP/1.1\r\n`;if(r.username||r.password){const e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}o.Host=`${a}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))c+=`${e}: ${o[e]}\r\n`;const p=l.parseProxyResponse(n);n.write(`${c}\r\n`);const{connect:f,buffered:m}=await p;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),200===f.statusCode){if(e.once("socket",d),t.secureEndpoint){u("Upgrading socket connection to TLS");const e=t.servername||t.host;return i.connect({...h(t,"host","path","port"),socket:n,servername:s.isIP(e)?void 0:e})}return n}n.destroy();const g=new s.Socket({writable:!1});return g.readable=!0,e.once("socket",(e=>{u("Replaying proxy buffer for failed request"),e.push(m),e.push(null)})),g}}function d(e){e.resume()}function h(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}p.__initStatic(),t.HttpsProxyAgent=p},5244:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872);function o(...e){n.logger.log("[https-proxy-agent:parse-proxy-response]",...e)}t.parseProxyResponse=function(e){return new Promise(((t,r)=>{let n=0;const s=[];function i(){const c=e.read();c?function(c){s.push(c),n+=c.length;const l=Buffer.concat(s,n),u=l.indexOf("\r\n\r\n");if(-1===u)return o("have not received end of HTTP headers yet..."),void i();const p=l.slice(0,u).toString("ascii").split("\r\n"),d=p.shift();if(!d)return e.destroy(),r(new Error("No header received from proxy CONNECT response"));const h=d.split(" "),f=+(h[1]||0),m=h.slice(2).join(" "),g={};for(const t of p){if(!t)continue;const n=t.indexOf(":");if(-1===n)return e.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,n).toLowerCase(),s=t.slice(n+1).trimStart(),i=g[o];"string"==typeof i?g[o]=[i,s]:Array.isArray(i)?i.push(s):g[o]=s}o("got proxy server response: %o %o",d,g),a(),t({connect:{statusCode:f,statusText:m,headers:g},buffered:l})}(c):e.once("readable",i)}function a(){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("readable",i)}function c(){a(),o("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function l(e){a(),o("onerror %o",e),r(e)}e.on("error",l),e.on("end",c),i()}))}},75376:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=r(32477),s=n.createStackParser(n.nodeStackLineParser(o.createGetModuleFromFilename()));t.defaultStackParser=s,t.getSentryRelease=function(e){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(n.GLOBAL_OBJ.SENTRY_RELEASE&&n.GLOBAL_OBJ.SENTRY_RELEASE.id)return n.GLOBAL_OBJ.SENTRY_RELEASE.id;const t=process.env.GITHUB_SHA||process.env.CI_MERGE_REQUEST_SOURCE_BRANCH_SHA||process.env.CI_BUILD_REF||process.env.CI_COMMIT_SHA||process.env.BITBUCKET_COMMIT,r=process.env.APPVEYOR_PULL_REQUEST_HEAD_COMMIT||process.env.APPVEYOR_REPO_COMMIT||process.env.CODEBUILD_RESOLVED_SOURCE_VERSION||process.env.AWS_COMMIT_ID||process.env.BUILD_SOURCEVERSION||process.env.GIT_CLONE_COMMIT_HASH||process.env.BUDDY_EXECUTION_REVISION||process.env.BUILDKITE_COMMIT||process.env.CIRCLE_SHA1||process.env.CIRRUS_CHANGE_IN_REPO||process.env.CF_REVISION||process.env.CM_COMMIT||process.env.CF_PAGES_COMMIT_SHA||process.env.DRONE_COMMIT_SHA||process.env.FC_GIT_COMMIT_SHA||process.env.HEROKU_TEST_RUN_COMMIT_VERSION||process.env.HEROKU_SLUG_COMMIT||process.env.RENDER_GIT_COMMIT||process.env.SEMAPHORE_GIT_SHA||process.env.TRAVIS_PULL_REQUEST_SHA||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA,o=process.env.CI_COMMIT_ID||process.env.SOURCE_COMMIT||process.env.SOURCE_VERSION||process.env.GIT_COMMIT||process.env.COMMIT_REF||process.env.BUILD_VCS_NUMBER||process.env.CI_COMMIT_SHA;return t||r||o||e}},14709:(e,t,r)=>{var{_nullishCoalesce:n,_optionalChain:o}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const s=r(48161),i=r(74681),a=r(37872),c=r(28167),l=r(13169);class u extends a.ServerRuntimeClient{constructor(e){const t={...e,platform:"node",runtime:{name:"node",version:global.process.version},serverName:e.serverName||global.process.env.SENTRY_NAME||s.hostname()};a.applySdkMetadata(t,"node"),a.logger.log(`Initializing Sentry: process: ${process.pid}, thread: ${c.isMainThread?"main":`worker-${c.threadId}`}.`),super(t)}get tracer(){if(this._tracer)return this._tracer;const e=a.SDK_VERSION,t=i.trace.getTracer("@sentry/node",e);return this._tracer=t,t}async flush(e){const t=this.traceProvider,r=o([t,"optionalAccess",e=>e.activeSpanProcessor]);return r&&await r.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(e)}close(e){return this._clientReportInterval&&clearInterval(this._clientReportInterval),this._clientReportOnExitFlushListener&&process.off("beforeExit",this._clientReportOnExitFlushListener),super.close(e)}startClientReportTracking(){const e=this.getOptions();e.sendClientReports&&(this._clientReportOnExitFlushListener=()=>{this._flushOutcomes()},this._clientReportInterval=setInterval((()=>{l.DEBUG_BUILD&&a.logger.log("Flushing client reports based on interval."),this._flushOutcomes()}),n(e.clientReportFlushInterval,(()=>6e4))).unref(),process.on("beforeExit",this._clientReportOnExitFlushListener))}}t.NodeClient=u},34220:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=r(25738),s=r(13169),i=r(95022),a=r(82660),c=r(8421),l=r(22044),u=r(27284),p=r(85055),d=r(9558),h=r(76474),f=r(82644),m=r(99804),g=r(29871),E=r(45874),S=r(60700),_=r(13955),y=r(62087),A=r(75376),v=r(14709),T=r(23310);function b(){return[n.inboundFiltersIntegration(),n.functionToStringIntegration(),n.linkedErrorsIntegration(),n.requestDataIntegration(),i.consoleIntegration(),u.httpIntegration(),h.nativeNodeFetchIntegration(),f.onUncaughtExceptionIntegration(),m.onUnhandledRejectionIntegration(),c.contextLinesIntegration(),p.localVariablesIntegration(),a.nodeContextIntegration(),l.childProcessIntegration(),..._.isCjs()?[d.modulesIntegration()]:[]]}function I(e){return[...b(),...R(e)?E.getAutoPerformanceIntegrations():[]]}function R(e){return!!n.hasTracingEnabled(e)&&(e.enableTracing||null!=e.tracesSampleRate||"tracesSampler"in e)}function O(e={},t){const r=function(e,t){const r=function(e){if(void 0!==e)return e;const t=A.getSentryRelease();return void 0!==t?t:void 0}(e.release),o="string"==typeof r&&(void 0===e.autoSessionTracking||e.autoSessionTracking);if(null==e.spotlight){const t=y.envToBool(process.env.SENTRY_SPOTLIGHT,{strict:!0});e.spotlight=null==t?process.env.SENTRY_SPOTLIGHT:t}const s=function(e){if(void 0!==e)return e;const t=process.env.SENTRY_TRACES_SAMPLE_RATE;if(!t)return;const r=parseFloat(t);return isFinite(r)?r:void 0}(e.tracesSampleRate),i=n.dropUndefinedKeys({transport:S.makeNodeTransport,dsn:process.env.SENTRY_DSN,environment:process.env.SENTRY_ENVIRONMENT,sendClientReports:!0}),a=n.dropUndefinedKeys({release:r,autoSessionTracking:o,tracesSampleRate:s}),c={...i,...e,...a};void 0===e.defaultIntegrations&&(e.defaultIntegrations=t(c));return{...c,stackParser:n.stackParserFromStackParserOptions(e.stackParser||A.defaultStackParser),integrations:n.getIntegrationsToSetup({defaultIntegrations:e.defaultIntegrations,integrations:e.integrations})}}(e,t);!0===r.debug&&(s.DEBUG_BUILD?n.logger.enable():n.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),_.isCjs()||!1===r.registerEsmLoaderHooks||T.maybeInitializeEsmLoader(!0===r.registerEsmLoaderHooks?void 0:r.registerEsmLoaderHooks),o.setOpenTelemetryContextAsyncContextStrategy(),n.getCurrentScope().update(r.initialScope),r.spotlight&&!r.integrations.some((({name:e})=>e===g.INTEGRATION_NAME))&&r.integrations.push(g.spotlightIntegration({sidecarUrl:"string"==typeof r.spotlight?r.spotlight:void 0}));const i=new v.NodeClient(r);return n.getCurrentScope().setClient(i),i.init(),n.logger.log(`Running in ${_.isCjs()?"CommonJS":"ESM"} mode.`),r.autoSessionTracking&&function(){const e=n.getClient();e&&e.getOptions().autoSessionTracking&&e.initSessionFlusher(),n.startSession(),process.on("beforeExit",(()=>{const e=n.getIsolationScope().getSession();e&&"ok"!==e.status&&n.endSession()}))}(),i.startClientReportTracking(),function(){if(!1!==y.envToBool(process.env.SENTRY_USE_ENVIRONMENT)){const e=process.env.SENTRY_TRACE,t=process.env.SENTRY_BAGGAGE,r=n.propagationContextFromHeaders(e,t);n.getCurrentScope().setPropagationContext(r)}}(),r.skipOpenTelemetrySetup||(T.initOpenTelemetry(i),N()),o.enhanceDscWithOpenTelemetryRootSpanName(i),o.setupEventContextTrace(i),i}function N(){if(!s.DEBUG_BUILD)return;const e=o.openTelemetrySetupCheck(),t=["SentryContextManager","SentryPropagator"];n.hasTracingEnabled()&&t.push("SentrySpanProcessor");for(const r of t)e.includes(r)||n.logger.error(`You have to set up the ${r}. Without this, the OpenTelemetry & Sentry integration will not work properly.`);e.includes("SentrySampler")||n.logger.warn("You have to set up the SentrySampler. Without this, the OpenTelemetry & Sentry integration may still work, but sample rates set for the Sentry SDK will not be respected. If you use a custom sampler, make sure to use `wrapSamplingDecision`.")}t.getDefaultIntegrations=I,t.getDefaultIntegrationsWithoutPerformance=b,t.init=function(e={}){return O(e,I)},t.initWithoutDefaultIntegrations=function(e={}){return O(e,(()=>[]))},t.validateOpenTelemetrySetup=N},23310:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(73339),s=r(74681),i=r(13097),a=r(4374),c=r(51002),l=r(37872),u=r(25738),p=r(30616),d=r(45874),h=r(73086),f=r(13955);var m="undefined"!=typeof document?document.currentScript:null;function g(e){const[t=0,s=0]=process.versions.node.split(".").map(Number);if(t>=22||20===t&&s>=6||18===t&&s>=19){const t=void 0!==("undefined"==typeof document?r(87016).pathToFileURL(__filename).href:m&&"SCRIPT"===m.tagName.toUpperCase()&&m.src||new URL("sdk/initOtel.js",document.baseURI).href)?"undefined"==typeof document?r(87016).pathToFileURL(__filename).href:m&&"SCRIPT"===m.tagName.toUpperCase()&&m.src||new URL("sdk/initOtel.js",document.baseURI).href:void 0;if(!l.GLOBAL_OBJ._sentryEsmLoaderHookRegistered&&t)try{o.default.register("import-in-the-middle/hook.mjs",t,function(e){if(n([e,"optionalAccess",e=>e.onlyIncludeInstrumentedModules])){const{addHookMessagePort:t}=p.createAddHookMessageChannel();return{data:{addHookMessagePort:t,include:e.include||[]},transferList:[t]}}return{data:e}}(e)),l.GLOBAL_OBJ._sentryEsmLoaderHookRegistered=!0}catch(e){l.logger.warn("Failed to register ESM hook",e)}}else l.consoleSandbox((()=>{console.warn('[Sentry] You are using Node.js in ESM mode ("import syntax"). The Sentry Node.js SDK is not compatible with ESM in Node.js versions before 18.19.0 or before 20.6.0. Please either build your application with CommonJS ("require() syntax"), or use version 7.x of the Sentry Node.js SDK.')}))}function E(e){const t=new a.BasicTracerProvider({sampler:new u.SentrySampler(e),resource:new i.Resource({[c.ATTR_SERVICE_NAME]:"node",[c.SEMRESATTRS_SERVICE_NAMESPACE]:"sentry",[c.ATTR_SERVICE_VERSION]:l.SDK_VERSION}),forceFlushTimeoutMillis:500});return t.addSpanProcessor(new u.SentrySpanProcessor({timeout:e.getOptions().maxSpanWaitDuration})),t.register({propagator:new u.SentryPropagator,contextManager:new h.SentryContextManager}),t}function S(){const e=new Proxy(l.logger,{get(e,t,r){const n="verbose"===t?"debug":t;return Reflect.get(e,n,r)}});s.diag.disable(),s.diag.setLogger(e,s.DiagLogLevel.DEBUG)}t.initOpenTelemetry=function(e){e.getOptions().debug&&S();const t=E(e);e.traceProvider=t},t.maybeInitializeEsmLoader=g,t.preloadOpenTelemetry=function(e={}){const{debug:t}=e;t&&(l.logger.enable(),S()),f.isCjs()||g(e.registerEsmLoaderHooks),function(e){const t=d.getOpenTelemetryInstrumentationToPreload();return e?t.filter((t=>e.includes(t.id))):t}(e.integrations).forEach((e=>{e(),t&&l.logger.log(`[Sentry] Preloaded ${e.id} instrumentation`)}))},t.setupOtel=E},60700:(e,t,r)=>{var{_nullishCoalesce:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(37067),s=r(44708),i=r(57075),a=r(38522),c=r(37872),l=r(86160);t.makeNodeTransport=function(e){let t;try{t=new URL(e.url)}catch(t){return c.consoleSandbox((()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")})),c.createTransport(e,(()=>Promise.resolve({})))}const r="https:"===t.protocol,u=function(e,t){const{no_proxy:r}=process.env;return r&&r.split(",").some((t=>e.host.endsWith(t)||e.hostname.endsWith(t)))?void 0:t}(t,e.proxy||(r?process.env.https_proxy:void 0)||process.env.http_proxy),p=r?s:o,d=void 0!==e.keepAlive&&e.keepAlive,h=u?new l.HttpsProxyAgent(u):new p.Agent({keepAlive:d,maxSockets:30,timeout:2e3}),f=function(e,t,r){const{hostname:o,pathname:s,port:l,protocol:u,search:p}=new URL(e.url);return function(d){return new Promise(((h,f)=>{c.suppressTracing((()=>{let c=function(e){return new i.Readable({read(){this.push(e),this.push(null)}})}(d.body);const m={...e.headers};d.body.length>32768&&(m["content-encoding"]="gzip",c=c.pipe(a.createGzip()));const g=t.request({method:"POST",agent:r,headers:m,hostname:o,path:`${s}${p}`,port:l,protocol:u,ca:e.caCerts},(e=>{e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8");const t=n(e.headers["retry-after"],(()=>null)),r=n(e.headers["x-sentry-rate-limits"],(()=>null));h({statusCode:e.statusCode,headers:{"retry-after":t,"x-sentry-rate-limits":Array.isArray(r)?r[0]||null:r}})}));g.on("error",f),c.pipe(g)}))}))}}(e,n(e.httpModule,(()=>p)),h);return c.createTransport(e,f)}},64061:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872);t.addOriginToSpan=function(e,t){e.setAttribute(n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t)}},13955:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCjs=function(){return!0}},14660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(13955);t.createMissingInstrumentationContext=e=>({package:e,"javascript.is_cjs":n.isCjs()})},46478:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(98035),s=r(37872),i=r(13955),a=r(14660);t.ensureIsWrapped=function(e,t){const r=s.getClient();!n([r,"optionalAccess",e=>e.getOptions,"call",e=>e(),"access",e=>e.disableInstrumentationWarnings])&&!o.isWrapped(e)&&s.isEnabled()&&s.hasTracingEnabled()&&(s.consoleSandbox((()=>{i.isCjs()?console.warn(`[Sentry] ${t} is not instrumented. This is likely because you required/imported ${t} before calling \`Sentry.init()\`.`):console.warn(`[Sentry] ${t} is not instrumented. Please make sure to initialize Sentry in a separate file that you \`--import\` when running node, see: https://docs.sentry.io/platforms/javascript/guides/${t}/install/esm/.`)})),s.getGlobalScope().setContext("missing_instrumentation",a.createMissingInstrumentationContext(t)))}},62087:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=new Set(["false","f","n","no","off","0"]),n=new Set(["true","t","y","yes","on","1"]);t.FALSY_ENV_VALUES=r,t.TRUTHY_ENV_VALUES=n,t.envToBool=function(e,t){const o=String(e).toLowerCase();return!r.has(o)&&(!!n.has(o)||(t&&t.strict?null:Boolean(e)))}},96450:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=r(13169);t.logAndExitProcess=function(e){n.consoleSandbox((()=>{console.error(e)}));const t=n.getClient();if(void 0===t)return o.DEBUG_BUILD&&n.logger.warn("No NodeClient was defined, we are exiting the process now."),void global.process.exit(1);const r=t.getOptions(),s=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||2e3;t.close(s).then((e=>{e||o.DEBUG_BUILD&&n.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}),(e=>{o.DEBUG_BUILD&&n.logger.error(e)}))}},1247:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestUrl=function(e){const t=e.protocol||"",r=e.hostname||e.host||"";return`${t}//${r}${!e.port||80===e.port||443===e.port||/^(.*):(\d+)$/.test(r)?"":`:${e.port}`}${e.path?e.path:"/"}`}},32477:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(76760),o=r(37872);function s(e){return e.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}t.createGetModuleFromFilename=function(e=(process.argv[1]?o.dirname(process.argv[1]):process.cwd()),t="\\"===n.sep){const r=t?s(e):e;return e=>{if(!e)return;const o=t?s(e):e;let{dir:i,base:a,ext:c}=n.posix.parse(o);".js"!==c&&".mjs"!==c&&".cjs"!==c||(a=a.slice(0,-1*c.length)),i||(i=".");const l=i.lastIndexOf("/node_modules");if(l>-1)return`${i.slice(l+14).replace(/\//g,".")}:${a}`;if(i.startsWith(r)){let e=i.slice(r.length+1).replace(/\//g,".");return e&&(e+=":"),e+=a,e}return a}}},35278:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(37872),o=["get","set","setex"],s=["get","mget"],i=["set","setex"];function a(e,t){return e.includes(t.toLowerCase())}function c(e){return a(s,e)?"cache.get":a(i,e)?"cache.put":void 0}function l(e,t){return t.some((t=>e.startsWith(t)))}t.GET_COMMANDS=s,t.SET_COMMANDS=i,t.calculateCacheItemSize=function(e){const t=e=>{try{return Buffer.isBuffer(e)?e.byteLength:"string"==typeof e?e.length:"number"==typeof e?e.toString().length:null==e?0:JSON.stringify(e).length}catch(e){return}};return Array.isArray(e)?e.reduce(((e,r)=>{const n=t(r);return"number"==typeof n?void 0!==e?e+n:n:e}),0):t(e)},t.getCacheKeySafely=function(e,t){try{if(0===t.length)return;const r=e=>"string"==typeof e||"number"==typeof e||Buffer.isBuffer(e)?[e.toString()]:Array.isArray(e)?n.flatten(e.map((e=>r(e)))):["<unknown>"],s=t[0];return a(o,e)&&null!=s?r(s):n.flatten(t.map((e=>r(e))))}catch(e){return}},t.getCacheOperation=c,t.isInCommands=a,t.shouldConsiderForCache=function(e,t,r){if(!c(e))return!1;for(const e of t)if(l(e,r))return!0;return!1}},23815:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>B,InstrumentationNodeModuleDefinition:()=>j,InstrumentationNodeModuleFile:()=>H,isWrapped:()=>V,registerInstrumentations:()=>f,safeExecuteInTheMiddle:()=>k,safeExecuteInTheMiddleAsync:()=>D});var n=r(6664),o=r(60176),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),l=new c,u=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new c},e}()),p=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.emit=function(e){this._getLogger().emit(e)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):l},e}(),d=function(){function e(){}return e.prototype.getLogger=function(e,t,r){var n;return null!==(n=this.getDelegateLogger(e,t,r))&&void 0!==n?n:new p(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:u},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateLogger=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getLogger(e,t,r)},e}(),h=function(){function e(){this._proxyLoggerProvider=new d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,r=u,function(e){return 1===e?t:r}),this._proxyLoggerProvider.setDelegate(e),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:this._proxyLoggerProvider},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete a[i],this._proxyLoggerProvider=new d},e}().getInstance();function f(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),i=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||h.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var m=r(16928),g=r(39023),E=r(89109),S=r(81132),_=r(78758),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},A=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=S.wrap,this._unwrap=S.unwrap,this._massWrap=S.massWrap,this._massUnwrap=S.massUnwrap,this.setConfig(r),this._diag=_.s.createComponentLogger({namespace:e}),this._tracer=n.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=h.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=y({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),v=r(69136),T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},I=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},R="/",O=function(){this.hooks=[],this.children=new Map},N=function(){function e(){this._trie=new O,this._counter=0}return e.prototype.insert=function(e){var t,r,n=this._trie;try{for(var o=T(e.moduleName.split(R)),s=o.next();!s.done;s=o.next()){var i=s.value,a=n.children.get(i);a||(a=new O,n.children.set(i,a)),n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}n.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,n,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],l=!0;try{for(var u=T(e.split(R)),p=u.next();!p.done;p=u.next()){var d=p.value,h=a.children.get(d);if(!h){l=!1;break}i||c.push.apply(c,I([],b(h.hooks),!1)),a=h}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i&&l&&c.push.apply(c,I([],b(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),L=function(){function e(){this._moduleNameTrie=new N,this._initialize()}return e.prototype._initialize=function(){var e=this;new v.Hook(null,{internals:!0},(function(t,r,n){var o,s,i,a=(i=r,m.sep!==R?i.split(m.sep).join(R):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),u=l.next();!u.done;u=l.next())t=(0,u.value.onRequire)(t,r,n)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),w=r(30616),P=r(79896),M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function k(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function D(e,t,r){return M(this,void 0,void 0,(function(){var n,o,s;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}}))}))}function V(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var U,G=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=L.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if(V(e[t])&&o._unwrap(e,t),g.types.isProxy(e)){var n=(0,S.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n}),n}return(0,S.wrap)(e,t,r)},o._unwrap=function(e,t){return g.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,S.unwrap)(e,t)},o._massWrap=function(e,t,r){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,r)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.s.error("must provide one or more functions to wrap on modules")):_.s.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var n=t.name;try{var o=r(28898).resolve(n);r.c[o]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,P.readFileSync)(m.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){_.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,n){var o,s=this;if(!n)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(n);if(e.moduleVersion=i,e.name===r)return F(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=m.normalize(r);return a.filter((function(e){return e.name===c})).filter((function(t){return F(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,r){return r.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:n}),r.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,r,n,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=$(this._modules),c=a.next();!c.done;c=a.next()){var l=c.value;"function"==typeof l.patch&&l.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:l.name,version:l.moduleVersion}),l.patch(l.moduleExports,l.moduleVersion));try{for(var u=(r=void 0,$(l.files)),p=u.next();!p.done;p=u.next()){var d=p.value;d.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:l.name,version:l.moduleVersion,fileName:d.name}),d.patch(d.moduleExports,l.moduleVersion))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var h=function(e){var t=function(t,r,n){return i._onRequire(e,t,r,n)},r=m.isAbsolute(e.name)?new v.Hook([e.name],{internals:!0},t):f._requireInTheMiddleSingleton.register(e.name,t);f._hooks.push(r);var n=new w.Hook([e.name],{internals:!1},(function(t,r,n){if(!n&&m.isAbsolute(r)){var o=m.parse(r);r=o.name,n=o.dir}return i._onRequire(e,t,r,n)}));f._hooks.push(n)},f=this;try{for(var g=$(this._modules),E=g.next();!E.done;E=g.next())h(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var o=$(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(r=void 0,$(i.files)),c=a.next();!c.done;c=a.next()){var l=c.value;l.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:l.name}),l.unpatch(l.moduleExports,i.moduleVersion))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(A);function F(e,t,r){return void 0===t?e.includes("*"):e.some((function(e){return(0,E.satisfies)(t,e,{includePrerelease:r})}))}var j=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},H=function(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,m.normalize)(e)}},28898:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=28898,e.exports=t},25738:(e,t,r)=>{var{_optionalChain:n}=r(37872);Object.defineProperty(t,"__esModule",{value:!0});const o=r(51002),s=r(37872),i=r(74681),a=r(98035),c=r(4374),l=r(23815),u="sentry.parentIsRemote",p="sentry.graphql.operation";function d(e){const t=e;return!!t.attributes&&"object"==typeof t.attributes}function h(e){return"number"==typeof e.kind}function f(e){return!!e.status}function m(e){return!!e.name}function g(e){return!!e.parentSpanId}function E(e){if(!d(e))return{};const t=e.attributes[o.ATTR_URL_FULL]||e.attributes[o.SEMATTRS_HTTP_URL],r={url:t,"http.method":e.attributes[o.ATTR_HTTP_REQUEST_METHOD]||e.attributes[o.SEMATTRS_HTTP_METHOD]};!r["http.method"]&&r.url&&(r["http.method"]="GET");try{if("string"==typeof t){const e=s.parseUrl(t);r.url=s.getSanitizedUrlString(e),e.search&&(r["http.query"]=e.search),e.hash&&(r["http.fragment"]=e.hash)}}catch(e){}return r}function S(e){return h(e)?e.kind:i.SpanKind.INTERNAL}const _="sentry-trace",y="baggage",A="sentry.dsc",v="sentry.parent_span_id",T="sentry.sampled_not_recording",b="sentry.url",I=i.createContextKey("sentry_scopes"),R=i.createContextKey("sentry_fork_isolation_scope"),O=i.createContextKey("sentry_fork_set_scope"),N=i.createContextKey("sentry_fork_set_isolation_scope"),C="_scopeContext";function L(e){return e.getValue(I)}function w(e,t){return e.setValue(I,t)}function P(e,t,r){const n=t[o.ATTR_HTTP_REQUEST_METHOD]||t[o.SEMATTRS_HTTP_METHOD];if(n)return function({name:e,kind:t,attributes:r},n){const a=["http"];switch(t){case i.SpanKind.CLIENT:a.push("client");break;case i.SpanKind.SERVER:a.push("server")}r["sentry.http.prefetch"]&&a.push("prefetch");const{urlPath:c,url:l,query:u,fragment:d,hasRoute:h}=function(e,t){const r=e[o.SEMATTRS_HTTP_TARGET],n=e[o.SEMATTRS_HTTP_URL]||e[o.ATTR_URL_FULL],a=e[o.ATTR_HTTP_ROUTE],c="string"==typeof n?s.parseUrl(n):void 0,l=c?s.getSanitizedUrlString(c):void 0,u=c&&c.search?c.search:void 0,p=c&&c.hash?c.hash:void 0;return"string"==typeof a?{urlPath:a,url:l,query:u,fragment:p,hasRoute:!0}:t===i.SpanKind.SERVER&&"string"==typeof r?{urlPath:s.stripUrlQueryAndFragment(r),url:l,query:u,fragment:p,hasRoute:!1}:c?{urlPath:l,url:l,query:u,fragment:p,hasRoute:!1}:"string"==typeof r?{urlPath:s.stripUrlQueryAndFragment(r),url:l,query:u,fragment:p,hasRoute:!1}:{urlPath:void 0,url:l,query:u,fragment:p,hasRoute:!1}}(r,t);if(!c)return{op:a.join("."),description:e,source:"custom"};const f=r[p],m=`${n} ${c}`,g=f?`${m} (${function(e){if(Array.isArray(e)){const t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}(f)})`:m,E=h||"/"===c?"route":"url",S={};l&&(S.url=l),u&&(S["http.query"]=u),d&&(S["http.fragment"]=d);const _=t===i.SpanKind.CLIENT||t===i.SpanKind.SERVER,y=!`${r[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]||"manual"}`.startsWith("auto"),A=_||!y;return{op:a.join("."),description:A?g:e,source:A?E:"custom",data:S}}({attributes:t,name:e,kind:r},n);const a=t[o.SEMATTRS_DB_SYSTEM],c="string"==typeof t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP].startsWith("cache.");if(a&&!c)return function({attributes:e,name:t}){const r=e[o.SEMATTRS_DB_STATEMENT];return{op:"db",description:r?r.toString():t,source:"task"}}({attributes:t,name:e});if(t[o.SEMATTRS_RPC_SERVICE])return{op:"rpc",description:e,source:"route"};if(t[o.SEMATTRS_MESSAGING_SYSTEM])return{op:"message",description:e,source:"route"};const l=t[o.SEMATTRS_FAAS_TRIGGER];return l?{op:l.toString(),description:e,source:"route"}:{op:void 0,description:e,source:"custom"}}function M(e){const t=d(e)?e.attributes:{};return P(m(e)?e.name:"<unknown>",t,S(e))}function x({parentSpanId:e,dsc:t,sampled:r}){const n=t?s.dynamicSamplingContextToSentryBaggageHeader(t):void 0,o=(new a.TraceState).set(v,e||""),i=n?o.set(A,n):o;return!1===r?i.set(T,"1"):i}function k(e){const t=x({parentSpanId:e.parentSpanId,dsc:e.dsc,sampled:e.sampled});return{traceId:e.traceId,spanId:e.parentSpanId||"",isRemote:!0,traceFlags:e.sampled?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,traceState:t}}function D(){return i.trace.getActiveSpan()}const V="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function U(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}function G(e){const{traceFlags:t,traceState:r}=e,n=!!r&&"1"===r.get(T);if(t===i.TraceFlags.SAMPLED)return!0;if(n)return!1;const o=r?r.get(A):void 0,a=o?s.baggageHeaderToDynamicSamplingContext(o):void 0;return"true"===U([a,"optionalAccess",e=>e.sampled])||"false"!==U([a,"optionalAccess",e=>e.sampled])&&void 0}const $=new Set;function B(e){$.add(e)}function F(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}function j(e){const t=e.spanContext(),{traceId:r,spanId:n,traceState:o}=t,i=o?o.get(A):void 0,a=i?s.baggageHeaderToDynamicSamplingContext(i):void 0,c=o&&o.get(v)||void 0;return{traceId:r,spanId:n,sampled:G(t),parentSpanId:c,dsc:a||s.getDynamicSamplingContextFromSpan(s.getRootSpan(e))}}class H extends a.W3CBaggagePropagator{constructor(){super(),B("SentryPropagator"),this._urlMatchesTargetsMap=new s.LRUMap(100)}inject(e,t,r){if(a.isTracingSuppressed(e))return void(V&&s.logger.log("[Tracing] Not injecting trace data for url because tracing is suppressed."));const n=i.trace.getSpan(e),c=n&&function(e){const t=s.spanToJSON(e).data,r=F([t,"optionalAccess",e=>e[o.SEMATTRS_HTTP_URL]])||F([t,"optionalAccess",e=>e[o.ATTR_URL_FULL]]);if(r)return r;const n=F([e,"access",e=>e.spanContext,"call",e=>e(),"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(b)]);return n||void 0}(n),l=F([s.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e(),"optionalAccess",e=>e.tracePropagationTargets]);if("string"==typeof c&&l&&!this._shouldInjectTraceData(l,c))return void(V&&s.logger.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",c));const u=function(e){try{const t=e[y];return Array.isArray(t)?t.join(","):t}catch(e){return}}(t);let p=i.propagation.getBaggage(e)||i.propagation.createBaggage({});const{dynamicSamplingContext:d,traceId:h,spanId:f,sampled:m}=function(e){const t=i.trace.getSpan(e),r=F([t,"optionalAccess",e=>e.spanContext,"call",e=>e(),"access",e=>e.isRemote]);if(t&&!r){const e=t.spanContext();return{dynamicSamplingContext:W(j(t),e.traceId),traceId:e.traceId,spanId:e.spanId,sampled:G(e)}}const n=(F([L,"call",t=>t(e),"optionalAccess",e=>e.scope])||s.getCurrentScope()).getPropagationContext();return{dynamicSamplingContext:W(n,n.traceId),traceId:n.traceId,spanId:n.spanId,sampled:n.sampled}}(e);if(u){const e=s.parseBaggageHeader(u);e&&Object.entries(e).forEach((([e,t])=>{p=p.setEntry(e,{value:t})}))}d&&(p=Object.entries(d).reduce(((e,[t,r])=>r?e.setEntry(`${s.SENTRY_BAGGAGE_KEY_PREFIX}${t}`,{value:r}):e),p)),h&&h!==i.INVALID_TRACEID&&r.set(t,_,s.generateSentryTraceHeader(h,f,m)),super.inject(i.propagation.setBaggage(e,p),t,r)}extract(e,t,r){const n=r.get(t,_),o=r.get(t,y),i=n?Array.isArray(n)?n[0]:n:void 0,a=s.propagationContextFromHeaders(i,o),c=X(e,{sentryTrace:i,baggage:o}),l=L(c),u={scope:l?l.scope.clone():s.getCurrentScope().clone(),isolationScope:l?l.isolationScope:s.getIsolationScope()};return u.scope.setPropagationContext(a),w(c,u)}fields(){return[_,y]}_shouldInjectTraceData(e,t){if(void 0===e)return!0;const r=this._urlMatchesTargetsMap.get(t);if(void 0!==r)return r;const n=s.stringMatchesSomePattern(t,e);return this._urlMatchesTargetsMap.set(t,n),n}}function W(e,t){if(F([e,"optionalAccess",e=>e.dsc]))return e.dsc;const r=s.getClient();return r?s.getDynamicSamplingContextFromClient(t||e.traceId,r):void 0}function X(e,{sentryTrace:t,baggage:r}){const n=k(s.propagationContextFromHeaders(t,r));return i.trace.setSpanContext(e,n)}function Y(e,t){const r=J(),{name:n,parentSpan:o}=e;return ee(o)((()=>{const o=q(e.scope,e.forceTransaction),c=e.onlyIfParent&&!i.trace.getSpan(o)?a.suppressTracing(o):o,l=Q(e);return r.startActiveSpan(n,l,c,(e=>s.handleCallbackErrors((()=>t(e)),(()=>{void 0===s.spanToJSON(e).status&&e.setStatus({code:i.SpanStatusCode.ERROR})}),(()=>e.end()))))}))}function K(e,t){const r=J(),{name:n,parentSpan:o}=e;return ee(o)((()=>{const o=q(e.scope,e.forceTransaction),c=e.onlyIfParent&&!i.trace.getSpan(o)?a.suppressTracing(o):o,l=Q(e);return r.startActiveSpan(n,l,c,(e=>s.handleCallbackErrors((()=>t(e,(()=>e.end()))),(()=>{void 0===s.spanToJSON(e).status&&e.setStatus({code:i.SpanStatusCode.ERROR})}))))}))}function Z(e){const t=J(),{name:r,parentSpan:n}=e;return ee(n)((()=>{const n=q(e.scope,e.forceTransaction),o=e.onlyIfParent&&!i.trace.getSpan(n)?a.suppressTracing(n):n,s=Q(e);return t.startSpan(r,s,o)}))}function z(e,t){const r=e?i.trace.setSpan(i.context.active(),e):i.trace.deleteSpan(i.context.active());return i.context.with(r,(()=>t(s.getCurrentScope())))}function J(){const e=s.getClient();return e&&e.tracer||i.trace.getTracer("@sentry/opentelemetry",s.SDK_VERSION)}function Q(e){const{startTime:t,attributes:r,kind:n,op:o}=e,i="number"==typeof t?(a=t)<9999999999?1e3*a:a:t;var a;return{attributes:o?{[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:o,...r}:r,kind:n,startTime:i}}function q(e,t){const r=function(e){if(e){const t=function(e){return e[C]}(e);if(t)return t}return i.context.active()}(e),n=function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}([L,"call",e=>e(r),"optionalAccess",e=>e.scope]),o=i.trace.getSpan(r);if(!o){const e=s.getClient();if(n&&e){const e=n.getPropagationContext(),t=x({parentSpanId:e.parentSpanId,dsc:void 0,sampled:e.sampled}),o={traceId:e.traceId,spanId:e.parentSpanId||e.spanId,isRemote:!0,traceFlags:e.sampled?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,traceState:t};return i.trace.setSpanContext(r,o)}return r}if(!t)return r;const a=i.trace.deleteSpan(r),{spanId:c,traceId:l}=o.spanContext(),u=G(o.spanContext()),p=s.getRootSpan(o),d=x({dsc:s.getDynamicSamplingContextFromSpan(p),parentSpanId:c!==i.INVALID_SPANID?c:void 0,sampled:u}),h={traceId:l,spanId:c,isRemote:!0,traceFlags:u?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,traceState:d};return i.trace.setSpanContext(a,h)}function ee(e){return void 0!==e?t=>z(e,t):e=>e()}function te(e){const t=a.suppressTracing(i.context.active());return i.context.with(t,e)}function re(){const e={};return i.propagation.inject(i.context.active(),e),e["sentry-trace"]?s.dropUndefinedKeys({"sentry-trace":e["sentry-trace"],baggage:e.baggage}):{}}function ne(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}function oe(e){return!0===e.attributes[u]?void 0:e.parentSpanId}function se(e,t){const r=t.spanContext().spanId,n=oe(t);if(!n)return void ie(e,{id:r,span:t,children:[]});const o=function(e,t){const r=e.get(t);return r||ie(e,{id:t,children:[]})}(e,n),s=ie(e,{id:r,span:t,parentNode:o,children:[]});o.children.push(s)}function ie(e,t){const r=e.get(t.id);return r&&r.span?r:r&&!r.span?(r.span=t.span,r.parentNode=t.parentNode,r):(e.set(t.id,t),t)}const ae={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},ce=e=>Object.values(ae).includes(e);function le(e){const t=d(e)?e.attributes:{},r=f(e)?e.status:void 0;if(r){if(r.code===i.SpanStatusCode.OK)return{code:s.SPAN_STATUS_OK};if(r.code===i.SpanStatusCode.ERROR){if(void 0===r.message){const e=ue(t);if(e)return e}return r.message&&ce(r.message)?{code:s.SPAN_STATUS_ERROR,message:r.message}:{code:s.SPAN_STATUS_ERROR,message:"unknown_error"}}}return ue(t)||(r&&r.code===i.SpanStatusCode.UNSET?{code:s.SPAN_STATUS_OK}:{code:s.SPAN_STATUS_ERROR,message:"unknown_error"})}function ue(e){const t=e[o.ATTR_HTTP_RESPONSE_STATUS_CODE]||e[o.SEMATTRS_HTTP_STATUS_CODE],r=e[o.SEMATTRS_RPC_GRPC_STATUS_CODE],n="number"==typeof t?t:"string"==typeof t?parseInt(t):void 0;return"number"==typeof n?s.getSpanStatusFromHttpCode(n):"string"==typeof r?{code:s.SPAN_STATUS_ERROR,message:ae[r]||"unknown_error"}:void 0}function pe(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}class de{constructor(e){this._finishedSpans=[],this._timeout=pe([e,"optionalAccess",e=>e.timeout])||300}export(e){if(this._finishedSpans.push(e),oe(e)){const e=this._finishedSpans.length;return V&&s.logger.log(`SpanExporter has ${e} unsent spans remaining`),void this._cleanupOldSpans()}this._clearTimeout(),this._flushTimeout=setTimeout((()=>{this.flush()}),1)}flush(){this._clearTimeout();const e=this._finishedSpans.length,t=function(e){const t=function(e){const t=new Map;for(const r of e)se(t,r);return Array.from(t,(function([e,t]){return t}))}(e),r=new Set(t);return(n=t,n.filter(he)).forEach((e=>{r.delete(e);const t=e.span,n=function(e){const{op:t,description:r,data:n,origin:o="manual",source:i}=me(e),a=s.getCapturedScopesOnSpan(e),c=e.attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],l=s.dropUndefinedKeys({[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:i,[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:c,[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t,[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:o,...n,...ge(e.attributes)}),{traceId:u,spanId:p}=e.spanContext(),d=pe([e,"access",e=>e.spanContext,"call",e=>e(),"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(v)]),h="string"==typeof d?d||void 0:e.parentSpanId,f=le(e);return{contexts:{trace:s.dropUndefinedKeys({parent_span_id:h,span_id:p,trace_id:u,data:l,origin:o,op:t,status:s.getStatusMessage(f)}),otel:{resource:e.resource.attributes}},spans:[],start_timestamp:s.spanTimeInputToSeconds(e.startTime),timestamp:s.spanTimeInputToSeconds(e.endTime),transaction:r,type:"transaction",sdkProcessingMetadata:{...s.dropUndefinedKeys({capturedSpanScope:a.scope,capturedSpanIsolationScope:a.isolationScope,sampleRate:c,dynamicSamplingContext:s.getDynamicSamplingContextFromSpan(e)})},...i&&{transaction_info:{source:i}},_metrics_summary:s.getMetricSummaryJsonForSpan(e)}}(t),o=n.spans||[];e.children.forEach((e=>{fe(e,o,r)})),n.spans=o.length>1e3?o.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):o;const i=s.timedEventsToMeasurements(t.events);i&&(n.measurements=i),s.captureEvent(n)})),Array.from(r).map((e=>e.span)).filter((e=>!!e));var n}(this._finishedSpans),r=t.length,n=e-r;V&&s.logger.log(`SpanExporter exported ${n} spans, ${r} unsent spans remaining`),this._cleanupOldSpans(t)}clear(){this._finishedSpans=[],this._clearTimeout()}_clearTimeout(){this._flushTimeout&&(clearTimeout(this._flushTimeout),this._flushTimeout=void 0)}_cleanupOldSpans(e=this._finishedSpans){const t=Date.now()/1e3;this._finishedSpans=e.filter((e=>{const r=function(e,t,r){const n=t-r;return s.spanTimeInputToSeconds(e.startTime)<n}(e,t,this._timeout);return V&&r&&s.logger.log(`SpanExporter dropping span ${e.name} (${e.spanContext().spanId}) because it is pending for more than 5 minutes.`),!r}))}}function he(e){return!!e.span&&!e.parentNode}function fe(e,t,r){r.delete(e);const n=e.span;if(!n)return void e.children.forEach((e=>{fe(e,t,r)}));const o=n.spanContext().spanId,i=n.spanContext().traceId,{attributes:a,startTime:c,endTime:l,parentSpanId:u}=n,{op:p,description:d,data:h,origin:f="manual"}=me(n),m=s.dropUndefinedKeys({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:f,[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:p,...ge(a),...h}),g=le(n),E=s.dropUndefinedKeys({span_id:o,trace_id:i,data:m,description:d,parent_span_id:u,start_timestamp:s.spanTimeInputToSeconds(c),timestamp:s.spanTimeInputToSeconds(l)||void 0,status:s.getStatusMessage(g),op:p,origin:f,_metrics_summary:s.getMetricSummaryJsonForSpan(n),measurements:s.timedEventsToMeasurements(n.events)});t.push(E),e.children.forEach((e=>{fe(e,t,r)}))}function me(e){const{op:t,source:r,origin:n}=function(e){const t=e.attributes;return{origin:t[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],op:t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP],source:t[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]}}(e),{op:o,description:i,source:a,data:c}=M(e);return{op:t||o,description:i,source:r||a,origin:n,data:{...c,...Ee(e)}}}function ge(e){const t={...e};return delete t[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],delete t[u],t}function Ee(e){const t=e.attributes,r={};e.kind!==i.SpanKind.INTERNAL&&(r["otel.kind"]=i.SpanKind[e.kind]);const n=t[o.SEMATTRS_HTTP_STATUS_CODE];n&&(r[o.ATTR_HTTP_RESPONSE_STATUS_CODE]=n);const s=E(e);return s.url&&(r.url=s.url),s["http.query"]&&(r["http.query"]=s["http.query"].slice(1)),s["http.fragment"]&&(r["http.fragment"]=s["http.fragment"].slice(1)),r}function Se(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}function _e({decision:e,context:t,spanAttributes:r}){const s=function(e,t){const r=i.trace.getSpan(e),s=n([r,"optionalAccess",e=>e.spanContext,"call",e=>e()]);let c=n([s,"optionalAccess",e=>e.traceState])||new a.TraceState;const l=t[o.SEMATTRS_HTTP_URL]||t[o.ATTR_URL_FULL];return l&&"string"==typeof l&&(c=c.set(b,l)),c}(t,r);return null==e?{decision:c.SamplingDecision.NOT_RECORD,traceState:s}:e===c.SamplingDecision.NOT_RECORD?{decision:e,traceState:s.set(T,"1")}:{decision:e,traceState:s}}t.getClient=s.getClient,t.getCurrentHubShim=s.getCurrentHubShim,t.getDynamicSamplingContextFromSpan=s.getDynamicSamplingContextFromSpan,t.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION=p,t.SentryPropagator=H,t.SentrySampler=class{constructor(e){this._client=e,B("SentrySampler")}shouldSample(e,t,r,a,l,u){const p=this._client.getOptions(),d=i.trace.getSpan(e),h=n([d,"optionalAccess",e=>e.spanContext,"call",e=>e()]);if(!s.hasTracingEnabled(p))return _e({decision:void 0,context:e,spanAttributes:l});const f=l[o.SEMATTRS_HTTP_METHOD]||l[o.ATTR_HTTP_REQUEST_METHOD];if(a===i.SpanKind.CLIENT&&f&&(!d||n([h,"optionalAccess",e=>e.isRemote])))return _e({decision:void 0,context:e,spanAttributes:l});const m=d?function(e,t,r){const n=e.spanContext();if(i.isSpanContextValid(n)&&n.traceId===t){if(n.isRemote){const t=function(e){const t=e.spanContext().traceId,r=j(e);return r&&t===r.traceId?r.sampled:void 0}(e);return V&&s.logger.log(`[Tracing] Inheriting remote parent's sampled decision for ${r}: ${t}`),t}const t=G(n);return V&&s.logger.log(`[Tracing] Inheriting parent's sampled decision for ${r}: ${t}`),t}}(d,t,r):void 0,{description:g,data:E,op:S}=P(r,l,a),_={...E,...l};S&&(_[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]=S);const y={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:_,spanName:g,parentSampled:m,parentContext:h},y),!y.decision)return _e({decision:void 0,context:e,spanAttributes:l});const[A,v]=s.sampleSpan(p,{name:g,attributes:_,transactionContext:{name:g,parentSampled:m},parentSampled:m}),T={[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:v},b=`${f}`.toUpperCase();return"OPTIONS"===b||"HEAD"===b?(V&&s.logger.log(`[Tracing] Not sampling span because HTTP method is '${b}' for ${r}`),{..._e({decision:c.SamplingDecision.NOT_RECORD,context:e,spanAttributes:l}),attributes:T}):A?{..._e({decision:c.SamplingDecision.RECORD_AND_SAMPLED,context:e,spanAttributes:l}),attributes:T}:{..._e({decision:c.SamplingDecision.NOT_RECORD,context:e,spanAttributes:l}),attributes:T}}toString(){return"SentrySampler"}},t.SentrySpanProcessor=class{constructor(e){B("SentrySpanProcessor"),this._exporter=new de(e)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(e,t){!function(e,t){const r=i.trace.getSpan(t);let n=L(t);r&&!r.spanContext().isRemote&&s.addChildSpanToSpan(r,e),r&&r.spanContext().isRemote&&e.setAttribute(u,!0),t===i.ROOT_CONTEXT&&(n={scope:s.getDefaultCurrentScope(),isolationScope:s.getDefaultIsolationScope()}),n&&s.setCapturedScopesOnSpan(e,n.scope,n.isolationScope),s.logSpanStart(e),Se([s.getClient(),"optionalAccess",e=>e.emit,"call",t=>t("spanStart",e)])}(e,t)}onEnd(e){!function(e){s.logSpanEnd(e),Se([s.getClient(),"optionalAccess",e=>e.emit,"call",t=>t("spanEnd",e)])}(e),this._exporter.export(e)}},t.addOpenTelemetryInstrumentation=function(...e){l.registerInstrumentations({instrumentations:e})},t.continueTrace=function(e,t){return s.continueTrace(e,(()=>function(e,t,r){const n=X(e,t);return i.context.with(n,r)}(i.context.active(),e,t)))},t.enhanceDscWithOpenTelemetryRootSpanName=function(e){e.on("createDsc",((e,t)=>{if(t){const r=(s.spanToJSON(t).data||{})[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],{description:n}=m(t)?M(t):{description:void 0};"url"!==r&&n&&(e.transaction=n)}}))},t.generateSpanContextForPropagationContext=k,t.getActiveSpan=D,t.getPropagationContextFromSpan=j,t.getRequestSpanData=E,t.getScopesFromContext=L,t.getSpanKind=S,t.isSentryRequestSpan=function(e){if(!d(e))return!1;const{attributes:t}=e,r=t[o.SEMATTRS_HTTP_URL]||t[o.ATTR_URL_FULL];return!!r&&s.isSentryRequestUrl(r.toString(),s.getClient())},t.openTelemetrySetupCheck=function(){return Array.from($)},t.setOpenTelemetryContextAsyncContextStrategy=function(){function e(){return L(i.context.active())||{scope:s.getDefaultCurrentScope(),isolationScope:s.getDefaultIsolationScope()}}function t(){return e().scope}function r(){return e().isolationScope}s.setAsyncContextStrategy({withScope:function(e){const r=i.context.active();return i.context.with(r,(()=>e(t())))},withSetScope:function(e,t){const r=i.context.active();return i.context.with(r.setValue(O,e),(()=>t(e)))},withSetIsolationScope:function(e,t){const n=i.context.active();return i.context.with(n.setValue(N,e),(()=>t(r())))},withIsolationScope:function(e){const t=i.context.active();return i.context.with(t.setValue(R,!0),(()=>e(r())))},getCurrentScope:t,getIsolationScope:r,startSpan:Y,startSpanManual:K,startInactiveSpan:Z,getActiveSpan:D,suppressTracing:te,getTraceData:re,withActiveSpan:z})},t.setupEventContextTrace=function(e){e.on("preprocessEvent",(e=>{const t=D();if(!t||"transaction"===e.type)return;const r=t.spanContext(),n=function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}([r,"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(v)]),o="string"==typeof n?n||void 0:g(t)?t.parentSpanId:void 0;e.contexts={trace:s.dropUndefinedKeys({trace_id:r.traceId,span_id:r.spanId,parent_span_id:o}),...e.contexts};const i=s.getRootSpan(t);return e.sdkProcessingMetadata={dynamicSamplingContext:s.getDynamicSamplingContextFromSpan(i),...e.sdkProcessingMetadata},e}))},t.spanHasAttributes=d,t.spanHasEvents=function(e){const t=e;return Array.isArray(t.events)},t.spanHasKind=h,t.spanHasName=m,t.spanHasParentId=g,t.spanHasStatus=f,t.startInactiveSpan=Z,t.startSpan=Y,t.startSpanManual=K,t.suppressTracing=te,t.withActiveSpan=z,t.wrapClientClass=function(e){return class extends e{constructor(...e){super(...e)}get tracer(){if(this._tracer)return this._tracer;const e=s.SDK_VERSION,t=i.trace.getTracer("@sentry/opentelemetry",e);return this._tracer=t,t}async flush(e){const t=function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],s=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=s(r)):"call"!==o&&"optionalCall"!==o||(r=s(((...e)=>r.call(t,...e))),t=void 0)}return r}([this.traceProvider,"optionalAccess",e=>e.activeSpanProcessor]);return t&&await t.forceFlush(),super.flush(e)}}},t.wrapContextManagerClass=function(e){return class extends e{constructor(...e){super(...e),B("SentryContextManager")}with(e,t,r,...n){const o=L(e),i=ne([o,"optionalAccess",e=>e.scope])||s.getCurrentScope(),a=ne([o,"optionalAccess",e=>e.isolationScope])||s.getIsolationScope(),c=!0===e.getValue(R),l=e.getValue(O),u=e.getValue(N),p=l||i.clone(),d=w(e,{scope:p,isolationScope:u||(c?a.clone():a)}).deleteValue(R).deleteValue(O).deleteValue(N);return function(e,t){s.addNonEnumerableProperty(e,C,t)}(p,d),super.with(d,t,r,...n)}}},t.wrapSamplingDecision=_e},69440:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=r(55147),{safeRe:i,t:a}=r(41910),c=r(23135),l=r(68488),u=r(79204),p=r(24471)},24471:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!E(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,L(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));n&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),c("range list",i);const l=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(E(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const _=[...l.values()];return s.set(t,_),_}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>_(r,t)&&e.set.some((e=>_(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(r(10506)),i=r(55147),a=r(69440),c=r(68488),l=r(79204),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(41910),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(4666),E=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(c("comp",e,t),e=b(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=R(e,t),c("xrange",e),e=N(e,t),c("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,s)=>{let i;return c("tilde",e,t,r,n,o,s),A(r)?i="":A(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",i),i}))},b=(e,t)=>e.trim().split(/\s+/).map((e=>I(e,t))).join(" "),I=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,i)=>{let a;return c("caret",e,t,r,o,s,i),A(r)?a="":A(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(s)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),c("caret return",a),a}))},R=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,s,i,a)=>{c("xRange",e,r,n,o,s,i,a);const l=A(o),u=l||A(s),p=u||A(i),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+o}.${s}.${i}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",r),r}))},N=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),C=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),L=e=>(t,r,n,o,s,i,a,c,l,u,p,d)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(s)?`>=${n}.${o}.0${e?"-0":""}`:i?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(l)?"":A(u)?`<${+l+1}.0.0-0`:A(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},79204:(e,t,r)=>{const n=r(68488),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(4666),{safeRe:i,t:a}=r(41910),c=r(55147),{compareIdentifiers:l}=r(16979);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},12502:(e,t,r)=>{const n=r(46224);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},23135:(e,t,r)=>{const n=r(90753),o=r(53503),s=r(51180),i=r(1305),a=r(62851),c=r(42016);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return s(e,r,l);case">=":return i(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},92202:(e,t,r)=>{const n=r(79204),o=r(46224),{safeRe:s,t:i}=r(41910);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},6237:(e,t,r)=>{const n=r(79204);e.exports=(e,t,r)=>{const o=new n(e,r),s=new n(t,r);return o.compare(s)||o.compareBuild(s)}},7523:(e,t,r)=>{const n=r(41936);e.exports=(e,t)=>n(e,t,!0)},41936:(e,t,r)=>{const n=r(79204);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},74312:(e,t,r)=>{const n=r(46224);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),s=r.compare(o);if(0===s)return null;const i=s>0,a=i?r:o,c=i?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},90753:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>0===n(e,t,r)},51180:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>n(e,t,r)>0},1305:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>n(e,t,r)>=0},90719:(e,t,r)=>{const n=r(79204);e.exports=(e,t,r,o,s)=>{"string"==typeof r&&(s=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,s).version}catch(e){return null}}},62851:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>n(e,t,r)<0},42016:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>n(e,t,r)<=0},23930:(e,t,r)=>{const n=r(79204);e.exports=(e,t)=>new n(e,t).major},21374:(e,t,r)=>{const n=r(79204);e.exports=(e,t)=>new n(e,t).minor},53503:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>0!==n(e,t,r)},46224:(e,t,r)=>{const n=r(79204);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},27197:(e,t,r)=>{const n=r(79204);e.exports=(e,t)=>new n(e,t).patch},32193:(e,t,r)=>{const n=r(46224);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},3106:(e,t,r)=>{const n=r(41936);e.exports=(e,t,r)=>n(t,e,r)},72981:(e,t,r)=>{const n=r(6237);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},42966:(e,t,r)=>{const n=r(24471);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},28647:(e,t,r)=>{const n=r(6237);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},9897:(e,t,r)=>{const n=r(46224);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},89109:(e,t,r)=>{const n=r(41910),o=r(4666),s=r(79204),i=r(16979),a=r(46224),c=r(9897),l=r(12502),u=r(90719),p=r(74312),d=r(23930),h=r(21374),f=r(27197),m=r(32193),g=r(41936),E=r(3106),S=r(7523),_=r(6237),y=r(28647),A=r(72981),v=r(51180),T=r(62851),b=r(90753),I=r(53503),R=r(1305),O=r(42016),N=r(23135),C=r(92202),L=r(69440),w=r(24471),P=r(42966),M=r(29135),x=r(33820),k=r(66046),D=r(38333),V=r(39202),U=r(92035),G=r(43299),$=r(96878),B=r(7420),F=r(73469),j=r(99272);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:E,compareLoose:S,compareBuild:_,sort:y,rsort:A,gt:v,lt:T,eq:b,neq:I,gte:R,lte:O,cmp:N,coerce:C,Comparator:L,Range:w,satisfies:P,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:D,validRange:V,outside:U,gtr:G,ltr:$,intersects:B,simplifyRange:F,subset:j,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},4666:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},68488:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},16979:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},10506:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},55147:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},41910:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=r(4666),i=r(68488),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;i(e,o,t),u[e]=o,l[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},43299:(e,t,r)=>{const n=r(92035);e.exports=(e,t,r)=>n(e,t,">",r)},7420:(e,t,r)=>{const n=r(24471);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},96878:(e,t,r)=>{const n=r(92035);e.exports=(e,t,r)=>n(e,t,"<",r)},33820:(e,t,r)=>{const n=r(79204),o=r(24471);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},66046:(e,t,r)=>{const n=r(79204),o=r(24471);e.exports=(e,t,r)=>{let s=null,i=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new n(s,r)))})),s}},38333:(e,t,r)=>{const n=r(79204),o=r(24471),s=r(51180);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&e.test(r)?r:null}},92035:(e,t,r)=>{const n=r(79204),o=r(69440),{ANY:s}=o,i=r(24471),a=r(42966),c=r(51180),l=r(62851),u=r(42016),p=r(1305);e.exports=(e,t,r,d)=>{let h,f,m,g,E;switch(e=new n(e,d),t=new i(t,d),r){case">":h=c,f=u,m=l,g=">",E=">=";break;case"<":h=l,f=p,m=c,g="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,d)?i=e:m(e.semver,a.semver,d)&&(a=e)})),i.operator===g||i.operator===E)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===E&&m(e,a.semver))return!1}return!0}},73469:(e,t,r)=>{const n=r(42966),o=r(41936);e.exports=(e,t,r)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},99272:(e,t,r)=>{const n=r(24471),o=r(69440),{ANY:s}=o,i=r(42966),a=r(41936),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,m,g,E;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!i(e,String(o),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t)if(!i(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(E=E||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&g&&!u&&0!==h||u&&E&&!o&&0!==h||_||S)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},29135:(e,t,r)=>{const n=r(24471);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},39202:(e,t,r)=>{const n=r(24471);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},56284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},o=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},s=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},i=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},a=function(e){return{r:s(e.r,0,255),g:s(e.g,0,255),b:s(e.b,0,255),a:s(e.a)}},c=function(e){return{r:o(e.r),g:o(e.g),b:o(e.b),a:o(e.a,3)}},l=/^#([0-9a-f]{3,8})$/i,u=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},p=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,s=Math.max(t,r,n),i=s-Math.min(t,r,n),a=i?s===t?(r-n)/i:s===r?2+(n-t)/i:4+(t-r)/i:0;return{h:60*(a<0?a+6:a),s:s?i/s*100:0,v:s/255*100,a:o}},d=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),i=n*(1-r),a=n*(1-(t-s)*r),c=n*(1-(1-t+s)*r),l=s%6;return{r:255*[n,a,i,i,c,n][l],g:255*[c,n,n,a,i,i][l],b:255*[i,i,c,n,n,a][l],a:o}},h=function(e){return{h:i(e.h),s:s(e.s,0,100),l:s(e.l,0,100),a:s(e.a)}},f=function(e){return{h:o(e.h),s:o(e.s),l:o(e.l),a:o(e.a,3)}},m=function(e){return d((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},g=function(e){return{h:(t=p(e)).h,s:(o=(200-(r=t.s))*(n=t.v)/100)>0&&o<200?r*n/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,r,n,o},E=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,A={string:[[function(e){var t=l.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?o(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?o(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=_.exec(e)||y.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=E.exec(e)||S.exec(e);if(!t)return null;var n,o,s=h({h:(n=t[1],o=t[2],void 0===o&&(o="deg"),Number(n)*(r[o]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(s)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,o=e.b,s=e.a,i=void 0===s?1:s;return n(t)&&n(r)&&n(o)?a({r:Number(t),g:Number(r),b:Number(o),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,r=e.s,o=e.l,s=e.a,i=void 0===s?1:s;if(!n(t)||!n(r)||!n(o))return null;var a=h({h:Number(t),s:Number(r),l:Number(o),a:Number(i)});return m(a)},"hsl"],[function(e){var t=e.h,r=e.s,o=e.v,a=e.a,c=void 0===a?1:a;if(!n(t)||!n(r)||!n(o))return null;var l=function(e){return{h:i(e.h),s:s(e.s,0,100),v:s(e.v,0,100),a:s(e.a)}}({h:Number(t),s:Number(r),v:Number(o),a:Number(c)});return d(l)},"hsv"]]},v=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},T=function(e){return"string"==typeof e?v(e.trim(),A.string):"object"==typeof e&&null!==e?v(e,A.object):[null,void 0]},b=function(e,t){var r=g(e);return{h:r.h,s:s(r.s+100*t,0,100),l:r.l,a:r.a}},I=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},R=function(e,t){var r=g(e);return{h:r.h,s:r.s,l:s(r.l+100*t,0,100),a:r.a}},O=function(){function e(e){this.parsed=T(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return o(I(this.rgba),2)},e.prototype.isDark=function(){return I(this.rgba)<.5},e.prototype.isLight=function(){return I(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,r=e.g,n=e.b,i=(s=e.a)<1?u(o(255*s)):"","#"+u(t)+u(r)+u(n)+i;var e,t,r,n,s,i},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,r=e.g,n=e.b,(o=e.a)<1?"rgba("+t+", "+r+", "+n+", "+o+")":"rgb("+t+", "+r+", "+n+")";var e,t,r,n,o},e.prototype.toHsl=function(){return f(g(this.rgba))},e.prototype.toHslString=function(){return t=(e=f(g(this.rgba))).h,r=e.s,n=e.l,(o=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+o+")":"hsl("+t+", "+r+"%, "+n+"%)";var e,t,r,n,o},e.prototype.toHsv=function(){return e=p(this.rgba),{h:o(e.h),s:o(e.s),v:o(e.v),a:o(e.a,3)};var e},e.prototype.invert=function(){return N({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),N(b(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),N(b(this.rgba,-e))},e.prototype.grayscale=function(){return N(b(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),N(R(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),N(R(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?N({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):o(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=g(this.rgba);return"number"==typeof e?N({h:e,s:t.s,l:t.l,a:t.a}):o(t.h)},e.prototype.isEqual=function(e){return this.toHex()===N(e).toHex()},e}(),N=function(e){return e instanceof O?e:new O(e)},C=[];t.Colord=O,t.colord=N,t.extend=function(e){e.forEach((function(e){C.indexOf(e)<0&&(e(O,A),C.push(e))}))},t.getFormat=function(e){return T(e)[1]},t.random=function(){return new O({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},16022:e=>{!function(){"use strict";var t=[,function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=o,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var n,o,s=(o=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return s}}(n,o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=s[0],a=s[1];return e[i]=a,e}),{})},t.isArguments=function(e){return null!=e&&o(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var s={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=s,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(s.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var r=Object.create(null),n=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},o=0;o<64;o++)r[n(o)]=o;var s=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],r=0;r<e;r++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},i={encode:function(e){if("string"==typeof e){var t=e;e=s(t.length);for(var r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[r]=o}}for(var i=[],a=null,c=null,l=null,u=null,p=0;p<e.length;p++)switch(p%3){case 0:a=e[p]>>2&63,c=(3&e[p])<<4;break;case 1:c|=e[p]>>4&15,l=(15&e[p])<<2;break;case 2:l|=e[p]>>6&3,u=63&e[p],i.push(n(a)),i.push(n(c)),i.push(n(l)),i.push(n(u)),a=null,c=null,l=null,u=null}return null!=a&&(i.push(n(a)),i.push(n(c)),null==l?i.push("="):i.push(n(l)),null==u&&i.push("=")),i.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var n,o=s(t),i=null,a=null,c=null,l=0,u=0;u<e.length;u++){var p="="===(n=e.charAt(u))?-1:r[n];switch(u%4){case 0:if(p<0)throw new Error("invalid base64 string");i=p<<2;break;case 1:if(p<0)throw new Error("invalid base64 string");i|=p>>4,o[l++]=i,a=(15&p)<<4;break;case 2:p>=0&&(a|=p>>2,o[l++]=a,c=(3&p)<<6);break;case 3:p>=0&&(o[l++]=c|p)}}return o},newBinary:s};t.Base64=i},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,o,s,i,a){var c=o[t];switch(r(c)){case"string":return n(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var l,u=i+s,p=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var d=c.length,h=0;h<d;h+=1)p[h]=e(h,c,s,u,a)||"null";return l=0===p.length?"[]":u?"[\n"+u+p.join(",\n"+u)+"\n"+i+"]":"["+p.join(",")+"]"}var f=Object.keys(c);return a&&(f=f.sort()),f.forEach((function(t){(l=e(t,c,s,u,a))&&p.push(n(t)+(u?": ":":")+l)})),l=0===p.length?"{}":u?"{\n"+u+p.join(",\n"+u)+"\n"+i+"}":"{"+p.join(",")+"}"}};t.default=function(e,t){var r=Object.assign({indent:"",canonical:!1},t);if(!0===r.indent)r.indent="  ";else if("number"==typeof r.indent){for(var n="",s=0;s<r.indent;s++)n+=" ";r.indent=n}return o("",{"":e},r.indent,"",r.canonical)},e.exports=t.default}],r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}var o={};!function(){var e=o,t=n(2).Base64,r=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var s=n(1),i={};e.EJSON=i;var a=new Map;i.addType=function(e,t){if(a.has(e))throw new Error("Type ".concat(e," already present"));a.set(e,t)};var c=[{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$date")&&1===(0,s.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$regexp")&&(0,s.hasOwn)(e,"$flags")&&2===(0,s.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$InfNaN")&&1===(0,s.lengthOf)(e)},matchObject:s.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$binary")&&1===(0,s.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,s.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$escape")&&1===(0,s.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var r=(0,s.lengthOf)(e);1!==r&&2!==r||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,s.keysOf)(e).forEach((function(r){t[r]=i.toJSONValue(e[r])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,s.keysOf)(e.$escape).forEach((function(r){t[r]=i.fromJSONValue(e.$escape[r])})),t}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$type")&&(0,s.hasOwn)(e,"$value")&&2===(0,s.lengthOf)(e)},matchObject:function(e){return i._isCustomType(e)},toJSONValue:function(e){var t=r._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!a.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=a.get(t);return r._noYieldsAllowed((function(){return n(e.$value)}))}}];i._isCustomType=function(e){return e&&(0,s.isFunction)(e.toJSONValue)&&(0,s.isFunction)(e.typeName)&&a.has(e.typeName())},i._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?a:(0,s.convertMapToObject)(a)},i._getConverters=function(){return c};var l=function(e){for(var t=0;t<c.length;t++){var r=c[t];if(r.matchObject(e))return r.toJSONValue(e)}},u=function e(t){if(null===t)return null;var r=l(t);return void 0!==r?r:(0,s.isObject)(t)?((0,s.keysOf)(t).forEach((function(r){var n=t[r];if((0,s.isObject)(n)||void 0===n||(0,s.isInfOrNaN)(n)){var o=l(n);o?t[r]=o:e(n)}})),t):t};i._adjustTypesToJSONValue=u,i.toJSONValue=function(e){var t=l(e);if(void 0!==t)return t;var r=e;return(0,s.isObject)(e)&&(r=i.clone(e),u(r)),r};var p=function(e){if((0,s.isObject)(e)&&null!==e){var t=(0,s.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var r=0;r<c.length;r++){var n=c[r];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},d=function e(t){if(null===t)return null;var r=p(t);return r!==t?r:(0,s.isObject)(t)?((0,s.keysOf)(t).forEach((function(r){var n=t[r];if((0,s.isObject)(n)){var o=p(n);if(n!==o)return void(t[r]=o);e(n)}})),t):t};i._adjustTypesFromJSONValue=d,i.fromJSONValue=function(e){var t=p(e);return t===e&&(0,s.isObject)(e)&&(t=i.clone(e),d(t)),t},i.stringify=(0,s.handleError)((function(e,t){var r=i.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(r,t):JSON.stringify(r)})),i.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return i.fromJSONValue(JSON.parse(e))},i.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},i.equals=function(e,t,r){var n,o=!(!r||!r.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,s.isObject)(e)||!(0,s.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(i.isBinary(e)&&i.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,s.isFunction)(e.equals))return e.equals(t,r);if((0,s.isFunction)(t.equals))return t.equals(e,r);var a,c=Array.isArray(e),l=Array.isArray(t);if(c!==l)return!1;if(c&&l){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!i.equals(e[n],t[n],r))return!1;return!0}switch(i._isCustomType(e)+i._isCustomType(t)){case 1:return!1;case 2:return i.equals(i.toJSONValue(e),i.toJSONValue(t))}var u=(0,s.keysOf)(e),p=(0,s.keysOf)(t);return o?(n=0,a=u.every((function(o){return!(n>=p.length||o!==p[n]||!i.equals(e[o],t[p[n]],r)||(n++,0))}))):(n=0,a=u.every((function(o){return!!(0,s.hasOwn)(t,o)&&!!i.equals(e[o],t[o],r)&&(n++,!0)}))),a&&n===p.length},i.clone=function(e){var t;if(!(0,s.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(i.isBinary(e)){t=i.newBinary(e.length);for(var r=0;r<e.length;r++)t[r]=e[r];return t}return Array.isArray(e)?e.map(i.clone):(0,s.isArguments)(e)?Array.from(e).map(i.clone):(0,s.isFunction)(e.clone)?e.clone():i._isCustomType(e)?i.fromJSONValue(i.clone(i.toJSONValue(e)),!0):(t={},(0,s.keysOf)(e).forEach((function(r){t[r]=i.clone(e[r])})),t)},i.newBinary=t.newBinary}(),e.exports=o.EJSON}()},30228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,s||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,i=new Array(s);o<s;o++)i[o]=n[o].fn;return i},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,o,s,i){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],p=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,o),!0;case 5:return u.fn.call(u.context,t,n,o,s),!0;case 6:return u.fn.call(u.context,t,n,o,s,i),!0}for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),p){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,o);break;default:if(!c)for(d=1,c=new Array(p-1);d<p;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,o){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||i(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||o&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:i(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},32017:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;0!=o--;){var i=s[o];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r}},89353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var s,i=function(e,t){for(var r=[],n=1,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments),a=r(0,o.length-i.length),c=[],l=0;l<a;l++)c[l]="$"+l;if(s=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=",");return r}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var t=o.apply(this,n(i,arguments));return Object(t)===t?t:this}return o.apply(e,n(i,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,s.prototype=new u,u.prototype=null}return s}},66743:(e,t,r)=>{"use strict";var n=r(89353);e.exports=Function.prototype.bind||n},25884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,s=r(66743);e.exports=s.call(n,o)},30616:(e,t,r)=>{const n=r(16928),o=r(55335),{fileURLToPath:s}=r(87016),{MessageChannel:i}=r(28167),{importHooks:a,specifiers:c,toHook:l}=r(16467);function u(e){a.push(e),l.forEach((([t,r])=>e(t,r)))}function p(e){const t=a.indexOf(e);t>-1&&a.splice(t,1)}function d(e,t,r,n){const o=e(t,r,n);o&&o!==t&&(t.default=o)}let h;function f(e,t,r){if(this instanceof f==0)return new f(e,t,r);"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null);const i=!!t&&!0===t.internals;h&&Array.isArray(e)&&h(e),this._iitmHook=(t,a)=>{const l=t;let u;if(t.startsWith("node:"))t=t.replace(/^node:/,"");else{if(t.startsWith("file://"))try{t=s(t)}catch(e){}const e=o(t);e&&(t=e.name,u=e.basedir)}if(e){for(const o of e)if(o===t){if(u)if(i)t=t+n.sep+n.relative(u,s(l));else if(!u.endsWith(c.get(l)))continue;d(r,a,t,u)}}else d(r,a,t,u)},u(this._iitmHook)}f.prototype.unhook=function(){p(this._iitmHook)},e.exports=f,e.exports.Hook=f,e.exports.addHook=u,e.exports.removeHook=p,e.exports.createAddHookMessageChannel=function(){const{port1:e,port2:t}=new i;let r,n=0;return h=t=>{n++,e.postMessage(t)},e.on("message",(()=>{n--,r&&n<=0&&r()})).unref(),{registerOptions:{data:{addHookMessagePort:t,include:[]},transferList:[t]},addHookMessagePort:t,waitForAllMessagesAcknowledged:function(){const e=setInterval((()=>{}),1e3),t=new Promise((e=>{r=e})).then((()=>{clearInterval(e)}));return 0===n&&r(),t}}}},16467:(e,t)=>{const r=[],n=new WeakMap,o=new WeakMap,s=new Map,i=[],a={set:(e,t,r)=>n.get(e)[t](r),get(e,t){if(t===Symbol.toStringTag)return"Module";const r=o.get(e)[t];return"function"==typeof r?r():void 0},defineProperty(e,t,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return n.get(e)[t](r.value)}};t.register=function(e,t,c,l,u){s.set(e,u),n.set(t,c),o.set(t,l);const p=new Proxy(t,a);r.forEach((t=>t(e,p))),i.push([e,p])},t.importHooks=r,t.specifiers=s,t.toHook=i},69230:(e,t,r)=>{"use strict";var n=r(9957);function o(e,t){for(var r=e.split("."),n=t.split(" "),o=n.length>1?n[0]:"=",s=(n.length>1?n[1]:n[0]).split("."),i=0;i<3;++i){var a=parseInt(r[i]||0,10),c=parseInt(s[i]||0,10);if(a!==c)return"<"===o?a<c:">="===o&&a>=c}return">="===o}function s(e,t){var r=t.split(/ ?&& ?/);if(0===r.length)return!1;for(var n=0;n<r.length;++n)if(!o(e,r[n]))return!1;return!0}var i=r(17324);e.exports=function(e,t){return n(i,e)&&function(e,t){if("boolean"==typeof t)return t;var r=void 0===e?process.versions&&process.versions.node:e;if("string"!=typeof r)throw new TypeError(void 0===e?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&"object"==typeof t){for(var n=0;n<t.length;++n)if(s(r,t[n]))return!0;return!1}return s(r,t)}(t,i[e])}},84865:e=>{"use strict";const t=(e,t,n,o)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const s=Object.getOwnPropertyDescriptor(e,n),i=Object.getOwnPropertyDescriptor(t,n);!r(s,i)&&o||Object.defineProperty(e,n,i)},r=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,r,{ignoreNonConfigurable:i=!1}={})=>{const{name:a}=e;for(const n of Reflect.ownKeys(r))t(e,r,n,i);return((e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)})(e,r),((e,t,r)=>{const i=""===r?"":`with ${r.trim()}() `,a=n.bind(null,i,t.toString());Object.defineProperty(a,"name",s),Object.defineProperty(e,"toString",{...o,value:a})})(e,r,a),e}},55335:(e,t,r)=>{"use strict";var n=r(16928);e.exports=function(e){var t=e.split(n.sep),r=t.lastIndexOf("node_modules");if(-1!==r&&t[r+1]){var o="@"===t[r+1][0],s=o?3:2;return{name:o?t[r+1]+"/"+t[r+2]:t[r+1],basedir:t.slice(0,r+s).join(n.sep),path:t.slice(r+s).join(n.sep)}}}},44617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},73290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(30228),o=r(57685),s=r(54774),i=()=>{},a=new o.TimeoutError;t.default=class extends n{constructor(e){var t,r,n,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:s.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==o?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((r,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const s=void 0===this._timeout&&void 0===t.timeout?e():o.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(a)}));r(await s)}catch(e){n(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},79998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,o=e.length;for(;o>0;){const s=o/2|0;let i=n+s;r(e[i],t)<=0?(n=++i,o-=s+1):o=s}return n}},54774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(79998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const o=n.default(this._queue,r,((e,t)=>t.priority-e.priority));this._queue.splice(o,0,r)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},57685:(e,t,r)=>{"use strict";const n=r(44617);class o extends Error{constructor(e){super(e),this.name="TimeoutError"}}const s=(e,t,r)=>new Promise(((s,i)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void s(e);const a=setTimeout((()=>{if("function"==typeof r){try{s(r())}catch(e){i(e)}return}const n=r instanceof Error?r:new o("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),i(n)}),t);n(e.then(s,i),(()=>{clearTimeout(a)}))}));e.exports=s,e.exports.default=s,e.exports.TimeoutError=o},70992:e=>{"use strict";var t="win32"===process.platform,r=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,n={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,n=(t=e,r.exec(t).slice(1));if(!n||5!==n.length)throw new TypeError("Invalid path '"+e+"'");return{root:n[1],dir:n[0]===n[1]?n[0]:n[0].slice(0,-1),base:n[2],ext:n[4],name:n[3]}}},o=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,s={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,r=(t=e,o.exec(t).slice(1));if(!r||5!==r.length)throw new TypeError("Invalid path '"+e+"'");return{root:r[1],dir:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}}};e.exports=t?n.parse:s.parse,e.exports.posix=s.parse,e.exports.win32=n.parse},69136:(e,t,r)=>{"use strict";const n=r(16928),o=r(73339),s=r(69607),i=r(6278)("require-in-the-middle"),a=r(55335);let c;if(e.exports=p,e.exports.Hook=p,o.isBuiltin)c=o.isBuiltin;else{const[e,t]=process.versions.node.split(".").map(Number);c=8===e&&t<8?e=>"http2"===e||!!s.core[e]:e=>!!s.core[e]}const l=/([/\\]index)?(\.js)?$/;class u{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{const t=r.c[e];return!(!t||!(this._kRitmExports in t))}}get(e,t){const n=this._localCache.get(e);if(void 0!==n)return n;if(!t){const t=r.c[e];return t&&t[this._kRitmExports]}}set(e,t,n){n?this._localCache.set(e,t):e in r.c?r.c[e][this._kRitmExports]=t:(i('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}}function p(e,t,d){if(this instanceof p==0)return new p(e,t,d);if("function"==typeof e?(d=e,e=null,t=null):"function"==typeof t&&(d=t,t=null),"function"!=typeof o._resolveFilename)return console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof o._resolveFilename),void console.error("Please report this error as an issue related to Node.js %s at %s",process.version,r(36667).SN.O);this._cache=new u,this._unhooked=!1,this._origRequire=o.prototype.require;const h=this,f=new Set,m=!!t&&!0===t.internals,g=Array.isArray(e);function E(t,r){const u=t[0],p=c(u);let E,S,_;if(p){if(E=u,u.startsWith("node:")){const e=u.slice(5);c(e)&&(E=e)}}else{if(r)return i("call to process.getBuiltinModule with unknown built-in id"),h._origGetBuiltinModule.apply(this,t);try{E=o._resolveFilename(u,this)}catch(e){return i('Module._resolveFilename("%s") threw %j, calling original Module.require',u,e.message),h._origRequire.apply(this,t)}}if(i("processing %s module require('%s'): %s",!0===p?"core":"non-core",u,E),!0===h._cache.has(E,p))return i("returning already patched cached module: %s",E),h._cache.get(E,p);const y=f.has(E);!1===y&&f.add(E);const A=r?h._origGetBuiltinModule.apply(this,t):h._origRequire.apply(this,t);if(!0===y)return i("module is in the process of being patched already - ignoring: %s",E),A;if(f.delete(E),!0===p){if(!0===g&&!1===e.includes(E))return i("ignoring core module not on whitelist: %s",E),A;S=E}else if(!0===g&&e.includes(E)){const e=n.parse(E);S=e.name,_=e.dir}else{const t=a(E);if(void 0===t)return i("could not parse filename: %s",E),A;S=t.name,_=t.basedir;const r=function(e){const t="/"!==n.sep?e.path.split(n.sep).join("/"):e.path;return n.posix.join(e.name,t).replace(l,"")}(t);i("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",S,u,r,_);let o=!1;if(g){if(!u.startsWith(".")&&e.includes(u)&&(S=u,o=!0),!e.includes(S)&&!e.includes(r))return A;e.includes(r)&&r!==S&&(S=r,o=!0)}if(!o){let e;try{e=s.sync(S,{basedir:_})}catch(e){return i("could not resolve module: %s",S),h._cache.set(E,A,p),A}if(e!==E){if(!0!==m)return i("ignoring require of non-main module file: %s",e),h._cache.set(E,A,p),A;S=S+n.sep+n.relative(_,E),i("preparing to process require of internal file: %s",S)}}}h._cache.set(E,A,p),i("calling require hook: %s",S);const v=d(A,S,_);return h._cache.set(E,v,p),i("returning module: %s",S),v}i("registering require hook"),this._require=o.prototype.require=function(e){return!0===h._unhooked?(i("ignoring require call - module is soft-unhooked"),h._origRequire.apply(this,arguments)):E.call(this,arguments,!1)},"function"==typeof process.getBuiltinModule&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(e){return!0===h._unhooked?(i("ignoring process.getBuiltinModule call - module is soft-unhooked"),h._origGetBuiltinModule.apply(this,arguments)):E.call(this,arguments,!0)})}p.prototype.unhook=function(){this._unhooked=!0,this._require===o.prototype.require?(o.prototype.require=this._origRequire,i("require unhook successful")):i("require unhook unsuccessful"),void 0!==process.getBuiltinModule&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,i("process.getBuiltinModule unhook successful")):i("process.getBuiltinModule unhook unsuccessful"))}},79542:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(58857)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},58857:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,s,i=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];r=s.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(14880),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},6278:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(79542):e.exports=r(84540)},84540:(e,t,r)=>{const n=r(52018),o=r(39023);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(58857)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},14880:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,i){i=i||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===l&&isFinite(e))return i.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=n?s(a,c,n,"hour"):c>=r?s(a,c,r,"minute"):c>=t?s(a,c,t,"second"):a+" ms"):function(e){var s=Math.abs(e);return s>=o?Math.round(e/o)+"d":s>=n?Math.round(e/n)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},69607:(e,t,r)=>{var n=r(1295);n.core=r(11088),n.isCore=r(99359),n.sync=r(46244),e.exports=n},1295:(e,t,r)=>{var n=r(79896),o=r(25573),s=r(16928),i=r(94664),a=r(67730),c=r(11287),l=r(69230),u="win32"!==process.platform&&n.realpath&&"function"==typeof n.realpath.native?n.realpath.native:n.realpath,p=o(),d=function(e,t){n.stat(e,(function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isFile()||r.isFIFO())}))},h=function(e,t){n.stat(e,(function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isDirectory())}))},f=function(e,t){u(e,(function(r,n){r&&"ENOENT"!==r.code?t(r):t(null,r?e:n)}))},m=function(e,t,r,n){r&&!1===r.preserveSymlinks?e(t,n):n(null,t)},g=function(e,t,r){e(t,(function(e,t){if(e)r(e);else try{var n=JSON.parse(t);r(null,n)}catch(e){r(null)}}))};e.exports=function(e,t,r){var o=r,u=t;if("function"==typeof t&&(o=u,u={}),"string"!=typeof e){var E=new TypeError("Path must be a string.");return process.nextTick((function(){o(E)}))}var S=(u=c(e,u)).isFile||d,_=u.isDirectory||h,y=u.readFile||n.readFile,A=u.realpath||f,v=u.readPackage||g;if(u.readFile&&u.readPackage){var T=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick((function(){o(T)}))}var b=u.packageIterator,I=u.extensions||[".js"],R=!1!==u.includeCoreModules,O=u.basedir||s.dirname(i()),N=u.filename||O;u.paths=u.paths||[s.join(p,".node_modules"),s.join(p,".node_libraries")];var C,L=s.resolve(O);function w(t,r,n){t?o(t):r?o(null,r,n):x(C,(function(t,r,n){if(t)o(t);else if(r)m(A,r,u,(function(e,t){e?o(e):o(null,t,n)}));else{var s=new Error("Cannot find module '"+e+"' from '"+N+"'");s.code="MODULE_NOT_FOUND",o(s)}}))}function P(e,t,r){var n=t,o=r;"function"==typeof n&&(o=n,n=void 0),function e(t,r,n){if(0===t.length)return o(null,void 0,n);var i=r+t[0],a=n;function c(n,c,p){if(a=c,n)return o(n);if(p&&a&&u.pathFilter){var d=s.relative(p,i),h=d.slice(0,d.length-t[0].length),f=u.pathFilter(a,r,h);if(f)return e([""].concat(I.slice()),s.resolve(p,f),a)}S(i,l)}function l(n,s){return n?o(n):s?o(null,i,a):void e(t.slice(1),r,a)}a?c(null,a):M(s.dirname(i),c)}([""].concat(I),e,n)}function M(e,t){return""===e||"/"===e||"win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e)?t(null):void m(A,e,u,(function(r,n){if(r)return M(s.dirname(e),t);var o=s.join(n,"package.json");S(o,(function(r,n){if(!n)return M(s.dirname(e),t);v(y,o,(function(r,n){r&&t(r);var s=n;s&&u.packageFilter&&(s=u.packageFilter(s,o)),t(null,s,e)}))}))}))}function x(e,t,r){var n=r,o=t;"function"==typeof o&&(n=o,o=u.package),m(A,e,u,(function(t,r){if(t)return n(t);var i=s.join(r,"package.json");S(i,(function(t,r){return t?n(t):r?void v(y,i,(function(t,r){if(t)return n(t);var o=r;if(o&&u.packageFilter&&(o=u.packageFilter(o,i)),o&&o.main){if("string"!=typeof o.main){var a=new TypeError("package “"+o.name+"” `main` must be a string");return a.code="INVALID_PACKAGE_MAIN",n(a)}return"."!==o.main&&"./"!==o.main||(o.main="index"),void P(s.resolve(e,o.main),o,(function(t,r,o){return t?n(t):r?n(null,r,o):o?void x(s.resolve(e,o.main),o,(function(t,r,o){return t?n(t):r?n(null,r,o):void P(s.join(e,"index"),o,n)})):P(s.join(e,"index"),o,n)}))}P(s.join(e,"/index"),o,n)})):P(s.join(e,"index"),o,n)}))}))}function k(e,t){if(0===t.length)return e(null,void 0);var r=t[0];function n(t,n,s){return t?e(t):n?e(null,n,s):void x(r,u.package,o)}function o(r,n,o){return r?e(r):n?e(null,n,o):void k(e,t.slice(1))}_(s.dirname(r),(function(o,s){return o?e(o):s?void P(r,u.package,n):k(e,t.slice(1))}))}m(A,L,u,(function(t,r){t?o(t):function(t){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))C=s.resolve(t,e),"."!==e&&".."!==e&&"/"!==e.slice(-1)||(C+="/"),/\/$/.test(e)&&C===t?x(C,u.package,w):P(C,u.package,w);else{if(R&&l(e))return o(null,e);!function(e,t,r){var n=function(){return function(e,t,r){for(var n=a(t,r,e),o=0;o<n.length;o++)n[o]=s.join(n[o],e);return n}(e,t,u)};k(r,b?b(e,t,n,u):n())}(e,t,(function(t,r,n){if(t)o(t);else{if(r)return m(A,r,u,(function(e,t){e?o(e):o(null,t,n)}));var s=new Error("Cannot find module '"+e+"' from '"+N+"'");s.code="MODULE_NOT_FOUND",o(s)}}))}}(r)}))}},94664:e=>{e.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=(new Error).stack;return Error.prepareStackTrace=e,t[2].getFileName()}},11088:(e,t,r)=>{"use strict";var n=r(69230),o=r(62035),s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=n(i));e.exports=s},25573:(e,t,r)=>{"use strict";var n=r(70857);e.exports=n.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return"win32"===process.platform?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:"darwin"===process.platform?e||(t?"/Users/"+t:null):"linux"===process.platform?e||(0===process.getuid()?"/root":t?"/home/"+t:null):e||null}},99359:(e,t,r)=>{var n=r(69230);e.exports=function(e){return n(e)}},67730:(e,t,r)=>{var n=r(16928),o=n.parse||r(70992),s=function(e,t){var r="/";/^([A-Za-z]:)/.test(e)?r="":/^\\\\/.test(e)&&(r="\\\\");for(var s=[e],i=o(e);i.dir!==s[s.length-1];)s.push(i.dir),i=o(i.dir);return s.reduce((function(e,o){return e.concat(t.map((function(e){return n.resolve(r,o,e)})))}),[])};e.exports=function(e,t,r){var n=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&"function"==typeof t.paths)return t.paths(r,e,(function(){return s(e,n)}),t);var o=s(e,n);return t&&t.paths?o.concat(t.paths):o}},11287:e=>{e.exports=function(e,t){return t||{}}},46244:(e,t,r)=>{var n=r(69230),o=r(79896),s=r(16928),i=r(25573),a=r(94664),c=r(67730),l=r(11287),u="win32"!==process.platform&&o.realpathSync&&"function"==typeof o.realpathSync.native?o.realpathSync.native:o.realpathSync,p=i(),d=function(e){try{var t=o.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&(t.isFile()||t.isFIFO())},h=function(e){try{var t=o.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&t.isDirectory()},f=function(e){try{return u(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},m=function(e,t,r){return r&&!1===r.preserveSymlinks?e(t):t},g=function(e,t){var r=e(t);try{return JSON.parse(r)}catch(e){}};e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Path must be a string.");var r=l(e,t),i=r.isFile||d,u=r.readFileSync||o.readFileSync,E=r.isDirectory||h,S=r.realpathSync||f,_=r.readPackageSync||g;if(r.readFileSync&&r.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var y=r.packageIterator,A=r.extensions||[".js"],v=!1!==r.includeCoreModules,T=r.basedir||s.dirname(a()),b=r.filename||T;r.paths=r.paths||[s.join(p,".node_modules"),s.join(p,".node_libraries")];var I=m(S,s.resolve(T),r);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var R=s.resolve(I,e);"."!==e&&".."!==e&&"/"!==e.slice(-1)||(R+="/");var O=L(R)||P(R);if(O)return m(S,O,r)}else{if(v&&n(e))return e;var N=function(e,t){for(var n=function(){return function(e,t,r){for(var n=c(t,r,e),o=0;o<n.length;o++)n[o]=s.join(n[o],e);return n}(e,t,r)},o=y?y(e,t,n,r):n(),i=0;i<o.length;i++){var a=o[i];if(E(s.dirname(a))){var l=L(a);if(l)return l;var u=P(a);if(u)return u}}}(e,I);if(N)return m(S,N,r)}var C=new Error("Cannot find module '"+e+"' from '"+b+"'");throw C.code="MODULE_NOT_FOUND",C;function L(e){var t=w(s.dirname(e));if(t&&t.dir&&t.pkg&&r.pathFilter){var n=s.relative(t.dir,e),o=r.pathFilter(t.pkg,e,n);o&&(e=s.resolve(t.dir,o))}if(i(e))return e;for(var a=0;a<A.length;a++){var c=e+A[a];if(i(c))return c}}function w(e){if(""!==e&&"/"!==e&&!("win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e))){var t=s.join(m(S,e,r),"package.json");if(!i(t))return w(s.dirname(e));var n=_(u,t);return n&&r.packageFilter&&(n=r.packageFilter(n,e)),{pkg:n,dir:e}}}function P(e){var t=s.join(m(S,e,r),"/package.json");if(i(t)){try{var n=_(u,t)}catch(e){}if(n&&r.packageFilter&&(n=r.packageFilter(n,e)),n&&n.main){if("string"!=typeof n.main){var o=new TypeError("package “"+n.name+"” `main` must be a string");throw o.code="INVALID_PACKAGE_MAIN",o}"."!==n.main&&"./"!==n.main||(n.main="index");try{var a=L(s.resolve(e,n.main));if(a)return a;var c=P(s.resolve(e,n.main));if(c)return c}catch(e){}}}return L(s.join(e,"/index"))}}},81132:e=>{"use strict";function t(e){return"function"==typeof e}var r=console.error.bind(console);function n(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&&e.logger&&(t(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function s(e,o,s){if(e&&e[o]){if(!s)return r("no wrapper function"),void r((new Error).stack);if(t(e[o])&&t(s)){var i=e[o],a=s(i,o);return n(a,"__original",i),n(a,"__unwrap",(function(){e[o]===a&&n(e,o,i)})),n(a,"__wrapped",!0),n(e,o,a),a}r("original object and wrapper must be functions")}else r("no original function "+o+" to wrap")}function i(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=i,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t)}))})):r("must provide one or more functions to unwrap on modules")},e.exports=o},27687:(e,t,r)=>{"use strict";const n=r(70857),o=r(52018),s=r(25884),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const r=a||0;if("dumb"===i.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:r;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?a=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},21430:function(e,t,r){var n,o;!function(s,i){"use strict";e.exports?e.exports=i():void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o)}(0,(function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,r,n=e.toLowerCase().split(":"),o=n.length,s=8;for(""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[o-1]&&""===n[o-2]&&n.pop(),-1!==n[(o=n.length)-1].indexOf(".")&&(s=7),t=0;t<o&&""!==n[t];t++);if(t<s)for(n.splice(t,1,"0000");n.length<s;)n.splice(t,0,"0000");for(var i=0;i<s;i++){r=n[i].split("");for(var a=0;a<3&&"0"===r[0]&&r.length>1;a++)r.splice(0,1);n[i]=r.join("")}var c=-1,l=0,u=0,p=-1,d=!1;for(i=0;i<s;i++)d?"0"===n[i]?u+=1:(d=!1,u>l&&(c=p,l=u)):"0"===n[i]&&(d=!0,p=i,u=1);u>l&&(c=p,l=u),l>1&&n.splice(c,l,""),o=n.length;var h="";for(""===n[0]&&(h=":"),i=0;i<o&&(h+=n[i],i!==o-1);i++)h+=":";return""===n[o-1]&&(h+=":"),h},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))},4704:function(e,t,r){var n,o;!function(s,i){"use strict";e.exports?e.exports=i():void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o)}(0,(function(e){"use strict";var t=e&&e.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var o=r.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var n=r.list[e.slice(t+1)];return!!n&&n.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var o=r.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return r}))},84193:function(e,t,r){var n,o,s;!function(i,a){"use strict";e.exports?e.exports=a(r(39340),r(21430),r(4704)):(o=[r(39340),r(21430),r(4704)],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s))}(0,(function(e,t,r,n){"use strict";var o=n&&n.URI;function s(e,t){var r=arguments.length>=1;if(!(this instanceof s))return r?arguments.length>=2?new s(e,t):new s(e):new s;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&r)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}s.version="1.19.11";var i=s.prototype,a=Object.prototype.hasOwnProperty;function c(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function l(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===l(e)}function p(e,t){var r,n,o={};if("RegExp"===l(t))o=null;else if(u(t))for(r=0,n=t.length;r<n;r++)o[t[r]]=!0;else o[t]=!0;for(r=0,n=e.length;r<n;r++)(o&&void 0!==o[e[r]]||!o&&t.test(e[r]))&&(e.splice(r,1),n--,r--);return e}function d(e,t){var r,n;if(u(t)){for(r=0,n=t.length;r<n;r++)if(!d(e,t[r]))return!1;return!0}var o=l(t);for(r=0,n=e.length;r<n;r++)if("RegExp"===o){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function h(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function f(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:s.preventInvalidHostname,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.preventInvalidHostname=!1,s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,s.idn_expression=/[^a-z0-9\._-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,s.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},s.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.hostProtocols=["http","https"],s.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},s.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return s.domAttributes[t]}},s.encode=g,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=g,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},s.encodeQuery=function(e,t){var r=s.encode(e+"");return void 0===t&&(t=s.escapeQuerySpace),t?r.replace(/%20/g,"+"):r},s.decodeQuery=function(e,t){e+="",void 0===t&&(t=s.escapeQuerySpace);try{return s.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var E,S={encode:"encode",decode:"decode"},_=function(e,t){return function(r){try{return s[t](r+"").replace(s.characters[e][t].expression,(function(r){return s.characters[e][t].map[r]}))}catch(e){return r}}};for(E in S)s[E+"PathSegment"]=_("pathname",S[E]),s[E+"UrnPathSegment"]=_("urnpath",S[E]);var y=function(e,t,r){return function(n){var o;o=r?function(e){return s[t](s[r](e))}:s[t];for(var i=(n+"").split(e),a=0,c=i.length;a<c;a++)i[a]=o(i[a]);return i.join(e)}};function A(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}}function v(e,t){return function(r,n){return void 0===r?this._parts[e]||"":(null!==r&&(r+="").charAt(0)===t&&(r=r.substring(1)),this._parts[e]=r,this.build(!n),this)}}s.decodePath=y("/","decodePathSegment"),s.decodeUrnPath=y(":","decodeUrnPathSegment"),s.recodePath=y("/","encodePathSegment","decode"),s.recodeUrnPath=y(":","encodeUrnPathSegment","decode"),s.encodeReserved=_("reserved","encode"),s.parse=function(e,t){var r;return t||(t={preventInvalidHostname:s.preventInvalidHostname}),(r=(e=(e=e.replace(s.leading_whitespace_expression,"")).replace(s.ascii_tab_whitespace,"")).indexOf("#"))>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),(r=e.indexOf("?"))>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===(e=(e=e.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://")).replace(/^[/\\]{2,}/i,"//")).substring(0,2)?(t.protocol=null,e=e.substring(2),e=s.parseAuthority(e,t)):(r=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(s.protocol_expression)?t.protocol=void 0:"//"===e.substring(r+1,r+3).replace(/\\/g,"/")?(e=e.substring(r+3),e=s.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},s.parseHost=function(e,t){e||(e="");var r,n,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,o)||null,"/"===t.port&&(t.port=null);else{var i=e.indexOf(":"),a=e.indexOf("/"),c=e.indexOf(":",i+1);-1!==c&&(-1===a||c<a)?(t.hostname=e.substring(0,o)||null,t.port=null):(n=e.substring(0,o).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&s.ensureValidHostname(t.hostname,t.protocol),t.port&&s.ensureValidPort(t.port),e.substring(o)||"/"},s.parseAuthority=function(e,t){return e=s.parseUserinfo(e,t),s.parseHost(e,t)},s.parseUserinfo=function(e,t){var r=e;-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));var n,o=e.indexOf("/"),i=e.lastIndexOf("@",o>-1?o:e.length-1);return i>-1&&(-1===o||i<o)?(n=e.substring(0,i).split(":"),t.username=n[0]?s.decode(n[0]):null,n.shift(),t.password=n[0]?s.decode(n.join(":")):null,e=r.substring(i+1)):(t.username=null,t.password=null),e},s.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,n,o,i={},c=e.split("&"),l=c.length,u=0;u<l;u++)r=c[u].split("="),n=s.decodeQuery(r.shift(),t),o=r.length?s.decodeQuery(r.join("="),t):null,"__proto__"!==n&&(a.call(i,n)?("string"!=typeof i[n]&&null!==i[n]||(i[n]=[i[n]]),i[n].push(o)):i[n]=o);return i},s.build=function(e){var t="",r=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",r=!0),t+=s.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&r&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},s.buildHost=function(e){var t="";return e.hostname?(s.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},s.buildAuthority=function(e){return s.buildUserinfo(e)+s.buildHost(e)},s.buildUserinfo=function(e){var t="";return e.username&&(t+=s.encode(e.username)),e.password&&(t+=":"+s.encode(e.password)),t&&(t+="@"),t},s.buildQuery=function(e,t,r){var n,o,i,c,l="";for(o in e)if("__proto__"!==o&&a.call(e,o))if(u(e[o]))for(n={},i=0,c=e[o].length;i<c;i++)void 0!==e[o][i]&&void 0===n[e[o][i]+""]&&(l+="&"+s.buildQueryParameter(o,e[o][i],r),!0!==t&&(n[e[o][i]+""]=!0));else void 0!==e[o]&&(l+="&"+s.buildQueryParameter(o,e[o],r));return l.substring(1)},s.buildQueryParameter=function(e,t,r){return s.encodeQuery(e,r)+(null!==t?"="+s.encodeQuery(t,r):"")},s.addQuery=function(e,t,r){if("object"==typeof t)for(var n in t)a.call(t,n)&&s.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),u(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},s.setQuery=function(e,t,r){if("object"==typeof t)for(var n in t)a.call(t,n)&&s.setQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===r?null:r}},s.removeQuery=function(e,t,r){var n,o,i;if(u(t))for(n=0,o=t.length;n<o;n++)e[t[n]]=void 0;else if("RegExp"===l(t))for(i in e)t.test(i)&&(e[i]=void 0);else if("object"==typeof t)for(i in t)a.call(t,i)&&s.removeQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===l(r)?!u(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=p(e[t],r):e[t]!==String(r)||u(r)&&1!==r.length?u(e[t])&&(e[t]=p(e[t],r)):e[t]=void 0:e[t]=void 0}},s.hasQuery=function(e,t,r,n){switch(l(t)){case"String":break;case"RegExp":for(var o in e)if(a.call(e,o)&&t.test(o)&&(void 0===r||s.hasQuery(e,o,r)))return!0;return!1;case"Object":for(var i in t)if(a.call(t,i)&&!s.hasQuery(e,i,t[i]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(l(r)){case"Undefined":return t in e;case"Boolean":return r===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!r(e[t],t,e);case"Array":return!!u(e[t])&&(n?d:h)(e[t],r);case"RegExp":return u(e[t])?!!n&&d(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return u(e[t])?!!n&&d(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.joinPaths=function(){for(var e=[],t=[],r=0,n=0;n<arguments.length;n++){var o=new s(arguments[n]);e.push(o);for(var i=o.segment(),a=0;a<i.length;a++)"string"==typeof i[a]&&t.push(i[a]),i[a]&&r++}if(!t.length||!r)return new s("");var c=new s("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},s.commonPath=function(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},s.withinString=function(e,t,r){r||(r={});var n=r.start||s.findUri.start,o=r.end||s.findUri.end,i=r.trim||s.findUri.trim,a=r.parens||s.findUri.parens,c=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(e);if(!l)break;var u=l.index;if(r.ignoreHtml){var p=e.slice(Math.max(u-3,0),u);if(p&&c.test(p))continue}for(var d=u+e.slice(u).search(o),h=e.slice(u,d),f=-1;;){var m=a.exec(h);if(!m)break;var g=m.index+m[0].length;f=Math.max(f,g)}if(!((h=f>-1?h.slice(0,f)+h.slice(f).replace(i,""):h.replace(i,"")).length<=l[0].length||r.ignore&&r.ignore.test(h))){var E=t(h,u,d=u+h.length,e);void 0!==E?(E=String(E),e=e.slice(0,u)+E+e.slice(d),n.lastIndex=u+E.length):n.lastIndex=d}}return n.lastIndex=0,e},s.ensureValidHostname=function(t,r){var n=!!t,o=!1;if(!!r&&(o=d(s.hostProtocols,r)),o&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+r);if(t&&t.match(s.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(s.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},s.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},s.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=o),this},i.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=s.build(this._parts),this._deferred_build=!1),this},i.clone=function(){return new s(this)},i.valueOf=i.toString=function(){return this.build(!1)._string},i.protocol=A("protocol"),i.username=A("username"),i.password=A("password"),i.hostname=A("hostname"),i.port=A("port"),i.query=v("query","?"),i.fragment=v("fragment","#"),i.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},i.hash=function(e,t){var r=this.fragment(e,t);return"string"==typeof r&&r.length?"#"+r:r},i.pathname=function(e,t){if(void 0===e||!0===e){var r=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?s.decodeUrnPath:s.decodePath)(r):r}return this._parts.urn?this._parts.path=e?s.recodeUrnPath(e):"":this._parts.path=e?s.recodePath(e):"/",this.build(!t),this},i.path=i.pathname,i.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=s._parts();var n=e instanceof s,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[s.getDomAttribute(e)]||"",o=!1),!n&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=s.parse(String(e),this._parts);else{if(!n&&!o)throw new TypeError("invalid input");var i=n?e._parts:e;for(r in i)"query"!==r&&a.call(this._parts,r)&&(this._parts[r]=i[r]);i.query&&this.query(i.query,!1)}return this.build(!t),this},i.is=function(e){var t=!1,n=!1,o=!1,i=!1,a=!1,c=!1,l=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,n=s.ip4_expression.test(this._parts.hostname),o=s.ip6_expression.test(this._parts.hostname),a=(i=!(t=n||o))&&r&&r.has(this._parts.hostname),c=i&&s.idn_expression.test(this._parts.hostname),l=i&&s.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return i;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return o;case"idn":return c;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var T=i.protocol,b=i.port,I=i.hostname;i.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(s.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return T.call(this,e,t)},i.scheme=i.protocol,i.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),s.ensureValidPort(e))),b.call(this,e,t))},i.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==s.parseHost(e,r))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname,this._parts.preventInvalidHostname&&s.ensureValidHostname(e,this._parts.protocol)}return I.call(this,e,t)},i.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol();return this.authority()?(r?r+"://":"")+this.authority():""}var n=s(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},i.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?s.buildHost(this._parts):"";if("/"!==s.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},i.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?s.buildAuthority(this._parts):"";if("/"!==s.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},i.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=s.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),s.parseUserinfo(e,this._parts),this.build(!t),this},i.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=s.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},i.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,n),i=new RegExp("^"+c(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&s.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this},i.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(s.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(c(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},i.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(n+1);return!0!==t&&r&&r.list[o.toLowerCase()]&&r.get(this._parts.hostname)||o}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');s=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},i.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?s.decodePath(n):n}var o=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,o),a=new RegExp("^"+c(i));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=s.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},i.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return e?s.decodePathSegment(n):n}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var i=new RegExp(c(this.filename())+"$");return e=s.recodePath(e),this._parts.path=this._parts.path.replace(i,e),o?this.normalizePath(t):this.build(!t),this},i.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var r,n,o=this.filename(),i=o.lastIndexOf(".");return-1===i?"":(r=o.substring(i+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",e?s.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var a,l=this.suffix();if(l)a=e?new RegExp(c(l)+"$"):new RegExp(c("."+l)+"$");else{if(!e)return this;this._parts.path+="."+s.recodePath(e)}return a&&(e=s.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},i.segment=function(e,t,r){var n=this._parts.urn?":":"/",o=this.path(),s="/"===o.substring(0,1),i=o.split(n);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(s&&i.shift(),e<0&&(e=Math.max(i.length+e,0)),void 0===t)return void 0===e?i:i[e];if(null===e||void 0===i[e])if(u(t)){i=[];for(var a=0,c=t.length;a<c;a++)(t[a].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(f(t[a])))}else(t||"string"==typeof t)&&(t=f(t),""===i[i.length-1]?i[i.length-1]=t:i.push(t));else t?i[e]=f(t):i.splice(e,1);return s&&i.unshift(""),this.path(i.join(n),r)},i.segmentCoded=function(e,t,r){var n,o,i;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(u(n=this.segment(e,t,r)))for(o=0,i=n.length;o<i;o++)n[o]=s.decode(n[o]);else n=void 0!==n?s.decode(n):void 0;return n}if(u(t))for(o=0,i=t.length;o<i;o++)t[o]=s.encode(t[o]);else t="string"==typeof t||t instanceof String?s.encode(t):t;return this.segment(e,t,r)};var R=i.query;return i.query=function(e,t){if(!0===e)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,r);return this._parts.query=s.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=s.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):R.call(this,e,t)},i.setQuery=function(e,t,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)a.call(e,o)&&(n[o]=e[o])}return this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},i.addQuery=function(e,t,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.addQuery(n,e,void 0===t?null:t),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},i.removeQuery=function(e,t,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.removeQuery(n,e,t),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},i.hasQuery=function(e,t,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(n,e,t,r)},i.setSearch=i.setQuery,i.addSearch=i.addQuery,i.removeSearch=i.removeQuery,i.hasSearch=i.hasQuery,i.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},i.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},i.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},i.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===s.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},i.normalizePath=function(e){var t,r=this._parts.path;if(!r)return this;if(this._parts.urn)return this._parts.path=s.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,o,i="";for("/"!==(r=s.recodePath(r)).charAt(0)&&(t=!0,r="/"+r),"/.."!==r.slice(-3)&&"/."!==r.slice(-2)||(r+="/"),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(i=r.substring(1).match(/^(\.\.\/)+/)||"")&&(i=i[0]);-1!==(n=r.search(/\/\.\.(\/|$)/));)0!==n?(-1===(o=r.substring(0,n).lastIndexOf("/"))&&(o=n),r=r.substring(0,o)+r.substring(n+3)):r=r.substring(3);return t&&this.is("relative")&&(r=i+r.substring(1)),this._parts.path=r,this.build(!e),this},i.normalizePathname=i.normalizePath,i.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},i.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},i.normalizeSearch=i.normalizeQuery,i.normalizeHash=i.normalizeFragment,i.iso8859=function(){var e=s.encode,t=s.decode;s.encode=escape,s.decode=decodeURIComponent;try{this.normalize()}finally{s.encode=e,s.decode=t}return this},i.unicode=function(){var e=s.encode,t=s.decode;s.encode=g,s.decode=unescape;try{this.normalize()}finally{s.encode=e,s.decode=t}return this},i.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var n="",o=0,i=t._parts.query.split("&"),a=i.length;o<a;o++){var c=(i[o]||"").split("=");n+="&"+s.decodeQuery(c[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==c[1]&&(n+="="+s.decodeQuery(c[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+s.decodeQuery(t.hash(),!0)},i.absoluteTo=function(e){var t,r,n,o=this.clone(),i=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof s||(e=new s(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(r=0;n=i[r];r++)o._parts[n]=e._parts[n];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},i.relativeTo=function(e){var t,r,n,o,i,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new s(e).normalize(),t=a._parts,r=e._parts,o=a.path(),i=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==i.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==r.hostname||t.port!==r.port)return a.build();if(t.hostname=null,t.port=null,o===i)return t.path="",a.build();if(!(n=s.commonPath(o,i)))return a.build();var c=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=c+t.path.substring(n.length)||"./",a.build()},i.equals=function(e){var t,r,n,o,i,c=this.clone(),l=new s(e),p={};if(c.normalize(),l.normalize(),c.toString()===l.toString())return!0;if(n=c.query(),o=l.query(),c.query(""),l.query(""),c.toString()!==l.toString())return!1;if(n.length!==o.length)return!1;for(i in t=s.parseQuery(n,this._parts.escapeQuerySpace),r=s.parseQuery(o,this._parts.escapeQuerySpace),t)if(a.call(t,i)){if(u(t[i])){if(!h(t[i],r[i]))return!1}else if(t[i]!==r[i])return!1;p[i]=!0}for(i in r)if(a.call(r,i)&&!p[i])return!1;return!0},i.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},i.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},i.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},s}))},39340:function(e,t,r){var n;e=r.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof global&&global;s.global!==s&&s.window!==s&&s.self;var i,a=2147483647,c=36,l=26,u=38,p=700,d=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=c-1,E=Math.floor,S=String.fromCharCode;function _(e){throw new RangeError(m[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function A(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+y((e=e.replace(f,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function T(e){return y(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+S(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,r){var n=0;for(e=r?E(e/p):e>>1,e+=E(e/t);e>g*l>>1;n+=c)e=E(e/g);return E(n+(g+1)*e/(e+u))}function R(e){var t,r,n,o,s,i,u,p,d,h,f,m=[],g=e.length,S=0,y=128,A=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&_("not-basic"),m.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<g;){for(s=S,i=1,u=c;o>=g&&_("invalid-input"),((p=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:c)>=c||p>E((a-S)/i))&&_("overflow"),S+=p*i,!(p<(d=u<=A?1:u>=A+l?l:u-A));u+=c)i>E(a/(h=c-d))&&_("overflow"),i*=h;A=I(S-s,t=m.length+1,0==s),E(S/t)>a-y&&_("overflow"),y+=E(S/t),S%=t,m.splice(S++,0,y)}return T(m)}function O(e){var t,r,n,o,s,i,u,p,d,h,f,m,g,y,A,T=[];for(m=(e=v(e)).length,t=128,r=0,s=72,i=0;i<m;++i)(f=e[i])<128&&T.push(S(f));for(n=o=T.length,o&&T.push("-");n<m;){for(u=a,i=0;i<m;++i)(f=e[i])>=t&&f<u&&(u=f);for(u-t>E((a-r)/(g=n+1))&&_("overflow"),r+=(u-t)*g,t=u,i=0;i<m;++i)if((f=e[i])<t&&++r>a&&_("overflow"),f==t){for(p=r,d=c;!(p<(h=d<=s?1:d>=s+l?l:d-s));d+=c)A=p-h,y=c-h,T.push(S(b(h+A%y,0))),p=E(A/y);T.push(S(b(p,0))),s=I(r,g,n==o),r=0,++n}++r,++t}return T.join("")}i={version:"1.3.2",ucs2:{decode:v,encode:T},decode:R,encode:O,toASCII:function(e){return A(e,(function(e){return h.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return A(e,(function(e){return d.test(e)?R(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},93338:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:n}=r(32614),o=Buffer[Symbol.species];function s(e,t,r,n,o){for(let s=0;s<o;s++)r[n+s]=e[s]^t[3&s]}function i(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let s=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,s),s+=n.length}return s<t?new o(r.buffer,r.byteOffset,s):r},mask:s,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let r;return t instanceof ArrayBuffer?r=new o(t):ArrayBuffer.isView(t)?r=new o(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r},unmask:i},!process.env.WS_NO_BUFFER_UTIL)try{const t=r(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.mask=function(e,r,n,o,i){i<48?s(e,r,n,o,i):t.mask(e,r,n,o,i)},e.exports.unmask=function(e,r){e.length<32?i(e,r):t.unmask(e,r)}}catch(e){}},32614:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},90597:(e,t,r)=>{"use strict";const{kForOnEventAttribute:n,kListener:o}=r(32614),s=Symbol("kCode"),i=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),u=Symbol("kTarget"),p=Symbol("kType"),d=Symbol("kWasClean");class h{constructor(e){this[u]=null,this[p]=e}get target(){return this[u]}get type(){return this[p]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[l]}get wasClean(){return this[d]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[i]=void 0===t.data?null:t.data}get data(){return this[i]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});const E={addEventListener(e,t,r={}){for(const s of this.listeners(e))if(!r[n]&&s[o]===t&&!s[n])return;let s;if("message"===e)s=function(e,r){const n=new g("message",{data:r?e:e.toString()});n[u]=this,S(t,this,n)};else if("close"===e)s=function(e,r){const n=new f("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[u]=this,S(t,this,n)};else if("error"===e)s=function(e){const r=new m("error",{error:e,message:e.message});r[u]=this,S(t,this,r)};else{if("open"!==e)return;s=function(){const e=new h("open");e[u]=this,S(t,this,e)}}s[n]=!!r[n],s[o]=t,r.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(const r of this.listeners(e))if(r[o]===t&&!r[n]){this.removeListener(e,r);break}}};function S(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:E,MessageEvent:g}},55926:(e,t,r)=>{"use strict";const{tokenChars:n}=r(95880);function o(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let r,s,i=Object.create(null),a=!1,c=!1,l=!1,u=-1,p=-1,d=-1,h=0;for(;h<e.length;h++)if(p=e.charCodeAt(h),void 0===r)if(-1===d&&1===n[p])-1===u&&(u=h);else if(0===h||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);const n=e.slice(u,d);44===p?(o(t,n,i),i=Object.create(null)):r=n,u=d=-1}}else-1===d&&-1!==u&&(d=h);else if(void 0===s)if(-1===d&&1===n[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),o(i,e.slice(u,d),!0),44===p&&(o(t,r,i),i=Object.create(null),r=void 0),u=d=-1}else{if(61!==p||-1===u||-1!==d)throw new SyntaxError(`Unexpected character at index ${h}`);s=e.slice(u,h),u=d=-1}else if(c){if(1!==n[p])throw new SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:a||(a=!0),c=!1}else if(l)if(1===n[p])-1===u&&(u=h);else if(34===p&&-1!==u)l=!1,d=h;else{if(92!==p)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===p&&61===e.charCodeAt(h-1))l=!0;else if(-1===d&&1===n[p])-1===u&&(u=h);else if(-1===u||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let n=e.slice(u,d);a&&(n=n.replace(/\\/g,""),a=!1),o(i,s,n),44===p&&(o(t,r,i),i=Object.create(null),r=void 0),s=void 0,u=d=-1}}else-1===d&&(d=h);if(-1===u||l||32===p||9===p)throw new SyntaxError("Unexpected end of input");-1===d&&(d=h);const f=e.slice(u,d);return void 0===r?o(t,f,i):(void 0===s?o(i,f,!0):o(i,s,a?f.replace(/\\/g,""):f),o(t,r,i)),t}}},4759:e=>{"use strict";const t=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},42971:(e,t,r)=>{"use strict";const n=r(43106),o=r(93338),s=r(4759),{kStatusCode:i}=r(32614),a=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),u=Symbol("total-length"),p=Symbol("callback"),d=Symbol("buffers"),h=Symbol("error");let f;function m(e){this[d].push(e),this[u]+=e.length}function g(e){this[u]+=e.length,this[l]._maxPayload<1||this[u]<=this[l]._maxPayload?this[d].push(e):(this[h]=new RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][i]=1009,this.removeListener("data",g),this.reset())}function E(e){this[l]._inflate=null,e[i]=1007,this[p](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new s(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){f.add((n=>{this._decompress(e,t,((e,t)=>{n(),r(e,t)}))}))}compress(e,t,r){f.add((n=>{this._compress(e,t,((e,t)=>{n(),r(e,t)}))}))}_decompress(e,t,r){const s=this._isServer?"client":"server";if(!this._inflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[u]=0,this._inflate[d]=[],this._inflate.on("error",E),this._inflate.on("data",g)}this._inflate[p]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[h];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=o.concat(this._inflate[d],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[d]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,n)}))}_compress(e,t,r){const s=this._isServer?"server":"client";if(!this._deflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[d]=[],this._deflate.on("data",m)}this._deflate[p]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[d],this._deflate[u]);t&&(e=new a(e.buffer,e.byteOffset,e.length-4)),this._deflate[p]=null,this._deflate[u]=0,this._deflate[d]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,e)}))}}},46286:(e,t,r)=>{"use strict";const{Writable:n}=r(2203),o=r(42971),{BINARY_TYPES:s,EMPTY_BUFFER:i,kStatusCode:a,kWebSocket:c}=r(32614),{concat:l,toArrayBuffer:u,unmask:p}=r(93338),{isValidStatusCode:d,isValidUTF8:h}=r(95880),f=Buffer[Symbol.species];e.exports=class extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new f(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(0!=(48&t[0]))return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));const r=64==(64&t[0]);if(!r||this._extensions[o.extensionName]){if(this._fin=128==(128&t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=r}else{if(!(this._opcode>7&&this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&t[1]),this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),r=t.readUInt32BE(0);r>Math.pow(2,21)-1?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=i;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&p(t,this._mask)}if(this._opcode>7)this.controlMessage(t,e);else{if(this._compressed)return this._state=5,void this.decompress(t,e);t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void t(e)}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)}))}dataMessage(e){if(!this._fin)return void(this._state=0);const t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?l(r,t):"arraybuffer"===this._binaryType?u(l(r,t)):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)})))}else{const n=l(r,t);if(!this._skipUTF8Validation&&!h(n)){const t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)})))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate((()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)})));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,i),this.end();else{const r=e.readUInt16BE(0);if(!d(r)){const e=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}const n=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n)){const e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=0}}createError(e,t,r,n,o){this._loop=!1,this._errored=!0;const s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=o,s[a]=n,s}}},80914:(e,t,r)=>{"use strict";const{Duplex:n}=r(2203),{randomFillSync:o}=r(76982),s=r(42971),{EMPTY_BUFFER:i}=r(32614),{isValidStatusCode:a}=r(95880),{mask:c,toBuffer:l}=r(93338),u=Symbol("kByteLength"),p=Buffer.alloc(4),d=8192;let h,f=d;class m{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,n,s=!1,i=2,a=!1;t.mask&&(r=t.maskBuffer||p,t.generateMask?t.generateMask(r):(f===d&&(void 0===h&&(h=Buffer.alloc(d)),o(h,0,d),f=0),r[0]=h[f++],r[1]=h[f++],r[2]=h[f++],r[3]=h[f++]),a=0==(r[0]|r[1]|r[2]|r[3]),i=6),"string"==typeof e?n=t.mask&&!a||void 0===t[u]?(e=Buffer.from(e)).length:t[u]:(n=e.length,s=t.mask&&t.readOnly&&!a);let l=n;n>=65536?(i+=8,l=127):n>125&&(i+=2,l=126);const m=Buffer.allocUnsafe(s?n+i:i);return m[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(m[0]|=64),m[1]=l,126===l?m.writeUInt16BE(n,2):127===l&&(m[2]=m[3]=0,m.writeUIntBE(n,4,6)),t.mask?(m[1]|=128,m[i-4]=r[0],m[i-3]=r[1],m[i-2]=r[2],m[i-1]=r[3],a?[m,e]:s?(c(e,r,m,i,n),[m]):(c(e,r,e,0,n),[m,e])):[m,e]}close(e,t,r,n){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!a(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+r),o.writeUInt16BE(e,0),"string"==typeof t?o.write(t,2):o.set(t,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)}const s={[u]:o.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,n]):this.sendFrame(m.frame(o,s),n)}ping(e,t,r){let n,o;if("string"==typeof e?(n=Buffer.byteLength(e),o=!1):(n=(e=l(e)).length,o=l.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(m.frame(e,s),r)}pong(e,t,r){let n,o;if("string"==typeof e?(n=Buffer.byteLength(e),o=!1):(n=(e=l(e)).length,o=l.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(m.frame(e,s),r)}send(e,t,r){const n=this._extensions[s.extensionName];let o,i,a=t.binary?2:1,c=t.compress;if("string"==typeof e?(o=Buffer.byteLength(e),i=!1):(o=(e=l(e)).length,i=l.readOnly),this._firstFragment?(this._firstFragment=!1,c&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=o>=n._threshold),this._compress=c):(c=!1,a=0),t.fin&&(this._firstFragment=!0),n){const n={[u]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:c};this._deflating?this.enqueue([this.dispatch,e,this._compress,n,r]):this.dispatch(e,this._compress,n,r)}else this.sendFrame(m.frame(e,{[u]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:!1}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(m.frame(e,r),n);const o=this._extensions[s.extensionName];this._bufferedBytes+=r[u],this._deflating=!0,o.compress(e,r.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t],n=r[r.length-1];"function"==typeof n&&n(e)}}else this._bufferedBytes-=r[u],this._deflating=!1,r.readOnly=!1,this.sendFrame(m.frame(t,r),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=m},3719:(e,t,r)=>{"use strict";const{Duplex:n}=r(2203);function o(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener("error",i),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;const a=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,r){const n=!r&&a._readableState.objectMode?t.toString():t;a.push(n)||e.pause()})),e.once("error",(function(e){a.destroyed||(r=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(o,a);let s=!1;e.once("error",(function(e){s=!0,n(e)})),e.once("close",(function(){s||n(t),process.nextTick(o,a)})),r&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){a._write(t,r,n)}))},a.on("end",s),a.on("error",i),a}},28237:(e,t,r)=>{"use strict";const{tokenChars:n}=r(95880);e.exports={parse:function(e){const t=new Set;let r=-1,o=-1,s=0;for(;s<e.length;s++){const i=e.charCodeAt(s);if(-1===o&&1===n[i])-1===r&&(r=s);else if(0===s||32!==i&&9!==i){if(44!==i)throw new SyntaxError(`Unexpected character at index ${s}`);{if(-1===r)throw new SyntaxError(`Unexpected character at index ${s}`);-1===o&&(o=s);const n=e.slice(r,o);if(t.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=o=-1}}else-1===o&&-1!==r&&(o=s)}if(-1===r||-1!==o)throw new SyntaxError("Unexpected end of input");const i=e.slice(r,s);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}}},95880:(e,t,r)=>{"use strict";const{isUtf8:n}=r(20181);function o(e){const t=e.length;let r=0;for(;r<t;)if(0==(128&e[r]))r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?o(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=r(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.isValidUTF8=function(e){return e.length<32?o(e):t(e)}}catch(e){}},61722:(e,t,r)=>{"use strict";const n=r(24434),o=r(58611),{Duplex:s}=r(2203),{createHash:i}=r(76982),a=r(55926),c=r(42971),l=r(28237),u=r(91060),{GUID:p,kWebSocket:d}=r(32614),h=/^[+/0-9A-Za-z]{22}==$/;function f(e){e._state=2,e.emit("close")}function m(){this.destroy()}function g(e,t,r,n){r=r||o.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(n).map((e=>`${e}: ${n[e]}`)).join("\r\n")+"\r\n\r\n"+r)}function E(e,t,r,n,o){if(e.listenerCount("wsClientError")){const n=new Error(o);Error.captureStackTrace(n,E),e.emit("wsClientError",n,r,t)}else g(r,n,o)}e.exports=class extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer(((e,t)=>{const r=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(f,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{f(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",m);const o=e.headers["sec-websocket-key"],s=e.headers.upgrade,i=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void E(this,e,t,405,"Invalid HTTP method");if(void 0===s||"websocket"!==s.toLowerCase())return void E(this,e,t,400,"Invalid Upgrade header");if(void 0===o||!h.test(o))return void E(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==i&&13!==i)return void E(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void g(t,400);const u=e.headers["sec-websocket-protocol"];let p=new Set;if(void 0!==u)try{p=l.parse(u)}catch(r){return void E(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const d=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==d){const r=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=a.parse(d);e[c.extensionName]&&(r.accept(e[c.extensionName]),f[c.extensionName]=r)}catch(r){return void E(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const s={origin:e.headers[8===i?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((s,i,a,c)=>{if(!s)return g(t,i||401,a,c);this.completeUpgrade(f,o,p,e,t,r,n)}));if(!this.options.verifyClient(s))return g(t,401)}this.completeUpgrade(f,o,p,e,t,r,n)}completeUpgrade(e,t,r,n,o,s,l){if(!o.readable||!o.writable)return o.destroy();if(o[d])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(o,503);const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i("sha1").update(t+p).digest("base64")}`],h=new this.options.WebSocket(null,void 0,this.options);if(r.size){const e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(u.push(`Sec-WebSocket-Protocol: ${e}`),h._protocol=e)}if(e[c.extensionName]){const t=e[c.extensionName].params,r=a.format({[c.extensionName]:[t]});u.push(`Sec-WebSocket-Extensions: ${r}`),h._extensions=e}this.emit("headers",u,n),o.write(u.concat("\r\n").join("\r\n")),o.removeListener("error",m),h.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(h),h.on("close",(()=>{this.clients.delete(h),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)}))),l(h,n)}}},91060:(e,t,r)=>{"use strict";const n=r(24434),o=r(65692),s=r(58611),i=r(69278),a=r(64756),{randomBytes:c,createHash:l}=r(76982),{Duplex:u,Readable:p}=r(2203),{URL:d}=r(87016),h=r(42971),f=r(46286),m=r(80914),{BINARY_TYPES:g,EMPTY_BUFFER:E,GUID:S,kForOnEventAttribute:_,kListener:y,kStatusCode:A,kWebSocket:v,NOOP:T}=r(32614),{EventTarget:{addEventListener:b,removeEventListener:I}}=r(90597),{format:R,parse:O}=r(55926),{toBuffer:N}=r(93338),C=Symbol("kAborted"),L=[8,13],w=["CONNECTING","OPEN","CLOSING","CLOSED"],P=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class M extends n{constructor(e,t,r){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=E,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=M.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),x(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new f({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new m(e,this._extensions,r.generateMask),this._receiver=n,this._socket=e,n[v]=this,e[v]=this,n.on("conclude",$),n.on("drain",B),n.on("error",F),n.on("message",H),n.on("ping",W),n.on("pong",X),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",K),e.on("data",Z),e.on("end",z),e.on("error",J),this._readyState=M.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=M.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==M.CLOSED)if(this.readyState!==M.CONNECTING)this.readyState!==M.CLOSING?(this._readyState=M.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";U(this,this._req,e)}}pause(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||E,t,r)):G(this,e,r)}pong(e,t,r){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||E,t,r)):G(this,e,r)}resume(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN)return void G(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||E,n,r)}terminate(){if(this.readyState!==M.CLOSED)if(this.readyState!==M.CONNECTING)this._socket&&(this._readyState=M.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";U(this,this._req,e)}}}function x(e,t,r,n){const i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:L[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=i.autoPong,!L.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${L.join(", ")})`);let a;if(t instanceof d)a=t;else try{a=new d(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),e._url=a.href;const u="wss:"===a.protocol,p="ws+unix:"===a.protocol;let f;if("ws:"===a.protocol||u||p?p&&!a.pathname?f="The URL's pathname is empty":a.hash&&(f="The URL contains a fragment identifier"):f='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void k(e,t)}const m=u?443:80,g=c(16).toString("base64"),E=u?o.request:s.request,_=new Set;let y,A;if(i.createConnection=i.createConnection||(u?V:D),i.defaultPort=i.defaultPort||m,i.port=a.port||m,i.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},i.path=a.pathname+a.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(y=new h(!0!==i.perMessageDeflate?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=R({[h.extensionName]:y.offer()})),r.length){for(const e of r){if("string"!=typeof e||!P.test(e)||_.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");_.add(e)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(a.username||a.password)&&(i.auth=`${a.username}:${a.password}`),p){const e=i.path.split(":");i.socketPath=e[0],i.path=e[1]}if(i.followRedirects){if(0===e._redirects){e._originalIpc=p,e._originalSecure=u,e._originalHostOrSocketPath=p?i.socketPath:a.host;const t=n&&n.headers;if(n={...n,headers:{}},t)for(const[e,r]of Object.entries(t))n.headers[e.toLowerCase()]=r}else if(0===e.listenerCount("redirect")){const t=p?!!e._originalIpc&&i.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!u)&&(delete i.headers.authorization,delete i.headers.cookie,t||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),A=e._req=E(i),e._redirects&&e.emit("redirect",e.url,A)}else A=e._req=E(i);i.timeout&&A.on("timeout",(()=>{U(e,A,"Opening handshake has timed out")})),A.on("error",(t=>{null===A||A[C]||(A=e._req=null,k(e,t))})),A.on("response",(o=>{const s=o.headers.location,a=o.statusCode;if(s&&i.followRedirects&&a>=300&&a<400){if(++e._redirects>i.maxRedirects)return void U(e,A,"Maximum redirects exceeded");let o;A.abort();try{o=new d(s,t)}catch(t){const r=new SyntaxError(`Invalid URL: ${s}`);return void k(e,r)}x(e,o,r,n)}else e.emit("unexpected-response",A,o)||U(e,A,`Unexpected server response: ${o.statusCode}`)})),A.on("upgrade",((t,r,n)=>{if(e.emit("upgrade",t),e.readyState!==M.CONNECTING)return;A=e._req=null;const o=t.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase())return void U(e,r,"Invalid Upgrade header");const s=l("sha1").update(g+S).digest("base64");if(t.headers["sec-websocket-accept"]!==s)return void U(e,r,"Invalid Sec-WebSocket-Accept header");const a=t.headers["sec-websocket-protocol"];let c;if(void 0!==a?_.size?_.has(a)||(c="Server sent an invalid subprotocol"):c="Server sent a subprotocol but none was requested":_.size&&(c="Server sent no subprotocol"),c)return void U(e,r,c);a&&(e._protocol=a);const u=t.headers["sec-websocket-extensions"];if(void 0!==u){if(!y)return void U(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=O(u)}catch(t){return void U(e,r,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==h.extensionName)return void U(e,r,"Server indicated an extension that was not requested");try{y.accept(t[h.extensionName])}catch(t){return void U(e,r,"Invalid Sec-WebSocket-Extensions header")}e._extensions[h.extensionName]=y}e.setSocket(r,n,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})})),i.finishRequest?i.finishRequest(A,e):A.end()}function k(e,t){e._readyState=M.CLOSING,e.emit("error",t),e.emitClose()}function D(e){return e.path=e.socketPath,i.connect(e)}function V(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=i.isIP(e.host)?"":e.host),a.connect(e)}function U(e,t,r){e._readyState=M.CLOSING;const n=new Error(r);Error.captureStackTrace(n,U),t.setHeader?(t[C]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(k,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function G(e,t,r){if(t){const r=N(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${w[e.readyState]})`);process.nextTick(r,t)}}function $(e,t){const r=this[v];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[v]&&(r._socket.removeListener("data",Z),process.nextTick(Y,r._socket),1005===e?r.close():r.close(e,t))}function B(){const e=this[v];e.isPaused||e._socket.resume()}function F(e){const t=this[v];void 0!==t._socket[v]&&(t._socket.removeListener("data",Z),process.nextTick(Y,t._socket),t.close(e[A])),t.emit("error",e)}function j(){this[v].emitClose()}function H(e,t){this[v].emit("message",e,t)}function W(e){const t=this[v];t._autoPong&&t.pong(e,!this._isServer,T),t.emit("ping",e)}function X(e){this[v].emit("pong",e)}function Y(e){e.resume()}function K(){const e=this[v];let t;this.removeListener("close",K),this.removeListener("data",Z),this.removeListener("end",z),e._readyState=M.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[v]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",j),e._receiver.on("finish",j))}function Z(e){this[v]._receiver.write(e)||this.pause()}function z(){const e=this[v];e._readyState=M.CLOSING,e._receiver.end(),this.end()}function J(){const e=this[v];this.removeListener("error",J),this.on("error",T),e&&(e._readyState=M.CLOSING,this.destroy())}Object.defineProperty(M,"CONNECTING",{enumerable:!0,value:w.indexOf("CONNECTING")}),Object.defineProperty(M.prototype,"CONNECTING",{enumerable:!0,value:w.indexOf("CONNECTING")}),Object.defineProperty(M,"OPEN",{enumerable:!0,value:w.indexOf("OPEN")}),Object.defineProperty(M.prototype,"OPEN",{enumerable:!0,value:w.indexOf("OPEN")}),Object.defineProperty(M,"CLOSING",{enumerable:!0,value:w.indexOf("CLOSING")}),Object.defineProperty(M.prototype,"CLOSING",{enumerable:!0,value:w.indexOf("CLOSING")}),Object.defineProperty(M,"CLOSED",{enumerable:!0,value:w.indexOf("CLOSED")}),Object.defineProperty(M.prototype,"CLOSED",{enumerable:!0,value:w.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(M.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(M.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[_])return t[y];return null},set(t){for(const t of this.listeners(e))if(t[_]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[_]:!0})}})})),M.prototype.addEventListener=b,M.prototype.removeEventListener=I,e.exports=M},90290:e=>{"use strict";e.exports=require("async_hooks")},20181:e=>{"use strict";e.exports=require("buffer")},76982:e=>{"use strict";e.exports=require("crypto")},7194:e=>{"use strict";e.exports=require("dgram")},31637:e=>{"use strict";e.exports=require("diagnostics_channel")},24434:e=>{"use strict";e.exports=require("events")},79896:e=>{"use strict";e.exports=require("fs")},91943:e=>{"use strict";e.exports=require("fs/promises")},58611:e=>{"use strict";e.exports=require("http")},65692:e=>{"use strict";e.exports=require("https")},73339:e=>{"use strict";e.exports=require("module")},69278:e=>{"use strict";e.exports=require("net")},31421:e=>{"use strict";e.exports=require("node:child_process")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},86592:e=>{"use strict";e.exports=require("node:inspector")},77030:e=>{"use strict";e.exports=require("node:net")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},80481:e=>{"use strict";e.exports=require("node:readline")},57075:e=>{"use strict";e.exports=require("node:stream")},41692:e=>{"use strict";e.exports=require("node:tls")},57975:e=>{"use strict";e.exports=require("node:util")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},38522:e=>{"use strict";e.exports=require("node:zlib")},70857:e=>{"use strict";e.exports=require("os")},16928:e=>{"use strict";e.exports=require("path")},82987:e=>{"use strict";e.exports=require("perf_hooks")},932:e=>{"use strict";e.exports=require("process")},2203:e=>{"use strict";e.exports=require("stream")},64756:e=>{"use strict";e.exports=require("tls")},52018:e=>{"use strict";e.exports=require("tty")},87016:e=>{"use strict";e.exports=require("url")},39023:e=>{"use strict";e.exports=require("util")},28167:e=>{"use strict";e.exports=require("worker_threads")},43106:e=>{"use strict";e.exports=require("zlib")},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=void 0;const n=r(31635),o=r(19967),s=n.__importDefault(r(91943)),i=r(20360),a=r(62251),c=r(74044),l=n.__importDefault(r(16928));let u,p=!1;t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(p)throw new Error("runEntrypoint can only be called once");p=!0;const r=process.env.MODULE_MANIFEST;if(!r)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await s.default.readFile(r),d=JSON.parse(n.toString());if(d.runtime?.api!==o.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!d.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let h=d.runtime.apiVersion;if("0.0.0"===h)try{const e=await s.default.readFile(l.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(h=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const f=process.env.CONNECTION_ID;if("string"!=typeof f||!f)throw new Error("Module initialise is missing CONNECTION_ID");const m=process.env.VERIFICATION_TOKEN;if("string"!=typeof m||!m)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const g=process.env.SENTRY_DSN,E=process.env.SENTRY_USERID,S=process.env.SENTRY_COMPANION_VERSION;if(g&&E&&"https://"==g.substring(0,8)){console.log("Sentry enabled"),(0,a.init)({dsn:g,release:`${d.name}@${d.version}`,beforeSend:e=>(e.exception&&console.log("sentry","error",e.exception),e)});{const e=(0,a.getCurrentScope)();e.setUser({id:E}),e.setTag("companion",S)}}else console.log("Sentry disabled");const _=new c.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{_.receivedMessage(e)})),u=new e((0,i.literal)({id:f,upgradeScripts:t,_isInstanceBaseProps:!0})),_.sendWithCb("register",{apiVersion:h,connectionId:f,verificationToken:m}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))}},36160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var n=r(78895);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return n.TCPHelper}});var o=r(21118);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return o.TelnetHelper}});var s=r(36259);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return s.UDPHelper}})},78895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=r(31635).__importDefault(r(69278)),o=r(30228),s=r(51400);class i extends o.EventEmitter{#e;#t;_socket;#r;#n=!1;#o=!1;#s=!1;#i;#a;#c;get isConnected(){return this.#n}get isConnecting(){return this.#o}get isDestroyed(){return this.#s}constructor(e,t,r){super(),this.#e=e,this.#t=t,this.#r={reconnect_interval:2e3,reconnect:!0,...r},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#o=!1,this.#n=!1,this.#r.reconnect&&this.#l(),this.#u(s.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#n=!0,this.#o=!1,this.#u(s.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#n=!1,this.#u(s.InstanceStatus.Disconnected),!this.#o&&this.#r.reconnect&&this.#l(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>this.connect())),this.#c=setTimeout((()=>{this.#c=void 0,this.#s||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#s)throw new Error("Cannot connect destroyed socket");return!this.#o&&(this.#o=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#s||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#n)return!1;try{return new Promise(((t,r)=>{this._socket.write(e,(e=>{e?r(e):t(!0)}))}))}catch(e){this.#n=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#u(s.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#s=!0,void 0!==this.#a&&(clearTimeout(this.#a),this.#a=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#l(){void 0!==this.#a&&clearTimeout(this.#a),this.#a=setTimeout((()=>{this.#a=void 0,this.#u(s.InstanceStatus.Connecting),this.connect()}),this.#r.reconnect_interval)}#u(e,t){this.#i!=e&&(this.#i=e,this.emit("status_change",e,t))}}t.TCPHelper=i},21118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=r(31635).__importDefault(r(30228)),o=r(2203),s=r(78895);class i extends n.default{#p;#d;#c;get isConnected(){return this.#p.isConnected}get isConnecting(){return this.#p.isConnecting}get isDestroyed(){return this.#p.isDestroyed}constructor(e,t,r){super(),this.#p=new s.TCPHelper(e,t,r),this.#d=new a,this.#p._socket.pipe(this.#d),this.#p.on("connect",(()=>this.emit("connect"))),this.#p.on("end",(()=>this.emit("end"))),this.#p.on("error",(e=>this.emit("error",e))),this.#p.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#d.on("iac",((e,t)=>this.emit("iac",e,t))),this.#d.on("sb",(e=>this.emit("sb",e))),this.#d.on("data",(e=>this.emit("data",e))),this.#d.on("drain",(()=>this.emit("drain"))),this.#c=setTimeout((()=>{this.#c=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#p.connect()}async send(e){return this.#p.send(e)}destroy(){this.#p.destroy(),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#d.removeAllListeners(),this.#d.destroy()}}t.TelnetHelper=i;class a extends o.Transform{#h;#f;#m;constructor(e){super(e),this.#h=Buffer.alloc(0),this.#f=Buffer.alloc(0),this.#m=0}_transform(e,t,r){for(let t=0;t<e.length;++t)this.#g(e[t]);const n=this.#E();n.length&&this.push(n),r()}#g(e){if(0===this.#m){if(255===e)return void(this.#m=255);this.#h=Buffer.concat([this.#h,Buffer.from([e])])}else if(255===this.#m)switch(e){case 250:case 251:case 252:case 253:case 254:this.#m=e;break;default:this.#m=0}else{if(this.#m>=251&&this.#m<=254){let t;switch(this.#m){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#m=0)}if(250===this.#m){if(240===e)return this.emit("sb",this.#f),this.#m=0,void(this.#f=Buffer.alloc(0));this.#f=Buffer.concat([this.#f,Buffer.from([e])])}}}#E(){const e=this.#h;return this.#h=Buffer.alloc(0),e}}},36259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=r(31635).__importDefault(r(7194)),o=r(30228),s=r(51400);class i extends o.EventEmitter{#e;#t;#S;#r;#s=!1;#i;#c;get isDestroyed(){return this.#s}constructor(e,t,r){super(),this.#e=e,this.#t=t,this.#r={...r},this.#S=n.default.createSocket("udp4");try{this.#S.bind(this.#r.bind_port||0,this.#r.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#r.bind_ip}:${this.#r.bind_port}`)}this.#r.broadcast&&this.#S.setBroadcast(!0),void 0!==this.#r.ttl&&this.#S.setTTL(this.#r.ttl),void 0!==this.#r.multicast_ttl&&this.#S.setMulticastTTL(this.#r.multicast_ttl),this.#S.on("error",(e=>{this.#u(s.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#S.on("listening",(()=>{this.#r.multicast_interface&&this.#S.setMulticastInterface(this.#r.multicast_interface),this.#u(s.InstanceStatus.Ok),this.emit("listening")})),this.#S.on("message",(e=>this.emit("data",e))),this.#c=setTimeout((()=>{this.#s||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#s)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,r)=>{this.#S.send(e,this.#t,this.#e,(e=>{e?r(e):t()}))}))}destroy(){this.#s=!0,void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#S.removeAllListeners(),this.#S.close(),this.removeAllListeners()}#u(e,t){this.#i!=e&&(this.#i=e,this.emit("status_change",e,t))}}t.UDPHelper=i},74044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=r(31635),o=r(20360),s=n.__importDefault(r(16022));t.IpcWrapper=class{#_;#y;#A;#v=1;#T=new Map;constructor(e,t,r){this.#_=e,this.#y=t,this.#A=r}async sendWithCb(e,t,r,n=0){n<=0&&(n=this.#A);const o={timeout:void 0,resolve:()=>null,reject:()=>null},i=new Promise(((e,t)=>{o.resolve=e,o.reject=t}));this.#v>268435456&&(this.#v=1);const a=this.#v++;this.#T.set(a,o),this.#y({direction:"call",name:String(e),payload:s.default.stringify(t),callbackId:a});const c=new Error("Call timed out");return o.timeout=setTimeout((()=>{o.reject(r?r():c),this.#T.delete(a)}),n),i}sendWithNoCb(e,t){this.#y({direction:"call",name:String(e),payload:s.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#_[e.name];if(!t)return void(e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:s.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?s.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!0,payload:s.default.stringify(t)})}),(t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):s.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#T.get(e.callbackId);if(this.#T.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const r=e.payload?s.default.parse(e.payload):void 0;if(e.success)t.resolve(r);else{let e=r;r&&"object"==typeof r&&"message"in r&&(e=new Error(r.message),r.stack&&(e.stack=r.stack)),t.reject(e)}break}default:(0,o.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},19967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},76278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const n=r(31635);n.__exportStar(r(39077),t),n.__exportStar(r(22018),t),n.__exportStar(r(4581),t);var o=r(20360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return o.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return o.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return o.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return o.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return o.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return o.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return o.assertNever}}),n.__exportStar(r(36160),t);var s=r(34326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return s.runEntrypoint}})},94289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=r(12593);function o(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#b;#I;#R;#O=new Map;#N=new Map;constructor(e,t,r){this.#b=e,this.#I=t,this.#R=r}async handleExecuteAction(e){const t=this.#O.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},r)}handleUpdateActions(e){for(const[t,r]of Object.entries(e)){const e=this.#N.get(t);if(e){const t=this.#O.get(e.actionId);if(t?.unsubscribe){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),r)).catch((t=>{this.#R("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!r||r.disabled)this.#N.delete(t);else{this.#N.set(t,r);const e=this.#O.get(r.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#b({text:e,controlId:r.controlId,actionInstanceId:r.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(o(r),t)).catch((e=>{this.#R("error",`Action subscribe failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#O.get(e.action.actionId);if(t&&t.learn){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},r)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#O.clear();for(const[r,o]of Object.entries(e))o&&(t.push({id:r,name:o.name,description:o.description,options:(0,n.serializeIsVisibleFn)(o.options),hasLearn:!!o.learn,learnTimeout:o.learnTimeout}),this.#O.set(r,o));this.#I({actions:t})}_getAllActions(){return Array.from(this.#N.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#N.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.actionId))));for(const e of t){const t=this.#O.get(e.actionId);if(t?.subscribe){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(o(e),r)).catch((t=>{this.#R("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#N.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.actionId))));for(const e of t){const t=this.#O.get(e.actionId);if(t&&t.unsubscribe){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),r)).catch((t=>{this.#R("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},12593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceBaseProps=t.serializeIsVisibleFn=void 0,t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},58039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=r(31635),o=r(12593),s=n.__importDefault(r(17e3));function i(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#b;#C;#L;#R;#w=new Map;#P=new Map;#M=new Map;#x=new Map;#k;get parseVariablesContext(){return this.#k}constructor(e,t,r,n){this.#b=e,this.#C=t,this.#L=r,this.#R=n}getDefinitionIds(){return Array.from(this.#w.keys())}getInstanceIds(){return Array.from(this.#P.keys())}handleUpdateFeedbacks(e){for(const[t,r]of Object.entries(e)){const e=this.#P.get(t);if(e){const t=this.#w.get(e.feedbackId);if(t?.unsubscribe){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(i(t.type,e),r)).catch((t=>{this.#R("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!r||r.disabled)this.#P.delete(t);else{this.#P.set(t,{...r,referencedVariables:null});const e=this.#w.get(r.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#b({text:e,controlId:r.controlId,actionInstanceId:void 0,feedbackInstanceId:r.id})).text};Promise.resolve(e.subscribe(i(e.type,r),t)).catch((e=>{this.#R("error",`Feedback subscribe failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)}))}this.#D(t)}}}async handleLearnFeedback(e){const t=this.#w.get(e.feedback.feedbackId);if(t&&t.learn){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},r)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#x.values())for(const r of e.variablesIds)t.changedVariables.add(r);const r=new Set;for(const e of this.#P.values())if(!this.#x.has(e.id)&&e.referencedVariables)for(const n of e.referencedVariables)if(t.has(n)){r.add(e.id);break}for(const e of r)setImmediate((()=>{this.#D(e)}))}#D(e){const t=this.#x.get(e);if(t)return void(t.needsRecheck=!0);const r=this.#P.get(e);if(!r)return;const n=r,o={needsRecheck:!1,changedVariables:new Set};this.#x.set(e,o),Promise.resolve().then((async()=>{const t=this.#w.get(n.feedbackId);let r;const o=new Set;if(t){this.#k=`Feedback ${n.feedbackId} (${e})`;const s={parseVariablesInString:async t=>{const r=await this.#b({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(r.variableIds&&r.variableIds.length)for(const e of r.variableIds)o.add(e);return r.text}};r="boolean"===t.type?t.callback({...i("boolean",n),type:"boolean"},s):t.callback({...i("advanced",n),type:"advanced",image:n.image},s),this.#k=void 0}const s=await r;this.#M.set(e,{id:e,controlId:n.controlId,value:s}),this.#V(),n.referencedVariables=o.size>0?Array.from(o):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#k=void 0,this.#x.delete(e);let t=!1;if(n.referencedVariables)for(const e of n.referencedVariables)if(o.changedVariables.has(e)){t=!0;break}(t||o.needsRecheck)&&setImmediate((()=>{this.#D(e)}))}))}#V=(0,s.default)((()=>{const e=this.#M;this.#M=new Map,e.size>0&&this.#C({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#w.clear();for(const[r,n]of Object.entries(e))n&&(t.push({id:r,name:n.name,description:n.description,options:(0,o.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"boolean"===n.type?n.defaultStyle:void 0,hasLearn:!!n.learn,learnTimeout:n.learnTimeout,showInvert:"boolean"===n.type&&n.showInvert}),this.#w.set(r,n));this.#L({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,r]of this.#P.entries())this.#w.get(r.feedbackId)&&(0===t.size||t.has(r.feedbackId))&&this.#D(e)}checkFeedbacksById(e){for(const t of e)this.#D(t)}_getAllFeedbacks(){return Array.from(this.#P.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#P.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.feedbackId))));for(const e of t){const t=this.#w.get(e.feedbackId);if(t?.subscribe){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(i(t.type,e),r)).catch((t=>{this.#R("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#P.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.feedbackId))));for(const e of t){const t=this.#w.get(e.feedbackId);if(t&&t.unsubscribe){const r={parseVariablesInString:async t=>(await this.#b({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(i(t.type,e),r)).catch((t=>{this.#R("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},11706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=void 0;const n=r(20360);function o(e){return JSON.parse(JSON.stringify(e))}t.runThroughUpgradeScripts=function(e,t,r,s,i,a){const c=new Map,l=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??r;t&&"number"==typeof e&&l(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??r;e&&"number"==typeof t&&l(t).feedbacks.push(e.id)}if(!a)for(let e=r??-1;e<s.length;e++)l(e).config=!0;const u={},p={};let d;if(c.size>0){const a=Array.from(c.keys()).sort(),l=Math.min(...a,r??-1)+1,h=[],f=[],m=s.length;for(let r=l;r<m;r++){const a=c.get(r-1);a&&(h.push(...a.actions),f.push(...a.feedbacks));const l=!!a?.config;if(!l&&0===h.length&&0===f.length)continue;const m=d??i,g=(0,s[r])({currentConfig:o(m)},{config:l?m:null,actions:h.map((t=>{const r=e[t];if(r)return(0,n.literal)({id:r.id,controlId:r.controlId,actionId:r.actionId,options:void 0!==r.options?o(r.options):{}})})).filter((e=>!!e)),feedbacks:f.map((e=>{const r=t[e];if(r)return(0,n.literal)({id:r.id,controlId:r.controlId,feedbackId:r.feedbackId,options:void 0!==r.options?o(r.options):{},isInverted:r.isInverted})})).filter((e=>!!e))});l&&g.updatedConfig&&(d=g.updatedConfig);for(const t of g.updatedActions)if(t){const r=e[t.id];r&&(r.actionId=t.actionId,r.options=t.options,p[t.id]=r)}for(const e of g.updatedFeedbacks)if(e){const r=t[e.id];r&&(r.feedbackId=e.feedbackId,r.options=e.options,u[e.id]={...r,style:u[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,r]of Object.entries(e))p[t]||"number"!=typeof r?.upgradeIndex||(p[t]=r);for(const[e,r]of Object.entries(t))u[e]||"number"!=typeof r?.upgradeIndex||(u[e]=r)}return{updatedActions:p,updatedFeedbacks:u,updatedConfig:d}}},39077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=void 0;const n=r(31635).__importDefault(r(7281));t.validateManifest=function(e){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'");if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}}},13730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=r(31635),o=r(20360),s=n.__importDefault(r(73290)),i=r(12593),a=r(11706),c=r(58039),l=r(74044),u=r(94289),p=r(62365);t.InstanceBase=class{#U;#G;id;#$=new s.default({concurrency:1});#B=!1;#F=!1;#j={};#H;#W;#X=new Map;#Y=new Map;#K=new Map;#r;#Z;get instanceOptions(){return this.#r}get label(){return this.#Z}constructor(e){if(!(0,i.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#r={disableVariableValidation:!1},this.#U=new l.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#U.receivedMessage(e)})),this.#H=new u.ActionManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#W=new c.FeedbackManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#U.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#G=e.upgradeScripts,this.id=e.id,this.#Z=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#$.add((async()=>{if(this.#B)throw new Error("Already initialized");const t=e.actions,r=e.feedbacks;if(this.#j=e.config,this.#Z=e.label,e.isFirstInit){const t={},r=this.getConfigFields();for(const e of r)"default"in e&&(t[e.id]=e.default);this.#j=t,this.saveConfig(this.#j),e.lastUpgradeIndex=this.#G.length-1}const{updatedActions:n,updatedFeedbacks:o,updatedConfig:s}=(0,a.runThroughUpgradeScripts)(t,r,e.lastUpgradeIndex,this.#G,this.#j,!1);this.#j=s??this.#j;const i=this.#U.sendWithCb("upgradedItems",{updatedActions:n,updatedFeedbacks:o});try{await this.init(this.#j,!!e.isFirstInit),this.#B=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await i}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:r},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#G.length-1,updatedConfig:this.#j}}))}async _handleDestroy(){await this.#$.add((async()=>{if(!this.#B)throw new Error("Not initialized");await this.destroy(),this.#B=!1}))}async _handleConfigUpdateAndLabel(e){await this.#$.add((async()=>{if(!this.#B)throw new Error("Not initialized");this.#Z=e.label,this.#j=e.config,await this.configUpdated(this.#j)}))}async _handleExecuteAction(e){return this.#H.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)({},e.feedbacks,null,this.#G,this.#j,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#W.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)(e.actions,{},null,this.#G,this.#j,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#H.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,i.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#H.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#W.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#F)return}else if(!this.#F)return;if(!this.handleStartStopRecordActions)throw this.#F=!1,new Error("Recording actions is not supported by this module!");this.#F=e.recording,this.handleStartStopRecordActions(this.#F)}async _handleVariablesChanged(e){this.#W.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#X.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#X.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#j=e,this.#U.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#H.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#W.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[r,n]of Object.entries(e))n&&t.push({...n,id:r});this.#U.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],r=[];this.#Y.clear();for(const n of e)t.push({id:n.variableId,name:n.name}),this.#Y.set(n.variableId,n),this.#K.has(n.variableId)||(this.#K.set(n.variableId,""),r.push({id:n.variableId,value:""}));if(!this.#r.disableVariableValidation){const e=new Set(this.#Y.keys());for(const t of this.#K.keys())e.has(t)||(this.#K.delete(t),r.push({id:t,value:void 0}))}this.#U.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:r})}setVariableValues(e){const t=[];for(const[r,n]of Object.entries(e))this.#r.disableVariableValidation?(void 0===n?this.#K.delete(r):this.#K.set(r,n),t.push({id:r,value:n})):this.#Y.has(r)?(this.#K.set(r,n??""),t.push({id:r,value:n??""})):t.push({id:r,value:void 0});this.#U.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#K.get(e)}async parseVariablesInString(e){const t=this.#W.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#U.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#W.checkFeedbacks(e)}checkFeedbacksById(...e){this.#W.checkFeedbacksById(e)}_getAllActions(){return this.#H._getAllActions()}subscribeActions(...e){this.#H.subscribeActions(e)}unsubscribeActions(...e){this.#H.unsubscribeActions(e)}_getAllFeedbacks(){return this.#W._getAllFeedbacks()}subscribeFeedbacks(...e){this.#W.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#W.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#F)throw new Error("Not currently recording actions");this.#U.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}setCustomVariableValue(e,t){this.#U.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,r,n){this.#U.sendWithNoCb("send-osc",(0,o.literal)({host:e,port:t,path:r,args:n}))}updateStatus(e,t){this.#U.sendWithNoCb("set-status",(0,o.literal)({status:e,message:t??null}))}log(e,t){this.#U.sendWithNoCb("log-message",(0,o.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const r="string"==typeof e?{type:e}:e,n=new p.SharedUdpSocketImpl(this.#U,this.#X,r);return t&&n.on("message",t),n}}},97386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51400:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning"}(r||(t.InstanceStatus=r={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(n||(t.Regex=n={}))},98983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},22018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31635);n.__exportStar(r(13730),t),n.__exportStar(r(51649),t),n.__exportStar(r(97386),t),n.__exportStar(r(51400),t),n.__exportStar(r(98983),t),n.__exportStar(r(68104),t),n.__exportStar(r(73258),t),n.__exportStar(r(90131),t),n.__exportStar(r(83371),t),n.__exportStar(r(39786),t),n.__exportStar(r(36132),t)},73258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},62365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const n=r(31635).__importDefault(r(30228)),o=r(20360);class s extends n.default{#U;#z;#r;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#m&&"object"==typeof this.#m?this.#m:void 0}#m="pending";constructor(e,t,r){super(),this.#U=e,this.#z=t,this.#r={...r}}bind(e,t,r){if(this.#m&&"object"==typeof this.#m)throw new Error("Socket is already bound");switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,o.assertNever)(this.#m),new Error("Invalid socket state")}this.#m="binding",r&&this.on("listening",r),this.#U.sendWithCb("sharedUdpSocketJoin",{family:this.#r.type,portNumber:e}).then((t=>{this.#m={portNumber:e,handleId:t},this.#z.set(t,this),this.emit("listening")}),(e=>{this.#m="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#m&&"object"==typeof this.#m);else switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,o.assertNever)(this.#m),new Error("Invalid socket state")}const t=this.#m.handleId;this.#m="closed",e&&this.on("close",e),this.#U.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#z.delete(t),this.emit("close")}),(e=>{this.#z.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,r,n,o,s){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof r){if("number"!=typeof n||"string"!=typeof o)throw new Error("Invalid arguments");if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid arguments");const i=this.#J(e,t,r);this.#Q(i,n,o,s)}else{if("string"!=typeof r)throw new Error("Invalid arguments");{if(void 0!==n&&"function"!=typeof n)throw new Error("Invalid arguments");const o=this.#J(e,0,void 0);this.#Q(o,t,r,n)}}}#J(e,t,r){let n;if("string"==typeof e)n=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))n=e;else{if(Array.isArray(e))return Buffer.from(e);n=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return n.subarray(t,void 0!==r?r+t:void 0)}#Q(e,t,r,n){if(!this.#m||"object"!=typeof this.#m)throw new Error("Socket is not open");this.#U.sendWithCb("sharedUdpSocketSend",{handleId:this.#m.handleId,message:e,address:r,port:t}).then((()=>{n?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#m="fatalError";const t=this.boundState;t&&this.#z.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=s},83371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},39786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=t.CreateConvertToBooleanFeedbackUpgradeScript=t.EmptyUpgradeScript=void 0,t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}),t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,r)=>{const n=[];for(const t of r.feedbacks){let r=e[t.feedbackId];if(!0===r&&(r={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),r){t.style||(t.style={});for(const[e,o]of Object.entries(r))void 0!==t.options[e]&&(t.style[o]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,r)=>{const n=[];for(const t of r.feedbacks){const r=e[t.feedbackId];if("string"!=typeof r)continue;const o=t.options[r];void 0!==o&&(delete t.options[r],t.isInverted="true"===o||!0===o||Number(o)>0,n.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}}},36132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.assertNever=t.literal=void 0;const n=r(56284);function o(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,n.colord)(e).isValid()){const t=(0,n.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,r,n){let o=(255&e)<<16|(255&t)<<8|255&r;return n&&n>=0&&n<1&&(o+=16777216*Math.round(255*(1-n))),o},t.splitRgb=o,t.splitHsl=function(e){const t=o(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=o(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=o(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()}},7281:(e,t,r)=>{"use strict";e.exports=a,e.exports.default=a;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18"},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1,required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"]},o=Object.prototype.hasOwnProperty,s=r(97169).A,i=new RegExp("","u");function a(e,{instancePath:t="",parentData:r,parentDataProperty:c,rootData:l=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.id&&(r="id")||void 0===e.name&&(r="name")||void 0===e.shortname&&(r="shortname")||void 0===e.description&&(r="description")||void 0===e.version&&(r="version")||void 0===e.license&&(r="license")||void 0===e.repository&&(r="repository")||void 0===e.bugs&&(r="bugs")||void 0===e.maintainers&&(r="maintainers")||void 0===e.legacyIds&&(r="legacyIds")||void 0===e.runtime&&(r="runtime")||void 0===e.manufacturer&&(r="manufacturer")||void 0===e.products&&(r="products")||void 0===e.keywords&&(r="keywords"))return a.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=0;for(const r in e)if(!o.call(n.properties,r))return a.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.$schema){const r=0;if("string"!=typeof e.$schema)return a.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=0===r}else u=!0;if(u){if(void 0!==e.id){const r=0;if("string"!=typeof e.id)return a.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.name){const r=0;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.shortname){const r=0;if("string"!=typeof e.shortname)return a.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.description){const r=0;if("string"!=typeof e.description)return a.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.version){const r=0;if("string"!=typeof e.version)return a.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.license){const r=0;if("string"!=typeof e.license)return a.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.repository){const r=0;if("string"!=typeof e.repository)return a.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.bugs){const r=0;if("string"!=typeof e.bugs)return a.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.maintainers){let r=e.maintainers;const n=0;if(0===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var p=!0;const e=r.length;for(let n=0;n<e;n++){let e=r[n];const o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.name&&(r="name"))return a.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.name){const r=0;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=0===r}else d=!0;if(d){if(void 0!==e.email){const r=0;if("string"!=typeof e.email)return a.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=0===r}else d=!0;if(d)if(void 0!==e.github){const r=0;if("string"!=typeof e.github)return a.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=0===r}else d=!0}}}if(!(p=0===o))break}if(p){let e,n=r.length;if(n>1)for(;n--;)for(e=n;e--;)if(s(r[n],r[e]))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}u=0===n}else u=!0;if(u){if(void 0!==e.legacyIds){let r=e.legacyIds;const n=0;if(0===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var h=!0;const e=r.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=0===e))break}if(h){let e,n=r.length;if(n>1){const o={};for(;n--;){let s=r[n];if("string"==typeof s){if("number"==typeof o[s])return e=o[s],a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[s]=n}}}}}}u=0===n}else u=!0;if(u){if(void 0!==e.runtime){let r=e.runtime;const o=0;if(0===o){if(!r||"object"!=typeof r||Array.isArray(r))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.type&&(e="type")||void 0===r.api&&(e="api")||void 0===r.apiVersion&&(e="apiVersion")||void 0===r.entrypoint&&(e="entrypoint"))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.type){const e=0;if("string"!=typeof r.type)return a.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=0===e}else f=!0;if(f){if(void 0!==r.api){let e=r.api;const o=0;if("string"!=typeof e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;f=0===o}else f=!0;if(f){if(void 0!==r.apiVersion){const e=0;if("string"!=typeof r.apiVersion)return a.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0;if(f)if(void 0!==r.entrypoint){const e=0;if("string"!=typeof r.entrypoint)return a.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0}}}}u=0===o}else u=!0;if(u){if(void 0!==e.manufacturer){const r=0;if("string"!=typeof e.manufacturer)return a.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=0===r}else u=!0;if(u){if(void 0!==e.products){let r=e.products;const n=0;if(0===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var m=!0;const e=r.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=0===e))break}if(m){let e,n=r.length;if(n>1){const o={};for(;n--;){let s=r[n];if("string"==typeof s){if("number"==typeof o[s])return e=o[s],a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[s]=n}}}}}}u=0===n}else u=!0;if(u){if(void 0!==e.keywords){let r=e.keywords;const n=0;if(0===n){if(!Array.isArray(r))return a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var g=!0;const e=r.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(g=0===e))break}if(g){let e,n=r.length;if(n>1){const o={};for(;n--;){let s=r[n];if("string"==typeof s){if("number"==typeof o[s])return e=o[s],a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[s]=n}}}}}}u=0===n}else u=!0;if(u)if(void 0!==e.bonjourQueries){let r=e.bonjourQueries;const o=0;if(0===o){if(!r||"object"!=typeof r||Array.isArray(r))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=0;for(const e in r)if(!i.test(e))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e)for(const e in r)if(i.test(e)){let o=r[e];const s=0;if(0===s){if(!o||"object"!=typeof o||Array.isArray(o))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===o.type&&(r="type")||void 0===o.protocol&&(r="protocol"))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=0;for(const r in o)if("type"!==r&&"protocol"!==r&&"txt"!==r)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==o.type){const r=0;if("string"!=typeof o.type)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=0===r}else E=!0;if(E){if(void 0!==o.protocol){let r=o.protocol;const s=0;if("string"!=typeof r)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("tcp"!==r&&"udp"!==r)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/protocol/enum",keyword:"enum",params:{allowedValues:n.properties.bonjourQueries.patternProperties[""].properties.protocol.enum},message:"must be equal to one of the allowed values"}],!1;E=0===s}else E=!0;if(E)if(void 0!==o.txt){let r=o.txt;const n=0;if(0===n){if(!r||"object"!=typeof r||Array.isArray(r))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const n=0;for(const n in r)if(!i.test(n))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(0===n)for(const n in r)if(i.test(n)){const o=0;if("string"!=typeof r[n])return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(0!==o)break}}}E=0===n}else E=!0}}}}}if(0!==s)break}}}u=0===o}else u=!0}}}}}}}}}}}}}}}}}return a.errors=null,!0}},17e3:(e,t,r)=>{"use strict";const n=r(84865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:o=0,before:s=!1,after:i=!0}=t;if(!s&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,c,l;const u=function(...t){const n=this,u=s&&!a;return clearTimeout(a),a=setTimeout((()=>{a=void 0,c&&(clearTimeout(c),c=void 0),i&&(l=e.apply(n,t))}),r),o>0&&!c&&i&&(c=setTimeout((()=>{c=void 0,a&&(clearTimeout(a),a=void 0),l=e.apply(n,t)}),o)),u&&(l=e.apply(n,t)),l};return n(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0),c&&(clearTimeout(c),c=void 0)},u}},86404:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_e});var n=r(76278),o=r(7194);class s extends Error{constructor(e,t,r){const n=`${e.status||0===e.status?e.status:""} ${e.statusText||""}`.trim();super("Request failed with "+(n?`status code ${n}`:"an unknown error")),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=r}}class i extends Error{constructor(e){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}}const a=e=>null!==e&&"object"==typeof e,c=(...e)=>{for(const t of e)if((!a(t)||Array.isArray(t))&&void 0!==t)throw new TypeError("The `options` argument must be an object");return u({},...e)},l=(e={},t={})=>{const r=new globalThis.Headers(e),n=t instanceof globalThis.Headers,o=new globalThis.Headers(t);for(const[e,t]of o.entries())n&&"undefined"===t||void 0===t?r.delete(e):r.set(e,t);return r},u=(...e)=>{let t={},r={};for(const n of e)if(Array.isArray(n))Array.isArray(t)||(t=[]),t=[...t,...n];else if(a(n)){for(let[e,r]of Object.entries(n))a(r)&&e in t&&(r=u(t[e],r)),t={...t,[e]:r};a(n.headers)&&(r=l(r,n.headers),t.headers=r)}return t},p=(()=>{let e=!1,t=!1;const r="function"==typeof globalThis.ReadableStream,n="function"==typeof globalThis.Request;return r&&n&&(t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")),e&&!t})(),d="function"==typeof globalThis.AbortController,h="function"==typeof globalThis.ReadableStream,f="function"==typeof globalThis.FormData,m=["get","post","put","patch","head","delete"],g={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},E=2147483647,S=Symbol("stop"),_={json:!0,parseJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},y={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},A=e=>m.includes(e)?e.toUpperCase():e,v=[413,429,503],T={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:v,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},b=(e={})=>{if("number"==typeof e)return{...T,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...T,...e,afterStatusCodes:v}};class I{static create(e,t){const r=new I(e,t),n=async()=>{if("number"==typeof r._options.timeout&&r._options.timeout>E)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let e=await r._fetch();for(const t of r._options.hooks.afterResponse){const n=await t(r.request,r._options,r._decorateResponse(e.clone()));n instanceof globalThis.Response&&(e=n)}if(r._decorateResponse(e),!e.ok&&r._options.throwHttpErrors){let t=new s(e,r.request,r._options);for(const e of r._options.hooks.beforeError)t=await e(t);throw t}if(r._options.onDownloadProgress){if("function"!=typeof r._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!h)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return r._stream(e.clone(),r._options.onDownloadProgress)}return e},o=r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(n):n();for(const[e,n]of Object.entries(g))o[e]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||n);const s=(await o).clone();if("json"===e){if(204===s.status)return"";if(0===(await s.clone().arrayBuffer()).byteLength)return"";if(t.parseJson)return t.parseJson(await s.text())}return s[e]()};return o}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;const r=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...r&&{credentials:r},...t,headers:l(this._input.headers,t.headers),hooks:u({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:A(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:b(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(d){if(this.abortController=new globalThis.AbortController,this._options.signal){const e=this._options.signal;this._options.signal.addEventListener("abort",(()=>{this.abortController.abort(e.reason)}))}this._options.signal=this.abortController.signal}if(p&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const e="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,e);!(f&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(t,{...this.request}),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(e instanceof i)){if(e instanceof s){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;const t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);return Number.isNaN(e)?e=Date.parse(t)-Date.now():e*=1e3,void 0!==this._options.retry.maxRetryAfter&&e>this._options.retry.maxRetryAfter?0:e}if(413===e.response.status)return 0}const t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(t){const r=Math.min(this._calculateRetryDelay(t),E);if(0!==r&&this._retryCount>0){await async function(e,{signal:t}){return new Promise(((r,n)=>{function o(){clearTimeout(s),n(t.reason)}t&&(t.throwIfAborted(),t.addEventListener("abort",o,{once:!0}));const s=setTimeout((()=>{t?.removeEventListener("abort",o),r()}),e)}))}(r,{signal:this._options.signal});for(const e of this._options.hooks.beforeRetry)if(await e({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===S)return;return this._retry(e)}throw t}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}const e=((e,t)=>{const r={};for(const n in t)n in y||n in _||n in e||(r[n]=t[n]);return r})(this.request,this._options);return!1===this._options.timeout?this._options.fetch(this.request.clone(),e):async function(e,t,r,n){return new Promise(((o,s)=>{const a=setTimeout((()=>{r&&r.abort(),s(new i(e))}),n.timeout);n.fetch(e,t).then(o).catch(s).then((()=>{clearTimeout(a)}))}))}(this.request.clone(),e,this.abortController,this._options)}_stream(e,t){const r=Number(e.headers.get("content-length"))||0;let n=0;return 204===e.status?(t&&t({percent:1,totalBytes:r,transferredBytes:n},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(o){const s=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),await async function e(){const{done:i,value:a}=await s.read();i?o.close():(t&&(n+=a.byteLength,t({percent:0===r?0:n/r,transferredBytes:n,totalBytes:r},a)),o.enqueue(a),await e())}()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}const R=e=>{const t=(t,r)=>I.create(t,c(e,r));for(const r of m)t[r]=(t,n)=>I.create(t,c(e,n,{method:r}));return t.create=e=>R(c(e)),t.extend=t=>R(c(e,t)),t.stop=S,t},O=R();var N=r(84193),C=(r(3719),r(46286),r(80914),r(91060));r(61722);const L=C,w={retry:2,timeout:15e3};class P{instance;websocket;wsTimeout;addr;authcookie="";reconnectmin=100;reconnectmax=16500;reconnectinterval=this.reconnectmin;delimiter="!";bufferMaxLength=64e3;buffer="";shouldBeConnected;hadError;constructor(e){this.instance=e,this.hadError=!1,this.shouldBeConnected=!1}bufferFragment(e){this.buffer+=e,this.buffer.length>this.bufferMaxLength&&(console.log("Incoming Data Buffer overflow, flushing...",this.buffer.length),this.buffer="")}getNextMessage(){const e=this.buffer.indexOf(this.delimiter);if(-1!==e){const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e+this.delimiter.length),t}return null}getURLobj(e){null==e.match(/^https?:\/\//)&&(e="http://"+e);const t=new N(e);return t.is("domain")||t.is("ipv4")||t.is("ipv6")||this.instance.log("warn","URL seems invalid"),"http"===t.protocol()&&null===t.port&&t.port("80"),"https"===t.protocol()&&null===t.port&&t.port("443"),"http"!==t.protocol()&&"https"!==t.protocol()?(this.instance.log("error","Protocol needs to be either http or https but is "+t.protocol()),null):t}async connect(e){if(this.addr=e,void 0===this.addr)return;this.shouldBeConnected=!0;const t=this.getURLobj(this.addr);if(null!==t){this.instance.updateStatus(n.InstanceStatus.Connecting,"Init Connection");try{const e=await O.get(`${t.protocol()}://${t.host()}/auth/status`,{...w}).json(),r=e.authentication?.isAuthenticationEnabled,o=e.device||e.devices?.leader||void 0;if(void 0===r||void 0===o)return this.instance.updateStatus(n.InstanceStatus.ConnectionFailure,"No AWJ device"),this.instance.log("error","Connected to a device, but it is no compatible AWJ device, disconnecting now."),this.disconnect(),Promise.reject("No AWJ device");{const r=t=>{if(t.device){this.instance.state.set("DEVICE",t),this.instance.state.set("LINK",e.device||e.devices);const r=t.device.system;if(!r)return this.instance.updateStatus(n.InstanceStatus.ConnectionFailure),void this.instance.log("error","Probably connected to an Analog Way device but device type is not compatible with this module");let o=r.deviceList?.items[1].pp;if(o||(o=r.pp),!o)return this.instance.updateStatus(n.InstanceStatus.ConnectionFailure),void this.instance.log("error","Quite probably connected to an Analog Way device but device type is not compatible with this module");const s=o.dev;if(!s)return this.instance.updateStatus(n.InstanceStatus.ConnectionFailure),void this.instance.log("error","Connected to an Analog Way device but device type is not compatible with this module");const i=r.version?.pp?.updater??r.deviceList?.items?.[1]?.version?.pp?.updater??"0.0.0",a=()=>{const e=r.serial?.pp?.serialNumber??r.deviceList?.items?.[1]?.serial?.pp?.serialNumber??"unknown";return e.startsWith("ZZ9")||o.isSimulated?` Simulator, fw ${i}`:`, S/N: ${e}, fw ${i}`};let c="";if("NLC"===s.substring(0,3)){this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to "+s.replace("NLC_","Aquilon ")+a());const e=parseInt(i.split(".")[0]);c=!isNaN(e)&&e>=4?"livepremier4":"livepremier"}else if(s.match(/^EIKOS/))this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to Eikos 4k"+a()),c="midra";else if(s.match(/^PULSE/))this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to Pulse 4k"+a()),c="midra";else if(s.match(/^QMX/))this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to QuikMatrix 4k"+a()),c="midra";else if(s.match(/^QVU/))this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to QuickVu 4k"+a()),c="midra";else if(s.match(/^ZEN100/))this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to Zenith 100"+a()),c="midra";else if(s.match(/^ZEN200/))this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to Zenith 200"+a()),c="midra";else{if(!s.match(/^DBG/))return this.instance.updateStatus(n.InstanceStatus.ConnectionFailure),void this.instance.log("error",`Connected to an AWJ device of type '${s}', firmware '${i}'. Device type or firmware can not be determined or is not compatible with this module`);this.instance.updateStatus(n.InstanceStatus.Ok),this.instance.log("info","Connected to MNG_DEBUG"+a()),c="midra"}try{this.instance.setDevice(c)}catch(e){this.instance.log("error",`setting device platform to ${c} failed:\n${e}`)}try{this.instance.subscriptions.initSubscriptions()}catch(e){this.instance.log("error",`setting up subscriptions for device failed:\n${e.stack}`)}!0===this.instance.config.sync&&!1===this.hadError?(console.log("switching sync on because of config"),this.instance.switchSync(1)):!0===this.hadError?(this.instance.switchSync(3),console.log("setting sync again after reconnection")):(this.instance.switchSync(0),console.log("setting sync off by default")),this.hadError=!1;try{const e=this.instance.choices.getMACaddress();this.instance.config.macaddress.split(/[,:-_.\s]/).join(":")!==e&&(this.instance.config.macaddress=e,this.instance.saveConfig(this.instance.config))}catch(e){this.instance.log("error","getting MAC address from device failed "+e)}}else this.instance.log("error","Got malformed state from device "+t)},o=async()=>{const e="https"===t.protocol()?"wss://":"ws://";this.websocket=new L(`${e}${t.host()}`,{handshakeTimeout:1234,maxRedirects:1}),this.websocket.on("open",(async()=>{this.reconnectinterval=this.reconnectmin,this.instance.log("debug","Websocket opened")})),this.websocket.on("close",(()=>{this.shouldBeConnected&&(this.instance.updateStatus(n.InstanceStatus.Disconnected),this.hadError=!0,this.wsTimeout&&clearTimeout(this.wsTimeout),this.wsTimeout=setTimeout((()=>{this.connect(this.addr)}),this.reconnectinterval),this.reconnectinterval*=1.2,this.reconnectinterval>this.reconnectmax&&(this.reconnectinterval=this.reconnectmax))})),this.websocket.on("error",(e=>{this.hadError=!0,console.log("websocket error",e.toString()),this.instance.updateStatus(n.InstanceStatus.ConnectionFailure),e.toString().match(/Error: Opening handshake has timed out/)?this.instance.log("error","Connection attempt to device has timed out, will retry in "+Math.round(this.reconnectinterval/100)/10+"s"):e.toString().match(/Error: self signed certificate/)?(this.instance.log("error","Device is presenting a self signed certificate and is considered insecure. No more automatic connection retries."),this.shouldBeConnected=!1):this.instance.log("error","Socket "+e)})),this.websocket.on("message",((e,t)=>{1!=t&&this.instance.state.apply(JSON.parse(e.toString()))}));const o=await this.downloadDevicestate(t);r(o)};if(!0===e?.authentication.isAuthenticationEnabled){this.instance.updateStatus(n.InstanceStatus.Connecting,"Logging in");try{let e=await O(`${t.protocol()}://${t.host()}/auth/login`,{method:"post",json:{password:t.password()},retry:2,redirect:"error"});e.headers["set-cookie"]&&(this.authcookie=e.headers["set-cookie"],this.instance.log("info","Login to device is successful"),await o())}catch(e){return this.instance.log("error","Password failed "+e),Promise.reject(e)}}else await o()}}catch(e){this.disconnect(),this.wsTimeout&&clearTimeout(this.wsTimeout),this.wsTimeout=setTimeout((()=>{this.connect(this.addr)}),this.reconnectinterval),this.reconnectinterval*=1.2,this.reconnectinterval>this.reconnectmax&&(this.reconnectinterval=this.reconnectmax);const t=Math.round(this.reconnectinterval/100)/10;String(e).match(/fetch failed/)?this.instance.log("error",`Can't connect to device, probably offline. Will retry in ${t}s`):String(e).match(/terminated/)?this.instance.log("error",`Connection to device has been terminated unexpectedly. Will retry in ${t}s`):this.instance.log("error",`Can't connect to device webserver. ${e}\nWill retry in ${t}s`)}}}async downloadDevicestate(e){let t,r=0;this.instance.updateStatus(n.InstanceStatus.Connecting,"Syncing");try{return t=await O.get(`${e.protocol()}://${e.host()}/api/stores/device`,{headers:{cookie:this.authcookie},...w,onDownloadProgress:(e,t)=>{const o=Math.floor(e.transferredBytes/1024e3);o!==r&&(r=o,this.instance.updateStatus(n.InstanceStatus.Connecting,`Syncing ${r.toString().padStart(3,"0")}MB`))}}).json(),t}catch(e){return this.instance.updateStatus(n.InstanceStatus.ConnectionFailure),this.instance.log("error","Can't retrieve state from device "+e),Promise.reject(e)}}resetReconnectInterval(){this.reconnectinterval=this.reconnectmin}restPOST(e,t){const r=this.getURLobj(e);null!==r&&("Admin"!==r.username()&&0===this.authcookie.length?O.post(`${r.protocol()}://${r.host()}${r.resource()}`,{body:t,headers:{"Content-Type":"application/json"},...w,redirect:"error"}).then((e=>{this.instance.log("debug","http POST successfull "+e.status)})).catch((e=>{this.instance.log("debug","http POST failed "+e)})):this.authcookie.length>0?O.post(`${r.protocol()}://${r.host()}${r.resource()}`,{body:t,headers:{"Content-Type":"application/json",Cookie:this.authcookie},...w,redirect:"error"}).then((e=>{this.instance.log("debug","http POST successfull "+e.status)})).catch((e=>{this.instance.log("debug","http POST failed "+e)})):"Admin"===r.username()&&0===this.authcookie.length&&O.post(`${r.protocol()}://${r.host()}/auth/login`,{body:JSON.stringify({password:r.password()}),headers:{"Content-Type":"application/json"},...w,redirect:"error"}).then((e=>{e.headers["set-cookie"]&&(this.authcookie=e.headers["set-cookie"],this.instance.log("info","Login to device is successful")),O.post(`${r.protocol()}://${r.host()}${r.resource()}`,{body:t,headers:{"Content-Type":"application/json",Cookie:this.authcookie},...w,redirect:"error"}).then((e=>{this.instance.log("debug","http POST successfull "+e.status)})).catch((e=>{this.instance.log("debug","http POST failed "+e)}))})).catch((e=>{this.instance.log("debug","http POST failed "+e)})))}disconnect(){clearTimeout(this.wsTimeout),this.shouldBeConnected=!1,this.hadError=!1,this.websocket?.close(),this.buffer=""}destroy(){clearTimeout(this.wsTimeout),this.shouldBeConnected=!1,this.hadError=!1,this.websocket=null,this.buffer="",this.authcookie="",this.instance.log("debug","Connection has been destroyed due to removal or disable by user")}sendRawWSmessage(e){1===this.websocket?.readyState&&this.websocket?.send(e)}sendWSmessage(e,...t){for(const r of t){const t={channel:"DEVICE",data:{path:e,value:r}};this.sendRawWSmessage(JSON.stringify(t))}}sendWSpatch(e,t,r,n){const o={channel:e,data:{channel:"PATCH",patch:{op:t,path:r,value:n}}};this.sendRawWSmessage(JSON.stringify(o))}sendWSdata(e,t,r,n){let o={};o=0===n.length?{channel:e,data:{name:t,path:r,args:[]}}:{channel:e,data:{name:t,path:r,args:n}},this.sendRawWSmessage(JSON.stringify(o))}createMagicPacket(e){const t=e.match(/[0-9a-fA-F]{2}/g);if(!t||6!=t.length)throw new Error(`malformed MAC address "${e}"`);let r=Buffer.alloc(6);const n=Buffer.from(t.map((e=>parseInt(e,16))));r.fill(255);for(let e=0;e<16;e++)r=Buffer.concat([r,n]);return r}wake(e){const t=this.createMagicPacket(e),r=o.createSocket("udp4");r.bind((()=>{r.setBroadcast(!0),r.send(t,9,"255.255.255.255",(e=>{e?this.instance.log("error","Could not send wake on lan packet. "+e):this.instance.log("info","wake on lan packet sent"),r.close()}))}))}}const M=[function(e,t){const r=t.actions,n=[];return r.filter((e=>"devicePositionSize"===e.actionId)).forEach((e=>{const t={...e};t.options.x=e.options.x?.toString()??0,t.options.y=e.options.y?.toString()??0,t.options.w=e.options.w?.toString()??1920,t.options.h=e.options.h?.toString()??1080,void 0===t.options.xAnchor&&(t.options.xAnchor="lx + 0.5 * lw"),void 0===t.options.yAnchor&&(t.options.yAnchor="ly + 0.5 * lh"),void 0===t.options.ar&&(t.options.ar=""),n.push(t)})),{updatedConfig:null,updatedActions:n,updatedFeedbacks:[]}},function(e,t){const r=t.actions,n=[];return r.filter((e=>("deviceAudioRouteBlock"===e.actionId||"deviceAudioRouteChannels"===e.actionId)&&void 0===e.options.device)).forEach((e=>{const t={...e};void 0===t.options.device&&(t.options.device=1),"string"==typeof t.options.device&&(t.options.device=parseInt(t.options.device)),"number"==typeof t.options.device&&isNaN(t.options.device)&&(t.options.device=1),"number"==typeof t.options.device&&t.options.device<1&&(t.options.device=1),t.options.out&&!t.options.out1&&(t.options.out1=t.options.out),t.options.out&&!t.options.out2&&(t.options.out2=t.options.out),t.options.out&&!t.options.out3&&(t.options.out3=t.options.out),t.options.out&&!t.options.out4&&(t.options.out4=t.options.out),t.options.out&&t.options.out1&&delete t.options.out,t.options.in&&!t.options.in1&&(t.options.in1=t.options.in),t.options.in&&!t.options.in2&&(t.options.in2=t.options.in),t.options.in&&!t.options.in3&&(t.options.in3=t.options.in),t.options.in&&!t.options.in4&&(t.options.in4=t.options.in),t.options.in&&t.options.in1&&delete t.options.in,n.push(t)})),{updatedConfig:null,updatedActions:n,updatedFeedbacks:[]}},function(e,t){const r=t.actions,n=[];return r.filter((e=>"devicePower"===e.actionId&&"wake"===e.options.action)).forEach((e=>{const t={...e};t.options.wake="on",n.push(t)})),{updatedConfig:null,updatedActions:n,updatedFeedbacks:[]}}];class x{instance;state={REMOTE:{},DEVICE:{},LINK:{},LOCAL:{socketId:"",platform:"",syncSelection:!1,screenAuxSelection:{keys:[]},widgetSelection:{widgetIds:[]},lastMsg:{path:"",value:""},presetMode:"PREVIEW",presetModeLock:{PROGRAM:{...Object.fromEntries(Array.from({length:24},((e,t)=>[`S${t+1}`,!1]))),...Object.fromEntries(Array.from({length:96},((e,t)=>[`A${t+1}`,!1])))},PREVIEW:{...Object.fromEntries(Array.from({length:24},((e,t)=>[`S${t+1}`,!1]))),...Object.fromEntries(Array.from({length:96},((e,t)=>[`A${t+1}`,!1])))}},layerIds:[],intelligentParams:{},subscriptions:{},mappings:[],config:{}}};lastMsgTimer=void 0;constructor(e,t){this.instance=e,t&&this.set("DEVICE",t)}get(e,t){if(void 0===e)return this.state;void 0===t&&(t=this.state);const r=t;let n,o;if("string"==typeof e){const t=e.replace(/^\//,"");[n,...o]=t.split("/")}else[n,...o]=e;return 0===o.length?r[n]:null!=r[n]?this.get(o,r[n]):void 0}concat(...e){if(0===e.length)return[];const t=e.every((e=>"string"==typeof e));if(1===(e=e.flat(1/0)).length)return e[0];let r=[],n=[];return t&&("/"===e[0].charAt(0)&&(r=[""]),"/"===e[e.length-1].slice(-1)&&(n=[""])),e=e.map((e=>e.toString().replaceAll(/^\/|\/$/g,"").split("/"))),t?[...r,...e.flat(1/0),...n].join("/"):e.flat(1/0)}storeLastMsg(e){this.lastMsgTimer&&this.lastMsgTimer.hasRef()?this.lastMsgTimer.refresh():this.lastMsgTimer&&!1===this.lastMsgTimer.hasRef()?(this.set("LOCAL/lastMsg",e),this.lastMsgTimer.ref(),this.lastMsgTimer.refresh()):(this.set("LOCAL/lastMsg",e),clearTimeout(this.lastMsgTimer),this.lastMsgTimer=setTimeout((()=>{this.lastMsgTimer?.unref()}),800))}clearTimers(){clearTimeout(this.lastMsgTimer)}apply(e){if(void 0===e.channel||void 0===e.data)return;const t=e.channel,r=e.data;let n;if(r.hasOwnProperty("path")&&r.hasOwnProperty("value")){if(this.set(r.path,r.value,this.state[t]),n=this.instance.subscriptions.checkForAction(this.concat(t,r.path),r.value),"DEVICE"===t&&!r.path.toString().endsWith(",pp,xUpdate")&&null===r.toString().match(/"op":"replace","path":"\/system\/status\/current(Device)?Time","value":/)&&null===r.toString().match(/"op":"(add|remove)","path":"\/system\/temperature\/externalTempHistory\//)&&null===JSON.stringify(r).match(/"device","system",("deviceList","items","\d+",)?"temperature",/)&&null===r.path.toString().match(/device,timerList,items,TIMER_\d+,status,pp,value/)&&(console.log("last msg",JSON.stringify(r)),this.storeLastMsg({path:r.path,value:r.value}),this.instance.isRecording&&JSON.stringify(r.value).length<=132)){const e={xUpdate:!1};switch(e.path=this.instance.jsonToAWJpath(r.path),typeof r.value){case"string":e.valuetype="1",e.textValue=r.value;break;case"number":e.valuetype="2",e.numericValue=r.value;break;case"boolean":e.valuetype="3",e.booleanValue=r.value;break;case"object":e.valuetype="4",e.objectValue=JSON.stringify(r.value)}this.instance.recordAction({actionId:"cstawjcmd",options:e})}this.instance.isRecording&&"DEVICE"===t&&r.path.toString().endsWith(",pp,xUpdate")&&!0===r.value&&this.instance.recordAction({actionId:"cstawjcmd",options:{path:"",valuetype:"1",textValue:"global update only",numericValue:0,booleanValue:!1,objectValue:"",xUpdate:!0}})}else if("PATCH"===r?.channel&&r.patch){if("replace"===r.patch.op)try{this.set(r.patch.path,r.patch.value,this.state[t]),n=this.instance.subscriptions.checkForAction(this.concat(t,r.patch.path),r.patch.value)}catch(e){console.log("could not replace JSON\n",e)}if("add"===r.patch.op)try{this.set(r.patch.path,r.patch.value,this.state[t]),n=this.instance.subscriptions.checkForAction(this.concat(t,r.patch.path),r.patch.value)}catch(e){console.log("could not add JSON\n",e)}if("remove"===r.patch.op)try{this.delete(r.patch.path,this.state[t]),n=this.instance.subscriptions.checkForAction(this.concat(t,r.patch.path))}catch(e){console.log("could not remove element from JSON\n",e)}}else if("INIT"===r?.channel)try{this.state.LOCAL.socketId=r.socketId,this.state[t]={...r.snapshot},n=this.instance.subscriptions.checkForAction()}catch(e){this.instance.log("debug","could not set JSON while init\n"+e)}n&&Array.isArray(n)&&n.forEach((e=>{e.startsWith("id:")?this.instance.checkFeedbacksById(e.substring(3)):this.instance.checkFeedbacks(e)}))}set(e,t,r=this.state){const n=r;let o,s;if("string"==typeof e){const t=e.replace(/^\//,"");[o,...s]=t.split("/")}else[o,...s]=e;0===s.length?n[o]=t:(null==n[o]&&(n[o]={}),this.set(s,t,n[o]))}setUnmapped(e,t,r=this.state){this.set(e,t,r)}setWithChannel(e,t,r){this.set(e+"/"+t,r)}delete(e,t=this.state){const r=t;let n,o;if("string"==typeof e){const t=e.replace(/^\//,"");[n,...o]=t.split("/")}else[n,...o]=e;if(0===o.length)Array.isArray(r)&&parseInt(n)>=0?r.splice(parseInt(n),1):delete r[n];else{if(null==r[n])return;this.delete(o,r[n])}}get platform(){return this.state.LOCAL.platform}set platform(e){this.state.LOCAL.platform=e}get syncSelection(){return this.state.LOCAL.syncSelection}get mappings(){return this.state.LOCAL.mappings}}class k{constructor(){}static maxScreens=24;static maxAuxScreens=96;static maxInputs=256;static maxLayers=128;static maxScreenMemories=1e3;static maxMasterMemories=500;static maxMultiviewerMemories=50;static maxStills=192;static maxTimers=4;static presetTogglePath=["device","screenGroupList","items","S1","control","pp","copyMode"];static presetToggleValueValid=!1;static lockPrefixScreen="S";static lockPrefixAux="A";static macAddressPath="DEVICE/device/system/network/adapter/pp/macAddress";static xUpdatePath='"device","screenGroupList","control","pp","xUpdate"';static screenGroupPath=["device","screenAuxGroupList"];static auxGroupPath=["device","screenAuxGroupList"];static screenPath=["device","screenList"];static auxPath=["device","auxiliaryList"];static lastUsedMasterPresetPath=["device","masterPresetBank","status","lastUsed"];static screenMemoryPath=["device","presetBank","bankList"];static activeScreenMemoryIdPath=["presetId","status","pp","id"];static activeScreenMemoryIsModifiedPath=["presetId","status","pp","isNotModified"];static activeScreenMemoryValueValid=!0;static screenSizePath=["status","size","pp"];static propsSizePath=["position","pp"];static propsPositionPath=["position","pp"];static propsCroppingPath=["cropping","classic","pp"];static propsMaskPath=["cropping","mask","pp"];static screenLayerList=["layerList","items"];static subSyncselectionPat="system/network/websocketServer/clients";static multiviewerWidgetSelectionPath="REMOTE/live/multiviewers/widgetSelection/widgetIds";static multiviewerWidgetSelectionMap=e=>e;static multiviewerMemoryPath="DEVICE/device/monitoringBank/bankList"}class D extends k{constructor(){super()}static maxScreens=24;static maxAuxScreens=96;static maxInputs=32;static maxLayers=48;static maxStills=47;static presetTogglePath=["device","screenGroupList","items","S1","control","pp","copyMode"];static presetToggleValueValid=!1;static macAddressPath="DEVICE/device/system/network/adapter/pp/macAddress";static xUpdatePath='"device","screenGroupList","control","pp","xUpdate"';static screenGroupPath=["device","screenGroupList"];static auxGroupPath=["device","screenGroupList"];static screenPath=["device","screenList"];static auxPath=["device","screenList"];static subSyncselectionPat="system/network/websocketServer/clients";static multiviewerWidgetSelectionPath="REMOTE/live/multiviewers/widgetSelection/widgetIds"}class V extends k{constructor(){super()}static maxScreens=24;static maxAuxScreens=96;static maxInputs=256;static maxLayers=128;static presetTogglePath=["device","screenAuxGroupList","items","S1","control","pp","copyMode"];static presetToggleValueValid=!1;static macAddressPath="DEVICE/device/system/network/adapter/pp/macAddress";static xUpdatePath='"device","screenAuxGroupList","control","pp","xUpdate"';static screenGroupPath=["device","screenAuxGroupList"];static auxGroupPath=["device","screenAuxGroupList"];static screenPath=["device","screenList"];static auxPath=["device","auxiliaryList"];static subSyncselectionPat="system/network/websocketServer/clients";static multiviewerWidgetSelectionPath="REMOTE/live/multiviewers/widgetSelection/widgetIds"}class U extends k{constructor(){super()}static maxScreens=4;static maxAuxScreens=4;static maxInputs=16;static maxLayers=8;static maxScreenMemories=200;static maxMasterMemories=50;static maxMultiviewerMemories=20;static maxStills=50;static maxTimers=3;static presetTogglePath=["device","transition","screenList","items","1","control","pp","enablePresetToggle"];static presetToggleValueValid=!0;static lockPrefixScreen="SCREEN_";static lockPrefixAux="AUX_";static macAddressPath="DEVICE/device/system/network/adapter/pp/macAddress";static xUpdatePath='"device","preset","control","pp","xUpdate"';static screenGroupPath=["device","transition","screenList"];static auxGroupPath=["device","transition","auxiliaryScreenList"];static screenPath=["device","screenList"];static auxPath=["device","auxiliaryScreenList"];static lastUsedMasterPresetPath=["device","preset","masterBank","status","lastUsed"];static screenMemoryPath=["device","preset","bank","slotList"];static activeScreenMemoryIdPath=["status","pp","memoryId"];static activeScreenMemoryIsModifiedPath=["status","pp","isModified"];static activeScreenMemoryValueValid=!1;static screenSizePath=["canvas","status","size","pp"];static propsSizePath=["size","pp"];static propsPositionPath=["position","pp"];static propsCroppingPath=["crop","pp"];static propsMaskPath=["mask","pp"];static screenLayerList=["liveLayerList","items"];static subSyncselectionPat="system/network/websocketServer/clients";static multiviewerWidgetSelectionPath="REMOTE/live/multiviewer/widgetSelection/widgetKeys";static multiviewerWidgetSelectionMap=e=>({mocOutputLogicKey:"1",widgetKey:e});static multiviewerMemoryPath="DEVICE/device/multiviewer/bankList"}class G{instance;state;constants;constructor(e){this.instance=e,this.state=this.instance.state,this.constants=e.constants}choicesPreset=[{id:"pgm",label:"Program"},{id:"pvw",label:"Preview"}];choicesPresetLong=[{id:"PROGRAM",label:"Program"},{id:"PREVIEW",label:"Preview"}];choicesBackgroundSources=[{id:"NATIVE_1",label:"Background Set 1"},{id:"NATIVE_2",label:"Background Set 2"},{id:"NATIVE_3",label:"Background Set 3"},{id:"NATIVE_4",label:"Background Set 4"},{id:"NATIVE_5",label:"Background Set 5"},{id:"NATIVE_6",label:"Background Set 6"},{id:"NATIVE_7",label:"Background Set 7"},{id:"NATIVE_8",label:"Background Set 8"}];choicesBackgroundSourcesPlusNone=[{id:"NONE",label:"None / Color"},...this.choicesBackgroundSources];getScreenInfo(e){let t={id:"",platformId:"",platformLongId:"",prefix:"",numstr:"",number:NaN,isScreen:!1,isAux:!1,prefixlong:"",prefixverylong:"",prefixAux:"",prefixAuxLong:""};if(e.startsWith("S")){const r=e.replace(/\D/g,"");t={id:`S${r}`,platformId:`S${r}`,platformLongId:`S${r}`,prefix:"S",numstr:r,number:parseInt(r),isScreen:!0,isAux:!1,prefixlong:"screen",prefixverylong:"screen",prefixAux:"",prefixAuxLong:""}}else if(e.startsWith("A")){const r=e.replace(/\D/g,""),n=parseInt(r);t={id:`A${r}`,platformId:`A${r}`,platformLongId:`A${r}`,prefix:"A",numstr:n.toString(),number:n,isScreen:!1,isAux:!0,prefixlong:"auxScreen",prefixverylong:"auxiliaryScreen",prefixAux:"Aux",prefixAuxLong:"Auxiliary"}}return t}getScreensAuxArray(e=!1){return[...this.getScreensArray(e),...this.getAuxArray(e)]}getScreensArray(e=!1){return[{id:"S1",label:"(emulated)",index:"1"}]}getScreenChoices(){return this.getScreensArray().map((e=>({id:e.id,label:`S${e.index}${""===e.label?"":" - "+e.label}`})))}getAuxArray(e=!1){return[{id:"A1",label:"(emulated)",index:"1"}]}getAuxChoices(){return this.getAuxArray().map((e=>({id:e.id,label:`A${e.index}${""===e.label?"":" - "+e.label}`})))}getScreenAuxChoices(){return[...this.getScreensArray().map((e=>({id:e.id,label:`S${e.index}${""===e.label?"":" - "+e.label}`}))),...this.getAuxArray().map((e=>({id:e.id,label:`A${e.index}${""===e.label?"":" - "+e.label}`})))]}getPlatformScreenChoices(){return[]}getLiveInputArray(e){return[]}getLiveInputChoices(e){const t=[],r=this.getLiveInputArray(e);if(r?.length)for(const e of r)t.push({id:e.id,label:`Input ${e.index}${0===e.label.length?"":" - "+e.label}`});else{null==e&&(e="IN");for(let r=1;r<=8;r+=1)t.push({id:`${e}_${r.toString()}`,label:`Input ${r.toString()} (emulated)`})}return t}choicesForegroundImagesSource=[];getStillsArray(){const e="DEVICE/device/stillList/";return this.state.get(this.state.concat(e,"itemKeys"))?.filter((t=>this.state.get(this.state.concat(e,["items",t,"status","pp","isAvailable"]))&&this.state.get(this.state.concat(e,["items",t,"status","pp","isValid"])))).map((t=>({id:t,label:this.state.get(this.state.concat(e,["items",t,"control","pp","label"]))})))??[]}getSourceChoices(){return[{id:"NONE",label:"None"},{id:"COLOR",label:"Color"}]}getAuxSourceChoices(){return[{id:"NONE",label:"None"}]}getPlugChoices(e){const t={HDMI:"HDMI",SDI:"SDI",DISPLAY_PORT:"DisplayPort",ANALOG_HD15:"Analog HD15",OPTICAL_SFP:"Optical",DVI_D:"DVI-D",HDBASET:"HDbaseT",QUAD_SDI:"Quad SDI",NDI:"NDI"};return this.state.get(["DEVICE","device","inputList","items",e,"plugList","itemKeys"])?.filter((t=>this.state.get(["DEVICE","device","inputList","items",e,"plugList","items",t,"status","pp","isAvailable"]))).map((r=>{const n=this.state.get(["DEVICE","device","inputList","items",e,"plugList","items",r,"status","pp","type"]);return{id:r,label:"Plug "+r+" - "+t[n]}}))??[]}getMasterMemoryArray(){const e="DEVICE/device/masterPresetBank/bankList";return this.state.get(this.state.concat(e,"itemKeys"))?.filter((t=>this.state.get(this.state.concat(e,["items",t,"status","pp","isValid"])))).map((t=>({id:t,label:this.state.get(this.state.concat(e,["items",t,"control","pp","label"]))})))??[]}getMasterMemoryChoices(){return this.getMasterMemoryArray().map((e=>({id:e.id,label:`MM${e.id}${""===e.label?"":" - "+e.label}`})))}getScreenMemoryArray(){let e=this.constants.screenMemoryPath;return this.state.get(this.state.concat("DEVICE",e,"itemKeys"))?.filter((t=>this.state.get(this.state.concat("DEVICE",e,["items",t,"status","pp","isValid"])))).map((t=>({id:t,label:this.state.get(this.state.concat("DEVICE",e,["items",t,"control","pp","label"]))})))??[]}getScreenMemoryChoices(){return this.getScreenMemoryArray().map((e=>({id:e.id,label:`SM${e.id}${""===e.label?"":" - "+e.label}`})))}getAuxMemoryArray(){return[]}getAuxMemoryChoices(){return[]}getLayerMemoryArray(){return(this.state.get("DEVICE/device/layerBank/bankList/itemKeys")?.filter((e=>this.state.get(["DEVICE","device","layerBank","bankList","items",e,"status","pp","isValid"])))??[]).map((e=>({id:e,label:this.state.get(["DEVICE","device","layerBank","bankList","items",e,"control","pp","label"])})))}getLayerMemoryChoices(){return this.getLayerMemoryArray().map((e=>({id:e.id,label:`LM${e.id}${""===e.label?"":" - "+e.label}`})))}getMultiviewerMemoryArray(){const e=this.constants.multiviewerMemoryPath;return this.state.get(e+"/itemKeys")?.filter((t=>this.state.get(this.state.concat(e,["items",t,"status","pp","isValid"])))).map((t=>({id:t,label:this.state.get(this.state.concat(e,["items",t,"control","pp","label"]))})))??[]}getMultiviewerMemoryChoices(){return this.getMultiviewerMemoryArray().map((e=>({id:e.id,label:`VM${e.id}${""===e.label?"":" - "+e.label}`})))}getMultiviewerArray(){return this.state.get("DEVICE/device/monitoringList/itemKeys")?.filter((e=>1==this.state.get(["DEVICE","device","monitoringList","items",e,"status","pp","isEnabled"])))??["1"]}getMultiviewerChoices(){const e=[];for(const t of this.getMultiviewerArray()){const r=this.state.get(["DEVICE","device","monitoringList","items",t,"control","pp","label"]);e.push({id:t,label:`Multiviewer ${t}${""===r?"":" - "+r}`})}return e}getWidgetChoices(){const e=[];for(const t of this.getMultiviewerArray())for(const r of this.state.get(["DEVICE","device","monitoringList","items",t,"layout","widgetList","itemKeys"]))e.push({id:`${t}:${r}`,label:`Multiviewer ${t} Widget ${parseInt(r)+1}`});return e}getWidgetSourceChoices(){const e=[{id:"NONE",label:"None"}];return e.push(...this.getLiveInputChoices()),e.push(...this.getTimerChoices()),e}getLayersAsArray(e,t,r){const n=[];if("number"==typeof e){void 0!==t&&!0!==t||n.push({id:"NATIVE",label:"Background",longname:"BKG"});for(let t=1;t<=e;t+=1)n.push({id:`${t.toString()}`,label:`Layer ${t.toString()}`});return n}return n}getLayerChoices(e,t,r){return this.getLayersAsArray(e,t,r).map((e=>({id:e.id,label:e.label??e.longname??e.id})))??[]}getOutputArray(){return this.state.get("DEVICE/device/outputList/itemKeys")?.filter((e=>!0===this.state.get("DEVICE/device/outputList/items/"+e+"/status/pp/isAvailable"))).map((e=>({id:e,label:this.state.get("DEVICE/device/outputList/items/"+e+"/control/pp/label")})))??[]}getOutputChoices(){return this.getOutputArray().map((e=>({id:e.id,label:`Output ${e.id}${""===e.label?"":" - "+e.label}`})))}getAudioOutputsArray(e){return[]}getAudioOutputChoices(e){return[]}getAudioCustomBlockChoices(){return[]}getAudioInputChoices(e){return[]}getTimerArray(){const e=[],t=this.state.get("DEVICE/device/timerList/items")??{};for(const r of Object.keys(t))e.push({id:r,label:t[r].control.pp.label,index:r.replace(/^\w+_/,"")});return e}getTimerChoices(){return this.getTimerArray().map((e=>({id:e.id,label:`Timer ${e.index}${""===e.label?"":" - "+e.label}`})))}isLocked(e,t){t=t.replace(/.+m.*/i,"PROGRAM").replace(/.+w.*/i,"PREVIEW");let r=["LOCAL"];return this.instance.state.syncSelection&&(r=["REMOTE","live","screens"]),"all"===e?void 0===this.getChosenScreenAuxes("all").map((e=>this.getScreenInfo(e).platformLongId)).find((e=>!1===this.state.get([...r,"presetModeLock",t,e]))):this.state.get([...r,"presetModeLock",t,this.getScreenInfo(e).platformLongId])}getPresetSelection(e,t=!1){let r=e;return(void 0===e||e.match(/^sel$/i))&&(r=this.instance.state.syncSelection?this.state.get("REMOTE/live/screens/presetModeSelection/presetMode"):this.state.get("LOCAL/presetMode")),r&&r.match(/^pgm|program$/i)&&!t?"pgm":r&&r.match(/^pvw|preview$/i)&&!t?"pvw":r&&r.match(/^pgm|program$/i)&&t?"PROGRAM":r&&r.match(/^pvw|preview$/i)&&t||t?"PREVIEW":"pvw"}getPreset(e,t){if(null===e.match(/^S|A\d+$/))return"";if(null===t.match(/^A|B|PGM|PVW|SEL$/i))return"";let r;return"sel"===t.toLowerCase()&&(t=this.getPresetSelection()),r=t.match(/^A|B$/i)?t.toUpperCase():this.state.get(`LOCAL/screens/${e}/${t.toLowerCase()}/preset`),r}getPresetRev(e,t,r=!1){if(null===e.match(/^S|A\d+$/))return null;if(null===t.match(/^A|B$/i))return null;let n;return n=this.state.get(`LOCAL/screens/${e}/pgm/preset`)===t.toUpperCase()?r?"PROGRAM":"pgm":r?"PREVIEW":"pvw",n}getChosenScreens(e,t="S"){"string"==typeof e&&(e=[e]);let r=[];if(e.includes("all"))this.getScreensArray().forEach((e=>r.push(`${t}${e.index}`)));else if(e.includes("sel")){r=[...e],r.splice(r.indexOf("sel"),1);for(const e of this.getSelectedScreens())!1===r.includes(e)&&r.push(e)}else r=e;return r}getChosenAuxes(e){"string"==typeof e&&(e=[e]);let t=[];if(e.includes("all"))this.getAuxArray().forEach((e=>t.push("A"+e.index)));else if(e.includes("sel")){t=[...e],t.splice(t.indexOf("sel"),1);for(const e of this.getSelectedScreens())!1===t.includes(e)&&t.push(e)}else t=e;return t}getAuxBackgroundChoices(){return[]}getChosenScreensSupportedByScreenMemories=this.getChosenScreenAuxes;getChosenScreenAuxes(e){if(void 0===e)return[];"string"==typeof e&&(e=[e]);let t=[];if(e.includes("all"))t.push(...this.getChosenScreens("all")),t.push(...this.getChosenAuxes("all"));else if(e.includes("sel")){t=[...e],t.splice(t.indexOf("sel"),1);for(const e of this.getSelectedScreens())!1===t.includes(e)&&t.push(e)}else t=e;return t}getSelectedScreens(){let e="LOCAL/screenAuxSelection/keys";return this.instance.state.syncSelection&&(e="REMOTE/live/screens/screenAuxSelection/keys"),[...this.state.get(e)]}getSelectedLayers(){let e="LOCAL/layerIds";return this.instance.state.syncSelection&&(e="REMOTE/live/screens/layerSelection/layerIds"),this.state.get(e)}getMACaddress(){return this.state.get(this.constants.macAddressPath).map((e=>e.toString(16).padStart(2,"0"))).join(":")??""}getLinkedDevicesChoices(){return[{id:1,label:"1 (Leader 👑)"}]}getLayerPath(e){let t;return t="string"==typeof e?e:e.toString(),t.match(/top/i)?["layerList","items","48"]:t.match(/bkg|background|native/i)?["layerList","items","NATIVE"]:["layerList","items",t.replace(/\D/g,"")]}}class $ extends G{constructor(e){super(e),this.instance=e,this.state=this.instance.state,this.constants=e.constants}getScreensArray(e=!1){const t=[],r=this.state.get("DEVICE/device/screenList/items");return r?Object.keys(r).forEach((n=>{n.startsWith("S")&&(e||"DISABLED"!=r[n].status.pp.mode)&&t.push({id:n,label:r[n].control.pp.label,index:n.slice(1)})})):(t.push({id:"S1",label:"(emulated)",index:"1"}),t.push({id:"S2",label:"(emulated)",index:"2"})),t}getAuxArray(e=!1){const t=[],r=this.state.get("DEVICE/device/screenList/itemKeys").filter((e=>"A"===e.charAt(0)));return r?r.forEach((r=>{(e||"DISABLED"!=this.state.get("DEVICE/device/screenList/items/"+r+"/status/pp/mode"))&&t.push({id:r,label:this.state.get("DEVICE/device/screenList/items/"+r+"/control/pp/label"),index:r.slice(1)})})):t.push({id:"A1",label:"(emulated)",index:"1"},{id:"A2",label:"(emulated)",index:"2"}),t}getPlatformScreenChoices(){return[...this.getScreensArray().map((e=>({id:e.id,label:`S${e.index}${""===e.label?"":" - "+e.label}`}))),...this.getAuxArray().map((e=>({id:e.id,label:`A${e.index}${""===e.label?"":" - "+e.label}`})))]}getLiveInputArray(e){const t=[];null==e&&(e="IN");const r=this.state.get("DEVICE/device/inputList/itemKeys");return r&&r.forEach((r=>{this.state.get("DEVICE/device/inputList/items/"+r+"/status/pp/isAvailable")&&(this.state.get("LOCAL/config/showDisabled")||this.state.get("DEVICE/device/inputList/items/"+r+"/status/pp/isEnabled"))&&t.push({id:r.replace(/^\w+_/,e+"_"),label:this.state.get("DEVICE/device/inputList/items/"+r+"/control/pp/label"),index:r.replace(/^\w+_/,"")})})),t}getAuxBackgroundChoices(){return[]}getSourceChoices(){const e=[{id:"NONE",label:"None"},{id:"COLOR",label:"Color"}];return e.push(...this.getLiveInputChoices("LIVE")),e.push(...this.getStillsArray().map((e=>({id:`STILL_${e.id}`,label:`Image ${e.id}${""===e.label?"":" - "+e.label}`})))),e}getAuxSourceChoices(){const e=[{id:"NONE",label:"None"}];return e.push(...this.getLiveInputChoices("LIVE")),e.push(...this.getStillsArray().map((e=>({id:`STILL_${e.id}`,label:`Image ${e.id}${""===e.label?"":" - "+e.label}`})))),e.push(...this.getScreensArray().filter((e=>"SPLIT"===this.state.get("DEVICE/device/screenList/items/"+e.id+"/status/pp/mixingMode"))).map((e=>({id:`SCREEN_${e.index}`,label:`Screen ${e.index} PGM${""===e.label?"":" - "+e.label}`})))),e}getWidgetSourceChoices(){const e=[{id:"NONE",label:"None"}];for(const t of this.getScreensArray())e.push({id:"PROGRAM_S"+t.index,label:`Screen ${t.index} PGM${""===t.label?"":" - "+t.label}`}),e.push({id:"PREVIEW_S"+t.index,label:`Screen ${t.index} PVW${""===t.label?"":" - "+t.label}`});for(const t of this.getAuxArray())e.push({id:t.id,label:`Aux ${t.index} PGM${""===t.label?"":" - "+t.label}`});return e.push(...this.getLiveInputChoices()),e.push(...this.getTimerChoices()),e.push(...this.getStillsArray().map((e=>({id:`STILL_${e.id}`,label:`Image ${e.id}${""===e.label?"":" - "+e.label}`})))),e}getLayersAsArray(e,t){const r=[];if("number"==typeof e){void 0!==t&&!0!==t||r.push({id:"NATIVE",label:"Background",longname:"BKG"});for(let t=1;t<=e;t+=1)r.push({id:`${t}`,label:`Layer ${t}`,longname:`L${t}`});return r}if("string"==typeof e){void 0!==t&&!0!==t||r.push({id:"NATIVE",label:"Background",longname:"BKG"});let n=this.state.get(`DEVICE/device/screenList/items/${e}/status/pp/layerCount`)??1;for(let e=1;e<=n;e+=1)r.push({id:`${e}`,label:`Layer ${e}`,longname:`L${e}`});return r}return r}getAudioOutputsArray(e){const t=[],r=this.state.get("DEVICE/device/audio/control/txList/itemKeys")??[];for(const e of r){const r=e.split("_")[1];e.startsWith("OUTPUT")&&this.state.get("DEVICE/device/outputList/items/"+r+"/status/pp/isAvailable")&&t.push({id:e,label:this.state.get("DEVICE/device/outputList/items/"+r+"/control/pp/label"),index:r,longname:"Output"}),e.startsWith("DANTE")&&this.state.get("DEVICE/device/system/dante/channelList/items/"+e+"_CHANNEL_8/status/pp/isAvailable")&&t.push({id:e,label:"",index:r,longname:"Dante"}),e.startsWith("MVW")&&this.state.get("DEVICE/device/monitoringList/items/"+r+"/status/pp/isAvailable")&&t.push({id:e,label:this.state.get("DEVICE/device/monitoringList/items/"+r+"/control/pp/label"),index:r,longname:"Multiviewer"})}return t}getAudioOutputChoices(){const e=[];for(const t of this.getAudioOutputsArray()){const r=this.state.get(`DEVICE/device/audio/control/txList/items/${t.id}/channelList/itemKeys`)??[],[n,o]=t.id.split("_");for(const s of r){let r="",i="";"OUTPUT"===n?(i=this.state.get("DEVICE/device/outputList/items/"+o+"/control/pp/label"),r=`Output ${o} Channel ${s}${""===i?"":" - "+i}`):"DANTE"===n?(i=this.state.get("DEVICE/device/system/dante/channelList/items/"+t+"_CHANNEL_"+s+"/transmitter/status/pp/label"),r=`Dante Channel ${8*(parseInt(o)-1)+parseInt(s)}${""===i?"":" - "+i}`):"MVW"===n&&(i=this.state.get("DEVICE/device/monitoringList/items/"+o+"/control/pp/label"),r=`Multiviewer ${o} Channel ${s}${""===i?"":" - "+i}`),e.push({id:t.id+":"+s,label:r})}}return e}getAudioInputChoices(){const e=[{id:"NONE",label:"No Source"}],t=this.state.get("DEVICE/device/audio/control/rxList/itemKeys")??[];for(const r of t){const[t,n,o,s]=r.split("_");if("INPUT"===t&&this.state.get("DEVICE/device/inputList/items/IN_"+n+"/status/pp/isAvailable")){const t=this.state.get("DEVICE/device/inputList/items/IN_"+n+"/control/pp/label");e.push({id:r,label:`Input ${n} Channel ${s}${""===t?"":" - "+t}`})}else if("DANTE"===t&&this.state.get("DEVICE/device/system/dante/channelList/items/"+r+"/status/pp/isAvailable")){const t=this.state.get("DEVICE/device/system/dante/channelList/items/"+r+"/source/status/pp/label");e.push({id:r,label:`Dante Channel ${8*(parseInt(n)-1)+parseInt(s)}${""===t?"":" - "+t}`})}}return e}}class B extends G{constructor(e){super(e),this.instance=e,this.state=this.instance.state,this.constants=e.constants}getScreensArray(e=!1){const t=[],r=this.state.get("DEVICE/device/screenList/items");return r?Object.keys(r).forEach((n=>{(e||"DISABLED"!=r[n].status.pp.mode)&&t.push({id:n,label:r[n].control.pp.label,index:n.slice(1)})})):(t.push({id:"S1",label:"(emulated)",index:"1"}),t.push({id:"S2",label:"(emulated)",index:"2"})),t}getAuxArray(e=!1){const t=[],r=this.state.get("DEVICE/device/auxiliaryList/itemKeys");return r?r.forEach((r=>{(e||"DISABLED"!=this.state.get("DEVICE/device/auxiliaryList/items/"+r+"/status/pp/mode"))&&t.push({id:r,label:this.state.get("DEVICE/device/auxiliaryList/items/"+r+"/control/pp/label"),index:r.slice(1)})})):t.push({id:"A1",label:"(emulated)",index:"1"},{id:"A2",label:"(emulated)",index:"2"}),t}getPlatformScreenChoices(){return[...this.getScreensArray().map((e=>({id:e.id,label:`S${e.index}${""===e.label?"":" - "+e.label}`}))),...this.getAuxArray().map((e=>({id:e.id,label:`A${e.index}${""===e.label?"":" - "+e.label}`})))]}getLiveInputArray(e){const t=[];null==e&&(e="IN");const r=this.state.get("DEVICE/device/inputList/itemKeys");return r&&r.forEach((r=>{this.state.get("DEVICE/device/inputList/items/"+r+"/status/pp/isAvailable")&&(this.state.get("LOCAL/config/showDisabled")||this.state.get("DEVICE/device/inputList/items/"+r+"/status/pp/isEnabled"))&&t.push({id:r.replace(/^\w+_/,e+"_"),label:this.state.get("DEVICE/device/inputList/items/"+r+"/control/pp/label"),index:r.replace(/^\w+_/,"")})})),t}getAuxBackgroundChoices(){return[]}getSourceChoices(){const e=[{id:"NONE",label:"None"},{id:"COLOR",label:"Color"}];return e.push(...this.getLiveInputChoices("LIVE")),e.push(...this.getStillsArray().map((e=>({id:`STILL_${e.id}`,label:`Image ${e.id}${""===e.label?"":" - "+e.label}`})))),e}getAuxSourceChoices(){const e=[{id:"NONE",label:"None"}];return e.push(...this.getLiveInputChoices("LIVE")),e.push(...this.getStillsArray().map((e=>({id:`STILL_${e.id}`,label:`Image ${e.id}${""===e.label?"":" - "+e.label}`})))),e.push(...this.getScreensArray().filter((e=>"SPLIT"===this.state.get("DEVICE/device/screenList/items/"+e.id+"/status/pp/mixingMode"))).map((e=>({id:`SCREEN_${e.index}`,label:`Screen ${e.index} PGM${""===e.label?"":" - "+e.label}`})))),e}getWidgetSourceChoices(){const e=[{id:"NONE",label:"None"}];for(const t of this.getScreensArray())e.push({id:"PROGRAM_S"+t.index,label:`Screen ${t.index} PGM${""===t.label?"":" - "+t.label}`}),e.push({id:"PREVIEW_S"+t.index,label:`Screen ${t.index} PVW${""===t.label?"":" - "+t.label}`});for(const t of this.getAuxArray())e.push({id:t.id,label:`Aux ${t.index} PGM${""===t.label?"":" - "+t.label}`});return e.push(...this.getLiveInputChoices()),e.push(...this.getTimerChoices()),e.push(...this.getStillsArray().map((e=>({id:`STILL_${e.id}`,label:`Image ${e.id}${""===e.label?"":" - "+e.label}`})))),e}getLayersAsArray(e,t){const r=[];if("number"==typeof e){void 0!==t&&!0!==t||r.push({id:"NATIVE",label:"Background",longname:"BKG"});for(let t=1;t<=e;t+=1)r.push({id:`${t}`,label:`Layer ${t}`,longname:`L${t}`});return r}if("string"==typeof e){void 0!==t&&!0!==t||r.push({id:"NATIVE",label:"Background",longname:"BKG"});const n=this.getScreenInfo(e),o=n.isAux?"auxiliaryList":"screenList";let s=this.state.get(`DEVICE/device/${o}/items/${n.id}/status/pp/layerCount`)??1;for(let e=1;e<=s;e+=1)r.push({id:`${e}`,label:`Layer ${e}`,longname:`L${e}`});return r}return r}getAudioOutputsArray(e){"number"!=typeof e&&(e=1);const t=[],r=this.state.get(`DEVICE/device/audio/control/deviceList/items/${e}/txList/itemKeys`)??[];for(const n of r){const r=n.split("_")[1];n.startsWith("OUTPUT")&&this.state.get(`DEVICE/device/outputList/items/${24*(e-1)+Number(r)}/status/pp/isAvailable`)&&t.push({id:n,label:this.state.get(`DEVICE/device/outputList/items/${24*(e-1)+Number(r)}/control/pp/label`),index:r,longname:"Output"}),n.startsWith("DANTE")&&this.state.get(`DEVICE/device/system/deviceList/items/${e}/dante/channelList/items/${n}_CHANNEL_8/status/pp/isAvailable`)&&t.push({id:n,label:this.state.get(`DEVICE/device/system/deviceList/items/${e}/dante/channelList/items/${n}_CHANNEL_1/transmitter/status/pp/label`),index:r,longname:"Dante"}),n.startsWith("MVW")&&this.state.get(`DEVICE/device/monitoringList/items/${2*(e-1)+Number(r)}/status/pp/isAvailable`)&&t.push({id:n,label:this.state.get(`DEVICE/device/monitoringList/items/${2*(e-1)+Number(r)}/control/pp/label`),index:r,longname:"Multiviewer"})}return t}getAudioOutputChoices(e){"number"!=typeof e&&(e=1);const t=[];for(const r of this.getAudioOutputsArray()){const n=this.state.get(`DEVICE/device/audio/control/deviceList/items/${e}/txList/items/${r.id}/channelList/itemKeys`)??[],[o,s]=r.id.split("_");for(const i of n){let n="";if("OUTPUT"===o)n=`Output ${s} Channel ${i}${""===r.label?"":" - "+r.label}`;else if("DANTE"===o){const t=this.state.get(`DEVICE/device/system/deviceList/items/${e}/dante/channelList/items/${r.id}_CHANNEL_${i}/transmitter/status/pp/label`);n=`Dante Channel ${8*(parseInt(s)-1)+parseInt(i)}${""===t?"":" - "+t}`}else"MVW"===o&&(n=`Multiviewer ${s} Channel ${i}${""===r.label?"":" - "+r.label}`);t.push({id:r.id+":"+i,label:n})}}return t}getAudioInputChoices(e){"number"!=typeof e&&(e=1);const t=[{id:"NONE",label:"No Source"}],r=this.state.get(`DEVICE/device/audio/control/deviceList/items/${e}/rxList/itemKeys`)??[];for(const n of r){const[r,o,s,i]=n.split("_");if("INPUT"===r&&this.state.get("DEVICE/device/inputList/items/IN_"+o+"/status/pp/isAvailable")){const r=this.state.get(`DEVICE/device/inputList/items/IN_${64*(e-1)+Number(o)}/control/pp/label`);t.push({id:n,label:`Input ${o} Channel ${i}${""===r?"":" - "+r}`})}else if("DANTE"===r&&this.state.get(`DEVICE/device/system/deviceList/items/${e}/dante/channelList/items/${n}/status/pp/isAvailable`)){const r=this.state.get(`DEVICE/device/system/deviceList/items/${e}/dante/channelList/items/${n}/source/status/pp/label`);t.push({id:n,label:`Dante Channel ${8*(Number(o)-1)+Number(i)}${""===r?"":" - "+r}`})}}return t}getSelectedLayers(){let e=[];return e=this.instance.state.syncSelection?this.state.get("REMOTE/live/screens/layerSelection/layerIds").map((e=>{if("SCREEN_LAYER_ID"===e.type)return{screenAuxKey:e.screenKey,layerKey:e.screenLayerKey};if("AUX_LAYER_ID"===e.type)return{screenAuxKey:e.auxKey,layerKey:e.auxLayerKey};{const t=Object.keys(e).find((e=>e.match(/(?<!Layer)Key/))),r=Object.keys(e).find((e=>e.match(/LayerKey/)));return t&&r?{screenAuxKey:e[t],layerKey:e[r]}:{}}})):this.state.get("LOCAL/layerIds"),e}getLinkedDevicesChoices(){const e=[{id:1,label:"1 (Leader 👑)"}];return e.push(...this.instance.state.get("LINK/followers")??[].map(((e,t)=>[{id:t+2,label:(t+2).toString()}]))),e}}class F extends G{constructor(e){super(e),this.instance=e,this.state=this.instance.state,this.constants=e.constants}getScreenInfo(e){let t={id:"",platformId:"",platformLongId:"",prefix:"",numstr:"",number:NaN,isScreen:!1,isAux:!1,prefixlong:"",prefixverylong:"",prefixAux:"",prefixAuxLong:""};if(e.startsWith("S")){const r=e.replace(/\D/g,"");t={id:`S${r}`,platformId:r,platformLongId:`SCREEN_${r}`,prefix:"S",numstr:r,number:parseInt(r),isScreen:!0,isAux:!1,prefixlong:"screen",prefixverylong:"screen",prefixAux:"",prefixAuxLong:""}}else if(e.startsWith("A")){const r=e.replace(/\D/g,"");t={id:`A${r}`,platformId:r,platformLongId:`AUX_${r}`,prefix:"A",numstr:r,number:parseInt(r),isScreen:!1,isAux:!0,prefixlong:"auxScreen",prefixverylong:"auxiliaryScreen",prefixAux:"Aux",prefixAuxLong:"Auxiliary"}}return t}getScreensArray(e=!1){const t=[],r=this.state.get("DEVICE/device/screenList/itemKeys");if(r)for(const n of r)(e||!0===this.state.get("DEVICE/device/preconfig/status/stateList/items/CURRENT/screenList/items/"+n+"/pp/enable"))&&t.push({id:"S"+n,label:this.state.get("DEVICE/device/screenList/items/"+n+"/control/pp/label"),index:n});else t.push({id:"S1",label:"(emulated)",index:"1"});return t}getAuxArray(e=!1){const t=[],r=this.state.get("DEVICE/device/auxiliaryScreenList/itemKeys");if(r)for(const n of r)(e||"DISABLE"!=this.state.get("DEVICE/device/preconfig/status/stateList/items/CURRENT/auxiliaryScreenList/items/"+n+"/pp/mode"))&&t.push({id:"A"+n,label:this.state.get("DEVICE/device/auxiliaryScreenList/items/"+n+"/control/pp/label"),index:n.replace(/\D/g,"")});else t.push({id:"A1",label:"(emulated)",index:"1"});return t}getPlatformScreenChoices(){return[...this.getScreensArray().map((e=>({id:e.id,label:`S${e.index}${""===e.label?"":" - "+e.label}`})))]}getLiveInputArray(e){const t=[];null==e&&(e="INPUT");const r=this.state.get("DEVICE/device/inputList/itemKeys");return r&&r.forEach((r=>{if(this.state.get("DEVICE/device/inputList/items/"+r+"/status/pp/isAvailable")){const n=this.state.get("DEVICE/device/inputList/items/"+r+"/control/pp/plug");t.push({id:r.replace(/^\w+_/,e+"_"),label:this.state.get("DEVICE/device/inputList/items/"+r+"/plugList/items/"+n+"/control/pp/label"),index:r.replace(/^\w+_/,"")})}})),t}getLiveInputChoices(e){const t=[],r=this.getLiveInputArray(e);if(r?.length)for(const e of r)t.push({id:e.id,label:`Input ${e.index}${0===e.label.length?"":" - "+e.label}`});else{null==e&&(e="INPUT");for(let r=1;r<=8;r+=1)t.push({id:`${e}_${r.toString()}`,label:`Input ${r.toString()} (emulated)`})}return t}getAuxBackgroundChoices(){return[{id:"NONE",label:"None"},...this.getLiveInputChoices("INPUT"),...this.getScreensArray().map((e=>({id:"PROGRAM_"+e.index,label:e.id+" PGM"+(""===e.label?"":" - "+e.label)})))]}choicesForegroundImagesSource=[{id:"NONE",label:"None"},{id:"TOP_1",label:"Foreground Image 1"},{id:"TOP_2",label:"Foreground Image 2"},{id:"TOP_3",label:"Foreground Image 3"},{id:"TOP_4",label:"Foreground Image 4"}];getSourceChoices(){const e=[{id:"NONE",label:"None"},{id:"COLOR",label:"Color"}];return e.push(...this.getLiveInputChoices("INPUT")),e}getAuxSourceChoices(){const e=[{id:"NONE",label:"None"}];return e.push(...this.getLiveInputChoices("INPUT")),e}getMasterMemoryArray(){const e="DEVICE/device/preset/masterBank/slotList";return this.state.get(this.state.concat(e,"itemKeys"))?.filter((t=>this.state.get(this.state.concat(e,["items",t,"status","pp","isValid"])))).map((t=>({id:t,label:this.state.get(this.state.concat(e,["items",t,"control","pp","label"]))})))??[]}getAuxMemoryArray(){const e="DEVICE/device/preset/auxBank/slotList";return this.state.get(this.state.concat(e,"itemKeys"))?.filter((t=>this.state.get(this.state.concat(e,["items",t,"status","pp","isValid"])))).map((t=>({id:t,label:this.state.get(this.state.concat(e,["items",t,"control","pp","label"]))})))??[]}getAuxMemoryChoices(){return this.getAuxMemoryArray().map((e=>({id:e.id,label:`AM${e.id}${""===e.label?"":" - "+e.label}`})))}getMultiviewerArray(){return["1"]}getWidgetChoices(){return this.state.get("DEVICE/device/multiviewer/status/pp/widgetValidity").map((e=>({id:"1:"+e,label:`Widget ${parseInt(e)}`})))}getWidgetSourceChoices(){const e=[{id:"NONE",label:"None"}];for(const t of this.getScreensArray())e.push({id:"SCREEN_PRGM_"+t.index,label:`Screen ${t.index} PGM${""===t.label?"":" - "+t.label}`}),e.push({id:"SCREEN_PRW_"+t.index,label:`Screen ${t.index} PVW${""===t.label?"":" - "+t.label}`});return e.push(...this.getLiveInputChoices()),e.push(...this.getTimerChoices()),e}getLayersAsArray(e,t,r){const n=[];if("number"==typeof e){void 0!==t&&!0!==t||n.push({id:"NATIVE",label:"Background",longname:"BKG"});for(let t=1;t<=e;t+=1)n.push({id:`${t}`,label:`Layer ${t}`,longname:`L${t}`});return!1!==r&&(void 0===t||!0===t&&void 0===r)&&n.push({id:"TOP",label:"Foreground",longname:"TOP"}),n}if("string"==typeof e&&(e.startsWith("A")&&n.push({id:"BKG",label:"Background Layer",longname:"BKG"}),e.startsWith("S"))){const r=this.state.get(`DEVICE/device/preconfig/status/stateList/items/CURRENT/screenList/items/${e.replace(/\D/g,"")}/pp/layerCount`)??1;void 0!==t&&!0!==t||n.push({id:"NATIVE",label:"Background Layer",longname:"BKG"});for(let e=1;e<=r;e+=1)n.push({id:`${e}`,label:`Layer ${e}`,longname:`L${e}`});void 0!==t&&!0!==t||n.push({id:"TOP",label:"Foreground Layer",longname:"TOP"})}return n}getAudioOutputsArray(e){const t=[],r=this.state.get("DEVICE/device/audio/outputList/itemKeys")??[];for(const e of r)this.state.get("DEVICE/device/audio/outputList/items/"+e+"/status/pp/isAvailable")&&t.push({id:e,label:""});return t}getAudioOutputChoices(){const e=[];for(const t of this.getAudioOutputsArray()){const r=/\d*$/.exec(t.id);let n="0";null!==r&&(n=r[0]);for(let r=1;r<=8;r+=1){let o="",s="";t.id.startsWith("VIDEO_OUT")?(s=this.state.get("DEVICE/device/outputList/items/"+n+"/control/pp/label"),o=`Video Output ${n} Channel ${r}${""===s?"":" - "+s}`):t.id.startsWith("DANTE_CH")?(s=this.state.get("DEVICE/device/audio/dante/channelList/items/"+(parseInt(n)-8+r)+"/transmitter/status/pp/label"),o=`Dante Channel ${parseInt(n)-8+r}${""===s?"":" - "+s}`):t.id.startsWith("ANALOG")?o=`Analog Audio Output ${n} Channel ${r}`:t.id.startsWith("VIDEO_MULTIVIEWER")?o=`Multiviewer Output Channel ${r}`:t.id.startsWith("VIDEO_MONITORING")&&(o=`Monitoring Output Channel ${r}`),e.push({id:t.id+":"+r,label:o})}}return e}getAudioCustomBlockChoices(){const e=[];for(let t=1;t<=10;t+=1)for(let r=1;r<=8;r+=1)e.push({id:"CUSTOM_"+t.toString()+":"+r.toString(),label:"Custom "+t.toString()+" Channel "+r.toString()});return e}getAudioInputChoices(){const e=[{id:"NONE",label:"No Source"}];for(const t of this.state.get("DEVICE/device/audio/inputList/itemKeys")??[]){let r="",n="",o="",s=0;const i="";if(t.match(/^IN\d+_ACTIVE_PLUG_EMBEDDED$/))r="Input ",n=t.replace(/\D/g,""),o="";else if(t.match(/^IN\d+_\w+_EMBEDDED$/)){const e=t.match(/^IN(\d+)_(\w+)_EMBEDDED$/);r="Input ",n=e[1],o=e[2]}else t.match(/^IN_DANTE_CH/)?(r="Dante",s=parseInt(t.replace(/^\D+/,""))-1):t.match(/^IN_ANALOG/)?(r="Line Input ",n=t.replace(/[^0-9]/g,"")):t.match(/^IN_MEDIA_PLAYER/)&&(r="Media Player");if(this.state.get("DEVICE/device/audio/inputList/items/"+t+"/status/pp/isAvailable"))for(const a of this.state.get("DEVICE/device/audio/inputList/items/"+t+"/channelList/itemKeys"))this.state.get("DEVICE/device/audio/inputList/items/"+t+"/channelList/items/"+a+"/status/pp/isAvailable")&&("Dante"===r?e.push({id:`IN_DANTE_CH${s+parseInt(a)}`,label:`Dante Channel ${s+parseInt(a)} (${s+1}-${s+8} / ${a})`}):e.push({id:t+"_CH"+a,label:`${r}${n}${""===o?"":" "+o} Channel ${s+parseInt(a)}${""===i?"":" - "+i}`}))}return e}getPreset(e,t){if(null===e.match(/^S|A\d+$/))return"";if(null===t.match(/^UP|DOWN|PGM|PVW|SEL$/i))return"";let r;return"sel"===t.toLowerCase()&&(t=this.getPresetSelection()),r=t.match(/^UP|DOWN$/i)?t.toUpperCase():this.state.get(`LOCAL/screens/${e}/${t.toLowerCase()}/preset`),r}getPresetRev(e,t,r=!1){if(null===e.match(/^S|A\d+$/))return null;if(null===t.match(/^up|down$/i))return null;let n;return n=this.state.get(`LOCAL/screens/${e}/pgm/preset`)===t.toUpperCase()?r?"PROGRAM":"pgm":r?"PREVIEW":"pvw",n}getLayerPath(e){let t;return t="string"==typeof e?e:e.toString(),t.match(/top/i)?["top"]:t.match(/bkg|background|native/i)?["background"]:["liveLayerList","items",t.replace(/\D/g,"")]}getSelectedLayers(){return this.instance.state.syncSelection?this.state.get("REMOTE/live/screens/layerSelection/layerIds").map((e=>({screenAuxKey:e.screenAuxKey.replace(/CREEN_|UX_/,""),layerKey:e.layerKey.replace(/^LIVE_/,"").replace("BKG","NATIVE")}))):this.state.get("LOCAL/layerIds")}getSelectedScreens(){return this.instance.state.syncSelection?[...this.state.get("REMOTE/live/screens/screenAuxSelection/keys")].map((e=>e.replace(/CREEN_|UX_/,""))):[...this.state.get("LOCAL/screenAuxSelection/keys")]}}var j=new Map;function H(e){return new Function("context","tempVars","const sandbox = $nxCompileToSandbox(context, tempVars)\n    try { with (sandbox) { return "+e+" } } catch (err) {\n      if (!(err instanceof TypeError)) throw err\n    }\n    $nxClearSandbox()")}new Map;var W=/(?:[^\|]|\|\|)+/g,X=/\S+/g,Y=new Map;function K(e){return e(this)}new Map;var Z,z,J={has:ee},Q={has:ee,get:function(e,t){return t in Z?Z[t]:e[t]}},q=new Set;function ee(e,t){return!q.has(t)||t in e}"undefined"!=typeof window?z=window:"undefined"!=typeof global?z=global:"undefined"!=typeof self&&(z=self),z.$nxCompileToSandbox=function(e,t){return t?(Z=t,new Proxy(e,Q)):new Proxy(e,J)},z.$nxClearSandbox=function(){Z=void 0};const te=e=>{let t=0,r=0,n=0,o=1,s=e.match(/(?:^|\D)(-?)(\d|1\d|2[0-3])\D(\d|[0-5]\d)\D(\d|[0-5]\d)(?:\D|$)/);return s?(o="-"===s[1]?-1:1,t=parseInt(s[2]),r=parseInt(s[3]),n=parseInt(s[4]),(3600*t+60*r+n)*o):(s=e.match(/(?:^|\D)(-?)(\d{0,3})\D(\d|[0-5]\d)(?:\D|$)/),s?(o="-"===s[1]?-1:1,r=parseInt(s[2]),n=parseInt(s[3]),(3600*t+60*r+n)*o):(s=e.match(/(?:^|\D)(-?)(\d{0,5})(?:\D|$)/),s?(o="-"===s[1]?-1:1,n=parseInt(s[2]),(3600*t+60*r+n)*o):0))},re=e=>Math.floor(e/600).toString().padStart(2,"0")+":"+(e%600/10).toFixed(2).padStart(5,"0");class ne{instance;state;connection;config;choices;constants;screens;actionsToUse=["deviceScreenMemory","deviceAuxMemory","deviceMasterMemory","deviceMultiviewerMemory","deviceLayerMemory","deviceTakeScreen","deviceCutScreen","deviceTbar","deviceTakeTime","deviceSelectSource","deviceInputKeying","deviceInputFreeze","deviceLayerFreeze","deviceScreenFreeze","devicePositionSize","deviceCopyProgram","devicePresetToggle","remoteMultiviewerSelectWidget","deviceMultiviewerSource","selectScreen","lockScreen","selectPreset","selectLayer","remoteSync","deviceStreamControl","deviceStreamAudioMute","deviceAudioRouteBlock_livepremier","deviceAudioRouteBlock_midra","deviceAudioRouteChannels_livepremier","deviceAudioRouteChannels_midra","deviceTimerSetup_livepremier","deviceTimerSetup_midra","deviceTimerAdjust","deviceTimerTransport","deviceTestpatterns_livepremier","deviceTestpatterns_midra","cstawjcmd","cstawjgetcmd","devicePower_livepremier","devicePower_midra"];constructor(e){this.instance=e,this.init()}init(){this.state=this.instance.state,this.connection=this.instance.connection,this.config=this.instance.config,this.choices=this.instance.choices,this.constants=this.instance.constants,this.screens=this.choices.getScreensAuxArray()}get allActions(){return Object.fromEntries(this.actionsToUse.map((e=>[e,this[e]])))}get deviceScreenMemory(){return{name:"Recall Screen Memory",options:[{id:"screens",type:"multidropdown",label:"Screen",choices:[{id:"sel",label:"Selected"}],default:["sel"]},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"sel",label:"Selected"},...this.choices.choicesPreset],default:"sel"},{id:"memory",type:"dropdown",label:"Screen Memory",choices:this.choices.getScreenMemoryChoices(),default:this.choices.getScreenMemoryChoices()[0]?.id??""},{id:"selectScreens",type:"checkbox",label:"Select screens after load",default:!0}],callback:()=>{}}}get deviceLayerMemory(){return{name:"Recall Layer Memory",options:[{id:"method",type:"dropdown",label:"Method",choices:[{id:"spec",label:"Use Specified Layers"},{id:"sel",label:"Use Selected Layers"}],default:"spec"},{id:"screen",type:"multidropdown",label:"Screen / Aux",choices:this.choices.getScreenAuxChoices(),default:[this.choices.getScreenAuxChoices()[0]?.id],isVisible:e=>"spec"===e.method},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"sel",label:"Selected"},...this.choices.choicesPreset],default:"pvw",isVisible:e=>"spec"===e.method},{id:"layer",type:"multidropdown",label:"Layer",choices:this.choices.getLayerChoices(this.constants.maxLayers,!0),default:["1"],isVisible:e=>"spec"===e.method},{id:"memory",type:"dropdown",label:"Layer Memory",choices:this.choices.getLayerMemoryChoices(),default:this.choices.getLayerMemoryChoices()[0]?.id}],callback:e=>{let t,r=[];if("sel"===e.options.method)r=this.choices.getSelectedLayers()??[],t=this.choices.getPresetSelection("sel",!0);else{for(const t of e.options.screen)for(const n of e.options.layer)r.push({screenAuxKey:t,layerKey:n});t=this.choices.getPresetSelection(e.options.preset,!0)}for(const n of r)this.choices.isLocked(n.screenAuxKey,t)||this.connection.sendWSmessage(["device","layerBank","control","load","slotList","items",e.options.memory,"A"===n.screenAuxKey.charAt(0)?this.constants.auxPath[1]:this.constants.screenPath[1],"items",n.screenAuxKey,"presetList","items",t,"layerList","items",n.layerKey,"pp","xRequest"],!1,!0);this.instance.sendXupdate()}}}get deviceAuxMemory(){return{name:"Recall Aux Memory",options:[{id:"screens",type:"multidropdown",label:"Auxscreen",choices:[{id:"sel",label:"Selected"},...this.choices.getAuxChoices()],default:["sel"]},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"sel",label:"Selected"},...this.choices.choicesPreset],default:"sel"},{id:"memory",type:"dropdown",label:"Aux Memory",choices:this.choices.getAuxMemoryChoices(),default:this.choices.getAuxMemoryChoices()[0]?.id??""},{id:"selectScreens",type:"checkbox",label:"Select screens after load",default:!0}],callback:()=>{}}}get deviceMasterMemory(){return{name:"Recall Master Memory",options:[{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"sel",label:"Selected"},...this.choices.choicesPreset],default:"sel"},{id:"memory",type:"dropdown",label:"Master Memory",choices:this.choices.getMasterMemoryChoices(),default:this.choices.getMasterMemoryChoices()[0]?.id},{id:"selectScreens",type:"checkbox",label:"Select screens after load",default:!0}]}}get deviceMultiviewerMemory(){const e={name:"Recall Multiviewer Memory",options:[{id:"memory",type:"dropdown",label:"Memory",choices:this.choices.getMultiviewerMemoryChoices(),default:this.choices.getMultiviewerMemoryChoices()[0]?.id}],callback:e=>{for(const t of e.options.multiviewer){const r=["device","monitoringBank","control","load","slotList","items",e.options.memory,"outputList","items",t,"pp","xRequest"];this.connection.sendWSmessage(r,!1,!0)}}};return this.choices.getMultiviewerArray().length>1?e.options.push({id:"multiviewer",type:"multidropdown",label:"Multiviewer",choices:this.choices.getMultiviewerChoices(),default:[this.choices.getMultiviewerArray()?.[0]]}):e.options.push({id:"multiviewer",type:"multidropdown",label:"Multiviewer",choices:[{id:"1",label:"Multiviewer 1"}],default:["1"],isVisible:()=>!1}),e}get deviceTakeScreen(){return{name:"Take Screen",options:[{id:"screens",type:"multidropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"All"},{id:"sel",label:"Selected Screens"},...this.choices.getScreenAuxChoices()],default:["sel"]}],callback:()=>{}}}get deviceCutScreen(){return{name:"Cut Screen",options:[{id:"screens",type:"multidropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"All"},{id:"sel",label:"Selected Screens"},...this.choices.getScreenAuxChoices()],default:["sel"]}],callback:e=>{for(const t of this.choices.getChosenScreenAuxes(e.options.screens))this.connection.sendWSmessage([...t.startsWith("A")?this.constants.auxGroupPath:this.constants.screenGroupPath,"items",t,"control","pp","xCut"],!0)}}}get deviceTbar(){return{name:"Set T-Bar Position",options:[{id:"info",type:"static-text",label:"Beware: in WebRCS you always set the T-Bar Position for ALL screens. T-Bar position is never syncronized.",value:""},{id:"screens",type:"multidropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"All"},{id:"sel",label:"Selected Screens"},...this.choices.getScreenAuxChoices()],default:["all"]},{id:"position",type:"textinput",label:"Position",default:"0",regex:"^\\d+(\\.\\d+)?$|^\\$\\(\\w+:\\w+\\)$",useVariables:!0,tooltip:"Enter position as a numeric string. Can be floating point or integer number. Variables can be used. 100% is in relation to maximum value."},{id:"maximum",type:"textinput",label:"Maximum value",default:"100",regex:"^\\d+(\\.\\d+)?$|^\\$\\(\\w+:\\w+\\)$",useVariables:!0,tooltip:"Enter maximum as a numeric string. Can be floating point or integer number. Variables can be used."}],callback:async e=>{const t=parseFloat(await this.instance.parseVariablesInString(e.options.position)),r=parseFloat(await this.instance.parseVariablesInString(e.options.maximum));if("number"==typeof t&&"number"==typeof r&&t>=0&&r>=0){let n=0;t>=r?n=1:r>0&&(n=t/r);const o=Math.round(65535*n);for(const t of this.choices.getChosenScreenAuxes(e.options.screens))this.connection.sendWSmessage([...this.constants.screenGroupPath,"items",t,"control","pp","tbarPosition"],o)}}}}get deviceTakeTime(){return{name:"Set Transition Time",options:[{id:"screens",type:"multidropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"All"},{id:"sel",label:"Selected Screens"},...this.choices.getScreenAuxChoices()],default:["all"]},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"all",label:"Both"},...this.choices.choicesPreset],default:"all"},{id:"time",type:"number",label:"Time (seconds)",min:0,max:300,step:.1,default:1,range:!0}],callback:e=>{const t=10*e.options.time;this.choices.getChosenScreenAuxes(e.options.screens).forEach((r=>{const n=this.choices.getPreset(r,"PGM");("all"===e.options.preset||"pgm"===e.options.preset&&"A"===n||"pvw"===e.options.preset&&"B"===n)&&this.connection.sendWSmessage([...this.constants.screenGroupPath,"items",r,"control","pp","takeDownTime"],t),("all"===e.options.preset||"pvw"===e.options.preset&&"A"===n||"pgm"===e.options.preset&&"B"===n)&&this.connection.sendWSmessage([...this.constants.screenGroupPath,"items",r,"control","pp","takeUpTime"],t)}))}}}get deviceSelectSource(){return{name:"Select Layer Source",options:[{id:"method",type:"dropdown",label:"Method",choices:[{id:"spec",label:"Target specified layers"},{id:"sel",label:"Target selected layers"}],default:"spec"},{id:"screen",type:"multidropdown",label:"Screen / Aux",choices:this.choices.getScreenAuxChoices(),default:[this.choices.getScreenAuxChoices()[0]?.id],isVisible:e=>"spec"===e.method},{id:"preset",type:"dropdown",label:"Preset",choices:this.choices.choicesPreset,default:"pvw",isVisible:e=>"spec"===e.method}],callback:()=>{}}}get deviceInputKeying(){return{name:"Set Input Keying",options:[{id:"input",type:"dropdown",label:"Input",choices:this.choices.getLiveInputChoices(),default:this.choices.getLiveInputChoices()[0]?.id},{id:"mode",type:"dropdown",label:"Mode",choices:[{id:"DISABLE",label:"Keying Disabled"},{id:"CHROMA",label:"Chroma Key"},{id:"LUMA",label:"Luma Key"}],default:"DISABLE"}],callback:e=>{this.connection.sendWSmessage(["device","inputList","items",e.options.input,"plugList","items",this.state.get("DEVICE/device/inputList/items/"+e.options.input+"/status/pp/plug"),"settings","keying","control","pp","mode"],e.options.mode),this.instance.sendXupdate()}}}get deviceInputFreeze(){return{name:"Set Input Freeze",options:[{id:"input",type:"dropdown",label:"Input",choices:this.choices.getLiveInputChoices(),default:this.choices.getLiveInputChoices()[0]?.id},{id:"mode",type:"dropdown",label:"Mode",choices:[{id:1,label:"Freeze"},{id:0,label:"Unfreeze"},{id:2,label:"Toggle"}],default:2}],callback:e=>{const t=e.options.input;let r=!1;1===e.options.mode?r=!0:2===e.options.mode&&(r=!this.state.get("DEVICE/device/inputList/items/"+t+"/control/pp/freeze")),this.connection.sendWSmessage(["device","inputList","items",t,"control","pp","freeze"],r)}}}get deviceLayerFreeze(){return{name:"Set Layer Freeze",options:[{id:"screen",type:"multidropdown",label:"Screen",choices:this.choices.getScreenChoices(),default:[this.choices.getScreenChoices()[0]?.id]},...this.choices.getScreensArray().map((e=>({id:`layerS${e.index}`,type:"multidropdown",label:"Layer "+e.id,choices:[{id:"NATIVE",label:"Background Layer"},...this.choices.getLayerChoices(e.id,!1)],default:["1"],isVisibleData:e.id,isVisible:(e,t)=>e.screen.includes(t)}))),{id:"mode",type:"dropdown",label:"Mode",choices:[{id:1,label:"Freeze"},{id:0,label:"Unfreeze"},{id:2,label:"Toggle"}],default:2}],callback:e=>{for(const t of e.options.screen){const r=this.choices.getScreenInfo(t);for(const n of e.options[`layer${t}`]){let t=!1,o=["device",r.prefixverylong+"List","items",r.numstr];"NATIVE"===n?o.push("background","control","pp","freeze"):o.push("liveLayerList","items",n,"control","pp","freeze"),1===e.options.mode?t=!0:2===e.options.mode&&(t=!this.state.get(["DEVICE",...o])),this.connection.sendWSmessage(o,t)}}}}}get deviceScreenFreeze(){return{name:"Set Screen Freeze",options:[{id:"screen",type:"multidropdown",label:"Screen",choices:this.choices.getScreenAuxChoices(),default:[this.choices.getScreenAuxChoices()[0]?.id]},{id:"mode",type:"dropdown",label:"Mode",choices:[{id:1,label:"Freeze"},{id:0,label:"Unfreeze"},{id:2,label:"Toggle"}],default:2}],callback:e=>{for(const t of e.options.screen){const r=this.choices.getScreenInfo(t);let n=!1;const o=["device",r.prefixverylong+"List","items",r.numstr,"control","pp","freeze"];1===e.options.mode?n=!0:2===e.options.mode&&(n=!this.state.get(["DEVICE",...o])),this.connection.sendWSmessage(o,n)}}}}get devicePositionSize(){const e=(e,t)=>{let r,n,o;const s=[{value:16/9,string:"16/9"},{value:1.6,string:"16/10"},{value:4/3,string:"4/3"},{value:5/4,string:"5/4"},{value:21/9,string:"21/9"},{value:1,string:"1/1"},{value:2/3,string:"2/3"},{value:9/16,string:"9/16"},{value:.625,string:"10/16"},{value:32/9,string:"32/9"}];if("number"!=typeof t)r=e,n=100*r-.005,o=100*r+.005;else{if(0==t)return;r=e/t,t<e?(n=e/(t+.5),o=e/(t-.5)):(n=(e-.5)/t,o=(e+.5)/t)}for(const e of s)if(e.value>=n&&e.value<=o)return e;return{value:r,string:(Math.round(1e8*r)/1e8).toString(10)}},t='start with "inc" to increase by amount,\nstart with "dec" to decrease by amount,\notherwise set value.\nYou can use expression syntax with operators like +, -, *, /, (), ?:,  ...\nYou can use the following keywords to be replaced on execution time:\nlw: layer width, lh: layer height, lx: layer left edge, ly: layer top edge, la: layer aspect ratio,\nbw: box width, bh: box height, bx: box left edge, by: box top edge, ba: box aspect ratio,\niw: layer source width, ih: layer source height, ia: layer source aspect ratio,\nl1w, l1h, l1x, l1y, l1a: values of the first layer in the selection (leader), you can access all layers\' properties with their number\nsw: screen width, sh: screen height, sa: screen aspect ratio, layer: layer name, screen: screen name, amount: count of selected layers',r=(e,t,r=0)=>{let n,o;e.toLowerCase().startsWith("inc")?(n=e=>r+e,e=e.substring(3)):e.toLowerCase().startsWith("dec")?(n=e=>r-e,e=e.substring(3)):n=e=>e;try{o=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string.");var t=Y.get(e);return t||(t=function(e){var t=e.match(W);if(1===t.length)return H(t[0]);for(var r={exec:H(t[0]),filters:[]},n=1;n<t.length;n++){var o=t[n].match(X),s=o.shift(),i=j.get(s);if(!i)throw new Error("There is no filter named: "+s+".");r.filters.push({effect:i,argExpressions:o.map(H)})}return r}(e),Y.set(e,t)),"function"==typeof t?t:function(e,r){for(var n=t.exec(e,r),o=0,s=t.filters;o<s.length;o+=1){var i=s[o],a=i.argExpressions.map(K,e);n=i.effect.apply(i,[n].concat(a))}return n}}(e)(t)}catch(e){}return"number"==typeof o?n(o):0},n=(e,t,r)=>{const n=this.choices.getScreenInfo(e),o=this.choices.getPreset(n.id,t),s=[...n.isAux?this.constants.auxPath:this.constants.screenPath,"items",n.platformId,"presetList","items",o,...this.choices.getLayerPath(r)];if(void 0===this.state.get(["DEVICE",...s,...this.constants.propsSizePath]))return;const i={w:0,h:0,x:0,y:0,wOriginal:0,hOriginal:0,xOriginal:0,yOriginal:0,path:s};return i.w=this.state.get(["DEVICE",...s,...this.constants.propsSizePath,"sizeH"])??1920,i.wOriginal=i.w,i.h=this.state.get(["DEVICE",...s,...this.constants.propsSizePath,"sizeV"])??1080,i.hOriginal=i.h,i.x=(this.state.get(["DEVICE",...s,...this.constants.propsPositionPath,"posH"])??0)-i.w/2,i.xOriginal=i.x,i.y=(this.state.get(["DEVICE",...s,...this.constants.propsPositionPath,"posV"])??0)-i.h/2,i.yOriginal=i.y,i},o=(e,t)=>{const r={};for(const o in e){const s=e[o],i=this.choices.getPreset(s.screenAuxKey,t),a=this.choices.getScreenInfo(s.screenAuxKey),c=n(a.id,i,s.layerKey);if(void 0===c){e[o].isPositionable=!1;continue}e[o].isPositionable=!0,Object.keys(c).forEach((e=>{s[e]=c[e]})),void 0===r[s.screenAuxKey]&&(r[s.screenAuxKey]={});const l=r[s.screenAuxKey];(void 0===l.x||s.x<l.x)&&(l.x=s.x),(void 0===l.y||s.y<l.y)&&(l.y=s.y),(void 0===l.right||s.x+s.w>l.right)&&(l.right=s.x+s.w),(void 0===l.bottom||s.y+s.h>l.bottom)&&(l.bottom=s.y+s.h)}return r},s=t=>{const r=t.length;return t.reduce(((t,r,n)=>({...t,[`l${n+1}w`]:r.w,[`l${n+1}h`]:r.h,[`l${n+1}x`]:r.x,[`l${n+1}y`]:r.y,[`l${n+1}a`]:e(r.w,r.h)?.value??0})),{sx:0,sy:0,amount:r})},i=(t,r,o,s,i)=>{const a=this.choices.getScreenInfo(t.screenAuxKey),c=this.choices.getPreset(t.screenAuxKey,o),l=n(a.id,c,t.layerKey);if(void 0===l)return;Object.keys(l).forEach((e=>{t[e]=l[e]}));const u=[...a.isAux?this.constants.auxPath:this.constants.screenPath,"items",a.platformId,...this.constants.screenSizePath],p=this.state.get(["DEVICE",...u,"sizeH"]),d=this.state.get(["DEVICE",...u,"sizeV"]);t.input=this.state.get(["DEVICE",...t.path,"source","pp","inputNum"])??"NONE",t.input?.match(/^IN/)?(t.inPlug=this.state.get(`DEVICE/device/inputList/items/${t.input}/control/pp/plug`)||"1",t.inWidth=this.state.get(`DEVICE/device/inputList/items/${t.input}/plugList/items/${t.inPlug}/status/signal/pp/imageWidth`)||0,t.inHeight=this.state.get(`DEVICE/device/inputList/items/${t.input}/plugList/items/${t.inPlug}/status/signal/pp/imageHeight`)||0):(t.inWidth=0,t.inHeight=0);const h=s[t.screenAuxKey]?.right-s[t.screenAuxKey]?.x??t.w,f=s[t.screenAuxKey]?.bottom-s[t.screenAuxKey]?.y??t.h;return{sw:p,sh:d,sa:e(p,d)?.value??0,lw:t.w,lh:t.h,lx:t.x,ly:t.y,la:e(t.w,t.h)?.value??0,bx:s[t.screenAuxKey]?.x??t.x,by:s[t.screenAuxKey]?.y??t.y,bw:h,bh:f,ba:e(h,f)?.value??0,iw:t.inWidth,ih:t.inHeight,ia:e(t.inWidth,t.inHeight)?.value??0,screen:t.screenAuxKey,layer:t.layerKey,index:r,...i}};return{name:"Set Position and Size",options:[{id:"screen",type:"dropdown",label:"Screen / Aux",choices:[{id:"sel",label:"Selected Screen(s)"},...this.choices.getScreenAuxChoices()],default:"sel"},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"sel",label:"Selected Preset"},...this.choices.choicesPreset],default:"sel"},{id:"layersel",type:"dropdown",label:"Layer",tooltip:'When using "selected layer" and screen or preset are not using "Selected", you can narrow the selection',choices:[{id:"sel",label:"Selected Layer(s)"},...Array.from({length:this.constants.maxLayers},((e,t)=>({id:t+1,label:`Layer ${t+1}`})))],default:"sel",isVisible:e=>"sel"===e.screen},...this.screens.map((e=>({id:`layer${e.id}`,type:"dropdown",label:"Layer",tooltip:'When using "selected layer" and screen or preset are not using "Selected", you can narrow the selection',choices:[{id:"sel",label:"Selected Layer(s)"},...this.choices.getLayerChoices(e.id,!1)],default:"sel",isVisibleData:e.id,isVisible:(e,t)=>e.screen===t}))),{id:"parameters",type:"multidropdown",label:"Act on",choices:[{id:"x",label:"X Position"},{id:"y",label:"Y Position"},{id:"w",label:"Width"},{id:"h",label:"Height"}],default:["x","y","w","h"]},{id:"x",type:"textinput",label:"X position in screen (pixels)",tooltip:t,default:"",useVariables:!0,isVisible:e=>e.parameters.includes("x")},{id:"y",type:"textinput",label:"Y position in screen (pixels)",tooltip:t,default:"",useVariables:!0,isVisible:e=>e.parameters.includes("y")},{id:"w",type:"textinput",label:"Width (pixels)",tooltip:t,default:"",useVariables:!0,isVisible:e=>e.parameters.includes("w")},{id:"h",type:"textinput",label:"Height (pixels)",tooltip:t,default:"",useVariables:!0,isVisible:e=>e.parameters.includes("h")},{id:"xAnchor",type:"textinput",label:"Anchor X position",tooltip:t,default:"lx + 0.5 * lw",useVariables:!0,isVisible:e=>e.parameters.includes("x")||e.parameters.includes("w")||e.parameters.includes("h")},{id:"yAnchor",type:"textinput",label:"Anchor Y position",tooltip:t,default:"ly + 0.5 * lh",useVariables:!0,isVisible:e=>e.parameters.includes("y")||e.parameters.includes("w")||e.parameters.includes("h")},{id:"ar",type:"textinput",label:"Aspect Ratio",tooltip:'use "keep" to keep the aspect ratio, use notations like 16/9, 4/3, 1.678 to set to a specific ratio, use nothing or any other word to change aspect ratio',default:"",useVariables:!0,isVisible:e=>e.parameters.includes("h")&&!e.parameters.includes("w")||!e.parameters.includes("h")&&e.parameters.includes("w")}],learn:async t=>{const n=t.options,a={...n};let c;if(c="sel"===n.screen?"sel"===n.layersel?this.choices.getSelectedLayers():[{screenAuxKey:n.screen,layerKey:n.layersel}]:"sel"===n[`layer${n.screen}`]?this.choices.getSelectedLayers().filter((e=>e.screenAuxKey==n.screen)):[{screenAuxKey:n.screen,layerKey:n[`layer${n.screen}`]}],0===c.length)return n;const l=this.choices.getPresetSelection(),u=o(c,l);c=c.filter((e=>e.isPositionable));const p=s(c),[d,h]=[c[0].screenAuxKey,c[0].layerKey],f=this.choices.getScreenInfo(d),m=i(c[0],1,l,u,p);if(void 0===m)return n;a.screen=f.id,a[`layer${f.id}`]=h.replace(/^\w+_/,""),a.preset=l,a.parameters=["x","y","w","h"];const g=this.instance.parseVariablesInString(t.options.xAnchor),E=this.instance.parseVariablesInString(t.options.yAnchor),[S,_]=await Promise.all([g,E]);let y=r(S,m,0),A=r(_,m,0);return a.w=m.lw.toString(),a.h=m.lh.toString(),a.x=y.toString(),a.y=A.toString(),a.ar=0!==m.lh?e(m.lw,m.lh)?.string??"":"",a},callback:async t=>{let n;n="sel"===t.options.screen?"sel"===t.options.layersel?this.choices.getSelectedLayers():[{screenAuxKey:t.options.screen,layerKey:t.options.layersel}]:"sel"===t.options[`layer${t.options.screen}`]?this.choices.getSelectedLayers().filter((e=>e.screenAuxKey==t.options.screen)):[{screenAuxKey:t.options.screen,layerKey:t.options[`layer${t.options.screen}`]}];const a="sel"===t.options.preset?this.choices.getPresetSelection("sel"):t.options.preset;if(n=n.filter((e=>!this.choices.isLocked(e.screenAuxKey,a)&&e.layerKey.match(/^\d+$/))),0===n.length)return;const c=o(n,a);n=n.filter((e=>e.isPositionable));const l=s(n);for(var u=0;u<n.length;u+=1){const o=n[u],s=i(o,u+1,a,c,l);if(void 0===s)continue;const p=this.instance.parseVariablesInString(t.options.xAnchor),d=this.instance.parseVariablesInString(t.options.x),h=this.instance.parseVariablesInString(t.options.yAnchor),f=this.instance.parseVariablesInString(t.options.y),m=this.instance.parseVariablesInString(t.options.w),g=this.instance.parseVariablesInString(t.options.h),E=this.instance.parseVariablesInString(t.options.ar),[S,_,y,A,v,T,b]=await Promise.all([p,d,h,f,m,g,E]);let I=r(S,s,0);const R=r(_,s,o.x);let O=r(y,s,0);const N=r(A,s,o.y),C=r(v,s,o.w),L=r(T,s,o.h);let w;w=t.options.ar.match(/keep/i)?e(o.w,o.h)?.value??0:r(b,s,e(o.w,o.h)?.value);let P=R-I,M=N-O;t.options.parameters.includes("x")&&(o.x=o.xOriginal+P,I=R),t.options.parameters.includes("y")&&(o.y=o.yOriginal+M,O=N);let x=1,k=1;t.options.parameters.includes("w")&&t.options.parameters.includes("h")?(o.w=C,x=o.w/o.wOriginal,o.h=L,k=o.h/o.hOriginal):t.options.parameters.includes("w")?(o.w=C,x=o.w/o.wOriginal,void 0!==w&&0!==w&&(o.h=o.w/w,k=o.h/o.hOriginal)):t.options.parameters.includes("h")&&(o.h=L,k=o.h/o.hOriginal,void 0!==w&&0!==w&&(o.w=o.h*w,x=o.w/o.wOriginal)),P=o.x-I,M=o.y-O,o.x=I+P*x,o.y=O+M*k;const D=Math.round(o.x+o.w/2);D!==Math.round(o.xOriginal+o.wOriginal/2)&&(this.state.set(["DEVICE",...o.path,...this.constants.propsPositionPath,"posH"],D),this.connection.sendWSmessage([...o.path,...this.constants.propsPositionPath,"posH"],D));const V=Math.round(o.y+o.h/2);V!==Math.round(o.yOriginal+o.hOriginal/2)&&(this.state.set(["DEVICE",...o.path,...this.constants.propsPositionPath,"posV"],V),this.connection.sendWSmessage([...o.path,...this.constants.propsPositionPath,"posV"],V)),o.w!==o.wOriginal&&(this.state.set(["DEVICE",...o.path,...this.constants.propsSizePath,"sizeH"],Math.round(o.w)),this.connection.sendWSmessage([...o.path,...this.constants.propsSizePath,"sizeH"],Math.round(o.w))),o.h!==o.hOriginal&&(this.state.set(["DEVICE",...o.path,...this.constants.propsSizePath,"sizeV"],Math.round(o.h)),this.connection.sendWSmessage([...o.path,...this.constants.propsSizePath,"sizeV"],Math.round(o.h)))}this.instance.sendXupdate()}}}get deviceCopyProgram(){return{name:"Copy Program to Preview",options:[{id:"screens",type:"multidropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"All"},{id:"sel",label:"Selected Screens"},...this.choices.getScreenAuxChoices()],default:["sel"]}],callback:e=>{for(const t of this.choices.getChosenScreenAuxes(e.options.screens)){if(this.choices.isLocked(t,"PREVIEW"))return;const e=this.choices.getScreenInfo(t);this.connection.sendWSmessage([...e.isAux?this.constants.auxGroupPath:this.constants.screenGroupPath,"items",e.platformId,"control","pp","xCopyProgramToPreview"],!1,!0)}}}}get devicePresetToggle(){return{name:"Set Preset Toggle",options:[{type:"dropdown",label:"Action",id:"action",choices:[{id:"on",label:"On"},{id:"off",label:"Off"},{id:"toggle",label:"Toggle"}],default:"on"}],callback:()=>{}}}get remoteMultiviewerSelectWidget(){return{name:"Multiviewer Widget Selection",options:[{id:"widget",label:"Widget",type:"dropdown",choices:this.choices.getWidgetChoices(),default:this.choices.getWidgetChoices()[0]?.id},{id:"sel",label:"Action",type:"dropdown",choices:[{id:"selectExclusive",label:"Select exclusive"},{id:"deselect",label:"Deselect"},{id:"select",label:"Select"},{id:"toggle",label:"Toggle"}],default:"selectExclusive"}],callback:()=>{}}}get deviceMultiviewerSource(){return{name:"Select Source in Multiviewer Widget",options:[{id:"widget",label:"Widget",type:"dropdown",choices:[{id:"sel",label:"Selected"},...this.choices.getWidgetChoices()],default:"sel"},{id:"source",label:"Source",type:"dropdown",choices:this.choices.getWidgetSourceChoices(),default:this.choices.getWidgetSourceChoices()[0]?.id}],callback:()=>{}}}get selectScreen(){return{name:"Screen Selection",options:[{id:"screen",label:"Screen",type:"dropdown",choices:this.choices.getScreenAuxChoices(),default:this.choices.getScreenAuxChoices()[0]?.id},{id:"sel",label:"Action",type:"dropdown",choices:[{id:0,label:"Deselect"},{id:1,label:"Select"},{id:2,label:"Select exclusive"},{id:3,label:"Toggle"},{id:4,label:"Intelligent PRESS action"},{id:5,label:"Intelligent RELEASE action"},{id:6,label:"Intelligent reset action"}],default:2}],callback:e=>{let t=e.options.sel;const r=(e.surfaceId?e.surfaceId:"")+e.controlId;if(6===t||5===t&&!r.length)return void this.state.set("LOCAL/intelligent/screenSelectionRunning",void 0);if(4===t&&r.length)this.state.get("LOCAL/intelligent/screenSelectionRunning")?t=3:(this.state.set("LOCAL/intelligent/screenSelectionRunning",r),t=2);else{if(5===t&&r.length)return void(this.state.get("LOCAL/intelligent/screenSelectionRunning")===r&&this.state.set("LOCAL/intelligent/screenSelectionRunning",void 0));4!==t||r.length||(t=2)}const n=this.choices.getScreenInfo(e.options.screen);if(this.state.syncSelection)switch(t){case 0:this.connection.sendWSdata("REMOTE","remove","/live/screens/screenAuxSelection",[n.platformLongId]);break;case 1:this.connection.sendWSdata("REMOTE","add","/live/screens/screenAuxSelection",[n.platformLongId]);break;case 2:this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[[n.platformLongId]]);break;case 3:this.connection.sendWSdata("REMOTE","toggle","/live/screens/screenAuxSelection",[n.platformLongId])}else{const e=this.state.get("LOCAL/screenAuxSelection/keys"),r=e.indexOf(n.id);switch(t){case 0:r>=0&&e.splice(r,1);break;case 1:-1===r&&e.push(n.id);break;case 2:this.state.set("LOCAL/screenAuxSelection/keys",[n.id]);break;case 3:r>=0?e.splice(r,1):e.push(n.id)}this.instance.checkFeedbacks("liveScreenSelection")}}}}get lockScreen(){return{name:"Lock Screen",options:[{id:"screens",label:"Screen",type:"multidropdown",choices:[{id:"all",label:"ALL"},{id:"sel",label:"Selected"},...this.choices.getScreenAuxChoices()],default:["all"],tooltip:'If you choose "All" and "Toggle", the behavior is exactly like in WebRCS, if you choose multiple screens they will be toggled individually'},{id:"preset",label:"Preset",type:"dropdown",choices:[{id:"PROGRAM",label:"Program"},{id:"PREVIEW",label:"Preview"}],default:"PROGRAM"},{id:"lock",label:"Action",type:"dropdown",choices:[{id:"unlock",label:"Unlock"},{id:"lock",label:"Lock"},{id:"toggle",label:"Toggle"}],default:"toggle"}],callback:e=>{const t=e.options.screens,r="PREVIEW"===e.options.preset?"Prw":"Pgm";if(this.state.syncSelection){if("lock"===e.options.lock||"unlock"===e.options.lock){const n=this.choices.getChosenScreenAuxes(t).map((e=>this.choices.getScreenInfo(e).platformLongId));this.connection.sendWSdata("REMOTE",e.options.lock+"ScreenAuxes"+r,"/live/screens/presetModeLock",[n])}else if("toggle"===e.options.lock)if(t.includes("all")){const n=this.choices.getChosenScreenAuxes(t).map((e=>this.choices.getScreenInfo(e).platformLongId));let o="lock";void 0===n.find((t=>!1===this.state.get(["REMOTE","live","screens","presetModeLock",e.options.preset,t])))&&(o="unlock"),this.connection.sendWSdata("REMOTE",o+"ScreenAuxes"+r,"/live/screens/presetModeLock",[n])}else for(const r of this.choices.getChosenScreenAuxes(t))this.connection.sendWSdata("REMOTE","toggle","/live/screens/presetModeLock/"+e.options.preset,[this.choices.getScreenInfo(r).platformLongId])}else{const r=this.state.get(["LOCAL","presetModeLock",e.options.preset]);if("lock"===e.options.lock)for(const e of this.choices.getChosenScreenAuxes(t))r[e]=!0;else if("unlock"===e.options.lock)for(const e of this.choices.getChosenScreenAuxes(t))r[e]=!1;else if("toggle"===e.options.lock)if(t.includes("all")){const t=this.choices.getChosenScreenAuxes("all");if(void 0===t.find((t=>!1===this.state.get(["LOCAL","presetModeLock",e.options.preset,t]))))for(const e of t)r[e]=!1;else for(const e of t)r[e]=!0}else for(const e of this.choices.getChosenScreenAuxes(t))r[e]=!0!==r[e];this.instance.checkFeedbacks("liveScreenLock")}}}}get selectPreset(){return{name:"Select Preset",options:[{id:"mode",label:"Preset",type:"dropdown",choices:[{id:"pgm",label:"Program"},{id:"pvw",label:"Preview"},{id:"tgl",label:"Toggle"}],default:"tgl"}],callback:e=>{if(this.state.syncSelection)switch(e.options.mode){case"pgm":this.connection.sendWSdata("REMOTE","set","/live/screens/presetModeSelection",["PROGRAM"]);break;case"pvw":this.connection.sendWSdata("REMOTE","set","/live/screens/presetModeSelection",["PREVIEW"]);break;case"tgl":this.connection.sendWSdata("REMOTE","toggle","/live/screens/presetModeSelection",[])}else{switch(e.options.mode){case"pgm":this.state.set("LOCAL/presetMode","PROGRAM"),this.instance.setVariableValues({selectedPreset:"PGM"});break;case"pvw":this.state.set("LOCAL/presetMode","PREVIEW"),this.instance.setVariableValues({selectedPreset:"PVW"});break;case"tgl":"PREVIEW"===this.state.get("LOCAL/presetMode")?(this.state.set("LOCAL/presetMode","PROGRAM"),this.instance.setVariableValues({selectedPreset:"PGM"})):(this.state.set("LOCAL/presetMode","PREVIEW"),this.instance.setVariableValues({selectedPreset:"PVW"}))}this.instance.checkFeedbacks("livePresetSelection")}this.instance.checkFeedbacks("liveScreenSelection","remoteLayerSelection")}}}get selectLayer(){const e={name:"Select Layer",options:[{id:"method",type:"dropdown",label:"Method",choices:[{id:"spec",label:"Select layers of specified screens"},{id:"sel",label:"Select layers of selected screens and preset"},{id:"spectgl",label:"Toggle layers of specified screens"},{id:"seltgl",label:"Toggle layers of selected screens and preset"}],default:"spec"},{id:"screen",type:"multidropdown",label:"Screen / Aux",choices:this.choices.getScreenAuxChoices(),default:[this.choices.getScreenAuxChoices()[0]?.id],isVisible:e=>e.method.startsWith("spec")},{id:"layersel",type:"multidropdown",label:"Layer",tooltip:"Choose all the layers you want to be selected, every other layer on any screen will be deselected. This action does not change the preset, if you want a specific preset, add the according action.",choices:this.choices.getLayerChoices(48,!0),default:["1"],isVisible:e=>e.method.startsWith("sel")}],callback:e=>{let t=[];e.options.method?.endsWith("tgl")&&(t=this.state.syncSelection?this.state.get("REMOTE/live/screens/layerSelection/layerIds"):this.state.get("LOCAL/layerIds"));let r=[];e.options.method?.startsWith("sel")&&(r=this.choices.getSelectedScreens()),e.options.method?.startsWith("spec")&&(r=e.options.screen);for(const n of r){let r=[];if(e.options.method?.startsWith("spec")&&(r=e.options[`layer${n}`]),e.options.method?.startsWith("sel")&&(r=e.options.layersel),e.options.method?.endsWith("tgl"))for(const e of r){const r=t.findIndex((t=>t.screenAuxKey===n&&t.layerKey.replace("NATIVE","BKG")===e.replace("NATIVE","BKG")));-1===r?t.push({screenAuxKey:n,layerKey:e}):t.splice(r,1)}else for(const e of r)t.push({screenAuxKey:n,layerKey:e})}this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/layerSelection",[t]):(this.state.set("LOCAL/layerIds",t),this.instance.checkFeedbacks("remoteLayerSelection"))}};for(const t of this.screens){const r=this.choices.getLayerChoices(t.id,!0);let n;n=r.find((e=>"1"===e.id))?"1":r[0].id,e.options.push({id:`layer${t.id}`,type:"multidropdown",label:"Layer "+t.id,choices:r,default:[n],isVisibleData:t.id,isVisible:(e,t)=>e.method.startsWith("spec")&&e.screen.includes(t)})}return e}get remoteSync(){return{name:"Sync selection",options:[{label:"Sync",type:"dropdown",id:"sync",choices:[{id:1,label:"turn sync on"},{id:0,label:"turn sync off"},{id:2,label:"toggle sync"}],default:2}],callback:e=>{const t=this.state.get("REMOTE/system/network/websocketServer/clients");let r;const n=this.state.get("LOCAL/socketId"),o=t.findIndex((e=>e.id===n));switch(e.options.sync){case 0:default:r=!1;break;case 1:r=!0;break;case 2:r=!this.state.get(`REMOTE/system/network/websocketServer/clients/${o}/isRemoteSelectionEnabled`)}this.state.set("LOCAL/syncSelection",r),this.connection.sendRawWSmessage(`{"channel":"REMOTE","data":{"name":"enableRemoteSelection","path":"/system/network/websocketServer/clients/${o}","args":[${r}]}}`),this.instance.checkFeedbacks("livePresetSelection","liveScreenSelection","remoteLayerSelection","liveScreenLock","remoteWidgetSelection");let s,i="PGM";s=r?this.state.get("REMOTE/live/screens/presetModeSelection/presetMode"):this.state.get("LOCAL/presetMode"),"PREVIEW"===s&&(i="PVW"),this.instance.setVariableValues({selectedPreset:i})}}}get deviceStreamControl(){return{name:"Stream Control",options:[{type:"dropdown",label:"Action",id:"stream",choices:[{id:"on",label:"Start Stream"},{id:"off",label:"Stop Stream"},{id:"toggle",label:"Toggle Stream on/off"}],default:"on"}],callback:e=>{let t=e.options.stream;"toggle"===t&&("NONE"===this.state.get("DEVICE/device/streaming/status/pp/mode")?t="on":"LIVE"===this.state.get("DEVICE/device/streaming/status/pp/mode")?t="off":(t="doNothing",this.instance.log("warn","Toggle stream on/off could not be sent because stream is neither running nor stopped (stream state: "+this.state.get("DEVICE/device/streaming/status/pp/mode")+")"))),"on"===t&&this.connection.sendWSmessage("device/streaming/control/pp/start",!0),"off"===t&&this.connection.sendWSmessage("device/streaming/control/pp/start",!1)}}}get deviceStreamAudioMute(){return{name:"Stream Audio Mute",options:[{type:"dropdown",label:"Action",id:"stream",choices:[{id:"on",label:"Unmute"},{id:"off",label:"Mute"},{id:"toggle",label:"Toggle"}],default:"on"}],callback:e=>{let t=e.options.stream;"toggle"===t&&(t=this.state.get("DEVICE/device/streaming/control/audio/live/pp/mute")?"on":"off"),"on"===t&&this.connection.sendWSmessage("device/streaming/control/audio/live/pp/mute",!1),"off"===t&&this.connection.sendWSmessage("device/streaming/control/audio/live/pp/mute",!0)}}}get deviceAudioRouteBlock(){return{name:"Route Audio (Block)",options:[{type:"dropdown",label:"Device",id:"device",choices:this.choices.getLinkedDevicesChoices(),default:"1",isVisibleData:this.choices.getLinkedDevicesChoices(),isVisible:(e,t)=>t.length>1,minChoicesForSearch:3},{type:"dropdown",label:"First Output Channel",id:"out1",choices:this.choices.getAudioOutputChoices(),default:this.choices.getAudioOutputChoices()[0]?.id,minChoicesForSearch:0},{type:"dropdown",label:"First Input Channel",id:"in1",choices:this.choices.getAudioInputChoices(),default:"NONE",minChoicesForSearch:0,tooltip:'If you choose "No Source" the whole Block will be unrouted'},{type:"number",label:"Block Size",id:"blocksize",default:8,min:1,max:this.choices.getAudioInputChoices().length,range:!0}]}}get deviceAudioRouteChannels(){const e=this.choices.getAudioOutputChoices(),t=this.choices.getAudioInputChoices();return{name:"Route Audio (Channels)",options:[{type:"dropdown",label:"Device",id:"device",choices:this.choices.getLinkedDevicesChoices(),default:1,isVisibleData:this.choices.getLinkedDevicesChoices(),isVisible:(e,t)=>t.length>1,minChoicesForSearch:3},{type:"dropdown",label:"(first) output channel",id:"out1",choices:e,default:e[0]?.id,minChoicesForSearch:0},{type:"multidropdown",label:"input channel(s)",id:"in1",choices:t,default:["NONE"],minChoicesForSearch:0,minSelection:0}]}}get deviceTimerSetup(){return{name:"Timer Setup",options:[{id:"timer",type:"dropdown",label:"Timer",choices:this.choices.getTimerChoices(),default:this.choices.getTimerChoices()[0]?.id},{id:"type",type:"dropdown",label:"Timer Type",choices:[{id:"CURRENTTIME",label:"Current time"},{id:"COUNTDOWN",label:"Count down"},{id:"STOPWATCH",label:"Count up"}],default:"COUNTDOWN"},{id:"currentTimeMode",type:"dropdown",label:"Time Display",choices:[{id:"24H",label:"24 hours"},{id:"12H_AM_PM",label:"12 hours"}],default:"24H",isVisible:e=>"CURRENTTIME"===e.type},{id:"unitMode",type:"dropdown",label:"Time Display",choices:[{id:"IN_SECONDS",label:"In seconds"},{id:"IN_MINUTES",label:"In minutes"},{id:"IN_HOURS",label:"In hours"}],default:"IN_MINUTES",isVisible:e=>"CURRENTTIME"!=e.type},{id:"fg_color",type:"colorpicker",enableAlpha:!0,returnType:"string",label:"Text color",default:`rgba(${(0,n.splitRgb)(this.config.color_bright).r},${(0,n.splitRgb)(this.config.color_bright).g},${(0,n.splitRgb)(this.config.color_bright).b},1)`},{id:"bg_color",type:"colorpicker",enableAlpha:!0,returnType:"string",label:"Background color",default:`rgba(${(0,n.splitRgb)(this.config.color_dark).r},${(0,n.splitRgb)(this.config.color_dark).g},${(0,n.splitRgb)(this.config.color_dark).b},0.7)`}],callback:()=>{}}}get deviceTimerAdjust(){return{name:"Timer Adjust Time",options:[{id:"timer",type:"dropdown",label:"Timer",choices:this.choices.getTimerChoices(),default:this.choices.getTimerChoices()[0]?.id},{id:"action",type:"dropdown",label:"Action",choices:[{id:"set",label:"Set Time"},{id:"add",label:"Add Time"},{id:"sub",label:"Subtract Time"}],default:"set"},{id:"time",type:"textinput",label:"Time",default:"",useVariables:!0}],callback:async e=>{let t="countdownDuration";"CURRENTTIME"===this.state.get(["DEVICE","device","timerList","items",e.options.timer,"control","pp","type"])&&(t="timeOffset");let r=this.state.get(["DEVICE","device","timerList","items",e.options.timer,"control","pp",t]);const n=await this.instance.parseVariablesInString(e.options.time);"add"===e.options.action?r+=te(n):"sub"===e.options.action?r-=te(n):r="set"===e.options.action?te(n):0,this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp",t],r)}}}get deviceTimerTransport(){return{name:"Timer Transport",options:[{id:"timer",type:"dropdown",label:"Timer",choices:this.choices.getTimerChoices(),default:this.choices.getTimerChoices()[0]?.id},{id:"cmd",type:"dropdown",label:"Command",choices:[{id:"start",label:"Start"},{id:"stop",label:"Stop"},{id:"pause",label:"Pause"},{id:"tgl_start_pause",label:"Toggle Start/Pause"},{id:"tgl_start_stop",label:"Toggle Start/Stop"}],default:"start"}],callback:e=>{let t="xPause";if("start"===e.options.cmd)t="xStart";else if("stop"===e.options.cmd)t="xStop";else if("pause"===e.options.cmd)t="xPause";else if("tgl_start_pause"===e.options.cmd)t="RUNNING"===this.state.get(["DEVICE","device","timerList","items",e.options.timer,"status","pp","state"])?"xPause":"xStart";else if("tgl_start_stop"===e.options.cmd){const r=this.state.get(["DEVICE","device","timerList","items",e.options.timer,"status","pp","state"]);t="RUNNING"===r||"ELAPSED"===r?"xStop":"xStart"}this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp",t],!1,!0)}}}deviceTestpatterns_common(e){return{name:"Set Testpattern",options:e,callback:t=>{if("all"===t.options.group){const t=e.findIndex((e=>"group"===e?.id));e[t].choices.filter((e=>"all"!==e.id)).forEach((t=>{e.find((e=>e.id===t.id))?.choices.forEach((r=>{this.connection.sendWSmessage(["device",t.id.toString(),"items",r.id.toString(),"pattern","control","pp","inhibit"],!0),this.connection.sendWSmessage(["device",t.id.toString(),"items",r.id.toString(),"pattern","control","pp","type"],e.find((e=>e.id===t.id+"Pat"))?.choices[0]?.id??"")}))}))}else{this.connection.sendWSmessage(["device",t.options.group,"items",t.options[t.options.group],"pattern","control","pp","type"],t.options[`${t.options.group}Pat`]);const e="NONE"===t.options[`${t.options.group}Pat`]||"NO_PATTERN"===t.options[`${t.options.group}Pat`];this.connection.sendWSmessage(["device",t.options.group,"items",t.options[t.options.group],"pattern","control","pp","inhibit"],e)}}}}get deviceTestpatterns(){const e=[{id:"group",type:"dropdown",label:"Group",choices:[{id:"all",label:"All"},{id:"screenList",label:"Screen Canvas"},{id:"outputList",label:"Output Group"},{id:"inputList",label:"Input Group"}],default:"outputList"},{id:"screenList",type:"dropdown",label:"Screen",choices:this.choices.getScreenAuxChoices(),default:this.choices.getScreenAuxChoices()[0]?.id,isVisible:e=>"screenList"===e.group},{id:"outputList",type:"dropdown",label:"Output",choices:this.choices.getOutputChoices(),default:this.choices.getOutputChoices()[0]?.id,isVisible:e=>"outputList"===e.group},{id:"inputList",type:"dropdown",label:"Input",choices:this.choices.getLiveInputChoices(),default:this.choices.getLiveInputChoices()[0]?.id,isVisible:e=>"inputList"===e.group},{id:"patall",type:"dropdown",label:"Pattern",choices:[{id:"0",label:"Off"}],default:"0",isVisible:e=>"all"===e.group},{id:"screenListPat",type:"dropdown",label:"Pattern",choices:[{id:"NONE",label:"Off"}],default:"NONE",isVisible:e=>"screenList"===e.group},{id:"inputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"}],default:"NO_PATTERN",isVisible:e=>"inputList"===e.group},{id:"outputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"}],default:"NO_PATTERN",isVisible:e=>"outputList"===e.group}];return this.deviceTestpatterns_common(e)}get cstawjcmd(){return{name:"Send custom AWJ replace command",tooltip:'The "op" parameter is always replace. Paths and values are not validated, make sure to use only correct syntax! For your convenience you can use PGM and PVW aditionally to A and B to denote a preset',options:[{type:"textinput",id:"path",label:"path",useVariables:!0},{type:"dropdown",id:"valuetype",label:"value is of type",choices:[{id:"1",label:"Text"},{id:"2",label:"Number"},{id:"3",label:"Boolean"},{id:"4",label:"Object"}],default:"1"},{type:"textinput",id:"textValue",label:"value",useVariables:!0,isVisible:e=>"1"===e.valuetype},{type:"number",id:"numericValue",label:"value",isVisible:e=>"2"===e.valuetype,default:0,min:-32768,max:32768},{type:"checkbox",id:"booleanValue",label:"value",isVisible:e=>"3"===e.valuetype,default:!1},{type:"textinput",id:"objectValue",label:"value",useVariables:!0,isVisible:e=>"4"===e.valuetype},{type:"checkbox",id:"xUpdate",label:"append global Update",default:!1}],callback:async e=>{let t="";"1"===e.options.valuetype?t=await this.instance.parseVariablesInString(e.options.textValue):"2"===e.options.valuetype?t=e.options.numericValue:"3"===e.options.valuetype?t=!0===e.options.booleanValue:"4"===e.options.valuetype&&(t=JSON.parse(await this.instance.parseVariablesInString(e.options.objectValue)));try{const r=this.instance.AWJtoJsonPath(await this.instance.parseVariablesInString(e.options.path));r.length>1&&this.connection.sendWSmessage(r,t),e.options.xUpdate&&this.instance.sendXupdate()}catch(e){this.instance.log("warn","Custom command transmission failed")}},learn:e=>{const t={},r=this.state.get("LOCAL/lastMsg"),n=r.path,o=r.value;if(!(JSON.stringify(o).length>132)){switch(t.path=this.instance.jsonToAWJpath(n),typeof o){case"string":t.valuetype="1",t.textValue=o;break;case"number":t.valuetype="2",t.numericValue=o;break;case"boolean":t.valuetype="3",t.booleanValue=o;break;case"object":t.valuetype="4",t.objectValue=JSON.stringify(o)}return{...e.options,...t}}}}}get cstawjgetcmd(){return{name:"Send custom AWJ get command",tooltip:'The "op" parameter is always get. Path is not validated, make sure to use only correct syntax! For your convenience you can use PGM and PVW aditionally to A and B to denote a preset',options:[{type:"textinput",id:"path",label:"Path to get",useVariables:!0},{type:"custom-variable",id:"variableValue",label:"Variable to store value"},{type:"custom-variable",id:"variableType",label:"Variable to store type"}],callback:async e=>{let t="undefined",r="undefined";try{const n=this.instance.AWJtoJsonPath(await this.instance.parseVariablesInString(e.options.path));n.length>1&&(t=this.state.get(["DEVICE",...n]),r=typeof t)}catch(e){this.instance.log("warn","Custom command get failed")}"null"===r&&(t="null"),"object"===r&&(t=JSON.stringify(t)),"boolean"===r&&(t=t?1:0),"string"!=typeof t&&(t=t.toString()),"string"==typeof e.options.variableValue&&this.instance.setCustomVariableValue(e.options.variableValue,t),"string"==typeof e.options.variableType&&this.instance.setCustomVariableValue(e.options.variableType,r)},learn:e=>{const t={},r=this.state.get("LOCAL/lastMsg"),n=r.path,o=r.value;if(!(JSON.stringify(o).length>132))return t.path=this.instance.jsonToAWJpath(n),{...e.options,...t}}}}get devicePower(){return{name:"Device Power",options:[{id:"action",type:"dropdown",label:"Power",choices:[{id:"on",label:"Switch on (Wake on LAN)"},{id:"off",label:"Switch to Power off"},{id:"reboot",label:"Reboot"}],default:"on"}],callback:e=>{const t=["device","system","shutdown","cmd","pp","xRequest"];if("on"===e.options.action){const e=this.instance.config.macaddress.split(/[,:-_.\s]/).join("");this.connection.wake(e),this.connection.resetReconnectInterval()}"off"===e.options.action&&this.connection.sendWSmessage(t,"NONE","SHUTDOWN"),"reboot"===e.options.action&&this.connection.sendWSmessage(t,"NONE","REBOOT")}}}}class oe extends ne{actionsToUse=["deviceScreenMemory","deviceMasterMemory","deviceLayerMemory","deviceMultiviewerMemory","deviceTakeScreen","deviceCutScreen","deviceTbar","deviceTakeTime","deviceSelectSource","deviceInputKeying","deviceInputFreeze","devicePositionSize","deviceCopyProgram","devicePresetToggle","remoteMultiviewerSelectWidget","deviceMultiviewerSource","selectScreen","lockScreen","selectPreset","selectLayer","remoteSync","deviceAudioRouteBlock","deviceAudioRouteChannels","deviceTimerSetup","deviceTimerAdjust","deviceTimerTransport","deviceTestpatterns","cstawjcmd","cstawjgetcmd","deviceGPO","devicePower"];constructor(e){super(e),this.instance=e,this.init()}get deviceTakeScreen(){const e=super.deviceTakeScreen;return e.callback=e=>{let t="xTakeUp";for(const r of this.choices.getChosenScreenAuxes(e.options.screens))"B"===this.choices.getPreset(r,"pgm")&&(t="xTakeDown"),this.connection.sendWSmessage(["device","screenGroupList","items",r,"control","pp",t],!0)},e}get deviceScreenMemory(){const e=super.deviceScreenMemory;return e.options[0].choices=[{id:"sel",label:"Selected"},...this.choices.getScreenAuxChoices()],e.callback=e=>{const t=this.choices.getChosenScreenAuxes(e.options.screens),r=this.choices.getPresetSelection(e.options.preset,!0);for(const n of t){const o=["device","presetBank","control","load","slotList","items",e.options.memory,"screenList","items",n,"presetList","items",r,"pp","xRequest"];this.choices.isLocked(n,r)||(this.connection.sendWSmessage(o,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[t]):(this.state.set("LOCAL/screenAuxSelection/keys",t),this.instance.checkFeedbacks("liveScreenSelection"))))}},e}get deviceMasterMemory(){const e=super.deviceMasterMemory;return e.callback=e=>{const t=this.choices.getPresetSelection(e.options.preset,!0),r=["device","masterPresetBank"],n="bankList",o=["items",e.options.memory],s=this.state.get(["DEVICE",...r,n,...o,"status","pp","isShadow"])?["status","shadow","pp"]:["status","pp"],i=this.state.get(["DEVICE",...r,n,...o,...s,"screenFilter"]);if(i.find((e=>this.choices.isLocked(e,t))))return;const a=[...r,"control","load","slotList",...o,"presetList","items",t,"pp","xRequest"];this.connection.sendWSmessage(a,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[i]):(this.state.set("LOCAL/screenAuxSelection/keys",i),this.instance.checkFeedbacks("liveScreenSelection")))},e}get deviceSelectSource(){const e=super.deviceSelectSource;return e.callback=e=>{if("spec"===e.options.method){for(const t of e.options.screen)if(!this.choices.isLocked(t,e.options.preset))for(const r of e.options[`layer${t}`]){let n="sourceLayer";t.startsWith("A")&&(n="sourceBack"),"NATIVE"===r&&(n="sourceNative"),this.connection.sendWSmessage(["device","screenList","items",t,"presetList","items",this.choices.getPreset(t,e.options.preset),"layerList","items",r,"source","pp","inputNum"],e.options[n])}}else if("sel"===e.options.method){const t=this.choices.getPresetSelection("sel");this.choices.getSelectedLayers().filter((e=>!1===this.choices.isLocked(e.screenAuxKey,t))).forEach((r=>{let n="keep";r.screenAuxKey.startsWith("S")&&"NATIVE"===r.layerKey&&"keep"!==e.options.sourceNative?n=e.options.sourceNative:r.screenAuxKey.startsWith("S")&&r.layerKey.match(/^\d+$/)&&"keep"!==e.options.sourceLayer?n=e.options.sourceLayer:r.screenAuxKey.startsWith("A")&&r.layerKey.match(/^\d+$/)&&"keep"!==e.options.sourceBack&&(n=e.options.sourceBack),"keep"!==n&&this.connection.sendWSmessage(["device","screenList","items",r.screenAuxKey,"presetList","items",this.choices.getPreset(r.screenAuxKey,t),"layerList","items",r.layerKey,"source","pp","inputNum"],n)}))}this.instance.sendXupdate()},this.screens.forEach((t=>{const r=t.id.startsWith("S");e.options.push({id:`layer${t.id}`,type:"multidropdown",label:"Layer "+t.id,choices:this.choices.getLayerChoices(t.id,r),default:["1"],isVisibleData:t.id,isVisible:(e,t)=>"spec"===e.method&&e.screen.includes(t)})})),e.options.push({id:"sourceLayer",type:"dropdown",label:"Screen Layer Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.getSourceChoices()],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("S"))))if(e[`layer${t}`].find((e=>e.match(/^\d+$/))))return!0;return!1}},{id:"sourceNative",type:"dropdown",label:"Screen Background Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.choicesBackgroundSourcesPlusNone],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("S"))))if(e[`layer${t}`].find((e=>"NATIVE"===e)))return!0;return!1}},{id:"sourceBack",type:"dropdown",label:"Aux Layer Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.getAuxSourceChoices()],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("A"))))if(e[`layer${t}`].find((e=>e.match(/^\d+$/))))return!0;return!1}}),e}get devicePresetToggle(){const e=super.devicePresetToggle;return e.callback=e=>{const t=this.choices.getScreensAuxArray(!0).map((e=>e.id));let r=e.options.action;"toggle"===r&&(r=!1===this.state.get("DEVICE/device/screenGroupList/items/S1/control/pp/copyMode")?"off":"on"),"on"===r&&t.forEach((e=>this.connection.sendWSmessage(["device","screenGroupList","items",e,"control","pp","copyMode"],!1))),"off"===r&&t.forEach((e=>this.connection.sendWSmessage(["device","screenGroupList","items",e,"control","pp","copyMode"],!0)))},e}get remoteMultiviewerSelectWidget(){const e=super.remoteMultiviewerSelectWidget;return e.callback=e=>{const t=e.options.widget?.split(":")[0]??"1",r=e.options.widget?.split(":")[1]??"0";let n=[];n=this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewers/widgetSelection/widgetIds")].map((e=>({widgetKey:e.widgetKey,mocOutputLogicKey:e.multiviewerKey}))):[...this.state.get("LOCAL/widgetSelection/widgetIds")];const o=n.findIndex((e=>e.widgetKey==r&&e.mocOutputLogicKey==t));("deselect"===e.options.sel||"toggle"===e.options.sel)&&o>=0?n.splice(o,1):("select"===e.options.sel||"toggle"===e.options.sel)&&o<0?n.push({widgetKey:r,mocOutputLogicKey:t}):"selectExclusive"===e.options.sel&&(n=[{widgetKey:r,mocOutputLogicKey:t}]),this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/multiviewers/widgetSelection",[n.map((e=>({widgetKey:e.widgetKey,multiviewerKey:e.mocOutputLogicKey})))]):(this.state.set("LOCAL/widgetSelection/widgetIds",n),this.instance.checkFeedbacks("remoteWidgetSelection"))},e}get deviceMultiviewerSource(){const e=super.deviceMultiviewerSource;return e.callback=e=>{let t=[];t="sel"===e.options.widget?this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewers/widgetSelection/widgetIds")].map((e=>({widgetKey:e.widgetKey,mocOutputLogicKey:e.multiviewerKey}))):[...this.state.get("LOCAL/widgetSelection/widgetIds")]:[{widgetKey:e.options.widget.split(":")[1]??"0",mocOutputLogicKey:e.options.widget.split(":")[0]??"1"}];for(const r of t)this.connection.sendWSmessage(["device","monitoringList","items",r.mocOutputLogicKey,"layout","widgetList","items",r.widgetKey,"control","pp","source"],e.options.source)},e}get deviceAudioRouteBlock(){const e=this.choices.getAudioOutputChoices(),t=this.choices.getAudioInputChoices();return{name:"Route Audio (Block)",options:[{type:"dropdown",label:"Device",id:"device",choices:[],default:"1",isVisible:()=>!1},{type:"dropdown",label:"First Output Channel",id:"out1",choices:e,default:e[0]?.id,minChoicesForSearch:0},{type:"dropdown",label:"First Input Channel",id:"in1",choices:t,default:"NONE",minChoicesForSearch:0,tooltip:'If you choose "No Source" the whole Block will be unrouted'},{type:"number",label:"Block Size",id:"blocksize",default:Math.min(8,t.length),min:1,max:t.length,range:!0}],callback:r=>{const n=e.findIndex((e=>e.id===r.options.out1)),o=t.findIndex((e=>e.id===r.options.in1));if(n>-1&&o>-1){const s=Math.min(e.length-n,t.length-o,r.options.blocksize);for(let r=0;r<s;r+=1){const s=["device","audio","control","txList","items",e[n+r].id.toString().split(":")[0],"channelList","items",e[n+r].id.toString().split(":")[1],"control","pp","source"];this.connection.sendWSmessage(s,t[0===o?0:o+r].id)}}}}}get deviceAudioRouteChannels(){const e=this.choices.getAudioOutputChoices(),t=this.choices.getAudioInputChoices();return{name:"Route Audio (Channels)",options:[{type:"dropdown",label:"Device",id:"device",choices:[],default:1,isVisible:()=>!1},{type:"dropdown",label:"(first) output channel",id:"out1",choices:e,default:e[0]?.id,minChoicesForSearch:0},{type:"multidropdown",label:"input channel(s)",id:"in1",choices:t,default:["NONE"],minChoicesForSearch:0,minSelection:0}],callback:r=>{if(r.options.in1.length>0){const t=e.findIndex((e=>e.id===r.options.out1));if(t>-1){const n=Math.min(e.length-t,r.options.in1.length);for(let o=0;o<n;o+=1){const n=["device","audio","control","txList","items",e[t+o].id.toString().split(":")[0],"channelList","items",e[t+o].id.toString().split(":")[1],"control","pp","source"];this.connection.sendWSmessage(n,r.options.in1[o])}}}else{const e=["device","audio","control","txList","items",r.options.out1.split(":")[0],"channelList","items",r.options.out1.split(":")[1],"control","pp","source"];this.connection.sendWSmessage(e,t[0]?.id)}}}}get deviceTimerSetup(){const e=super.deviceTimerSetup;return e.callback=e=>{this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","type"],e.options.type),"CURRENTTIME"===e.options.type?this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","currentTimeMode"],e.options.currentTimeMode):this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","unitMode"],e.options.unitMode),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","red"],(0,n.splitRgb)(e.options.bg_color).r),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","green"],(0,n.splitRgb)(e.options.bg_color).g),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","blue"],(0,n.splitRgb)(e.options.bg_color).b),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","alpha"],Math.round(255*((0,n.splitRgb)(e.options.bg_color).a||1))),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","red"],(0,n.splitRgb)(e.options.fg_color).r),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","green"],(0,n.splitRgb)(e.options.fg_color).g),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","blue"],(0,n.splitRgb)(e.options.fg_color).b),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","alpha"],Math.round(255*((0,n.splitRgb)(e.options.fg_color).a||1)))},e}get deviceTestpatterns(){const e=[{id:"group",type:"dropdown",label:"Group",choices:[{id:"all",label:"All"},{id:"screenList",label:"Screen Canvas"},{id:"outputList",label:"Output Group"},{id:"inputList",label:"Input Group"}],default:"outputList"},{id:"screenList",type:"dropdown",label:"Screen",choices:this.choices.getScreenAuxChoices(),default:this.choices.getScreenAuxChoices()[0]?.id,isVisible:e=>"screenList"===e.group},{id:"outputList",type:"dropdown",label:"Output",choices:this.choices.getOutputChoices(),default:this.choices.getOutputChoices()[0]?.id,isVisible:e=>"outputList"===e.group},{id:"inputList",type:"dropdown",label:"Input",choices:this.choices.getLiveInputChoices(),default:this.choices.getLiveInputChoices()[0]?.id,isVisible:e=>"inputList"===e.group},{id:"patall",type:"dropdown",label:"Pattern",choices:[{id:"0",label:"Off"}],default:"0",isVisible:e=>"all"===e.group},{id:"screenListPat",type:"dropdown",label:"Pattern",choices:[{id:"NONE",label:"Off"},{id:"GEOMETRIC",label:"Geometric"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"HORIZONTAL_GREY_SCALE_2",label:"Horizontal Greysteps"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"}],default:"NONE",isVisible:e=>"screenList"===e.group},{id:"inputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"},{id:"COLOR",label:"Solid Color"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_16_16",label:"Grid 16x16"},{id:"GRID_32_32",label:"Grid 32x32"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"BURST_H",label:"Horizontal Burst"},{id:"BURST_V",label:"Vertical Burst"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"MOVING",label:"Moving Lines"},{id:"ID",label:"ID"}],default:"NO_PATTERN",isVisible:e=>"inputList"===e.group},{id:"outputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"},{id:"COLOR",label:"Solid Color"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"HORIZONTAL_GREY_SCALE_2",label:"Horizontal Greysteps"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_16_16",label:"Grid 16x16"},{id:"GRID_32_32",label:"Grid 32x32"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"BURST_H",label:"Horizontal Burst"},{id:"BURST_V",label:"Vertical Burst"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"MOVING",label:"Moving Lines"},{id:"ID",label:"ID"},{id:"SOFTEDGE",label:"Softedge"}],default:"NO_PATTERN",isVisible:e=>"outputList"===e.group}];return this.deviceTestpatterns_common(e)}get deviceGPO(){return{name:"Set GPO",options:[{id:"gpo",type:"number",label:"GPO",min:1,max:8,range:!0,default:1,step:1},{id:"action",type:"dropdown",label:"Action",choices:[{id:0,label:"Turn off"},{id:1,label:"Turn on"},{id:2,label:"Toggle"}],default:2}],callback:e=>{if(Math.ceil(e.options.gpo/8)>1)return;const t=["device","gpio","gpoList","items",Math.floor(e.options.gpo).toString()];let r=!1;(1===e.options.action||2===e.options.action&&!1===this.state.get(["DEVICE",...t,"status","pp","state"]))&&(r=!0),this.connection.sendWSmessage([...t,"control","pp","activate"],r)}}}}class se extends ne{actionsToUse=["deviceScreenMemory","deviceMasterMemory","deviceLayerMemory","deviceMultiviewerMemory","deviceTakeScreen","deviceCutScreen","deviceTbar","deviceTakeTime","deviceSelectSource","deviceInputKeying","deviceInputFreeze","devicePositionSize","deviceCopyProgram","devicePresetToggle","remoteMultiviewerSelectWidget","deviceMultiviewerSource","selectScreen","lockScreen","selectPreset","selectLayer","remoteSync","deviceAudioRouteBlock","deviceAudioRouteChannels","deviceTimerSetup","deviceTimerAdjust","deviceTimerTransport","deviceTestpatterns","cstawjcmd","cstawjgetcmd","deviceGPO","devicePower"];constructor(e){super(e),this.instance=e,this.init()}get deviceTakeScreen(){const e=super.deviceTakeScreen;return e.callback=e=>{let t="";for(const r of this.choices.getChosenScreenAuxes(e.options.screens)){let e=this.choices.getPreset(r,"pgm");if("A"===e)t="xTakeUp";else{if("B"!==e)return;t="xTakeDown"}this.connection.sendWSmessage(["device","screenAuxGroupList","items",r,"control","pp",t],!0)}},e}get deviceScreenMemory(){const e=super.deviceScreenMemory;return e.options[0].choices=[{id:"sel",label:"Selected"},...this.choices.getScreenAuxChoices()],e.callback=e=>{const t=this.choices.getChosenScreenAuxes(e.options.screens),r=this.choices.getPresetSelection(e.options.preset,!0);for(const n of t){const o=["device","presetBank","control","load","slotList","items",e.options.memory,n.startsWith("A")?"auxiliaryList":"screenList","items",n,"presetList","items",r,"pp","xRequest"];this.choices.isLocked(n,r)||(this.connection.sendWSmessage(o,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[t]):(this.state.set("LOCAL/screenAuxSelection/keys",t),this.instance.checkFeedbacks("liveScreenSelection"))))}},e}get deviceMasterMemory(){const e=super.deviceMasterMemory;return e.callback=e=>{const t=this.choices.getPresetSelection(e.options.preset,!0),r=["device","masterPresetBank"],n="bankList",o=["items",e.options.memory],s=this.state.get(["DEVICE",...r,n,...o,"status","pp","isShadow"])?["status","shadow","pp"]:["status","pp"],i=this.state.get(["DEVICE",...r,n,...o,...s,"screenFilter"]),a=this.state.get(["DEVICE",...r,n,...o,...s,"auxFilter"]);if([...i,...a].some((e=>this.choices.isLocked(e,t))))return;const c=[...r,"control","load","slotList",...o,"presetList","items",t,"pp","xRequest"];this.connection.sendWSmessage(c,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[[...i,...a]]):(this.state.set("LOCAL/screenAuxSelection/keys",[...i,...a]),this.instance.checkFeedbacks("liveScreenSelection")))},e}get deviceSelectSource(){const e=super.deviceSelectSource;return e.callback=e=>{if("spec"===e.options.method){for(const t of e.options.screen)if(!this.choices.isLocked(t,e.options.preset))for(const r of e.options[`layer${t}`]){let n="sourceLayer";t.startsWith("A")&&(n="sourceBack"),"NATIVE"===r&&(n="sourceNative"),this.connection.sendWSmessage(["device",t.startsWith("A")?"auxiliaryList":"screenList","items",t,"presetList","items",this.choices.getPreset(t,e.options.preset),"layerList","items",r,"source","pp","inputNum"],e.options[n])}}else if("sel"===e.options.method){const t=this.choices.getPresetSelection("sel");this.choices.getSelectedLayers().filter((e=>!1===this.choices.isLocked(e.screenAuxKey,t))).forEach((r=>{let n="keep";r.screenAuxKey.startsWith("S")&&"NATIVE"===r.layerKey&&"keep"!==e.options.sourceNative?n=e.options.sourceNative:r.screenAuxKey.startsWith("S")&&r.layerKey.match(/^\d+$/)&&"keep"!==e.options.sourceLayer?n=e.options.sourceLayer:r.screenAuxKey.startsWith("A")&&r.layerKey.match(/^\d+$/)&&"keep"!==e.options.sourceBack&&(n=e.options.sourceBack),"keep"!==n&&this.connection.sendWSmessage(["device",r.screenAuxKey.startsWith("A")?"auxiliaryList":"screenList","items",r.screenAuxKey,"presetList","items",this.choices.getPreset(r.screenAuxKey,t),"layerList","items",r.layerKey,"source","pp","inputNum"],n)}))}this.instance.sendXupdate()},this.choices.getScreensAuxArray().forEach((t=>{const r=t.id.startsWith("S");e.options.push({id:`layer${t.id}`,type:"multidropdown",label:"Layer "+t.id,choices:this.choices.getLayerChoices(t.id,r),default:["1"],isVisibleData:t.id,isVisible:(e,t)=>"spec"===e.method&&e.screen.includes(t)})})),e.options.push({id:"sourceLayer",type:"dropdown",label:"Screen Layer Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.getSourceChoices()],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("S"))))if(e[`layer${t}`].find((e=>e.match(/^\d+$/))))return!0;return!1}},{id:"sourceNative",type:"dropdown",label:"Screen Background Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.choicesBackgroundSourcesPlusNone],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("S"))))if(e[`layer${t}`].find((e=>"NATIVE"===e)))return!0;return!1}},{id:"sourceBack",type:"dropdown",label:"Aux Layer Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.getAuxSourceChoices()],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("A"))))if(e[`layer${t}`].find((e=>e.match(/^\d+$/))))return!0;return!1}}),e}get devicePresetToggle(){const e=super.devicePresetToggle;return e.callback=e=>{const t=this.choices.getScreensAuxArray(!0).map((e=>e.id));let r=e.options.action;"toggle"===r&&(r=!1===this.state.get("DEVICE/device/screenAuxGroupList/items/S1/control/pp/copyMode")?"off":"on"),"on"===r&&t.forEach((e=>this.connection.sendWSmessage(["device","screenAuxGroupList","items",e,"control","pp","copyMode"],!1))),"off"===r&&t.forEach((e=>this.connection.sendWSmessage(["device","screenAuxGroupList","items",e,"control","pp","copyMode"],!0)))},e}get selectLayer(){const e=super.selectLayer;return e.callback=e=>{let t=[];e.options.method?.endsWith("tgl")&&(t=this.state.syncSelection?this.state.get("REMOTE/live/screens/layerSelection/layerIds").map((e=>{if("SCREEN_LAYER_ID"===e.type)return{screenAuxKey:e.screenKey,layerKey:e.screenLayerKey};if("AUX_LAYER_ID"===e.type)return{screenAuxKey:e.auxKey,layerKey:e.auxLayerKey};{const t=Object.keys(e).find((e=>e.match(/(?<!Layer)Key/))),r=Object.keys(e).find((e=>e.match(/LayerKey/)));return t&&r?{screenAuxKey:e[t],layerKey:e[r]}:{}}})):this.state.get("LOCAL/layerIds"));let r=[];e.options.method?.startsWith("sel")&&(r=this.choices.getSelectedScreens()),e.options.method?.startsWith("spec")&&(r=e.options.screen);for(const n of r){let r=[];if(e.options.method?.startsWith("spec")&&(r=e.options[`layer${n}`]),e.options.method?.startsWith("sel")&&(r=e.options.layersel),e.options.method?.endsWith("tgl"))for(const e of r){if("NATIVE"!==e&&isNaN(parseInt(e)))continue;const r=t.findIndex((t=>t.screenAuxKey===n&&t.layerKey.replace("NATIVE","BKG")===e.replace("NATIVE","BKG")));-1===r?t.push({screenAuxKey:n,layerKey:e}):t.splice(r,1)}else for(const e of r)"NATIVE"!==e&&isNaN(parseInt(e))||t.push({screenAuxKey:n,layerKey:e})}this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/layerSelection",[t.map((e=>"A"===e.screenAuxKey.charAt(0)?{type:"AUX_LAYER_ID",auxKey:e.screenAuxKey,auxLayerKey:e.layerKey}:{type:"SCREEN_LAYER_ID",screenKey:e.screenAuxKey,screenLayerKey:e.layerKey}))]):(this.state.set("LOCAL/layerIds",t),this.instance.checkFeedbacks("remoteLayerSelection"))},e}get remoteMultiviewerSelectWidget(){const e=super.remoteMultiviewerSelectWidget;return e.callback=e=>{const t=e.options.widget?.split(":")[0]??"1",r=e.options.widget?.split(":")[1]??"0";let n=[];n=this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewers/widgetSelection/widgetIds")]:[...this.state.get("LOCAL/widgetSelection/widgetIds")];const o=n.findIndex((e=>e.widgetKey==r&&e.mocOutputLogicKey==t));("deselect"===e.options.sel||"toggle"===e.options.sel)&&o>=0?n.splice(o,1):("select"===e.options.sel||"toggle"===e.options.sel)&&o<0?n.push({widgetKey:r,mocOutputLogicKey:t}):"selectExclusive"===e.options.sel&&(n=[{widgetKey:r,mocOutputLogicKey:t}]),this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/multiviewers/widgetSelection",[n]):(this.state.set("LOCAL/widgetSelection/widgetIds",n),this.instance.checkFeedbacks("remoteWidgetSelection"))},e}get deviceMultiviewerSource(){const e=super.deviceMultiviewerSource;return e.callback=e=>{let t=[];t="sel"===e.options.widget?this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewers/widgetSelection/widgetIds")]:[...this.state.get("LOCAL/widgetSelection/widgetIds")]:[{widgetKey:e.options.widget.split(":")[1]??"0",mocOutputLogicKey:e.options.widget.split(":")[0]??"1"}];for(const r of t)this.connection.sendWSmessage(["device","monitoringList","items",r.mocOutputLogicKey,"layout","widgetList","items",r.widgetKey,"control","pp","source"],e.options.source)},e}get deviceAudioRouteBlock(){const e=this.choices.getLinkedDevicesChoices().length,t=Array.from({length:e},((e,t)=>this.choices.getAudioOutputChoices(t+1))),r=Array.from({length:e},((e,t)=>this.choices.getAudioInputChoices(t+1))),n={name:"Route Audio (Block)",options:[{type:"dropdown",label:"Device",id:"device",choices:this.choices.getLinkedDevicesChoices(),default:1,isVisibleData:e,isVisible:(e,t)=>t>1,minChoicesForSearch:3},...t.map(((e,t)=>({type:"dropdown",label:"First Output Channel",id:`out${t+1}`,choices:e,default:e[0]?.id,minChoicesForSearch:0,isVisibleData:t+1,isVisible:(e,t)=>e.device==t}))),...r.map(((e,t)=>({type:"dropdown",label:"First Input Channel",id:`in${t+1}`,choices:e,default:e[0]?.id,minChoicesForSearch:0,isVisibleData:t+1,isVisible:(e,t)=>e.device==t}))),{type:"number",label:"Block Size",id:"blocksize",default:Math.min(8,Math.max(...r.map((e=>e.length)))),min:1,max:Math.max(...r.map((e=>e.length))),range:!0}],callback:e=>{const n=e.options.device,o=t[n-1].findIndex((t=>t.id===e.options[`out${n}`])),s=r[n-1].findIndex((t=>t.id===e.options[`in${n}`]));if(o>-1&&s>-1){const i=Math.min(t[n-1].length-o,r[n-1].length-s,e.options.blocksize);for(let e=0;e<i;e+=1){const i=["device","audio","control","deviceList","items",n.toString(),"txList","items",t[n-1][o+e].id.toString().split(":")[0],"channelList","items",t[n-1][o+e].id.toString().split(":")[1],"control","pp","source"];this.connection.sendWSmessage(i,r[n-1][0===s?0:s+e].id)}}}};return n}get deviceAudioRouteChannels(){const e=this.choices.getLinkedDevicesChoices().length,t=Array.from({length:e},((e,t)=>this.choices.getAudioOutputChoices(t+1))),r=Array.from({length:e},((e,t)=>this.choices.getAudioInputChoices(t+1))),n={name:"Route Audio (Channels)",options:[{type:"dropdown",label:"Device",id:"device",choices:this.choices.getLinkedDevicesChoices(),default:1,isVisibleData:e,isVisible:(e,t)=>t>1,minChoicesForSearch:3},...t.map(((e,t)=>({type:"dropdown",label:"First Output Channel",id:`out${t+1}`,choices:e,default:e[0]?.id,minChoicesForSearch:0,isVisibleData:t+1,isVisible:(e,t)=>e.device==t}))),...r.map(((e,t)=>({type:"multidropdown",label:"input channel(s)",id:`in${t+1}`,choices:e,default:["NONE"],minChoicesForSearch:0,minSelection:0,isVisibleData:t+1,isVisible:(e,t)=>e.device==t})))],callback:e=>{const n=e.options.device;if(e.options[`in${n}`].length>0){const r=t[n-1].findIndex((t=>t.id===e.options[`out${n}`]));if(r>-1){const o=Math.min(t[n-1].length-r,e.options[`in${n}`].length);for(let s=0;s<o;s+=1){const o=["device","audio","control","deviceList","items",n.toString(),"txList","items",t[n-1][r+s].id.toString().split(":")[0],"channelList","items",t[n-1][r+s].id.toString().split(":")[1],"control","pp","source"];this.connection.sendWSmessage(o,e.options[`in${n}`][s])}}}else{const t=["device","audio","control","deviceList","items",n.toString(),"txList","items",e.options[`out${n}`].split(":")[0],"channelList","items",e.options[`out${n}`].split(":")[1],"control","pp","source"];this.connection.sendWSmessage(t,r[n-1][0]?.id)}}};return n}get deviceTimerSetup(){const e=super.deviceTimerSetup;return e.callback=e=>{this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","type"],e.options.type),"CURRENTTIME"===e.options.type?this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","currentTimeMode"],e.options.currentTimeMode):this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","unitMode"],e.options.unitMode),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","red"],(0,n.splitRgb)(e.options.bg_color).r),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","green"],(0,n.splitRgb)(e.options.bg_color).g),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","blue"],(0,n.splitRgb)(e.options.bg_color).b),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","background","color","pp","alpha"],Math.round(255*((0,n.splitRgb)(e.options.bg_color).a??1))),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","red"],(0,n.splitRgb)(e.options.fg_color).r),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","green"],(0,n.splitRgb)(e.options.fg_color).g),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","blue"],(0,n.splitRgb)(e.options.fg_color).b),this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","text","color","pp","alpha"],Math.round(255*((0,n.splitRgb)(e.options.fg_color).a??1)))},e}get deviceInputKeying(){const e=super.deviceInputKeying;return e.options[1]={id:"mode",type:"dropdown",label:"Mode",choices:[{id:"DISABLE",label:"Keying Disabled"},{id:"CHROMA",label:"Chroma Key"},{id:"LUMA",label:"Luma Key"},{id:"CREMATTE3D",label:"CremaTTe 3D"},{id:"CUT_AND_FILL",label:"Cut and Fill"}],default:"DISABLE"},e}get deviceTestpatterns(){const e=[{id:"group",type:"dropdown",label:"Group",choices:[{id:"all",label:"All"},{id:"screenList",label:"Screen Canvas"},{id:"outputList",label:"Output Group"},{id:"inputList",label:"Input Group"}],default:"outputList"},{id:"screenList",type:"dropdown",label:"Screen",choices:this.choices.getScreenChoices(),default:this.choices.getScreenChoices()[0]?.id,isVisible:e=>"screenList"===e.group},{id:"outputList",type:"dropdown",label:"Output",choices:this.choices.getOutputChoices(),default:this.choices.getOutputChoices()[0]?.id,isVisible:e=>"outputList"===e.group},{id:"inputList",type:"dropdown",label:"Input",choices:this.choices.getLiveInputChoices(),default:this.choices.getLiveInputChoices()[0]?.id,isVisible:e=>"inputList"===e.group},{id:"patall",type:"dropdown",label:"Pattern",choices:[{id:"0",label:"Off"}],default:"0",isVisible:e=>"all"===e.group},{id:"screenListPat",type:"dropdown",label:"Pattern",choices:[{id:"NONE",label:"Off"},{id:"GEOMETRIC",label:"Geometric"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"HORIZONTAL_GREY_SCALE_2",label:"Horizontal Greysteps"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"THIRTY_BPP_1",label:"30 Bit per Pixel 1"},{id:"THIRTY_BPP_2",label:"30 Bit per Pixel 2"}],default:"NONE",isVisible:e=>"screenList"===e.group},{id:"inputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"},{id:"COLOR",label:"Solid Color"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_16_16",label:"Grid 16x16"},{id:"GRID_32_32",label:"Grid 32x32"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"BURST_H",label:"Horizontal Burst"},{id:"BURST_V",label:"Vertical Burst"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"MOVING",label:"Moving Lines"},{id:"ID",label:"ID"}],default:"NO_PATTERN",isVisible:e=>"inputList"===e.group},{id:"outputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"},{id:"COLOR",label:"Solid Color"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE_1",label:"Horizontal Greyscale"},{id:"HORIZONTAL_GREY_SCALE_2",label:"Horizontal Greysteps"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_16_16",label:"Grid 16x16"},{id:"GRID_32_32",label:"Grid 32x32"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"BURST_H",label:"Horizontal Burst"},{id:"BURST_V",label:"Vertical Burst"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"MOVING",label:"Moving Lines"},{id:"ID",label:"ID"},{id:"SOFTEDGE",label:"Softedge"}],default:"NO_PATTERN",isVisible:e=>"outputList"===e.group}];return this.deviceTestpatterns_common(e)}get deviceGPO(){let e;if(this.choices.getLinkedDevicesChoices().length){e="GPO number 1-8 for device #1";for(let t=1;t<this.choices.getLinkedDevicesChoices().length;t+=1)e+=`, ${8*t+1}-${8*t+8} for device #${t+1}`}return{name:"Set GPO",options:[{id:"gpo",type:"number",label:"GPO",min:1,max:8*this.choices.getLinkedDevicesChoices().length,range:!0,default:1,step:1,tooltip:e},{id:"action",type:"dropdown",label:"Action",choices:[{id:0,label:"Turn off"},{id:1,label:"Turn on"},{id:2,label:"Toggle"}],default:2}],callback:e=>{const t=Math.floor((e.options.gpo-1)%8+1).toString(),r=["device","gpios","deviceList","items",Math.ceil(e.options.gpo/8).toString(),"gpoList","items",t];let n=!1;(1===e.options.action||2===e.options.action&&!1===this.state.get(["DEVICE",...r,"status","pp","state"]))&&(n=!0),this.connection.sendWSmessage([...r,"control","pp","activate"],n)}}}}class ie extends ne{actionsToUse=["deviceScreenMemory","deviceAuxMemory","deviceMasterMemory","deviceMultiviewerMemory","deviceTakeScreen","deviceCutScreen","deviceTbar","deviceTakeTime","deviceSelectSource","deviceInputKeying","deviceInputFreeze","deviceInputPlug","deviceLayerFreeze","deviceScreenFreeze","devicePositionSize","deviceCopyProgram","devicePresetToggle","remoteMultiviewerSelectWidget","deviceMultiviewerSource","selectScreen","lockScreen","selectPreset","selectLayer","remoteSync","deviceStreamControl","deviceStreamAudioMute","deviceAudioRouteBlock","deviceAudioRouteChannels","deviceTimerSetup","deviceTimerAdjust","deviceTimerTransport","deviceTestpatterns","cstawjcmd","cstawjgetcmd","devicePower"];constructor(e){super(e),this.instance=e,this.init()}get deviceScreenMemory(){const e=super.deviceScreenMemory;return e.options[0].choices=[{id:"sel",label:"Selected"},...this.choices.getScreenChoices()],e.callback=e=>{const t=this.choices.getChosenScreens(e.options.screens),r=this.choices.getPresetSelection(e.options.preset,!0);for(const n of t){const o=["device","preset","bank","control","load","slotList","items",e.options.memory,"screenList","items",n.replaceAll(/\D/g,""),"presetList","items",r,"pp","xRequest"];this.choices.isLocked(n,r)||(this.connection.sendWSmessage(o,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[t]):(this.state.set("LOCAL/screenAuxSelection/keys",t),this.instance.checkFeedbacks("liveScreenSelection"))))}},e}get deviceAuxMemory(){const e=super.deviceAuxMemory;return e.callback=e=>{const t=this.choices.getChosenAuxes(e.options.screens),r=this.choices.getPresetSelection(e.options.preset,!0);for(const n of t){if(this.choices.isLocked(n,r))continue;const o=["device","preset","auxBank","control","load","slotList","items",e.options.memory,"auxiliaryScreenList","items",n.replace(/\D/g,""),"presetList","items",r,"pp","xRequest"];this.connection.sendWSmessage(o,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[t]):(this.state.set("LOCAL/screenAuxSelection/keys",t),this.instance.checkFeedbacks("liveScreenSelection")))}},e}get deviceMasterMemory_common(){return{name:"Recall Master Memory",options:[{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"sel",label:"Selected"},...this.choices.choicesPreset],default:"sel"},{id:"memory",type:"dropdown",label:"Master Memory",choices:this.choices.getMasterMemoryChoices(),default:this.choices.getMasterMemoryChoices()[0]?.id},{id:"selectScreens",type:"checkbox",label:"Select screens after load",default:!0}]}}get deviceMasterMemory(){const e=super.deviceMasterMemory;return e.callback=e=>{const t=this.choices.getPresetSelection(e.options.preset,!0),r=["device","preset","masterBank"],n="slotList",o=["items",e.options.memory],s=this.state.get(["DEVICE",...r,n,...o,"status","pp","isShadow"])?["status","shadow","pp"]:["status","pp"],i=[...this.state.get(["DEVICE",...r,n,...o,...s,"screenFilter"]).map((e=>"S"+e)),...this.state.get(["DEVICE",...r,n,...o,...s,"auxFilter"]).map((e=>"A"+e))];if(i.some((e=>this.choices.isLocked(e,t))))return;const a=[...r,"control","load","slotList",...o,"presetList","items",t,"pp","xRequest"];this.connection.sendWSmessage(a,!1,!0),this.instance.sendXupdate(),e.options.selectScreens&&(this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/screenAuxSelection",[i]):(this.state.set("LOCAL/screenAuxSelection/keys",i),this.instance.checkFeedbacks("liveScreenSelection")))},e}get deviceMultiviewerMemory(){const e=super.deviceMultiviewerMemory;return e.callback=e=>{const t=["device","multiviewer","bankList","control","load","slotList","items",e.options.memory,"pp","xRequest"];this.connection.sendWSmessage(t,!1,!0)},e}get deviceTakeScreen(){const e=super.deviceTakeScreen;return e.callback=e=>{for(const t of this.choices.getChosenScreenAuxes(e.options.screens)){const e=this.choices.getScreenInfo(t);this.connection.sendWSmessage(["device","transition",`${e.prefixverylong}List`,"items",e.numstr,"control","pp","xTake"],!0)}},e}get deviceCutScreen(){const e=super.deviceCutScreen;return e.callback=e=>{for(const t of this.choices.getChosenScreenAuxes(e.options.screens))this.connection.sendWSmessage([...t.startsWith("A")?this.constants.auxGroupPath:this.constants.screenGroupPath,"items",t.replaceAll(/\D/g,""),"control","pp","xCut"],!0)},e}get deviceTbar(){const e=super.deviceTbar;return e.callback=async e=>{const t=parseFloat(await this.instance.parseVariablesInString(e.options.position)),r=parseFloat(await this.instance.parseVariablesInString(e.options.maximum));if("number"==typeof t&&"number"==typeof r&&t>=0&&r>=0){let n=0;t>=r?n=1:r>0&&(n=t/r);const o=Math.round(65535*n);for(const t of this.choices.getChosenScreenAuxes(e.options.screens))this.connection.sendWSmessage([...t.startsWith("A")?this.constants.auxGroupPath:this.constants.screenGroupPath,"items",t.replaceAll(/\D/g,""),"control","pp","tbarPosition"],o)}},e}get deviceTakeTime(){const e=super.deviceTakeTime;return e.callback=e=>{const t=10*e.options.time;this.choices.getChosenScreenAuxes(e.options.screens).forEach((e=>this.connection.sendWSmessage([...e.startsWith("A")?this.constants.auxGroupPath:this.constants.screenGroupPath,"items",e.replaceAll(/\D/g,""),"control","pp","takeTime"],t)))},e}get deviceSelectSource(){const e=super.deviceSelectSource;return e.callback=e=>{if("spec"===e.options.method)for(const t of e.options.screen){const r=this.choices.getScreenInfo(t);if(this.choices.isLocked(r.id,e.options.preset))continue;const n=["device",r.prefixverylong+"List","items",r.platformId,"presetList","items",this.choices.getPreset(r.id,e.options.preset)];if(r.isAux&&"keep"!==e.options.sourceBack)this.connection.sendWSmessage([...n,"background","source","pp","content"],e.options.sourceBack);else for(const t of e.options[`layer${r}`])"NATIVE"===t&&"keep"!==e.options.sourceNative?this.connection.sendWSmessage([...n,"background","source","pp","set"],e.options.sourceNative.replace(/\D/g,"")):"TOP"===t&&"keep"!==e.options.sourceFront?this.connection.sendWSmessage([...n,"top","source","pp","frame"],e.options.sourceFront.replace(/\D/g,"")):"keep"!==e.options.sourceLayer&&this.connection.sendWSmessage([...n,"liveLayerList","items",t,"source","pp","input"],e.options.sourceLayer)}else if("sel"===e.options.method){const t=this.choices.getPresetSelection("sel");this.choices.getSelectedLayers().filter((e=>!1===this.choices.isLocked(e.screenAuxKey,t))).map((e=>({screen:this.choices.getScreenInfo(e.screenAuxKey),layerKey:e.layerKey}))).forEach((t=>{const r=["device",t.screen.isAux?"auxiliaryScreenList":"screenList","items",t.screen.platformId,"presetList","items",this.choices.getPreset(t.screen.id,"sel")];"BKG"===t.layerKey&&t.screen.isScreen&&"keep"!==e.options.sourceNative?this.connection.sendWSmessage([...r,"background","source","pp","set"],e.options.sourceNative.replace(/\D/g,"")):"BKG"===t.layerKey&&t.screen.isAux&&"keep"!==e.options.sourceBack?this.connection.sendWSmessage([...r,"background","source","pp","content"],e.options.sourceBack):"TOP"===t.layerKey&&"keep"!==e.options.sourceFront?this.connection.sendWSmessage([...r,"top","source","pp","frame"],e.options.sourceFront.replace(/\D/g,"")):"keep"!==e.options.sourceLayer&&this.connection.sendWSmessage([...r,"liveLayerList","items",t.layerKey,"source","pp","input"],e.options.sourceLayer)}))}this.instance.sendXupdate()},this.choices.getScreensArray().forEach((t=>{e.options.push({id:`layer${t.id}`,type:"multidropdown",label:"Layer "+t.id,choices:this.choices.getLayerChoices(t.id),default:["1"],isVisibleData:t.id,isVisible:(e,t)=>"spec"===e.method&&e.screen.includes(t)})})),e.options.push({id:"sourceNative",type:"dropdown",label:"Screen Background Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.choicesBackgroundSourcesPlusNone],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("S"))))if(e[`layer${t}`].find((e=>"NATIVE"===e)))return!0;return!1}},{id:"sourceLayer",type:"dropdown",label:"Screen Layer Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.getSourceChoices()],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;for(const t of e.screen)if(e[`layer${t}`]?.find((e=>e.match(/^\d+$/))))return!0;return!1}},{id:"sourceFront",type:"dropdown",label:"Screen Foreground Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.choicesForegroundImagesSource],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("S"))))if(e[`layer${t}`].find((e=>"TOP"===e)))return!0;return!1}},{id:"sourceBack",type:"dropdown",label:"Aux Background Source",choices:[{id:"keep",label:"Don't change source"},...this.choices.getAuxBackgroundChoices()],default:"keep",isVisible:e=>{if("sel"===e.method)return!0;if("spec"===e.method)for(const t of e.screen.filter((e=>e.startsWith("A"))))if(e[`layer${t}`].find((e=>"BKG"===e)))return!0;return!1}}),e}get deviceInputKeying(){const e=super.deviceInputKeying;return e.callback=e=>{let t=e.options.input.replace("IN_","INPUT_");this.connection.sendWSmessage(["device","inputList","items",t,"plugList","items",this.state.get("DEVICE/device/inputList/items/"+t+"/status/pp/plug"),"settings","keying","control","pp","mode"],e.options.mode),this.instance.sendXupdate()},e}get deviceInputFreeze(){const e=super.deviceInputFreeze;return e.callback=e=>{const t=e.options.input.replace("IN_","INPUT_");let r=!1;1===e.options.mode?r=!0:2===e.options.mode&&(r=!this.state.get("DEVICE/device/inputList/items/"+t+"/control/pp/freeze")),this.connection.sendWSmessage(["device","inputList","items",t,"control","pp","freeze"],r)},e}get deviceInputPlug(){return{name:"Set Input Plug",options:[{id:"input",type:"dropdown",label:"Input",choices:this.choices.getLiveInputArray().filter((e=>this.choices.getPlugChoices(e.id).length>1)).map((e=>({id:e.id,label:"Input "+e.index+(e.label.length?" - "+e.label:"")}))),default:this.choices.getLiveInputArray().filter((e=>this.choices.getPlugChoices(e.id).length>1)).map((e=>e.id))[0]??""},...this.choices.getLiveInputArray().filter((e=>this.choices.getPlugChoices(e.id).length>1)).map((e=>{const t=this.choices.getPlugChoices(e.id);return{id:"plugs"+e.id,type:"dropdown",label:"Plug",choices:t,default:t[0].id,isVisibleData:e.id,isVisible:(e,t)=>e.input==t}}))],callback:e=>{this.connection.sendWSmessage(["device","inputList","items",e.options.input??"","control","pp","plug"],e.options[`plugs${e.options.input}`]??"1")}}}get devicePositionSize(){const e=super.devicePositionSize;return e.options[0]={id:"screen",type:"dropdown",label:"Screen",choices:[{id:"sel",label:"Selected Screen(s)"},...this.choices.getScreenChoices()],default:"sel"},e}get devicePresetToggle(){const e=super.devicePresetToggle;return e.callback=e=>{const t=this.choices.getScreensAuxArray(!0).map((e=>this.choices.getScreenInfo(e.id)));let r=e.options.action;"toggle"===r&&(r=!0===this.state.get("DEVICE/device/transition/screenList/items/1/control/pp/enablePresetToggle")?"off":"on"),"on"===r&&t.forEach((e=>this.connection.sendWSmessage(["device","transition",e.prefixverylong+"List","items",e.numstr,"control","pp","enablePresetToggle"],!0))),"off"===r&&t.forEach((e=>this.connection.sendWSmessage(["device","transition",e.prefixverylong+"List","items",e.numstr,"control","pp","enablePresetToggle"],!1)))},e}get remoteMultiviewerSelectWidget(){const e=super.remoteMultiviewerSelectWidget;return e.callback=e=>{const t=e.options.widget?.split(":")[0]??"1",r=e.options.widget?.split(":")[1]??"0";let n=[];n=this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewer/widgetSelection/widgetKeys").map((e=>({widgetKey:e,mocOutputLogicKey:"1"})))]:[...this.state.get("LOCAL/widgetSelection/widgetIds")];const o=n.findIndex((e=>e.widgetKey==r&&e.mocOutputLogicKey==t));("deselect"===e.options.sel||"toggle"===e.options.sel)&&o>=0?n.splice(o,1):("select"===e.options.sel||"toggle"===e.options.sel)&&o<0?n.push({widgetKey:r,mocOutputLogicKey:t}):"selectExclusive"===e.options.sel&&(n=[{widgetKey:r,mocOutputLogicKey:t}]),this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/multiviewer/widgetSelection",[n.map((e=>e.widgetKey))]):(this.state.set("LOCAL/widgetSelection/widgetIds",n),this.instance.checkFeedbacks("remoteWidgetSelection"))},e}get deviceMultiviewerSource(){const e=super.deviceMultiviewerSource;return e.callback=e=>{let t=[];t="sel"===e.options.widget?this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewer/widgetSelection/widgetKeys").map((e=>({widgetKey:e,mocOutputLogicKey:"1"})))]:[...this.state.get("LOCAL/widgetSelection/widgetIds")]:[{widgetKey:e.options.widget.split(":")[1]??"0",mocOutputLogicKey:e.options.widget.split(":")[0]??"1"}];for(const r of t)this.connection.sendWSmessage(["device","multiviewer","widgetList","items",r.widgetKey,"control","pp","source"],e.options.source)},e}get selectLayer(){const e=super.selectLayer;return e.callback=e=>{let t=[];e.options.method?.endsWith("tgl")&&(t=this.state.syncSelection?this.state.get("REMOTE/live/screens/layerSelection/layerIds").map((e=>({screenAuxKey:e.screenAuxKey.replace(/(?<!^)\D/g,""),layerKey:e.layerKey.replace(/LIVE_/,"").replace(/BKG/,"NATIVE")}))):this.state.get("LOCAL/layerIds"));let r=[];e.options.method?.startsWith("sel")&&(r=this.choices.getSelectedScreens()),e.options.method?.startsWith("spec")&&(r=e.options.screen);for(const n of r){let r=[];if(e.options.method?.startsWith("spec")&&(r=e.options[`layer${n}`]),e.options.method?.startsWith("sel")&&(r=e.options.layersel),e.options.method?.endsWith("tgl"))for(const e of r){const r=t.findIndex((t=>t.screenAuxKey===n&&t.layerKey===e));-1===r?t.push({screenAuxKey:n,layerKey:e}):t.splice(r,1)}else for(const e of r)t.push({screenAuxKey:n,layerKey:e})}this.state.syncSelection?this.connection.sendWSdata("REMOTE","replace","/live/screens/layerSelection",[t.map((e=>({screenAuxKey:this.choices.getScreenInfo(e.screenAuxKey).platformLongId,layerKey:"NATIVE"==e.layerKey?"BKG":e.layerKey.replace(/(\d+)/,"LIVE_$1")})))]):(this.state.set("LOCAL/layerIds",t),this.instance.checkFeedbacks("remoteLayerSelection"))},e}get deviceStreamControl(){return{name:"Stream Control",options:[{type:"dropdown",label:"Action",id:"stream",choices:[{id:"on",label:"Start Stream"},{id:"off",label:"Stop Stream"},{id:"toggle",label:"Toggle Stream on/off"}],default:"on"}],callback:e=>{let t=e.options.stream;"toggle"===t&&("NONE"===this.state.get("DEVICE/device/streaming/status/pp/mode")?t="on":"LIVE"===this.state.get("DEVICE/device/streaming/status/pp/mode")?t="off":(t="doNothing",this.instance.log("warn","Toggle stream on/off could not be sent because stream is neither running nor stopped (stream state: "+this.state.get("DEVICE/device/streaming/status/pp/mode")+")"))),"on"===t&&this.connection.sendWSmessage(["device","streaming","control","pp","start"],!0),"off"===t&&this.connection.sendWSmessage(["device","streaming","control","pp","start"],!1)}}}get deviceStreamAudioMute(){return{name:"Stream Audio Mute",options:[{type:"dropdown",label:"Action",id:"stream",choices:[{id:"on",label:"Unmute"},{id:"off",label:"Mute"},{id:"toggle",label:"Toggle"}],default:"on"}],callback:e=>{let t=e.options.stream;"toggle"===t&&(t=this.state.get("DEVICE/device/streaming/control/audio/live/pp/mute")?"on":"off"),"on"===t&&this.connection.sendWSmessage(["device","streaming","control","audio","live","pp","mute"],!1),"off"===t&&this.connection.sendWSmessage(["device","streaming","control","audio","live","pp","mute"],!0)}}}get deviceAudioRouteBlock(){const e=this.choices.getAudioCustomBlockChoices(),t=this.choices.getAudioInputChoices();return{name:"Route Audio (Block)",options:[{type:"dropdown",label:"Device",id:"device",choices:[],default:"1",isVisible:()=>!1},{type:"dropdown",label:"First Output Channel",id:"out1",choices:e,default:e[0]?.id,minChoicesForSearch:0},{type:"dropdown",label:"First Input Channel",id:"in1",choices:t,default:"NONE",minChoicesForSearch:0,tooltip:'If you choose "No Source" the whole Block will be unrouted'},{type:"number",label:"Block Size",id:"blocksize",default:8,min:1,max:t.length,range:!0}],callback:r=>{const n=e.findIndex((e=>e.id===r.options.out1)),o=t.findIndex((e=>e.id===r.options.in1));if(n>-1&&o>-1){const s=Math.min(e.length-n,t.length-o,r.options.blocksize),i={};for(let r=0;r<s;r+=1){const s=e[n+r].id,a=t[0===o?0:o+r].id,c=s.toString().split(":")[0],l=s.toString().split(":")[1];i[c]||(i[c]=[...this.state.get("DEVICE/device/audio/custom/sourceList/items/"+c+"/control/pp/channelMapping")]),i[c][parseInt(l)-1]=a.toString()}Object.keys(i).forEach((e=>{const t=["device","audio","custom","sourceList","items",e,"control","pp","channelMapping"];this.connection.sendWSmessage(t,i[e])}))}else console.error("%s can't be found in available outputs or %s can't be found in available inputs",r.options.out1,r.options.in1)}}}get deviceAudioRouteChannels(){const e=this.choices.getAudioCustomBlockChoices(),t=this.choices.getAudioInputChoices();return{name:"Route Audio (Channels)",options:[{type:"dropdown",label:"Device",id:"device",choices:[],default:1,isVisible:()=>!1},{type:"dropdown",label:"(first) output channel",id:"out1",choices:e,default:e[0]?.id,minChoicesForSearch:0},{type:"multidropdown",label:"input channel(s)",id:"in1",choices:t,default:["NONE"],minChoicesForSearch:0,minSelection:0}],callback:t=>{let r=["NONE"];t.options.in1?.length>0&&(r=t.options.in1);const n=e.findIndex((e=>e.id===t.options.out1));if(n>-1){const t=Math.min(e.length-n,r.length),o={};for(let s=0;s<t;s+=1){const t=e[n+s].id,i=r[s],a=t.toString().split(":")[0],c=t.toString().split(":")[1];o[a]||(o[a]=[...this.state.get("DEVICE/device/audio/custom/sourceList/items/"+a+"/control/pp/channelMapping")]),o[a][parseInt(c)-1]=i.toString()}Object.keys(o).forEach((e=>{const t=["device","audio","custom","sourceList","items",e,"control","pp","channelMapping"];this.connection.sendWSmessage(t,o[e])}))}}}}get deviceTimerSetup(){const e=super.deviceTimerSetup;e.callback=e=>{this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","type"],e.options.type),"CURRENTTIME"===e.options.type?this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","currentTimeMode"],e.options.currentTimeMode):this.connection.sendWSmessage(["device","timerList","items",e.options.timer,"control","pp","unitMode"],e.options.unitMode)};const t=()=>!1;return e.options[4].isVisible=t,e.options[5].isVisible=t,e}get deviceTestpatterns(){const e=[{id:"group",type:"dropdown",label:"Group",choices:[{id:"all",label:"All"},{id:"screenList",label:"Screen Canvas"},{id:"outputList",label:"Output"}],default:"outputList"},{id:"screenList",type:"dropdown",label:"Screen",choices:this.choices.getScreenChoices(),default:this.choices.getScreenChoices()[0]?.id,isVisible:e=>"screenList"===e.group},{id:"outputList",type:"dropdown",label:"Output",choices:this.choices.getOutputChoices(),default:this.choices.getOutputChoices()[0]?.id,isVisible:e=>"outputList"===e.group},{id:"patall",type:"dropdown",label:"Pattern",choices:[{id:"0",label:"Off"}],default:"0",isVisible:e=>"all"===e.group},{id:"screenListPat",type:"dropdown",label:"Pattern",choices:[{id:"NONE",label:"Off"},{id:"GEOMETRIC",label:"Geometric"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CROSSHATCH",label:"Crosshatch"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"SOFTEDGE",label:"Covering"}],default:"NONE",isVisible:e=>"screenList"===e.group},{id:"outputListPat",type:"dropdown",label:"Pattern",choices:[{id:"NO_PATTERN",label:"Off"},{id:"COLOR",label:"Solid Color"},{id:"VERTICAL_GREY_SCALE",label:"Vertical Greyscale"},{id:"HORIZONTAL_GREY_SCALE",label:"Horizontal Greyscale"},{id:"VERTICAL_COLOR_BAR",label:"Vertical Colorbars"},{id:"HORIZONTAL_COLOR_BAR",label:"Horizontal Colorbars"},{id:"GRID_16_16",label:"Grid 16x16"},{id:"GRID_32_32",label:"Grid 32x32"},{id:"GRID_CUSTOM",label:"Grid Custom"},{id:"SMPTE",label:"SMPTE"},{id:"BURST_H",label:"Horizontal Burst"},{id:"BURST_V",label:"Vertical Burst"},{id:"VERTICAL_GRADIENT",label:"Vertical Gradient"},{id:"HORIZONTAL_GRADIENT",label:"Horzontal Gradient"},{id:"CHECKERBOARD",label:"Checkerboard"},{id:"SOFTEDGE",label:"Covering"}],default:"NO_PATTERN",isVisible:e=>"outputList"===e.group}];return this.deviceTestpatterns_common(e)}get devicePower(){return{name:"Device Power",options:[{id:"action",type:"dropdown",label:"Power",choices:[{id:"on",label:"Wake up from Standby"},{id:"standby",label:"Switch to Standby"},{id:"off",label:"Switch to Power off"},{id:"reboot",label:"Reboot"}],default:"on"}],callback:e=>{const t="device/system/shutdown/standby/control/pp/xRequest";"on"!==e.options.action&&"wake"!==e.options.action||(this.connection.restPOST(this.instance.config.deviceaddr+"/api/tpp/v1/system/wakeup",""),this.connection.resetReconnectInterval()),"standby"===e.options.action&&(this.connection.sendWSmessage(t,"STANDBY"),this.instance.updateStatus(n.InstanceStatus.Ok,"Standby")),"off"===e.options.action&&this.connection.sendWSmessage(t,"SWITCH_OFF"),"reboot"===e.options.action&&this.connection.sendWSmessage(["device","system","shutdown","pp","xReboot"],!1,!0)}}}}class ae{instance;state;choices;config;constants;feedbacksToUse=["syncselection","presetToggle","deviceMasterMemory","deviceScreenMemory","deviceSourceTally","deviceTake","liveScreenSelection","liveScreenLock","livePresetSelection","remoteLayerSelection","remoteWidgetSelection","deviceInputFreeze","timerState","deviceGpioOut","deviceGpioIn","deviceCustom"];constructor(e){this.instance=e,this.state=this.instance.state,this.choices=this.instance.choices,this.config=this.instance.config,this.constants=this.instance.constants}get allFeedbacks(){return Object.fromEntries(this.feedbacksToUse.map((e=>[e,this[e]])))}get syncselection(){return{type:"boolean",name:"Synchronization of the selection",description:"Shows whether this client synchronizes its selection to the device",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[],callback:e=>{const t=this.state.get("REMOTE/system/network/websocketServer/clients");if(void 0===t||!1===Array.isArray(t))return!1;const r=this.state.get("LOCAL/socketId"),n=t.findIndex((e=>e.id===r));return!!this.state.get(`REMOTE/system/network/websocketServer/clients/${n}/isRemoteSelectionEnabled`)}}}get presetToggle(){return{type:"boolean",name:"Preset Toggle",description:"Shows whether preset toggle is on or off",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[],callback:e=>this.state.get(["DEVICE",...this.constants.presetTogglePath])===this.constants.presetToggleValueValid}}get deviceMasterMemory(){return{type:"boolean",name:"Master Memory",description:"Indicates the last used master memory",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"memory",type:"dropdown",label:"Screen Memory",choices:this.choices.getMasterMemoryChoices(),default:this.choices.getMasterMemoryChoices()[0]?.id},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"all",label:"Any"},...this.choices.choicesPreset],default:"all"}],callback:e=>("all"===e.options.preset||"pgm"===e.options.preset)&&this.state.get(["DEVICE",...this.constants.lastUsedMasterPresetPath,"presetModeList","items","PROGRAM","pp","memoryId"])==e.options.memory||("all"===e.options.preset||"pvw"===e.options.preset)&&this.state.get(["DEVICE",...this.constants.lastUsedMasterPresetPath,"presetModeList","items","PREVIEW","pp","memoryId"])==e.options.memory}}get deviceScreenMemory(){return{type:"boolean",name:"Screen Memory",description:"Shows whether a screen Memory is loaded on a screen",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"screens",type:"dropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"Any"}],multiple:!0,default:["all"]},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"all",label:"Any"},...this.choices.choicesPreset],default:"all"},{id:"memory",type:"dropdown",label:"Screen Memory",choices:this.choices.getScreenMemoryChoices(),default:this.choices.getScreenMemoryChoices()[0]?.id},{id:"unmodified",type:"dropdown",label:"is Modified",choices:[{id:0,label:"only if unmodified"},{id:1,label:"only if modified"},{id:2,label:"don't care unmodified or modified"}],default:2}],callback:e=>{const t=this.choices.getChosenScreensSupportedByScreenMemories(e.options.screens),r="all"===e.options.preset?["pgm","pvw"]:[e.options.preset];for(const n of t){const t=this.choices.getScreenInfo(n);for(const o of r)if(this.state.get(["DEVICE",...t.isAux?this.constants.auxPath:this.constants.screenPath,"items",t.platformId,"presetList","items",this.choices.getPreset(t.id,o),...this.constants.activeScreenMemoryIdPath])==e.options.memory){if(2===e.options.unmodified)return!0;const r=this.state.get(["DEVICE",...t.isAux?this.constants.auxPath:this.constants.screenPath,"items",t.platformId,"presetList","items",this.choices.getPreset(n,o),...this.constants.activeScreenMemoryIsModifiedPath]);if((!this.constants.activeScreenMemoryValueValid&&r||this.constants.activeScreenMemoryValueValid&&!r)==e.options.unmodified)return!0}}return!1}}}get deviceAuxMemory(){return{type:"boolean",name:"Aux Memory",description:"Shows whether a Aux Memory is loaded on a auxscreen",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"screens",type:"dropdown",label:"Aux Screens",choices:[{id:"all",label:"Any"},...this.choices.getAuxChoices()],multiple:!0,tags:!0,regex:"/^S([1-9]|[1-3][0-9]|4[0-8])$/",default:["all"]},{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"all",label:"Any"},...this.choices.choicesPreset],default:"all"},{id:"memory",type:"dropdown",label:"Aux Memory",choices:this.choices.getAuxMemoryChoices(),default:this.choices.getAuxMemoryChoices()[0]?.id},{id:"unmodified",type:"dropdown",label:"is Modified",choices:[{id:0,label:"only if unmodified"},{id:1,label:"only if modified"},{id:2,label:"don't care unmodified or modified"}],default:2}],callback:e=>{const t=this.choices.getChosenAuxes(e.options.screens),r="all"===e.options.preset?["pgm","pvw"]:[e.options.preset];for(const n of t){const t=this.choices.getScreenInfo(n);for(const o of r)if(this.state.get(["DEVICE","device","auxiliaryScreenList","items",t.numstr,"presetList","items",this.choices.getPreset(n,o),"status","pp","memoryId"])==e.options.memory){if(2===e.options.unmodified)return!0;if(this.state.get(["DEVICE","device","auxiliaryScreenList","items",t.numstr,"presetList","items",this.choices.getPreset(n,o),"status","pp","isModified"])==e.options.unmodified)return!0}}return!1}}}get deviceSourceTally(){return{type:"boolean",name:"Source Tally",description:"Shows whether a source is visible on program or preview in a screen",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"screens",type:"dropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"Any"},...this.choices.getScreenAuxChoices()],multiple:!0,tags:!0,regex:"/^(S|A)([1-9]|[1-3][0-9]|4[0-8])$/",default:["all"]},{id:"preset",type:"dropdown",label:"Preset",choices:this.choices.choicesPreset,default:"pgm"},{id:"source",type:"dropdown",label:"Source",choices:[...this.choices.getSourceChoices(),...this.choices.choicesBackgroundSources],default:"NONE"}],subscribe:e=>{const t=[...e.options.screens].sort(),r=`tally_${t.join("-")}_${e.options.preset}_${e.options.source}`;this.instance.addVariable({id:e.id,variableId:r,name:`Tally for ${e.options.source} at screens ${t.join(", ")}, preset ${e.options.preset}`})},unsubscribe:e=>{const t=`tally_${[...e.options.screens].sort().join("-")}_${e.options.preset}_${e.options.source}`;this.instance.removeVariable(e.id,t)},callback:e=>{const t=(()=>{for(const t of this.choices.getChosenScreenAuxes(e.options.screens)){const r=this.choices.getScreenInfo(t),n=this.choices.getPreset(t,e.options.preset);for(const o of this.choices.getLayerChoices(t)){const s=["DEVICE",...r.isAux?this.constants.auxPath:this.constants.screenPath,"items",t],i=[...s,"presetList","items",n],a=[...i,"layerList","items",o.id];if("NONE"===e.options.source||e.options.source?.toString().startsWith("BACKGROUND")&&this.state.get([...i,"source","pp","inputNum"])===e.options.source)return!0;if(this.state.get([...a,"source","pp","inputNum"])===e.options.source&&!(0===this.state.get([...a,"position","pp","sizeH"])||0===this.state.get([...a,"position","pp","sizeV"])||0===this.state.get([...a,"opacity","pp","opacity"])||this.state.get([...a,"cropping","classic","pp","top"])+this.state.get([...a,"cropping","classic","pp","bottom"])>65528||this.state.get([...a,"cropping","classic","pp","left"])+this.state.get([...a,"cropping","classic","pp","right"])>65528||this.state.get([...a,"cropping","mask","pp","top"])+this.state.get([...a,"cropping","mask","pp","bottom"])>65528||this.state.get([...a,"cropping","mask","pp","left"])+this.state.get([...a,"cropping","mask","pp","right"])>65528||this.state.get([...a,"position","pp","posH"])+this.state.get([...a,"position","pp","sizeH"])/2<=0||this.state.get([...a,"position","pp","posV"])+this.state.get([...a,"position","pp","sizeV"])/2<=0||this.state.get([...a,"position","pp","posH"])-this.state.get([...a,"position","pp","sizeH"])/2>=this.state.get([...s,"status","size","pp","sizeH"])||this.state.get([...a,"position","pp","posV"])-this.state.get([...a,"position","pp","sizeV"])/2>=this.state.get([...s,"status","size","pp","sizeV"])))return!0}}return!1})(),r=`tally_${[...e.options.screens].sort().join("-")}_${e.options.preset}_${e.options.source}`;let n="0";return n=t?"1":"0",n!=this.instance.getVariableValue(r)&&this.instance.setVariableValues({[r]:n}),t}}}get deviceTake(){return{type:"boolean",name:"Transition active",description:"Shows whether a screen is currently in a take/fade transition",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"screens",type:"dropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"Any"},...this.choices.getScreenAuxChoices()],multiple:!0,tags:!0,regex:"/^(S|A)([1-9]|[1-3][0-9]|4[0-8])$/",default:"all"}],callback:()=>!1}}get liveScreenSelection(){return{type:"boolean",name:"Screen Selection",description:"Shows whether a screen is currently selected",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"screen",type:"dropdown",label:"Screen / Auxscreen",choices:this.choices.getScreenAuxChoices(),default:this.choices.getScreenAuxChoices()[0]?.id}],callback:e=>this.choices.getSelectedScreens()?.includes(e.options.screen)}}get liveScreenLock(){return{type:"boolean",name:"Screen Lock",description:"Shows whether a screen currently is locked",defaultStyle:{png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABSklEQVRoge2a2w7DIAhAZdl3N60/zp5MjBNLBdwknKe19cIZLdVlKTkGrCc4jgOpazln0/lNBh8JUViIqg44I9WiKaky0J0UwHgaxO/uAADXdYnieol6J7lYacNp9xSxHMVMwHV77KXzaQySzlTWmiB5gRB9JM+geuZKkIjIFivt2zHEscx27GWtFmvOd+fp3Xq9MWazp565JgNAiZXr2vPXqMm1cXIDb9uVL0fD26xa/gMhtyshtyshtyshtyshtyuu5YarU40ffKwZbYdcZ+7NbWi89WKBiAkA2Dt815kLuV1hP3NSzvOE6vOSKrwkc7VY79gKczlKZIWgqdydgLWg64IScrPcVUXrqrmioHQFVrwOVr0KcHRsRbzndiXkJLhdofyakJsl1paGuJYz3YmvWolQuM6cazn2banwPzMVnsThOnOu5VzzARnBeIM8tq0ZAAAAAElFTkSuQmCC"},options:[{id:"screen",type:"dropdown",label:"Screen",choices:[{id:"all",label:"ALL"},...this.choices.getScreenAuxChoices()],default:"all",tooltip:'"All" resembels the state of the lock-all button in WebRCS.'},{id:"preset",label:"Preset",type:"dropdown",choices:[{id:"PROGRAM",label:"Program"},{id:"PREVIEW",label:"Preview"}],default:"PROGRAM"}],callback:e=>this.choices.isLocked(e.options.screen,e.options.preset)}}get livePresetSelection(){return{type:"boolean",name:"Preset Selection",description:"Shows whether program or preview is currently selected",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"preset",type:"dropdown",label:"Preset",choices:[{id:"PROGRAM",label:"Program"},{id:"PREVIEW",label:"Preview"}],default:"PROGRAM"}],callback:e=>{let t,r="PGM";return t=this.state.syncSelection?this.state.get("REMOTE/live/screens/presetModeSelection/presetMode"):this.state.get("LOCAL/presetMode"),"PREVIEW"===t&&(r="PVW"),this.instance.setVariableValues({selectedPreset:r}),t===e.options.preset}}}get remoteLayerSelection(){return{type:"boolean",name:"Layer Selection",description:"Shows whether a layer is currently selected",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"screen",type:"dropdown",label:"Screen / Auxscreen",choices:[{id:"all",label:"Any"},...this.choices.getScreenAuxChoices()],default:"all"},{id:"layer",type:"dropdown",label:"Layer",choices:[{id:"all",label:"Any"},...this.choices.getLayerChoices(48,!0)],default:"all"},{id:"preset",type:"dropdown",label:"Selected Preset",choices:[{id:"all",label:"Any"},{id:"PROGRAM",label:"Program"},{id:"PREVIEW",label:"Preview"}],default:"all"}],callback:e=>{let t=!0;if("all"!=e.options.preset){let r;r=this.state.syncSelection?this.state.get("REMOTE/live/screens/presetModeSelection/presetMode"):this.state.get("LOCAL/presetMode"),r!=e.options.preset&&(t=!1)}return"all"===e.options.layer&&"all"===e.options.screen?this.choices.getSelectedLayers().length>0&&t:"all"===e.options.screen?JSON.stringify(this.choices.getSelectedLayers()).includes(`"layerKey":"${e.options.layer}"`)&&t:"all"===e.options.layer?JSON.stringify(this.choices.getSelectedLayers()).includes(`{"screenAuxKey":"${this.choices.getScreenInfo(e.options.screen).id}","layerKey":"`)&&t:JSON.stringify(this.choices.getSelectedLayers()).includes(`{"screenAuxKey":"${this.choices.getScreenInfo(e.options.screen).id}","layerKey":"${e.options.layer}"}`)&&t}}}get remoteWidgetSelection(){return{type:"boolean",name:"Widget Selection",description:"Shows whether a multiviewer widget is currently selected",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"widget",type:"dropdown",label:"Widget",choices:this.choices.getWidgetChoices(),default:this.choices.getWidgetChoices()[0]?.id}],callback:e=>{const t=e.options.widget?.toString().split(":")[0]??"1",r=e.options.widget?.toString().split(":")[1]??"0";let n=[];return n=this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewers/widgetSelection/widgetIds")]:this.state.get("LOCAL/widgetSelection/widgetIds"),JSON.stringify(n).includes(`{"widgetKey":"${r}","mocOutputLogicKey":"${t}"}`)}}}get deviceInputFreeze(){return{type:"boolean",name:"Input Freeze",description:"Shows whether an input currently is frozen",defaultStyle:{color:this.config.color_bright,bgcolor:(0,n.combineRgb)(0,0,100),png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3AQMAAACSFUAFAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAABfXKLsUQDeAAAAAXRSTlMAQObYZgAAAM9JREFUGNONkTEOwjAMRX9UpDC1nIBwEKRyJCMGmNogDsCRyMY1wg26ESTUYLc1sEGWp1h2/vcPABDG84MrWoxXOgxcUycol7tbEFb748Aim4HmKZyXSCZsUFpQwQ1OeIqorsxzQHFnXgCTmT3PtczErD1ZEXCBXJR6RzXXzSNR3wA2NrvkPCpf52gDZnDZw3Oj7Ue/xfObM9gMSL/LgfttbHPH8+bRb+U9tIla0XVx1FP9yY/6U7/qX/fR/XRf3f+Th+Yz5aX5vfPUfP/6jxdhImTMvNrBOgAAAABJRU5ErkJggg=="},options:[{id:"input",type:"dropdown",label:"Input",choices:this.choices.getLiveInputChoices(),default:this.choices.getLiveInputChoices()[0]?.id}],callback:e=>{const t=e.options.input?.toString().replace("LIVE","IN")||"",r=this.state.get("DEVICE/device/inputList/items/"+t+"/control/pp/freeze");return r?this.instance.setVariableValues({["frozen_"+t]:"*"}):this.instance.setVariableValues({["frozen_"+t]:" "}),r}}}get deviceLayerFreeze(){return{type:"boolean",name:"Layer Freeze",description:"Shows whether a layer currently is frozen",defaultStyle:{color:this.config.color_bright,bgcolor:(0,n.combineRgb)(0,0,100),png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3AQMAAACSFUAFAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAABfXKLsUQDeAAAAAXRSTlMAQObYZgAAAM9JREFUGNONkTEOwjAMRX9UpDC1nIBwEKRyJCMGmNogDsCRyMY1wg26ESTUYLc1sEGWp1h2/vcPABDG84MrWoxXOgxcUycol7tbEFb748Aim4HmKZyXSCZsUFpQwQ1OeIqorsxzQHFnXgCTmT3PtczErD1ZEXCBXJR6RzXXzSNR3wA2NrvkPCpf52gDZnDZw3Oj7Ue/xfObM9gMSL/LgfttbHPH8+bRb+U9tIla0XVx1FP9yY/6U7/qX/fR/XRf3f+Th+Yz5aX5vfPUfP/6jxdhImTMvNrBOgAAAABJRU5ErkJggg=="},options:[{id:"screen",type:"dropdown",label:"Screen",choices:[{id:"any",label:"Any"},...this.choices.getScreenChoices()],default:this.choices.getScreenChoices()[0]?.id},...[{id:"any",label:"Any"},...this.choices.getScreenChoices()].map((e=>{const t={id:`layer${e.id}`,type:"dropdown",label:"Layer",choices:[{id:"any",label:"Any"},{id:"NATIVE",label:"Background Layer"}],default:"1",isVisibleData:e.id,isVisible:(e,t)=>e.screen===t};return"any"===e.id?t.choices.push(...this.choices.getLayerChoices(this.constants.maxLayers,!1)):(t.label+=" "+e.id,t.choices.push(...this.choices.getLayerChoices(e.id,!1))),t}))],callback:e=>{let t,r=!1;t="any"===e.options.screen?this.choices.getScreensArray():[{index:e.options.screen.replace(/\D/g,""),id:e.options.screen,label:e.options.screen}];const n=e.options[`layer${e.options.screen}`];for(const e of t){let t;t="any"===n?this.choices.getLayersAsArray(e.id,!1).map((e=>e.id)):[n];for(const n of t){let t;t="NATIVE"===n?["DEVICE","device","screenList","items",`${e.index}`,"background","control","pp","freeze"]:["DEVICE","device","screenList","items",`${e.index}`,"liveLayerList","items",n,"control","pp","freeze"],this.state.get(t)&&(r=!0)}}return r}}}get deviceScreenFreeze(){return{type:"boolean",name:"Screen Freeze",description:"Shows whether a screen currently is frozen",defaultStyle:{color:this.config.color_bright,bgcolor:(0,n.combineRgb)(0,0,100),png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3AQMAAACSFUAFAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAABfXKLsUQDeAAAAAXRSTlMAQObYZgAAAM9JREFUGNONkTEOwjAMRX9UpDC1nIBwEKRyJCMGmNogDsCRyMY1wg26ESTUYLc1sEGWp1h2/vcPABDG84MrWoxXOgxcUycol7tbEFb748Aim4HmKZyXSCZsUFpQwQ1OeIqorsxzQHFnXgCTmT3PtczErD1ZEXCBXJR6RzXXzSNR3wA2NrvkPCpf52gDZnDZw3Oj7Ue/xfObM9gMSL/LgfttbHPH8+bRb+U9tIla0XVx1FP9yY/6U7/qX/fR/XRf3f+Th+Yz5aX5vfPUfP/6jxdhImTMvNrBOgAAAABJRU5ErkJggg=="},options:[{id:"screen",type:"dropdown",label:"Screen",choices:[{id:"any",label:"Any"},...this.choices.getScreenAuxChoices()],default:this.choices.getScreenAuxChoices()[0]?.id}],callback:e=>{let t,r=!1;t="any"===e.options.screen?this.choices.getScreensAuxArray().map((e=>e.index||e.id.replace(/\D/g,""))):[e.options.screen.replace(/\D/g,"")];for(const e of t){const t=["DEVICE","device","screenList","items",e,"control","pp","freeze"];this.state.get(t)&&(r=!0)}return r}}}get timerState(){return{type:"boolean",name:"Timer State",description:"Shows whether a timer is currently stopped or running",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"timer",type:"dropdown",label:"Timer",choices:this.choices.getTimerChoices(),default:this.choices.getTimerChoices()[0]?.id},{id:"state",type:"dropdown",label:"State",choices:[{id:"RUNNING",label:"Running"},{id:"PAUSED",label:"Paused"},{id:"IDLE",label:"Stopped"},{id:"ELAPSED",label:"Elapsed"}],default:"RUNNING"}],callback:e=>this.state.get("DEVICE/device/timerList/items/"+e.options.timer+"/status/pp/state")===e.options.state}}get deviceGpioOut(){return{type:"boolean",name:"GPO State",description:"Shows whether a general purpose output is currently active",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"gpo",type:"number",label:"GPO",min:1,max:8*this.choices.getLinkedDevicesChoices().length,range:!0,default:1,tooltip:"GPO number 1-8 for device #1, 9-16 for #2, 17-24 for #3, 25-32 for #4"},{id:"state",type:"dropdown",label:"State",choices:[{id:0,label:"GPO is off"},{id:1,label:"GPO is on"}],default:1}],callback:()=>!1}}get deviceGpioIn(){return{type:"boolean",name:"GPI State",description:"Shows whether a general purpose input is currently active",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"gpi",type:"number",label:"GPI",min:1,max:8,range:!0,default:1},{id:"state",type:"dropdown",label:"State",choices:[{id:0,label:"GPI is off"},{id:1,label:"GPI is on"}],default:1}],callback:()=>!1}}get deviceCustom(){return{type:"boolean",name:"Custom Feedback",description:"Generates feedback and a variable from a custom AWJ path",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{type:"textinput",id:"path",label:"path",default:"",regex:`/${_e}/`,tooltip:"AWJ path of property to watch for, enter a path to exactly one property with no wildcards.\nPGM/PVW can be used for the presets and will be replaced dynamically."},{type:"dropdown",id:"valuetype",label:"Evaluate value as type",choices:[{id:"t",label:"Text"},{id:"n",label:"Number"},{id:"b",label:"Boolean"},{id:"o",label:"Object"}],default:"t"},{type:"dropdown",id:"actionst",label:"Check",choices:[{id:"1",label:"Text equals"},{id:"2",label:"Text containes"},{id:"3",label:"Text length is"},{id:"4",label:"Text matches regular expression"}],default:"1",isVisible:e=>"t"===e.valuetype},{type:"textinput",id:"textValue",label:"value",default:"",isVisible:e=>"t"===e.valuetype},{type:"dropdown",id:"actionsn",label:"Check",choices:[{id:"==",label:"Number equals"},{id:">",label:"Number is greater than"},{id:"...",label:"Number is in range between value and value2"},{id:"%",label:"Number modulo value is value2"}],default:"==",isVisible:e=>"n"===e.valuetype},{type:"number",id:"numericValue",label:"value1",default:0,min:Number.MIN_VALUE,max:Number.MAX_VALUE,isVisible:e=>"n"===e.valuetype},{type:"number",id:"numericValue2",label:"value 2",default:0,min:Number.MIN_VALUE,max:Number.MAX_VALUE,isVisible:e=>"n"===e.valuetype&&("..."===e.actionsn||"%"===e.actionsn)},{type:"checkbox",id:"invert",label:"Invert feedback result",default:!1},{type:"textinput",id:"variable",label:"Custom Name of Variable to use",default:"",regex:"/^[A-Za-z0-9_-]*$/",tooltip:"Can be left empty, if filled this will be the name of the variable with the value of the feedback.\nOnly letters, numbers, underscore and minus is allowed."}],learn:e=>{const t={},r=this.state.get("LOCAL/lastMsg"),n=r.path,o=r.value;if(!(JSON.stringify(o).length>132)){switch(t.path=this.instance.jsonToAWJpath(n),typeof o){case"string":t.valuetype="t",t.actionst="1",t.textValue=o;break;case"number":t.valuetype="n",t.actionsn="==",t.numericValue=o;break;case"boolean":t.valuetype="b";break;case"object":t.valuetype="o"}return{...e.options,...t}}},callback:e=>{let t=!1;const r=this.instance.AWJtoJsonPath(e.options.path);if(r.length<2)return!1;const n=this.state.get(["DEVICE",...r]);let o=e.options.variable.replace(/[^A-Za-z0-9_-]/g,"");if(""===o&&(o=e.options.path.replace(/\//g,"_").replace(/[^A-Za-z0-9_-]/g,"")),void 0===n)this.instance.setVariableValues({[o]:void 0});else if(null===n)this.instance.setVariableValues({[o]:"null"});else if("t"===e.options.valuetype){const r="string"==typeof n?n:JSON.stringify(n);switch(this.instance.setVariableValues({[o]:r}),e.options.actionst){case"1":t=r===e.options.textValue;break;case"2":t=r.includes(e.options.textValue);break;case"3":t=r.length===parseInt(e.options.textValue);break;case"4":t=null!==r.match(new RegExp(e.options.textValue))}}else if("n"===e.options.valuetype){const r=Number(n);switch(this.instance.setVariableValues({[o]:r}),e.options.actionsn){case"==":t=r===e.options.numericValue;break;case">":t=r>e.options.numericValue;break;case"...":t=e.options.numericValue2>e.options.numericValue?r>=e.options.numericValue&&r<=e.options.numericValue2:r>=e.options.numericValue2&&r<=e.options.numericValue;break;case"%":t=r%e.options.numericValue===e.options.numericValue2}}else if("b"===e.options.valuetype){"boolean"==typeof n?t=n:"number"==typeof n?t=n>=.5:"string"==typeof n&&(t=null!==n.match(/^y(es)?|true|0*1|go|\+|right|correct|ok(ay)?$/i));const r=e.options.invert?!t:t;this.instance.setVariableValues({[o]:r?1:0})}else if("o"===e.options.valuetype){const e=JSON.stringify(n);this.instance.setVariableValues({[o]:e}),t=e.length>0}return e.options.invert?!t:t},subscribe:e=>{let t="";const r={};let n=`Custom Variable for Path ${e.options.path}`;if(null!==e.options.path.match(_e)){n=`Custom Variable for Feedback ${e.options.path}`,t=null!==e.options.variable.match(/[A-Za-z0-9_-]+/)?e.options.variable.replace(/[^A-Za-z0-9_-]/g,""):e.options.path.replace(/\//g,"_").replace(/[^A-Za-z0-9_-]/g,"");const o=this.instance.AWJtoJsonPath(e.options.path);"presetList"===o[4]&&"items"===o[5]&&o[6]&&null!==e.options.path.split("/")[6]?.match(/^PGM|PVW|program|preview$/i)&&(o[6]="(\\w+?)",r[`${e.id}-take`]={pat:"DEVICE/device/(screenGroup|screenAuxGroup|transition/screen)List/items/(\\w+?)/status/pp/transition",fbk:`id:${e.id}`}),r[e.id]={pat:o.join("/"),fbk:`id:${e.id}`},this.instance.subscriptions.addSubscriptions(r)}else n=`Custom Variable for Feedback ${e.id}`,t=""!==e.options.variable?e.options.variable:e.id;this.instance.addVariable({id:e.id,variableId:t,name:n})},unsubscribe:e=>{this.instance.subscriptions.removeSubscription(e.id),this.instance.subscriptions.removeSubscription(e.id+"-take"),this.instance.removeVariable(e.id)}}}}class ce extends ae{feedbacksToUse=["syncselection","presetToggle","deviceMasterMemory","deviceScreenMemory","deviceSourceTally","deviceTake","liveScreenSelection","liveScreenLock","livePresetSelection","remoteLayerSelection","remoteWidgetSelection","deviceInputFreeze","timerState","deviceGpioOut","deviceGpioIn","deviceCustom"];constructor(e){super(e),this.state=this.instance.state,this.choices=this.instance.choices,this.config=this.instance.config,this.constants=this.instance.constants}get deviceScreenMemory(){const e=super.deviceScreenMemory;return e.options[0]={id:"screens",type:"dropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"Any"},...this.choices.getScreenAuxChoices()],multiple:!0,default:["all"]},e}get deviceTake(){const e=super.deviceTake;return e.callback=e=>!!this.choices.getChosenScreenAuxes(e.options.screens).find((e=>this.state.get(`DEVICE/device/screenGroupList/items/${e}/status/pp/transition`)?.match(/FROM/))),e}get deviceGpioOut(){return{type:"boolean",name:"GPO State",description:"Shows whether a general purpose output is currently active",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"gpo",type:"number",label:"GPO",min:1,max:8,range:!0,default:1},{id:"state",type:"dropdown",label:"State",choices:[{id:0,label:"GPO is off"},{id:1,label:"GPO is on"}],default:1}],callback:e=>{const t=1===e.options.state;return this.state.get(["DEVICE","device","gpio","gpoList","items",e.options.gpo?.toString()||"1","status","pp","state"])===t}}}get deviceGpioIn(){return{type:"boolean",name:"GPI State",description:"Shows whether a general purpose input is currently active",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"gpi",type:"number",label:"GPI",min:1,max:2,range:!0,default:1},{id:"state",type:"dropdown",label:"State",choices:[{id:0,label:"GPI is off"},{id:1,label:"GPI is on"}],default:1}],callback:e=>{const t=1===e.options.state;return this.state.get(["DEVICE","device","gpio","gpiList","items",Math.floor(e.options.gpi).toString()??"1","status","pp","state"])===t}}}get remoteWidgetSelection(){const e=super.remoteWidgetSelection;return e.callback=e=>{const t=e.options.widget?.toString().split(":")[0]??"1",r=e.options.widget?.toString().split(":")[1]??"0";let n=[];return n=this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewers/widgetSelection/widgetIds")].map((e=>({widgetKey:e.widgetKey,mocOutputLogicKey:e.multiviewerKey}))):this.state.get("LOCAL/widgetSelection/widgetIds"),JSON.stringify(n).includes(`{"widgetKey":"${r}","mocOutputLogicKey":"${t}"}`)},e}}class le extends ae{feedbacksToUse=["syncselection","presetToggle","deviceMasterMemory","deviceScreenMemory","deviceSourceTally","deviceTake","liveScreenSelection","liveScreenLock","livePresetSelection","remoteLayerSelection","remoteWidgetSelection","deviceInputFreeze","timerState","deviceGpioOut","deviceGpioIn","deviceCustom"];constructor(e){super(e),this.state=this.instance.state,this.choices=this.instance.choices,this.config=this.instance.config,this.constants=this.instance.constants}get deviceScreenMemory(){const e=super.deviceScreenMemory;return e.options[0]={id:"screens",type:"dropdown",label:"Screens / Auxscreens",choices:[{id:"all",label:"Any"},...this.choices.getScreenAuxChoices()],multiple:!0,default:["all"]},e.callback=e=>{const t=this.choices.getChosenScreensSupportedByScreenMemories(e.options.screens),r="all"===e.options.preset?["pgm","pvw"]:[e.options.preset];for(const n of t){const t=this.choices.getScreenInfo(n);for(const n of r){const r=["DEVICE","device","presetBank","status","presetId",t.isAux?"auxiliaryList":"screenList","items",t.platformId,"presetList","items",this.choices.getPreset(t.id,n),"pp"];if(this.state.get([...r,"id"])==e.options.memory){if(2===e.options.unmodified)return!0;if(this.state.get([...r,"isNotModified"])==e.options.unmodified)return!0}}}return!1},e}get deviceTake(){const e=super.deviceTake;return e.callback=e=>!!this.choices.getChosenScreenAuxes(e.options.screens).find((e=>this.state.get(`DEVICE/device/screenAuxGroupList/items/${e}/status/pp/transition`)?.match(/FROM/))),e}get deviceGpioOut(){let e;if(this.choices.getLinkedDevicesChoices().length){e="GPO number 1-8 for device #1";for(let t=1;t<this.choices.getLinkedDevicesChoices().length;t+=1)e+=`, ${8*t+1}-${8*t+8} for device #${t+1}`}return{type:"boolean",name:"GPO State",description:"Shows whether a general purpose output is currently active",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"gpo",type:"number",label:"GPO",min:1,max:8*this.choices.getLinkedDevicesChoices().length,range:!0,default:1,tooltip:e},{id:"state",type:"dropdown",label:"State",choices:[{id:0,label:"GPO is off"},{id:1,label:"GPO is on"}],default:1}],callback:e=>{const t=Math.floor(e.options.gpo-1)%8+1,r=Math.ceil(e.options.gpo/8),n=1===e.options.state;return this.state.get(["DEVICE","device","gpios","deviceList","items",r.toString(),"gpoList","items",t.toString(),"status","pp","state"])===n}}}get deviceGpioIn(){let e;if(this.choices.getLinkedDevicesChoices().length){e="GPI number 1-2 for device #1";for(let t=1;t<this.choices.getLinkedDevicesChoices().length;t+=1)e+=`, ${2*t+1}-${2*t+2} for device #${t+1}`}return{type:"boolean",name:"GPI State",description:"Shows whether a general purpose input is currently active",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"gpi",type:"number",label:"GPI",min:1,max:2*this.choices.getLinkedDevicesChoices().length,range:!0,default:1,step:1,tooltip:e},{id:"state",type:"dropdown",label:"State",choices:[{id:0,label:"GPI is off"},{id:1,label:"GPI is on"}],default:1}],callback:e=>{const t=Math.floor((e.options.gpi-1)%2+1),r=Math.ceil(e.options.gpi/2),n=1===e.options.state;return this.state.get(["DEVICE","device","gpios","deviceList","items",r.toString(),"gpiList","items",t.toString(),"status","pp","state"])===n}}}}class ue extends ae{feedbacksToUse=["syncselection","presetToggle","deviceMasterMemory","deviceScreenMemory","deviceAuxMemory","deviceSourceTally","deviceTake","liveScreenSelection","liveScreenLock","livePresetSelection","remoteLayerSelection","remoteWidgetSelection","deviceInputFreeze","deviceLayerFreeze","deviceScreenFreeze","timerState","deviceStreaming","deviceCustom"];constructor(e){super(e),this.state=this.instance.state,this.choices=this.instance.choices,this.config=this.instance.config,this.constants=this.instance.constants}get deviceScreenMemory(){const e=super.deviceScreenMemory;return e.options[0]={id:"screens",type:"dropdown",label:"Screens",choices:[{id:"all",label:"Any"},...this.choices.getScreenChoices()],multiple:!0,tags:!0,regex:"/^S([1-9]|[1-3][0-9]|4[0-8])$/",default:["all"]},e}get deviceSourceTally(){const e=super.deviceSourceTally;return e.callback=e=>{const t=(()=>{for(const t of this.choices.getChosenScreenAuxes(e.options.screens)){const r=this.choices.getScreenInfo(t),n=this.choices.getPreset(t,e.options.preset);for(const o of this.choices.getLayerChoices(t)){const t=["DEVICE",...r.isAux?this.constants.auxPath:this.constants.screenPath,"items",r.numstr],s=[...t,"presetList","items",n];if("NATIVE"===o.id){const r=this.state.get([...s,"background","source","pp","set"]);if("NONE"===r)continue;if(this.state.get([...t,"backgroundSetList","items",r,"control","pp","singleContent"])===e.options.source)return!0;continue}if("BKG"===o.id){if(this.state.get([...s,"background","source","pp","content"])===e.options.source)return!0;continue}if("TOP"===o.id){if(this.state.get([...s,"top","source","pp","frame"])===e.options.source)return!0;continue}if("NONE"===e.options.source||e.options.source?.toString().startsWith("BACKGROUND")&&this.state.get([...s,"source","pp","inputNum"])===e.options.source)return!0;const i=[...s,"liveLayerList","items",o.id];if(this.state.get([...i,"source","pp","input"])===e.options.source&&!(0===this.state.get([...i,"size","pp","sizeH"])||0===this.state.get([...i,"size","pp","sizeV"])||0===this.state.get([...i,"opacity","pp","opacity"])||this.state.get([...i,"crop","pp","top"])+this.state.get([...i,"crop","pp","bottom"])>65528||this.state.get([...i,"crop","pp","left"])+this.state.get([...i,"crop","pp","right"])>65528||this.state.get([...i,"mask","pp","top"])+this.state.get([...i,"mask","pp","bottom"])>65528||this.state.get([...i,"mask","pp","left"])+this.state.get([...i,"mask","pp","right"])>65528||this.state.get([...i,"position","pp","posH"])+this.state.get([...i,"size","pp","sizeH"])/2<=0||this.state.get([...i,"position","pp","posV"])+this.state.get([...i,"size","pp","sizeV"])/2<=0||this.state.get([...i,"position","pp","posH"])-this.state.get([...i,"size","pp","sizeH"])/2>=this.state.get([...t,"canvas","status","size","pp","sizeH"])||this.state.get([...i,"position","pp","posV"])-this.state.get([...i,"size","pp","sizeV"])/2>=this.state.get([...t,"canvas","status","size","pp","sizeV"])))return!0}}return!1})(),r=`tally_${[...e.options.screens].sort().join("-")}_${e.options.preset}_${e.options.source}`;let n="0";return n=t?"1":"0",n!=this.instance.getVariableValue(r)&&this.instance.setVariableValues({[r]:n}),t},e}get deviceTake(){const e=super.deviceTake;return e.callback=e=>!!this.choices.getChosenScreenAuxes(e.options.screens).find((e=>{const t=this.choices.getScreenInfo(e);return this.state.get(["DEVICE",...t.isAux?this.constants.auxGroupPath:this.constants.screenGroupPath,"items",t.numstr,"status","pp","transition"])?.match(/FROM/)})),e}get remoteWidgetSelection(){const e=super.remoteWidgetSelection;return e.callback=e=>{const t=e.options.widget?.toString().split(":")[1]??"0";let r=[];return r=this.state.syncSelection?[...this.state.get("REMOTE/live/multiviewer/widgetSelection/widgetKeys").map((e=>({widgetKey:e,mocOutputLogicKey:"1"})))]:this.state.get("LOCAL/widgetSelection/widgetIds"),JSON.stringify(r).includes(`{"widgetKey":"${t}","mocOutputLogicKey":"1"}`)},e}get deviceInputFreeze(){const e=super.deviceInputFreeze;return e.callback=e=>{const t=e.options.input?.toString().replace("LIVE","INPUT")||"",r=this.state.get("DEVICE/device/inputList/items/"+t+"/control/pp/freeze");return r?this.instance.setVariableValues({["frozen_"+t]:"*"}):this.instance.setVariableValues({["frozen_"+t]:" "}),r},e}get deviceStreaming(){return{type:"boolean",name:"Stream Runnning State",description:"Shows status of streaming",defaultStyle:{color:this.config.color_dark,bgcolor:this.config.color_highlight},options:[{id:"state",type:"dropdown",label:"State",choices:[{id:"NONE",label:"Stream is off"},{id:"LIVE",label:"Stream is on"}],default:"LIVE"}],callback:e=>this.state.get(["DEVICE","device","streaming","status","pp","mode"])===e.options.state}}}class pe{instance;state;constants;choices;config;presetsToUse=["masterMemories","screenMemories","auxMemories","layerMemories","takeAllScreens","takeSelectedScreens","takeScreen","cutAllScreens","cutSelectedScreens","cutScreen","toggleSync","selectPreset","presetToggle","copyPreviewFromProgram","toggleScreenSelection","toggleLockPgmAllScreens","toggleLockPgmScreen","toggleLockPvwAllScreens","toggleLockPvwScreen","selectLayer","chooseInput","toggleFreezeInput","toggleFreezeLayer","toggleFreezeScreen","posSize","multiviewerMemories","selectWidget","toggleWidgetSelection","selectWidgetSource","timers","stream"];constructor(e){this.instance=e,this.state=this.instance.state,this.constants=this.instance.constants,this.choices=this.instance.choices,this.config=this.instance.config}inverseColorBW(e){return.2126*(0,n.splitRgb)(e).r+.7152*(0,n.splitRgb)(e).g+.0722*(0,n.splitRgb)(e).b>127?0:16777215}get allPresets(){return this.presetsToUse.reduce(((e,t)=>({...e,...this[t]})),{})}get masterMemories(){const e={},t=this.instance.label;for(const r of this.choices.getMasterMemoryArray()){const n=parseInt(this.state.get(["REMOTE","banks","master","items",r.id,"color"])?.slice(1),16);e[`Load Master Memory ${r.id}`]={type:"button",name:`Load Master Memory ${r.id}`,category:"Master Memories",style:{text:`MM${r.id}\\n$(${t}:masterMemory${r.id}label)`,size:"auto",color:this.inverseColorBW(n),bgcolor:n},steps:[{down:[{actionId:"deviceMasterMemory",options:{preset:"sel",memory:r.id,selectScreens:!0}}],up:[]}],feedbacks:[{feedbackId:"deviceMasterMemory",options:{memory:r.id,preset:"pvw"},style:{color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green}},{feedbackId:"deviceMasterMemory",options:{memory:r.id,preset:"pgm"},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}}]}}return e}get screenMemories(){const e={},t=this.instance.label;for(const r of[{id:"sel",label:"Selected",index:"0"},...this.choices.getScreensArray(),...this.choices.getAuxArray()])for(const n of this.choices.getScreenMemoryArray()){const o=parseInt(this.state.get(["REMOTE","banks","screen","items",n.id,"color"])?.slice(1),16);e[`LoadScreenMemory_${n.id}_to_${r.id}`]={type:"button",name:`Load Screen Memory ${n.id} into screen ${r.id}${r.label?" ("+r.label+")":""}`,category:`Screen Memories into ${"sel"!=r.id?r.id:"Selection"}`,style:{text:`SM${n.id}${"sel"!=r.id?" "+r.id:""}\\n$(${t}:screenMemory${n.id}label)`,size:"auto",color:this.inverseColorBW(o),bgcolor:o},steps:[{down:[{actionId:"deviceScreenMemory",options:{screens:[r.id],preset:"sel"===r.id?"sel":"pvw",memory:n.id,selectScreens:!1}}],up:[]}],feedbacks:[{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pvw",memory:n.id,unmodified:0},style:{color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green}},{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pgm",memory:n.id,unmodified:0},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}},{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pvw",memory:n.id,unmodified:1},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark}},{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pgm",memory:n.id,unmodified:1},style:{color:this.inverseColorBW(this.config.color_reddark),bgcolor:this.config.color_reddark}}]}}return e}get auxMemories(){return{}}get layerMemories(){const e={},t=this.instance.label;for(const r of this.choices.getLayerMemoryArray()){const n=parseInt(this.state.get(["REMOTE","banks","layer","items",r.id,"color"])?.slice(1),16);e[`Load Layer Memory${r.id}`]={type:"button",name:`Load Layer Memory ${r.id} ${r.label}`,category:"Layer Memories",style:{text:`LM${r.id}\\n$(${t}:layerMemory${r.id}label)`,size:"auto",color:this.inverseColorBW(n),bgcolor:n},steps:[{down:[{actionId:"deviceLayerMemory",options:{method:"sel",screen:"S1",preset:"pvw",layer:"1",memory:r.id}}],up:[]}],feedbacks:[]}}return e}get takeAllScreens(){const e={};return e["Take All Screens"]={type:"button",name:"Take All Screens",category:"Transition",style:{text:"Take\\nAll",size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"deviceTakeScreen",options:{screens:["all"]}}],up:[]}],feedbacks:[{feedbackId:"deviceTake",options:{screens:["all"]},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}}]},e}get takeSelectedScreens(){const e={};return e["Take Selected Screens"]={type:"button",name:"Take Selected Screens",category:"Transition",style:{text:"Take\\nSel",size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"deviceTakeScreen",options:{screens:["sel"]}}],up:[]}],feedbacks:[{feedbackId:"deviceTake",options:{screens:["all"]},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}}]},e}get takeScreen(){const e={};for(const t of this.choices.getChosenScreenAuxes("all"))e["Take Screen "+t]={type:"button",name:"Take Screen "+t,category:"Transition",style:{text:"Take\\n"+t,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"deviceTakeScreen",options:{screens:[t]}}],up:[]}],feedbacks:[{feedbackId:"deviceTake",options:{screens:[t]},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}}]};return e}get cutAllScreens(){const e={};return e["Cut All Screens"]={type:"button",name:"Cut All Screens",category:"Transition",style:{text:"Cut\\nAll",size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"deviceCutScreen",options:{screens:["all"]}}],up:[]}],feedbacks:[]},e}get cutSelectedScreens(){const e={};return e["Cut Selected Screens"]={type:"button",name:"Cut Selected Screens",category:"Transition",style:{text:"Cut\\nSel",size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"deviceCutScreen",options:{screens:["sel"]}}],up:[]}],feedbacks:[]},e}get cutScreen(){const e={};for(const t of this.choices.getChosenScreenAuxes("all"))e["Cut Screen "+t]={type:"button",name:"Cut Screen "+t,category:"Transition",style:{text:"Cut\\n"+t,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"deviceCutScreen",options:{screens:[t]}}],up:[]}],feedbacks:[]};return e}get toggleSync(){const e={},t=this.instance.label;return e["Toggle Sync"]={type:"button",name:"Toggle Sync",category:"Live",style:{text:`$(${t}:connectionLabel)\\n🔗\\nLocal`,size:"18",color:this.config.color_bright,bgcolor:this.config.color_dark,show_topbar:!1},steps:[{down:[{actionId:"remoteSync",options:{sync:2}}],up:[]}],feedbacks:[{feedbackId:"syncselection",options:{},style:{text:`$(${t}:connectionLabel)\\n🔗\\nSynced`,color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]},e}get selectPreset(){const e={};return e["Toggle Preset"]={type:"button",name:"Toggle Preset",category:"Live",style:{text:"Toggle preset\\nPGM/PVW",size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"selectPreset",options:{mode:"tgl"}}],up:[]}],feedbacks:[{feedbackId:"livePresetSelection",options:{preset:"PREVIEW"},style:{text:"PVW",size:"24",color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABmNJREFUeJzVm91OHDcUgD8DCZCENAkku9lcV2qlqq/QVn2A9qaq2ouqfXmyBAgESqBQ1r2wD3Nmdvw3rHepJQRKvMdnztjn8/lZA/xFeMyAE2Df/xxYa2/7JhpjNoA3wEj9Xo/IBvgMfFCyT72sJ0rGCNhNyAE497IOtKyArttK9gh4BZjeucCXwNj/PEsoMQMOgalX5IO19iagxAbwWsl+TdpgF/7308Q8C3z0OohBLkOTjTFf0DbITob8U2BqrLVaUOmb6yr63lr7T0DJdWCPxmBvgI2EfBm3wBFtg4RejAG0QcakDS4nZe45WgbqWWzbP9QImBDZin5Y4JNfZB+YWmuvIg/ySj3IW2DT//e/NIZPHe014GVATmho+Qdez36DAz/633Jsjq21s4AyW7ijkmswcL5hH+cf3ltrL/omKYMBfLSBN+eP7i5uB07I83U3ONcgehxFDP6I5hnXDfBHZ4EbL2Tqf44iBhNhougesJZQVjvTfWvteWxy56XkriHOX3ZIzOBbOGPLsd9V8m8McYqBO//aYIcJ68ti48yHOafZvVPcMRXf8QZ4kfg8NMdajsvfoYnGmKdK9jgl3wDPlUI5JBOHWYtkqaHBMMX5p14/53V4QWOMEennszQOezrnpJdEsrc096UUyTTBpsRfyEIJBm4HPQEuI2e0e6nKMdhQkk28Toe0L30pgk2UjMcJ/bIJiVfmZ9y200pNV0gyIi9LEyb3tt4l2GHk2bqENAb4k/kH1CQ7SAitRrJFEMxaexya2CGYhBxa/swAv+KOWWxokoljjpFM+4BSkgnFRjh/khqntAnWuzu9bkIwkZ8kpLHWascsuyD1QR3Eypu6Dig15GIXGtn+za+9Q/s4pp5Ly/8AvO8NNR4QyW5x/kPk5hJsgtspWwm9owQD53veAVfEb5s1Y7I1JXvs/1mQfrwqgvkX+cQAv+AoJt5+pSQLjYEEu6LZgaUEGwHnsVBDSCZvc6kk6+zaWgTTMOl9yQb4zk/IJZm+0S46JtMUe56YDz6p5fVKEewZjTFyCfnpzkn/D0h2H4JNyMsitghmrb0IJsweQHZRCKYvqzUIFn3BBvgW592nwMkKSbZLm2KxPJTekbkE60IoRbA9YMsAv9OkKK9RaQTi2UXtmKuSbAkE07d/AcI68DmVMCu5NyyMZAN2K5QTLCvGM8BXNN69JCarlV2EtEOF9g14aq39HJqoHHZxjBcq+9Qi2dDs4gw4pjHIQQgAfi1NsHfkZRF7/WWq7FOTZLFQoVuWiRm+m3RbGMHAHbEfaJd9UjFZreyikMyweoLJTl/rK/sIyXTAuLKYbCDBLmny2CmCPVayu74yq+xTkl2UxcTPdDN0fUN2mDh+nTCTskyO0XWV4yw0UbkNCTlexuQbr4BMLiVZjexiatw1FtAclxTBdBaxJMY7iJV9HgrJZsw3LvTK92vs0Hb8gwkGbgdtJ1pHlk2yNfIJtojGhbjBgZ9wF7Pc0kjtmIwCgo2BR5G1YVgMJvKDZZ8HQbKe8GWXMoLtE7+2CFRCIcfMAL+RvliVZBfvSzLdvJDTuHBG+7ikCFZESCn7lF7Nu4453IA0rHcxNvTuS3VylAJH5N8F0Kmyz6pJtgyCdTvNWv7ReIGX1tqTyMLLzC5C+yjXbL1LEbK37LNSkoXGPVvvcgjWF+NFE2YlJFt4dnFgAq6EYJu0rwu69a6Zh4vmR8B2YvEuyWKNkPchmVCshGASgwX7HRXBJOzIivF02eehk6y3LBOaPKBxAXoImVP2KSWZHMv9e5LsFpdF1EFxLGm20Na7O9nAN/iyj41/v2FZJIMmrbJKgu0Bm92yzxXtss9KOj561qrdPK5dwAi3ozfIKPuUdHwMLfvMkWwJzePZMZ4BvqbxBbkxWWl2UZRIPeQZzjfUaB7vxmCpcUZP2ec+JMspLJbWyWQkQ4LOWgshGOSXfWrEZDr30vUrJUSsRjBwR+x7/7e8mVXHZBB3qF2CTVhs651uCdzoK/tc4Z0mD4BkS2ge1/K7d7Lr3LJPSe+iDjGiJRU/Tgh/22dEXlx3QbvTLHafK6Kt8Q8xppxktbKLOeMURdMMgmV//cmPuxivr+xTMyYbQjLxY7oOVrV5XMd4UYr5BZfdu2gKPl+leby1RspAPUrVJhkZBKv29ae5NUsNNCegbp2sKsFyxn8mTRmPLs+mjQAAAABJRU5ErkJggg=="}},{feedbackId:"livePresetSelection",options:{preset:"PROGRAM"},style:{text:"PGM",size:"24",color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABlpJREFUeJzNm99PHDcQgD9DCRBCAoFwJFUfq75V/Qfah6rv7UNbVapUtX98yR0EQhMKNAe4D/bczi7rX8d5D0v3ANod2+PxfJ4Zr7HWUtqMMRvAK2AEvAFeAibx2kfgCDgG3lpr/y3s8zNgDzjwfY6A1cRrU+DE9zkBJtba26J+cxRkjHnqBzbyv73EKxb4xw/qCKeQ/wKyV4B94ND/8O9NgJPQhPx7u2pMr4H1xLhugDMlf2Kt/RR7oVdBSiGyUjuJju+A96rjo1DHxphVnPWJQg4IW8It8K4zoWlArgFe0CjsENgqHPe9hTTWWowx216oKGU7U/CRFzyODHyerRFq2jKTW7Uzr5yFhrYrGBvgN2Az8dINzT5+C7yLmP4T2qu4B6wk5H8Axl6+Ve/nTOiDf2+Ms7CPoQf9zpBxifyo7zTAnz0PTXWnOIXcBTpdw20ZsY590gr5SKPwv621FwuUfUWzLY+AMxtwtMaYdRrr6lvMOwP8iNuropBxQmg1gnnHS2QxqpLMy5e5HYKb2CZwHVFIbYLt0kx2hFvBM/V+bELVSXaPYgMQTJt0jGBafpdk4Qk5x6wV/iwh39JW2Nhaez2Th0OjOK0cNN7iTFa244m19iYw2DXaCnlF2oekmqW9IBNr7WXoYWPMcxpljYDnGX3M5Bvgr8TDJQQTpypoPaTMYR/hFkBv6Rwfd+llyJY8Dz2oSCa/3Zh8A/xB28yHINjsnBEiWKSPPdLbsoRk+ljSncPUAN/jFJVDsE0voBbBBACnmSSTST1JjKGUZBL6rEZjsSUQTCaaTZo5SdaNBMLytYIGIpgAIYdgup/aJNMLOyOZAb6iLsFEITkEu/CDTcWCFjin8ZMpkklMJmPJIdk5PhaLUUybeurQ9mCCSRw1p68rIZmWH4WLAX6n2ftTmlUZE3eW1QnW05eOzEtIdoyz9tBcntA+r8lcLg3wNW7r1CRYa1/3yBaCjfy/JiyXZJKz2ghSbOAs4gGw1nnsxk9IrDnm7wxuwXSaZSMx3iySzRRUmWBdpB9yXyGpFo2ZevrUybLPmZNkBvgOd3Z4mhDwkBhsn7TPuPByrX8nl2RaYTkkk9+LhHyA8xjFJAYThVSNwbqZwAeSTLbMaehBL18rrFe+AX7BmV+JE6uWRYxMaB6SXdP4sRTJ+uRfGNz+vGa5WcQ9mkMcNNsmFigPQbKtVNmnFsF0WrOPYNJucGcZOZudZJZ93rAgkknZZyiCLbLsEz1b+b5Ly1n3ykoG+JXlZxGFYGP/d0n2T2IyOZ3H6mTP1LiySBYq+wyaRQzVskpiJtVKSLZBW2Fd33pngJ9wFKtNsGQM5v0IEVjUJlm3rLRicAfEqyVlEbshwmucsnMXK5Z0C7XsDAXEyz41CaaTZqmQQ/u/Y+C4Esl6LzAYnGeXoHFE3sUFQe84MeCHZBFj/XfTsTGS7dAOYlNAasV8OWWfEoLNUxpuJbqAT5RZMLSdfipZtkWzYMkjTV/ZZ6kxWE8f+hQ/F8lIRwnayl/SKfv84P9YahZROWwSE5qHZBJiyDhSMdmB/yXLPjWziH0Ek3JNScxUlWShsk8Ngq3SZBFzCSZNruJJTJZLslzHHCSZAb6kPsEk5Mhx2DZjQpo0crMsRjJRmMwzJ7v4ngyKld5FFOvL9Q29pZo5LBnKSNaVH3Qd3bLPoyKY6qs2ydaVbFmQWdnnG5qyT02C5YYcZEzoIVfxZDyxxZfdsB4r+5QSLDtXkyCYtJKq7iKu4vW6j76yT60YrBTF3Za89K36WxjJDPAt9Qim06o5DluXfYpiJpyFXYUeViSTX1ZZKUaxQWOwLnUGIpmOyXZ7n6NJuS7lJkdumxMSVygLozyEuTDAF7is27JjMP21j5yYzwqyfyUky72KFyz7DHEXUZt3yGFPvTw5mw3+eVS37PNYCSZtaJKNDfAzy88iCsEmvq/imIkmJouRTC6V58aeNkSxpRJMyc6OmUplK/nawrqfR83KPts8YoL19F3r86ju3FYMzowvl0iwbhVilbKYSV9gyLmYVUIy01f2GeIuYg7BpOkqr1xgCG33hZPM4Dy7Lvuk6tVSdhH/FLsF/5AsYqz/rEvl3kJ3aC9I6ibdHXAqsnPKPkNkEWfKpv3NanbMpN5f6OdRfWWfUoItJIsYmVDtS+Wxz6Om/wN0kxXclFa4eQAAAABJRU5ErkJggg=="}}]},e}get presetToggle(){const e={};return e["Preset Toggle"]={type:"button",name:"Preset Toggle",category:"Live",style:{text:"Preset\\nToggle\\noff",size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"devicePresetToggle",options:{action:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"presetToggle",options:{},style:{text:"Preset\\nToggle\\non",color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]},e}get copyPreviewFromProgram(){const e={};return e["Copy program of selected screens to preview"]={type:"button",name:"Copy program of selected screens to preview",category:"Live",style:{text:"Copy\\nPgm➔Pvw\\nSelected",size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceCopyProgram",options:{screens:["sel"]}}],up:[]}],feedbacks:[]},e}get toggleScreenSelection(){const e={},t=this.instance.label;for(const r of this.choices.getChosenScreenAuxes("all"))e["Do intelligent selection for screen "+r]={type:"button",name:"Do intelligent selection for screen "+r,category:"Screens",style:{text:"Select "+r,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"selectScreen",options:{screen:r,sel:4}}],up:[{actionId:"selectScreen",options:{screen:r,sel:5}}]}],feedbacks:[{feedbackId:"liveScreenSelection",options:{screen:r},style:{color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]},e["Toggle Screen "+r+" Selection and show some useful data of PGM"]={type:"button",name:"Toggle Screen "+r+" Selection and show some useful data of PGM",category:"Screens",style:{text:`${r} PGM\\n$(${t}:screen${r}label)\\n$(${t}:screen${r}timePGM)\\n$(${t}:screen${r}memoryPGM)$(${t}:screen${r}memoryModifiedPGM)\\n$(${t}:screen${r}memoryLabelPGM)`,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_reddark},steps:[{down:[{actionId:"selectScreen",options:{screen:r,sel:2}}],up:[]}],feedbacks:[{feedbackId:"liveScreenSelection",options:{screen:r},style:{color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]},e["Copy PGM of "+r+" to PVW and show some useful data of PVW"]={type:"button",name:"Copy PGM of "+r+" to PVW and show some useful data of PVW",category:"Screens",style:{text:`${r} PVW\\n$(${t}:screen${r}label)\\n$(${t}:screen${r}timePVW)\\n$(${t}:screen${r}memoryPVW)$(${t}:screen${r}memoryModifiedPVW)\\n$(${t}:screen${r}memoryLabelPVW)`,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_greendark},steps:[{down:[{actionId:"deviceCopyProgram",options:{screens:[r]}}],up:[]}],feedbacks:[{feedbackId:"remoteLayerSelection",options:{screen:r,layer:"all",preset:"all"},style:{color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]};return e}get toggleLockPgmAllScreens(){const e={};return e["Toggle Lock PGM All Screens"]={type:"button",name:"Toggle Lock PGM All Screens",category:"Lock Screens",style:{text:"PGM",size:"24",color:this.config.color_dark,bgcolor:this.config.color_reddark,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABt0lEQVRoge1ay5LEIAiErf1uR/lx9jJOGddXFEZj2UeNSNtExARgY6D2BMYYzvURker8KsZLhHLQICpqsIdUDEmSIoZqpGoOp8ZLkPwZNdCgVtVJIkKNsBwmVwDCjchgZj8GAGRC/HdkcMEBBAAgIjDGsDGmxZwfg96uMYZHFNVQDokIAIDvrP7r9fo8KxWi3cplHEevVtiYczZhgyEK5RH1xJULHa5tFNpJXJKcD0cAaHc8fs4vzhKpYGWIkQtVWwVHuadiKIlrABEvOe99cunCUsohymaGJZRzzn1YWWsvfSOEpysXh11Izlr7j+wdTCeXgnMOnHPDdqaTk37PQkwnN7Ib1jCdXEo5Zr6Q7l2A23cbq6F0wJ6unCaa81yh4PT9Q4602PGFa2tEDSdxqWpAo6rYOiy3Jve1s2X0nuA3ilt15Zg5ecv1bledW51cWJu1tEtClVzDlt16G92FrTeUQ24AtXrmMTfOOeQIqH+PVyUX5LKYCCaeEYe6cv5zVtTMQZ8apm0oW5xQZkKdXC6R3/ic3I2j3FNxzpZPxdbktCtx9SNWCUe5Xsz+CeBcpz8VW5PbGn/AbcB8DcHhggAAAABJRU5ErkJggg=="},steps:[{down:[{actionId:"lockScreen",options:{screens:["all"],preset:"PROGRAM",lock:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"liveScreenLock",options:{screen:"all",preset:"PROGRAM"},style:{color:this.inverseColorBW(this.config.color_redgrey),bgcolor:this.config.color_redgrey,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABSklEQVRoge2a2w7DIAhAZdl3N60/zp5MjBNLBdwknKe19cIZLdVlKTkGrCc4jgOpazln0/lNBh8JUViIqg44I9WiKaky0J0UwHgaxO/uAADXdYnieol6J7lYacNp9xSxHMVMwHV77KXzaQySzlTWmiB5gRB9JM+geuZKkIjIFivt2zHEscx27GWtFmvOd+fp3Xq9MWazp565JgNAiZXr2vPXqMm1cXIDb9uVL0fD26xa/gMhtyshtyshtyshtyshtyuu5YarU40ffKwZbYdcZ+7NbWi89WKBiAkA2Dt815kLuV1hP3NSzvOE6vOSKrwkc7VY79gKczlKZIWgqdydgLWg64IScrPcVUXrqrmioHQFVrwOVr0KcHRsRbzndiXkJLhdofyakJsl1paGuJYz3YmvWolQuM6cazn2banwPzMVnsThOnOu5VzzARnBeIM8tq0ZAAAAAElFTkSuQmCC"}}]},e}get toggleLockPgmScreen(){const e={};for(const t of this.choices.getChosenScreenAuxes("all"))e["Toggle Lock PGM Screen "+t]={type:"button",name:"Toggle Lock PGM Screen "+t,category:"Lock Screens",style:{text:t+"\\nPGM",size:"18",color:this.config.color_dark,bgcolor:this.config.color_reddark,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABt0lEQVRoge1ay5LEIAiErf1uR/lx9jJOGddXFEZj2UeNSNtExARgY6D2BMYYzvURker8KsZLhHLQICpqsIdUDEmSIoZqpGoOp8ZLkPwZNdCgVtVJIkKNsBwmVwDCjchgZj8GAGRC/HdkcMEBBAAgIjDGsDGmxZwfg96uMYZHFNVQDokIAIDvrP7r9fo8KxWi3cplHEevVtiYczZhgyEK5RH1xJULHa5tFNpJXJKcD0cAaHc8fs4vzhKpYGWIkQtVWwVHuadiKIlrABEvOe99cunCUsohymaGJZRzzn1YWWsvfSOEpysXh11Izlr7j+wdTCeXgnMOnHPDdqaTk37PQkwnN7Ib1jCdXEo5Zr6Q7l2A23cbq6F0wJ6unCaa81yh4PT9Q4602PGFa2tEDSdxqWpAo6rYOiy3Jve1s2X0nuA3ilt15Zg5ecv1bledW51cWJu1tEtClVzDlt16G92FrTeUQ24AtXrmMTfOOeQIqH+PVyUX5LKYCCaeEYe6cv5zVtTMQZ8apm0oW5xQZkKdXC6R3/ic3I2j3FNxzpZPxdbktCtx9SNWCUe5Xsz+CeBcpz8VW5PbGn/AbcB8DcHhggAAAABJRU5ErkJggg=="},steps:[{down:[{actionId:"lockScreen",options:{screens:[t],preset:"PROGRAM",lock:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"liveScreenLock",options:{screen:t,preset:"PROGRAM"},style:{color:this.inverseColorBW(this.config.color_redgrey),bgcolor:this.config.color_redgrey,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABSklEQVRoge2a2w7DIAhAZdl3N60/zp5MjBNLBdwknKe19cIZLdVlKTkGrCc4jgOpazln0/lNBh8JUViIqg44I9WiKaky0J0UwHgaxO/uAADXdYnieol6J7lYacNp9xSxHMVMwHV77KXzaQySzlTWmiB5gRB9JM+geuZKkIjIFivt2zHEscx27GWtFmvOd+fp3Xq9MWazp565JgNAiZXr2vPXqMm1cXIDb9uVL0fD26xa/gMhtyshtyshtyshtyshtyuu5YarU40ffKwZbYdcZ+7NbWi89WKBiAkA2Dt815kLuV1hP3NSzvOE6vOSKrwkc7VY79gKczlKZIWgqdydgLWg64IScrPcVUXrqrmioHQFVrwOVr0KcHRsRbzndiXkJLhdofyakJsl1paGuJYz3YmvWolQuM6cazn2banwPzMVnsThOnOu5VzzARnBeIM8tq0ZAAAAAElFTkSuQmCC"}}]};return e}get toggleLockPvwAllScreens(){const e={};return e["Toggle Lock PVW All Screens"]={type:"button",name:"Toggle Lock PVW All Screens",category:"Lock Screens",style:{text:"PVW",size:"24",color:this.config.color_dark,bgcolor:this.config.color_greendark,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABt0lEQVRoge1ay5LEIAiErf1uR/lx9jJOGddXFEZj2UeNSNtExARgY6D2BMYYzvURker8KsZLhHLQICpqsIdUDEmSIoZqpGoOp8ZLkPwZNdCgVtVJIkKNsBwmVwDCjchgZj8GAGRC/HdkcMEBBAAgIjDGsDGmxZwfg96uMYZHFNVQDokIAIDvrP7r9fo8KxWi3cplHEevVtiYczZhgyEK5RH1xJULHa5tFNpJXJKcD0cAaHc8fs4vzhKpYGWIkQtVWwVHuadiKIlrABEvOe99cunCUsohymaGJZRzzn1YWWsvfSOEpysXh11Izlr7j+wdTCeXgnMOnHPDdqaTk37PQkwnN7Ib1jCdXEo5Zr6Q7l2A23cbq6F0wJ6unCaa81yh4PT9Q4602PGFa2tEDSdxqWpAo6rYOiy3Jve1s2X0nuA3ilt15Zg5ecv1bledW51cWJu1tEtClVzDlt16G92FrTeUQ24AtXrmMTfOOeQIqH+PVyUX5LKYCCaeEYe6cv5zVtTMQZ8apm0oW5xQZkKdXC6R3/ic3I2j3FNxzpZPxdbktCtx9SNWCUe5Xsz+CeBcpz8VW5PbGn/AbcB8DcHhggAAAABJRU5ErkJggg=="},steps:[{down:[{actionId:"lockScreen",options:{screens:["all"],preset:"PREVIEW",lock:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"liveScreenLock",options:{screen:"all",preset:"PREVIEW"},style:{color:this.inverseColorBW(this.config.color_greengrey),bgcolor:this.config.color_greengrey,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABSklEQVRoge2a2w7DIAhAZdl3N60/zp5MjBNLBdwknKe19cIZLdVlKTkGrCc4jgOpazln0/lNBh8JUViIqg44I9WiKaky0J0UwHgaxO/uAADXdYnieol6J7lYacNp9xSxHMVMwHV77KXzaQySzlTWmiB5gRB9JM+geuZKkIjIFivt2zHEscx27GWtFmvOd+fp3Xq9MWazp565JgNAiZXr2vPXqMm1cXIDb9uVL0fD26xa/gMhtyshtyshtyshtyshtyuu5YarU40ffKwZbYdcZ+7NbWi89WKBiAkA2Dt815kLuV1hP3NSzvOE6vOSKrwkc7VY79gKczlKZIWgqdydgLWg64IScrPcVUXrqrmioHQFVrwOVr0KcHRsRbzndiXkJLhdofyakJsl1paGuJYz3YmvWolQuM6cazn2banwPzMVnsThOnOu5VzzARnBeIM8tq0ZAAAAAElFTkSuQmCC"}}]},e}get toggleLockPvwScreen(){const e={};for(const t of this.choices.getChosenScreenAuxes("all"))e["Toggle Lock PVW Screen "+t]={type:"button",name:"Toggle Lock PVW Screen "+t,category:"Lock Screens",style:{text:t+"\\nPVW",size:"18",color:this.config.color_dark,bgcolor:this.config.color_greendark,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABt0lEQVRoge1ay5LEIAiErf1uR/lx9jJOGddXFEZj2UeNSNtExARgY6D2BMYYzvURker8KsZLhHLQICpqsIdUDEmSIoZqpGoOp8ZLkPwZNdCgVtVJIkKNsBwmVwDCjchgZj8GAGRC/HdkcMEBBAAgIjDGsDGmxZwfg96uMYZHFNVQDokIAIDvrP7r9fo8KxWi3cplHEevVtiYczZhgyEK5RH1xJULHa5tFNpJXJKcD0cAaHc8fs4vzhKpYGWIkQtVWwVHuadiKIlrABEvOe99cunCUsohymaGJZRzzn1YWWsvfSOEpysXh11Izlr7j+wdTCeXgnMOnHPDdqaTk37PQkwnN7Ib1jCdXEo5Zr6Q7l2A23cbq6F0wJ6unCaa81yh4PT9Q4602PGFa2tEDSdxqWpAo6rYOiy3Jve1s2X0nuA3ilt15Zg5ecv1bledW51cWJu1tEtClVzDlt16G92FrTeUQ24AtXrmMTfOOeQIqH+PVyUX5LKYCCaeEYe6cv5zVtTMQZ8apm0oW5xQZkKdXC6R3/ic3I2j3FNxzpZPxdbktCtx9SNWCUe5Xsz+CeBcpz8VW5PbGn/AbcB8DcHhggAAAABJRU5ErkJggg=="},steps:[{down:[{actionId:"lockScreen",options:{screens:[t],preset:"PREVIEW",lock:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"liveScreenLock",options:{screen:t,preset:"PREVIEW"},style:{color:this.inverseColorBW(this.config.color_greengrey),bgcolor:this.config.color_greengrey,png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAABSklEQVRoge2a2w7DIAhAZdl3N60/zp5MjBNLBdwknKe19cIZLdVlKTkGrCc4jgOpazln0/lNBh8JUViIqg44I9WiKaky0J0UwHgaxO/uAADXdYnieol6J7lYacNp9xSxHMVMwHV77KXzaQySzlTWmiB5gRB9JM+geuZKkIjIFivt2zHEscx27GWtFmvOd+fp3Xq9MWazp565JgNAiZXr2vPXqMm1cXIDb9uVL0fD26xa/gMhtyshtyshtyshtyshtyuu5YarU40ffKwZbYdcZ+7NbWi89WKBiAkA2Dt815kLuV1hP3NSzvOE6vOSKrwkc7VY79gKczlKZIWgqdydgLWg64IScrPcVUXrqrmioHQFVrwOVr0KcHRsRbzndiXkJLhdofyakJsl1paGuJYz3YmvWolQuM6cazn2banwPzMVnsThOnOu5VzzARnBeIM8tq0ZAAAAAElFTkSuQmCC"}}]};return e}get selectLayer(){const e={};for(const t of this.choices.getScreensAuxArray())for(const r of this.choices.getLayerChoices(t.id))e["Select Layer"+r.label+" of "+t.id]={type:"button",name:"Select Layer"+r.label+" of "+t.id,category:"Select Layers",style:{text:"Select "+t.id+" "+r.label.replace("Layer ","L"),size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"selectLayer",options:{method:"spec",screen:[t.id],layersel:["1"],[`layer${t.id}`]:[r.id]}}],up:[]}],feedbacks:[{feedbackId:"remoteLayerSelection",options:{screen:t.id,layer:r.id,preset:"all"},style:{color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]},e["Toggle Layer"+r.label+" of "+t.id]={type:"button",name:"Toggle Layer"+r.label+" of "+t.id,category:"Select Layers",style:{text:"Toggle "+t.id+" "+r.label.replace("Layer ","L"),size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"selectLayer",options:{method:"spectgl",screen:[t.id],layersel:["1"],[`layer${t.id}`]:[r.id]}}],up:[]}],feedbacks:[{feedbackId:"remoteLayerSelection",options:{screen:t.id,layer:r.id,preset:"all"},style:{color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]};return e}get chooseInput(){return{}}get toggleFreezeInput(){const e={};for(const t of this.choices.getLiveInputArray())e["Toggle Freeze "+t.id]={type:"button",name:"Toggle Freeze "+t.label,category:"Input Freeze",style:{text:"Freeze\\nIn "+t.index,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceInputFreeze",options:{input:t.id,mode:2}}],up:[]}],feedbacks:[{feedbackId:"deviceInputFreeze",options:{input:t.id},style:{color:16777215,bgcolor:(0,n.combineRgb)(0,0,100),png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3AQMAAACSFUAFAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAABfXKLsUQDeAAAAAXRSTlMAQObYZgAAAM9JREFUGNONkTEOwjAMRX9UpDC1nIBwEKRyJCMGmNogDsCRyMY1wg26ESTUYLc1sEGWp1h2/vcPABDG84MrWoxXOgxcUycol7tbEFb748Aim4HmKZyXSCZsUFpQwQ1OeIqorsxzQHFnXgCTmT3PtczErD1ZEXCBXJR6RzXXzSNR3wA2NrvkPCpf52gDZnDZw3Oj7Ue/xfObM9gMSL/LgfttbHPH8+bRb+U9tIla0XVx1FP9yY/6U7/qX/fR/XRf3f+Th+Yz5aX5vfPUfP/6jxdhImTMvNrBOgAAAABJRU5ErkJggg=="}}]};return e}get toggleFreezeLayer(){const e={},t=this.choices.getScreensArray();for(const r of t)for(const o of this.choices.getLayersAsArray(r.id,!0).filter((e=>"TOP"!==e.id)))e[`toggleFreeze${r.id}${o.longname}`]={type:"button",name:`Toggle Freeze ${r.id} ${o.longname}`,category:"Layer Freeze",style:{text:`Freeze\\n${r.id} ${o.longname}`,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceLayerFreeze",options:{screen:[r.id],...Object.fromEntries(t.map((e=>[`layer${e.id}`,e.id===r.id?[o.id]:["1"]]))),mode:2}}],up:[]}],feedbacks:[{feedbackId:"deviceLayerFreeze",options:{screen:r.id,...Object.fromEntries(t.map((e=>[`layer${e.id}`,e.id===r.id?o.id:"1"])))},style:{color:16777215,bgcolor:(0,n.combineRgb)(0,0,100),png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3AQMAAACSFUAFAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAABfXKLsUQDeAAAAAXRSTlMAQObYZgAAAM9JREFUGNONkTEOwjAMRX9UpDC1nIBwEKRyJCMGmNogDsCRyMY1wg26ESTUYLc1sEGWp1h2/vcPABDG84MrWoxXOgxcUycol7tbEFb748Aim4HmKZyXSCZsUFpQwQ1OeIqorsxzQHFnXgCTmT3PtczErD1ZEXCBXJR6RzXXzSNR3wA2NrvkPCpf52gDZnDZw3Oj7Ue/xfObM9gMSL/LgfttbHPH8+bRb+U9tIla0XVx1FP9yY/6U7/qX/fR/XRf3f+Th+Yz5aX5vfPUfP/6jxdhImTMvNrBOgAAAABJRU5ErkJggg=="}}]};return e}get toggleFreezeScreen(){const e={},t=this.choices.getScreensAuxArray();for(const r of t)e[`toggleFreeze${r.id}`]={type:"button",name:`Toggle Freeze ${r.id}`,category:"Screen Freeze",style:{text:`Freeze\\n${r.id}`,size:"auto",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceScreenFreeze",options:{screen:[r.id],mode:2}}],up:[]}],feedbacks:[{feedbackId:"deviceScreenFreeze",options:{screen:r.id},style:{color:16777215,bgcolor:(0,n.combineRgb)(0,0,100),png64:"iVBORw0KGgoAAAANSUhEUgAAADcAAAA3AQMAAACSFUAFAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAABfXKLsUQDeAAAAAXRSTlMAQObYZgAAAM9JREFUGNONkTEOwjAMRX9UpDC1nIBwEKRyJCMGmNogDsCRyMY1wg26ESTUYLc1sEGWp1h2/vcPABDG84MrWoxXOgxcUycol7tbEFb748Aim4HmKZyXSCZsUFpQwQ1OeIqorsxzQHFnXgCTmT3PtczErD1ZEXCBXJR6RzXXzSNR3wA2NrvkPCpf52gDZnDZw3Oj7Ue/xfObM9gMSL/LgfttbHPH8+bRb+U9tIla0XVx1FP9yY/6U7/qX/fR/XRf3f+Th+Yz5aX5vfPUfP/6jxdhImTMvNrBOgAAAABJRU5ErkJggg=="}}]};return e}get posSize(){const e="18",t=[{name:"Fullscreen",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAANhJREFUeJzt27ENhSAUQNHHjxPiDk7gGE7gDrIiVr8Tro3R6D2lWpCbR2wg1VpDbb+7F/B0BgIGAgYCBgJD60Up5VO/t5xzOnreDBQRkcfxmtU8TNm25ju3GOhO0N861fnqhdxhWtNC3zhBwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQODUOekz54nfygkC3Qnq3WH4iuSd1T63GDAQMBAwEDAQ2AFSYhUMjKzzcQAAAABJRU5ErkJggg==",parameters:["x","y","w","h"],x:"0",xAnchor:"0",y:"0",yAnchor:"0",w:"sw",h:"sh",ar:""},{name:"Screen center hor/ver",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAepJREFUeJztm8FN40AUhv9niAJHd8AGTntMBZGgAitKBykBcWAbgJSQDiJIB9CBrxyhCB9QEM7j4DXisKN/xuAsEv8nRbLksefl07MzM29i7g4RJvvfAXx3JIggQQQJIkgQYT90Yr1e7/bnzR3FdNr0fXMDmO20+6Io/tmhMogQzKCWkNkvx8wAbAGgmE4z7GiAxp4UZRBBgggSRJAgggQRJIggQQQJIkgQQYIIdKrRlbIsByntD1cr+z2bAQAeVqvBc1lGTzWqqvLJZPKaGGIUvQgqy3KQ5/lL0kXj8fvhwXi8OUiYzed5XqOn79JbBrX41jZxDQEAw/drIgVZ5sOOoUXRqyDf2uZu8esypq351o6BBQDcL47+uGVRj9jZxeP1Z2Jk6CVNkCCCBBEkiCBBBAsu/Zr9rKK9u6oaXQjXxW5vAXSrarQj6dRx0Hy5twCA5bw+TxwH+Wg06jSma6saReC8MoggQQQJIkgQQYIIvc7mLfNh9GzbHVg2h6cXT1cJuzsyAHWX+GJv/uVUVeVogq7RrPTEflpSrqkB9LKaCPSUQX+XP9Pu/WF3x+jkZLCr3R0MvYMIEkSQIIIEESSIIEEECSJIEEGCCBJEkCBCsKqh/2o0KIMI4bqYAKAMokgQQYIIEkSQIMIbSG+duN36wUwAAAAASUVORK5CYII=",parameters:["x","y"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"keep"},{name:"Screen center hor",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAa1JREFUeJzt20FOwkAAheE3FQQXXIHoyMplOQKeoGm4iWGhWxfCEbxBQ7iBhgt061IOwUKJ2nHRQFzYvBl00MX7Vk1o0+ZnWmAyGOccpFny1xfw3ykQoUCEAhEKRLSaXlgsFof9eHMOWZ7X557PAWMOevosy749oUYQ0TiCtprK/jpjDIAKALI8T3CgL2jsTtEIIhSIUCBCgQgFIhSIUCBCgQgFIhSIUCBCgQgFIhSIUCBCgQgFIuiM4r6Wy2Wr1+t5z0aeFIW5GI8BAE9F0X4py6AZxeFw+BZ4iV6iBer3+68AjrwPSNPdZjdNN93ASfuyLI9jRIoWaMtVZuO3IwCgszvGM5BJXGfPS/MSO1D1MDu79tnRuMqcAzMAeJyd3jiTeN1io6vVbcxIekgTCkQoEKFAhAIRCkQoEKFAhAIRCkQoEKFAhAIRsX/NJ5eT56nXns4B9/XmaLK6C1jEGfVNjhno/QfHhswmfgDAer2OsqYxWiBrbTfogC+LOO1g0A5dxGmtDTqdLz2DCAUiFIhQIMI0PQv1X42aRhDROIKkphFEKBChQIQCEQpEfAKBt18fAq3lJwAAAABJRU5ErkJggg==",parameters:["x"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"keep"},{name:"Screen center ver",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAQ9JREFUeJzt28EJwkAQQNFdsZKtxQpSi2ANgq0kFVjLtrKecpGMH6Jmxfx3NAfDZ8Ssg7m1lhQ79L6BX2cgYCBgIGAgcIwuTNO0q6+3YRjy0utOEAgnaBaV/Rf0SXGCgIGAgYCBgIGAgYCBgIGAgYCBgIEAnsWW1Fo3P+mXUrqcCZ0gsGqCZvdrOX/qRiKnS719+z1ecYKAgYCBgIGAgUAOd/M572qrkVpzq7FGvBcbx5TS8lZjfpLe8jnoW0/S81ZjCK47QcBAwEDAQMBA4K3TfO+T9hacILBqgnr9uteDEwQMBAwEDAQMBAwEDAQMBAwEDAQMBPAstrf/bDxzgkC8F1NKyQlCBgIGAgYCBgIPNlYwaAstuMYAAAAASUVORK5CYII=",parameters:["y"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"keep"},{name:"Screen left",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAQhJREFUeJzt21EKgkAUQNE30UZyK7WCwa1Ea4jaiu6gnYgtZfrqJ5puBJrUPZ8KIpcnzgimUkqobvXtG1g6AwEDAQMBA4F17UTf93/1ess5p2fHnSBQnaC7WtlfQU+KEwQMBAwEDAQMBAwEDAQMBOoLxVIit21ERBmHISLNs15smmZRC1MnCOBWIyLictzsS1pNunndHcbzlNf/lBMEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwE3trNbw/X01zfg5bGCQL1CUop+q6LnHNqZryhpXGCgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIEAfjD7t382HjlBIPnP6mtOEDAQMBAwEDAQuAGlOCPF79y6EAAAAABJRU5ErkJggg==",parameters:["x"],x:"0",xAnchor:"lx",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"keep"},{name:"Screen right",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAP1JREFUeJzt28EJwjAYQOFEnCRdxQkyhBMIziA4gTOUuoCzZJV46kWM71Cswb7vaAOWx1+0oY211qC23a9PoHcGAgYCBgIGAvvWgWmaNvXzlnOO7z53gkBzgmatsv+CrhQnCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgI4HbH2kopq23UpWEIOYRwH8fmGicIdDdBs8clnb79HccQrrTGCQIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgLd3s0fzgXvtBe78RInCHQ3QSml9R7YqtUHqJYyEDAQMBAwEDAQMBAwEMA/ilt7Z+OVEwSi76x+5gQBAwEDAQMBA4EnfJMi2Ja2aO0AAAAASUVORK5CYII=",parameters:["x"],x:"sw",xAnchor:"lx + lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"keep"},{name:"Screen top",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAP5JREFUeJzt29EJglAYQOHfaJI7SxPoKkEzBK2iE7SKrmJPgkS3Y9yyyPM9Jlzl8KuYWI3jGMrbffsAfp2BgIGAgYCBwD63oeu6Td3e6rquHv2eDbR44aYpXeJlXduuti8MlCs7s/qkLTimxehMKZ6goe8jIuJ6TsfStcjhNFwiItKndzTjRRoYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgUP81Ppiftf+MEgeIJSim97c+rX+QEAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwF8cbi1bzbuOUGg8pvV55wgYCBgIGAgYCBwA96yH8BghKhTAAAAAElFTkSuQmCC",parameters:["y"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0",yAnchor:"ly",w:"lw",h:"lh",ar:"keep"},{name:"Screen bottom",text:"",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAQRJREFUeJzt28EJwjAYQOFUnCRdxQkyhBMIziA4gTuYCZwlq9SLvZk+pDGKvu9SUGjL47dSQoZpmoLqNp++gW9nIGAgYCBgILCtfZFz/qu/t5TS8OxzJwhUJ2hWK/sr6JfiBAEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBXDhsqZTSfTk7xrhq4dMJAl0naHY7xcO7r7E7lnOL8zhBwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAoOvbfBzHEEII+xCavGkvujyOKzcMYqCWezZSqxO9YO39d52gfL32vFwTg3tWl/mQBgYCBgIGAgYCd8ZEItkX5ZW/AAAAAElFTkSuQmCC",parameters:["y"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"sh",yAnchor:"ly + lh",w:"lw",h:"lh",ar:"keep"},{name:"set A/R to 16/9, keep height",text:"16/9",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAjdJREFUeJzt2rFrE2EYx/HfEy4Egh3VCqU4dukqhUB4Ly49urs46uAY/xKddHEtDl26SFyaewgcLa5duiluKk5FQ8LxPg5pSpqkeZIld/Z9PtMl7zu8fHkvd5CXRATmdpWiF1B2FkhhgRQWSGGBFBZIsTAQM7eZeevqWpg5uHeCaN6XWZZtDIfDjwAOiOh4zWsqlZlAzLwD4DMRbRLRr9BfJG/cYsz8HMAXANsAaiLiC1lViUQA0Ol0avV6/R2AZwDuTYw/BPCViJCmKQCAiGR8/T9zztEy8+wppogAIEmSAYAXzNwF8B6jXUQAfgDYE5Fv4yeYiCxVvqxWfRLf2EHOuUMATwB8BzAgouB32EwA59xFtVrdFZET7/39IhZVJnPfgxqNxiWAA2ZuA8jXu6RymRtozDn3dl0LKavgf2M0FkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFEEHYuatqz9HbxV0IACRiLxJ0/RTlmUb8yaEHgiVSuUnET3N8/yi1+vtzowXsagixXGMOI6vP8vojGFNRB5570+73e7Lyfm07BnEgE64/gFw1O/3XyVJMghuB61q6R10VxDR9Uk5Zn4M4Ayjs5gC4K/3vt1qtT6M5y88/nIXTR9AJSISkQER/Saifefc+eR48LeY9/6BiJxEUbTTbDbPp8eD20FTciJ6veigWHC/QasK/hbTWCCFBVJYIIUFUlggxT/LTbAUKVnjswAAAABJRU5ErkJggg==+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyVJREFUeJztmkFPE0EYht93KRIIJVEJNy96MF68cLMJTDcc+QFyNf4CTCAeiKIX0Ui8cDRejXgk4cbuVuNtTyZejEYTb2BQiibSdj4P7UpBcLQ7XdxmnqRpdib9vvbJNzM726GIwHE83kl/gf8dJ8hAtwSx9co9XREUBMFMFEVXuxE7a2h7kl5bWxsaHh5+BwC7u7sXpqenv1tNkDHWK6hYLM6THCU5WiwW523HzxqrFVSpVM5prd8CGAAAEdkjeVEp9cFakoyxWkFa6+X2mJ7nEcADmzmyxloFBUFQIvkCR6xeIqLK5XJkJVHGWKmgxcVFD8AKgMbhPhFpkFxZXV3ts5Era6wImpiYuE7yMoDC4T6SfSJyaWxs7JqNXFmTeoitr6+PDA4OvgdwBn++OdwGcF4p9SVVwoxJXUFDQ0O3AJwFUAfwo/VKSK5rAE6TXEibL2t+GxL/QhzH/VrrbySX2ttVuTwPAGEQPGpv11rvxXHcPz4+XkuTN0us30k3o7IZVCT3+zG3mzfgBBlwggw4QQZST9JhGB4IUC6XkTQQQBAEqeJ3glLK2uLgKshATy3zSTW7CsoQJ8iAE2TACTLgBBlwggw4QQacIANOkAEnyIATZMAJMtBTm1W28orFvF0VFJ7As6Dj6HSH74aYge5U0AnRjSGW6o/D/41uPN51Q8yAE2TACTKQy0k6juP+nZ2dBZKnDnUlh0YPHKYQkb2RkZG7nRyayKUgAIii6KGIzKJ5tEa3mgda78kRHA9AP8nlycnJG53kye0QKxQKt0XkM5or8QD25SC5JlkAsF2r1e50mie3gkqlUtXzvJvJvc9RaK0FwNzU1NTXTvPkVhAAhGH4WGv9mmT9iO46yTebm5tP0uTI7RyUsLGxccXzvJc44nyk1nrS9/1Kmvi5riAA8H3/FYDnaE7WAACSNZLP0soBekBQi1mSv85oa62l0WjM2QjcE4KUUp8A3CdZJ1n3PO+e7/sfbcTuCUEAUK1Wl0RkS0S2qtXqkvkTf0fuJ+l2oiiaERFRSj21FbOnBGF/JbP2o3rqeRAsiknomTmoWzhBBn4CwAkWcLfyDrMAAAAASUVORK5CYII=",parameters:["h"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"16/9"},{name:"set A/R to 16/9, keep width",text:"16/9",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAmxJREFUeJztmzGLE2EQht/Zb+Ew2omlNnbiLxBhd2XhDHaHioU2dmej/8bO2kIsREgTki8WR0qbKyzS2Mhp5XFZkCT7Wlz2XOQ2sxFicpt5qs1kPxiezExYmBWSMKoJ1p3AplNbUKfT2el0OjurTGYTCeve2Gq1Xs8vn68ol42kVgV575+SfETyca/Xe7bqpDYJ0Ya09/42gCGAy/PQGMDdOI4/rzi3jWChIO/9FRE5JHkdgMzDFJFvk8nkVpqmP/9LlmtkYYuRfEvyGv7IAQDJ8/xqGIbv/oo3kkpB3vtXAB4AOAFwVPrqSESOSabe+5erTnDdVP6LTafT9yLyofjsnBsBwGw2u1PESE5Xm976UYd0gfeeABDHcePbqkxlBRVCACBJEvT7fQCAiLC4vsjU/aHtUUOhsoLKhkmeVRTJC91i5c6og1WQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIIXai+RNIUkSAKcrPXVYegWvqVRtnFmLKdSuoKYgIkttyjVeULfbvSEiZ7O2tM58s4iRnKZp+vW8841vsTAM94IgGDnnhs65gyLunDtwzg2DIBiFYbhXdb7xFQQA/X7/o4jcA3CpHCf5KwiCT1EU7QI4V0TjKwgAROQJgO8k81KYIvIjy7KHqJADbImgOI5PSO6KSFYKj0neb7fbx4vOboUgAEiS5AuAfZy+nDPO8/xFkiSH2rmtmEFlBoPBGwCIoqjWq6Vb96iRZdn+MvdvXQUty9bMoH/lN3UZ0LZRaYzEAAAAAElFTkSuQmCC+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAzBJREFUeJztmr9rE2EYx7/fa2JpaAJq6eaig7i4dDPQ3B0d+wfYVfwLKrQ4FK0uVrG4dBRXsY6Fbr1cFLebBBdRFNxaqTZVsEnexyG5tsbaF3Nvrr3wfuBILi+8T/LJ8/64l4ciAsu/cU76C5x2rCAN/RLEzpV5+iIoCIKZMAyv96PvtKHpSXptba0wOjr6AQB2d3cvTU9P/zQaIGWMZ1CxWJwnOUZyrFgszpvuP22MZlCtVruglHoPYBgARGSP5GXXdT8ZC5IyRjNIKbV8uE/HcQjgkckYaWMsg4IgKJN8hSNWLxFxPc8LjQRKGSMZtLi46ABYAdDqbhORFsmV1dXVIROx0saIoMnJyZskrwLIdbeRHBKRK+Pj4zdMxEqbxENsfX29NDIy8hHAORy/OdwGcNF13W+JAqZM4gwqFAp3AJwH0ATwq3PFxPcNAGdJLiSNlzZ/DYn/IYqivFLqB8mlrqZ4//Pk8IdKqb0oivITExONJHHTxPhOGgCq1aoAgOu6mX8es0/zGqwgDVaQBitIQ6JVDDiYkGM8z0MQBAAAkhK/TxOTi4PNIA2JM6j73xKR/awSkVSX+e5sNoHNIA1WkAYrSIMVpMEK0mAFabCCNFhBGqwgDVaQBitIgxWkIfHD6mnC8zwA7QdmU/Tl0B7k6St87PFkwQ4xDf3JoBOCncw1eQ41UHNQP4537RDTYAVpsII0ZHKSjqIov7Ozs0DyTFdTXDTxRzGFiOyVSqX7vRRNZFIQAIRh+FhEZtEurVGdj4c7r3EJjgMgT3K5Uqnc6iVOZodYLpe7KyJf0V6Jh3EgB/E9yRyA7Uajca/XOJkVVC6X647j3OYxu3allACYm5qa+t5rnMwKAoBqtfpUKfWWZPOI5ibJd5ubm8+SxMjsHBSzsbFxzXGc1ziiPlIpVfF9v5ak/0xnEAD4vv8GwEu0J2sAAMkGyRdJ5QADIKjDLMn9Gm2llLRarTkTHQ+EINd1vwB4SLJJsuk4zgPf9z+b6HsgBAFAvV5fEpEtEdmq1+vdVbc9k/lJ+jBhGM6IiLiu+9xUnwMlCAcrmbEfNVDnQTAoJmZg5qB+YQVp+A3eZg+7/2RtvAAAAABJRU5ErkJggg==",parameters:["w"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"16/9"},{name:"set A/R to 4/3, keep height",text:"4/3",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAjdJREFUeJzt2rFrE2EYx/HfEy4Egh3VCqU4dukqhUB4Ly49urs46uAY/xKddHEtDl26SFyaewgcLa5duiluKk5FQ8LxPg5pSpqkeZIld/Z9PtMl7zu8fHkvd5CXRATmdpWiF1B2FkhhgRQWSGGBFBZIsTAQM7eZeevqWpg5uHeCaN6XWZZtDIfDjwAOiOh4zWsqlZlAzLwD4DMRbRLRr9BfJG/cYsz8HMAXANsAaiLiC1lViUQA0Ol0avV6/R2AZwDuTYw/BPCViJCmKQCAiGR8/T9zztEy8+wppogAIEmSAYAXzNwF8B6jXUQAfgDYE5Fv4yeYiCxVvqxWfRLf2EHOuUMATwB8BzAgouB32EwA59xFtVrdFZET7/39IhZVJnPfgxqNxiWAA2ZuA8jXu6RymRtozDn3dl0LKavgf2M0FkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFEEHYuatqz9HbxV0IACRiLxJ0/RTlmUb8yaEHgiVSuUnET3N8/yi1+vtzowXsagixXGMOI6vP8vojGFNRB5570+73e7Lyfm07BnEgE64/gFw1O/3XyVJMghuB61q6R10VxDR9Uk5Zn4M4Ayjs5gC4K/3vt1qtT6M5y88/nIXTR9AJSISkQER/Saifefc+eR48LeY9/6BiJxEUbTTbDbPp8eD20FTciJ6veigWHC/QasK/hbTWCCFBVJYIIUFUlggxT/LTbAUKVnjswAAAABJRU5ErkJggg==+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyVJREFUeJztmkFPE0EYht93KRIIJVEJNy96MF68cLMJTDcc+QFyNf4CTCAeiKIX0Ui8cDRejXgk4cbuVuNtTyZejEYTb2BQiibSdj4P7UpBcLQ7XdxmnqRpdib9vvbJNzM726GIwHE83kl/gf8dJ8hAtwSx9co9XREUBMFMFEVXuxE7a2h7kl5bWxsaHh5+BwC7u7sXpqenv1tNkDHWK6hYLM6THCU5WiwW523HzxqrFVSpVM5prd8CGAAAEdkjeVEp9cFakoyxWkFa6+X2mJ7nEcADmzmyxloFBUFQIvkCR6xeIqLK5XJkJVHGWKmgxcVFD8AKgMbhPhFpkFxZXV3ts5Era6wImpiYuE7yMoDC4T6SfSJyaWxs7JqNXFmTeoitr6+PDA4OvgdwBn++OdwGcF4p9SVVwoxJXUFDQ0O3AJwFUAfwo/VKSK5rAE6TXEibL2t+GxL/QhzH/VrrbySX2ttVuTwPAGEQPGpv11rvxXHcPz4+XkuTN0us30k3o7IZVCT3+zG3mzfgBBlwggw4QQZST9JhGB4IUC6XkTQQQBAEqeJ3glLK2uLgKshATy3zSTW7CsoQJ8iAE2TACTLgBBlwggw4QQacIANOkAEnyIATZMAJMtBTm1W28orFvF0VFJ7As6Dj6HSH74aYge5U0AnRjSGW6o/D/41uPN51Q8yAE2TACTKQy0k6juP+nZ2dBZKnDnUlh0YPHKYQkb2RkZG7nRyayKUgAIii6KGIzKJ5tEa3mgda78kRHA9AP8nlycnJG53kye0QKxQKt0XkM5or8QD25SC5JlkAsF2r1e50mie3gkqlUtXzvJvJvc9RaK0FwNzU1NTXTvPkVhAAhGH4WGv9mmT9iO46yTebm5tP0uTI7RyUsLGxccXzvJc44nyk1nrS9/1Kmvi5riAA8H3/FYDnaE7WAACSNZLP0soBekBQi1mSv85oa62l0WjM2QjcE4KUUp8A3CdZJ1n3PO+e7/sfbcTuCUEAUK1Wl0RkS0S2qtXqkvkTf0fuJ+l2oiiaERFRSj21FbOnBGF/JbP2o3rqeRAsiknomTmoWzhBBn4CwAkWcLfyDrMAAAAASUVORK5CYII=",parameters:["h"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"4/3"},{name:"set A/R to 4/3, keep width",text:"4/3",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAmxJREFUeJztmzGLE2EQht/Zb+Ew2omlNnbiLxBhd2XhDHaHioU2dmej/8bO2kIsREgTki8WR0qbKyzS2Mhp5XFZkCT7Wlz2XOQ2sxFicpt5qs1kPxiezExYmBWSMKoJ1p3AplNbUKfT2el0OjurTGYTCeve2Gq1Xs8vn68ol42kVgV575+SfETyca/Xe7bqpDYJ0Ya09/42gCGAy/PQGMDdOI4/rzi3jWChIO/9FRE5JHkdgMzDFJFvk8nkVpqmP/9LlmtkYYuRfEvyGv7IAQDJ8/xqGIbv/oo3kkpB3vtXAB4AOAFwVPrqSESOSabe+5erTnDdVP6LTafT9yLyofjsnBsBwGw2u1PESE5Xm976UYd0gfeeABDHcePbqkxlBRVCACBJEvT7fQCAiLC4vsjU/aHtUUOhsoLKhkmeVRTJC91i5c6og1WQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIIXai+RNIUkSAKcrPXVYegWvqVRtnFmLKdSuoKYgIkttyjVeULfbvSEiZ7O2tM58s4iRnKZp+vW8841vsTAM94IgGDnnhs65gyLunDtwzg2DIBiFYbhXdb7xFQQA/X7/o4jcA3CpHCf5KwiCT1EU7QI4V0TjKwgAROQJgO8k81KYIvIjy7KHqJADbImgOI5PSO6KSFYKj0neb7fbx4vOboUgAEiS5AuAfZy+nDPO8/xFkiSH2rmtmEFlBoPBGwCIoqjWq6Vb96iRZdn+MvdvXQUty9bMoH/lN3UZ0LZRaYzEAAAAAElFTkSuQmCC+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAzBJREFUeJztmr9rE2EYx7/fa2JpaAJq6eaig7i4dDPQ3B0d+wfYVfwLKrQ4FK0uVrG4dBRXsY6Fbr1cFLebBBdRFNxaqTZVsEnexyG5tsbaF3Nvrr3wfuBILi+8T/LJ8/64l4ciAsu/cU76C5x2rCAN/RLEzpV5+iIoCIKZMAyv96PvtKHpSXptba0wOjr6AQB2d3cvTU9P/zQaIGWMZ1CxWJwnOUZyrFgszpvuP22MZlCtVruglHoPYBgARGSP5GXXdT8ZC5IyRjNIKbV8uE/HcQjgkckYaWMsg4IgKJN8hSNWLxFxPc8LjQRKGSMZtLi46ABYAdDqbhORFsmV1dXVIROx0saIoMnJyZskrwLIdbeRHBKRK+Pj4zdMxEqbxENsfX29NDIy8hHAORy/OdwGcNF13W+JAqZM4gwqFAp3AJwH0ATwq3PFxPcNAGdJLiSNlzZ/DYn/IYqivFLqB8mlrqZ4//Pk8IdKqb0oivITExONJHHTxPhOGgCq1aoAgOu6mX8es0/zGqwgDVaQBitIQ6JVDDiYkGM8z0MQBAAAkhK/TxOTi4PNIA2JM6j73xKR/awSkVSX+e5sNoHNIA1WkAYrSIMVpMEK0mAFabCCNFhBGqwgDVaQBitIgxWkIfHD6mnC8zwA7QdmU/Tl0B7k6St87PFkwQ4xDf3JoBOCncw1eQ41UHNQP4537RDTYAVpsII0ZHKSjqIov7Ozs0DyTFdTXDTxRzGFiOyVSqX7vRRNZFIQAIRh+FhEZtEurVGdj4c7r3EJjgMgT3K5Uqnc6iVOZodYLpe7KyJf0V6Jh3EgB/E9yRyA7Uajca/XOJkVVC6X647j3OYxu3allACYm5qa+t5rnMwKAoBqtfpUKfWWZPOI5ibJd5ubm8+SxMjsHBSzsbFxzXGc1ziiPlIpVfF9v5ak/0xnEAD4vv8GwEu0J2sAAMkGyRdJ5QADIKjDLMn9Gm2llLRarTkTHQ+EINd1vwB4SLJJsuk4zgPf9z+b6HsgBAFAvV5fEpEtEdmq1+vdVbc9k/lJ+jBhGM6IiLiu+9xUnwMlCAcrmbEfNVDnQTAoJmZg5qB+YQVp+A3eZg+7/2RtvAAAAABJRU5ErkJggg==",parameters:["w"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"4/3"},{name:"set A/R to source, keep height",text:"SRC",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAjdJREFUeJzt2rFrE2EYx/HfEy4Egh3VCqU4dukqhUB4Ly49urs46uAY/xKddHEtDl26SFyaewgcLa5duiluKk5FQ8LxPg5pSpqkeZIld/Z9PtMl7zu8fHkvd5CXRATmdpWiF1B2FkhhgRQWSGGBFBZIsTAQM7eZeevqWpg5uHeCaN6XWZZtDIfDjwAOiOh4zWsqlZlAzLwD4DMRbRLRr9BfJG/cYsz8HMAXANsAaiLiC1lViUQA0Ol0avV6/R2AZwDuTYw/BPCViJCmKQCAiGR8/T9zztEy8+wppogAIEmSAYAXzNwF8B6jXUQAfgDYE5Fv4yeYiCxVvqxWfRLf2EHOuUMATwB8BzAgouB32EwA59xFtVrdFZET7/39IhZVJnPfgxqNxiWAA2ZuA8jXu6RymRtozDn3dl0LKavgf2M0FkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFBZIYYEUFkhhgRQWSGGBFEEHYuatqz9HbxV0IACRiLxJ0/RTlmUb8yaEHgiVSuUnET3N8/yi1+vtzowXsagixXGMOI6vP8vojGFNRB5570+73e7Lyfm07BnEgE64/gFw1O/3XyVJMghuB61q6R10VxDR9Uk5Zn4M4Ayjs5gC4K/3vt1qtT6M5y88/nIXTR9AJSISkQER/Saifefc+eR48LeY9/6BiJxEUbTTbDbPp8eD20FTciJ6veigWHC/QasK/hbTWCCFBVJYIIUFUlggxT/LTbAUKVnjswAAAABJRU5ErkJggg==+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyVJREFUeJztmkFPE0EYht93KRIIJVEJNy96MF68cLMJTDcc+QFyNf4CTCAeiKIX0Ui8cDRejXgk4cbuVuNtTyZejEYTb2BQiibSdj4P7UpBcLQ7XdxmnqRpdib9vvbJNzM726GIwHE83kl/gf8dJ8hAtwSx9co9XREUBMFMFEVXuxE7a2h7kl5bWxsaHh5+BwC7u7sXpqenv1tNkDHWK6hYLM6THCU5WiwW523HzxqrFVSpVM5prd8CGAAAEdkjeVEp9cFakoyxWkFa6+X2mJ7nEcADmzmyxloFBUFQIvkCR6xeIqLK5XJkJVHGWKmgxcVFD8AKgMbhPhFpkFxZXV3ts5Era6wImpiYuE7yMoDC4T6SfSJyaWxs7JqNXFmTeoitr6+PDA4OvgdwBn++OdwGcF4p9SVVwoxJXUFDQ0O3AJwFUAfwo/VKSK5rAE6TXEibL2t+GxL/QhzH/VrrbySX2ttVuTwPAGEQPGpv11rvxXHcPz4+XkuTN0us30k3o7IZVCT3+zG3mzfgBBlwggw4QQZST9JhGB4IUC6XkTQQQBAEqeJ3glLK2uLgKshATy3zSTW7CsoQJ8iAE2TACTLgBBlwggw4QQacIANOkAEnyIATZMAJMtBTm1W28orFvF0VFJ7As6Dj6HSH74aYge5U0AnRjSGW6o/D/41uPN51Q8yAE2TACTKQy0k6juP+nZ2dBZKnDnUlh0YPHKYQkb2RkZG7nRyayKUgAIii6KGIzKJ5tEa3mgda78kRHA9AP8nlycnJG53kye0QKxQKt0XkM5or8QD25SC5JlkAsF2r1e50mie3gkqlUtXzvJvJvc9RaK0FwNzU1NTXTvPkVhAAhGH4WGv9mmT9iO46yTebm5tP0uTI7RyUsLGxccXzvJc44nyk1nrS9/1Kmvi5riAA8H3/FYDnaE7WAACSNZLP0soBekBQi1mSv85oa62l0WjM2QjcE4KUUp8A3CdZJ1n3PO+e7/sfbcTuCUEAUK1Wl0RkS0S2qtXqkvkTf0fuJ+l2oiiaERFRSj21FbOnBGF/JbP2o3rqeRAsiknomTmoWzhBBn4CwAkWcLfyDrMAAAAASUVORK5CYII=",parameters:["h"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"ia"},{name:"set A/R to source, keep width",text:"SRC",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAmxJREFUeJztmzGLE2EQht/Zb+Ew2omlNnbiLxBhd2XhDHaHioU2dmej/8bO2kIsREgTki8WR0qbKyzS2Mhp5XFZkCT7Wlz2XOQ2sxFicpt5qs1kPxiezExYmBWSMKoJ1p3AplNbUKfT2el0OjurTGYTCeve2Gq1Xs8vn68ol42kVgV575+SfETyca/Xe7bqpDYJ0Ya09/42gCGAy/PQGMDdOI4/rzi3jWChIO/9FRE5JHkdgMzDFJFvk8nkVpqmP/9LlmtkYYuRfEvyGv7IAQDJ8/xqGIbv/oo3kkpB3vtXAB4AOAFwVPrqSESOSabe+5erTnDdVP6LTafT9yLyofjsnBsBwGw2u1PESE5Xm976UYd0gfeeABDHcePbqkxlBRVCACBJEvT7fQCAiLC4vsjU/aHtUUOhsoLKhkmeVRTJC91i5c6og1WQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIAUTpGCCFEyQgglSMEEKJkjBBCmYIIXai+RNIUkSAKcrPXVYegWvqVRtnFmLKdSuoKYgIkttyjVeULfbvSEiZ7O2tM58s4iRnKZp+vW8841vsTAM94IgGDnnhs65gyLunDtwzg2DIBiFYbhXdb7xFQQA/X7/o4jcA3CpHCf5KwiCT1EU7QI4V0TjKwgAROQJgO8k81KYIvIjy7KHqJADbImgOI5PSO6KSFYKj0neb7fbx4vOboUgAEiS5AuAfZy+nDPO8/xFkiSH2rmtmEFlBoPBGwCIoqjWq6Vb96iRZdn+MvdvXQUty9bMoH/lN3UZ0LZRaYzEAAAAAElFTkSuQmCC+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAzBJREFUeJztmr9rE2EYx7/fa2JpaAJq6eaig7i4dDPQ3B0d+wfYVfwLKrQ4FK0uVrG4dBRXsY6Fbr1cFLebBBdRFNxaqTZVsEnexyG5tsbaF3Nvrr3wfuBILi+8T/LJ8/64l4ciAsu/cU76C5x2rCAN/RLEzpV5+iIoCIKZMAyv96PvtKHpSXptba0wOjr6AQB2d3cvTU9P/zQaIGWMZ1CxWJwnOUZyrFgszpvuP22MZlCtVruglHoPYBgARGSP5GXXdT8ZC5IyRjNIKbV8uE/HcQjgkckYaWMsg4IgKJN8hSNWLxFxPc8LjQRKGSMZtLi46ABYAdDqbhORFsmV1dXVIROx0saIoMnJyZskrwLIdbeRHBKRK+Pj4zdMxEqbxENsfX29NDIy8hHAORy/OdwGcNF13W+JAqZM4gwqFAp3AJwH0ATwq3PFxPcNAGdJLiSNlzZ/DYn/IYqivFLqB8mlrqZ4//Pk8IdKqb0oivITExONJHHTxPhOGgCq1aoAgOu6mX8es0/zGqwgDVaQBitIQ6JVDDiYkGM8z0MQBAAAkhK/TxOTi4PNIA2JM6j73xKR/awSkVSX+e5sNoHNIA1WkAYrSIMVpMEK0mAFabCCNFhBGqwgDVaQBitIgxWkIfHD6mnC8zwA7QdmU/Tl0B7k6St87PFkwQ4xDf3JoBOCncw1eQ41UHNQP4537RDTYAVpsII0ZHKSjqIov7Ozs0DyTFdTXDTxRzGFiOyVSqX7vRRNZFIQAIRh+FhEZtEurVGdj4c7r3EJjgMgT3K5Uqnc6iVOZodYLpe7KyJf0V6Jh3EgB/E9yRyA7Uajca/XOJkVVC6X647j3OYxu3allACYm5qa+t5rnMwKAoBqtfpUKfWWZPOI5ibJd5ubm8+SxMjsHBSzsbFxzXGc1ziiPlIpVfF9v5ak/0xnEAD4vv8GwEu0J2sAAMkGyRdJ5QADIKjDLMn9Gm2llLRarTkTHQ+EINd1vwB4SLJJsuk4zgPf9z+b6HsgBAFAvV5fEpEtEdmq1+vdVbc9k/lJ+jBhGM6IiLiu+9xUnwMlCAcrmbEfNVDnQTAoJmZg5qB+YQVp+A3eZg+7/2RtvAAAAABJRU5ErkJggg==",parameters:["w"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"ia"},{name:"set size to source",text:"SRC",size:e,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["w","h"],x:"0.5 * sw",xAnchor:"lx + 0.5 * lw",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"iw",h:"ih",ar:""},{name:"increase size",text:"+",size:"30",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["w"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw * 1.01",h:"lh * 1.01",ar:"keep"},{name:"decrease size",text:"-",size:"30",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["w"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw / 1.01",h:"lh / 1.01",ar:"keep"},{name:"increase width",text:"+",size:"30",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAARxJREFUeJzt270JwkAcQPE7cQB7u9SO4QQZwgkEZxCcwCEC9q4SO4ewOgs/QDE+TxCN936lchBf/hebS0wpBXUbfPsCfp2BgIGAgYCBwLDri6Zpivp7q+s6Pvq8qAkatW0YtW3Wms4Juugq20sxnnZFStffRDulqAl6B07QjcsdKIgTBLImaHd+wG2X1fwjV/Nhs3Vc5a5xgkDeM6jn9ptNCCGEccaaogIdJpPsNW4xYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCDw1umO6WKXfRCpr5wgkDVBVVX9z5HgFzlBwEAAt1hp72zcc4JA9J3V55wgYCBgIGAgYCBwBIbOJVyxYIi9AAAAAElFTkSuQmCC+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["w"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw * 1.01",h:"lh * 1.01",ar:""},{name:"decrease width",text:"-",size:"30",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAARxJREFUeJzt270JwkAcQPE7cQB7u9SO4QQZwgkEZxCcwCEC9q4SO4ewOgs/QDE+TxCN936lchBf/hebS0wpBXUbfPsCfp2BgIGAgYCBwLDri6Zpivp7q+s6Pvq8qAkatW0YtW3Wms4Juugq20sxnnZFStffRDulqAl6B07QjcsdKIgTBLImaHd+wG2X1fwjV/Nhs3Vc5a5xgkDeM6jn9ptNCCGEccaaogIdJpPsNW4xYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCDw1umO6WKXfRCpr5wgkDVBVVX9z5HgFzlBwEAAt1hp72zcc4JA9J3V55wgYCBgIGAgYCBwBIbOJVyxYIi9AAAAAElFTkSuQmCC+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["w"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw / 1.01",h:"lh / 1.01",ar:""},{name:"increase height",text:"+",size:"30",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAR5JREFUeJzt27FNw1AYReH7B7agwnU6VmAC78AIiBkQ2YAdLGUANoANonQMQcOjCopQnBMkEA45X+ko0tPRtdzY1VqLxs3++gBTZyBgIGAgYCBwPvbDMAwn9Xjr+752XXdBYHRBG2Nl/wu6U1wQwAV9qqok70myXq2SOt5hdV138OFdEDh8QVue7i9vW82O7il3fbdefPc/LggYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCPALVFVXSZ63L908nj0kyetymbf5/HdONhEuCPCCWntJsvOlx4ufPs0EuSBgIIC32Kl9s/GVCwLlN6v7uSBgIGAgYCBgIPABo2QklBYEXBkAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["h"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw * 1.01",h:"lh * 1.01",ar:""},{name:"decrease height",text:"-",size:"30",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAR5JREFUeJzt27FNw1AYReH7B7agwnU6VmAC78AIiBkQ2YAdLGUANoANonQMQcOjCopQnBMkEA45X+ko0tPRtdzY1VqLxs3++gBTZyBgIGAgYCBwPvbDMAwn9Xjr+752XXdBYHRBG2Nl/wu6U1wQwAV9qqok70myXq2SOt5hdV138OFdEDh8QVue7i9vW82O7il3fbdefPc/LggYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCPALVFVXSZ63L908nj0kyetymbf5/HdONhEuCPCCWntJsvOlx4ufPs0EuSBgIIC32Kl9s/GVCwLlN6v7uSBgIGAgYCBgIPABo2QklBYEXBkAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATBJREFUeJzt28FNw0AQQNGZQAG500JudOIeQgdUARWQHiylDyjBR4rgAMshIopQzGctIbLa/462VrK/ZuXLOkspoXmr/36AS2cgYCBgIGAgcD13YxzHrj5vwzDkuetdTdB6mmI9TVVrZifoy1zZJmUedkUpx3eindLVBC2BE3SUmRHx8XePcpmcIPD7CTqx277fl1w195W7e8rH2jVOEFg0Qa163e8jIuKmYk1Xgd42m+o1bjFgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIMCnOzJvI+L59NJ2d/UQcThOsuTEREucIMATVMpLRJw9ClxzEKlVThAwEMAt1ts/G985QSD9Z/VnThAwEDAQMBAwEPgECvkr3gNZTAQAAAAASUVORK5CYII=+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWZJREFUeJzt20FKw0AYhuH/r4LgBYqYjblCcwT3hdzBI4hnED2B3iHQA3iDdtdlyU48gYgLGRfiRhxfbWcSk34PdNNCJrydTMuEeAjBJG7S9wn8dwoEFAgoEFAgcBj7oGmavfp5q+vav3tfMwhEZ9CnWNmxoCtFMwgoENgukPvM3EPkNUt8jr3CNeivHheL5Wvbpj5sVFmWWdfI7QKFsDIzf1qtjk+q6tnMrN1szHx863myGfRwfXYZfNLZf6fzq/a2i3G0SAMFAgoEFAgoEFAgoEBAgYACAQUCCgQUCAw60NF6bbn3nwYd6HQ+NzNb5hxj0IG6kGw/6OL+4CbVsX7lrpthdppBb9Pp6G8u7jSDiqJ4sRD622d1z/4FaQ0Cye9qdKzKPcCwA33cXclKlxhQIKBAQIGAAgEFAgoEFAgoEFAgoEBAgYACAQUCuN2xb89sfKUZBFzPrP5MMwgoEFAgoEBAgcA77iI8lXJnSIMAAAAASUVORK5CYII=",parameters:["h"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw / 1.01",h:"lh / 1.01",ar:""},{name:"move left",text:"left",size:e,png64:void 0,parameters:["x"],x:"lx - 10",xAnchor:"lx",y:"ly",yAnchor:"ly",w:"lw",h:"lh",ar:"keep"},{name:"move right",text:"right",size:e,png64:void 0,parameters:["x"],x:"lx + 10",xAnchor:"lx",y:"0.5 * sh",yAnchor:"ly + 0.5 * lh",w:"lw",h:"lh",ar:"keep"},{name:"move up",text:"up",size:e,png64:void 0,parameters:["y"],x:"lx",xAnchor:"lx",y:"ly - 10",yAnchor:"ly",w:"lw",h:"lh",ar:"keep"},{name:"move down",text:"down",size:e,png64:void 0,parameters:["y"],x:"lx",xAnchor:"lx",y:"ly + 10",yAnchor:"ly",w:"lw",h:"lh",ar:"keep"}],r={},n=this.choices.getScreensAuxArray().reduce(((e,t)=>({...e,[`layer${t.id}`]:"sel"})),{});for(const e of t)r[`posSize${e.name.replace(/\W/g,"")}`]={type:"button",name:`${e.name}`,category:"Position / Size",style:{text:e.text,size:e.size,color:this.config.color_bright,bgcolor:this.config.color_dark,png64:e.png64},steps:[{down:[{actionId:"devicePositionSize",options:{screen:"sel",preset:"sel",layersel:"sel",...n,parameters:e.parameters,x:e.x,xAnchor:e.xAnchor,y:e.y,yAnchor:e.yAnchor,w:e.w,h:e.h,ar:e.ar}}],up:[]}],feedbacks:[]};return r.posSizeSizeHVrot={type:"button",name:"size with rotary",category:"Position / Size",options:{rotaryActions:!0},style:{text:"",size:14,color:this.config.color_bright,bgcolor:this.config.color_dark,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABq5JREFUeJztmntQE0ccx3934QIBYwqKBcIgQQiWIi0CA0bA8YGOo3Ta8YFT6wMRpf6h40wd61/gvx1mWlrbURkVW6zW2I7UOiKPiqBUQHCUpwgEAhELSCAJScjd5fpHGkjC4yDmogz3mbmZ3dvd3/7ue7t7u3uLUBQFLFODvm0H3nVYgWhgBaKBFYgGViAaWIFomF8CIUgUIEjUrIrMq3kQgpgelqKQmRaZXy3IDlxmnBNBEAAwMufKuwnbgmiYeQuyIDedPEEh6JwbvA6dR7JnW4ZtQTTY1YLmKoqCAgAAEM6izFsTSGcYdiltyAltVpSE9g2/CNQbNHyc1LpjHHetG3eBeokgpDNMmNSyLvxoK48rIBxR52h4+KzLOF0gPa7mXP/neGxdu3S9DlcJbNMNhIZvIDR8lfaVX1tvhaT4afZQ9LKU0p2rvq3mYh6ks/11qkCyvirBueLte5UjPUtnWkaHq96raMndVi+/HZu2/trPYt+EQSZ9tMVpAlW1XfH/pTw9HSd0HuZ7rhh/WOybWBMRkPx8mU/sgDc/RPtqqNVD1v9oUb389vLW3vKYUVy9EABgSPvS//s7m47tSczNjQ3e3eMsv50iUGvvfa/88ow0szgowiGil6UUfh5/5gGP62k1vgR4R6oCvCNVa8K+lOkMyuIrD47E17ZLNxspkoMTOo/88ow0T4+AH5zVkhj/zOPEKJpbkrLfQGj4AABcF55mT2LuT2nrrpTZimMLj+tJHFx3tWxPYu6PXBeeBsA0Rl0o3bUPJ0adMkVhvJKrlUdWqXT/+gEAoKgLvlOSkycJTZXPxoYkNFW+O/7sBQ6K4QAAQ9qXwt8qj8Yy4a8tjApkwEc4NW3Xkszx6KCddxOWp3faYytOvLc7UvRZkTle1fbrRpzQMf6CGa2guP67UAOhXQAAwOMKlLsTzla8ib0vEs5X8DDBEICpq5U25Igd4ed0MCpQfddfK8zhYJ/4WjeM/0bzGB5XQAT5SurM8addf66YLr8jYFQgpbbbxxz+aOknLY6wGRGwdcyOUjNunykYFUijH1hsDot9EvsdYTPEJ7Fv3P5rb0fYnA5GBaIo49g8a6GH76gjbPJ53oYx+0DO7UEaRVxwc1it7+M6wqZa1z9mB0UwfLq8joBRgXiupi8OAECjvNAXAOByWWr88TyvU1nSsAOD6i636coPqrvcsqRhB47neZ26XJYaDwDQoijyNae7c8ftMwWjSw0fgbhTpX3lBwDQ2HNXXPUiP1rWXx0DAKA1KBfdqDohObTh+t9TlZdWfbW6V9kcBgBQ2Zr3aa+ySeju6qUxpy8RiGc14bQHRgUK8V3T2tpbLgEAaOwuXGOkSKv65AO1YgCYUiD5QJ3VPEfWXx2DIOjYVCFUuLbVwS5PgNEutvnjU02uLnwVAICtOAAArzXypXpczZmsrAEf4Sg13QG29ynKyAEw7QRsijjZ7GifbWFUoHuNZ4Jxo443VbrRSGC1HVL/ydJqOq76k0YcM8cpigLLn5w4ofUoevbNcoc6PAmMCZT/ICPuj+qvDxqNBDZdvqae4qDp7iMIAig67iaKooCiKBgp0uVWbeb+3NKUtQ513AZGBMor25dQ0XRuO0UZUYDxt295EYRpp0Mx+FQ0mQ3FYL0IAIAgCCDJ8RUKSZJjcYqi0Mft17fkle2PZ+I5ABgSqEVRGmkOm37ITsTcXQZUMhFBEVaZCIpABlQyEQCA0Wi06lq2Xc22PkfDiECiJauazGGKogBBkAkXhpl6Hk7qefWdN63WVPWdN31wUs8DAMAwbNIuZlXf+3FNwBCMCHQ4SVqSHJ11aTE/sH0m+eu77wRNF5+KxfzA9uTorEuHN0hL7fFzJjA2D9q6MrNx68rMxscyqd+9ZzkSWX91lOVXyZLugSciAHg4Hq+bMC6ZuyqKcEg/z/CG9SuO3Z/tzqQ9ML5pHy3a8TJatOOGYrCh8FZtZlxTT5FkFNcstMzTP9weaB3vsIoDALhiC1Rh/hsrk6NOPxJ6hWts05nCab99hF7hmoyk30v0uPre7brTETVt1xKUI4oAAAAOh2u10udwuDj8vwz19BDKY4J3VWxZmfnsTTfc7MHpf1bdMD65LTb7ybbY7CcPn19c2qwoFknEqQ2WedLW5l+sfJH34QfCJNnq0ANdzvbRkpkfwbM4QDVXj79sONmRDQAQFBTEHsFzFPQtyHQq9PFkSYqCArtOTLxt2BbkQObXMWA7YFsQDaxANLAC0cAKRAMrEA2sQDSwAtHACkQDKxANrEA0/AcYoJdvPmJusQAAAABJRU5ErkJggg=="},steps:[{rotate_right:[{actionId:"devicePositionSize",options:{screen:"sel",preset:"sel",layersel:"sel",...n,parameters:["w"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw * 1.02",h:"lh * 1.02",ar:"keep"}}],rotate_left:[{actionId:"devicePositionSize",options:{screen:"sel",preset:"sel",layersel:"sel",...n,parameters:["w"],x:"0.5 * sw",xAnchor:"bx + 0.5 * bw",y:"0.5 * sh",yAnchor:"by + 0.5 * bh",w:"lw / 1.02",h:"lh / 1.02",ar:"keep"}}],up:[],down:[]}],feedbacks:[]},r}get multiviewerMemories(){const e={},t=this.instance.label,r=this.choices.getMultiviewerArray().length>1;for(const n of this.choices.getMultiviewerArray())for(const o of this.choices.getMultiviewerMemoryArray()){const s=parseInt(this.state.get(["REMOTE","banks","monitoring","items",o.id,"color"])?.slice(1),16);e["Load VM"+o.id+r?" on Multiviewer "+n:0]={type:"button",name:"Load VM"+o.id+r?" on Multiviewer "+n:0,category:"Multiviewer Memories",style:{text:(r?`MV${n} `:"")+`VM${o.id}\\n$(${t}:multiviewerMemory${o.id}label)`,size:"auto",color:this.inverseColorBW(s),bgcolor:s},steps:[{down:[{actionId:"deviceMultiviewerMemory",options:{memory:o.id,multiviewer:n}}],up:[]}],feedbacks:[]}}return e}get selectWidget(){const e={};for(const t of this.choices.getWidgetChoices())e["Select "+t.label]={type:"button",name:"Select "+t.label,category:"Select Widgets",style:{text:"Select "+t.label.replace(/Multiviewer /,"MV").replace(/Widget /,"W"),size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"remoteMultiviewerSelectWidget",options:{widget:t.id,sel:"selectExclusive"}}],up:[]}],feedbacks:[{feedbackId:"remoteWidgetSelection",options:{widget:t.id},style:{color:this.inverseColorBW(this.config.color_highlight),bgcolor:this.config.color_highlight}}]};return e}get toggleWidgetSelection(){const e={};for(const t of this.choices.getWidgetChoices())e["Toggle Selection of "+t.label]={type:"button",name:"Toggle Selection of "+t.label,category:"Select Widgets",style:{text:"Toggle "+t.label.replace(/Multiviewer /,"MV").replace(/Widget /,"W"),size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"remoteMultiviewerSelectWidget",options:{widget:t.id,sel:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"remoteWidgetSelection",options:{widget:t.id},style:{bgcolor:this.config.color_highlight}}]};return e}get selectWidgetSource(){const e={};for(const t of this.choices.getWidgetSourceChoices())e["Select Widget Source"+t.label]={type:"button",name:"Select Widget Source"+t.label,category:"Multiviewer Source",style:{text:"MV "+t.label.replace(/ - /,"\\n"),size:"auto",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceMultiviewerSource",options:{widget:"sel",source:t.id}}],up:[]}],feedbacks:[]};return e}get timers(){const e={};for(const t of this.choices.getTimerChoices())e["Play/Pause "+t.label]={type:"button",name:"Play/Pause "+t.label,category:"Timer",style:{text:t.label.replace(/\D/g,"")+"⏯",size:"30",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceTimerTransport",options:{timer:t.id,cmd:"tgl_start_pause"}}],up:[]}],feedbacks:[{feedbackId:"timerState",options:{timer:t.id,state:"RUNNING"},style:{color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green,text:t.label.replace(/\D/g,"")+" ⏸"}},{feedbackId:"timerState",options:{timer:t.id,state:"PAUSED"},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark,text:t.label.replace(/\D/g,"")+" ⏵"}},{feedbackId:"timerState",options:{timer:t.id,state:"IDLE"},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark,text:t.label.replace(/\D/g,"")+" ⏵"}},{feedbackId:"timerState",options:{timer:t.id,state:"ELAPSED"},style:{bgcolor:this.config.color_red,color:this.config.color_redgrey,text:t.label.replace(/\D/g,"")+" ⏵"}}]},e["Stop "+t.label]={type:"button",name:"Stop "+t.label,category:"Timer",style:{text:t.label.replace(/\D/g,"")+" ⏹",size:"30",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceTimerTransport",options:{timer:t.id,cmd:"stop"}}],up:[]}],feedbacks:[{feedbackId:"timerState",options:{timer:t.id,state:"RUNNING"},style:{color:this.config.color_bright,bgcolor:this.config.color_green}},{feedbackId:"timerState",options:{timer:t.id,state:"PAUSED"},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark}},{feedbackId:"timerState",options:{timer:t.id,state:"IDLE"},style:{color:this.config.color_greengrey,bgcolor:this.config.color_greendark}},{feedbackId:"timerState",options:{timer:t.id,state:"ELAPSED"},style:{color:this.config.color_bright,bgcolor:this.config.color_red}}]};return e}get stream(){const e={};return"midra"===this.state.platform&&(e["Start/Stop Streaming "]={type:"button",name:"Start/Stop Streaming ",category:"Streaming",style:{text:"Start Stream",size:"auto",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceStreamControl",options:{stream:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"deviceStreaming",options:{state:"LIVE"},style:{bgcolor:this.config.color_green,text:"Stop Stream"}}]}),e}}class de extends pe{presetsToUse=["masterMemories","screenMemories","layerMemories","takeAllScreens","takeSelectedScreens","takeScreen","cutAllScreens","cutSelectedScreens","cutScreen","toggleSync","selectPreset","presetToggle","copyPreviewFromProgram","toggleScreenSelection","toggleLockPgmAllScreens","toggleLockPgmScreen","toggleLockPvwAllScreens","toggleLockPvwScreen","selectLayer","chooseInput","toggleFreezeInput","posSize","multiviewerMemories","selectWidget","toggleWidgetSelection","selectWidgetSource","timers"];constructor(e){super(e),this.instance=e,this.state=this.instance.state,this.constants=this.instance.constants,this.choices=this.instance.choices,this.config=this.instance.config}get chooseInput(){const e={},t=this.instance.label,r=this;function n(n,o,s){let i="";n.id.match(/^IN|LIVE|STILL|SCREEN/)&&(i=`\\n$(${t}:${n.id.replace("LIVE_","INPUT_")}label)`);const a={type:"button",name:"Choose Input "+n.label+" for selected "+s+" Layer(s)",category:"Layer Source",style:{text:n.label.replace(/^(\D+\d+)\s.+$/,"$1")+i,size:"auto",color:r.config.color_bright,bgcolor:r.config.color_dark},steps:[{down:[{actionId:"deviceSelectSource",options:{method:"sel"}}],up:[]}],feedbacks:[{feedbackId:"deviceSourceTally",options:{screens:["all"],preset:"pvw",source:n.id},style:{color:r.inverseColorBW(r.config.color_green),bgcolor:r.config.color_green}},{feedbackId:"deviceSourceTally",options:{screens:["all"],preset:"pgm",source:n.id},style:{color:r.inverseColorBW(r.config.color_red),bgcolor:r.config.color_red}}]};Array.of("sourceLayer","sourceNative","sourceBack","sourceFront").forEach((e=>{a.steps[0].down[0].options[e]="keep"})),o.forEach((e=>{a.steps[0].down[0].options[e]=n.id})),e[a.name]=a}return n({id:"NONE",label:"None"},["sourceLayer","sourceNative","sourceFront","sourceBack"],""),this.choices.getSourceChoices().filter((e=>"NONE"!==e.id&&"COLOR"!==e.id)).forEach((e=>{n(e,["sourceLayer","sourceBack"],"")})),this.choices.choicesBackgroundSources.forEach((e=>{n(e,["sourceNative"],"Background")})),e}}class he extends pe{presetsToUse=["masterMemories","screenMemories","layerMemories","takeAllScreens","takeSelectedScreens","takeScreen","cutAllScreens","cutSelectedScreens","cutScreen","toggleSync","selectPreset","presetToggle","copyPreviewFromProgram","toggleScreenSelection","toggleLockPgmAllScreens","toggleLockPgmScreen","toggleLockPvwAllScreens","toggleLockPvwScreen","selectLayer","chooseInput","toggleFreezeInput","posSize","multiviewerMemories","selectWidget","toggleWidgetSelection","selectWidgetSource","timers"];constructor(e){super(e),this.instance=e,this.state=this.instance.state,this.constants=this.instance.constants,this.choices=this.instance.choices,this.config=this.instance.config}get chooseInput(){const e={},t=this.instance.label,r=this;function n(n,o,s){let i="";n.id.match(/^IN|LIVE|STILL|SCREEN/)&&(i=`\\n$(${t}:${n.id.replace("LIVE_","INPUT_")}label)`);const a={type:"button",name:"Choose Input "+n.label+" for selected "+s+" Layer(s)",category:"Layer Source",style:{text:n.label.replace(/^(\D+\d+)\s.+$/,"$1")+i,size:"auto",color:r.config.color_bright,bgcolor:r.config.color_dark},steps:[{down:[{actionId:"deviceSelectSource",options:{method:"sel",preset:"pvw",screen:[]}}],up:[]}],feedbacks:[{feedbackId:"deviceSourceTally",options:{screens:["all"],preset:"pvw",source:n.id},style:{color:r.inverseColorBW(r.config.color_green),bgcolor:r.config.color_green}},{feedbackId:"deviceSourceTally",options:{screens:["all"],preset:"pgm",source:n.id},style:{color:r.inverseColorBW(r.config.color_red),bgcolor:r.config.color_red}}]};Array.of("sourceLayer","sourceNative","sourceBack","sourceFront").forEach((e=>{a.steps[0].down[0].options[e]="keep"})),o.forEach((e=>{a.steps[0].down[0].options[e]=n.id})),e[a.name]=a}return n({id:"NONE",label:"None"},["sourceLayer","sourceNative","sourceFront","sourceBack"],""),this.choices.getSourceChoices().filter((e=>"NONE"!==e.id&&"COLOR"!==e.id)).forEach((e=>{n(e,["sourceLayer","sourceBack"],"")})),this.choices.choicesBackgroundSources.forEach((e=>{n(e,["sourceNative"],"Background")})),e}get timers(){const e=super.timers;for(const t of this.choices.getTimerChoices()){const r=t.label.replace(/\D/g,"");e["Time "+t.label]={type:"button",name:"Time"+t.label,category:"Timer",style:{text:`\`Timer ${r} \\n\${msToTimestamp($(AWJdevice:timer${r}), 'hh:mm:ss')}\``,textExpression:!0,size:"14",color:this.config.color_bright,bgcolor:this.config.color_dark},steps:[{down:[{actionId:"deviceTimerTransport",options:{timer:t.id,cmd:"tgl_start_stop"}}],up:[]}],feedbacks:[{feedbackId:"timerState",options:{timer:t.id,state:"RUNNING"},style:{color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green}},{feedbackId:"timerState",options:{timer:t.id,state:"PAUSED"},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark}},{feedbackId:"timerState",options:{timer:t.id,state:"IDLE"},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark}},{feedbackId:"timerState",options:{timer:t.id,state:"ELAPSED"},style:{bgcolor:this.config.color_red,color:this.config.color_redgrey}}]}}return e}}class fe extends pe{presetsToUse=["masterMemories","screenMemories","auxMemories","layerMemories","takeAllScreens","takeSelectedScreens","takeScreen","cutAllScreens","cutSelectedScreens","cutScreen","toggleSync","selectPreset","presetToggle","copyPreviewFromProgram","toggleScreenSelection","toggleLockPgmAllScreens","toggleLockPgmScreen","toggleLockPvwAllScreens","toggleLockPvwScreen","selectLayer","chooseInput","toggleFreezeInput","toggleFreezeLayer","toggleFreezeScreen","posSize","multiviewerMemories","selectWidget","toggleWidgetSelection","selectWidgetSource","timers","stream"];constructor(e){super(e),this.instance=e,this.state=this.instance.state,this.constants=this.instance.constants,this.choices=this.instance.choices,this.config=this.instance.config}get screenMemories(){const e={},t=this.instance.label;for(const r of[{id:"sel",label:"Selected",index:"0"},...this.choices.getScreensArray()])for(const n of this.choices.getScreenMemoryArray()){const o=parseInt(this.state.get(["REMOTE","banks","screen","items",n.id,"color"])?.slice(1),16);e[`LoadScreenMemory_${n.id}_to_${r.id}`]={type:"button",name:`Load Screen Memory ${n.id} into screen ${r.id}${r.label?" ("+r.label+")":""}`,category:`Screen Memories into ${"sel"!=r.id?r.id:"Selection"}`,style:{text:`SM${n.id}${"sel"!=r.id?" "+r.id:""}\\n$(${t}:screenMemory${n.id}label)`,size:"auto",color:this.inverseColorBW(o),bgcolor:o},steps:[{down:[{actionId:"deviceScreenMemory",options:{screens:[r.id],preset:"sel"===r.id?"sel":"pvw",memory:n.id,selectScreens:!1}}],up:[]}],feedbacks:[{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pvw",memory:n.id,unmodified:0},style:{color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green}},{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pgm",memory:n.id,unmodified:0},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}},{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pvw",memory:n.id,unmodified:1},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark}},{feedbackId:"deviceScreenMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pgm",memory:n.id,unmodified:1},style:{color:this.inverseColorBW(this.config.color_reddark),bgcolor:this.config.color_reddark}}]}}return e}get auxMemories(){const e={},t=this.instance.label;for(const r of[{id:"sel",label:"Selected",index:"0"},...this.choices.getAuxArray()])for(const n of this.choices.getAuxMemoryArray()){const o=parseInt(this.state.get(["REMOTE","banks","aux","items",n.id,"color"])?.slice(1),16);e[`LoadAuxMemory_${n.id}_${r.id}`]={type:"button",name:`Load Aux Memory ${n.id} into auxscreen ${r.id}${r.label?" ("+r.label+")":""}`,category:`Aux Memories into ${"sel"!=r.id?r.id:"Selection"}`,style:{text:`AM${n.id}${"sel"!=r.id?" "+r.id:""}\\n$(${t}:auxMemory${n.id}label)`,size:"auto",color:this.inverseColorBW(o),bgcolor:o},steps:[{down:[{actionId:"deviceAuxMemory",options:{screens:["sel"],preset:"sel"===r.id?"sel":"pvw",memory:n.id,selectScreens:!1}}],up:[]}],feedbacks:[{feedbackId:"deviceAuxMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pvw",memory:n.id,unmodified:0},style:{color:this.inverseColorBW(this.config.color_green),bgcolor:this.config.color_green}},{feedbackId:"deviceAuxMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pgm",memory:n.id,unmodified:0},style:{color:this.inverseColorBW(this.config.color_red),bgcolor:this.config.color_red}},{feedbackId:"deviceAuxMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pvw",memory:n.id,unmodified:1},style:{color:this.inverseColorBW(this.config.color_greendark),bgcolor:this.config.color_greendark}},{feedbackId:"deviceAuxMemory",options:{screens:"sel"!=r.id?[r.id]:["all"],preset:"pgm",memory:n.id,unmodified:1},style:{color:this.inverseColorBW(this.config.color_reddark),bgcolor:this.config.color_reddark}}]}}return e}get chooseInput(){const e={},t=this.instance.label,r=this;function n(n,o,s){let i="";n.id.match(/^IN|LIVE|STILL|SCREEN/)&&(i=`\\n$(${t}:${n.id.replace("LIVE_","INPUT_")}label)`);const a={type:"button",name:"Choose Input "+n.label+" for selected "+s+" Layer(s)",category:"Layer Source",style:{text:n.label.replace(/^(\D+\d+)\s.+$/,"$1")+i,size:"auto",color:r.config.color_bright,bgcolor:r.config.color_dark},steps:[{down:[{actionId:"deviceSelectSource",options:{method:"sel"}}],up:[]}],feedbacks:[{feedbackId:"deviceSourceTally",options:{screens:["all"],preset:"pvw",source:n.id},style:{color:r.inverseColorBW(r.config.color_green),bgcolor:r.config.color_green}},{feedbackId:"deviceSourceTally",options:{screens:["all"],preset:"pgm",source:n.id},style:{color:r.inverseColorBW(r.config.color_red),bgcolor:r.config.color_red}}]};Array.of("sourceLayer","sourceNative","sourceBack","sourceFront").forEach((e=>{a.steps[0].down[0].options[e]="keep"})),o.forEach((e=>{a.steps[0].down[0].options[e]=n.id})),e[a.name]=a}return n({id:"NONE",label:"None"},["sourceLayer","sourceNative","sourceFront","sourceBack"],""),n({id:"COLOR",label:"Color"},["sourceLayer"],"Live"),this.choices.getSourceChoices().filter((e=>"NONE"!==e.id&&"COLOR"!==e.id)).forEach((e=>{n(e,["sourceLayer","sourceBack"],"Live/Background")})),this.choices.choicesBackgroundSourcesPlusNone.filter((e=>"NONE"!==e.id)).forEach((e=>{n(e,["sourceNative"],"Background")})),this.choices.choicesForegroundImagesSource.filter((e=>"NONE"!==e.id)).forEach((e=>{n(e,["sourceFront"],"Foreground")})),e}}class me{instance;subscriptions;constants;subscriptionsToUse=["syncselection"];constructor(e){this.instance=e,this.constants=this.instance.constants,this.subscriptions=Object.fromEntries(this.subscriptionsToUse.map((e=>[e,this[e]])))}get subscriptionList(){return Object.keys(this.subscriptions)}addSubscriptions(e){Object.keys(e).forEach((t=>{this.subscriptions[t]=e[t]}))}removeSubscription(e){this.subscriptions[e]&&delete this.subscriptions[e]}subscription(e){return this.subscriptions[e]}get syncselection(){return{pat:this.constants.subSyncselectionPat,fbk:"syncselection"}}get liveselection(){return{pat:"live/screens/screenAuxSelection",fbk:"liveScreenSelection"}}get layerselection(){return{pat:"live/screens/layerSelection/layerIds",fbk:"remoteLayerSelection"}}get widgetSelection(){return{pat:"live/multiviewers?/widgetSelection",fbk:"remoteWidgetSelection"}}get screenLock(){return{pat:"live/screens/presetModeLock/PR",fbk:"liveScreenLock"}}get sourceVisibility(){return{pat:"device/(auxiliaryScreen|screen|auxiliary)List/items/(S|A)?(\\d{1,3})/presetList/items/(\\w+)/l(iveL)?ayerList/items/(\\d{1,3}|NATIVE)/(source|position|size|opacity|crop|mask)",fbk:"deviceSourceTally"}}get selectedPreset(){return{pat:"/live/screens/presetModeSelection/presetMode",fbk:["livePresetSelection","remoteLayerSelection"],fun:(e,t)=>(this.instance.state.syncSelection&&this.instance.setVariableValues({selectedPreset:"PREVIEW"===this.instance.state.get(e)?"PVW":"PGM"}),!1)}}get inputFreeze(){return{pat:"device/inputList/items/(\\w+?)/control/pp/freeze",fbk:"deviceInputFreeze"}}get timerState(){return{pat:"DEVICE/device/timerList/items/TIMER_(\\d)/status/pp/state",fbk:"timerState",ini:Array.from({length:this.constants.maxTimers},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=e.toString().match(/(?<=TIMER_)(\d)\//)||["0"];return this.instance.setVariableValues({["timer"+r[0]+"_status"]:this.instance.state.get(e)}),!1}}}get screenMemoryLabel(){return{pat:"DEVICE/device/presetBank/bankList/items/(\\d{1,4})/control/pp/label",ini:Array.from({length:this.constants.maxScreenMemories},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5],n="0"!==r.toString()?this.instance.state.get(e):"",o=this.instance.choices.getChosenScreenAuxes("all");this.instance.setVariableValues({["screenMemory"+r+"label"]:n});for(const e of o)r==this.instance.state.get(["DEVICE","device","screenList","items",e,"presetList","items",this.instance.state.get("LOCAL/screens/"+e+"/pgm/preset"),"presetId","status","pp","id"])&&this.instance.setVariableValues({["screen"+e+"memoryLabelPGM"]:n}),r==this.instance.state.get(["DEVICE","device","screenList","items",e,"presetList","items",this.instance.state.get("LOCAL/screens/"+e+"/pvw/preset"),"presetId","status","pp","id"])&&this.instance.setVariableValues({["screen"+e+"memoryLabelPVW"]:n});return!0}}}get masterMemory(){return{pat:"DEVICE/device/masterPresetBank/status/lastUsed/presetModeList/items/(PROGRAM|PREVIEW)/pp/memoryId",ini:["PROGRAM","PREVIEW"],fbk:"deviceMasterMemory"}}get masterMemoryLabel(){return{pat:"DEVICE/device/masterPresetBank/bankList/items/(\\d+)/control/pp/label",ini:Array.from({length:this.constants.maxMasterMemories},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["masterMemory"+r+"label"]:this.instance.state.get(e)}),!0}}}get multiviewerMemoryLabel(){return{pat:"DEVICE/device/monitoringBank/bankList/items/(\\d+)/control/pp/label",ini:Array.from({length:this.constants.maxMultiviewerMemories},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["multiviewerMemory"+r+"label"]:this.instance.state.get(e)}),!0}}}get layerMemoryLabel(){return{pat:"DEVICE/device/layerBank/bankList/items/(\\d+)/control/pp/label",ini:Array.from({length:50},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["layerMemory"+r+"label"]:this.instance.state.get(e)}),!0}}}get stillLabel(){return{pat:"DEVICE/device/stillList/items/(\\d+)/control/pp/label",ini:Array.from({length:this.constants.maxStills},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({["STILL_"+r+"label"]:this.instance.state.get(e)}),!0}}}get stillValid(){return{pat:"DEVICE/device/stillList/items/(\\d+)/status/pp/isValid",fun:(e,t)=>!0}}get screenLabel(){return{pat:"DEVICE/device/screenList/items/S(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace("S","SCREEN_")+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screen"+r+"label"]:this.instance.state.get(e)}),!0}}}get auxscreenLabel(){return{pat:"DEVICE/device/screenList/items/A(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxAuxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace("A","AUXSCREEN_")+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screen"+r+"label"]:this.instance.state.get(e)}),!0}}}get screenEnabled(){return{pat:"device/(?:screen|auxiliaryScreen|auxiliary)List/items/([AS]?\\d{1,3})/status/pp/mode",fun:(e,t)=>!0}}get liveInputsChange(){return{pat:"DEVICE/device/inputList/items/IN_(\\d{1,2})/status/pp/isEnabled",fun:(e,t)=>!0}}get masterMemoriesChange(){return{pat:"DEVICE/device/masterPresetBank/bankList/items/(\\d{1,3})/status/pp/isValid",fun:(e,t)=>!0}}get screenMemoriesChange(){return{pat:"DEVICE/device/presetBank/bankList/items/(\\d{1,4})/status/pp/isValid",fun:(e,t)=>!0}}get layerMemoriesChange(){return{pat:"DEVICE/device/layerBank/bankList/items/(\\d{1,3})/status/pp/isValid",fun:(e,t)=>!0}}get multiviewerMemoriesChange(){return{pat:"DEVICE/device/monitoringBank/bankList/items/(\\d{1,3})/status/pp/isValid",fun:(e,t)=>!0}}get layerCountChange(){return{pat:"DEVICE/device/screenList/items/((?:S|A)\\d{1,2})/status/pp/layerCount",fun:(e,t)=>!0}}get memoryColorChange(){return{pat:"banks/(\\w+)/items/(\\d+)/color",fun:(e,t)=>!0}}get inputLabel(){return{pat:"DEVICE/device/inputList/items/IN_(\\d+)/control/pp/label",ini:Array.from({length:this.constants.maxInputs},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace(/^\w+_/,"INPUT_")+"label"]:this.instance.state.get(e)}),!0}}}get shutdown(){return{pat:"DEVICE/device/system/shutdown/cmd/pp/xRequest",fun:(e,t)=>("SHUTDOWN"===t&&(this.instance.log("info","Device has been shut down."),this.instance.updateStatus(n.InstanceStatus.Ok,"Shut down")),!1)}}get backgroundSet(){return{pat:"DEVICE/device/screenList/items/((?:S|A)\\d{1,3})/presetList/items/(A|B)/background/source/pp",fbk:"deviceSourceTally"}}get auxMemoryLabel(){return{pat:"DEVICE/device/preset/auxBank/slotList/items/(\\d+)/control/pp/label",ini:Array.from({length:200},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[6]:e.split("/")[6],n="0"!==r.toString()?this.instance.state.get(e):"";this.instance.setVariableValues({["auxMemory"+r+"label"]:n});for(const e of this.instance.choices.getChosenAuxes("all"))r==this.instance.state.get(["DEVICE","device","auxiliaryScreenList","items",e.replace(/\D/g,""),"presetList","items",this.instance.state.get("LOCAL/screens/"+e+"/pgm/preset"),"status","pp","memoryId"])&&this.instance.setVariableValues({["screen"+e+"memoryLabelPGM"]:n}),r==this.instance.state.get(["DEVICE","device","auxiliaryScreenList","items",e.replace(/\D/g,""),"presetList","items",this.instance.state.get("LOCAL/screens/"+e+"/pvw/preset"),"status","pp","memoryId"])&&this.instance.setVariableValues({["screen"+e+"memoryLabelPVW"]:n});return!0}}}get plugChange(){return{pat:"DEVICE/device/inputList/items/(\\w+)/status/pp/plug",ini:Array.from({length:16},((e,t)=>"INPUT_"+(t+1))),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace(/^\w+_/,"INPUT_")+"label"]:this.instance.state.get(["DEVICE","device","inputList","items",r,"plugList","items",this.instance.state.get(e),"control","pp","label"])}),!0}}}checkForAction(e,t){const r=this.subscriptions;let n;if(void 0===e){let e=!1;for(const t of Object.keys(r)){const n=r[t];n.fun&&"function"==typeof n.fun&&(e=n.fun())}return void(e&&this.instance.updateInstance())}if("string"==typeof e)n=e;else{if(!Array.isArray(e))return;n=e.join("/")}const o=Object.keys(r).filter((e=>{const t=new RegExp(r[e].pat);return!!n.match(t)}));let s=[];return o.forEach((e=>{const o=r[e];o.fun&&"function"==typeof o.fun&&(t?o.fun(n,t)&&this.instance.updateInstance():o.fun(n)&&this.instance.updateInstance());const i=r?.[e]?.fbk;i&&("string"==typeof i?s.push(i):Array.isArray(i)&&s.push(...i))})),s.length>=1?s:void 0}initSubscriptions(e){const t=this.subscriptions;let r=!1;const n=e=>{let r=!1;const n=t[e];let o=n.pat;if(n.fun&&"function"==typeof n.fun)if(-1===o.indexOf("("))n.fun(o);else if(n.ini&&Array.isArray(n.ini)){for(;o.match(/\([^()]+\)/);)o=o.replace(/\([^()]+\)/g,"*");for(const e of n.ini)n.fun(o.replace("*",e))&&(r=!0)}else n.ini&&"function"==typeof n.ini&&n.ini(this.instance).forEach((e=>{n.fun&&"function"==typeof n.fun&&n.fun(e)}));return r};"string"==typeof e?r=n(e):this.subscriptionList.forEach((e=>{n(e)&&(r=!0)})),r&&(async()=>{try{this.instance.updateInstance(),this.instance.checkFeedbacks(),this.instance.subscribeFeedbacks()}catch(e){this.instance.log("error","Cannot update the this.instance. "+e)}})()}}class ge extends me{subscriptionsToUse=["syncselection","screenPreset","liveselection","layerselection","widgetSelection","screenLock","sourceVisibility","selectedPreset","inputFreeze","timerState","gpioOut","gpioIn","screenTransitionTime","screenMemoryLabel","masterMemory","masterMemoryLabel","multiviewerMemoryLabel","layerMemoryLabel","stillLabel","stillValid","screenLabel","auxscreenLabel","screenEnabled","liveInputsChange","masterMemoriesChange","screenMemoriesChange","layerMemoriesChange","multiviewerMemoriesChange","layerCountChange","memoryColorChange","presetToggle","screenMemoryChange","screenMemoryModifiedChange","screenTransitionTime","screenMemoryLabel","inputLabel","shutdown"];constructor(e){super(e),this.instance=e,this.constants=this.instance.constants,this.subscriptions=Object.fromEntries(this.subscriptionsToUse.map((e=>[e,this[e]])))}get gpioOut(){return{pat:"device/gpio/gpoList/items/\\d/status/pp/state",fbk:"deviceGpioOut"}}get gpioIn(){return{pat:"device/gpio/gpiList/items/(\\d)/status/pp/state",fbk:"deviceGpioIn"}}get screenTransitionTime(){return{pat:"DEVICE/device/screenGroupList/items/((?:S|A)\\d{1,3})/control/pp/take(?:Up|Down)?Time",ini:()=>{const e=["takeUpTime","takeDownTime"];return[...Array.from({length:this.constants.maxScreens},((e,t)=>"S"+(t+1).toString())),...Array.from({length:this.constants.maxAuxScreens},((e,t)=>"A"+(t+1).toString()))].reduce(((t,r)=>t.concat(e.map((e=>"DEVICE/device/screenGroupList/items/"+r+"/control/pp/"+e)))),[])},fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4],n=Array.isArray(e)?e[7]:e.split("/")[7];if("takeUpTime"===n){const t="B"===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PVW":"PGM";this.instance.setVariableValues({["screen"+r+"time"+t]:re(this.instance.state.get(e))})}if("takeDownTime"===n){const t="A"===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PVW":"PGM";this.instance.setVariableValues({["screen"+r+"time"+t]:re(this.instance.state.get(e))})}return!1}}}get screenLabel(){return{pat:"DEVICE/device/screenList/items/S(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace("S","SCREEN_")+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screen"+r+"label"]:this.instance.state.get(e)}),!0}}}get auxscreenLabel(){return{pat:"DEVICE/device/screenList/items/A(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxAuxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace("A","AUXSCREEN_")+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screen"+r+"label"]:this.instance.state.get(e)}),!0}}}get screenPreset(){return{pat:"DEVICE/device/screenGroupList/items/(\\w+?)/status/pp/transition",fbk:"deviceTake",ini:[...Array.from({length:this.constants.maxScreens},((e,t)=>"S"+(t+1).toString())),...Array.from({length:this.constants.maxAuxScreens},((e,t)=>"A"+(t+1).toString()))],fun:(e,t)=>{const r=(e,t,r)=>{const n=this.instance.state.get(["DEVICE","device","screenList","items",e,"presetList","items",t,"presetId","status","pp","id"]),o=this.instance.state.get(["DEVICE","device","screenList","items",e,"presetList","items",t,"presetId","status","pp","isNotModified"]);this.instance.setVariableValues({["screen"+e+"memory"+r]:n?"M"+n:""}),this.instance.setVariableValues({["screen"+e+"memoryModified"+r]:n&&!o?"*":""}),this.instance.setVariableValues({["screen"+e+"memoryLabel"+r]:n?this.instance.state.get(["DEVICE","device","presetBank","bankList","items",n,"control","pp","label"]):""})};let n;if("string"==typeof e)n=e.split("/");else{if(!Array.isArray(e))return!1;n=e}const o=this.instance.state.get(n),s=n[4];let i="",a="";return"AT_UP"===o&&(i="B",a="A",this.instance.state.set(`LOCAL/screens/${s}/pgm/preset`,i),this.instance.state.set(`LOCAL/screens/${s}/pvw/preset`,a),this.instance.setVariableValues({["screen"+s+"timePGM"]:re(this.instance.state.get(["DEVICE","device","screenGroupList","items",s,"control","pp","takeUpTime"]))}),this.instance.setVariableValues({["screen"+s+"timePVW"]:re(this.instance.state.get(["DEVICE","device","screenGroupList","items",s,"control","pp","takeDownTime"]))}),r(s,i,"PGM"),r(s,a,"PVW")),"AT_DOWN"===o&&(i="A",a="B",this.instance.state.set(`LOCAL/screens/${s}/pgm/preset`,i),this.instance.state.set(`LOCAL/screens/${s}/pvw/preset`,a),this.instance.setVariableValues({["screen"+s+"timePGM"]:re(this.instance.state.get(["DEVICE","device","screenGroupList","items",s,"control","pp","takeDownTime"]))}),this.instance.setVariableValues({["screen"+s+"timePVW"]:re(this.instance.state.get(["DEVICE","device","screenGroupList","items",s,"control","pp","takeUpTime"]))}),r(s,i,"PGM"),r(s,a,"PVW")),this.instance.checkFeedbacks("deviceSourceTally","deviceScreenMemory","deviceTake"),!1}}}get screenMemoryChange(){return{pat:"DEVICE/device/screenList/items/(S|A)\\d{1,3}/presetList/items/(A|B)/presetId/status/pp/id",fbk:"deviceScreenMemory",fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4],n=(Array.isArray(e)?e[7]:e.split("/")[7])===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PGM":"PVW",o=t?t.toString():"";return this.instance.setVariableValues({["screen"+r+"memory"+n]:o}),this.instance.setVariableValues({["screen"+r+"memoryLabel"+n]:""!==o?this.instance.state.get(["DEVICE","device","presetBank","bankList","items",o,"control","pp","label"]):""}),!1}}}get screenMemoryModifiedChange(){return{pat:"DEVICE/device/screenList/items/(?:S|A)\\d{1,3}/presetList/items/(?:A|B)/presetId/status/pp/isNotModified",fbk:"deviceScreenMemory",fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4],n=Array.isArray(e)?e[7]:e.split("/")[7],o=n===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PGM":"PVW";return this.instance.setVariableValues({["screen"+r+"memoryModified"+o]:this.instance.state.get("DEVICE/device/screenList/items/"+r+"/presetList/items/"+n+"/presetId/status/pp/id")&&!this.instance.state.get(e)?"*":""}),!1}}}get presetToggle(){return{pat:"device/screenGroupList/items/S1/control/pp/copyMode",fbk:"presetToggle"}}}class Ee extends me{subscriptionsToUse=["syncselection","screenPreset","screenEnabled","liveInputsChange","liveselection","layerselection","widgetSelection","screenLock","sourceVisibility","selectedPreset","inputFreeze","timerState","screenTransitionTime","screenMemoryLabel","masterMemory","masterMemoryLabel","multiviewerMemoryLabel","layerMemoryLabel","stillLabel","stillValid","screenLabel","auxscreenLabel","masterMemoriesChange","screenMemoriesChange","layerMemoriesChange","multiviewerMemoriesChange","layerCountChange","memoryColorChange","gpioOut","gpioIn","presetToggle","screenMemoryChange","screenMemoryModifiedChange","screenTransitionTime","screenMemoryLabel","inputLabel","shutdown","timerValue"];constructor(e){super(e),this.instance=e,this.constants=this.instance.constants,this.subscriptions=Object.fromEntries(this.subscriptionsToUse.map((e=>[e,this[e]])))}get gpioOut(){return{pat:"device/gpios/deviceList/items/\\d+/gpoList/items/\\d/status/pp/state",fbk:"deviceGpioOut"}}get gpioIn(){return{pat:"device/gpios/deviceList/items/\\d+/gpiList/items/\\d/status/pp/state",fbk:"deviceGpioIn"}}get screenTransitionTime(){return{pat:"DEVICE/device/screenAuxGroupList/items/((?:S|A)\\d{1,3})/control/pp/take(?:Up|Down)?Time",ini:()=>{const e=[...Array.from({length:this.constants.maxScreens},((e,t)=>`S${t+1}`)),...Array.from({length:this.constants.maxAuxScreens},((e,t)=>`A${t+1}`))];return[...e.map((e=>`DEVICE/device/screenAuxGroupList/items/${e}/control/pp/takeUpTime`)),...e.map((e=>`DEVICE/device/screenAuxGroupList/items/${e}/control/pp/takeDownTime`))]},fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4],n=Array.isArray(e)?e[7]:e.split("/")[7];if("takeUpTime"===n){const t="B"===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PVW":"PGM";this.instance.setVariableValues({["screen"+r+"time"+t]:re(this.instance.state.get(e))})}if("takeDownTime"===n){const t="A"===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PVW":"PGM";this.instance.setVariableValues({["screen"+r+"time"+t]:re(this.instance.state.get(e))})}return!1}}}get screenLabel(){return{pat:"DEVICE/device/screenList/items/S(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace("S","SCREEN_")+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screen"+r+"label"]:this.instance.state.get(e)}),!0}}}get auxscreenLabel(){return{pat:"DEVICE/device/auxiliaryList/items/A(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxAuxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace("A","AUXSCREEN_")+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screen"+r+"label"]:this.instance.state.get(e)}),!0}}}get screenPreset(){return{pat:"DEVICE/device/screenAuxGroupList/items/(\\w+?)/status/pp/transition",fbk:"deviceTake",ini:[...Array.from({length:this.constants.maxScreens},((e,t)=>"S"+(t+1).toString())),...Array.from({length:this.constants.maxAuxScreens},((e,t)=>"A"+(t+1).toString()))],fun:(e,t)=>{const r=(e,t)=>{const r=["DEVICE","device","presetBank","status","presetId",i,"items",s,"presetList","items",e,"pp"],n=this.instance.state.get([...r,"id"]),o=this.instance.state.get([...r,"isNotModified"]);this.instance.setVariableValues({["screen"+s+"memory"+t]:n?"M"+n:""}),this.instance.setVariableValues({["screen"+s+"memoryModified"+t]:n&&!o?"*":""}),this.instance.setVariableValues({["screen"+s+"memoryLabel"+t]:n?this.instance.state.get(["DEVICE","device","presetBank","bankList","items",n,"control","pp","label"]):""})};let n;if("string"==typeof e)n=e.split("/");else{if(!Array.isArray(e))return!1;n=e}const o=this.instance.state.get(n),s=n[4],i="A"===s.charAt(0)?"auxiliaryList":"screenList";let a="",c="";return"AT_UP"===o&&(a="B",c="A",this.instance.state.set(`LOCAL/screens/${s}/pgm/preset`,a),this.instance.state.set(`LOCAL/screens/${s}/pvw/preset`,c),this.instance.setVariableValues({["screen"+s+"timePGM"]:re(this.instance.state.get(["DEVICE","device","screenAuxGroupList","items",s,"control","pp","takeUpTime"]))}),this.instance.setVariableValues({["screen"+s+"timePVW"]:re(this.instance.state.get(["DEVICE","device","screenAuxGroupList","items",s,"control","pp","takeDownTime"]))}),r(a,"PGM"),r(c,"PVW")),"AT_DOWN"===o&&(a="A",c="B",this.instance.state.set(`LOCAL/screens/${s}/pgm/preset`,a),this.instance.state.set(`LOCAL/screens/${s}/pvw/preset`,c),this.instance.setVariableValues({["screen"+s+"timePGM"]:re(this.instance.state.get(["DEVICE","device","screenAuxGroupList","items",s,"control","pp","takeDownTime"]))}),this.instance.setVariableValues({["screen"+s+"timePVW"]:re(this.instance.state.get(["DEVICE","device","screenAuxGroupList","items",s,"control","pp","takeUpTime"]))}),r(a,"PGM"),r(c,"PVW")),this.instance.checkFeedbacks("deviceSourceTally","deviceScreenMemory","deviceTake"),!1}}}get screenMemoryChange(){return{pat:"DEVICE/device/presetBank/status/presetId/(?:screen|auxiliary)List/items/(?:S|A)\\d{1,3}/presetList/items/(?:A|B)/pp/id",fbk:"deviceScreenMemory",fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[7]:e.split("/")[7],n=(Array.isArray(e)?e[10]:e.split("/")[10])===this.instance.state.get(`LOCAL/screens/${r}/pgm/preset`)?"PGM":"PVW",o=t?t.toString():"";return this.instance.setVariableValues({["screen"+r+"memory"+n]:""!==o?"M"+o:""}),this.instance.setVariableValues({["screen"+r+"memoryLabel"+n]:""!==o?this.instance.state.get(["DEVICE","device","presetBank","bankList","items",o,"control","pp","label"]):""}),!1}}}get screenMemoryModifiedChange(){return{pat:"DEVICE/device/presetBank/status/presetId/(?:screen|auxiliary)List/items/(?:S|A)\\d{1,3}/presetList/items/(?:A|B)/pp/isNotModified",fbk:"deviceScreenMemory",fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5],n=Array.isArray(e)?e[7]:e.split("/")[7],o=Array.isArray(e)?e[10]:e.split("/")[10],s=o===this.instance.state.get(`LOCAL/screens/${n}/pgm/preset`)?"PGM":"PVW";return this.instance.setVariableValues({["screen"+n+"memoryModified"+s]:this.instance.state.get(["DEVICE","device","presetBank","status","presetId",r,"items",n,"presetList","items",o,"pp","id"])&&!this.instance.state.get(e)?"*":""}),!1}}}get presetToggle(){return{pat:"device/screenAuxGroupList/items/S1/control/pp/copyMode",fbk:"presetToggle"}}get timerValue(){return{pat:"DEVICE/device/timerList/items/TIMER_\\d+/status/pp/value",ini:Array.from({length:this.constants.maxTimers},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=(Array.isArray(e)?e[4]:e.split("/")[4]).replaceAll(/\D/g,""),n=this.instance.state.get(e);return this.instance.setVariableValues({[`timer${r}`]:n}),!1}}}}class Se extends me{subscriptionsToUse=["syncselection","screenPreset","liveselection","layerselection","widgetSelection","screenLock","sourceVisibility","selectedPreset","inputFreeze","timerState","screenTransitionTime","auxScreenTransitionTime","screenMemoryLabel","masterMemory","masterMemoryLabel","multiviewerMemoryLabel","stillLabel","stillValid","screenLabel","auxscreenLabel","screenEnabled","masterMemoriesChange","screenMemoriesChange","multiviewerMemoriesChange","layerCountChange","memoryColorChange","screenMemoryModifiedChange","inputLabel","shutdown","presetToggle","backgroundSet","screenMemoryChange","auxMemoryLabel","plugChange","auxMemoriesChange","liveLayerFreeze","backgroundLayerFreeze","screenFreeze","streamStatus","standby"];constructor(e){super(e),this.instance=e,this.constants=this.instance.constants,this.subscriptions=Object.fromEntries(this.subscriptionsToUse.map((e=>[e,this[e]])))}get screenTransitionTime(){return{pat:"DEVICE/device/transition/screenList/items/\\d{1,3}/control/pp/takeTime",ini:()=>Array.from({length:this.constants.maxScreens},((e,t)=>`DEVICE/device/transition/screenList/items/${t+1}/control/pp/takeTime`)),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["screenS"+r+"timePVW"]:re(this.instance.state.get(e))}),this.instance.setVariableValues({["screenS"+r+"timePGM"]:re(this.instance.state.get(e))}),!1}}}get auxScreenTransitionTime(){return{pat:"DEVICE/device/transition/auxiliaryScreenList/items/\\d{1,3}/control/pp/takeTime",ini:()=>Array.from({length:this.constants.maxAuxScreens},((e,t)=>`DEVICE/device/transition/auxiliaryScreenList/items/${t+1}/control/pp/takeTime`)),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["screenA"+r+"timePVW"]:re(this.instance.state.get(e))}),this.instance.setVariableValues({["screenA"+r+"timePGM"]:re(this.instance.state.get(e))}),!1}}}get screenMemoryLabel(){return{pat:"DEVICE/device/preset/bank/slotList/items/(\\d{1,4})/control/pp/label",ini:Array.from({length:this.constants.maxScreenMemories},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[6]:e.split("/")[6]||"0",n="0"!==r.toString()?this.instance.state.get(e):"";this.instance.setVariableValues({["screenMemory"+r+"label"]:n});const o=this.instance.choices.getChosenScreens("all");for(const e of o)r==this.instance.state.get(["DEVICE","device","screenList","items",e.replace(/\D/g,""),"presetList","items",this.instance.state.get("LOCAL/screens/"+e+"/pgm/preset"),"status","pp","memoryId"])&&this.instance.setVariableValues({["screen"+e+"memoryLabelPGM"]:n}),r==this.instance.state.get(["DEVICE","device","screenList","items",e.replace(/\D/g,""),"presetList","items",this.instance.state.get("LOCAL/screens/"+e+"/pvw/preset"),"status","pp","memoryId"])&&this.instance.setVariableValues({["screen"+e+"memoryLabelPVW"]:n});return!0}}}get masterMemory(){return{pat:"DEVICE/device/preset/masterBank/status/lastUsed/presetModeList/items/(PROGRAM|PREVIEW)/pp/memoryId",ini:["PROGRAM","PREVIEW"],fbk:"deviceMasterMemory"}}get masterMemoryLabel(){return{pat:"DEVICE/device/preset/masterBank/slotList/items/(\\d+)/control/pp/label",ini:Array.from({length:49},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[6]:e.split("/")[6];return this.instance.setVariableValues({["masterMemory"+r+"label"]:this.instance.state.get(e)}),!0}}}get multiviewerMemoryLabel(){return{pat:"DEVICE/device/multiviewer/bankList/item/(\\d+)/control/pp/label",ini:Array.from({length:49},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["multiviewerMemory"+r+"label"]:this.instance.state.get(e)}),!0}}}get stillLabel(){return{pat:"DEVICE/device/stillLibrary/bankList/items/(\\d+)/control/pp/label",ini:Array.from({length:this.constants.maxStills},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[5]:e.split("/")[5];return this.instance.setVariableValues({["STILL_"+r+"label"]:this.instance.state.get(e)}),!0}}}get stillValid(){return{pat:"DEVICE/device/stillLibrary/bankList/items/(\\d+)/status/pp/isValid",fun:(e,t)=>!0}}get screenLabel(){return{pat:"DEVICE/device/screenList/items/(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({["SCREEN_"+r+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screenS"+r+"label"]:this.instance.state.get(e)}),!0}}}get auxscreenLabel(){return{pat:"DEVICE/device/auxiliaryScreenList/items/(\\d{1,2})/control/pp/label",ini:Array.from({length:this.constants.maxAuxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({["AUXSCREEN_"+r+"label"]:this.instance.state.get(e)}),this.instance.setVariableValues({["screenA"+r+"label"]:this.instance.state.get(e)}),!0}}}get masterMemoriesChange(){return{pat:"DEVICE/device/preset/masterBank/slotList/items/(\\d{1,3})/status/pp/isValid",fun:(e,t)=>!0}}get screenMemoriesChange(){return{pat:"DEVICE/device/preset/bank/slot/List/items/(\\d{1,3})/status/pp/isValid",fun:(e,t)=>!0}}get multiviewerMemoriesChange(){return{pat:"DEVICE/device/multiviewer/bankList/items/(\\d{1,2})/status/pp/isValid",fun:(e,t)=>!0}}get layerCountChange(){return{pat:"DEVICE/device/preconfig/status/stateList/items/CURRENT/screenList/items/\\d/liveLayerList/items/\\d/pp/mode",fun:(e,t)=>!0}}get presetToggle(){return{pat:"device/transition/screenList/items/1/control/pp/enablePresetToggle",fbk:"presetToggle"}}get screenPreset(){return{pat:"DEVICE/device/transition/(auxiliaryS|s)creenList/items/\\d+/status/pp/transition",fbk:"deviceTake",ini:()=>[...Array.from({length:this.constants.maxScreens},((e,t)=>`DEVICE/device/transition/screenList/items/${t+1}/status/pp/transition`)),...Array.from({length:this.constants.maxAuxScreens},((e,t)=>`DEVICE/device/transition/auxiliaryScreenList/items/${t+1}/status/pp/transition`))],fun:(e,t)=>{const r=(e,t)=>{const r=this.instance.state.get(["DEVICE","device",...s,"presetList","items",e,"status","pp","memoryId"]),n=this.instance.state.get(["DEVICE","device",...s,"presetList","items",e,"status","pp","isModified"]);this.instance.setVariableValues({["screen"+a+i+"memory"+t]:r?"M"+r:""}),this.instance.setVariableValues({["screen"+a+i+"memoryModified"+t]:r&&n?"*":""}),this.instance.setVariableValues({["screen"+a+i+"memoryLabel"+t]:r?this.instance.state.get(["DEVICE","device","preset","A"===a?"auxBank":"bank","slotList","items",r,"control","pp","label"]):""})};let n;if("string"==typeof e)n=e.split("/");else{if(!Array.isArray(e))return!1;n=e}const o=this.instance.state.get(n),s=n.slice(3,6),i=n[5],a=n[3].charAt(0).toUpperCase();let c="",l="";const u=re(this.instance.state.get(["DEVICE","device","transition",...s,"control","pp","takeTime"]));return"AT_UP"===o&&(c="UP",l="DOWN",this.instance.state.set(`LOCAL/screens/${a}${i}/pgm/preset`,c),this.instance.state.set(`LOCAL/screens/${a}${i}/pvw/preset`,l),this.instance.setVariableValues({["screen"+a+i+"timePGM"]:u}),this.instance.setVariableValues({["screen"+a+i+"timePVW"]:u}),r(c,"PGM"),r(l,"PVW")),"AT_DOWN"===o&&(c="DOWN",l="UP",this.instance.state.set(`LOCAL/screens/${a}${i}/pgm/preset`,c),this.instance.state.set(`LOCAL/screens/${a}${i}/pvw/preset`,l),this.instance.setVariableValues({["screen"+a+i+"timePGM"]:u}),this.instance.setVariableValues({["screen"+a+i+"timePVW"]:u}),r(c,"PGM"),r(l,"PVW")),this.instance.checkFeedbacks("deviceSourceTally","deviceScreenMemory","deviceTake"),!1}}}get backgroundSet(){return{pat:"DEVICE/device/(?:auxiliaryS|s)creenList/items/\\d{1,2}/presetList/items/(?:UP|DOWN)/background/source/pp",fbk:"deviceSourceTally"}}get screenMemoryChange(){return{pat:"DEVICE/device/(s|auxiliaryS)creenList/items/\\d{1,3}/presetList/items/(UP|DOWN)/status/pp/memoryId",fbk:["deviceScreenMemory","deviceAuxMemory"],fun:(e,t)=>{if(!e)return!1;const r=(Array.isArray(e)?e[2]:e.split("/")[2]).charAt(0).toUpperCase(),n=Array.isArray(e)?e[4]:e.split("/")[4],o=(Array.isArray(e)?e[7]:e.split("/")[7])===this.instance.state.get(`LOCAL/screens/${r}${n}/pgm/preset`)?"PGM":"PVW",s=t?t.toString():"";return this.instance.setVariableValues({["screen"+r+n+"memory"+o]:s}),this.instance.setVariableValues({["screen"+r+n+"memoryLabel"+o]:""!==s?this.instance.state.get(["DEVICE","device","preset","A"===r?"auxBank":"bank","slotList","items",s,"control","pp","label"]):""}),!1}}}get screenMemoryModifiedChange(){return{pat:"DEVICE/device/(s|auxiliaryS)creenList/items/\\d{1,3}/presetList/items/(UP|DOWN)/status/pp/isModified",fbk:["deviceScreenMemory","deviceAuxMemory"],fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[2]:e.split("/")[2],n=r.charAt(0).toUpperCase(),o=Array.isArray(e)?e[4]:e.split("/")[4],s=Array.isArray(e)?e[7]:e.split("/")[7],i=s===this.instance.state.get(`LOCAL/screens/${n}${o}/pgm/preset`)?"PGM":"PVW";return this.instance.setVariableValues({["screen"+n+o+"memoryModified"+i]:this.instance.state.get(["DEVICE","device",r,"items",o,"presetList","items",s,"status","pp","memoryId"])&&this.instance.state.get(e)?"*":""}),!1}}}get plugChange(){return{pat:"DEVICE/device/inputList/items/(\\w+)/status/pp/plug",ini:Array.from({length:this.constants.maxInputs},((e,t)=>"INPUT_"+(t+1))),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return this.instance.setVariableValues({[r.replace(/^\w+_/,"INPUT_")+"label"]:this.instance.state.get(["DEVICE","device","inputList","items",r,"plugList","items",this.instance.state.get(e),"control","pp","label"])}),!0}}}get inputLabel(){return{pat:"DEVICE/device/inputList/items/INPUT_\\d+/plugList/items/\\d+/control/pp/label",fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4],n=Array.isArray(e)?e[7]:e.split("/")[7];return this.instance.state.get(["DEVICE","device","inputList","items",r,"status","pp","plug"])==n&&(this.instance.setVariableValues({[r.replace(/^\w+_/,"INPUT_")+"label"]:this.instance.state.get(e)}),!0)}}}get auxMemoriesChange(){return{pat:"DEVICE/device/preset/auxBank/slotList/items/(\\d{1,4})/status/pp/isValid",fun:()=>!0}}get liveLayerFreeze(){return{pat:"device/screenList/items/\\d{1,2}/liveLayerList/items/(\\d{1,2})/control/pp/freeze",fbk:"deviceLayerFreeze",ini:()=>{const e=[];for(let t=1;t<=this.constants.maxScreens;t+=1)for(let r=1;r<=this.constants.maxLayers;r+=1)e.push(`DEVICE/device/screenList/items/${t}/liveLayerList/items/${r}/control/pp/freeze`);return e},fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4],n=Array.isArray(e)?e[7]:e.split("/")[7];return!0===t?this.instance.setVariableValues({[`frozen_S${r}_L${n}`]:"*"}):!1===t?this.instance.setVariableValues({[`frozen_S${r}_L${n}`]:" "}):void 0===t?(t=this.instance.state.get(e),this.instance.setVariableValues({[`frozen_S${r}_L${n}`]:!0===t?"*":" "})):this.instance.setVariableValues({[`frozen_S${r}_L${n}`]:"-"}),!1}}}get backgroundLayerFreeze(){return{pat:"DEVICE/device/screenList/items/(\\d{1,2})/background/control/pp/freeze",fbk:"deviceLayerFreeze",ini:Array.from({length:this.constants.maxScreens},((e,t)=>(t+1).toString())),fun:(e,t)=>{if(!e)return!1;const r=Array.isArray(e)?e[4]:e.split("/")[4];return!0===t?this.instance.setVariableValues({[`frozen_S${r}_NATIVE`]:"*"}):!1===t?this.instance.setVariableValues({[`frozen_S${r}_NATIVE`]:" "}):void 0===t?(t=this.instance.state.get(e),this.instance.setVariableValues({[`frozen_S${r}_NATIVE`]:!0===t?"*":" "})):this.instance.setVariableValues({[`frozen_S${r}_NATIVE`]:"-"}),!1}}}get screenFreeze(){return{pat:"DEVICE/device/(auxiliaryS|s)creenList/items/\\d{1,2}/control/pp/freeze",fbk:"deviceScreenFreeze",ini:()=>[...Array.from({length:this.constants.maxScreens},((e,t)=>`DEVICE/device/screenList/items/${t+1}/control/pp/freeze`)),...Array.from({length:this.constants.maxAuxScreens},((e,t)=>`DEVICE/device/auxiliaryScreenList/items/${t+1}/control/pp/freeze`))],fun:(e,t)=>{if(!e)return!1;const r=(Array.isArray(e)?e[2]:e.split("/")[2]).charAt(0).toUpperCase(),n=Array.isArray(e)?e[4]:e.split("/")[4];return!0===t?this.instance.setVariableValues({[`frozen_${r}${n}`]:"*"}):!1===t?this.instance.setVariableValues({[`frozen_${r}${n}`]:" "}):void 0===t?(t=this.instance.state.get(e),this.instance.setVariableValues({[`frozen_${r}${n}`]:!0===t?"*":" "})):this.instance.setVariableValues({[`frozen_${r}${n}`]:"-"}),!1}}}get streamStatus(){return{pat:"DEVICE/device/streaming/status/pp/mode",fbk:"deviceStreaming"}}get standby(){return{pat:"DEVICE/device/system/shutdown/standby/control/pp/xRequest",fun:(e,t)=>("STANDBY"===t&&(this.instance.log("info","Device going to standby."),this.instance.updateStatus(n.InstanceStatus.Ok,"Standby")),!1)}}get shutdown(){return{pat:"DEVICE/device/system/shutdown/standby/control/pp/xRequest",fun:(e,t)=>("SWITCH_OFF"===t&&(this.instance.log("info","Device has been shut down."),this.instance.updateStatus(n.InstanceStatus.Ok,"Shut down")),!1)}}}const _e="^DeviceObject(?:\\/(@items|@props|\\$?[A-Za-z0-9_-]+))+$";class ye extends n.InstanceBase{state;constants;connection;choices;actions;feedbacks;presets;subscriptions;device;variables;config;oldlabel="";isRecording=!1;constructor(e){super(e),this.instanceOptions.disableVariableValidation=!0}async init(e){this.updateStatus(n.InstanceStatus.Disconnected,"Init"),this.config=e,this.oldlabel=this.label,this.variables=[],this.state=new x(this),this.connection=new P(this),this.setDevice("awjdevice"),void 0===this.config.deviceaddr&&(console.log("brand new config"),this.config.deviceaddr="http://192.168.2.140",this.config.macaddress="",this.config.sync=!0,this.config.showDisabled=!1,this.config.color_bright=16777215,this.config.color_dark=2239025,this.config.color_highlight=(0,n.combineRgb)(24,111,173),this.config.color_green=(0,n.combineRgb)(0,203,56),this.config.color_greendark=(0,n.combineRgb)(0,115,27),this.config.color_greengrey=(0,n.combineRgb)(45,79,49),this.config.color_red=(0,n.combineRgb)(213,0,0),this.config.color_reddark=(0,n.combineRgb)(82,0,0),this.config.color_redgrey=(0,n.combineRgb)(79,31,31),this.saveConfig(this.config)),this.variables=[{variableId:"connectionLabel",name:"The label of this connection"},{variableId:"selectedPreset",name:"Selected Preset"}],this.updateVariableDefinitions(this.variables),this.setVariableValues({connectionLabel:this.label}),this.connection.connect(this.config.deviceaddr)}setDevice(e){if(e!==this.state.platform){switch(this.state.platform=e,e){case"livepremier":this.constants=D,this.choices=new $(this),this.actions=new oe(this),this.feedbacks=new ce(this),this.presets=new de(this),this.subscriptions=new ge(this);break;case"livepremier4":this.constants=V,this.choices=new B(this),this.actions=new se(this),this.feedbacks=new le(this),this.presets=new he(this),this.subscriptions=new Ee(this);break;case"midra":this.constants=U,this.choices=new F(this),this.actions=new ie(this),this.feedbacks=new ue(this),this.presets=new fe(this),this.subscriptions=new Se(this);break;default:this.constants=k,this.choices=new G(this),this.actions=new ne(this),this.feedbacks=new ae(this),this.presets=new pe(this),this.subscriptions=new me(this)}this.log("debug","switched to platform "+e)}}async destroy(){this.state.clearTimers(),this.connection.destroy(),this.log("debug","destroy "+this.id)}getConfigFields(){return[{id:"deviceaddr",type:"textinput",label:"Device Network Address",tooltip:"Enter the address of the device either as hostname or an IPv4 or IPv6 address with optional port number and optional credentials.",width:12,default:"http://192.168.2.140"},{id:"macaddress",type:"textinput",label:"Device MAC Address",tooltip:"Will be automaticalle filled with the MAC of the last connected Device",regex:"/^$|^([0-9a-fA-F]{2}[,:-_.\\s]){5}[0-9a-fA-F]{2}$/",default:"",width:12},{id:"sync",type:"checkbox",label:"Turn sync selection on after connection established",default:!0,width:12},{id:"showDisabled",type:"checkbox",label:"Show also disabled inputs in dropdowns",default:!1,width:12},{id:"coltext",type:"static-text",label:"Colors",value:"The colors are used as default colors for presets, actions and feedbacks",width:12},{id:"color_bright",type:"colorpicker",label:"Bright",default:(0,n.combineRgb)(255,255,255),width:4},{id:"color_dark",type:"colorpicker",label:"Dark",default:(0,n.combineRgb)(34,42,49),width:4},{id:"color_highlight",type:"colorpicker",label:"Highlight",default:(0,n.combineRgb)(33,133,208),width:4},{id:"color_green",type:"colorpicker",label:"Green",default:(0,n.combineRgb)(0,220,19),width:4},{id:"color_greendark",type:"colorpicker",label:"Green-dark",default:(0,n.combineRgb)(0,160,11),width:4},{id:"color_greengrey",type:"colorpicker",label:"Green-grey",default:(0,n.combineRgb)(70,85,72),width:4},{id:"color_red",type:"colorpicker",label:"Red",default:(0,n.combineRgb)(255,87,22),width:4},{id:"color_reddark",type:"colorpicker",label:"Red-dark",default:(0,n.combineRgb)(216,0,0),width:4},{id:"color_redgrey",type:"colorpicker",label:"Red-grey",default:(0,n.combineRgb)(85,70,70),width:4}]}async configUpdated(e){const t={...this.config};this.config=e,this.config.deviceaddr!==t.deviceaddr&&(this.updateStatus(n.InstanceStatus.Connecting),this.connection.disconnect(),this.connection.connect(this.config.deviceaddr)),this.label===this.oldlabel&&this.config.showDisabled===t.showDisabled&&this.config.color_bright===t.color_bright&&this.config.color_dark===t.color_dark&&this.config.color_green===t.color_green&&this.config.color_greendark===t.color_greendark&&this.config.color_greengrey===t.color_greengrey&&this.config.color_red===t.color_red&&this.config.color_reddark===t.color_reddark&&this.config.color_redgrey===t.color_redgrey&&this.config.color_highlight===t.color_highlight||await this.updateInstance(),this.oldlabel=this.label}async updateInstance(){this.log("debug","updating instance"),this.setFeedbackDefinitions(this.feedbacks.allFeedbacks),this.setActionDefinitions(this.actions.allActions),this.setPresetDefinitions(this.presets.allPresets),this.setVariableValues({connectionLabel:this.label}),this.subscribeFeedbacks();let e,t="PGM";e=this.state.syncSelection?this.state.get("REMOTE/live/screens/presetModeSelection/presetMode"):this.state.get("LOCAL/presetMode"),"PREVIEW"===e&&(t="PVW"),this.setVariableValues({selectedPreset:t})}connectDevice(){const e=this.config.deviceaddr;this.connection.connect(e)}handleStartStopRecordActions(e){this.isRecording=e}updateVariableDefinitions(e=this.variables){const t=new Set(e.map((e=>e.variableId))),r=[];t.forEach((t=>{r.push(e.map((e=>({name:e.name,variableId:e.variableId}))).find((e=>e.variableId===t))||{name:"",variableId:""})})),this.setVariableDefinitions(r)}addVariable(e){this.variables.push(e),this.variables.some((t=>t.variableId===e.variableId&&t.id!==e.id))||this.updateVariableDefinitions()}removeVariable(e,t){if(void 0===t&&-1!=this.variables.findIndex((t=>t.id===e))){const t=this.variables.filter((t=>t.id!==e));this.variables=t,this.updateVariableDefinitions()}else if(-1!=this.variables.findIndex((r=>r.id===e&&r.variableId===t))){const r=this.variables.filter((r=>!(r.id===e&&r.variableId===t)));this.variables=r,this.updateVariableDefinitions()}}switchSync(e){const t=this.state.get("REMOTE/system/network/websocketServer/clients");let r;const n=this.state.get("LOCAL/socketId"),o=t.findIndex((e=>e.id===n));switch(e){case 0:default:r=!1;break;case 1:r=!0;break;case 2:r=!this.state.get(`REMOTE/system/network/websocketServer/clients/${o}/isRemoteSelectionEnabled`);break;case 3:r=!!this.state.syncSelection}this.state.set("LOCAL/syncSelection",r),this.connection.sendRawWSmessage(`{"channel":"REMOTE","data":{"name":"enableRemoteSelection","path":"/system/network/websocketServer/clients/${o}","args":[${r}]}}`)}sendXupdate(){this.connection.sendRawWSmessage(`{"channel":"DEVICE","data":{"path":[${this.constants.xUpdatePath}],"value":false}}`),this.connection.sendRawWSmessage(`{"channel":"DEVICE","data":{"path":[${this.constants.xUpdatePath}],"value":true}}`)}AWJtoJsonPath(e){if(null===e.match(new RegExp(_e)))return[];const t=e.split("/");for(let e=0;e<t.length;e+=1)t[e]=t[e].replace(/^\$(\w+)/,"$1List"),t[e]=t[e].replace(/^@props$/,"pp"),t[e]=t[e].replace(/^@items$/,"items"),t[e]=t[e].replace(/^DeviceObject$/,"device");return"screenList"===t[1]&&"items"===t[2]&&"presetList"===t[4]&&"items"===t[5]&&"pgm"===t[6].toLowerCase()?this.state.get(`LOCAL/screens/S${t[3].replace(/\D/g,"")}/pgm/preset`)&&(t[6]=this.state.get(`LOCAL/screens/S${t[3].replace(/\D/g,"")}/pgm/preset`),"midra"===this.state.platform&&(t[6]=t[6].replace("A","DOWN").replace("B","UP"))):"screenList"===t[1]&&"items"===t[2]&&"presetList"===t[4]&&"items"===t[5]&&"pvw"===t[6].toLowerCase()?this.state.get(`LOCAL/screens/S${t[3].replace(/\D/g,"")}/pvw/preset`)&&(t[6]=this.state.get(`LOCAL/screens/S${t[3].replace(/\D/g,"")}/pvw/preset`),"midra"===this.state.platform&&(t[6]=t[6].replace("A","DOWN").replace("B","UP"))):"auxiliaryList"===t[1]&&"items"===t[2]&&"presetList"===t[4]&&"items"===t[5]&&"pgm"===t[6].toLowerCase()?this.state.get(`LOCAL/screens/A${t[3].replace(/\D/g,"")}/pgm/preset`)&&(t[6]=this.state.get(`LOCAL/screens/S${t[3].replace(/\D/g,"")}/pgm/preset`),"midra"===this.state.platform&&(t[6]=t[6].replace("A","DOWN").replace("B","UP"))):"auxiliaryList"===t[1]&&"items"===t[2]&&"presetList"===t[4]&&"items"===t[5]&&"pvw"===t[6].toLowerCase()?this.state.get(`LOCAL/screens/A${t[3].replace(/\D/g,"")}/pvw/preset`)&&(t[6]=this.state.get(`LOCAL/screens/S${t[3].replace(/\D/g,"")}/pvw/preset`),"midra"===this.state.platform&&(t[6]=t[6].replace("A","DOWN").replace("B","UP"))):"auxiliaryScreenList"===t[1]&&"items"===t[2]&&"presetList"===t[4]&&"items"===t[5]&&"pgm"===t[6].toLowerCase()?this.state.get(`LOCAL/screens/A${t[3].replace(/\D/g,"")}/pgm/preset`)&&(t[6]=this.state.get(`LOCAL/screens/A${t[3].replace(/\D/g,"")}/pgm/preset`),"midra"===this.state.platform&&(t[6]=t[6].replace("A","DOWN").replace("B","UP"))):"auxiliaryScreenList"===t[1]&&"items"===t[2]&&"presetList"===t[4]&&"items"===t[5]&&"pvw"===t[6].toLowerCase()&&this.state.get(`LOCAL/screens/A${t[3].replace(/\D/g,"")}/pvw/preset`)&&(t[6]=this.state.get(`LOCAL/screens/A${t[3].replace(/\D/g,"")}/pvw/preset`),"midra"===this.state.platform&&(t[6]=t[6].replace("A","DOWN").replace("B","UP"))),t}jsonToAWJpath(e){let t;t=Array.isArray(e)?e.join("/"):e,t=t.replace(/\/(\w+)List\/items\//g,"/$$$1/@items/"),t=t.replace(/\/pp\//g,"/@props/"),t=t.replace(/^device\//,"DeviceObject/");const r=t.split("/");return"$screen"!==r[1]&&"$auxiliary"!==r[1]&&"$auxiliaryScreen"!==r[1]||"@items"!==r[2]||"$preset"!==r[4]||"@items"!==r[5]||(this.state.get(`LOCAL/screens/${r[3]}/pgm/preset`)===r[6]?r[6]="pgm":r[6]="pvw"),r.join("/")}}(0,n.runEntrypoint)(ye,M)},31635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>k,__assign:()=>s,__asyncDelegator:()=>I,__asyncGenerator:()=>b,__asyncValues:()=>R,__await:()=>T,__awaiter:()=>f,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>x,__classPrivateFieldSet:()=>M,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>V,__esDecorate:()=>l,__exportStar:()=>E,__extends:()=>o,__generator:()=>m,__importDefault:()=>w,__importStar:()=>L,__makeTemplateObject:()=>O,__metadata:()=>h,__param:()=>c,__propKey:()=>p,__read:()=>_,__rest:()=>i,__rewriteRelativeImportExtension:()=>U,__runInitializers:()=>u,__setFunctionName:()=>d,__spread:()=>y,__spreadArray:()=>v,__spreadArrays:()=>A,__values:()=>S,default:()=>G});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t,r,n,o,s){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d=!1,h=r.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(e||null))};var g=(0,r[h])("accessor"===c?{get:p.get,set:p.set}:p[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=i(g.get))&&(p.get=a),(a=i(g.set))&&(p.set=a),(a=i(g.init))&&o.unshift(a)}else(a=i(g))&&("field"===c?o.unshift(a):p[l]=a)}u&&Object.defineProperty(u,n.name,p),d=!0}function u(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function p(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))}function m(e,t){var r,n,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function E(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function S(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function A(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function v(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function i(e,t){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))},t&&(n[e]=t(n[e])))}function a(e,t){try{(r=o[e](t)).value instanceof T?Promise.resolve(r.value.v).then(c,l):u(s[0][2],r)}catch(e){u(s[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function I(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:T(e[n](t)),done:!1}:o?o(t):t}:o}}function R(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=S(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var N=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},C(e)};function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return N(t,e),t}function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function M(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function x(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function k(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var D="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function V(e){function t(t){e.error=e.hasError?new D(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function o(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,(function(e){return t(e),o()}))}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function U(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,r,n,o,s){return r?t?".jsx":".js":!n||o&&s?n+o+"."+s.toLowerCase()+"js":e})):e}const G={__extends:o,__assign:s,__rest:i,__decorate:a,__param:c,__esDecorate:l,__runInitializers:u,__propKey:p,__setFunctionName:d,__metadata:h,__awaiter:f,__generator:m,__createBinding:g,__exportStar:E,__values:S,__read:_,__spread:y,__spreadArrays:A,__spreadArray:v,__await:T,__asyncGenerator:b,__asyncDelegator:I,__asyncValues:R,__makeTemplateObject:O,__importStar:L,__importDefault:w,__classPrivateFieldGet:P,__classPrivateFieldSet:M,__classPrivateFieldIn:x,__addDisposableResource:k,__disposeResources:V,__rewriteRelativeImportExtension:U}},17324:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')},36667:e=>{"use strict";e.exports=JSON.parse('{"SN":{"O":"https://github.com/elastic/require-in-the-middle/issues"}}')},62035:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}o.c=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var s=Object.create(null);o.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,o.d(s,i),s},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o(o.s=86404)})();