(()=>{var e,t,n,r={97169:(e,t,n)=>{"use strict";const r=n(32017);r.code='require("ajv/dist/runtime/equal").default',t.A=r},79100:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(38729),o=function(){function e(){}return e.prototype.active=function(){return r.l},e.prototype.with=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),i=n(69627),s=n(44892),a="context",c=new o,u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,i.$G)(a,e,s.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(r=this._getContextManager()).with.apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,i.mS)(a)||c},e.prototype.disable=function(){this._getContextManager().disable(),(0,i.kv)(a,s.K.instance())},e}()},44892:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(69627),o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("verbose",this._namespace,e)},e}();function i(e,t,n){var o=(0,r.mS)("diag");if(o)return n.unshift(t),o[e].apply(o,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(n),!1))}var s=n(76733),a=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=(0,r.mS)("diag");if(o)return o[e].apply(o,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(t),!1))}}var t=this;t.setLogger=function(e,n){var o,i,a;if(void 0===n&&(n={logLevel:s.u.INFO}),e===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=c.stack)&&void 0!==o?o:c.message),!1}"number"==typeof n&&(n={logLevel:n});var u=(0,r.mS)("diag"),l=function(e,t){function n(n,r){var o=t[n];return"function"==typeof o&&e>=r?o.bind(t):function(){}}return e<s.u.NONE?e=s.u.NONE:e>s.u.ALL&&(e=s.u.ALL),t=t||{},{error:n("error",s.u.ERROR),warn:n("warn",s.u.WARN),info:n("info",s.u.INFO),debug:n("debug",s.u.DEBUG),verbose:n("verbose",s.u.VERBOSE)}}(null!==(i=n.logLevel)&&void 0!==i?i:s.u.INFO,e);if(u&&!n.suppressOverrideMessage){var d=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),l.warn("Current logger will overwrite one already registered from "+d)}return(0,r.$G)("diag",l,t,!0)},t.disable=function(){(0,r.kv)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},11616:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,L:()=>a});var r=n(44892),o=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=new e(this._entries);try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),a=s.next();!a.done;a=s.next()){var c=a.value;i._entries.delete(c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),i=Symbol("BaggageEntryMetadata"),s=r.K.instance();function a(e){return void 0===e&&(e={}),new o(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(s.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:i,toString:function(){return e}}}},41844:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r=n(79100)._.getInstance()},38729:(e,t,n)=>{"use strict";function r(e){return Symbol.for(e)}n.d(t,{l:()=>o,n:()=>r});var o=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var o=new e(n._currentContext);return o._currentContext.set(t,r),o},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}},78758:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=n(44892).K.instance()},76733:(e,t,n)=>{"use strict";var r;n.d(t,{u:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r||(r={}))},74681:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DiagConsoleLogger:()=>a,DiagLogLevel:()=>c.u,INVALID_SPANID:()=>I.w9,INVALID_SPAN_CONTEXT:()=>I.dM,INVALID_TRACEID:()=>I.RH,ProxyTracer:()=>d.y,ProxyTracerProvider:()=>p.n,ROOT_CONTEXT:()=>i.l,SamplingDecision:()=>h.i,SpanKind:()=>f.v,SpanStatusCode:()=>m.s,TraceFlags:()=>g.X,ValueType:()=>r,baggageEntryMetadataFromString:()=>o.B,context:()=>R._,createContextKey:()=>i.n,createNoopMeter:()=>u.Ac,createTraceState:()=>T,default:()=>w,defaultTextMapGetter:()=>l.q,defaultTextMapSetter:()=>l.U,diag:()=>A.s,isSpanContextValid:()=>v.YA,isValidSpanId:()=>v.wN,isValidTraceId:()=>v.hX,metrics:()=>C.q,propagation:()=>O.$,trace:()=>N.u});var r,o=n(11616),i=n(38729),s=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],a=function(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(console){var r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(var t=0;t<s.length;t++)this[s[t].n]=e(s[t].c)},c=n(76733),u=n(39833);!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(r||(r={}));var l=n(22009),d=n(19505),p=n(74975),h=n(72674),f=n(58651),m=n(11908),g=n(47397),_="[_0-9a-z-*/]",b=new RegExp("^(?:[a-z]"+_+"{0,255}|[a-z0-9]"+_+"{0,240}@[a-z]"+_+"{0,13})$"),S=/^[ -~]{0,255}[!-~]$/,y=/,|=/,E=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var o=n.slice(0,r),i=n.slice(r+1,t.length);(function(e){return b.test(e)})(o)&&function(e){return S.test(e)&&!y.test(e)}(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function T(e){return new E(e)}var v=n(67823),I=n(97872),R=n(41844),A=n(78758),C=n(60176),O=n(49348),N=n(6664);const w={context:R._,diag:A.s,metrics:C.q,propagation:O.$,trace:N.u}},69627:(e,t,n)=>{"use strict";n.d(t,{mS:()=>d,$G:()=>l,kv:()=>p});var r="object"==typeof globalThis?globalThis:global,o="1.9.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,s=function(e){var t=new Set([e]),n=new Set,r=e.match(i);if(!r)return function(){return!1};var o=+r[1],s=+r[2],a=+r[3];if(null!=r[4])return function(t){return t===e};function c(e){return n.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(i);if(!r)return c(e);var l=+r[1],d=+r[2],p=+r[3];return null!=r[4]||o!==l?c(e):0===o?s===d&&a<=p?u(e):c(e):s<=d?u(e):c(e)}}(o),a=o.split(".")[0],c=Symbol.for("opentelemetry.js.api."+a),u=r;function l(e,t,n,r){var i;void 0===r&&(r=!1);var s=u[c]=null!==(i=u[c])&&void 0!==i?i:{version:o};if(!r&&s[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}return s.version!==o?(a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+o),n.error(a.stack||a.message),!1):(s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0)}function d(e){var t,n,r=null===(t=u[c])||void 0===t?void 0:t.version;if(r&&s(r))return null===(n=u[c])||void 0===n?void 0:n[e]}function p(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var n=u[c];n&&delete n[e]}},60176:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r=n(39833),o=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return r.Dq},e}()),i=n(69627),s=n(44892),a="metrics",c=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,i.$G)(a,e,s.K.instance())},e.prototype.getMeterProvider=function(){return(0,i.mS)(a)||o},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){(0,i.kv)(a,s.K.instance())},e}().getInstance()},39833:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>v,Dq:()=>m});var r,o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){function e(){}return e.prototype.createGauge=function(e,t){return _},e.prototype.createHistogram=function(e,t){return b},e.prototype.createCounter=function(e,t){return g},e.prototype.createUpDownCounter=function(e,t){return S},e.prototype.createObservableGauge=function(e,t){return E},e.prototype.createObservableCounter=function(e,t){return y},e.prototype.createObservableUpDownCounter=function(e,t){return T},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),s=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),d=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),m=new i,g=new a,_=new u,b=new l,S=new c,y=new p,E=new h,T=new f;function v(){return m}},49348:(e,t,n)=>{"use strict";n.d(t,{$:()=>_});var r=n(69627),o=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),i=n(22009),s=n(79100),a=(0,n(38729).n)("OpenTelemetry Baggage Key");function c(e){return e.getValue(a)||void 0}function u(){return c(s._.getInstance().active())}function l(e,t){return e.setValue(a,t)}function d(e){return e.deleteValue(a)}var p=n(11616),h=n(44892),f="propagation",m=new o,g=function(){function e(){this.createBaggage=p.L,this.getBaggage=c,this.getActiveBaggage=u,this.setBaggage=l,this.deleteBaggage=d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,r.$G)(f,e,h.K.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=i.U),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=i.q),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,r.kv)(f,h.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,r.mS)(f)||m},e}(),_=g.getInstance()},22009:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,q:()=>r});var r={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,n){null!=e&&(e[t]=n)}}},6664:(e,t,n)=>{"use strict";n.d(t,{u:()=>u});var r=n(69627),o=n(74975),i=n(67823),s=n(13299),a=n(44892),c="trace",u=function(){function e(){this._proxyTracerProvider=new o.n,this.wrapSpanContext=i.IP,this.isSpanContextValid=i.YA,this.deleteSpan=s.EW,this.getSpan=s.fU,this.getActiveSpan=s.Bk,this.getSpanContext=s.w8,this.setSpan=s.Bx,this.setSpanContext=s.g_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.$G)(c,this._proxyTracerProvider,a.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.mS)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.kv)(c,a.K.instance()),this._proxyTracerProvider=new o.n},e}().getInstance()},31440:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(97872),o=function(){function e(e){void 0===e&&(e=r.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},79755:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(79100),o=n(13299),i=n(31440),s=n(67823),a=r._.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=a.active()),Boolean(null==t?void 0:t.root))return new i.d;var r,c=n&&(0,o.w8)(n);return"object"==typeof(r=c)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,s.YA)(c)?new i.d(c):new i.d},e.prototype.startActiveSpan=function(e,t,n,r){var i,s,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(i=t,c=n):(i=t,s=n,c=r);var u=null!=s?s:a.active(),l=this.startSpan(e,i,u),d=(0,o.Bx)(u,l);return a.with(d,c,void 0,l)}},e}()},19505:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=new(n(79755).o),o=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):r},e}()},74975:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(19505),o=n(79755),i=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new o.o},e}()),s=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var o;return null!==(o=this.getDelegateTracer(e,t,n))&&void 0!==o?o:new r.y(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}()},72674:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>r}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}))},13299:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>c,Bx:()=>u,EW:()=>l,fU:()=>a,g_:()=>d,w8:()=>p});var r=n(38729),o=n(31440),i=n(79100),s=(0,r.n)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||void 0}function c(){return a(i._.getInstance().active())}function u(e,t){return e.setValue(s,t)}function l(e){return e.deleteValue(s)}function d(e,t){return u(e,new o.d(t))}function p(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},97872:(e,t,n)=>{"use strict";n.d(t,{RH:()=>i,dM:()=>s,w9:()=>o});var r=n(47397),o="0000000000000000",i="00000000000000000000000000000000",s={traceId:i,spanId:o,traceFlags:r.X.NONE}},58651:(e,t,n)=>{"use strict";var r;n.d(t,{v:()=>r}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(r||(r={}))},67823:(e,t,n)=>{"use strict";n.d(t,{IP:()=>l,YA:()=>u,hX:()=>a,wN:()=>c});var r=n(97872),o=n(31440),i=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return i.test(e)&&e!==r.RH}function c(e){return s.test(e)&&e!==r.w9}function u(e){return a(e.traceId)&&c(e.spanId)}function l(e){return new o.d(e)}},11908:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>r}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r||(r={}))},47397:(e,t,n)=>{"use strict";var r;n.d(t,{X:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}))},63634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAsyncHooksContextManager=void 0;const r=n(24434),o=["addListener","on","once","prependListener","prependOnceListener"];t.AbstractAsyncHooksContextManager=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof r.EventEmitter?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){const n=this,r=function(...r){return n.with(e,(()=>t.apply(this,r)))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),o.forEach((n=>{void 0!==t[n]&&(t[n]=this._patchAddListener(t,t[n],e))})),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){const n=this;return function(r,o){var i;const s=null===(i=n._getPatchMap(e))||void 0===i?void 0:i[r];if(void 0===s)return t.call(this,r,o);const a=s.get(o);return t.call(this,r,a||o)}}_patchRemoveAllListeners(e,t){const n=this;return function(r){const o=n._getPatchMap(e);return void 0!==o&&(0===arguments.length?n._createPatchMap(e):void 0!==o[r]&&delete o[r]),t.apply(this,arguments)}}_patchAddListener(e,t,n){const r=this;return function(o,i){if(r._wrapped)return t.call(this,o,i);let s=r._getPatchMap(e);void 0===s&&(s=r._createPatchMap(e));let a=s[o];void 0===a&&(a=new WeakMap,s[o]=a);const c=r.bind(n,i);a.set(i,c),r._wrapped=!0;try{return t.call(this,o,c)}finally{r._wrapped=!1}}}_createPatchMap(e){const t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}}},68852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncHooksContextManager=void 0;const r=n(74681),o=n(90290),i=n(63634);class s extends i.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=o.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return null!==(e=this._stack[this._stack.length-1])&&void 0!==e?e:r.ROOT_CONTEXT}with(e,t,n,...r){this._enterContext(e);try{return t.call(n,...r)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if("TIMERWRAP"===t)return;const n=this._stack[this._stack.length-1];void 0!==n&&this._contexts.set(e,n)}_destroy(e){this._contexts.delete(e)}_before(e){const t=this._contexts.get(e);void 0!==t&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}}t.AsyncHooksContextManager=s},86594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=void 0;const r=n(74681),o=n(90290),i=n(63634);class s extends i.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new o.AsyncLocalStorage}active(){var e;return null!==(e=this._asyncLocalStorage.getStore())&&void 0!==e?e:r.ROOT_CONTEXT}with(e,t,n,...r){const o=null==n?t:t.bind(n);return this._asyncLocalStorage.run(e,o,...r)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}t.AsyncLocalStorageContextManager=s},81376:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=t.AsyncHooksContextManager=void 0;var r=n(68852);Object.defineProperty(t,"AsyncHooksContextManager",{enumerable:!0,get:function(){return r.AsyncHooksContextManager}});var o=n(86594);Object.defineProperty(t,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return o.AsyncLocalStorageContextManager}})},92068:(e,t,n)=>{"use strict";var r;n.d(t,{V:()=>r}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(r||(r={}))},82711:(e,t,n)=>{"use strict";n.d(t,{EC:()=>i,KV:()=>c,QC:()=>a,hN:()=>o,kI:()=>u,r_:()=>s,un:()=>r});var r="=",o=";",i=",",s="baggage",a=180,c=4096,u=8192},75477:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(49348),o=n(4445),i=n(82711),s=n(98151),a=function(){function e(){}return e.prototype.inject=function(e,t,n){var a=r.$.getBaggage(e);if(a&&!(0,o.Zf)(e)){var c=(0,s.getKeyPairs)(a).filter((function(e){return e.length<=i.KV})).slice(0,i.QC),u=(0,s.serializeKeyPairs)(c);u.length>0&&n.set(t,i.r_,u)}},e.prototype.extract=function(e,t,n){var o=n.get(t,i.r_),a=Array.isArray(o)?o.join(i.EC):o;if(!a)return e;var c={};return 0===a.length?e:(a.split(i.EC).forEach((function(e){var t=(0,s.parsePairKeyValue)(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),c[t.key]=n}})),0===Object.entries(c).length?e:r.$.setBaggage(e,r.$.createBaggage(c)))},e.prototype.fields=function(){return[i.r_]},e}()},98151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>u,parsePairKeyValue:()=>c,serializeKeyPairs:()=>s});var r=n(11616),o=n(82711),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function s(e){return e.reduce((function(e,t){var n=""+e+(""!==e?o.EC:"")+t;return n.length>o.kI?e:n}),"")}function a(e){return e.getAllEntries().map((function(e){var t=i(e,2),n=t[0],r=t[1],s=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(s+=o.hN+r.metadata.toString()),s}))}function c(e){var t=e.split(o.hN);if(!(t.length<=0)){var n=t.shift();if(n){var i=n.indexOf(o.un);if(!(i<=0)){var s,a=decodeURIComponent(n.substring(0,i).trim()),c=decodeURIComponent(n.substring(i+1).trim());return t.length>0&&(s=(0,r.B)(t.join(o.hN))),{key:a,value:c,metadata:s}}}}}function u(e){return"string"!=typeof e||0===e.length?{}:e.split(o.EC).map((function(e){return c(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},80788:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,m:()=>c,oU:()=>a});var r=n(78758),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function s(e){var t,n,s={};if("object"!=typeof e||null==e)return s;try{for(var u=o(Object.entries(e)),l=u.next();!l.done;l=u.next()){var d=i(l.value,2),p=d[0],h=d[1];a(p)?c(h)?Array.isArray(h)?s[p]=h.slice():s[p]=h:r.s.warn("Invalid attribute value set for key: "+p):r.s.warn("Invalid attribute key: "+p)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}function a(e){return"string"==typeof e&&e.length>0}function c(e){return null==e||(Array.isArray(e)?function(e){var t,n,r;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var a=s.value;if(null!=a){if(!r){if(u(a)){r=typeof a;continue}return!1}if(typeof a!==r)return!1}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}(e):u(e))}function u(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},78044:(e,t,n)=>{"use strict";n.d(t,{s:()=>i,u:()=>o});var r=(0,n(11590).o)();function o(e){r=e}function i(e){try{r(e)}catch(e){}}},11590:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(78758);function o(){return function(e){r.s.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},n=e;null!==n;)Object.getOwnPropertyNames(n).forEach((function(e){if(!t[e]){var r=n[e];r&&(t[e]=String(r))}})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}},65864:(e,t,n)=>{"use strict";n.d(t,{Ir:()=>_,JU:()=>f,KJ:()=>l,VL:()=>g,W5:()=>d,_5:()=>u,lg:()=>a,mw:()=>b,tq:()=>p,u5:()=>h,uc:()=>c,w_:()=>m});var r=n(53663),o=9,i=Math.pow(10,6),s=Math.pow(10,o);function a(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*i)]}function c(){var e=r.u.timeOrigin;if("number"!=typeof e){var t=r.u;e=t.timing&&t.timing.fetchStart}return e}function u(e){return b(a(c()),a("number"==typeof e?e:r.u.now()))}function l(e){if(g(e))return e;if("number"==typeof e)return e<c()?u(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function d(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=s),[n,r]}function p(e){var t=o,n=""+"0".repeat(t)+e[1]+"Z",r=n.substr(n.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)}function h(e){return e[0]*s+e[1]}function f(e){return 1e3*e[0]+e[1]/1e6}function m(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function _(e){return g(e)||"number"==typeof e||e instanceof Date}function b(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=s&&(n[1]-=s,n[0]+=1),n}},72477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlwaysOffSampler:()=>P,AlwaysOnSampler:()=>M,AnchoredClock:()=>o,BindOnceFuture:()=>z.I,CompositePropagator:()=>v.n,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Z.fv,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>Z.aE,DEFAULT_ENVIRONMENT:()=>Z.Uz,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>Z.h9,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>Z.V,ExportResultCode:()=>d.V,ParentBasedSampler:()=>G,RPCType:()=>S,RandomIdGenerator:()=>g,SDK_INFO:()=>E.q,TRACE_PARENT_HEADER:()=>I.ZS,TRACE_STATE_HEADER:()=>I.UD,TimeoutError:()=>F,TraceIdRatioBasedSampler:()=>D,TraceState:()=>V.n,TracesSamplerValues:()=>W.R,VERSION:()=>Q.x,W3CBaggagePropagator:()=>r.t,W3CTraceContextPropagator:()=>I.lm,_globalThis:()=>f,addHrTimes:()=>c.mw,baggageUtils:()=>p,callWithTimeout:()=>H,deleteRPCMetadata:()=>C,getEnv:()=>h._,getEnvWithoutDefaults:()=>h.w,getRPCMetadata:()=>O,getTimeOrigin:()=>c.uc,globalErrorHandler:()=>s.s,hexToBase64:()=>m,hexToBinary:()=>l,hrTime:()=>c._5,hrTimeDuration:()=>c.W5,hrTimeToMicroseconds:()=>c.w_,hrTimeToMilliseconds:()=>c.JU,hrTimeToNanoseconds:()=>c.u5,hrTimeToTimeStamp:()=>c.tq,internal:()=>q,isAttributeKey:()=>i.oU,isAttributeValue:()=>i.m,isTimeInput:()=>c.Ir,isTimeInputHrTime:()=>c.VL,isTracingSuppressed:()=>U.Zf,isUrlIgnored:()=>J,isWrapped:()=>K,loggingErrorHandler:()=>a.o,merge:()=>B.h,millisToHrTime:()=>c.lg,otperformance:()=>y.u,parseEnvironment:()=>Z.Nq,parseTraceParent:()=>I.ZI,sanitizeAttributes:()=>i.L,setGlobalErrorHandler:()=>s.u,setRPCMetadata:()=>A,suppressTracing:()=>U.M1,timeInputToHrTime:()=>c.KJ,unrefTimer:()=>T.K,unsuppressTracing:()=>U.FU,urlMatches:()=>X});var r=n(75477),o=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}(),i=n(80788),s=n(78044),a=n(11590),c=n(65864);function u(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function l(e){for(var t=new Uint8Array(e.length/2),n=0,r=0;r<e.length;r+=2){var o=u(e.charCodeAt(r)),i=u(e.charCodeAt(r+1));t[n++]=o<<4|i}return t}var d=n(92068),p=n(98151),h=n(37925),f="object"==typeof globalThis?globalThis:global;function m(e){return Buffer.from(l(e)).toString("base64")}var g=function(){this.generateTraceId=b(16),this.generateSpanId=b(8)},_=Buffer.allocUnsafe(16);function b(e){return function(){for(var t=0;t<e/4;t++)_.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(_[t]>0);t++)t===e-1&&(_[e-1]=1);return _.toString("hex",0,e)}}var S,y=n(53663),E=n(68797),T=n(22778),v=n(22721),I=n(79859),R=(0,n(38729).n)("OpenTelemetry SDK Context Key RPC_METADATA");function A(e,t){return e.setValue(R,t)}function C(e){return e.deleteValue(R)}function O(e){return e.getValue(R)}!function(e){e.HTTP="http"}(S||(S={}));var N,w=n(72674),P=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:w.i.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),M=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:w.i.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),L=n(6664),x=n(67823),k=n(47397),G=function(){function e(e){var t,n,r,o;this._root=e.root,this._root||((0,s.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new M),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new M,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new P,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new M,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new P}return e.prototype.shouldSample=function(e,t,n,r,o,i){var s=L.u.getSpanContext(e);return s&&(0,x.YA)(s)?s.isRemote?s.traceFlags&k.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,o,i):this._remoteParentNotSampled.shouldSample(e,t,n,r,o,i):s.traceFlags&k.X.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,o,i):this._localParentNotSampled.shouldSample(e,t,n,r,o,i):this._root.shouldSample(e,t,n,r,o,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),D=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,x.hX)(t)&&this._accumulate(t)<this._upperBound?w.i.RECORD_AND_SAMPLED:w.i.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),U=n(4445),V=n(59406),Z=n(23144),B=n(31194),W=n(70676),j=(N=function(e,t){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},N(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return j(t,e),t}(Error);function H(e,t){var n,r=new Promise((function(e,r){n=setTimeout((function(){r(new F("Operation timed out."))}),t)}));return Promise.race([e,r]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))}var Y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function X(e,t){return"string"==typeof t?e===t:!!e.match(t)}function J(e,t){var n,r;if(!t)return!1;try{for(var o=Y(t),i=o.next();!i.done;i=o.next())if(X(e,i.value))return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}function K(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var z=n(77375),Q=n(42299),$=n(41844),q={_export:function(e,t){return new Promise((function(n){$._.with((0,U.M1)($._.active()),(function(){e.export(t,(function(e){n(e)}))}))}))}}},37925:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,w:()=>i});var r=n(23144);function o(){var e=(0,r.Nq)(process.env);return Object.assign({},r.Uz,e)}function i(){return(0,r.Nq)(process.env)}},53663:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=require("perf_hooks").performance},68797:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r,o=n(42299),i=n(87361),s=((r={})[i.$L]="opentelemetry",r[i.lb]="node",r[i.Pl]=i.wE,r[i.y$]=o.x,r)},22778:(e,t,n)=>{"use strict";function r(e){e.unref()}n.d(t,{K:()=>r})},22721:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(78758),o=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,n){var o,i;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._propagators),a=s.next();!a.done;a=s.next()){var c=a.value;try{c.inject(e,t,n)}catch(e){r.s.warn("Failed to inject with "+c.constructor.name+". Err: "+e.message)}}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}},e.prototype.extract=function(e,t,n){return this._propagators.reduce((function(e,o){try{return o.extract(e,t,n)}catch(e){r.s.warn("Failed to inject with "+o.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},59406:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r="[_0-9a-z-*/]",o=new RegExp("^(?:[a-z]"+r+"{0,255}|[a-z0-9]"+r+"{0,240}@[a-z]"+r+"{0,13})$"),i=/^[ -~]{0,255}[!-~]$/,s=/,|=/,a=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var a=n.slice(0,r),c=n.slice(r+1,t.length);(function(e){return o.test(e)})(a)&&function(e){return i.test(e)&&!s.test(e)}(c)&&e.set(a,c)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},79859:(e,t,n)=>{"use strict";n.d(t,{UD:()=>u,ZI:()=>d,ZS:()=>c,lm:()=>p});var r=n(6664),o=n(67823),i=n(47397),s=n(4445),a=n(59406),c="traceparent",u="tracestate",l=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function d(e){var t=l.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var p=function(){function e(){}return e.prototype.inject=function(e,t,n){var a=r.u.getSpanContext(e);if(a&&!(0,s.Zf)(e)&&(0,o.YA)(a)){var l="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||i.X.NONE).toString(16);n.set(t,c,l),a.traceState&&n.set(t,u,a.traceState.serialize())}},e.prototype.extract=function(e,t,n){var o=n.get(t,c);if(!o)return e;var i=Array.isArray(o)?o[0]:o;if("string"!=typeof i)return e;var s=d(i);if(!s)return e;s.isRemote=!0;var l=n.get(t,u);if(l){var p=Array.isArray(l)?l.join(","):l;s.traceState=new a.n("string"==typeof p?p:void 0)}return r.u.setSpanContext(e,s)},e.prototype.fields=function(){return[c,u]},e}()},4445:(e,t,n)=>{"use strict";n.d(t,{FU:()=>i,M1:()=>o,Zf:()=>s});var r=(0,n(38729).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(r,!0)}function i(e){return e.deleteValue(r)}function s(e){return!0===e.getValue(r)}},77375:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),o=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new r}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([this._that],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(n),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},23144:(e,t,n)=>{"use strict";n.d(t,{Nq:()=>T,Uz:()=>g,V:()=>m,aE:()=>p,fv:()=>h,h9:()=>f});var r=n(76733),o=n(70676),i=",",s=["OTEL_SDK_DISABLED"];function a(e){return s.indexOf(e)>-1}var c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return c.indexOf(e)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}var p=1/0,h=128,f=128,m=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:r.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function _(e,t,n){if(void 0!==n[e]){var r=String(n[e]);t[e]="true"===r.toLowerCase()}}function b(e,t,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[e]){var i=Number(n[e]);isNaN(i)||(t[e]=i<r?r:i>o?o:i)}}function S(e,t,n,r){void 0===r&&(r=i);var o=n[e];"string"==typeof o&&(t[e]=o.split(r).map((function(e){return e.trim()})))}var y={ALL:r.u.ALL,VERBOSE:r.u.VERBOSE,DEBUG:r.u.DEBUG,INFO:r.u.INFO,WARN:r.u.WARN,ERROR:r.u.ERROR,NONE:r.u.NONE};function E(e,t,n){var r=n[e];if("string"==typeof r){var o=y[r.toUpperCase()];null!=o&&(t[e]=o)}}function T(e){var t={};for(var n in g){var r=n;if("OTEL_LOG_LEVEL"===r)E(r,t,e);else if(a(r))_(r,t,e);else if(u(r))b(r,t,e);else if(d(r))S(r,t,e);else{var o=e[r];null!=o&&(t[r]=String(o))}}return t}},31194:(e,t,n)=>{"use strict";n.d(t,{h:()=>_});var r,o,i="[object Object]",s="[object Null]",a="[object Undefined]",c=Function.prototype.toString,u=c.call(Object),l=(r=Object.getPrototypeOf,o=Object,function(e){return r(o(e))}),d=Object.prototype,p=d.hasOwnProperty,h=Symbol?Symbol.toStringTag:void 0,f=d.toString;function m(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){return null==e?void 0===e?a:s:h&&h in Object(e)?function(e){var t=p.call(e,h),n=e[h],r=!1;try{e[h]=void 0,r=!0}catch(e){}var o=f.call(e);return r&&(t?e[h]=n:delete e[h]),o}(e):function(e){return f.call(e)}(e)}(e)!==i)return!1;var t=l(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)===u}var g=20;function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=S(n,e.shift(),0,r);return n}function b(e){return E(e)?e.slice():e}function S(e,t,n,r){var o;if(void 0===n&&(n=0),!(n>g)){if(n++,I(e)||I(t)||T(t))o=b(t);else if(E(e)){if(o=e.slice(),E(t))for(var i=0,s=t.length;i<s;i++)o.push(b(t[i]));else if(v(t))for(i=0,s=(a=Object.keys(t)).length;i<s;i++)o[c=a[i]]=b(t[c])}else if(v(e))if(v(t)){if(!function(e,t){return!(!m(e)||!m(t))}(e,t))return t;var a;for(o=Object.assign({},e),i=0,s=(a=Object.keys(t)).length;i<s;i++){var c,u=t[c=a[i]];if(I(u))void 0===u?delete o[c]:o[c]=u;else{var l=o[c],d=u;if(y(e,c,r)||y(t,c,r))delete o[c];else{if(v(l)&&v(d)){var p=r.get(l)||[],h=r.get(d)||[];p.push({obj:e,key:c}),h.push({obj:t,key:c}),r.set(l,p),r.set(d,h)}o[c]=S(o[c],u,n,r)}}}}else o=t;return o}}function y(e,t,n){for(var r=n.get(e[t])||[],o=0,i=r.length;o<i;o++){var s=r[o];if(s.key===t&&s.obj===e)return!0}return!1}function E(e){return Array.isArray(e)}function T(e){return"function"==typeof e}function v(e){return!I(e)&&!E(e)&&!T(e)&&"object"==typeof e}function I(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},70676:(e,t,n)=>{"use strict";var r;n.d(t,{R:()=>r}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(r||(r={}))},42299:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r="1.25.1"},50403:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectNames=t.ConnectTypes=t.AttributeNames=void 0,(o=t.AttributeNames||(t.AttributeNames={})).CONNECT_TYPE="connect.type",o.CONNECT_NAME="connect.name",(r=t.ConnectTypes||(t.ConnectTypes={})).MIDDLEWARE="middleware",r.REQUEST_HANDLER="request_handler",(n=t.ConnectNames||(t.ConnectNames={})).MIDDLEWARE="middleware",n.REQUEST_HANDLER="request handler"},68202:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(50403),t),o(n(70284),t)},70284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectInstrumentation=t.ANONYMOUS_NAME=void 0;const r=n(74681),o=n(72477),i=n(50403),s=n(50526),a=n(25907),c=n(74813),u=n(28443);t.ANONYMOUS_NAME="anonymous";class l extends a.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){return[new a.InstrumentationNodeModuleDefinition("connect",[">=3.0.0 <4"],(e=>this._patchConstructor(e)))]}_patchApp(e){(0,a.isWrapped)(e.use)||this._wrap(e,"use",this._patchUse.bind(this)),(0,a.isWrapped)(e.handle)||this._wrap(e,"handle",this._patchHandle.bind(this))}_patchConstructor(e){const t=this;return function(...n){const r=e.apply(this,n);return t._patchApp(r),r}}_patchNext(e,t){return function(n){const r=e.apply(this,[n]);return t(),r}}_startSpan(e,n){let r,o,s;e?(r=i.ConnectTypes.REQUEST_HANDLER,s=i.ConnectNames.REQUEST_HANDLER,o=e):(r=i.ConnectTypes.MIDDLEWARE,s=i.ConnectNames.MIDDLEWARE,o=n.name||t.ANONYMOUS_NAME);const a=`${s} - ${o}`,u={attributes:{[c.SEMATTRS_HTTP_ROUTE]:e.length>0?e:"/",[i.AttributeNames.CONNECT_TYPE]:r,[i.AttributeNames.CONNECT_NAME]:o}};return this.tracer.startSpan(a,u)}_patchMiddleware(e,n){const i=this,s=4===n.length;function a(){if(!i.isEnabled())return n.apply(this,arguments);const[a,c,l]=s?[1,2,3]:[0,1,2],d=arguments[a],p=arguments[c],h=arguments[l];(0,u.replaceCurrentStackRoute)(d,e);const f=(0,o.getRPCMetadata)(r.context.active());e&&(null==f?void 0:f.type)===o.RPCType.HTTP&&(f.route=(0,u.generateRoute)(d));let m="";m=e?`request handler - ${e}`:`middleware - ${n.name||t.ANONYMOUS_NAME}`;const g=i._startSpan(e,n);i._diag.debug("start span",m);let _=!1;function b(){_?i._diag.debug(`span ${g.name} - already finished`):(_=!0,i._diag.debug(`finishing span ${g.name}`),g.end()),p.removeListener("close",b)}return p.addListener("close",b),arguments[l]=i._patchNext(h,b),n.apply(this,arguments)}return Object.defineProperty(a,"length",{value:n.length,writable:!1,configurable:!0}),a}_patchUse(e){const t=this;return function(...n){const r=n[n.length-1],o=n[n.length-2]||"";return n[n.length-1]=t._patchMiddleware(o,r),e.apply(this,n)}}_patchHandle(e){const t=this;return function(){const[n,r]=[0,2],o=arguments[n],i=arguments[r],s=(0,u.addNewStackLayer)(o);return"function"==typeof i&&(arguments[r]=t._patchOut(i,s)),e.apply(this,arguments)}}_patchOut(e,t){return function(...n){return t(),Reflect.apply(e,this,n)}}}t.ConnectInstrumentation=l},55357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._LAYERS_STORE_PROPERTY=void 0,t._LAYERS_STORE_PROPERTY=Symbol("opentelemetry.instrumentation-connect.request-route-stack")},28443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRoute=t.replaceCurrentStackRoute=t.addNewStackLayer=void 0;const r=n(74681),o=n(55357);t.addNewStackLayer=e=>{!1===Array.isArray(e[o._LAYERS_STORE_PROPERTY])&&Object.defineProperty(e,o._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]}),e[o._LAYERS_STORE_PROPERTY].push("/");const t=e[o._LAYERS_STORE_PROPERTY].length;return()=>{t===e[o._LAYERS_STORE_PROPERTY].length?e[o._LAYERS_STORE_PROPERTY].pop():r.diag.warn("Connect: Trying to pop the stack multiple time")}},t.replaceCurrentStackRoute=(e,t)=>{t&&e[o._LAYERS_STORE_PROPERTY].splice(-1,1,t)},t.generateRoute=e=>e[o._LAYERS_STORE_PROPERTY].reduce(((e,t)=>e.replace(/\/+$/,"")+t))},50526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.38.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-connect"},12649:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).EXPRESS_TYPE="express.type",n.EXPRESS_NAME="express.name"},91420:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressLayerType=void 0,(n=t.ExpressLayerType||(t.ExpressLayerType={})).ROUTER="router",n.MIDDLEWARE="middleware",n.REQUEST_HANDLER="request_handler"},46012:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(4506),t),o(n(91420),t),o(n(12649),t),o(n(7865),t)},4506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressInstrumentation=void 0;const r=n(72477),o=n(74681),i=n(91420),s=n(12649),a=n(14101),c=n(75728),u=n(25907),l=n(74813),d=n(23831);class p extends u.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new u.InstrumentationNodeModuleDefinition("express",[">=4.0.0 <5"],(e=>{const t=e.Router;return(0,u.isWrapped)(t.route)&&this._unwrap(t,"route"),this._wrap(t,"route",this._getRoutePatch()),(0,u.isWrapped)(t.use)&&this._unwrap(t,"use"),this._wrap(t,"use",this._getRouterUsePatch()),(0,u.isWrapped)(e.application.use)&&this._unwrap(e.application,"use"),this._wrap(e.application,"use",this._getAppUsePatch()),e}),(e=>{if(void 0===e)return;const t=e.Router;this._unwrap(t,"route"),this._unwrap(t,"use"),this._unwrap(e.application,"use")}))]}_getRoutePatch(){const e=this;return function(t){return function(...n){const r=t.apply(this,n),o=this.stack[this.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(n)),r}}}_getRouterUsePatch(){const e=this;return function(t){return function(...n){const r=t.apply(this,n),o=this.stack[this.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(n)),r}}}_getAppUsePatch(){const e=this;return function(t){return function(...n){const r=t.apply(this,n),o=this._router.stack[this._router.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(n)),r}}}_applyPatch(e,t){const n=this;!0!==e[d.kLayerPatched]&&(e[d.kLayerPatched]=!0,this._wrap(e,"handle",(c=>{if(4===c.length)return c;const p=function(p,h){(0,a.storeLayerPath)(p,t);const f=p[d._LAYERS_STORE_PROPERTY].filter((e=>"/"!==e&&"/*"!==e)).join("").replace(/\/{2,}/g,"/"),m={[l.SEMATTRS_HTTP_ROUTE]:f.length>0?f:"/"},g=(0,a.getLayerMetadata)(e,t),_=g.attributes[s.AttributeNames.EXPRESS_TYPE],b=(0,r.getRPCMetadata)(o.context.active());if((null==b?void 0:b.type)===r.RPCType.HTTP&&(b.route=f||"/"),(0,a.isLayerIgnored)(g.name,_,n.getConfig()))return _===i.ExpressLayerType.MIDDLEWARE&&p[d._LAYERS_STORE_PROPERTY].pop(),c.apply(this,arguments);if(void 0===o.trace.getSpan(o.context.active()))return c.apply(this,arguments);const S=n._getSpanName({request:p,layerType:_,route:f},g.name),y=n.tracer.startSpan(S,{attributes:Object.assign(m,g.attributes)}),{requestHook:E}=n.getConfig();E&&(0,u.safeExecuteInTheMiddle)((()=>E(y,{request:p,layerType:_,route:f})),(e=>{e&&o.diag.error("express instrumentation: request hook failed",e)}),!0);let T=!1;g.attributes[s.AttributeNames.EXPRESS_TYPE]!==i.ExpressLayerType.MIDDLEWARE&&(y.end(),T=!0);const v=()=>{!1===T&&(T=!0,y.end())},I=Array.from(arguments),R=I.findIndex((e=>"function"==typeof e));R>=0&&(arguments[R]=function(){var e;const t=arguments[0],n=![void 0,null,"route","router"].includes(t);if(!T&&n){const[e,n]=(0,a.asErrorAndMessage)(t);y.recordException(e),y.setStatus({code:o.SpanStatusCode.ERROR,message:n})}return!1===T&&(T=!0,null===(e=p.res)||void 0===e||e.removeListener("finish",v),y.end()),p.route&&n||p[d._LAYERS_STORE_PROPERTY].pop(),I[R].apply(this,arguments)});try{return c.apply(this,arguments)}catch(e){const[t,n]=(0,a.asErrorAndMessage)(e);throw y.recordException(t),y.setStatus({code:o.SpanStatusCode.ERROR,message:n}),e}finally{T||h.once("finish",v)}};for(const e in c)Object.defineProperty(p,e,{get:()=>c[e],set(t){c[e]=t}});return p})))}_getSpanName(e,t){var n;const{spanNameHook:r}=this.getConfig();if(!(r instanceof Function))return t;try{return null!==(n=r(e,t))&&void 0!==n?n:t}catch(e){return o.diag.error("express instrumentation: error calling span name rewrite hook",e),t}}}t.ExpressInstrumentation=p},23831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._LAYERS_STORE_PROPERTY=t.kLayerPatched=void 0,t.kLayerPatched=Symbol("express-layer-patched"),t._LAYERS_STORE_PROPERTY="__ot_middlewares"},7865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayerPath=t.asErrorAndMessage=t.isLayerIgnored=t.getLayerMetadata=t.storeLayerPath=void 0;const r=n(91420),o=n(12649),i=n(23831);t.storeLayerPath=(e,t)=>{!1===Array.isArray(e[i._LAYERS_STORE_PROPERTY])&&Object.defineProperty(e,i._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]}),void 0!==t&&e[i._LAYERS_STORE_PROPERTY].push(t)},t.getLayerMetadata=(e,t)=>"router"===e.name?{attributes:{[o.AttributeNames.EXPRESS_NAME]:t,[o.AttributeNames.EXPRESS_TYPE]:r.ExpressLayerType.ROUTER},name:`router - ${t}`}:"bound dispatch"===e.name?{attributes:{[o.AttributeNames.EXPRESS_NAME]:null!=t?t:"request handler",[o.AttributeNames.EXPRESS_TYPE]:r.ExpressLayerType.REQUEST_HANDLER},name:"request handler"+(e.path?` - ${t}`:"")}:{attributes:{[o.AttributeNames.EXPRESS_NAME]:e.name,[o.AttributeNames.EXPRESS_TYPE]:r.ExpressLayerType.MIDDLEWARE},name:`middleware - ${e.name}`};const s=(e,t)=>{if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);throw new TypeError("Pattern is in unsupported datatype")};t.isLayerIgnored=(e,t,n)=>{var r;if(Array.isArray(null==n?void 0:n.ignoreLayersType)&&(null===(r=null==n?void 0:n.ignoreLayersType)||void 0===r?void 0:r.includes(t)))return!0;if(!1===Array.isArray(null==n?void 0:n.ignoreLayers))return!1;try{for(const t of n.ignoreLayers)if(s(e,t))return!0}catch(e){}return!1},t.asErrorAndMessage=e=>e instanceof Error?[e,e.message]:[String(e),String(e)],t.getLayerPath=e=>Array.isArray(e[0])?e[0].map((e=>a(e)||"")).join(","):a(e[0]);const a=e=>"string"==typeof e?e:e instanceof RegExp||"number"==typeof e?e.toString():void 0},75728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.1",t.PACKAGE_NAME="@opentelemetry/instrumentation-express"},91557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hooksNamesToWrap=t.spanRequestSymbol=void 0,t.spanRequestSymbol=Symbol("opentelemetry.instrumentation.fastify.request_active_span"),t.hooksNamesToWrap=new Set(["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"])},86373:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.FastifyNames=t.FastifyTypes=t.AttributeNames=void 0,(o=t.AttributeNames||(t.AttributeNames={})).FASTIFY_NAME="fastify.name",o.FASTIFY_TYPE="fastify.type",o.HOOK_NAME="hook.name",o.PLUGIN_NAME="plugin.name",(r=t.FastifyTypes||(t.FastifyTypes={})).MIDDLEWARE="middleware",r.REQUEST_HANDLER="request_handler",(n=t.FastifyNames||(t.FastifyNames={})).MIDDLEWARE="middleware",n.REQUEST_HANDLER="request handler"},90224:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(86373),t),o(n(57301),t),o(n(27110),t)},27110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastifyInstrumentation=t.ANONYMOUS_NAME=void 0;const r=n(74681),o=n(72477),i=n(25907),s=n(74813),a=n(91557),c=n(86373),u=n(35593),l=n(34460);t.ANONYMOUS_NAME="anonymous";class d extends i.InstrumentationBase{constructor(e={}){super(l.PACKAGE_NAME,l.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},e)}getConfig(){return this._config}init(){return[new i.InstrumentationNodeModuleDefinition("fastify",[">=3.0.0 <5"],(e=>this._patchConstructor(e)))]}_hookOnRequest(){const e=this;return function(t,n,i){if(!e.isEnabled())return i();e._wrap(n,"send",e._patchSend());const s=t,a=(0,o.getRPCMetadata)(r.context.active()),c=s.routeOptions?s.routeOptions.url:t.routerPath;c&&(null==a?void 0:a.type)===o.RPCType.HTTP&&(a.route=c),i()}}_wrapHandler(e,n,o,i){const s=this;return this._diag.debug("Patching fastify route.handler function"),function(...a){if(!s.isEnabled())return o.apply(this,a);const l=o.name||e||t.ANONYMOUS_NAME,d=`${c.FastifyNames.MIDDLEWARE} - ${l}`,p=a[1],h=(0,u.startSpan)(p,s.tracer,d,{[c.AttributeNames.FASTIFY_TYPE]:c.FastifyTypes.MIDDLEWARE,[c.AttributeNames.PLUGIN_NAME]:e,[c.AttributeNames.HOOK_NAME]:n}),f=i&&a[a.length-1];return f&&(a[a.length-1]=function(...e){(0,u.endSpan)(p),f.apply(this,e)}),r.context.with(r.trace.setSpan(r.context.active(),h),(()=>(0,u.safeExecuteInTheMiddleMaybePromise)((()=>o.apply(this,a)),(e=>{e instanceof Error&&(h.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),h.recordException(e)),i||(0,u.endSpan)(p)}))))}}_wrapAddHook(){const e=this;return this._diag.debug("Patching fastify server.addHook function"),function(t){return function(...n){const r=n[0],o=n[1],i=this.pluginName;if(!a.hooksNamesToWrap.has(r))return t.apply(this,n);const s="function"==typeof n[n.length-1]&&"AsyncFunction"!==o.constructor.name;return t.apply(this,[r,e._wrapHandler(i,r,o,s)])}}}_patchConstructor(e){const t=this;function n(...n){const r=e.fastify.apply(this,n);return r.addHook("onRequest",t._hookOnRequest()),r.addHook("preHandler",t._hookPreHandler()),t._wrap(r,"addHook",t._wrapAddHook()),r}return n.fastify=n,n.default=n,n}_patchSend(){const e=this;return this._diag.debug("Patching fastify reply.send function"),function(t){return function(...n){const r=n[0];return e.isEnabled()?(0,i.safeExecuteInTheMiddle)((()=>t.apply(this,n)),(e=>{!e&&r instanceof Error&&(e=r),(0,u.endSpan)(this,e)})):t.apply(this,n)}}}_hookPreHandler(){const e=this;return this._diag.debug("Patching fastify preHandler function"),function(n,o,a){var l,d;if(!e.isEnabled())return a();const p=n,h=(null===(l=p.routeOptions)||void 0===l?void 0:l.handler)||(null===(d=p.context)||void 0===d?void 0:d.handler),f=(null==h?void 0:h.name.startsWith("bound "))?h.name.substr(6):null==h?void 0:h.name,m=`${c.FastifyNames.REQUEST_HANDLER} - ${f||this.pluginName||t.ANONYMOUS_NAME}`,g={[c.AttributeNames.PLUGIN_NAME]:this.pluginName,[c.AttributeNames.FASTIFY_TYPE]:c.FastifyTypes.REQUEST_HANDLER,[s.SEMATTRS_HTTP_ROUTE]:p.routeOptions?p.routeOptions.url:n.routerPath};f&&(g[c.AttributeNames.FASTIFY_NAME]=f);const _=(0,u.startSpan)(o,e.tracer,m,g);return e.getConfig().requestHook&&(0,i.safeExecuteInTheMiddle)((()=>e.getConfig().requestHook(_,{request:n})),(t=>{t&&e._diag.error("request hook failed",t)}),!0),r.context.with(r.trace.setSpan(r.context.active(),_),(()=>{a()}))}}}t.FastifyInstrumentation=d},57301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeExecuteInTheMiddleMaybePromise=t.endSpan=t.startSpan=void 0;const r=n(74681),o=n(91557);function i(e){var t;return"object"==typeof e&&e&&"function"==typeof(null===(t=Object.getOwnPropertyDescriptor(e,"then"))||void 0===t?void 0:t.value)||!1}t.startSpan=function(e,t,n,r={}){const i=t.startSpan(n,{attributes:r}),s=e[o.spanRequestSymbol]||[];return s.push(i),Object.defineProperty(e,o.spanRequestSymbol,{enumerable:!1,configurable:!0,value:s}),i},t.endSpan=function(e,t){const n=e[o.spanRequestSymbol]||[];n.length&&(n.forEach((e=>{t&&(e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message}),e.recordException(t)),e.end()})),delete e[o.spanRequestSymbol])},t.safeExecuteInTheMiddleMaybePromise=function(e,t,n){let r,o;try{o=e(),i(o)&&o.then((e=>t(void 0,e)),(e=>t(e)))}catch(e){r=e}finally{if(!i(o)&&(t(r,o),r&&!n))throw r;return o}}},34460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.38.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-fastify"},34074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYNC_FUNCTIONS=t.CALLBACK_FUNCTIONS=t.PROMISE_FUNCTIONS=void 0,t.PROMISE_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"],t.CALLBACK_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","exists","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","realpath.native","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"],t.SYNC_FUNCTIONS=["accessSync","appendFileSync","chmodSync","chownSync","copyFileSync","cpSync","existsSync","lchownSync","linkSync","lstatSync","lutimesSync","mkdirSync","mkdtempSync","opendirSync","openSync","readdirSync","readFileSync","readlinkSync","realpathSync","realpathSync.native","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","writeFileSync"]},30135:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(82897),t),o(n(174),t)},82897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FsInstrumentation=void 0;const r=n(74681),o=n(72477),i=n(25907),s=n(89223),a=n(34074),c=n(39023),u=n(50114);function l(e,t){return Object.assign(e,t)}class d extends i.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){return[new i.InstrumentationNodeModuleDefinition("fs",["*"],(e=>{for(const t of a.SYNC_FUNCTIONS){const{objectToPatch:n,functionNameToPatch:r}=(0,u.indexFs)(e,t);(0,i.isWrapped)(n[r])&&this._unwrap(n,r),this._wrap(n,r,this._patchSyncFunction.bind(this,t))}for(const t of a.CALLBACK_FUNCTIONS){const{objectToPatch:n,functionNameToPatch:r}=(0,u.indexFs)(e,t);(0,i.isWrapped)(n[r])&&this._unwrap(n,r),"exists"!==t?this._wrap(n,r,this._patchCallbackFunction.bind(this,t)):this._wrap(n,r,this._patchExistsCallbackFunction.bind(this,t))}for(const t of a.PROMISE_FUNCTIONS)(0,i.isWrapped)(e.promises[t])&&this._unwrap(e.promises,t),this._wrap(e.promises,t,this._patchPromiseFunction.bind(this,t));return e}),(e=>{if(void 0!==e){for(const t of a.SYNC_FUNCTIONS){const{objectToPatch:n,functionNameToPatch:r}=(0,u.indexFs)(e,t);(0,i.isWrapped)(n[r])&&this._unwrap(n,r)}for(const t of a.CALLBACK_FUNCTIONS){const{objectToPatch:n,functionNameToPatch:r}=(0,u.indexFs)(e,t);(0,i.isWrapped)(n[r])&&this._unwrap(n,r)}for(const t of a.PROMISE_FUNCTIONS)(0,i.isWrapped)(e.promises[t])&&this._unwrap(e.promises,t)}})),new i.InstrumentationNodeModuleDefinition("fs/promises",["*"],(e=>{for(const t of a.PROMISE_FUNCTIONS)(0,i.isWrapped)(e[t])&&this._unwrap(e,t),this._wrap(e,t,this._patchPromiseFunction.bind(this,t));return e}),(e=>{if(void 0!==e)for(const t of a.PROMISE_FUNCTIONS)(0,i.isWrapped)(e[t])&&this._unwrap(e,t)}))]}_patchSyncFunction(e,t){const n=this;return l((function(...i){const s=r.context.active();if(!n._shouldTrace(s))return t.apply(this,i);if(!1===n._runCreateHook(e,{args:i}))return r.context.with((0,o.suppressTracing)(s),t,this,...i);const a=n.tracer.startSpan(`fs ${e}`);try{const c=r.context.with((0,o.suppressTracing)(r.trace.setSpan(s,a)),t,this,...i);return n._runEndHook(e,{args:i,span:a}),c}catch(t){throw a.recordException(t),a.setStatus({message:t.message,code:r.SpanStatusCode.ERROR}),n._runEndHook(e,{args:i,span:a,error:t}),t}finally{a.end()}}),t)}_patchCallbackFunction(e,t){const n=this;return l((function(...i){const s=r.context.active();if(!n._shouldTrace(s))return t.apply(this,i);if(!1===n._runCreateHook(e,{args:i}))return r.context.with((0,o.suppressTracing)(s),t,this,...i);const a=i.length-1,c=i[a];if("function"!=typeof c)return t.apply(this,i);{const u=n.tracer.startSpan(`fs ${e}`);i[a]=r.context.bind(s,(function(t){return t&&(u.recordException(t),u.setStatus({message:t.message,code:r.SpanStatusCode.ERROR})),n._runEndHook(e,{args:i,span:u,error:t}),u.end(),c.apply(this,arguments)}));try{return r.context.with((0,o.suppressTracing)(r.trace.setSpan(s,u)),t,this,...i)}catch(t){throw u.recordException(t),u.setStatus({message:t.message,code:r.SpanStatusCode.ERROR}),n._runEndHook(e,{args:i,span:u,error:t}),u.end(),t}}}),t)}_patchExistsCallbackFunction(e,t){const n=this,i=l((function(...i){const s=r.context.active();if(!n._shouldTrace(s))return t.apply(this,i);if(!1===n._runCreateHook(e,{args:i}))return r.context.with((0,o.suppressTracing)(s),t,this,...i);const a=i.length-1,c=i[a];if("function"!=typeof c)return t.apply(this,i);{const u=n.tracer.startSpan(`fs ${e}`);i[a]=r.context.bind(s,(function(){return n._runEndHook(e,{args:i,span:u}),u.end(),c.apply(this,arguments)}));try{return r.context.with((0,o.suppressTracing)(r.trace.setSpan(s,u)),t,this,...i)}catch(t){throw u.recordException(t),u.setStatus({message:t.message,code:r.SpanStatusCode.ERROR}),n._runEndHook(e,{args:i,span:u,error:t}),u.end(),t}}}),t),s=function(e){return new Promise((t=>i(e,t)))};return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,c.promisify.custom,{value:s}),i}_patchPromiseFunction(e,t){const n=this;return l((async function(...i){const s=r.context.active();if(!n._shouldTrace(s))return t.apply(this,i);if(!1===n._runCreateHook(e,{args:i}))return r.context.with((0,o.suppressTracing)(s),t,this,...i);const a=n.tracer.startSpan(`fs ${e}`);try{const c=await r.context.with((0,o.suppressTracing)(r.trace.setSpan(s,a)),t,this,...i);return n._runEndHook(e,{args:i,span:a}),c}catch(t){throw a.recordException(t),a.setStatus({message:t.message,code:r.SpanStatusCode.ERROR}),n._runEndHook(e,{args:i,span:a,error:t}),t}finally{a.end()}}),t)}_runCreateHook(...e){const{createHook:t}=this.getConfig();if("function"==typeof t)try{return t(...e)}catch(e){this._diag.error("caught createHook error",e)}return!0}_runEndHook(...e){const{endHook:t}=this.getConfig();if("function"==typeof t)try{t(...e)}catch(e){this._diag.error("caught endHook error",e)}}_shouldTrace(e){if((0,o.isTracingSuppressed)(e))return!1;const{requireParentSpan:t}=this.getConfig();return!t||null!=r.trace.getSpan(e)}}t.FsInstrumentation=d},174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},50114:(e,t)=>{"use strict";function n(e){const t=e.split(".");if(t.length>1){if(2!==t.length)throw Error(`Invalid member function name ${e}`);return t}return[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.indexFs=t.splitTwoLevels=void 0,t.splitTwoLevels=n,t.indexFs=function(e,t){if(!t)throw new Error(JSON.stringify({member:t}));const r=n(t),[o,i]=r;return i?{objectToPatch:e[o],functionNameToPatch:i}:{objectToPatch:e,functionNameToPatch:o}}},89223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.14.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-fs"},81708:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanNames=t.TokenKind=t.AllowedOperationTypes=void 0,(o=t.AllowedOperationTypes||(t.AllowedOperationTypes={})).QUERY="query",o.MUTATION="mutation",o.SUBSCRIPTION="subscription",(r=t.TokenKind||(t.TokenKind={})).SOF="<SOF>",r.EOF="<EOF>",r.BANG="!",r.DOLLAR="$",r.AMP="&",r.PAREN_L="(",r.PAREN_R=")",r.SPREAD="...",r.COLON=":",r.EQUALS="=",r.AT="@",r.BRACKET_L="[",r.BRACKET_R="]",r.BRACE_L="{",r.PIPE="|",r.BRACE_R="}",r.NAME="Name",r.INT="Int",r.FLOAT="Float",r.STRING="String",r.BLOCK_STRING="BlockString",r.COMMENT="Comment",(n=t.SpanNames||(t.SpanNames={})).EXECUTE="graphql.execute",n.PARSE="graphql.parse",n.RESOLVE="graphql.resolve",n.VALIDATE="graphql.validate",n.SCHEMA_VALIDATE="graphql.validateSchema",n.SCHEMA_PARSE="graphql.parseSchema"},64442:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).SOURCE="graphql.source",n.FIELD_NAME="graphql.field.name",n.FIELD_PATH="graphql.field.path",n.FIELD_TYPE="graphql.field.type",n.OPERATION_TYPE="graphql.operation.type",n.OPERATION_NAME="graphql.operation.name",n.VARIABLES="graphql.variables.",n.ERROR_VALIDATION_NAME="graphql.validation.error"},57317:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(18995),t),o(n(40172),t)},18995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(81708),s=n(64442),a=n(89967),c=n(19712),u=n(64256),l=n(55837),d={mergeItems:!1,depth:-1,allowValues:!1,ignoreResolveSpans:!1},p=[">=14.0.0 <17"];class h extends o.InstrumentationBase{constructor(e={}){super(l.PACKAGE_NAME,l.PACKAGE_VERSION,Object.assign({},d,e))}_getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},d,e)}init(){const e=new o.InstrumentationNodeModuleDefinition("graphql",p);return e.files.push(this._addPatchingExecute()),e.files.push(this._addPatchingParser()),e.files.push(this._addPatchingValidate()),e}_addPatchingExecute(){return new o.InstrumentationNodeModuleFile("graphql/execution/execute.js",p,(e=>((0,o.isWrapped)(e.execute)&&this._unwrap(e,"execute"),this._wrap(e,"execute",this._patchExecute(e.defaultFieldResolver)),e)),(e=>{e&&this._unwrap(e,"execute")}))}_addPatchingParser(){return new o.InstrumentationNodeModuleFile("graphql/language/parser.js",p,(e=>((0,o.isWrapped)(e.parse)&&this._unwrap(e,"parse"),this._wrap(e,"parse",this._patchParse()),e)),(e=>{e&&this._unwrap(e,"parse")}))}_addPatchingValidate(){return new o.InstrumentationNodeModuleFile("graphql/validation/validate.js",p,(e=>((0,o.isWrapped)(e.validate)&&this._unwrap(e,"validate"),this._wrap(e,"validate",this._patchValidate()),e)),(e=>{e&&this._unwrap(e,"validate")}))}_patchExecute(e){const t=this;return function(n){return function(){let i;if(arguments.length>=2){const n=arguments;i=t._wrapExecuteArgs(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],e)}else{const n=arguments[0];i=t._wrapExecuteArgs(n.schema,n.document,n.rootValue,n.contextValue,n.variableValues,n.operationName,n.fieldResolver,n.typeResolver,e)}const s=(0,u.getOperation)(i.document,i.operationName),c=t._createExecuteSpan(s,i);return i.contextValue[a.OTEL_GRAPHQL_DATA_SYMBOL]={source:i.document?i.document||i.document[a.OTEL_GRAPHQL_DATA_SYMBOL]:void 0,span:c,fields:{}},r.context.with(r.trace.setSpan(r.context.active(),c),(()=>(0,o.safeExecuteInTheMiddle)((()=>n.apply(this,[i])),((e,n)=>{t._handleExecutionResult(c,e,n)}))))}}}_handleExecutionResult(e,t,n){const r=this._getConfig();if(void 0===n||t)(0,u.endSpan)(e,t);else if((0,u.isPromise)(n))n.then((t=>{"function"==typeof r.responseHook?this._executeResponseHook(e,t):(0,u.endSpan)(e)}),(t=>{(0,u.endSpan)(e,t)}));else{if("function"!=typeof r.responseHook)return void(0,u.endSpan)(e);this._executeResponseHook(e,n)}}_executeResponseHook(e,t){const n=this._getConfig();(0,o.safeExecuteInTheMiddle)((()=>{n.responseHook(e,t)}),(t=>{t&&this._diag.error("Error running response hook",t),(0,u.endSpan)(e,void 0)}),!0)}_patchParse(){const e=this;return function(t){return function(n,r){return e._parse(this,t,n,r)}}}_patchValidate(){const e=this;return function(t){return function(n,r,o,i,s){return e._validate(this,t,n,r,o,s,i)}}}_parse(e,t,n,s){const a=this._getConfig(),c=this.tracer.startSpan(i.SpanNames.PARSE);return r.context.with(r.trace.setSpan(r.context.active(),c),(()=>(0,o.safeExecuteInTheMiddle)((()=>t.call(e,n,s)),((e,t)=>{t&&((0,u.getOperation)(t)?t.loc&&(0,u.addSpanSource)(c,t.loc,a.allowValues):c.updateName(i.SpanNames.SCHEMA_PARSE)),(0,u.endSpan)(c,e)}))))}_validate(e,t,n,a,c,l,d){const p=this.tracer.startSpan(i.SpanNames.VALIDATE,{});return r.context.with(r.trace.setSpan(r.context.active(),p),(()=>(0,o.safeExecuteInTheMiddle)((()=>t.call(e,n,a,c,d,l)),((e,t)=>{a.loc||p.updateName(i.SpanNames.SCHEMA_VALIDATE),t&&t.length&&p.recordException({name:s.AttributeNames.ERROR_VALIDATION_NAME,message:JSON.stringify(t)}),(0,u.endSpan)(p,e)}))))}_createExecuteSpan(e,t){var n;const r=this._getConfig(),o=this.tracer.startSpan(i.SpanNames.EXECUTE,{});if(e){const{operation:t,name:n}=e;o.setAttribute(s.AttributeNames.OPERATION_TYPE,t);const r=null==n?void 0:n.value;r?(o.setAttribute(s.AttributeNames.OPERATION_NAME,r),o.updateName(`${t} ${r}`)):o.updateName(t)}else{let e=" ";t.operationName&&(e=` "${t.operationName}" `),e=c.OPERATION_NOT_SUPPORTED.replace("$operationName$",e),o.setAttribute(s.AttributeNames.OPERATION_NAME,e)}return(null===(n=t.document)||void 0===n?void 0:n.loc)&&(0,u.addSpanSource)(o,t.document.loc,r.allowValues),t.variableValues&&r.allowValues&&(0,u.addInputVariableAttributes)(o,t.variableValues),o}_wrapExecuteArgs(e,t,n,r,o,i,s,c,l){if(r||(r={}),r[a.OTEL_GRAPHQL_DATA_SYMBOL]||this._getConfig().ignoreResolveSpans)return{schema:e,document:t,rootValue:n,contextValue:r,variableValues:o,operationName:i,fieldResolver:s,typeResolver:c};const d=null==s,p=null!=s?s:l;return s=(0,u.wrapFieldResolver)(this.tracer,this._getConfig.bind(this),p,d),e&&((0,u.wrapFields)(e.getQueryType(),this.tracer,this._getConfig.bind(this)),(0,u.wrapFields)(e.getMutationType(),this.tracer,this._getConfig.bind(this))),{schema:e,document:t,rootValue:n,contextValue:r,variableValues:o,operationName:i,fieldResolver:s,typeResolver:c}}}t.GraphQLInstrumentation=h},19712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATION_NOT_SUPPORTED=void 0,n(89967),t.OPERATION_NOT_SUPPORTED="Operation$operationName$not supported"},89967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OTEL_GRAPHQL_DATA_SYMBOL=t.OTEL_PATCHED_SYMBOL=void 0,t.OTEL_PATCHED_SYMBOL=Symbol.for("opentelemetry.patched"),t.OTEL_GRAPHQL_DATA_SYMBOL=Symbol.for("opentelemetry.graphql_data")},40172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapFieldResolver=t.wrapFields=t.getSourceFromLocation=t.getOperation=t.endSpan=t.addSpanSource=t.addInputVariableAttributes=t.isPromise=void 0;const r=n(74681),o=n(81708),i=n(64442),s=n(89967),a=Object.values(o.AllowedOperationTypes);t.isPromise=e=>"function"==typeof(null==e?void 0:e.then);function c(e,t,n){Array.isArray(n)?n.forEach(((n,r)=>{c(e,`${t}.${r}`,n)})):n instanceof Object?Object.entries(n).forEach((([n,r])=>{c(e,`${t}.${n}`,r)})):e.setAttribute(`${i.AttributeNames.VARIABLES}${String(t)}`,n)}function u(e,t,n,r,o){const s=g(t,n,r,o);e.setAttribute(i.AttributeNames.SOURCE,s)}function l(e,t,n,a,c,l){var d,p;const h={[i.AttributeNames.FIELD_NAME]:a.fieldName,[i.AttributeNames.FIELD_PATH]:c.join("."),[i.AttributeNames.FIELD_TYPE]:a.returnType.toString()},f=e.startSpan(`${o.SpanNames.RESOLVE} ${h[i.AttributeNames.FIELD_PATH]}`,{attributes:h},l?r.trace.setSpan(r.context.active(),l):void 0),m=n[s.OTEL_GRAPHQL_DATA_SYMBOL].source,g=a.fieldNodes.find((e=>"Field"===e.kind));return g&&u(f,m.loc,t().allowValues,null===(d=g.loc)||void 0===d?void 0:d.start,null===(p=g.loc)||void 0===p?void 0:p.end),f}function d(e,t){return e[s.OTEL_GRAPHQL_DATA_SYMBOL].fields[t.join(".")]}function p(e,t){for(let n=t.length-1;n>0;n--){const r=d(e,t.slice(0,n));if(r)return r}return{span:e[s.OTEL_GRAPHQL_DATA_SYMBOL].span}}function h(e){return f(" ",e)}function f(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}t.addInputVariableAttributes=function(e,t){Object.entries(t).forEach((([t,n])=>{c(e,t,n)}))},t.addSpanSource=u,t.endSpan=function(e,t){t&&e.recordException(t),e.end()},t.getOperation=function(e,t){if(e&&Array.isArray(e.definitions))return t?e.definitions.filter((e=>{var t;return-1!==a.indexOf(null===(t=e)||void 0===t?void 0:t.operation)})).find((e=>{var n,r;return t===(null===(r=null===(n=e)||void 0===n?void 0:n.name)||void 0===r?void 0:r.value)})):e.definitions.find((e=>{var t;return-1!==a.indexOf(null===(t=e)||void 0===t?void 0:t.operation)}))};const m=[o.TokenKind.FLOAT,o.TokenKind.STRING,o.TokenKind.INT,o.TokenKind.BLOCK_STRING];function g(e,t=!1,n,r){var i,s;let a="";if(null==e?void 0:e.startToken){const c="number"==typeof n?n:e.start,u="number"==typeof r?r:e.end;let l=e.startToken.next,d=1;for(;l;){if(l.start<c){l=l.next,d=null==l?void 0:l.line;continue}if(l.end>u){l=l.next,d=null==l?void 0:l.line;continue}let e=l.value||l.kind,n="";!t&&m.indexOf(l.kind)>=0&&(e="*"),l.kind===o.TokenKind.STRING&&(e=`"${e}"`),l.kind===o.TokenKind.EOF&&(e=""),l.line>d?(a+=f("\n",l.line-d),d=l.line,n=h(l.column-1)):l.line===(null===(i=l.prev)||void 0===i?void 0:i.line)&&(n=h(l.start-((null===(s=l.prev)||void 0===s?void 0:s.end)||0))),a+=n+e,l&&(l=l.next)}}return a}t.getSourceFromLocation=g,t.wrapFields=function e(t,n,r){if(!t||"function"!=typeof t.getFields||t[s.OTEL_PATCHED_SYMBOL])return;const o=t.getFields();t[s.OTEL_PATCHED_SYMBOL]=!0,Object.keys(o).forEach((t=>{const i=o[t];if(i&&(i.resolve&&(i.resolve=S(n,r,i.resolve)),i.type)){let t=i.type;for(;t.ofType;)t=t.ofType;e(t,n,r)}}))};const _=(e,t,n)=>{n&&(e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message}),e.end())},b=(e,t)=>{t&&e.end()};function S(e,n,o,i=!1){if(a[s.OTEL_PATCHED_SYMBOL]||"function"!=typeof o)return o;function a(a,c,u,h){if(!o)return;const f=n();if(f.ignoreTrivialResolveSpans&&i&&("object"==typeof(m=a)&&null!==m||"function"==typeof a)&&"function"!=typeof a[h.fieldName])return o.call(this,a,c,u,h);var m;if(!u[s.OTEL_GRAPHQL_DATA_SYMBOL])return o.call(this,a,c,u,h);const g=function(e,t){const n=[];let r=t;for(;r;){let t=r.key;e&&"number"==typeof t&&(t="*"),n.push(String(t)),r=r.prev}return n.reverse()}(f.mergeItems,h&&h.path),S=g.filter((e=>"string"==typeof e)).length;let y,E=!1;if(f.depth>=0&&f.depth<S)y=p(u,g);else{const t=function(e,t,n,r,o){let i=d(n,o),a=!1;if(!i){a=!0;const c=p(n,o);i={parent:c,span:l(e,t,n,r,o,c.span),error:null},function(e,t,n){e[s.OTEL_GRAPHQL_DATA_SYMBOL].fields[t.join(".")]=n}(n,o,i)}return{spanAdded:a,field:i}}(e,n,u,h,g);y=t.field,E=t.spanAdded}return r.context.with(r.trace.setSpan(r.context.active(),y.span),(()=>{try{const e=o.call(this,a,c,u,h);return(0,t.isPromise)(e)?e.then((e=>(b(y.span,E),e)),(e=>{throw _(y.span,e,E),e})):(b(y.span,E),e)}catch(e){throw _(y.span,e,E),e}}))}return a[s.OTEL_PATCHED_SYMBOL]=!0,a}t.wrapFieldResolver=S},55837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-graphql"},54365:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).HAPI_TYPE="hapi.type",n.PLUGIN_NAME="hapi.plugin.name",n.EXT_TYPE="server.ext.type"},87496:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(92158),t),o(n(54365),t)},92158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HapiInstrumentation=void 0;const r=n(74681),o=n(72477),i=n(25907),s=n(980),a=n(25987),c=n(71281);class u extends i.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){return new i.InstrumentationNodeModuleDefinition(a.HapiComponentName,[">=17.0.0 <22"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return(0,i.isWrapped)(t.server)||this._wrap(t,"server",this._getServerPatch.bind(this)),(0,i.isWrapped)(t.Server)||this._wrap(t,"Server",this._getServerPatch.bind(this)),t}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;this._massUnwrap([t],["server","Server"])}))}_getServerPatch(e){const t=this,n=this;return function(r){const o=e.apply(this,[r]);return n._wrap(o,"route",(e=>t._getServerRoutePatch.bind(t)(e))),n._wrap(o,"ext",(e=>t._getServerExtPatch.bind(t)(e))),n._wrap(o,"register",t._getServerRegisterPatch.bind(t)),o}}_getServerRegisterPatch(e){const t=this;return function(n,r){if(Array.isArray(n))for(const e of n){const n=(0,c.getPluginFromInput)(e);t._wrapRegisterHandler(n)}else{const e=(0,c.getPluginFromInput)(n);t._wrapRegisterHandler(e)}return e.apply(this,[n,r])}}_getServerExtPatch(e,t){const n=this;return function(...r){if(Array.isArray(r[0])){const o=r[0];for(let e=0;e<o.length;e++){const r=o[e];if((0,c.isLifecycleExtType)(r.type)){const i=r,s=n._wrapExtMethods(i.method,r.type,t);i.method=s,o[e]=i}}return e.apply(this,r)}if((0,c.isDirectExtInput)(r)){const o=r,i=o[1],s=n._wrapExtMethods(i,o[0],t);return e.apply(this,[o[0],s,o[2]])}if((0,c.isLifecycleExtEventObj)(r[0])){const o=r[0],i=n._wrapExtMethods(o.method,o.type,t);return o.method=i,e.call(this,o)}return e.apply(this,r)}}_getServerRoutePatch(e,t){const n=this;return function(r){if(Array.isArray(r))for(let e=0;e<r.length;e++){const o=n._wrapRouteHandler.call(n,r[e],t);r[e]=o}else r=n._wrapRouteHandler.call(n,r,t);return e.apply(this,[r])}}_wrapRegisterHandler(e){const t=this,n=(0,c.getPluginName)(e),r=e.register,o=this;e.register=function(e,i){return o._wrap(e,"route",(e=>t._getServerRoutePatch.bind(t)(e,n))),o._wrap(e,"ext",(e=>t._getServerExtPatch.bind(t)(e,n))),r(e,i)}}_wrapExtMethods(e,t,n){const o=this;if(e instanceof Array){for(let n=0;n<e.length;n++)e[n]=o._wrapExtMethods(e[n],t);return e}return(0,c.isPatchableExtMethod)(e)?!0===e[a.handlerPatched]?e:(e[a.handlerPatched]=!0,async function(...i){if(void 0===r.trace.getSpan(r.context.active()))return await e.apply(this,i);const s=(0,c.getExtMetadata)(t,n),a=o.tracer.startSpan(s.name,{attributes:s.attributes});try{return await r.context.with(r.trace.setSpan(r.context.active(),a),e,void 0,...i)}catch(e){throw a.recordException(e),a.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),e}finally{a.end()}}):e}_wrapRouteHandler(e,t){var n;const i=this;if(!0===e[a.handlerPatched])return e;e[a.handlerPatched]=!0;const s=n=>async function(...s){if(void 0===r.trace.getSpan(r.context.active()))return await n.call(this,...s);const a=(0,o.getRPCMetadata)(r.context.active());(null==a?void 0:a.type)===o.RPCType.HTTP&&(a.route=e.path);const u=(0,c.getRouteMetadata)(e,t),l=i.tracer.startSpan(u.name,{attributes:u.attributes});try{return await r.context.with(r.trace.setSpan(r.context.active(),l),(()=>n.call(this,...s)))}catch(e){throw l.recordException(e),l.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),e}finally{l.end()}};if("function"==typeof e.handler)e.handler=s(e.handler);else if("function"==typeof e.options){const t=e.options;e.options=function(e){const n=t(e);return"function"==typeof n.handler&&(n.handler=s(n.handler)),n}}else"function"==typeof(null===(n=e.options)||void 0===n?void 0:n.handler)&&(e.options.handler=s(e.options.handler));return e}}t.HapiInstrumentation=u},25987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HapiLifecycleMethodNames=t.HapiLayerType=t.handlerPatched=t.HapiComponentName=void 0,t.HapiComponentName="@hapi/hapi",t.handlerPatched=Symbol("hapi-handler-patched"),t.HapiLayerType={ROUTER:"router",PLUGIN:"plugin",EXT:"server.ext"},t.HapiLifecycleMethodNames=new Set(["onPreAuth","onCredentials","onPostAuth","onPreHandler","onPostHandler","onPreResponse","onRequest"])},71281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginFromInput=t.getExtMetadata=t.getRouteMetadata=t.isPatchableExtMethod=t.isDirectExtInput=t.isLifecycleExtEventObj=t.isLifecycleExtType=t.getPluginName=void 0;const r=n(74813),o=n(25987),i=n(54365);t.getPluginName=function(e){return e.name?e.name:e.pkg.name},t.isLifecycleExtType=e=>"string"==typeof e&&o.HapiLifecycleMethodNames.has(e),t.isLifecycleExtEventObj=e=>{var n;const r=null===(n=e)||void 0===n?void 0:n.type;return void 0!==r&&(0,t.isLifecycleExtType)(r)},t.isDirectExtInput=e=>Array.isArray(e)&&e.length<=3&&(0,t.isLifecycleExtType)(e[0])&&"function"==typeof e[1],t.isPatchableExtMethod=e=>!Array.isArray(e),t.getRouteMetadata=(e,t)=>t?{attributes:{[r.SEMATTRS_HTTP_ROUTE]:e.path,[r.SEMATTRS_HTTP_METHOD]:e.method,[i.AttributeNames.HAPI_TYPE]:o.HapiLayerType.PLUGIN,[i.AttributeNames.PLUGIN_NAME]:t},name:`${t}: route - ${e.path}`}:{attributes:{[r.SEMATTRS_HTTP_ROUTE]:e.path,[r.SEMATTRS_HTTP_METHOD]:e.method,[i.AttributeNames.HAPI_TYPE]:o.HapiLayerType.ROUTER},name:`route - ${e.path}`},t.getExtMetadata=(e,t)=>t?{attributes:{[i.AttributeNames.EXT_TYPE]:e,[i.AttributeNames.HAPI_TYPE]:o.HapiLayerType.EXT,[i.AttributeNames.PLUGIN_NAME]:t},name:`${t}: ext - ${e}`}:{attributes:{[i.AttributeNames.EXT_TYPE]:e,[i.AttributeNames.HAPI_TYPE]:o.HapiLayerType.EXT},name:`ext - ${e}`},t.getPluginFromInput=e=>"plugin"in e?"plugin"in e.plugin?e.plugin.plugin:e.plugin:e},980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-hapi"},79693:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).HTTP_ERROR_NAME="http.error_name",n.HTTP_ERROR_MESSAGE="http.error_message",n.HTTP_STATUS_TEXT="http.status_text"},3614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpInstrumentation=void 0;const r=n(74681),o=n(72477),i=n(99589),s=n(87016),a=n(36737),c=n(26308),u=n(25907),l=n(72477),d=n(24434),p=n(74813);class h extends u.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-http",c.VERSION,e),this._spanNotEnded=new WeakSet,this._headerCapture=this._createHeaderCapture()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:r.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:r.ValueType.DOUBLE})}setConfig(e={}){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new u.InstrumentationNodeModuleDefinition("http",["*"],(e=>(this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http")),this._wrap(e,"get",this._getPatchOutgoingGetFunction(e.request)),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e)),(e=>{void 0!==e&&(this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))}))}_getHttpsInstrumentation(){return new u.InstrumentationNodeModuleDefinition("https",["*"],(e=>(this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https")),this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(e.request)),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e)),(e=>{void 0!==e&&(this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))}))}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(t,...n){const r=e(t,...n);return r.end(),r}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{const n=this;return function(r,...o){var i;return"https"===e&&"object"==typeof r&&"URL"!==(null===(i=null==r?void 0:r.constructor)||void 0===i?void 0:i.name)&&(r=Object.assign({},r),n._setDefaultOptions(r)),n._getPatchOutgoingRequestFunction(e)(t)(r,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{const n=this;return function(r,...o){return n._getPatchOutgoingGetFunction(e)(t)(r,...o)}}}_traceClientRequest(e,t,n,o){this.getConfig().requestHook&&this._callRequestHook(t,e);let s=!1;return e.prependListener("response",(c=>{this._diag.debug("outgoingRequest on response()"),e.listenerCount("response")<=1&&c.resume();const l=a.getOutgoingRequestAttributesOnResponse(c);t.setAttributes(l),o=Object.assign(o,a.getOutgoingRequestMetricAttributesOnResponse(l)),this.getConfig().responseHook&&this._callResponseHook(t,c),this._headerCapture.client.captureRequestHeaders(t,(t=>e.getHeader(t))),this._headerCapture.client.captureResponseHeaders(t,(e=>c.headers[e])),r.context.bind(r.context.active(),c);const p=()=>{if(this._diag.debug("outgoingRequest on end()"),s)return;let i;s=!0,i=c.aborted&&!c.complete?{code:r.SpanStatusCode.ERROR}:{code:a.parseResponseStatus(r.SpanKind.CLIENT,c.statusCode)},t.setStatus(i),this.getConfig().applyCustomAttributesOnSpan&&(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().applyCustomAttributesOnSpan(t,e,c)),(()=>{}),!0),this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o)};c.on("end",p),i.lt(process.version,"16.0.0")&&c.on("close",p),c.on(d.errorMonitor,(e=>{this._diag.debug("outgoingRequest on error()",e),s||(s=!0,a.setSpanWithError(t,e),t.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o))}))})),e.on("close",(()=>{this._diag.debug("outgoingRequest on request close()"),e.aborted||s||(s=!0,this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o))})),e.on(d.errorMonitor,(e=>{this._diag.debug("outgoingRequest on request error()",e),s||(s=!0,a.setSpanWithError(t,e),this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o))})),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){const n=this;return function(i,...c){if("request"!==i)return t.apply(this,[i,...c]);const p=c[0],h=c[1],f=p.url&&s.parse(p.url).pathname||"/",m=p.method||"GET";if(n._diag.debug(`${e} instrumentation incomingRequest`),a.isIgnored(f,n.getConfig().ignoreIncomingPaths,(e=>n._diag.error("caught ignoreIncomingPaths error: ",e)))||(0,u.safeExecuteInTheMiddle)((()=>{var e,t;return null===(t=(e=n.getConfig()).ignoreIncomingRequestHook)||void 0===t?void 0:t.call(e,p)}),(e=>{null!=e&&n._diag.error("caught ignoreIncomingRequestHook error: ",e)}),!0))return r.context.with((0,o.suppressTracing)(r.context.active()),(()=>(r.context.bind(r.context.active(),p),r.context.bind(r.context.active(),h),t.apply(this,[i,...c]))));const g=p.headers,_=a.getIncomingRequestAttributes(p,{component:e,serverName:n.getConfig().serverName,hookAttributes:n._callStartSpanHook(p,n.getConfig().startIncomingSpanHook)}),b={kind:r.SpanKind.SERVER,attributes:_},S=(0,o.hrTime)(),y=a.getIncomingRequestMetricAttributes(_),E=r.propagation.extract(r.ROOT_CONTEXT,g),T=n._startHttpSpan(m,b,E),v={type:l.RPCType.HTTP,span:T};return r.context.with((0,l.setRPCMetadata)(r.trace.setSpan(E,T),v),(()=>{r.context.bind(r.context.active(),p),r.context.bind(r.context.active(),h),n.getConfig().requestHook&&n._callRequestHook(T,p),n.getConfig().responseHook&&n._callResponseHook(T,h),n._headerCapture.server.captureRequestHeaders(T,(e=>p.headers[e]));let e=!1;return h.on("close",(()=>{e||n._onServerResponseFinish(p,h,T,y,S)})),h.on(d.errorMonitor,(t=>{e=!0,n._onServerResponseError(T,y,S,t)})),(0,u.safeExecuteInTheMiddle)((()=>t.apply(this,[i,...c])),(e=>{if(e)throw a.setSpanWithError(T,e),n._closeHttpSpan(T,r.SpanKind.SERVER,S,y),e}))}))}}_outgoingRequestFunction(e,t){const n=this;return function(c,...l){if(!a.isValidOptionsType(c))return t.apply(this,[c,...l]);const d="object"==typeof l[0]&&("string"==typeof c||c instanceof s.URL)?l.shift():void 0,{origin:p,pathname:h,method:f,optionsParsed:m}=a.getRequestInfo(c,d);if("http"===e&&i.lt(process.version,"9.0.0")&&"https:"===m.protocol)return t.apply(this,[m,...l]);if(a.isIgnored(p+h,n.getConfig().ignoreOutgoingUrls,(e=>n._diag.error("caught ignoreOutgoingUrls error: ",e)))||(0,u.safeExecuteInTheMiddle)((()=>{var e,t;return null===(t=(e=n.getConfig()).ignoreOutgoingRequestHook)||void 0===t?void 0:t.call(e,m)}),(e=>{null!=e&&n._diag.error("caught ignoreOutgoingRequestHook error: ",e)}),!0))return t.apply(this,[m,...l]);const{hostname:g,port:_}=a.extractHostnameAndPort(m),b=a.getOutgoingRequestAttributes(m,{component:e,port:_,hostname:g,hookAttributes:n._callStartSpanHook(m,n.getConfig().startOutgoingSpanHook)}),S=(0,o.hrTime)(),y=a.getOutgoingRequestMetricAttributes(b),E={kind:r.SpanKind.CLIENT,attributes:b},T=n._startHttpSpan(f,E),v=r.context.active(),I=r.trace.setSpan(v,T);return m.headers?m.headers=Object.assign({},m.headers):m.headers={},r.propagation.inject(I,m.headers),r.context.with(I,(()=>{const o=l[l.length-1];"function"==typeof o&&(l[l.length-1]=r.context.bind(v,o));const i=(0,u.safeExecuteInTheMiddle)((()=>t.apply(this,[m,...l])),(e=>{if(e)throw a.setSpanWithError(T,e),n._closeHttpSpan(T,r.SpanKind.CLIENT,S,y),e}));return n._diag.debug(`${e} instrumentation outgoingRequest`),r.context.bind(v,i),n._traceClientRequest(i,T,S,y)}))}}_onServerResponseFinish(e,t,n,o,i){const s=a.getIncomingRequestAttributesOnResponse(e,t);o=Object.assign(o,a.getIncomingRequestMetricAttributesOnResponse(s)),this._headerCapture.server.captureResponseHeaders(n,(e=>t.getHeader(e))),n.setAttributes(s).setStatus({code:a.parseResponseStatus(r.SpanKind.SERVER,t.statusCode)});const c=s[p.SEMATTRS_HTTP_ROUTE];c&&n.updateName(`${e.method||"GET"} ${c}`),this.getConfig().applyCustomAttributesOnSpan&&(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().applyCustomAttributesOnSpan(n,e,t)),(()=>{}),!0),this._closeHttpSpan(n,r.SpanKind.SERVER,i,o)}_onServerResponseError(e,t,n,o){a.setSpanWithError(e,o),this._closeHttpSpan(e,r.SpanKind.SERVER,n,t)}_startHttpSpan(e,t,n=r.context.active()){const o=t.kind===r.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans;let i;const s=r.trace.getSpan(n);return i=!0===o&&void 0===s?r.trace.wrapSpanContext(r.INVALID_SPAN_CONTEXT):!0===o&&(null==s?void 0:s.spanContext().isRemote)?s:this.tracer.startSpan(e,t,n),this._spanNotEnded.add(i),i}_closeHttpSpan(e,t,n,i){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);const s=(0,o.hrTimeToMilliseconds)((0,o.hrTimeDuration)(n,(0,o.hrTime)()));t===r.SpanKind.SERVER?this._httpServerDurationHistogram.record(s,i):t===r.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(s,i)}_callResponseHook(e,t){(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().responseHook(e,t)),(()=>{}),!0)}_callRequestHook(e,t){(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().requestHook(e,t)),(()=>{}),!0)}_callStartSpanHook(e,t){if("function"==typeof t)return(0,u.safeExecuteInTheMiddle)((()=>t(e)),(()=>{}),!0)}_createHeaderCapture(){var e,t,n,r,o,i,s,c,u,l,d,p;const h=this.getConfig();return{client:{captureRequestHeaders:a.headerCapture("request",null!==(n=null===(t=null===(e=h.headersToSpanAttributes)||void 0===e?void 0:e.client)||void 0===t?void 0:t.requestHeaders)&&void 0!==n?n:[]),captureResponseHeaders:a.headerCapture("response",null!==(i=null===(o=null===(r=h.headersToSpanAttributes)||void 0===r?void 0:r.client)||void 0===o?void 0:o.responseHeaders)&&void 0!==i?i:[])},server:{captureRequestHeaders:a.headerCapture("request",null!==(u=null===(c=null===(s=h.headersToSpanAttributes)||void 0===s?void 0:s.server)||void 0===c?void 0:c.requestHeaders)&&void 0!==u?u:[]),captureResponseHeaders:a.headerCapture("response",null!==(p=null===(d=null===(l=h.headersToSpanAttributes)||void 0===l?void 0:l.server)||void 0===d?void 0:d.responseHeaders)&&void 0!==p?p:[])}}}}t.HttpInstrumentation=h},86520:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3614),t),o(n(47421),t),o(n(36737),t)},47421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCapture=t.getIncomingRequestMetricAttributesOnResponse=t.getIncomingRequestAttributesOnResponse=t.getIncomingRequestMetricAttributes=t.getIncomingRequestAttributes=t.getOutgoingRequestMetricAttributesOnResponse=t.getOutgoingRequestAttributesOnResponse=t.setAttributesFromHttpKind=t.getOutgoingRequestMetricAttributes=t.getOutgoingRequestAttributes=t.extractHostnameAndPort=t.isValidOptionsType=t.getRequestInfo=t.isCompressed=t.setResponseContentLengthAttribute=t.setRequestContentLengthAttribute=t.setSpanWithError=t.isIgnored=t.satisfiesPattern=t.parseResponseStatus=t.getAbsoluteUrl=void 0;const r=n(74681),o=n(74813),i=n(72477),s=n(87016),a=n(79693);function c(e){const t=e["content-length"];if(void 0===t)return null;const n=parseInt(t,10);return isNaN(n)?null:n}t.getAbsoluteUrl=(e,t,n="http:")=>{const r=e||{},o=r.protocol||n,i=(r.port||"").toString(),s=r.path||"/";let a=r.host||r.hostname||t.host||"localhost";return-1===a.indexOf(":")&&i&&"80"!==i&&"443"!==i&&(a+=`:${i}`),`${o}//${a}${s}`},t.parseResponseStatus=(e,t)=>{const n=e===r.SpanKind.CLIENT?400:500;return t&&t>=100&&t<n?r.SpanStatusCode.UNSET:r.SpanStatusCode.ERROR},t.satisfiesPattern=(e,t)=>{if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);throw new TypeError("Pattern is in unsupported datatype")},t.isIgnored=(e,n,r)=>{if(!n)return!1;try{for(const r of n)if((0,t.satisfiesPattern)(e,r))return!0}catch(e){r&&r(e)}return!1},t.setSpanWithError=(e,t)=>{const n=t.message;e.setAttribute(a.AttributeNames.HTTP_ERROR_NAME,t.name),e.setAttribute(a.AttributeNames.HTTP_ERROR_MESSAGE,n),e.setStatus({code:r.SpanStatusCode.ERROR,message:n}),e.recordException(t)},t.setRequestContentLengthAttribute=(e,n)=>{const r=c(e.headers);null!==r&&((0,t.isCompressed)(e.headers)?n[o.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH]=r:n[o.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=r)},t.setResponseContentLengthAttribute=(e,n)=>{const r=c(e.headers);null!==r&&((0,t.isCompressed)(e.headers)?n[o.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH]=r:n[o.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=r)},t.isCompressed=e=>{const t=e["content-encoding"];return!!t&&"identity"!==t},t.getRequestInfo=(e,t)=>{let n,r="/",o="";if("string"==typeof e)n=s.parse(e),r=n.pathname||"/",o=`${n.protocol||"http:"}//${n.host}`,void 0!==t&&Object.assign(n,t);else if(e instanceof s.URL)n={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,path:`${e.pathname||""}${e.search||""}`},""!==e.port&&(n.port=Number(e.port)),(e.username||e.password)&&(n.auth=`${e.username}:${e.password}`),r=e.pathname,o=e.origin,void 0!==t&&Object.assign(n,t);else{n=Object.assign({protocol:e.host?"http:":void 0},e),r=e.pathname,!r&&n.path&&(r=s.parse(n.path).pathname||"/");const t=n.host||(null!=n.port?`${n.hostname}${n.port}`:n.hostname);o=`${n.protocol||"http:"}//${t}`}return{origin:o,pathname:r,method:n.method?n.method.toUpperCase():"GET",optionsParsed:n}},t.isValidOptionsType=e=>{if(!e)return!1;const t=typeof e;return"string"===t||"object"===t&&!Array.isArray(e)},t.extractHostnameAndPort=e=>{var t;if(e.hostname&&e.port)return{hostname:e.hostname,port:e.port};const n=(null===(t=e.host)||void 0===t?void 0:t.match(/^([^:/ ]+)(:\d{1,5})?/))||null,r=e.hostname||(null===n?"localhost":n[1]);let o=e.port;return o||(o=n&&n[2]?n[2].substring(1):"https:"===e.protocol?"443":"80"),{hostname:r,port:o}},t.getOutgoingRequestAttributes=(e,n)=>{var r;const i=n.hostname,s=n.port,a=e.method,c=a?a.toUpperCase():"GET",u=e.headers||{},l=u["user-agent"],d={[o.SEMATTRS_HTTP_URL]:(0,t.getAbsoluteUrl)(e,u,`${n.component}:`),[o.SEMATTRS_HTTP_METHOD]:c,[o.SEMATTRS_HTTP_TARGET]:e.path||"/",[o.SEMATTRS_NET_PEER_NAME]:i,[o.SEMATTRS_HTTP_HOST]:null!==(r=u.host)&&void 0!==r?r:`${i}:${s}`};return void 0!==l&&(d[o.SEMATTRS_HTTP_USER_AGENT]=l),Object.assign(d,n.hookAttributes)},t.getOutgoingRequestMetricAttributes=e=>{const t={};return t[o.SEMATTRS_HTTP_METHOD]=e[o.SEMATTRS_HTTP_METHOD],t[o.SEMATTRS_NET_PEER_NAME]=e[o.SEMATTRS_NET_PEER_NAME],t},t.setAttributesFromHttpKind=(e,t)=>{e&&(t[o.SEMATTRS_HTTP_FLAVOR]=e,"QUIC"!==e.toUpperCase()?t[o.SEMATTRS_NET_TRANSPORT]=o.NETTRANSPORTVALUES_IP_TCP:t[o.SEMATTRS_NET_TRANSPORT]=o.NETTRANSPORTVALUES_IP_UDP)},t.getOutgoingRequestAttributesOnResponse=e=>{const{statusCode:n,statusMessage:r,httpVersion:i,socket:s}=e,c={};if(s){const{remoteAddress:e,remotePort:t}=s;c[o.SEMATTRS_NET_PEER_IP]=e,c[o.SEMATTRS_NET_PEER_PORT]=t}return(0,t.setResponseContentLengthAttribute)(e,c),n&&(c[o.SEMATTRS_HTTP_STATUS_CODE]=n,c[a.AttributeNames.HTTP_STATUS_TEXT]=(r||"").toUpperCase()),(0,t.setAttributesFromHttpKind)(i,c),c},t.getOutgoingRequestMetricAttributesOnResponse=e=>{const t={};return t[o.SEMATTRS_NET_PEER_PORT]=e[o.SEMATTRS_NET_PEER_PORT],t[o.SEMATTRS_HTTP_STATUS_CODE]=e[o.SEMATTRS_HTTP_STATUS_CODE],t[o.SEMATTRS_HTTP_FLAVOR]=e[o.SEMATTRS_HTTP_FLAVOR],t},t.getIncomingRequestAttributes=(e,n)=>{const r=e.headers,i=r["user-agent"],a=r["x-forwarded-for"],c=e.method||"GET",u=e.httpVersion,l=e.url?s.parse(e.url):null,d=(null==l?void 0:l.host)||r.host,p=(null==l?void 0:l.hostname)||(null==d?void 0:d.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",h=n.serverName,f={[o.SEMATTRS_HTTP_URL]:(0,t.getAbsoluteUrl)(l,r,`${n.component}:`),[o.SEMATTRS_HTTP_HOST]:d,[o.SEMATTRS_NET_HOST_NAME]:p,[o.SEMATTRS_HTTP_METHOD]:c,[o.SEMATTRS_HTTP_SCHEME]:n.component};return"string"==typeof a&&(f[o.SEMATTRS_HTTP_CLIENT_IP]=a.split(",")[0]),"string"==typeof h&&(f[o.SEMATTRS_HTTP_SERVER_NAME]=h),l&&(f[o.SEMATTRS_HTTP_TARGET]=l.path||"/"),void 0!==i&&(f[o.SEMATTRS_HTTP_USER_AGENT]=i),(0,t.setRequestContentLengthAttribute)(e,f),(0,t.setAttributesFromHttpKind)(u,f),Object.assign(f,n.hookAttributes)},t.getIncomingRequestMetricAttributes=e=>{const t={};return t[o.SEMATTRS_HTTP_SCHEME]=e[o.SEMATTRS_HTTP_SCHEME],t[o.SEMATTRS_HTTP_METHOD]=e[o.SEMATTRS_HTTP_METHOD],t[o.SEMATTRS_NET_HOST_NAME]=e[o.SEMATTRS_NET_HOST_NAME],t[o.SEMATTRS_HTTP_FLAVOR]=e[o.SEMATTRS_HTTP_FLAVOR],t},t.getIncomingRequestAttributesOnResponse=(e,t)=>{const{socket:n}=e,{statusCode:s,statusMessage:c}=t,u=(0,i.getRPCMetadata)(r.context.active()),l={};if(n){const{localAddress:e,localPort:t,remoteAddress:r,remotePort:i}=n;l[o.SEMATTRS_NET_HOST_IP]=e,l[o.SEMATTRS_NET_HOST_PORT]=t,l[o.SEMATTRS_NET_PEER_IP]=r,l[o.SEMATTRS_NET_PEER_PORT]=i}return l[o.SEMATTRS_HTTP_STATUS_CODE]=s,l[a.AttributeNames.HTTP_STATUS_TEXT]=(c||"").toUpperCase(),(null==u?void 0:u.type)===i.RPCType.HTTP&&void 0!==u.route&&(l[o.SEMATTRS_HTTP_ROUTE]=u.route),l},t.getIncomingRequestMetricAttributesOnResponse=e=>{const t={};return t[o.SEMATTRS_HTTP_STATUS_CODE]=e[o.SEMATTRS_HTTP_STATUS_CODE],t[o.SEMATTRS_NET_HOST_PORT]=e[o.SEMATTRS_NET_HOST_PORT],void 0!==e[o.SEMATTRS_HTTP_ROUTE]&&(t[o.SEMATTRS_HTTP_ROUTE]=e[o.SEMATTRS_HTTP_ROUTE]),t},t.headerCapture=function(e,t){const n=new Map;for(let e=0,r=t.length;e<r;e++){const r=t[e].toLowerCase();n.set(r,r.replace(/-/g,"_"))}return(t,r)=>{for(const o of n.keys()){const i=r(o);if(void 0===i)continue;const s=n.get(o),a=`http.${e}.header.${s}`;"string"==typeof i?t.setAttribute(a,[i]):Array.isArray(i)?t.setAttribute(a,i):t.setAttribute(a,[i])}}}},26308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.52.1"},83251:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(15061),t),o(n(82322),t)},15061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IORedisInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(74813),s=n(25907),a=n(91118),c=n(67238),u=n(555),l={requireParentSpan:!0};class d extends o.InstrumentationBase{constructor(e={}){super(u.PACKAGE_NAME,u.PACKAGE_VERSION,Object.assign({},l,e))}init(){return[new o.InstrumentationNodeModuleDefinition("ioredis",[">=2.0.0 <6"],((e,t)=>{const n="Module"===e[Symbol.toStringTag]?e.default:e;return(0,o.isWrapped)(n.prototype.sendCommand)&&this._unwrap(n.prototype,"sendCommand"),this._wrap(n.prototype,"sendCommand",this._patchSendCommand(t)),(0,o.isWrapped)(n.prototype.connect)&&this._unwrap(n.prototype,"connect"),this._wrap(n.prototype,"connect",this._patchConnection()),e}),(e=>{if(void 0===e)return;const t="Module"===e[Symbol.toStringTag]?e.default:e;this._unwrap(t.prototype,"sendCommand"),this._unwrap(t.prototype,"connect")}))]}_patchSendCommand(e){return t=>this._traceSendCommand(t,e)}_patchConnection(){return e=>this._traceConnection(e)}_traceSendCommand(e,t){const n=this;return function(o){if(arguments.length<1||"object"!=typeof o)return e.apply(this,arguments);const u=n.getConfig(),l=(null==u?void 0:u.dbStatementSerializer)||c.defaultDbStatementSerializer,d=void 0===r.trace.getSpan(r.context.active());if(!0===(null==u?void 0:u.requireParentSpan)&&d)return e.apply(this,arguments);const p=n.tracer.startSpan(o.name,{kind:r.SpanKind.CLIENT,attributes:{[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_REDIS,[i.SEMATTRS_DB_STATEMENT]:l(o.name,o.args)}});(null==u?void 0:u.requestHook)&&(0,s.safeExecuteInTheMiddle)((()=>null==u?void 0:u.requestHook(p,{moduleVersion:t,cmdName:o.name,cmdArgs:o.args})),(e=>{e&&r.diag.error("ioredis instrumentation: request hook failed",e)}),!0);const{host:h,port:f}=this.options;p.setAttributes({[i.SEMATTRS_NET_PEER_NAME]:h,[i.SEMATTRS_NET_PEER_PORT]:f,[i.SEMATTRS_DB_CONNECTION_STRING]:`redis://${h}:${f}`});try{const t=e.apply(this,arguments),n=o.resolve;o.resolve=function(e){(0,s.safeExecuteInTheMiddle)((()=>{var t;return null===(t=null==u?void 0:u.responseHook)||void 0===t?void 0:t.call(u,p,o.name,o.args,e)}),(e=>{e&&r.diag.error("ioredis instrumentation: response hook failed",e)}),!0),(0,a.endSpan)(p,null),n(e)};const i=o.reject;return o.reject=function(e){(0,a.endSpan)(p,e),i(e)},t}catch(e){throw(0,a.endSpan)(p,e),e}}}_traceConnection(e){const t=this;return function(){const n=t.getConfig(),o=void 0===r.trace.getSpan(r.context.active());if(!0===(null==n?void 0:n.requireParentSpan)&&o)return e.apply(this,arguments);const s=t.tracer.startSpan("connect",{kind:r.SpanKind.CLIENT,attributes:{[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_REDIS,[i.SEMATTRS_DB_STATEMENT]:"connect"}}),{host:c,port:u}=this.options;s.setAttributes({[i.SEMATTRS_NET_PEER_NAME]:c,[i.SEMATTRS_NET_PEER_PORT]:u,[i.SEMATTRS_DB_CONNECTION_STRING]:`redis://${c}:${u}`});try{const t=e.apply(this,arguments);return(0,a.endSpan)(s,null),t}catch(e){throw(0,a.endSpan)(s,e),e}}}}t.IORedisInstrumentation=d},82322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endSpan=void 0;const r=n(74681);t.endSpan=(e,t)=>{t&&(e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message})),e.end()}},555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-ioredis"},20906:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).KOA_TYPE="koa.type",n.KOA_NAME="koa.name"},45845:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(67651),t),o(n(96252),t),o(n(20906),t)},67651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KoaInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(96252),s=n(39373),a=n(79504),c=n(72477),u=n(73136);class l extends o.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},e)}getConfig(){return this._config}init(){return new o.InstrumentationNodeModuleDefinition("koa",[">=2.0.0 <3"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return null==t?t:((0,o.isWrapped)(t.prototype.use)&&this._unwrap(t.prototype,"use"),this._wrap(t.prototype,"use",this._getKoaUsePatch.bind(this)),e)}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;(0,o.isWrapped)(t.prototype.use)&&this._unwrap(t.prototype,"use")}))}_getKoaUsePatch(e){const t=this;return function(n){let r;return r=n.router?t._patchRouterDispatch(n):t._patchLayer(n,!1),e.apply(this,[r])}}_patchRouterDispatch(e){var t;r.diag.debug("Patching @koa/router dispatch");const n=e.router,o=null!==(t=null==n?void 0:n.stack)&&void 0!==t?t:[];for(const e of o){const t=e.path,n=e.stack;for(let e=0;e<n.length;e++){const r=n[e];n[e]=this._patchLayer(r,!0,t)}}return e}_patchLayer(e,t,n){const s=t?i.KoaLayerType.ROUTER:i.KoaLayerType.MIDDLEWARE;return!0===e[u.kLayerPatched]||(0,a.isLayerIgnored)(s,this.getConfig())?e:"GeneratorFunction"===e.constructor.name||"AsyncGeneratorFunction"===e.constructor.name?(r.diag.debug("ignoring generator-based Koa middleware layer"),e):(e[u.kLayerPatched]=!0,r.diag.debug("patching Koa middleware layer"),async(i,u)=>{if(void 0===r.trace.getSpan(r.context.active()))return e(i,u);const l=(0,a.getMiddlewareMetadata)(i,e,t,n),d=this.tracer.startSpan(l.name,{attributes:l.attributes}),p=(0,c.getRPCMetadata)(r.context.active());(null==p?void 0:p.type)===c.RPCType.HTTP&&i._matchedRoute&&(p.route=i._matchedRoute.toString()),this.getConfig().requestHook&&(0,o.safeExecuteInTheMiddle)((()=>this.getConfig().requestHook(d,{context:i,middlewareLayer:e,layerType:s})),(e=>{e&&r.diag.error("koa instrumentation: request hook failed",e)}),!0);const h=r.trace.setSpan(r.context.active(),d);return r.context.with(h,(async()=>{try{return await e(i,u)}catch(e){throw d.recordException(e),e}finally{d.end()}}))})}}t.KoaInstrumentation=l},73136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kLayerPatched=void 0,t.kLayerPatched=Symbol("koa-layer-patched")},96252:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.KoaLayerType=void 0,(n=t.KoaLayerType||(t.KoaLayerType={})).ROUTER="router",n.MIDDLEWARE="middleware"},79504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLayerIgnored=t.getMiddlewareMetadata=void 0;const r=n(96252),o=n(20906),i=n(74813);t.getMiddlewareMetadata=(e,t,n,s)=>{var a;return n?{attributes:{[o.AttributeNames.KOA_NAME]:null==s?void 0:s.toString(),[o.AttributeNames.KOA_TYPE]:r.KoaLayerType.ROUTER,[i.SEMATTRS_HTTP_ROUTE]:null==s?void 0:s.toString()},name:e._matchedRouteName||`router - ${s}`}:{attributes:{[o.AttributeNames.KOA_NAME]:null!==(a=t.name)&&void 0!==a?a:"middleware",[o.AttributeNames.KOA_TYPE]:r.KoaLayerType.MIDDLEWARE},name:`middleware - ${t.name}`}},t.isLayerIgnored=(e,t)=>{var n;return!(!Array.isArray(null==t?void 0:t.ignoreLayersType)||!(null===(n=null==t?void 0:t.ignoreLayersType)||void 0===n?void 0:n.includes(e)))}},39373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-koa"},71526:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(46656),t),o(n(44667),t)},46656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MongoDBInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(74813),s=n(12761),a=n(28306);class c extends o.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){const{v3PatchConnection:e,v3UnpatchConnection:t}=this._getV3ConnectionPatches(),{v4PatchConnect:n,v4UnpatchConnect:r}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:i,v4PatchConnectionPromise:s,v4UnpatchConnection:a}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:c,v4UnpatchConnectionPool:u}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:l,v4UnpatchSessions:d}=this._getV4SessionsPatches();return[new o.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new o.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],e,t)]),new o.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <7"],void 0,void 0,[new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],i,a),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <7"],s,a),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],c,u),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <7"],n,r),new o.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <7"],l,d)])]}_getV3ConnectionPatches(){return{v3PatchConnection:e=>((0,o.isWrapped)(e.insert)&&this._unwrap(e,"insert"),this._wrap(e,"insert",this._getV3PatchOperation("insert")),(0,o.isWrapped)(e.remove)&&this._unwrap(e,"remove"),this._wrap(e,"remove",this._getV3PatchOperation("remove")),(0,o.isWrapped)(e.update)&&this._unwrap(e,"update"),this._wrap(e,"update",this._getV3PatchOperation("update")),(0,o.isWrapped)(e.command)&&this._unwrap(e,"command"),this._wrap(e,"command",this._getV3PatchCommand()),(0,o.isWrapped)(e.query)&&this._unwrap(e,"query"),this._wrap(e,"query",this._getV3PatchFind()),(0,o.isWrapped)(e.getMore)&&this._unwrap(e,"getMore"),this._wrap(e,"getMore",this._getV3PatchCursor()),e),v3UnpatchConnection:e=>{void 0!==e&&(this._unwrap(e,"insert"),this._unwrap(e,"remove"),this._unwrap(e,"update"),this._unwrap(e,"command"),this._unwrap(e,"query"),this._unwrap(e,"getMore"))}}}_getV4SessionsPatches(){return{v4PatchSessions:e=>((0,o.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),this._wrap(e.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0,o.isWrapped)(e.release)&&this._unwrap(e,"release"),this._wrap(e.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),e),v4UnpatchSessions:e=>{void 0!==e&&((0,o.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),(0,o.isWrapped)(e.release)&&this._unwrap(e,"release"))}}}_getV4AcquireCommand(){const e=this;return t=>function(){const n=this.sessions.length,r=t.call(this),o=this.sessions.length;return n===o?e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName}):n-1===o&&(e._connectionsUsage.add(-1,{state:"idle","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName})),r}}_getV4ReleaseCommand(){const e=this;return t=>function(n){const r=t.call(this,n);return e._connectionsUsage.add(-1,{state:"used","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"idle","pool.name":e._poolName}),r}}_getV4ConnectionPoolPatches(){return{v4PatchConnectionPool:e=>{const t=e.ConnectionPool.prototype;return(0,o.isWrapped)(t.checkOut)&&this._unwrap(t,"checkOut"),this._wrap(t,"checkOut",this._getV4ConnectionPoolCheckOut()),e},v4UnpatchConnectionPool:e=>{void 0!==e&&this._unwrap(e.ConnectionPool.prototype,"checkOut")}}}_getV4ConnectPatches(){return{v4PatchConnect:e=>((0,o.isWrapped)(e.connect)&&this._unwrap(e,"connect"),this._wrap(e,"connect",this._getV4ConnectCommand()),e),v4UnpatchConnect:e=>{void 0!==e&&this._unwrap(e,"connect")}}}_getV4ConnectionPoolCheckOut(){return e=>function(t){const n=r.context.bind(r.context.active(),t);return e.call(this,n)}}_getV4ConnectCommand(){const e=this;return t=>function(n,r){if(1===t.length){const r=t.call(this,n);return r&&"function"==typeof r.then&&r.then((()=>e.setPoolName(n)),(()=>{})),r}return t.call(this,n,(function(t,o){!t&&o?(e.setPoolName(n),r(t,o)):r(t,o)}))}}_getV4ConnectionPatches(){return{v4PatchConnectionCallback:e=>((0,o.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandCallback()),e),v4PatchConnectionPromise:e=>((0,o.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandPromise()),e),v4UnpatchConnection:e=>{void 0!==e&&this._unwrap(e.Connection.prototype,"command")}}}_getV3PatchOperation(e){const t=this;return n=>function(o,i,s,a,c){const u="function"==typeof a?a:c;if(!r.trace.getSpan(r.context.active())||"function"!=typeof u||"object"!=typeof s)return"function"==typeof a?n.call(this,o,i,s,a):n.call(this,o,i,s,a,c);const l=t.tracer.startSpan(`mongodb.${e}`,{kind:r.SpanKind.CLIENT});t._populateV3Attributes(l,i,o,s[0],e);const d=t._patchEnd(l,u);return"function"==typeof a?n.call(this,o,i,s,d):n.call(this,o,i,s,a,d)}}_getV3PatchCommand(){const e=this;return t=>function(n,o,i,a,u){const l="function"==typeof a?a:u;if(!r.trace.getSpan(r.context.active())||"function"!=typeof l||"object"!=typeof i)return"function"==typeof a?t.call(this,n,o,i,a):t.call(this,n,o,i,a,u);const d=c._getCommandType(i),p=d===s.MongodbCommandType.UNKNOWN?"command":d,h=e.tracer.startSpan(`mongodb.${p}`,{kind:r.SpanKind.CLIENT}),f=d===s.MongodbCommandType.UNKNOWN?void 0:d;e._populateV3Attributes(h,o,n,i,f);const m=e._patchEnd(h,l);return"function"==typeof a?t.call(this,n,o,i,m):t.call(this,n,o,i,a,m)}}_getV4PatchCommandCallback(){const e=this;return t=>function(n,o,i,s){const a=r.trace.getSpan(r.context.active()),c=s,u=Object.keys(o)[0];if("function"!=typeof c||"object"!=typeof o||o.ismaster||o.hello)return t.call(this,n,o,i,s);let l;a&&(l=e.tracer.startSpan(`mongodb.${u}`,{kind:r.SpanKind.CLIENT}),e._populateV4Attributes(l,this,n,o,u));const d=e._patchEnd(l,c,this.id,u);return t.call(this,n,o,i,d)}}_getV4PatchCommandPromise(){const e=this;return t=>function(...n){const[o,i]=n,s=r.trace.getSpan(r.context.active()),a=Object.keys(i)[0];if("object"!=typeof i||i.ismaster||i.hello)return t.apply(this,n);let c;s&&(c=e.tracer.startSpan(`mongodb.${a}`,{kind:r.SpanKind.CLIENT}),e._populateV4Attributes(c,this,o,i,a));const u=e._patchEnd(c,(()=>{}),this.id,a),l=t.apply(this,n);return l.then((e=>u(null,e)),(e=>u(e))),l}}_getV3PatchFind(){const e=this;return t=>function(n,o,i,s,a,c){const u="function"==typeof a?a:c;if(!r.trace.getSpan(r.context.active())||"function"!=typeof u||"object"!=typeof i)return"function"==typeof a?t.call(this,n,o,i,s,a):t.call(this,n,o,i,s,a,c);const l=e.tracer.startSpan("mongodb.find",{kind:r.SpanKind.CLIENT});e._populateV3Attributes(l,o,n,i,"find");const d=e._patchEnd(l,u);return"function"==typeof a?t.call(this,n,o,i,s,d):t.call(this,n,o,i,s,a,d)}}_getV3PatchCursor(){const e=this;return t=>function(n,o,i,s,a,c){const u="function"==typeof a?a:c;if(!r.trace.getSpan(r.context.active())||"function"!=typeof u)return"function"==typeof a?t.call(this,n,o,i,s,a):t.call(this,n,o,i,s,a,c);const l=e.tracer.startSpan("mongodb.getMore",{kind:r.SpanKind.CLIENT});e._populateV3Attributes(l,o,n,i.cmd,"getMore");const d=e._patchEnd(l,u);return"function"==typeof a?t.call(this,n,o,i,s,d):t.call(this,n,o,i,s,a,d)}}static _getCommandType(e){return void 0!==e.createIndexes?s.MongodbCommandType.CREATE_INDEXES:void 0!==e.findandmodify?s.MongodbCommandType.FIND_AND_MODIFY:void 0!==e.ismaster?s.MongodbCommandType.IS_MASTER:void 0!==e.count?s.MongodbCommandType.COUNT:void 0!==e.aggregate?s.MongodbCommandType.AGGREGATE:s.MongodbCommandType.UNKNOWN}_populateV4Attributes(e,t,n,r,o){let i,s,a;if(t){const e="string"==typeof t.address?t.address.split(":"):"";2===e.length&&(i=e[0],s=e[1])}a=(null==r?void 0:r.documents)&&r.documents[0]?r.documents[0]:(null==r?void 0:r.cursors)?r.cursors:r,this._addAllSpanAttributes(e,n.db,n.collection,i,s,a,o)}_populateV3Attributes(e,t,n,r,o){var i,s,a,c,u,l,d,p;let h,f;if(n&&n.s&&(h=null!==(s=null===(i=n.s.options)||void 0===i?void 0:i.host)&&void 0!==s?s:n.s.host,f=null===(u=null!==(c=null===(a=n.s.options)||void 0===a?void 0:a.port)&&void 0!==c?c:n.s.port)||void 0===u?void 0:u.toString(),null==h||null==f)){const e=null===(l=n.description)||void 0===l?void 0:l.address;if(e){const t=e.split(":");h=t[0],f=t[1]}}const[m,g]=t.toString().split("."),_=null!==(p=null!==(d=null==r?void 0:r.query)&&void 0!==d?d:null==r?void 0:r.q)&&void 0!==p?p:r;this._addAllSpanAttributes(e,m,g,h,f,_,o)}_addAllSpanAttributes(e,t,n,r,s,a,c){if(e.setAttributes({[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_MONGODB,[i.SEMATTRS_DB_NAME]:t,[i.SEMATTRS_DB_MONGODB_COLLECTION]:n,[i.SEMATTRS_DB_OPERATION]:c,[i.SEMATTRS_DB_CONNECTION_STRING]:`mongodb://${r}:${s}/${t}`}),r&&s){e.setAttribute(i.SEMATTRS_NET_PEER_NAME,r);const t=parseInt(s,10);isNaN(t)||e.setAttribute(i.SEMATTRS_NET_PEER_PORT,t)}if(!a)return;const u="function"==typeof this._config.dbStatementSerializer?this._config.dbStatementSerializer:this._defaultDbStatementSerializer.bind(this);(0,o.safeExecuteInTheMiddle)((()=>{const t=u(a);e.setAttribute(i.SEMATTRS_DB_STATEMENT,t)}),(e=>{e&&this._diag.error("Error running dbStatementSerializer hook",e)}),!0)}_defaultDbStatementSerializer(e){var t;const n=(null===(t=this._config)||void 0===t?void 0:t.enhancedDatabaseReporting)?e:this._scrubStatement(e);return JSON.stringify(n)}_scrubStatement(e){return Array.isArray(e)?e.map((e=>this._scrubStatement(e))):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map((([e,t])=>[e,this._scrubStatement(t)]))):"?"}_handleExecutionResult(e,t){const n=this.getConfig();"function"==typeof n.responseHook&&(0,o.safeExecuteInTheMiddle)((()=>{n.responseHook(e,{data:t})}),(e=>{e&&this._diag.error("Error running response hook",e)}),!0)}_patchEnd(e,t,n,o){const i=r.context.active(),s=this;return function(...n){const a=n[0];if(e){if(a instanceof Error)null==e||e.setStatus({code:r.SpanStatusCode.ERROR,message:a.message});else{const t=n[1];s._handleExecutionResult(e,t)}e.end()}return r.context.with(i,(()=>("endSessions"===o&&s._connectionsUsage.add(-1,{state:"idle","pool.name":s._poolName}),t.apply(this,n))))}}setPoolName(e){var t,n;const r=`mongodb://${null===(t=e.hostAddress)||void 0===t?void 0:t.host}:${null===(n=e.hostAddress)||void 0===n?void 0:n.port}/${e.dbName}`;this._poolName=r}}t.MongoDBInstrumentation=c},12761:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MongodbCommandType=void 0,(n=t.MongodbCommandType||(t.MongodbCommandType={})).CREATE_INDEXES="createIndexes",n.FIND_AND_MODIFY="findAndModify",n.IS_MASTER="isMaster",n.COUNT="count",n.AGGREGATE="aggregate",n.UNKNOWN="unknown"},44667:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MongodbCommandType=void 0,(n=t.MongodbCommandType||(t.MongodbCommandType={})).CREATE_INDEXES="createIndexes",n.FIND_AND_MODIFY="findAndModify",n.IS_MASTER="isMaster",n.COUNT="count",n.UNKNOWN="unknown"},28306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.46.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb"},57125:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(120),t),o(n(30124),t)},120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MongooseInstrumentation=t._STORED_PARENT_SPAN=void 0;const r=n(74681),o=n(72477),i=n(34560),s=n(25907),a=n(59581),c=n(74813),u=["remove","deleteOne","deleteMany","find","findOne","estimatedDocumentCount","countDocuments","count","distinct","where","$where","findOneAndUpdate","findOneAndDelete","findOneAndReplace","findOneAndRemove"];t._STORED_PARENT_SPAN=Symbol("stored-parent-span");class l extends s.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},e)}init(){return new s.InstrumentationNodeModuleDefinition("mongoose",[">=5.9.7 <7"],this.patch.bind(this),this.unpatch.bind(this))}patch(e,t){return this._wrap(e.Model.prototype,"save",this.patchOnModelMethods("save",t)),e.Model.prototype.$save=e.Model.prototype.save,this._wrap(e.Model.prototype,"remove",this.patchOnModelMethods("remove",t)),this._wrap(e.Query.prototype,"exec",this.patchQueryExec(t)),this._wrap(e.Aggregate.prototype,"exec",this.patchAggregateExec(t)),u.forEach((t=>{this._wrap(e.Query.prototype,t,this.patchAndCaptureSpanContext(t))})),this._wrap(e.Model,"aggregate",this.patchModelAggregate()),e}unpatch(e){this._unwrap(e.Model.prototype,"save"),e.Model.prototype.$save=e.Model.prototype.save,this._unwrap(e.Model.prototype,"remove"),this._unwrap(e.Query.prototype,"exec"),this._unwrap(e.Aggregate.prototype,"exec"),u.forEach((t=>{this._unwrap(e.Query.prototype,t)})),this._unwrap(e.Model,"aggregate")}patchAggregateExec(e){const n=this;return o=>function(i){var s;if(n._config.requireParentSpan&&void 0===r.trace.getSpan(r.context.active()))return o.apply(this,arguments);const a=this[t._STORED_PARENT_SPAN],u={};n._config.dbStatementSerializer&&(u[c.SEMATTRS_DB_STATEMENT]=n._config.dbStatementSerializer("aggregate",{options:this.options,aggregatePipeline:this._pipeline}));const l=n._startSpan(this._model.collection,null===(s=this._model)||void 0===s?void 0:s.modelName,"aggregate",u,a);return n._handleResponse(l,o,this,arguments,i,e)}}patchQueryExec(e){const n=this;return o=>function(i){if(n._config.requireParentSpan&&void 0===r.trace.getSpan(r.context.active()))return o.apply(this,arguments);const s=this[t._STORED_PARENT_SPAN],a={};n._config.dbStatementSerializer&&(a[c.SEMATTRS_DB_STATEMENT]=n._config.dbStatementSerializer(this.op,{condition:this._conditions,updates:this._update,options:this.options,fields:this._fields}));const u=n._startSpan(this.mongooseCollection,this.model.modelName,this.op,a,s);return n._handleResponse(u,o,this,arguments,i,e)}}patchOnModelMethods(e,t){const n=this;return o=>function(i,s){if(n._config.requireParentSpan&&void 0===r.trace.getSpan(r.context.active()))return o.apply(this,arguments);const a={document:this};!i||i instanceof Function||(a.options=i);const u={};n._config.dbStatementSerializer&&(u[c.SEMATTRS_DB_STATEMENT]=n._config.dbStatementSerializer(e,a));const l=n._startSpan(this.constructor.collection,this.constructor.modelName,e,u);return i instanceof Function&&(s=i,i=void 0),n._handleResponse(l,o,this,arguments,s,t)}}patchModelAggregate(){const e=this;return n=>function(){const o=r.trace.getSpan(r.context.active()),i=e._callOriginalFunction((()=>n.apply(this,arguments)));return i&&(i[t._STORED_PARENT_SPAN]=o),i}}patchAndCaptureSpanContext(e){const n=this;return e=>function(){return this[t._STORED_PARENT_SPAN]=r.trace.getSpan(r.context.active()),n._callOriginalFunction((()=>e.apply(this,arguments)))}}_startSpan(e,t,n,o,s){return this.tracer.startSpan(`mongoose.${t}.${n}`,{kind:r.SpanKind.CLIENT,attributes:Object.assign(Object.assign(Object.assign({},o),(0,i.getAttributesFromCollection)(e)),{[c.SEMATTRS_DB_OPERATION]:n,[c.SEMATTRS_DB_SYSTEM]:"mongoose"})},s?r.trace.setSpan(r.context.active(),s):void 0)}_handleResponse(e,t,n,r,o,s=void 0){const a=this;if(o instanceof Function)return a._callOriginalFunction((()=>(0,i.handleCallbackResponse)(o,t,n,e,r,a._config.responseHook,s)));{const o=a._callOriginalFunction((()=>t.apply(n,r)));return(0,i.handlePromiseResponse)(o,e,a._config.responseHook,s)}}_callOriginalFunction(e){var t;return(null===(t=this._config)||void 0===t?void 0:t.suppressInternalInstrumentation)?r.context.with((0,o.suppressTracing)(r.context.active()),e):e()}}t.MongooseInstrumentation=l},30124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCallbackResponse=t.handlePromiseResponse=t.getAttributesFromCollection=void 0;const r=n(74681),o=n(25907),i=n(74813);function s(e,t={}){e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:`${t.message} ${t.code?`\nMongoose Error Code: ${t.code}`:""}`})}function a(e,t,n,i=void 0){n&&(0,o.safeExecuteInTheMiddle)((()=>n(e,{moduleVersion:i,response:t})),(e=>{e&&r.diag.error("mongoose instrumentation: responseHook error",e)}),!0)}t.getAttributesFromCollection=function(e){return{[i.SEMATTRS_DB_MONGODB_COLLECTION]:e.name,[i.SEMATTRS_DB_NAME]:e.conn.name,[i.SEMATTRS_DB_USER]:e.conn.user,[i.SEMATTRS_NET_PEER_NAME]:e.conn.host,[i.SEMATTRS_NET_PEER_PORT]:e.conn.port}},t.handlePromiseResponse=function(e,t,n,r=void 0){return e instanceof Promise?e.then((e=>(a(t,e,n,r),e))).catch((e=>{throw s(t,e),e})).finally((()=>t.end())):(a(t,e,n,r),t.end(),e)},t.handleCallbackResponse=function(e,t,n,r,o,i,c=void 0){let u=0;return 2===o.length&&(u=1),o[u]=(t,n)=>(t?s(r,t):a(r,n,i,c),r.end(),e(t,n)),t.apply(n,o)}},59581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mongoose"},81960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(t.AttributeNames||(t.AttributeNames={})).MYSQL_VALUES="db.mysql.values"},90450:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(26164),t),o(n(54223),t)},26164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MySQLInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(74813),s=n(81960),a=n(67731),c=n(26822);class u extends o.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e),this._setMetricInstruments()}setMeterProvider(e){super.setMeterProvider(e),this._setMetricInstruments()}_setMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){return[new o.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],(e=>((0,o.isWrapped)(e.createConnection)&&this._unwrap(e,"createConnection"),this._wrap(e,"createConnection",this._patchCreateConnection()),(0,o.isWrapped)(e.createPool)&&this._unwrap(e,"createPool"),this._wrap(e,"createPool",this._patchCreatePool()),(0,o.isWrapped)(e.createPoolCluster)&&this._unwrap(e,"createPoolCluster"),this._wrap(e,"createPoolCluster",this._patchCreatePoolCluster()),e)),(e=>{void 0!==e&&(this._unwrap(e,"createConnection"),this._unwrap(e,"createPool"),this._unwrap(e,"createPoolCluster"))}))]}_patchCreateConnection(){return e=>{const t=this;return function(n){const r=e(...arguments);return t._wrap(r,"query",t._patchQuery(r)),r}}}_patchCreatePool(){return e=>{const t=this;return function(n){const r=e(...arguments);return t._wrap(r,"query",t._patchQuery(r)),t._wrap(r,"getConnection",t._patchGetConnection(r)),t._wrap(r,"end",t._patchPoolEnd(r)),t._setPoolcallbacks(r,t,""),r}}}_patchPoolEnd(e){return t=>{const n=this;return function(r){const o=e._allConnections.length,i=e._freeConnections.length,s=o-i,c=(0,a.getPoolName)(e);n._connectionsUsage.add(-s,{state:"used",name:c}),n._connectionsUsage.add(-i,{state:"idle",name:c}),t.apply(e,arguments)}}}_patchCreatePoolCluster(){return e=>{const t=this;return function(n){const r=e(...arguments);return t._wrap(r,"getConnection",t._patchGetConnection(r)),t._wrap(r,"add",t._patchAdd(r)),r}}}_patchAdd(e){return t=>{const n=this;return function(r,o){if(!n._enabled)return n._unwrap(e,"add"),t.apply(e,arguments);t.apply(e,arguments);const i=e._nodes;if(i){const t=i["object"==typeof r?"CLUSTER::"+e._lastId:String(r)].pool;n._setPoolcallbacks(t,n,r)}}}}_patchGetConnection(e){return t=>{const n=this;return function(r,o,i){if(!n._enabled)return n._unwrap(e,"getConnection"),t.apply(e,arguments);if(1===arguments.length&&"function"==typeof r){const o=n._getConnectionCallbackPatchFn(r);return t.call(e,o)}if(2===arguments.length&&"function"==typeof o){const i=n._getConnectionCallbackPatchFn(o);return t.call(e,r,i)}if(3===arguments.length&&"function"==typeof i){const s=n._getConnectionCallbackPatchFn(i);return t.call(e,r,o,s)}return t.apply(e,arguments)}}}_getConnectionCallbackPatchFn(e){const t=this,n=r.context.active();return function(i,s){s&&((0,o.isWrapped)(s.query)||t._wrap(s,"query",t._patchQuery(s))),"function"==typeof e&&r.context.with(n,e,this,i,s)}}_patchQuery(e){return t=>{const n=this;return function(o,c,l){if(!n._enabled)return n._unwrap(e,"query"),t.apply(e,arguments);const d=n.tracer.startSpan((0,a.getSpanName)(o),{kind:r.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),(0,a.getConnectionAttributes)(e.config))});if(d.setAttribute(i.SEMATTRS_DB_STATEMENT,(0,a.getDbStatement)(o)),n.getConfig().enhancedDatabaseReporting){let e;Array.isArray(c)?e=c:arguments[2]&&(e=[c]),d.setAttribute(s.AttributeNames.MYSQL_VALUES,(0,a.getDbValues)(o,e))}const p=Array.from(arguments).findIndex((e=>"function"==typeof e)),h=r.context.active();if(-1===p){const n=r.context.with(r.trace.setSpan(r.context.active(),d),(()=>t.apply(e,arguments)));return r.context.bind(h,n),n.on("error",(e=>d.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}))).on("end",(()=>{d.end()}))}return n._wrap(arguments,p,n._patchCallbackQuery(d,h)),r.context.with(r.trace.setSpan(r.context.active(),d),(()=>t.apply(e,arguments)))}}}_patchCallbackQuery(e,t){return n=>function(o,i,s){return o&&e.setStatus({code:r.SpanStatusCode.ERROR,message:o.message}),e.end(),r.context.with(t,(()=>n(...arguments)))}}_setPoolcallbacks(e,t,n){const r=n||(0,a.getPoolName)(e);e.on("connection",(e=>{t._connectionsUsage.add(1,{state:"idle",name:r})})),e.on("acquire",(e=>{t._connectionsUsage.add(-1,{state:"idle",name:r}),t._connectionsUsage.add(1,{state:"used",name:r})})),e.on("release",(e=>{t._connectionsUsage.add(-1,{state:"used",name:r}),t._connectionsUsage.add(1,{state:"idle",name:r})}))}}t.MySQLInstrumentation=u,u.COMMON_ATTRIBUTES={[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_MYSQL}},54223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPoolName=t.arrayStringifyHelper=t.getSpanName=t.getDbValues=t.getDbStatement=t.getConnectionAttributes=void 0;const r=n(74813);function o(e,t,n){let r=`jdbc:mysql://${e||"localhost"}`;return"number"==typeof t&&(r+=`:${t}`),"string"==typeof n&&(r+=`/${n}`),r}function i(e){return e?`[${e.toString()}]`:""}t.getConnectionAttributes=function(e){const{host:t,port:n,database:i,user:s}=function(e){const{host:t,port:n,database:r,user:o}=e&&e.connectionConfig||e||{};return{host:t,port:n,database:r,user:o}}(e),a=parseInt(n,10);return isNaN(a)?{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,i),[r.SEMATTRS_DB_NAME]:i,[r.SEMATTRS_DB_USER]:s}:{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_NET_PEER_PORT]:a,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,i),[r.SEMATTRS_DB_NAME]:i,[r.SEMATTRS_DB_USER]:s}},t.getDbStatement=function(e){return"string"==typeof e?e:e.sql},t.getDbValues=function(e,t){return i("string"==typeof e?t:t||e.values)},t.getSpanName=function(e){return"object"==typeof e?e.sql:e.split(" ")[0]},t.arrayStringifyHelper=i,t.getPoolName=function(e){const t=e.config.connectionConfig;let n="";return n+=t.host?`host: '${t.host}', `:"",n+=t.port?`port: ${t.port}, `:"",n+=t.database?`database: '${t.database}', `:"",n+=t.user?`user: '${t.user}'`:"",t.user||(n=n.substring(0,n.length-2)),n.trim()}},26822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mysql"},73932:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(48330),t),o(n(42537),t)},48330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MySQL2Instrumentation=void 0;const r=n(74681),o=n(25907),i=n(74813),s=n(57263),a=n(64677),c=n(76224);class u extends o.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new o.InstrumentationNodeModuleDefinition("mysql2",[">=1.4.2 <4"],(e=>{const t=e.Connection.prototype;return(0,o.isWrapped)(t.query)&&this._unwrap(t,"query"),this._wrap(t,"query",this._patchQuery(e.format,!1)),(0,o.isWrapped)(t.execute)&&this._unwrap(t,"execute"),this._wrap(t,"execute",this._patchQuery(e.format,!0)),e}),(e=>{if(void 0===e)return;const t=e.Connection.prototype;this._unwrap(t,"query"),this._unwrap(t,"execute")}))]}_patchQuery(e,t){return n=>{const c=this;return function(l,d,p){const h=c._config;let f;Array.isArray(d)?f=d:arguments[2]&&(f=[d]);const m=c.tracer.startSpan((0,a.getSpanName)(l),{kind:r.SpanKind.CLIENT,attributes:Object.assign(Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),(0,a.getConnectionAttributes)(this.config)),{[i.SEMATTRS_DB_STATEMENT]:(0,a.getDbStatement)(l,e,f)})});!t&&h.addSqlCommenterCommentToQueries&&(arguments[0]=l="string"==typeof l?(0,s.addSqlCommenterComment)(m,l):Object.assign(l,{sql:(0,s.addSqlCommenterComment)(m,l.sql)}));const g=(0,a.once)(((e,t)=>{e?m.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}):"function"==typeof h.responseHook&&(0,o.safeExecuteInTheMiddle)((()=>{h.responseHook(m,{queryResults:t})}),(e=>{e&&c._diag.warn("Failed executing responseHook",e)}),!0),m.end()}));if(1===arguments.length){"function"==typeof l.onResult&&c._wrap(l,"onResult",c._patchCallbackQuery(g));const e=n.apply(this,arguments);return e.once("error",(e=>{g(e)})).once("result",(e=>{g(void 0,e)})),e}return"function"==typeof arguments[1]?c._wrap(arguments,1,c._patchCallbackQuery(g)):"function"==typeof arguments[2]&&c._wrap(arguments,2,c._patchCallbackQuery(g)),n.apply(this,arguments)}}}_patchCallbackQuery(e){return t=>function(n,r,o){return e(n,r),t(...arguments)}}}t.MySQL2Instrumentation=u,u.COMMON_ATTRIBUTES={[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_MYSQL}},42537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.getSpanName=t.getDbStatement=t.getConnectionAttributes=void 0;const r=n(74813);function o(e,t,n){let r=`jdbc:mysql://${e||"localhost"}`;return"number"==typeof t&&(r+=`:${t}`),"string"==typeof n&&(r+=`/${n}`),r}t.getConnectionAttributes=function(e){const{host:t,port:n,database:i,user:s}=function(e){const{host:t,port:n,database:r,user:o}=e&&e.connectionConfig||e||{};return{host:t,port:n,database:r,user:o}}(e),a=parseInt(n,10);return isNaN(a)?{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,i),[r.SEMATTRS_DB_NAME]:i,[r.SEMATTRS_DB_USER]:s}:{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_NET_PEER_PORT]:a,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,i),[r.SEMATTRS_DB_NAME]:i,[r.SEMATTRS_DB_USER]:s}},t.getDbStatement=function(e,t,n){return"string"==typeof e?n?t(e,n):e:n||e.values?t(e.sql,n||e.values):e.sql},t.getSpanName=function(e){var t;const n="object"==typeof e?e.sql:e;return null===(t=null==n?void 0:n.split(" "))||void 0===t?void 0:t[0]},t.once=e=>{let t=!1;return(...n)=>{if(!t)return t=!0,e(...n)}}},76224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mysql2"},88736:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).VERSION="nestjs.version",n.TYPE="nestjs.type",n.MODULE="nestjs.module",n.CONTROLLER="nestjs.controller",n.CALLBACK="nestjs.callback",n.PIPES="nestjs.pipes",n.INTERCEPTORS="nestjs.interceptors",n.GUARDS="nestjs.guards"},68866:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NestType=void 0,(n=t.NestType||(t.NestType={})).APP_CREATION="app_creation",n.REQUEST_CONTEXT="request_context",n.REQUEST_HANDLER="handler"},42938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestType=t.AttributeNames=void 0;var r=n(88736);Object.defineProperty(t,"AttributeNames",{enumerable:!0,get:function(){return r.AttributeNames}});var o=n(68866);Object.defineProperty(t,"NestType",{enumerable:!0,get:function(){return o.NestType}})},84455:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(43265),t),o(n(88736),t)},43265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(72087),s=n(74813),a=n(42938),c=[">=4.0.0 <11"];class u extends o.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){const e=new o.InstrumentationNodeModuleDefinition(u.COMPONENT,c);return e.files.push(this.getNestFactoryFileInstrumentation(c),this.getRouterExecutionContextFileInstrumentation(c)),e}getNestFactoryFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/core/nest-factory.js",e,((e,t)=>(this.ensureWrapped(e.NestFactoryStatic.prototype,"create",function(e,t){return function(n){return function(o){const i=e.startSpan("Create Nest App",{attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),{[a.AttributeNames.TYPE]:a.NestType.APP_CREATION,[a.AttributeNames.VERSION]:t,[a.AttributeNames.MODULE]:o.name})}),s=r.trace.setSpan(r.context.active(),i);return r.context.with(s,(async()=>{try{return await n.apply(this,arguments)}catch(e){throw l(i,e)}finally{i.end()}}))}}}(this.tracer,t)),e)),(e=>{this._unwrap(e.NestFactoryStatic.prototype,"create")}))}getRouterExecutionContextFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/core/router/router-execution-context.js",e,((e,t)=>(this.ensureWrapped(e.RouterExecutionContext.prototype,"create",function(e,t){return function(n){return function(o,i){arguments[1]=function(e,t,n){const o=n.name||"anonymous nest handler",i={attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),{[a.AttributeNames.VERSION]:t,[a.AttributeNames.TYPE]:a.NestType.REQUEST_HANDLER,[a.AttributeNames.CALLBACK]:n.name})},s=function(){const t=e.startSpan(o,i),s=r.trace.setSpan(r.context.active(),t);return r.context.with(s,(async()=>{try{return await n.apply(this,arguments)}catch(e){throw l(t,e)}finally{t.end()}}))};return n.name&&Object.defineProperty(s,"name",{value:n.name}),Reflect.getMetadataKeys(n).forEach((e=>{Reflect.defineMetadata(e,Reflect.getMetadata(e,n),s)})),s}(e,t,i);const c=n.apply(this,arguments),d=i.name,p=o.constructor&&o.constructor.name?o.constructor.name:"UnnamedInstance",h=d?`${p}.${d}`:p;return function(n,o,i){var f,m;const g=e.startSpan(h,{attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),{[a.AttributeNames.VERSION]:t,[a.AttributeNames.TYPE]:a.NestType.REQUEST_CONTEXT,[s.SEMATTRS_HTTP_METHOD]:n.method,[s.SEMATTRS_HTTP_URL]:n.originalUrl||n.url,[s.SEMATTRS_HTTP_ROUTE]:(null===(f=n.route)||void 0===f?void 0:f.path)||(null===(m=n.routeOptions)||void 0===m?void 0:m.url)||n.routerPath,[a.AttributeNames.CONTROLLER]:p,[a.AttributeNames.CALLBACK]:d})}),_=r.trace.setSpan(r.context.active(),g);return r.context.with(_,(async()=>{try{return await c.apply(this,arguments)}catch(e){throw l(g,e)}finally{g.end()}}))}}}}(this.tracer,t)),e)),(e=>{this._unwrap(e.RouterExecutionContext.prototype,"create")}))}ensureWrapped(e,t,n){(0,o.isWrapped)(e[t])&&this._unwrap(e,t),this._wrap(e,t,n)}}t.NestInstrumentation=u,u.COMPONENT="@nestjs/core",u.COMMON_ATTRIBUTES={component:u.COMPONENT};const l=(e,t)=>(e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message}),t)},72087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.39.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-nestjs-core"},34974:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).PG_VALUES="db.postgresql.values",n.PG_PLAN="db.postgresql.plan",n.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",n.MAX_CLIENT="db.postgresql.max.client"},6760:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanNames=void 0,(n=t.SpanNames||(t.SpanNames={})).QUERY_PREFIX="pg.query",n.CONNECT="pg.connect",n.POOL_CONNECT="pg-pool.connect"},65:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(14423),t),o(n(97904),t),o(n(34974),t)},14423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PgInstrumentation=void 0;const r=n(25907),o=n(74681),i=n(61644),s=n(57263),a=n(73953),c=n(6760);class u extends r.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}init(){return[new r.InstrumentationNodeModuleDefinition("pg",[">=8.0.0 <9"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return(0,r.isWrapped)(t.Client.prototype.query)&&this._unwrap(t.Client.prototype,"query"),(0,r.isWrapped)(t.Client.prototype.connect)&&this._unwrap(t.Client.prototype,"connect"),this._wrap(t.Client.prototype,"query",this._getClientQueryPatch()),this._wrap(t.Client.prototype,"connect",this._getClientConnectPatch()),e}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;(0,r.isWrapped)(t.Client.prototype.query)&&this._unwrap(t.Client.prototype,"query")})),new r.InstrumentationNodeModuleDefinition("pg-pool",[">=2.0.0 <4"],(e=>((0,r.isWrapped)(e.prototype.connect)&&this._unwrap(e.prototype,"connect"),this._wrap(e.prototype,"connect",this._getPoolConnectPatch()),e)),(e=>{(0,r.isWrapped)(e.prototype.connect)&&this._unwrap(e.prototype,"connect")}))]}setConfig(e={}){this._config=Object.assign({},e)}getConfig(){return this._config}_getClientConnectPatch(){const e=this;return t=>function(n){if(i.shouldSkipInstrumentation(e.getConfig()))return t.call(this,n);const r=e.tracer.startSpan(c.SpanNames.CONNECT,{kind:o.SpanKind.CLIENT,attributes:i.getSemanticAttributesFromConnection(this)});if(n){const e=o.trace.getSpan(o.context.active());n=i.patchClientConnectCallback(r,n),e&&(n=o.context.bind(o.context.active(),n))}return l(r,o.context.with(o.trace.setSpan(o.context.active(),r),(()=>t.call(this,n))))}}_getClientQueryPatch(){const e=this;return t=>(this._diag.debug("Patching pg.Client.prototype.query"),function(...n){if(i.shouldSkipInstrumentation(e.getConfig()))return t.apply(this,n);const a=n[0],c="string"==typeof a,u=i.isObjectWithTextString(a),l=c?{text:a,values:Array.isArray(n[1])?n[1]:void 0}:u?a:void 0,d=e.getConfig(),p=i.handleConfigQuery.call(this,e.tracer,d,l);if(d.addSqlCommenterCommentToQueries&&(n[0]=c?(0,s.addSqlCommenterComment)(p,a):u?Object.assign(Object.assign({},a),{text:(0,s.addSqlCommenterComment)(p,a.text)}):n[0]),n.length>0){const t=o.trace.getSpan(o.context.active());if("function"==typeof n[n.length-1])n[n.length-1]=i.patchCallback(d,p,n[n.length-1]),t&&(n[n.length-1]=o.context.bind(o.context.active(),n[n.length-1]));else if("function"==typeof(null==l?void 0:l.callback)){let r=i.patchCallback(e.getConfig(),p,l.callback);t&&(r=o.context.bind(o.context.active(),r)),n[0].callback=r}}let h;"function"==typeof d.requestHook&&l&&(0,r.safeExecuteInTheMiddle)((()=>{const{database:e,host:t,port:n,user:r}=this.connectionParameters,o={database:e,host:t,port:n,user:r};d.requestHook(p,{connection:o,query:{text:l.text,values:l.values,name:l.name}})}),(t=>{t&&e._diag.error("Error running query hook",t)}),!0);try{h=t.apply(this,n)}catch(e){throw p.setStatus({code:o.SpanStatusCode.ERROR,message:i.getErrorMessage(e)}),p.end(),e}return h instanceof Promise?h.then((t=>new Promise((n=>{i.handleExecutionResult(e.getConfig(),p,t),p.end(),n(t)})))).catch((e=>new Promise(((t,n)=>{p.setStatus({code:o.SpanStatusCode.ERROR,message:e.message}),p.end(),n(e)})))):h})}_getPoolConnectPatch(){const e=this;return t=>function(n){if(i.shouldSkipInstrumentation(e.getConfig()))return t.call(this,n);const r=e.tracer.startSpan(c.SpanNames.POOL_CONNECT,{kind:o.SpanKind.CLIENT,attributes:i.getSemanticAttributesFromPool(this.options)});if(n){const e=o.trace.getSpan(o.context.active());n=i.patchCallbackPGPool(r,n),e&&(n=o.context.bind(o.context.active(),n))}return l(r,o.context.with(o.trace.setSpan(o.context.active(),r),(()=>t.call(this,n))))}}}function l(e,t){if(!(t instanceof Promise))return t;const n=t;return o.context.bind(o.context.active(),n.then((t=>(e.end(),t))).catch((t=>(e.setStatus({code:o.SpanStatusCode.ERROR,message:i.getErrorMessage(t)}),e.end(),Promise.reject(t)))))}t.PgInstrumentation=u},97904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},61644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObjectWithTextString=t.getErrorMessage=t.patchClientConnectCallback=t.patchCallbackPGPool=t.patchCallback=t.handleExecutionResult=t.handleConfigQuery=t.shouldSkipInstrumentation=t.getSemanticAttributesFromPool=t.getSemanticAttributesFromConnection=t.getConnectionString=t.getQuerySpanName=void 0;const r=n(74681),o=n(34974),i=n(74813),s=n(25907),a=n(6760);function c(e,t){if(!t)return a.SpanNames.QUERY_PREFIX;const n="string"==typeof t.name&&t.name?t.name:function(e){const t=e.indexOf(" ");let n=-1===t?e:e.slice(0,t);return n=n.toUpperCase(),n.endsWith(";")?n.slice(0,-1):n}(t.text);return`${a.SpanNames.QUERY_PREFIX}:${n}${e?` ${e}`:""}`}function u(e){return`postgresql://${e.host||"localhost"}:${e.port||5432}/${e.database||""}`}function l(e){if(Number.isInteger(e))return e}function d(e){return{[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_POSTGRESQL,[i.SEMATTRS_DB_NAME]:e.database,[i.SEMATTRS_DB_CONNECTION_STRING]:u(e),[i.SEMATTRS_NET_PEER_NAME]:e.host,[i.SEMATTRS_NET_PEER_PORT]:l(e.port),[i.SEMATTRS_DB_USER]:e.user}}function p(e,t,n){"function"==typeof e.responseHook&&(0,s.safeExecuteInTheMiddle)((()=>{e.responseHook(t,{data:n})}),(e=>{e&&r.diag.error("Error running response hook",e)}),!0)}t.getQuerySpanName=c,t.getConnectionString=u,t.getSemanticAttributesFromConnection=d,t.getSemanticAttributesFromPool=function(e){return{[i.SEMATTRS_DB_SYSTEM]:i.DBSYSTEMVALUES_POSTGRESQL,[i.SEMATTRS_DB_NAME]:e.database,[i.SEMATTRS_DB_CONNECTION_STRING]:u(e),[i.SEMATTRS_NET_PEER_NAME]:e.host,[i.SEMATTRS_NET_PEER_PORT]:l(e.port),[i.SEMATTRS_DB_USER]:e.user,[o.AttributeNames.IDLE_TIMEOUT_MILLIS]:e.idleTimeoutMillis,[o.AttributeNames.MAX_CLIENT]:e.maxClient}},t.shouldSkipInstrumentation=function(e){return!0===e.requireParentSpan&&void 0===r.trace.getSpan(r.context.active())},t.handleConfigQuery=function(e,t,n){const{connectionParameters:s}=this,a=c(s.database,n),u=e.startSpan(a,{kind:r.SpanKind.CLIENT,attributes:d(s)});if(!n)return u;if(n.text&&u.setAttribute(i.SEMATTRS_DB_STATEMENT,n.text),t.enhancedDatabaseReporting&&Array.isArray(n.values))try{const e=n.values.map((e=>null==e?"null":e instanceof Buffer?e.toString():"object"==typeof e?"function"==typeof e.toPostgres?e.toPostgres():JSON.stringify(e):e.toString()));u.setAttribute(o.AttributeNames.PG_VALUES,e)}catch(e){r.diag.error("failed to stringify ",n.values,e)}return"string"==typeof n.name&&u.setAttribute(o.AttributeNames.PG_PLAN,n.name),u},t.handleExecutionResult=p,t.patchCallback=function(e,t,n){return function(o,i){o?t.setStatus({code:r.SpanStatusCode.ERROR,message:o.message}):p(e,t,i),t.end(),n.call(this,o,i)}},t.patchCallbackPGPool=function(e,t){return function(n,o,i){n&&e.setStatus({code:r.SpanStatusCode.ERROR,message:n.message}),e.end(),t.call(this,n,o,i)}},t.patchClientConnectCallback=function(e,t){return function(n){n&&e.setStatus({code:r.SpanStatusCode.ERROR,message:n.message}),e.end(),t.apply(this,arguments)}},t.getErrorMessage=function(e){return"object"==typeof e&&null!==e&&"message"in e?String(e.message):void 0},t.isObjectWithTextString=function(e){var t;return"object"==typeof e&&"string"==typeof(null===(t=e)||void 0===t?void 0:t.text)}},73953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.43.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-pg"},92554:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(98476),t),o(n(64519),t)},98476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedisInstrumentation=void 0;const r=n(74681),o=n(25907),i=n(69147),s=n(67238),a=n(89534),c=n(74813),u=Symbol("opentelemetry.instrumentation.redis.open_spans"),l=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),d={requireParentSpan:!1};class p extends o.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},d,e)}init(){return[this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){const t=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],((e,t)=>{const n=e.transformCommandArguments;if(!n)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),e;const r=(null==t?void 0:t.startsWith("1.0."))?"extendWithCommands":"attachCommands";return(0,o.isWrapped)(null==e?void 0:e[r])&&this._unwrap(e,r),this._wrap(e,r,this._getPatchExtendWithCommands(n)),e}),(e=>{(0,o.isWrapped)(null==e?void 0:e.extendWithCommands)&&this._unwrap(e,"extendWithCommands"),(0,o.isWrapped)(null==e?void 0:e.attachCommands)&&this._unwrap(e,"attachCommands")})),n=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0"],(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;return(0,o.isWrapped)(null==n?void 0:n.exec)&&this._unwrap(n,"exec"),this._wrap(n,"exec",this._getPatchMultiCommandsExec()),(0,o.isWrapped)(null==n?void 0:n.addCommand)&&this._unwrap(n,"addCommand"),this._wrap(n,"addCommand",this._getPatchMultiCommandsAddCommand()),e}),(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;(0,o.isWrapped)(null==n?void 0:n.exec)&&this._unwrap(n,"exec"),(0,o.isWrapped)(null==n?void 0:n.addCommand)&&this._unwrap(n,"addCommand")})),r=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0"],(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;return(null==n?void 0:n.multi)&&((0,o.isWrapped)(null==n?void 0:n.multi)&&this._unwrap(n,"multi"),this._wrap(n,"multi",this._getPatchRedisClientMulti())),(null==n?void 0:n.MULTI)&&((0,o.isWrapped)(null==n?void 0:n.MULTI)&&this._unwrap(n,"MULTI"),this._wrap(n,"MULTI",this._getPatchRedisClientMulti())),(0,o.isWrapped)(null==n?void 0:n.sendCommand)&&this._unwrap(n,"sendCommand"),this._wrap(n,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(n,"connect",this._getPatchedClientConnect()),e}),(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;(0,o.isWrapped)(null==n?void 0:n.multi)&&this._unwrap(n,"multi"),(0,o.isWrapped)(null==n?void 0:n.MULTI)&&this._unwrap(n,"MULTI"),(0,o.isWrapped)(null==n?void 0:n.sendCommand)&&this._unwrap(n,"sendCommand")}));return new o.InstrumentationNodeModuleDefinition(e,["^1.0.0"],(e=>e),(()=>{}),[t,n,r])}_getPatchExtendWithCommands(e){const t=this;return function(n){return function(r){var o;if("RedisClient"!==(null===(o=null==r?void 0:r.BaseClass)||void 0===o?void 0:o.name))return n.apply(this,arguments);const i=r.executor;return r.executor=function(n,r){const o=e(n,r).args;return t._traceClientCommand(i,this,arguments,o)},n.apply(this,arguments)}}}_getPatchMultiCommandsExec(){const e=this;return function(t){return function(){const n=t.apply(this,arguments);return"function"!=typeof(null==n?void 0:n.then)?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),n):n.then((t=>{const n=this[u];return e._endSpansWithRedisReplies(n,t),t})).catch((t=>{const n=this[u];if(n){const r="MultiErrorReply"===t.constructor.name?t.replies:new Array(n.length).fill(t);e._endSpansWithRedisReplies(n,r)}else e._diag.error("cannot find open spans to end for redis multi command");return Promise.reject(t)}))}}}_getPatchMultiCommandsAddCommand(){const e=this;return function(t){return function(n){return e._traceClientCommand(t,this,arguments,n)}}}_getPatchRedisClientMulti(){return function(e){return function(){const t=e.apply(this,arguments);return t[l]=this.options,t}}}_getPatchRedisClientSendCommand(){const e=this;return function(t){return function(n){return e._traceClientCommand(t,this,arguments,n)}}}_getPatchedClientConnect(){const e=this;return function(t){return function(){const n=this.options,o=(0,i.getClientAttributes)(this._diag,n),s=e.tracer.startSpan(`${p.COMPONENT}-connect`,{kind:r.SpanKind.CLIENT,attributes:o});return r.context.with(r.trace.setSpan(r.context.active(),s),(()=>t.apply(this))).then((e=>(s.end(),e))).catch((e=>(s.recordException(e),s.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),s.end(),Promise.reject(e))))}}}_traceClientCommand(e,t,n,o){var a,d;if(void 0===r.trace.getSpan(r.context.active())&&(null===(a=this._config)||void 0===a?void 0:a.requireParentSpan))return e.apply(t,n);const h=t.options||t[l],f=o[0],m=o.slice(1),g=(null===(d=this._config)||void 0===d?void 0:d.dbStatementSerializer)||s.defaultDbStatementSerializer,_=(0,i.getClientAttributes)(this._diag,h);try{const e=g(f,m);null!=e&&(_[c.SEMATTRS_DB_STATEMENT]=e)}catch(e){this._diag.error("dbStatementSerializer throw an exception",e,{commandName:f})}const b=this.tracer.startSpan(`${p.COMPONENT}-${f}`,{kind:r.SpanKind.CLIENT,attributes:_}),S=r.context.with(r.trace.setSpan(r.context.active(),b),(()=>e.apply(t,n)));if("function"==typeof(null==S?void 0:S.then))S.then((e=>{this._endSpanWithResponse(b,f,m,e,void 0)}),(e=>{this._endSpanWithResponse(b,f,m,null,e)}));else{const e=S;e[u]=e[u]||[],e[u].push({span:b,commandName:f,commandArgs:m})}return S}_endSpansWithRedisReplies(e,t){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(t.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let n=0;n<e.length;n++){const{span:r,commandName:o,commandArgs:i}=e[n],s=t[n],[a,c]=s instanceof Error?[null,s]:[s,void 0];this._endSpanWithResponse(r,o,i,a,c)}}_endSpanWithResponse(e,t,n,o,i){if(!i&&this._config.responseHook)try{this._config.responseHook(e,t,n,o)}catch(e){this._diag.error("responseHook throw an exception",e)}i&&(e.recordException(i),e.setStatus({code:r.SpanStatusCode.ERROR,message:null==i?void 0:i.message})),e.end()}}t.RedisInstrumentation=p,p.COMPONENT="redis"},64519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},69147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAttributes=void 0;const r=n(74813);function o(e,t){if("string"==typeof t)try{const e=new URL(t);return e.searchParams.delete("user_pwd"),e.username="",e.password="",e.href}catch(t){e.error("failed to sanitize redis connection url",t)}}t.getClientAttributes=function(e,t){var n,i;return{[r.SEMATTRS_DB_SYSTEM]:r.DBSYSTEMVALUES_REDIS,[r.SEMATTRS_NET_PEER_NAME]:null===(n=null==t?void 0:t.socket)||void 0===n?void 0:n.host,[r.SEMATTRS_NET_PEER_PORT]:null===(i=null==t?void 0:t.socket)||void 0===i?void 0:i.port,[r.SEMATTRS_DB_CONNECTION_STRING]:o(e,null==t?void 0:t.url)}}},89534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4"},25907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InstrumentationBase:()=>U,InstrumentationNodeModuleDefinition:()=>Z,InstrumentationNodeModuleFile:()=>B,isWrapped:()=>x,registerInstrumentations:()=>d,safeExecuteInTheMiddle:()=>M,safeExecuteInTheMiddleAsync:()=>L});var r=n(6664),o=n(60176),i="object"==typeof globalThis?globalThis:global,s=Symbol.for("io.opentelemetry.js.api.logs"),a=i,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),u=(new c,new(function(){function e(){}return e.prototype.getLogger=function(e,t,n){return new c},e}())),l=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[s]?this.getLoggerProvider():(a[s]=(t=e,n=u,function(e){return 1===e?t:n}),e);var t,n},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[s])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:u},e.prototype.getLogger=function(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)},e.prototype.disable=function(){delete a[s]},e}().getInstance();function d(e){var t,n,i=e.tracerProvider||r.u.getTracerProvider(),s=e.meterProvider||o.q.getMeterProvider(),a=e.loggerProvider||l.getLoggerProvider(),c=null!==(n=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==n?n:[];return function(e,t,n,r){for(var o=0,i=e.length;o<i;o++){var s=e[o];t&&s.setTracerProvider(t),n&&s.setMeterProvider(n),r&&s.setLoggerProvider&&s.setLoggerProvider(r),s.getConfig().enabled||s.enable()}}(c,i,s,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var p=n(16928),h=n(39023),f=n(99589),m=n(81132),g=n(78758),_=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},b=function(){function e(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=m.wrap,this._unwrap=m.unwrap,this._massWrap=m.massWrap,this._massUnwrap=m.massUnwrap,this._config=_({enabled:!0},n),this._diag=g.s.createComponentLogger({namespace:e}),this._tracer=r.u.getTracer(e,t),this._meter=o.q.getMeter(e,t),this._logger=l.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=_({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,n,r){if(e)try{e(n,r)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),S=n(69136),y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},T=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},v="/",I=function(){this.hooks=[],this.children=new Map},R=function(){function e(){this._trie=new I,this._counter=0}return e.prototype.insert=function(e){var t,n,r=this._trie;try{for(var o=y(e.moduleName.split(v)),i=o.next();!i.done;i=o.next()){var s=i.value,a=r.children.get(s);a||(a=new I,r.children.set(s,a)),r=a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var n,r,o=void 0===t?{}:t,i=o.maintainInsertionOrder,s=o.fullOnly,a=this._trie,c=[],u=!0;try{for(var l=y(e.split(v)),d=l.next();!d.done;d=l.next()){var p=d.value,h=a.children.get(p);if(!h){u=!1;break}s||c.push.apply(c,T([],E(h.hooks),!1)),a=h}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s&&u&&c.push.apply(c,T([],E(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(i&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),A=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),C=function(){function e(){this._moduleNameTrie=new R,this._initialize()}return e.prototype._initialize=function(){var e=this;new S.Hook(null,{internals:!0},(function(t,n,r){var o,i,s,a=(s=n,p.sep!==v?s.split(p.sep).join(v):s),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===r});try{for(var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),l=u.next();!l.done;l=u.next())t=(0,l.value.onRequire)(t,n,r)}catch(e){o={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n},e.getInstance=function(){var t;return A?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),O=n(30616),N=n(79896),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function M(e,t,n){var r,o;try{o=e()}catch(e){r=e}finally{if(t(r,o),r&&!n)throw r;return o}}function L(e,t,n){return w(this,void 0,void 0,(function(){var r,o,i;return P(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,3,4]),[4,e()];case 1:return o=s.sent(),[3,4];case 2:return i=s.sent(),r=i,[3,4];case 3:if(t(r,o),r&&!n)throw r;return[2,o];case 4:return[2]}}))}))}function x(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var k,G=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),D=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},U=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o._hooks=[],o._requireInTheMiddleSingleton=C.getInstance(),o._enabled=!1,o._wrap=function(e,t,n){if(x(e[t])&&o._unwrap(e,t),h.types.isProxy(e)){var r=(0,m.wrap)(Object.assign({},e),t,n);return Object.defineProperty(e,t,{value:r})}return(0,m.wrap)(e,t,n)},o._unwrap=function(e,t){return h.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,m.unwrap)(e,t)},o._massWrap=function(e,t,n){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,n)}))})):g.s.error("must provide one or more functions to wrap on modules")):g.s.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):g.s.error("must provide one or more functions to wrap on modules")):g.s.error("must provide one or more modules to patch")};var i=o.init();return i&&!Array.isArray(i)&&(i=[i]),o._modules=i||[],0===o._modules.length&&g.s.debug("No modules instrumentation has been defined for '"+o.instrumentationName+"@"+o.instrumentationVersion+"', nothing will be patched"),o._config.enabled&&o.enable(),o}return G(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var r=t.name;try{var o=n(24370).resolve(r);n.c[o]&&e._diag.warn("Module "+r+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+r)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,N.readFileSync)(p.join(e,"package.json"),{encoding:"utf8"}),n=JSON.parse(t).version;return"string"==typeof n?n:void 0}catch(t){g.s.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,n,r){var o,i=this;if(!r)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var s=this._extractPackageVersion(r);if(e.moduleVersion=s,e.name===n)return V(e.supportedVersions,s,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:r}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=p.normalize(n);return a.filter((function(e){return e.name===c})).filter((function(t){return V(t.supportedVersions,s,e.includePrerelease)})).reduce((function(t,n){return n.moduleExports=t,i._enabled?(i._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:n.name,baseDir:r}),n.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,n,r,o,i,s=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=D(this._modules),c=a.next();!c.done;c=a.next()){var u=c.value;"function"==typeof u.patch&&u.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:u.name,version:u.moduleVersion}),u.patch(u.moduleExports,u.moduleVersion));try{for(var l=(n=void 0,D(u.files)),d=l.next();!d.done;d=l.next()){var h=d.value;h.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:u.name,version:u.moduleVersion,fileName:h.name}),h.patch(h.moduleExports,u.moduleVersion))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var f=function(e){var t=function(t,n,r){return s._onRequire(e,t,n,r)},n=p.isAbsolute(e.name)?new S.Hook([e.name],{internals:!0},t):m._requireInTheMiddleSingleton.register(e.name,t);m._hooks.push(n);var r=new O.Hook([e.name],{internals:!1},(function(t,n,r){return s._onRequire(e,t,n,r)}));m._hooks.push(r)},m=this;try{for(var g=D(this._modules),_=g.next();!_.done;_=g.next())f(_.value)}catch(e){o={error:e}}finally{try{_&&!_.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,n,r;if(this._enabled){this._enabled=!1;try{for(var o=D(this._modules),i=o.next();!i.done;i=o.next()){var s=i.value;"function"==typeof s.unpatch&&s.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:s.name,version:s.moduleVersion}),s.unpatch(s.moduleExports,s.moduleVersion));try{for(var a=(n=void 0,D(s.files)),c=a.next();!c.done;c=a.next()){var u=c.value;u.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:s.name,version:s.moduleVersion,fileName:u.name}),u.unpatch(u.moduleExports,s.moduleVersion))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(b);function V(e,t,n){return void 0===t?e.includes("*"):e.some((function(e){return(0,f.satisfies)(t,e,{includePrerelease:n})}))}var Z=function(e,t,n,r,o){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=r,this.files=o||[]},B=function(e,t,n,r){this.supportedVersions=t,this.patch=n,this.unpatch=r,this.name=(0,p.normalize)(e)}},24370:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=24370,e.exports=t},67238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDbStatementSerializer=void 0;const n=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}];t.defaultDbStatementSerializer=(e,t)=>{var r,o;if(Array.isArray(t)&&t.length){const i=null!==(o=null===(r=n.find((({regex:t})=>t.test(e))))||void 0===r?void 0:r.args)&&void 0!==o?o:0,s=i>=0?t.slice(0,i):t;return t.length>s.length&&s.push(`[${t.length-i} other arguments]`),`${e} ${s.join(" ")}`}return e}},2287:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var r=n(78758),o=n(87361),i=n(68797),s=n(21479),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},c=function(){function e(e,t){var n,o=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return o._attributes=Object.assign({},o._attributes,e),o.asyncAttributesPending=!1,e}),(function(e){return r.s.debug("a resource's async attributes promise rejected: %s",e),o.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[o.AV]=(0,s.m)(),t[o.Pl]=i.q[o.Pl],t[o.$L]=i.q[o.$L],t[o.y$]=i.q[o.y$],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&r.s.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var o=a(a({},this._syncAttributes),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var n,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),i=o[0],s=o[1];return a(a(a(a({},r._syncAttributes),i),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes),s)}));return new e(o,i)},e.EMPTY=new e({}),e}()},13967:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(35317),o=n(39023).promisify(r.exec)},50454:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(79896),o=n(13967),i=n(78758),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function c(){return s(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return[2,n.sent().trim()];case 2:return e=n.sent(),i.s.debug("error reading machine id: "+e),[3,3];case 3:return n.trys.push([3,5,,6]),[4,(0,o.q)("kenv -q smbios.system.uuid")];case 4:return[2,n.sent().stdout.trim()];case 5:return t=n.sent(),i.s.debug("error reading machine id: "+t),[3,6];case 6:return[2,""]}}))}))}},1568:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(13967),o=n(78758),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function a(){return i(this,void 0,void 0,(function(){var e,t,n,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(0,r.q)('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:return e=s.sent(),(t=e.stdout.split("\n").find((function(e){return e.includes("IOPlatformUUID")})))?2===(n=t.split('" = "')).length?[2,n[1].slice(0,-1)]:[3,3]:[2,""];case 2:return i=s.sent(),o.s.debug("error reading machine id: "+i),[3,3];case 3:return[2,""]}}))}))}},7917:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(79896),o=n(78758),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(){return i(this,void 0,void 0,(function(){var e,t,n,i,c,u,l,d;return s(this,(function(s){switch(s.label){case 0:e=["/etc/machine-id","/var/lib/dbus/machine-id"],s.label=1;case 1:s.trys.push([1,8,9,10]),t=a(e),n=t.next(),s.label=2;case 2:if(n.done)return[3,7];i=n.value,s.label=3;case 3:return s.trys.push([3,5,,6]),[4,r.promises.readFile(i,{encoding:"utf8"})];case 4:return[2,s.sent().trim()];case 5:return c=s.sent(),o.s.debug("error reading machine id: "+c),[3,6];case 6:return n=t.next(),[3,2];case 7:return[3,10];case 8:return u=s.sent(),l={error:u},[3,10];case 9:try{n&&!n.done&&(d=t.return)&&d.call(t)}finally{if(l)throw l.error}return[7];case 10:return[2,""]}}))}))}},42408:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(78758),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function s(){return o(this,void 0,void 0,(function(){return i(this,(function(e){return r.s.debug("could not read machine-id: unsupported platform"),[2,""]}))}))}},57349:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(932),o=n(13967),i=n(78758),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function c(){return s(this,void 0,void 0,(function(){var e,t,n,s,c;return a(this,(function(a){switch(a.label){case 0:e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe","ia32"===r.arch&&"PROCESSOR_ARCHITEW6432"in r.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,o.q)(t+" "+e)];case 2:return n=a.sent(),2===(s=n.stdout.split("REG_SZ")).length?[2,s[1].trim()]:[3,4];case 3:return c=a.sent(),i.s.debug("error reading machine id: "+c),[3,4];case 4:return[2,""]}}))}))}},13097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Resource:()=>o.F,browserDetector:()=>l,browserDetectorSync:()=>u,defaultServiceName:()=>i.m,detectResources:()=>O,detectResourcesSync:()=>N,envDetector:()=>f,envDetectorSync:()=>h,hostDetector:()=>_,hostDetectorSync:()=>g,osDetector:()=>S,osDetectorSync:()=>b,processDetector:()=>v,processDetectorSync:()=>T,serviceInstanceIdDetectorSync:()=>R});var r,o=n(2287),i=n(21479),s=n(87361),a=n(78758),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},u=new(function(){function e(){}return e.prototype.detect=function(e){var t,n,r,i;if("undefined"==typeof navigator||void 0!==(null===(r=null===(n=global.process)||void 0===n?void 0:n.versions)||void 0===r?void 0:r.node)||void 0!==(null===(i=global.Bun)||void 0===i?void 0:i.version))return o.F.empty();var a=((t={})[s.lb]="browser",t[s.C3]="Web Browser",t[s.cV]=navigator.userAgent,t);return this._getResourceAttributes(a,e)},e.prototype._getResourceAttributes=function(e,t){return""===e[s.cV]?(a.s.debug("BrowserDetector failed: Unable to find required browser resources. "),o.F.empty()):new o.F(c({},e))},e}()),l=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(u.detect(e))},e}()),d=n(37925),p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},h=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){var t={},n=(0,d._)(),r=n.OTEL_RESOURCE_ATTRIBUTES,i=n.OTEL_SERVICE_NAME;if(r)try{var c=this._parseResourceAttributes(r);Object.assign(t,c)}catch(e){a.s.debug("EnvDetector failed: "+e.message)}return i&&(t[s.AV]=i),new o.F(t)},e.prototype._parseResourceAttributes=function(e){var t,n;if(!e)return{};var r={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),s=i.next();!s.done;s=i.next()){var a=s.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===a.length){var c=p(a,2),u=c[0],l=c[1];if(u=u.trim(),l=l.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(u))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(l))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);r[u]=decodeURIComponent(l)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},e.prototype._isBaggageOctetString=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<33||44===n||59===n||92===n||n>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}()),f=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(h.detect(e))},e}()),m=n(70857);switch(n(932).platform){case"darwin":r=n(1568).D;break;case"linux":r=n(7917).D;break;case"freebsd":r=n(50454).D;break;case"win32":r=n(57349).D;break;default:r=n(42408).D}var g=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[s.RK]=(0,m.hostname)(),t[s.yT]=function(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}((0,m.arch)()),t);return new o.F(n,this._getAsyncAttributes())},e.prototype._getAsyncAttributes=function(){return r().then((function(e){var t={};return e&&(t[s.zs]=e),t}))},e}()),_=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(g.detect(e))},e}()),b=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[s.ko]=function(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}((0,m.platform)()),t[s.AC]=(0,m.release)(),t);return new o.F(n)},e}()),S=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(b.detect(e))},e}()),y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},E=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},T=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[s.ky]=process.pid,t[s.fP]=process.title,t[s.xQ]=process.execPath,t[s.U2]=E(E([process.argv[0]],y(process.execArgv),!1),y(process.argv.slice(1)),!1),t[s.cV]=process.versions.node,t[s.lb]="nodejs",t[s.C3]="Node.js",t);process.argv.length>1&&(n[s.Cn]=process.argv[1]);try{var r=m.userInfo();n[s.Yb]=r.username}catch(e){a.s.debug("error obtaining process owner: "+e)}return new o.F(n)},e}()),v=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(T.detect(e))},e}()),I=n(76982),R=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[s.PL]=(0,I.randomUUID)(),t);return new o.F(n)},e}()),A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},O=function(e){return void 0===e&&(e={}),A(void 0,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return[4,Promise.all((e.detectors||[]).map((function(t){return A(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.detect(e)];case 1:return n=i.sent(),a.s.debug(t.constructor.name+" found resource.",n),[2,n];case 2:return r=i.sent(),a.s.debug(t.constructor.name+" failed: "+r.message),[2,o.F.empty()];case 3:return[2]}}))}))})))];case 1:return t=n.sent(),w(t),[2,t.reduce((function(e,t){return e.merge(t)}),o.F.empty())]}}))}))},N=function(e){var t;void 0===e&&(e={});var n=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((function(t){try{var n,r=t.detect(e);return n=null!==(i=r)&&"object"==typeof i&&"function"==typeof i.then?new o.F({},A(void 0,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,r];case 1:return[2,e.sent().attributes]}}))}))):r,n.waitForAsyncAttributes?n.waitForAsyncAttributes().then((function(){return a.s.debug(t.constructor.name+" found resource.",n)})):a.s.debug(t.constructor.name+" found resource.",n),n}catch(e){return a.s.error(t.constructor.name+" failed: "+e.message),o.F.empty()}var i})),r=n.reduce((function(e,t){return e.merge(t)}),o.F.empty());return r.waitForAsyncAttributes&&r.waitForAsyncAttributes().then((function(){w(n)})),r},w=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);a.s.verbose(t)}}))}},21479:(e,t,n)=>{"use strict";function r(){return"unknown_service:"+process.argv0}n.d(t,{m:()=>r})},71426:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlwaysOffSampler:()=>E,AlwaysOnSampler:()=>T,BasicTracerProvider:()=>te,BatchSpanProcessor:()=>ee,ConsoleSpanExporter:()=>ne,ForceFlushState:()=>U,InMemorySpanExporter:()=>re,NoopSpanProcessor:()=>J,ParentBasedSampler:()=>R,RandomIdGenerator:()=>x,SamplingDecision:()=>r,SimpleSpanProcessor:()=>ie,Span:()=>b,TraceIdRatioBasedSampler:()=>A,Tracer:()=>V});var r,o=n(41844),i=n(6664),s=n(78758),a=n(97872),c=n(58651),u=n(72674),l=n(47397),d=n(4445),p=n(80788),h=n(11908),f=n(53663),m=n(65864),g=n(366),_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},b=function(){function e(e,t,n,r,o,i,s,a,c,u){void 0===s&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:h.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=i,this.kind=o,this.links=s;var l=Date.now();this._performanceStartTime=f.u.now(),this._performanceOffset=l-(this._performanceStartTime+(0,m.uc)()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=u&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(s.s.warn("Invalid attribute key: "+e),this):(0,p.m)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(s.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,n;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=r.next();!o.done;o=r.next()){var i=_(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return s.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&s.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,m.Ir)(t)&&((0,m.Ir)(n)||(n=t),t=void 0);var r=(0,p.L)(t);return this.events.push({name:e,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],_(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?s.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,m.W5)(this.startTime,this.endTime),this._duration[0]<0&&(s.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&s.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<f.u.now())return(0,m._5)(e+this._performanceOffset);if("number"==typeof e)return(0,m.lg)(e);if(e instanceof Date)return(0,m.lg)(e.getTime());if((0,m.VL)(e))return e;if(this._startTimeProvided)return(0,m.lg)(Date.now());var t=f.u.now()-this._performanceStartTime;return(0,m.mw)(this.startTime,(0,m.lg)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var n={};"string"==typeof e?n[g.aP6]=e:e&&(e.code?n[g.P4J]=e.code.toString():e.name&&(n[g.P4J]=e.name),e.message&&(n[g.aP6]=e.message),e.stack&&(n[g.ipG]=e.stack)),n[g.P4J]||n[g.aP6]?this.addEvent("exception",n,t):s.s.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&s.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,n=this._attributeValueLengthLimit;return n<=0?(s.s.warn("Attribute value limit must be positive, got "+n),e):"string"==typeof e?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,n):e})):e},e}(),S=n(37925),y=n(70676);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}));var E=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),T=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),v=n(67823),I=n(78044),R=function(){function e(e){var t,n,r,o;this._root=e.root,this._root||((0,I.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new T),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new T,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new E,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new T,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new E}return e.prototype.shouldSample=function(e,t,n,r,o,s){var a=i.u.getSpanContext(e);return a&&(0,v.YA)(a)?a.isRemote?a.traceFlags&l.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,o,s):this._remoteParentNotSampled.shouldSample(e,t,n,r,o,s):a.traceFlags&l.X.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,o,s):this._localParentNotSampled.shouldSample(e,t,n,r,o,s):this._root.shouldSample(e,t,n,r,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),A=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,v.hX)(t)&&this._accumulate(t)<this._upperBound?r.RECORD_AND_SAMPLED:r.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),C=(0,S._)(),O=y.R.AlwaysOn,N=1;function w(){return{sampler:P(C),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,S._)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,S._)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,S._)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,S._)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,S._)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,S._)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,S._)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,S._)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function P(e){switch(void 0===e&&(e=(0,S._)()),e.OTEL_TRACES_SAMPLER){case y.R.AlwaysOn:return new T;case y.R.AlwaysOff:return new E;case y.R.ParentBasedAlwaysOn:return new R({root:new T});case y.R.ParentBasedAlwaysOff:return new R({root:new E});case y.R.TraceIdRatio:return new A(M(e));case y.R.ParentBasedTraceIdRatio:return new R({root:new A(M(e))});default:return s.s.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+O+'".'),new T}}function M(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return s.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+N+"."),N;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(s.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+N+"."),N):t<0||t>1?(s.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+N+"."),N):t}var L=n(23144),x=function(){this.generateTraceId=G(16),this.generateSpanId=G(8)},k=Buffer.allocUnsafe(16);function G(e){return function(){for(var t=0;t<e/4;t++)k.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(k[t]>0);t++)t===e-1&&(k[e-1]=1);return k.toString("hex",0,e)}}var D,U,V=function(){function e(e,t,n){this._tracerProvider=n;var r,o,i,s,a=(r=t,o={sampler:P()},i=w(),(s=Object.assign({},i,o,r)).generalLimits=Object.assign({},i.generalLimits,r.generalLimits||{}),s.spanLimits=Object.assign({},i.spanLimits,r.spanLimits||{}),s);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new x,this.resource=n.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,n){var r,h,f;void 0===t&&(t={}),void 0===n&&(n=o._.active()),t.root&&(n=i.u.deleteSpan(n));var m=i.u.getSpan(n);if((0,d.Zf)(n))return s.s.debug("Instrumentation suppressed, returning Noop Span"),i.u.wrapSpanContext(a.dM);var g,_,S,y=null==m?void 0:m.spanContext(),E=this._idGenerator.generateSpanId();y&&i.u.isSpanContextValid(y)?(g=y.traceId,_=y.traceState,S=y.spanId):g=this._idGenerator.generateTraceId();var T=null!==(r=t.kind)&&void 0!==r?r:c.v.INTERNAL,v=(null!==(h=t.links)&&void 0!==h?h:[]).map((function(e){return{context:e.context,attributes:(0,p.L)(e.attributes)}})),I=(0,p.L)(t.attributes),R=this._sampler.shouldSample(n,g,e,T,I,v);_=null!==(f=R.traceState)&&void 0!==f?f:_;var A={traceId:g,spanId:E,traceFlags:R.decision===u.i.RECORD_AND_SAMPLED?l.X.SAMPLED:l.X.NONE,traceState:_};if(R.decision===u.i.NOT_RECORD)return s.s.debug("Recording is off, propagating context in a non-recording span"),i.u.wrapSpanContext(A);var C=(0,p.L)(Object.assign(I,R.attributes));return new b(this,n,e,A,T,S,v,t.startTime,void 0,C)},e.prototype.startActiveSpan=function(e,t,n,r){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=n):(s=t,a=n,c=r);var u=null!=a?a:o._.active(),l=this.startSpan(e,s,u),d=i.u.setSpan(u,l);return o._.with(d,c,void 0,l)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),Z=n(49348),B=n(31194),W=n(22721),j=n(79859),F=n(75477),H=n(2287),Y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,n=[];try{for(var r=Y(this._spanProcessors),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i.forceFlush())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(n).then((function(){e()})).catch((function(t){(0,I.s)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var n,r;try{for(var o=Y(this._spanProcessors),i=o.next();!i.done;i=o.next())i.value.onStart(e,t)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(e){var t,n;try{for(var r=Y(this._spanProcessors),o=r.next();!o.done;o=r.next())o.value.onEnd(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,n=[];try{for(var r=Y(this._spanProcessors),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i.shutdown())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(n).then((function(){e()}),t)}))},e}(),J=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),K=n(77375),z=n(92068),Q=n(22778),$=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=(0,S._)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new K.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(s.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&l.X.SAMPLED&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&s.s.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(s.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,n){for(var r=[],o=0,i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<i;o++)r.push(e._flushOneBatch());Promise.all(r).then((function(){t()})).catch(n)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,n){var r=setTimeout((function(){n(new Error("Timeout"))}),e._exportTimeoutMillis);o._.with((0,d.M1)(o._.active()),(function(){var o;e._finishedSpans.length<=e._maxExportBatchSize?(o=e._finishedSpans,e._finishedSpans=[]):o=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var i=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(r),e.code===z.V.SUCCESS?t():n(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},s=null,a=0,c=o.length;a<c;a++){var u=o[a];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(null!=s||(s=[]),s.push(u.resource.waitForAsyncAttributes()))}null===s?i():Promise.all(s).then(i,(function(e){(0,I.s)(e),n(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally((function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){e._isExporting=!1,(0,I.s)(t)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout((function(){return t()}),this._scheduledDelayMillis),(0,Q.K)(this._timer))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),q=(D=function(e,t){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},D(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.onShutdown=function(){},t}($);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(U||(U={}));var te=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=(0,B.h)({},w(),function(e){var t,n,r,o,i,s,a,c,u,l,d,p,h=Object.assign({},e.spanLimits),f=(0,S.w)();return h.attributeCountLimit=null!==(s=null!==(i=null!==(o=null!==(n=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==n?n:null===(r=e.generalLimits)||void 0===r?void 0:r.attributeCountLimit)&&void 0!==o?o:f.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:f.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:L.fv,h.attributeValueLengthLimit=null!==(p=null!==(d=null!==(l=null!==(c=null===(a=e.spanLimits)||void 0===a?void 0:a.attributeValueLengthLimit)&&void 0!==c?c:null===(u=e.generalLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==l?l:f.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:f.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:L.aE,Object.assign({},e,{spanLimits:h})}(e));this.resource=null!==(t=n.resource)&&void 0!==t?t:H.F.empty(),this.resource=H.F.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var r=this._buildExporterFromEnv();if(void 0!==r){var o=new ee(r);this.activeSpanProcessor=o}else this.activeSpanProcessor=new J}return e.prototype.getTracer=function(e,t,n){var r=e+"@"+(t||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new V({name:e,version:t,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return s.s.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new X(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),i.u.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&o._.setGlobalContextManager(e.contextManager),e.propagator&&Z.$.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(n){var r,o=setTimeout((function(){n(new Error("Span processor did not completed within timeout period of "+e+" ms")),r=U.timeout}),e);t.forceFlush().then((function(){clearTimeout(o),r!==U.timeout&&(r=U.resolved,n(r))})).catch((function(e){clearTimeout(o),r=U.error,n(e)}))}))}));return new Promise((function(e,n){Promise.all(t).then((function(t){var r=t.filter((function(e){return e!==U.resolved}));r.length>0?n(r):e()})).catch((function(e){return n([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,S._)().OTEL_PROPAGATORS)),n=t.map((function(t){var n=e._getPropagator(t);return n||s.s.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),n})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===n.length?void 0:1===t.length?n[0]:new W.n({propagators:n})},e.prototype._buildExporterFromEnv=function(){var e=(0,S._)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||s.s.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new j.lm}],["baggage",function(){return new F.t}]]),e._registeredExporters=new Map,e}(),ne=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,m.w_)(e.startTime),duration:(0,m.w_)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var n,r;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(t)return t({code:z.V.SUCCESS})},e}(),re=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var n;if(this._stopped)return t({code:z.V.FAILED,error:new Error("Exporter has been stopped")});(n=this._finishedSpans).push.apply(n,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e),!1)),setTimeout((function(){return t({code:z.V.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}(),oe=n(72477),ie=function(){function e(e){this._exporter=e,this._shutdownOnce=new K.I(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,n,r=this;if(!this._shutdownOnce.isCalled&&e.spanContext().traceFlags&l.X.SAMPLED){var o=function(){return oe.internal._export(r._exporter,[e]).then((function(e){var t;e.code!==z.V.SUCCESS&&(0,I.s)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,I.s)(e)}))};if(e.resource.asyncAttributesPending){var i=null===(n=(t=e.resource).waitForAsyncAttributes)||void 0===n?void 0:n.call(t).then((function(){return null!=i&&r._unresolvedExports.delete(i),o()}),(function(e){return(0,I.s)(e)}));null!=i&&this._unresolvedExports.add(i)}else o()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},74813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AWSECSLAUNCHTYPEVALUES_EC2:()=>o.Jn,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>o.Fz,AwsEcsLaunchtypeValues:()=>o.AS,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>o.WE,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>o.op,CLOUDPLATFORMVALUES_AWS_EC2:()=>o.WC,CLOUDPLATFORMVALUES_AWS_ECS:()=>o.p7,CLOUDPLATFORMVALUES_AWS_EKS:()=>o.Vx,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>o.Vf,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>o.JO,CLOUDPLATFORMVALUES_AZURE_AKS:()=>o.Vm,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>o.L6,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>o.oH,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>o.$R,CLOUDPLATFORMVALUES_AZURE_VM:()=>o.zF,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>o.$T,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>o.a1,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>o.qB,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>o.Tg,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>o.qN,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>o.Eh,CLOUDPROVIDERVALUES_AWS:()=>o.Xm,CLOUDPROVIDERVALUES_AZURE:()=>o.BY,CLOUDPROVIDERVALUES_GCP:()=>o.ov,CloudPlatformValues:()=>o.ns,CloudProviderValues:()=>o.jV,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>r.Bh9,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>r.Eo2,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>r.$8v,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>r.slN,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>r.VMk,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>r.g9x,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>r.G49,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>r.vhy,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>r.OSW,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>r.O2W,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>r.WJJ,DBSYSTEMVALUES_ADABAS:()=>r.nWK,DBSYSTEMVALUES_CACHE:()=>r.V02,DBSYSTEMVALUES_CASSANDRA:()=>r.Rk0,DBSYSTEMVALUES_CLOUDSCAPE:()=>r.CQB,DBSYSTEMVALUES_COCKROACHDB:()=>r.y__,DBSYSTEMVALUES_COLDFUSION:()=>r.TKU,DBSYSTEMVALUES_COSMOSDB:()=>r.zmF,DBSYSTEMVALUES_COUCHBASE:()=>r.oBD,DBSYSTEMVALUES_COUCHDB:()=>r.hV,DBSYSTEMVALUES_DB2:()=>r.xhJ,DBSYSTEMVALUES_DERBY:()=>r.XTF,DBSYSTEMVALUES_DYNAMODB:()=>r.poY,DBSYSTEMVALUES_EDB:()=>r.ynC,DBSYSTEMVALUES_ELASTICSEARCH:()=>r.Ylk,DBSYSTEMVALUES_FILEMAKER:()=>r.Xdf,DBSYSTEMVALUES_FIREBIRD:()=>r.IOi,DBSYSTEMVALUES_FIRSTSQL:()=>r.$wW,DBSYSTEMVALUES_GEODE:()=>r.N4Y,DBSYSTEMVALUES_H2:()=>r.JZz,DBSYSTEMVALUES_HANADB:()=>r.Dzx,DBSYSTEMVALUES_HBASE:()=>r.Spc,DBSYSTEMVALUES_HIVE:()=>r.nwz,DBSYSTEMVALUES_HSQLDB:()=>r.pfp,DBSYSTEMVALUES_INFORMIX:()=>r.L5D,DBSYSTEMVALUES_INGRES:()=>r.L2R,DBSYSTEMVALUES_INSTANTDB:()=>r.K2_,DBSYSTEMVALUES_INTERBASE:()=>r.y6V,DBSYSTEMVALUES_MARIADB:()=>r.ngE,DBSYSTEMVALUES_MAXDB:()=>r.XER,DBSYSTEMVALUES_MEMCACHED:()=>r.Oe4,DBSYSTEMVALUES_MONGODB:()=>r.X36,DBSYSTEMVALUES_MSSQL:()=>r.Vp5,DBSYSTEMVALUES_MYSQL:()=>r.bfK,DBSYSTEMVALUES_NEO4J:()=>r.BJ_,DBSYSTEMVALUES_NETEZZA:()=>r.irN,DBSYSTEMVALUES_ORACLE:()=>r.PU4,DBSYSTEMVALUES_OTHER_SQL:()=>r.Wb_,DBSYSTEMVALUES_PERVASIVE:()=>r.mc2,DBSYSTEMVALUES_POINTBASE:()=>r.Y$v,DBSYSTEMVALUES_POSTGRESQL:()=>r.jCw,DBSYSTEMVALUES_PROGRESS:()=>r.KjL,DBSYSTEMVALUES_REDIS:()=>r.W_f,DBSYSTEMVALUES_REDSHIFT:()=>r.MpS,DBSYSTEMVALUES_SQLITE:()=>r.vl2,DBSYSTEMVALUES_SYBASE:()=>r.K0$,DBSYSTEMVALUES_TERADATA:()=>r.Xuz,DBSYSTEMVALUES_VERTICA:()=>r.lcm,DbCassandraConsistencyLevelValues:()=>r.Nxd,DbSystemValues:()=>r.Q5s,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>r.mlL,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>r.VEl,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>r.oF4,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>r.y3W,FAASINVOKEDPROVIDERVALUES_AWS:()=>r.Tl5,FAASINVOKEDPROVIDERVALUES_AZURE:()=>r.d3j,FAASINVOKEDPROVIDERVALUES_GCP:()=>r.kOl,FAASTRIGGERVALUES_DATASOURCE:()=>r.uZf,FAASTRIGGERVALUES_HTTP:()=>r.v8K,FAASTRIGGERVALUES_OTHER:()=>r.ToY,FAASTRIGGERVALUES_PUBSUB:()=>r.CK9,FAASTRIGGERVALUES_TIMER:()=>r.IxL,FaasDocumentOperationValues:()=>r.Ijl,FaasInvokedProviderValues:()=>r.zI8,FaasTriggerValues:()=>r.iPC,HOSTARCHVALUES_AMD64:()=>o.so,HOSTARCHVALUES_ARM32:()=>o.hi,HOSTARCHVALUES_ARM64:()=>o.UQ,HOSTARCHVALUES_IA64:()=>o.av,HOSTARCHVALUES_PPC32:()=>o.OZ,HOSTARCHVALUES_PPC64:()=>o.DL,HOSTARCHVALUES_X86:()=>o.ig,HTTPFLAVORVALUES_HTTP_1_0:()=>r.dbJ,HTTPFLAVORVALUES_HTTP_1_1:()=>r.kPW,HTTPFLAVORVALUES_HTTP_2_0:()=>r.gGD,HTTPFLAVORVALUES_QUIC:()=>r.iFX,HTTPFLAVORVALUES_SPDY:()=>r.QhH,HostArchValues:()=>o.Cg,HttpFlavorValues:()=>r.dNH,MESSAGETYPEVALUES_RECEIVED:()=>r.sr7,MESSAGETYPEVALUES_SENT:()=>r.bZN,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>r.npt,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>r.HXm,MESSAGINGOPERATIONVALUES_PROCESS:()=>r.AVC,MESSAGINGOPERATIONVALUES_RECEIVE:()=>r.mO,MessageTypeValues:()=>r.Ywq,MessagingDestinationKindValues:()=>r.b7t,MessagingOperationValues:()=>r.Qgf,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>r.i9b,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>r.mN_,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>r.Q_6,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>r.EPu,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>r.uzh,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>r.Bez,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>r.uwh,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>r.Rpt,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>r.AdO,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>r.hu9,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>r.x0j,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>r.hze,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>r.kgK,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>r.rBh,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>r.IMI,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>r.wYf,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>r.bWQ,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>r.JPM,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>r.ddb,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>r._28,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>r.yIV,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>r.j7z,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>r.D3U,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>r.Vur,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>r.CGC,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>r.c1V,NETTRANSPORTVALUES_INPROC:()=>r.JjG,NETTRANSPORTVALUES_IP:()=>r.fN3,NETTRANSPORTVALUES_IP_TCP:()=>r.x85,NETTRANSPORTVALUES_IP_UDP:()=>r.ZUK,NETTRANSPORTVALUES_OTHER:()=>r.EUV,NETTRANSPORTVALUES_PIPE:()=>r.cjY,NETTRANSPORTVALUES_UNIX:()=>r.GR7,NetHostConnectionSubtypeValues:()=>r.cAF,NetHostConnectionTypeValues:()=>r.KSs,NetTransportValues:()=>r.z4S,OSTYPEVALUES_AIX:()=>o.cJ,OSTYPEVALUES_DARWIN:()=>o.JW,OSTYPEVALUES_DRAGONFLYBSD:()=>o.tD,OSTYPEVALUES_FREEBSD:()=>o.xG,OSTYPEVALUES_HPUX:()=>o.BT,OSTYPEVALUES_LINUX:()=>o.Yh,OSTYPEVALUES_NETBSD:()=>o.sS,OSTYPEVALUES_OPENBSD:()=>o.h7,OSTYPEVALUES_SOLARIS:()=>o.l9,OSTYPEVALUES_WINDOWS:()=>o.xR,OSTYPEVALUES_Z_OS:()=>o.Pi,OsTypeValues:()=>o.h0,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>r.$5b,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>r.TiO,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>r.Ryq,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>r.ueJ,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>r.wAY,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>r._pX,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>r.dXK,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>r.njt,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>r.ay9,RPCGRPCSTATUSCODEVALUES_OK:()=>r.wJ,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>r.GY$,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>r.nXs,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>r.KNN,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>r._Q_,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>r.gFG,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>r.p1q,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>r.ch2,RpcGrpcStatusCodeValues:()=>r.f3T,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>r.wpU,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>r.fhG,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>r.tGA,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>r.byW,SEMATTRS_AWS_DYNAMODB_COUNT:()=>r.F7w,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>r.Wif,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>r.TVZ,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>r.Ouu,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>r.gUJ,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>r.Wx7,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>r.La$,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>r.ti,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>r.frU,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>r.a4d,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>r.p30,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>r.sxk,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>r.r0m,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>r.F0K,SEMATTRS_AWS_DYNAMODB_SELECT:()=>r.u4L,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>r.mGg,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>r.Ta3,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>r.DBy,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>r.TCh,SEMATTRS_CODE_FILEPATH:()=>r.cvh,SEMATTRS_CODE_FUNCTION:()=>r.jrL,SEMATTRS_CODE_LINENO:()=>r.usz,SEMATTRS_CODE_NAMESPACE:()=>r.klU,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>r.Qt9,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>r.DNX,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>r.xq_,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>r._iR,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>r.Unu,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>r.Itx,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>r.NlD,SEMATTRS_DB_CASSANDRA_TABLE:()=>r.zri,SEMATTRS_DB_CONNECTION_STRING:()=>r.cd9,SEMATTRS_DB_HBASE_NAMESPACE:()=>r.bd4,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>r.qGX,SEMATTRS_DB_MONGODB_COLLECTION:()=>r.NlA,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>r.Eh5,SEMATTRS_DB_NAME:()=>r.Rt6,SEMATTRS_DB_OPERATION:()=>r.l60,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>r.wy2,SEMATTRS_DB_SQL_TABLE:()=>r.pHC,SEMATTRS_DB_STATEMENT:()=>r.FoJ,SEMATTRS_DB_SYSTEM:()=>r.V0Q,SEMATTRS_DB_USER:()=>r.N9D,SEMATTRS_ENDUSER_ID:()=>r.RHQ,SEMATTRS_ENDUSER_ROLE:()=>r.cSi,SEMATTRS_ENDUSER_SCOPE:()=>r.MWE,SEMATTRS_EXCEPTION_ESCAPED:()=>r.GKr,SEMATTRS_EXCEPTION_MESSAGE:()=>r.aP6,SEMATTRS_EXCEPTION_STACKTRACE:()=>r.ipG,SEMATTRS_EXCEPTION_TYPE:()=>r.P4J,SEMATTRS_FAAS_COLDSTART:()=>r.TRX,SEMATTRS_FAAS_CRON:()=>r.HVV,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>r.LxM,SEMATTRS_FAAS_DOCUMENT_NAME:()=>r.aTe,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>r.abe,SEMATTRS_FAAS_DOCUMENT_TIME:()=>r.aKn,SEMATTRS_FAAS_EXECUTION:()=>r.dsp,SEMATTRS_FAAS_INVOKED_NAME:()=>r.PIi,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>r.XNY,SEMATTRS_FAAS_INVOKED_REGION:()=>r.imY,SEMATTRS_FAAS_TIME:()=>r.cFk,SEMATTRS_FAAS_TRIGGER:()=>r.bes,SEMATTRS_HTTP_CLIENT_IP:()=>r.nS0,SEMATTRS_HTTP_FLAVOR:()=>r.o8O,SEMATTRS_HTTP_HOST:()=>r.Qv9,SEMATTRS_HTTP_METHOD:()=>r.vof,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>r.OdI,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>r.Plv,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>r.crS,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>r.XyR,SEMATTRS_HTTP_ROUTE:()=>r.tto,SEMATTRS_HTTP_SCHEME:()=>r.zPu,SEMATTRS_HTTP_SERVER_NAME:()=>r.H35,SEMATTRS_HTTP_STATUS_CODE:()=>r.W_O,SEMATTRS_HTTP_TARGET:()=>r.fub,SEMATTRS_HTTP_URL:()=>r.vSt,SEMATTRS_HTTP_USER_AGENT:()=>r.Nz$,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>r.U5o,SEMATTRS_MESSAGE_ID:()=>r.Gsd,SEMATTRS_MESSAGE_TYPE:()=>r.$58,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>r.LfK,SEMATTRS_MESSAGING_CONSUMER_ID:()=>r.w54,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>r.nN_,SEMATTRS_MESSAGING_DESTINATION:()=>r.Yjy,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>r.lDI,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>r.cZl,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>r.rsL,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>r.yRs,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>r.tNm,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>r.E__,SEMATTRS_MESSAGING_MESSAGE_ID:()=>r.XH7,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>r.CdG,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>r._Zr,SEMATTRS_MESSAGING_OPERATION:()=>r.zpg,SEMATTRS_MESSAGING_PROTOCOL:()=>r._af,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>r.DA0,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>r.Zl1,SEMATTRS_MESSAGING_SYSTEM:()=>r.zBy,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>r.JK9,SEMATTRS_MESSAGING_URL:()=>r.t8j,SEMATTRS_NET_HOST_CARRIER_ICC:()=>r.wgx,SEMATTRS_NET_HOST_CARRIER_MCC:()=>r.cA3,SEMATTRS_NET_HOST_CARRIER_MNC:()=>r.hXS,SEMATTRS_NET_HOST_CARRIER_NAME:()=>r.ynP,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>r.Ltc,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>r.PfM,SEMATTRS_NET_HOST_IP:()=>r.j$y,SEMATTRS_NET_HOST_NAME:()=>r.h70,SEMATTRS_NET_HOST_PORT:()=>r.Puv,SEMATTRS_NET_PEER_IP:()=>r.RvY,SEMATTRS_NET_PEER_NAME:()=>r.nvt,SEMATTRS_NET_PEER_PORT:()=>r.ZUg,SEMATTRS_NET_TRANSPORT:()=>r.Ac3,SEMATTRS_PEER_SERVICE:()=>r.RyT,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>r.C2y,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>r.Zwr,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>r.z_u,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>r.yew,SEMATTRS_RPC_JSONRPC_VERSION:()=>r.ZSz,SEMATTRS_RPC_METHOD:()=>r.Y3v,SEMATTRS_RPC_SERVICE:()=>r.GOV,SEMATTRS_RPC_SYSTEM:()=>r.sLO,SEMATTRS_THREAD_ID:()=>r.lpz,SEMATTRS_THREAD_NAME:()=>r.taz,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>o.VH,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>o.SV,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>o.SA,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>o.yB,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>o.Zf,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>o.MK,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>o.v0,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>o.an,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>o.qF,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>o.ZZ,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>o.Dn,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>o.E3,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>o.xC,SEMRESATTRS_CLOUD_PLATFORM:()=>o.Iq,SEMRESATTRS_CLOUD_PROVIDER:()=>o.mA,SEMRESATTRS_CLOUD_REGION:()=>o.Nw,SEMRESATTRS_CONTAINER_ID:()=>o.ux,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>o.uB,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>o.RB,SEMRESATTRS_CONTAINER_NAME:()=>o.aA,SEMRESATTRS_CONTAINER_RUNTIME:()=>o.PZ,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>o.I2,SEMRESATTRS_DEVICE_ID:()=>o.tn,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>o.BF,SEMRESATTRS_DEVICE_MODEL_NAME:()=>o.Bt,SEMRESATTRS_FAAS_ID:()=>o.Mm,SEMRESATTRS_FAAS_INSTANCE:()=>o.uu,SEMRESATTRS_FAAS_MAX_MEMORY:()=>o.PO,SEMRESATTRS_FAAS_NAME:()=>o.Uf,SEMRESATTRS_FAAS_VERSION:()=>o.lO,SEMRESATTRS_HOST_ARCH:()=>o.yT,SEMRESATTRS_HOST_ID:()=>o.zs,SEMRESATTRS_HOST_IMAGE_ID:()=>o.HP,SEMRESATTRS_HOST_IMAGE_NAME:()=>o.be,SEMRESATTRS_HOST_IMAGE_VERSION:()=>o.g9,SEMRESATTRS_HOST_NAME:()=>o.RK,SEMRESATTRS_HOST_TYPE:()=>o.kE,SEMRESATTRS_K8S_CLUSTER_NAME:()=>o.IG,SEMRESATTRS_K8S_CONTAINER_NAME:()=>o.Pb,SEMRESATTRS_K8S_CRONJOB_NAME:()=>o.Vy,SEMRESATTRS_K8S_CRONJOB_UID:()=>o.gT,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>o.Su,SEMRESATTRS_K8S_DAEMONSET_UID:()=>o.rK,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>o.do,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>o.k7,SEMRESATTRS_K8S_JOB_NAME:()=>o.z3,SEMRESATTRS_K8S_JOB_UID:()=>o.mc,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>o.Tl,SEMRESATTRS_K8S_NODE_NAME:()=>o.Ky,SEMRESATTRS_K8S_NODE_UID:()=>o.pV,SEMRESATTRS_K8S_POD_NAME:()=>o.TH,SEMRESATTRS_K8S_POD_UID:()=>o.gJ,SEMRESATTRS_K8S_REPLICASET_NAME:()=>o.kv,SEMRESATTRS_K8S_REPLICASET_UID:()=>o.PU,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>o.kn,SEMRESATTRS_K8S_STATEFULSET_UID:()=>o.f8,SEMRESATTRS_OS_DESCRIPTION:()=>o.ik,SEMRESATTRS_OS_NAME:()=>o.hQ,SEMRESATTRS_OS_TYPE:()=>o.ko,SEMRESATTRS_OS_VERSION:()=>o.AC,SEMRESATTRS_PROCESS_COMMAND:()=>o.Cn,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>o.U2,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>o.x2,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>o.fP,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>o.xQ,SEMRESATTRS_PROCESS_OWNER:()=>o.Yb,SEMRESATTRS_PROCESS_PID:()=>o.ky,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>o.C3,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>o.lb,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>o.cV,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>o.PL,SEMRESATTRS_SERVICE_NAME:()=>o.AV,SEMRESATTRS_SERVICE_NAMESPACE:()=>o.ar,SEMRESATTRS_SERVICE_VERSION:()=>o.xs,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>o.nA,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>o.Pl,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>o.$L,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>o.y$,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>o.U1,SEMRESATTRS_WEBENGINE_NAME:()=>o.HF,SEMRESATTRS_WEBENGINE_VERSION:()=>o.WN,SemanticAttributes:()=>r.IXq,SemanticResourceAttributes:()=>o._2,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>o.S5,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>o.XE,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>o.o2,TELEMETRYSDKLANGUAGEVALUES_GO:()=>o.HE,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>o.du,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>o.wE,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>o.tP,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>o.$c,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>o.jN,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>o.uh,TelemetrySdkLanguageValues:()=>o.wP});var r=n(366),o=n(87361)},21038:(e,t,n)=>{"use strict";function r(e){for(var t={},n=e.length,r=0;r<n;r++){var o=e[r];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}n.d(t,{O:()=>r})},87361:(e,t,n)=>{"use strict";n.d(t,{$L:()=>Qt,$R:()=>Zn,$T:()=>Yn,$c:()=>Jr,AC:()=>Gt,AS:()=>Qn,AV:()=>Xt,BF:()=>et,BT:()=>Nr,BY:()=>ln,Bt:()=>tt,C3:()=>Yt,Cg:()=>dr,Cn:()=>Zt,DL:()=>ur,Dn:()=>He,E3:()=>Me,Eh:()=>cn,Fz:()=>zn,HE:()=>Fr,HF:()=>tn,HP:()=>pt,I2:()=>$e,IG:()=>ft,Iq:()=>ke,JO:()=>kn,JW:()=>Ir,Jn:()=>Kn,Ky:()=>mt,L6:()=>Bn,MK:()=>Be,Mm:()=>rt,Nw:()=>Le,OZ:()=>cr,PL:()=>Kt,PO:()=>st,PU:()=>Et,PZ:()=>Ke,Pb:()=>yt,Pi:()=>Mr,Pl:()=>$t,RB:()=>Qe,RK:()=>ct,S5:()=>Br,SA:()=>Ue,SV:()=>Ge,Su:()=>Ot,TH:()=>St,Tg:()=>Wn,Tl:()=>_t,U1:()=>rn,U2:()=>Wt,UQ:()=>sr,Uf:()=>nt,VH:()=>De,Vf:()=>Gn,Vm:()=>Vn,Vx:()=>xn,Vy:()=>Mt,WC:()=>Mn,WE:()=>wn,WN:()=>nn,XE:()=>Wr,Xm:()=>un,Yb:()=>jt,Yh:()=>vr,ZZ:()=>Ye,Zf:()=>Ze,_2:()=>on,a1:()=>Hn,aA:()=>Xe,an:()=>Fe,ar:()=>Jt,av:()=>ar,be:()=>dt,cJ:()=>wr,cV:()=>Ht,do:()=>It,du:()=>Hr,f8:()=>Rt,fP:()=>Ut,g9:()=>ht,gJ:()=>bt,gT:()=>Pt,h0:()=>Lr,h7:()=>Cr,hQ:()=>kt,hi:()=>ir,ig:()=>lr,ik:()=>xt,jN:()=>Kr,jV:()=>pn,k7:()=>vt,kE:()=>ut,kn:()=>At,ko:()=>Lt,kv:()=>Tt,ky:()=>Dt,l9:()=>Pr,lO:()=>ot,lb:()=>Ft,mA:()=>Pe,mc:()=>Nt,nA:()=>en,ns:()=>Xn,o2:()=>jr,oH:()=>Un,op:()=>Pn,ov:()=>dn,p7:()=>Ln,pV:()=>gt,qB:()=>jn,qF:()=>je,qN:()=>Fn,rK:()=>Ct,sS:()=>Ar,so:()=>or,tD:()=>Or,tP:()=>Xr,tn:()=>qe,uB:()=>ze,uh:()=>zr,uu:()=>it,ux:()=>Je,v0:()=>We,wE:()=>Yr,wP:()=>Qr,x2:()=>Bt,xC:()=>xe,xG:()=>Rr,xQ:()=>Vt,xR:()=>Tr,xs:()=>zt,y$:()=>qt,yB:()=>Ve,yT:()=>lt,z3:()=>wt,zF:()=>Dn,zs:()=>at});var r=n(21038),o="cloud.provider",i="cloud.account.id",s="cloud.region",a="cloud.availability_zone",c="cloud.platform",u="aws.ecs.container.arn",l="aws.ecs.cluster.arn",d="aws.ecs.launchtype",p="aws.ecs.task.arn",h="aws.ecs.task.family",f="aws.ecs.task.revision",m="aws.eks.cluster.arn",g="aws.log.group.names",_="aws.log.group.arns",b="aws.log.stream.names",S="aws.log.stream.arns",y="container.name",E="container.id",T="container.runtime",v="container.image.name",I="container.image.tag",R="deployment.environment",A="device.id",C="device.model.identifier",O="device.model.name",N="faas.name",w="faas.id",P="faas.version",M="faas.instance",L="faas.max_memory",x="host.id",k="host.name",G="host.type",D="host.arch",U="host.image.name",V="host.image.id",Z="host.image.version",B="k8s.cluster.name",W="k8s.node.name",j="k8s.node.uid",F="k8s.namespace.name",H="k8s.pod.uid",Y="k8s.pod.name",X="k8s.container.name",J="k8s.replicaset.uid",K="k8s.replicaset.name",z="k8s.deployment.uid",Q="k8s.deployment.name",$="k8s.statefulset.uid",q="k8s.statefulset.name",ee="k8s.daemonset.uid",te="k8s.daemonset.name",ne="k8s.job.uid",re="k8s.job.name",oe="k8s.cronjob.uid",ie="k8s.cronjob.name",se="os.type",ae="os.description",ce="os.name",ue="os.version",le="process.pid",de="process.executable.name",pe="process.executable.path",he="process.command",fe="process.command_line",me="process.command_args",ge="process.owner",_e="process.runtime.name",be="process.runtime.version",Se="process.runtime.description",ye="service.name",Ee="service.namespace",Te="service.instance.id",ve="service.version",Ie="telemetry.sdk.name",Re="telemetry.sdk.language",Ae="telemetry.sdk.version",Ce="telemetry.auto.version",Oe="webengine.name",Ne="webengine.version",we="webengine.description",Pe=o,Me=i,Le=s,xe=a,ke=c,Ge=u,De=l,Ue=d,Ve=p,Ze=h,Be=f,We=m,je=g,Fe=_,He=b,Ye=S,Xe=y,Je=E,Ke=T,ze=v,Qe=I,$e=R,qe=A,et=C,tt=O,nt=N,rt=w,ot=P,it=M,st=L,at=x,ct=k,ut=G,lt=D,dt=U,pt=V,ht=Z,ft=B,mt=W,gt=j,_t=F,bt=H,St=Y,yt=X,Et=J,Tt=K,vt=z,It=Q,Rt=$,At=q,Ct=ee,Ot=te,Nt=ne,wt=re,Pt=oe,Mt=ie,Lt=se,xt=ae,kt=ce,Gt=ue,Dt=le,Ut=de,Vt=pe,Zt=he,Bt=fe,Wt=me,jt=ge,Ft=_e,Ht=be,Yt=Se,Xt=ye,Jt=Ee,Kt=Te,zt=ve,Qt=Ie,$t=Re,qt=Ae,en=Ce,tn=Oe,nn=Ne,rn=we,on=(0,r.O)([o,i,s,a,c,u,l,d,p,h,f,m,g,_,b,S,y,E,T,v,I,R,A,C,O,N,w,P,M,L,x,k,G,D,U,V,Z,B,W,j,F,H,Y,X,J,K,z,Q,$,q,ee,te,ne,re,oe,ie,se,ae,ce,ue,le,de,pe,he,fe,me,ge,_e,be,Se,ye,Ee,Te,ve,Ie,Re,Ae,Ce,Oe,Ne,we]),sn="alibaba_cloud",an="azure",cn=sn,un="aws",ln=an,dn="gcp",pn=(0,r.O)([sn,"aws",an,"gcp"]),hn="alibaba_cloud_ecs",fn="alibaba_cloud_fc",mn="aws_ec2",gn="aws_ecs",_n="aws_eks",bn="aws_lambda",Sn="aws_elastic_beanstalk",yn="azure_vm",En="azure_container_instances",Tn="azure_aks",vn="azure_functions",In="azure_app_service",Rn="gcp_compute_engine",An="gcp_cloud_run",Cn="gcp_kubernetes_engine",On="gcp_cloud_functions",Nn="gcp_app_engine",wn=hn,Pn=fn,Mn=mn,Ln=gn,xn=_n,kn=bn,Gn=Sn,Dn=yn,Un=En,Vn=Tn,Zn=vn,Bn=In,Wn=Rn,jn=An,Fn=Cn,Hn=On,Yn=Nn,Xn=(0,r.O)([hn,fn,mn,gn,_n,bn,Sn,yn,En,Tn,vn,In,Rn,An,Cn,On,Nn]),Jn="fargate",Kn="ec2",zn=Jn,Qn=(0,r.O)(["ec2",Jn]),$n="amd64",qn="arm32",er="arm64",tr="ia64",nr="ppc32",rr="ppc64",or=$n,ir=qn,sr=er,ar=tr,cr=nr,ur=rr,lr="x86",dr=(0,r.O)([$n,qn,er,tr,nr,rr,"x86"]),pr="windows",hr="linux",fr="darwin",mr="freebsd",gr="netbsd",_r="openbsd",br="dragonflybsd",Sr="hpux",yr="solaris",Er="z_os",Tr=pr,vr=hr,Ir=fr,Rr=mr,Ar=gr,Cr=_r,Or=br,Nr=Sr,wr="aix",Pr=yr,Mr=Er,Lr=(0,r.O)([pr,hr,fr,mr,gr,_r,br,Sr,"aix",yr,Er]),xr="dotnet",kr="erlang",Gr="java",Dr="nodejs",Ur="python",Vr="ruby",Zr="webjs",Br="cpp",Wr=xr,jr=kr,Fr="go",Hr=Gr,Yr=Dr,Xr="php",Jr=Ur,Kr=Vr,zr=Zr,Qr=(0,r.O)(["cpp",xr,kr,"go",Gr,Dr,"php",Ur,Vr,Zr])},366:(e,t,n)=>{"use strict";n.d(t,{$58:()=>Br,$5b:()=>sc,$8v:()=>Vi,$wW:()=>Qo,AVC:()=>Ja,Ac3:()=>cn,AdO:()=>Ra,BJ_:()=>Ri,Bez:()=>ma,Bh9:()=>Ui,C2y:()=>Gr,CGC:()=>Zs,CK9:()=>rs,CQB:()=>Ho,CdG:()=>Ir,D3U:()=>js,DA0:()=>Sr,DBy:()=>ur,DNX:()=>Zt,Dzx:()=>Ko,EPu:()=>va,EUV:()=>Ls,E__:()=>Mr,Eh5:()=>Mt,Eo2:()=>Yi,F0K:()=>cr,F7w:()=>lr,FoJ:()=>wt,G49:()=>Wi,GKr:()=>Jt,GOV:()=>xr,GR7:()=>ws,GY$:()=>ac,Gsd:()=>Wr,H35:()=>jn,HVV:()=>nn,HXm:()=>ja,IMI:()=>Ca,IOi:()=>ti,IXq:()=>Hr,Ijl:()=>hs,Itx:()=>xt,IxL:()=>os,JK9:()=>_r,JPM:()=>Oa,JZz:()=>mi,JjG:()=>Ms,K0$:()=>pi,K2_:()=>ii,KNN:()=>oc,KSs:()=>Hs,KjL:()=>Xo,L2R:()=>zo,L5D:()=>oi,La$:()=>qn,LfK:()=>Fr,Ltc:()=>gn,LxM:()=>Qt,MWE:()=>In,MpS:()=>jo,N4Y:()=>Ai,N9D:()=>Ct,NlA:()=>jt,NlD:()=>Ut,Nxd:()=>Ki,Nz$:()=>Un,O2W:()=>Fi,OSW:()=>Xi,OdI:()=>Vn,Oe4:()=>Oi,Ouu:()=>hr,P4J:()=>Ht,PIi:()=>on,PU4:()=>Zo,PfM:()=>mn,Plv:()=>Zn,Puv:()=>hn,Q5s:()=>wi,Q_6:()=>da,Qgf:()=>Ka,QhH:()=>Da,Qt9:()=>kt,Qv9:()=>xn,RHQ:()=>Tn,Rk0:()=>_i,Rpt:()=>la,Rt6:()=>Nt,RvY:()=>un,RyT:()=>En,Ryq:()=>Qa,Spc:()=>bi,TCh:()=>It,TKU:()=>gi,TRX:()=>rn,TVZ:()=>rr,Ta3:()=>Yn,TiO:()=>nc,Tl5:()=>_s,ToY:()=>is,U5o:()=>jr,Unu:()=>Lt,V02:()=>qo,V0Q:()=>Rt,VEl:()=>ds,VMk:()=>Bi,Vp5:()=>Uo,Vur:()=>Fs,WJJ:()=>ji,W_O:()=>Gn,W_f:()=>yi,Wb_:()=>Do,Wif:()=>ir,Wx7:()=>Jn,X36:()=>Si,XER:()=>Jo,XH7:()=>Er,XNY:()=>sn,XTF:()=>ni,Xdf:()=>ri,Xuz:()=>hi,XyR:()=>Wn,Y$v:()=>li,Y3v:()=>kr,Yjy:()=>mr,Ylk:()=>Ci,Ywq:()=>bc,ZSz:()=>Dr,ZUK:()=>Os,ZUg:()=>ln,Zl1:()=>Cr,Zwr:()=>Vr,_28:()=>Aa,_Q_:()=>pc,_Zr:()=>vr,_af:()=>br,_iR:()=>Dt,_pX:()=>ic,a4d:()=>Kn,aKn:()=>qt,aP6:()=>Yt,aTe:()=>en,abe:()=>$t,ay9:()=>tc,b7t:()=>Fa,bWQ:()=>wa,bZN:()=>gc,bd4:()=>Bt,bes:()=>Kt,bfK:()=>Vo,byW:()=>Xn,c1V:()=>Bs,cA3:()=>bn,cAF:()=>Pa,cFk:()=>tn,cSi:()=>vn,cZl:()=>wr,cd9:()=>At,ch2:()=>$a,cjY:()=>Ps,crS:()=>Bn,cvh:()=>Nn,d3j:()=>bs,dNH:()=>Va,dXK:()=>uc,dbJ:()=>xa,ddb:()=>Na,dsp:()=>zt,f3T:()=>hc,fN3:()=>Ns,fhG:()=>pr,frU:()=>$n,fub:()=>Ln,g9x:()=>Ji,gFG:()=>lc,gGD:()=>Ga,gUJ:()=>tr,h70:()=>fn,hV:()=>Ti,hXS:()=>Sn,hu9:()=>_a,hze:()=>Ia,i9b:()=>ha,iFX:()=>Ua,iPC:()=>ss,imY:()=>an,ipG:()=>Xt,irN:()=>ci,j$y:()=>pn,j7z:()=>Ws,jCw:()=>Wo,jrL:()=>Cn,kOl:()=>Ss,kPW:()=>ka,kgK:()=>ba,klU:()=>On,l60:()=>Pt,lDI:()=>gr,lcm:()=>fi,lpz:()=>Rn,mGg:()=>sr,mN_:()=>ga,mO:()=>Xa,mc2:()=>ui,mlL:()=>ps,nN_:()=>Tr,nS0:()=>Hn,nWK:()=>ei,nXs:()=>rc,ngE:()=>ai,njt:()=>qa,npt:()=>Wa,nvt:()=>dn,nwz:()=>Fo,o8O:()=>Dn,oBD:()=>Ei,oF4:()=>ls,p1q:()=>cc,p30:()=>zn,pHC:()=>Ft,pfp:()=>Yo,poY:()=>Ii,qGX:()=>Ot,r0m:()=>ar,rBh:()=>ya,rsL:()=>Nr,sLO:()=>Lr,slN:()=>Hi,sr7:()=>_c,sxk:()=>dr,t8j:()=>yr,tGA:()=>Qn,tNm:()=>Pr,taz:()=>An,ti:()=>or,tto:()=>Fn,u4L:()=>nr,uZf:()=>ts,ueJ:()=>dc,usz:()=>wn,uwh:()=>Ea,uzh:()=>fa,v8K:()=>ns,vSt:()=>Mn,vhy:()=>Zi,vl2:()=>di,vof:()=>Pn,w54:()=>Ar,wAY:()=>ec,wJ:()=>za,wYf:()=>Ta,wgx:()=>yn,wpU:()=>er,wy2:()=>Wt,x0j:()=>Sa,x85:()=>Cs,xhJ:()=>Bo,xq_:()=>Vt,y3W:()=>gs,y6V:()=>si,yIV:()=>pa,yRs:()=>Or,y__:()=>Ni,yew:()=>Ur,ynC:()=>$o,ynP:()=>_n,z4S:()=>xs,zBy:()=>fr,zI8:()=>ys,zPu:()=>kn,z_u:()=>Zr,zmF:()=>vi,zpg:()=>Rr,zri:()=>Gt});var r=n(21038),o="aws.lambda.invoked_arn",i="db.system",s="db.connection_string",a="db.user",c="db.jdbc.driver_classname",u="db.name",l="db.statement",d="db.operation",p="db.mssql.instance_name",h="db.cassandra.keyspace",f="db.cassandra.page_size",m="db.cassandra.consistency_level",g="db.cassandra.table",_="db.cassandra.idempotence",b="db.cassandra.speculative_execution_count",S="db.cassandra.coordinator.id",y="db.cassandra.coordinator.dc",E="db.hbase.namespace",T="db.redis.database_index",v="db.mongodb.collection",I="db.sql.table",R="exception.type",A="exception.message",C="exception.stacktrace",O="exception.escaped",N="faas.trigger",w="faas.execution",P="faas.document.collection",M="faas.document.operation",L="faas.document.time",x="faas.document.name",k="faas.time",G="faas.cron",D="faas.coldstart",U="faas.invoked_name",V="faas.invoked_provider",Z="faas.invoked_region",B="net.transport",W="net.peer.ip",j="net.peer.port",F="net.peer.name",H="net.host.ip",Y="net.host.port",X="net.host.name",J="net.host.connection.type",K="net.host.connection.subtype",z="net.host.carrier.name",Q="net.host.carrier.mcc",$="net.host.carrier.mnc",q="net.host.carrier.icc",ee="peer.service",te="enduser.id",ne="enduser.role",re="enduser.scope",oe="thread.id",ie="thread.name",se="code.function",ae="code.namespace",ce="code.filepath",ue="code.lineno",le="http.method",de="http.url",pe="http.target",he="http.host",fe="http.scheme",me="http.status_code",ge="http.flavor",_e="http.user_agent",be="http.request_content_length",Se="http.request_content_length_uncompressed",ye="http.response_content_length",Ee="http.response_content_length_uncompressed",Te="http.server_name",ve="http.route",Ie="http.client_ip",Re="aws.dynamodb.table_names",Ae="aws.dynamodb.consumed_capacity",Ce="aws.dynamodb.item_collection_metrics",Oe="aws.dynamodb.provisioned_read_capacity",Ne="aws.dynamodb.provisioned_write_capacity",we="aws.dynamodb.consistent_read",Pe="aws.dynamodb.projection",Me="aws.dynamodb.limit",Le="aws.dynamodb.attributes_to_get",xe="aws.dynamodb.index_name",ke="aws.dynamodb.select",Ge="aws.dynamodb.global_secondary_indexes",De="aws.dynamodb.local_secondary_indexes",Ue="aws.dynamodb.exclusive_start_table",Ve="aws.dynamodb.table_count",Ze="aws.dynamodb.scan_forward",Be="aws.dynamodb.segment",We="aws.dynamodb.total_segments",je="aws.dynamodb.count",Fe="aws.dynamodb.scanned_count",He="aws.dynamodb.attribute_definitions",Ye="aws.dynamodb.global_secondary_index_updates",Xe="messaging.system",Je="messaging.destination",Ke="messaging.destination_kind",ze="messaging.temp_destination",Qe="messaging.protocol",$e="messaging.protocol_version",qe="messaging.url",et="messaging.message_id",tt="messaging.conversation_id",nt="messaging.message_payload_size_bytes",rt="messaging.message_payload_compressed_size_bytes",ot="messaging.operation",it="messaging.consumer_id",st="messaging.rabbitmq.routing_key",at="messaging.kafka.message_key",ct="messaging.kafka.consumer_group",ut="messaging.kafka.client_id",lt="messaging.kafka.partition",dt="messaging.kafka.tombstone",pt="rpc.system",ht="rpc.service",ft="rpc.method",mt="rpc.grpc.status_code",gt="rpc.jsonrpc.version",_t="rpc.jsonrpc.request_id",bt="rpc.jsonrpc.error_code",St="rpc.jsonrpc.error_message",yt="message.type",Et="message.id",Tt="message.compressed_size",vt="message.uncompressed_size",It=o,Rt=i,At=s,Ct=a,Ot=c,Nt=u,wt=l,Pt=d,Mt=p,Lt=h,xt=f,kt=m,Gt=g,Dt=_,Ut=b,Vt=S,Zt=y,Bt=E,Wt=T,jt=v,Ft=I,Ht=R,Yt=A,Xt=C,Jt=O,Kt=N,zt=w,Qt=P,$t=M,qt=L,en=x,tn=k,nn=G,rn=D,on=U,sn=V,an=Z,cn=B,un=W,ln=j,dn=F,pn=H,hn=Y,fn=X,mn=J,gn=K,_n=z,bn=Q,Sn=$,yn=q,En=ee,Tn=te,vn=ne,In=re,Rn=oe,An=ie,Cn=se,On=ae,Nn=ce,wn=ue,Pn=le,Mn=de,Ln=pe,xn=he,kn=fe,Gn=me,Dn=ge,Un=_e,Vn=be,Zn=Se,Bn=ye,Wn=Ee,jn=Te,Fn=ve,Hn=Ie,Yn=Re,Xn=Ae,Jn=Ce,Kn=Oe,zn=Ne,Qn=we,$n=Pe,qn=Me,er=Le,tr=xe,nr=ke,rr=Ge,or=De,ir=Ue,sr=Ve,ar=Ze,cr=Be,ur=We,lr=je,dr=Fe,pr=He,hr=Ye,fr=Xe,mr=Je,gr=Ke,_r=ze,br=Qe,Sr=$e,yr=qe,Er=et,Tr=tt,vr=nt,Ir=rt,Rr=ot,Ar=it,Cr=st,Or=at,Nr=ct,wr=ut,Pr=lt,Mr=dt,Lr=pt,xr=ht,kr=ft,Gr=mt,Dr=gt,Ur=_t,Vr=bt,Zr=St,Br=yt,Wr=Et,jr=Tt,Fr=vt,Hr=(0,r.O)([o,i,s,a,c,u,l,d,p,h,f,m,g,_,b,S,y,E,T,v,I,R,A,C,O,N,w,P,M,L,x,k,G,D,U,V,Z,B,W,j,F,H,Y,X,J,K,z,Q,$,q,ee,te,ne,re,oe,ie,se,ae,ce,ue,le,de,pe,he,fe,me,ge,_e,be,Se,ye,Ee,Te,ve,Ie,Re,Ae,Ce,Oe,Ne,we,Pe,Me,Le,xe,ke,Ge,De,Ue,Ve,Ze,Be,We,je,Fe,He,Ye,Xe,Je,Ke,ze,Qe,$e,qe,et,tt,nt,rt,ot,it,st,at,ct,ut,lt,dt,pt,ht,ft,mt,gt,_t,bt,St,yt,Et,Tt,vt]),Yr="other_sql",Xr="mssql",Jr="mysql",Kr="oracle",zr="postgresql",Qr="redshift",$r="hive",qr="cloudscape",eo="hsqldb",to="progress",no="maxdb",ro="hanadb",oo="ingres",io="firstsql",so="cache",ao="adabas",co="firebird",uo="derby",lo="filemaker",po="informix",ho="instantdb",fo="interbase",mo="mariadb",go="netezza",_o="pervasive",bo="pointbase",So="sqlite",yo="sybase",Eo="teradata",To="vertica",vo="coldfusion",Io="cassandra",Ro="hbase",Ao="mongodb",Co="redis",Oo="couchbase",No="couchdb",wo="cosmosdb",Po="dynamodb",Mo="neo4j",Lo="geode",xo="elasticsearch",ko="memcached",Go="cockroachdb",Do=Yr,Uo=Xr,Vo=Jr,Zo=Kr,Bo="db2",Wo=zr,jo=Qr,Fo=$r,Ho=qr,Yo=eo,Xo=to,Jo=no,Ko=ro,zo=oo,Qo=io,$o="edb",qo=so,ei=ao,ti=co,ni=uo,ri=lo,oi=po,ii=ho,si=fo,ai=mo,ci=go,ui=_o,li=bo,di=So,pi=yo,hi=Eo,fi=To,mi="h2",gi=vo,_i=Io,bi=Ro,Si=Ao,yi=Co,Ei=Oo,Ti=No,vi=wo,Ii=Po,Ri=Mo,Ai=Lo,Ci=xo,Oi=ko,Ni=Go,wi=(0,r.O)([Yr,Xr,Jr,Kr,"db2",zr,Qr,$r,qr,eo,to,no,ro,oo,io,"edb",so,ao,co,uo,lo,po,ho,fo,mo,go,_o,bo,So,yo,Eo,To,"h2",vo,Io,Ro,Ao,Co,Oo,No,wo,Po,Mo,Lo,xo,ko,Go]),Pi="each_quorum",Mi="quorum",Li="local_quorum",xi="three",ki="local_one",Gi="serial",Di="local_serial",Ui="all",Vi=Pi,Zi=Mi,Bi=Li,Wi="one",ji="two",Fi=xi,Hi=ki,Yi="any",Xi=Gi,Ji=Di,Ki=(0,r.O)(["all",Pi,Mi,Li,"one","two",xi,ki,"any",Gi,Di]),zi="datasource",Qi="http",$i="pubsub",qi="timer",es="other",ts=zi,ns=Qi,rs=$i,os=qi,is=es,ss=(0,r.O)([zi,Qi,$i,qi,es]),as="insert",cs="edit",us="delete",ls=as,ds=cs,ps=us,hs=(0,r.O)([as,cs,us]),fs="alibaba_cloud",ms="azure",gs=fs,_s="aws",bs=ms,Ss="gcp",ys=(0,r.O)([fs,"aws",ms,"gcp"]),Es="ip_tcp",Ts="ip_udp",vs="unix",Is="pipe",Rs="inproc",As="other",Cs=Es,Os=Ts,Ns="ip",ws=vs,Ps=Is,Ms=Rs,Ls=As,xs=(0,r.O)([Es,Ts,"ip",vs,Is,Rs,As]),ks="wifi",Gs="wired",Ds="cell",Us="unavailable",Vs="unknown",Zs=ks,Bs=Gs,Ws=Ds,js=Us,Fs=Vs,Hs=(0,r.O)([ks,Gs,Ds,Us,Vs]),Ys="gprs",Xs="edge",Js="umts",Ks="cdma",zs="evdo_0",Qs="evdo_a",$s="cdma2000_1xrtt",qs="hsdpa",ea="hsupa",ta="hspa",na="iden",ra="evdo_b",oa="ehrpd",ia="hspap",sa="td_scdma",aa="iwlan",ca="nrnsa",ua="lte_ca",la=Ys,da=Xs,pa=Js,ha=Ks,fa=zs,ma=Qs,ga=$s,_a=qs,ba=ea,Sa=ta,ya=na,Ea=ra,Ta="lte",va=oa,Ia=ia,Ra="gsm",Aa=sa,Ca=aa,Oa="nr",Na=ca,wa=ua,Pa=(0,r.O)([Ys,Xs,Js,Ks,zs,Qs,$s,qs,ea,ta,na,ra,"lte",oa,ia,"gsm",sa,aa,"nr",ca,ua]),Ma="SPDY",La="QUIC",xa="1.0",ka="1.1",Ga="2.0",Da=Ma,Ua=La,Va={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:Ma,QUIC:La},Za="queue",Ba="topic",Wa=Za,ja=Ba,Fa=(0,r.O)([Za,Ba]),Ha="receive",Ya="process",Xa=Ha,Ja=Ya,Ka=(0,r.O)([Ha,Ya]),za=0,Qa=1,$a=2,qa=3,ec=4,tc=5,nc=6,rc=7,oc=8,ic=9,sc=10,ac=11,cc=12,uc=13,lc=14,dc=15,pc=16,hc={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},fc="SENT",mc="RECEIVED",gc=fc,_c=mc,bc=(0,r.O)([fc,mc])},57263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSqlCommenterComment=void 0;const r=n(74681),o=n(72477);t.addSqlCommenterComment=function(e,t){if("string"!=typeof t||0===t.length)return t;if(function(e){const t=e.indexOf("--");return t>=0||!(e.indexOf("/*")<0)&&t<e.indexOf("*/")}(t))return t;const n=new o.W3CTraceContextPropagator,i={};n.inject(r.trace.setSpan(r.ROOT_CONTEXT,e),i,r.defaultTextMapSetter);const s=Object.keys(i).sort();return 0===s.length?t:`${t} /*${s.map((e=>`${e}='${encodeURIComponent(i[e]).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}'`)).join(",")}*/`}},80600:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{GLOBAL_KEY:()=>p,MODULE_NAME:()=>m,NAME:()=>f,VERSION:()=>h}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=(0,n(19073).__commonJS)({"package.json"(e,t){t.exports={name:"@prisma/instrumentation",version:"5.17.0",description:"OpenTelemetry compliant instrumentation for Prisma Client",main:"dist/index.js",types:"dist/index.d.ts",license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation"},bugs:"https://github.com/prisma/prisma/issues",devDependencies:{"@prisma/internals":"workspace:*","@swc/core":"1.6.13","@types/jest":"29.5.12","@types/node":"18.19.31",jest:"29.7.0","jest-junit":"16.0.0",typescript:"5.4.5"},dependencies:{"@opentelemetry/api":"^1.8","@opentelemetry/instrumentation":"^0.49 || ^0.50 || ^0.51 || ^0.52.0","@opentelemetry/sdk-trace-base":"^1.22"},files:["dist"],keywords:["prisma","instrumentation","opentelemetry","otel"],scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"jest"},sideEffects:!1}}}),{version:l,name:d}=u(),p="PRISMA_INSTRUMENTATION",h=l,f=d,m="prisma"},62765:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{PrismaInstrumentation:()=>p}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=n(27233),l=n(80600),d=n(25907),p=class extends d.InstrumentationBase{constructor(e={}){super(l.NAME,l.VERSION,e)}init(){return[new d.InstrumentationNodeModuleDefinition(l.MODULE_NAME,[l.VERSION])]}enable(){const e=this._config,t={helper:new u.ActiveTracingHelper({traceMiddleware:e.middleware??!1})};global[l.GLOBAL_KEY]=t}disable(){delete global[l.GLOBAL_KEY]}isEnabled(){return Boolean(global[l.GLOBAL_KEY])}}},19073:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{__commonJS:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var a=Object.getOwnPropertyNames,c=(e,t)=>function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports}},27233:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{ActiveTracingHelper:()=>p}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=n(74681),l=n(71426),d="true"===process.env.PRISMA_SHOW_ALL_TRACES,p=class{constructor({traceMiddleware:e}){this.traceMiddleware=e}isEnabled(){return!0}getTraceParent(e){const t=u.trace.getSpanContext(e??u.context.active());return t?`00-${t.traceId}-${t.spanId}-0${t.traceFlags}`:"00-10-10-00"}createEngineSpan(e){const t=u.trace.getTracer("prisma");e.spans.forEach((e=>{const n={traceId:e.trace_id,spanId:e.span_id,traceFlags:u.TraceFlags.SAMPLED},r=e.links?.map((e=>({context:{traceId:e.trace_id,spanId:e.span_id,traceFlags:u.TraceFlags.SAMPLED}}))),o=new l.Span(t,u.ROOT_CONTEXT,e.name,n,u.SpanKind.INTERNAL,e.parent_span_id,r,e.start_time);e.attributes&&o.setAttributes(e.attributes),o.end(e.end_time)}))}getActiveContext(){return u.context.active()}runInChildSpan(e,t){if("string"==typeof e&&(e={name:e}),e.internal&&!d)return t();if(e.middleware&&!this.traceMiddleware)return t();const n=u.trace.getTracer("prisma"),r=e.context??this.getActiveContext(),o=`prisma:client:${e.name}`;if(!1===e.active){const i=n.startSpan(o,e,r);return h(i,t(i,r))}return n.startActiveSpan(o,e,(e=>h(e,t(e,r))))}};function h(e,t){return null!=(n=t)&&"function"==typeof n.then?t.then((t=>(e.end(),t)),(t=>{throw e.end(),t})):(e.end(),t);var n}},57991:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{PrismaInstrumentation:()=>u.PrismaInstrumentation}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=n(62765);n(27233),n(80600),n(19073)},85740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);function o(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}t.getEnvelopeEndpointWithUrlEncodedAuth=function(e,t,n){return t||`${function(e){return`${o(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r.urlEncode({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,n)}`},t.getReportDialogEndpoint=function(e,t){const n=r.makeDsn(e);if(!n)return"";const i=`${o(n)}embed/error-page/`;let s=`dsn=${r.dsnToString(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(s+=`&name=${encodeURIComponent(e.name)}`),e.email&&(s+=`&email=${encodeURIComponent(e.email)}`)}else s+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${i}?${s}`}},42810:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(73220),o=n(5475);t.getAsyncContextStrategy=function(e){const t=r.getSentryCarrier(e);return t.acs?t.acs:o.getStackAsyncContextStrategy()},t.setAsyncContextStrategy=function(e){const t=r.getMainCarrier();r.getSentryCarrier(t).acs=e}},5475:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(37320),i=n(69640),s=n(73220);class a{constructor(e,t){let n,r;n=e||new i.Scope,r=t||new i.Scope,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return r.isThenable(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function c(){const e=s.getMainCarrier(),t=s.getSentryCarrier(e);return t.stack=t.stack||new a(o.getDefaultCurrentScope(),o.getDefaultIsolationScope())}function u(e){return c().withScope(e)}function l(e,t){const n=c();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function d(e){return c().withScope((()=>e(c().getIsolationScope())))}t.AsyncContextStack=a,t.getStackAsyncContextStrategy=function(){return{withIsolationScope:d,withScope:u,withSetScope:l,withSetIsolationScope:(e,t)=>d(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},29564:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(85740),i=n(49564),s=n(68974),a=n(30238),c=n(82430),u=n(11348),l=n(93754),d=n(10393),p=n(31485),h="Not capturing exception because it's already been captured.";function f(e){return void 0===e.type}function m(e){return"transaction"===e.type}t.BaseClient=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=r.makeDsn(e.dsn):s.DEBUG_BUILD&&r.logger.warn("No DSN provided, client will not send events."),this._dsn){const t=o.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const o=r.uuid4();if(r.checkOrSetAlreadyCaught(e))return s.DEBUG_BUILD&&r.logger.log(h),o;const i={event_id:o,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,o){const i={event_id:r.uuid4(),...n},s=r.isParameterizedString(e)?e:String(e),a=r.isPrimitive(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(a.then((e=>this._captureEvent(e,i,o)))),i.event_id}captureEvent(e,t,n){const o=r.uuid4();if(t&&t.originalException&&r.checkOrSetAlreadyCaught(t.originalException))return s.DEBUG_BUILD&&r.logger.log(h),o;const i={event_id:o,...t},a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,a||n)),i.event_id}captureSession(e){"string"!=typeof e.release?s.DEBUG_BUILD&&r.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),u.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):r.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];c.setupIntegration(this,e,this._integrations),t||c.afterSetupIntegrations(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=a.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=r.addItemToEnvelope(n,r.createAttachmentEnvelopeItem(e));const o=this.sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=a.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const o="number"==typeof n?n:1,i=`${e}:${t}`;s.DEBUG_BUILD&&r.logger.log(`Recording outcome: "${i}"${o>1?` (${o} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+o}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(s.DEBUG_BUILD&&r.logger.error("Error while sending event:",e),e))):(s.DEBUG_BUILD&&r.logger.error("Transport disabled"),r.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=c.setupIntegrations(this,e),c.afterSetupIntegrations(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(u.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new r.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=i.getIsolationScope()){const s=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),e.type||o.setLastEventId(e.event_id||t.event_id),p.prepareEvent(s,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:o,parentSpanId:i,dsc:s}=t;e.contexts={trace:r.dropUndefinedKeys({trace_id:n,span_id:o,parent_span_id:i}),...e.contexts};const a=s||l.getDynamicSamplingContextFromClient(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(s.DEBUG_BUILD){const t=e;"log"===t.logLevel?r.logger.log(t.message):r.logger.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:i}=o,s=m(e),a=f(e),c=e.type||"error",u=`before send for type \`${c}\``,l=void 0===i?void 0:d.parseSampleRate(i);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",e),r.rejectedSyncPromise(new r.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const p="replay_event"===c?"replay":c,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,h).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",p,e),new r.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t;if(f(n)&&o)return o(n,r);if(m(n)){if(n.spans&&s){const t=[];for(const r of n.spans){const n=s(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(i){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(n,r)}}return n}(this,o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(r.isThenable(e))return e.then((e=>{if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}),(e=>{throw new r.SentryError(`${t} rejected with ${e}`)}));if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}(i,u)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",p,e),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new r.SentryError(`${u} returned \`null\`, will not send event.`,"log")}const i=n&&n.getSession();if(!s&&i&&this._updateSessionFromEvent(i,o),s){const e=(o.sdkProcessingMetadata&&o.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=o.transaction_info;if(s&&a&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...a,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof r.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new r.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){s.DEBUG_BUILD&&r.logger.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(s.DEBUG_BUILD&&r.logger.log("No outcomes to send"));if(!this._dsn)return void(s.DEBUG_BUILD&&r.logger.log("No dsn provided, will not send outcomes"));s.DEBUG_BUILD&&r.logger.log("Sending outcomes:",e);const t=r.createClientReportEnvelope(e,this._options.tunnel&&r.dsnToString(this._dsn));this.sendEnvelope(t)}}},87990:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=100;t.addBreadcrumb=function(e,t){const n=o.getClient(),s=o.getIsolationScope();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:c=i}=n.getOptions();if(c<=0)return;const u={timestamp:r.dateTimestampInSeconds(),...e},l=a?r.consoleSandbox((()=>a(u,t))):u;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),s.addBreadcrumb(l,c))}},73220:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);function o(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||r.SDK_VERSION,t[r.SDK_VERSION]=t[r.SDK_VERSION]||{}}t.getMainCarrier=function(){return o(r.GLOBAL_OBJ),r.GLOBAL_OBJ},t.getSentryCarrier=o},60251:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);t.createCheckInEnvelope=function(e,t,n,o,i){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),o&&i&&(s.dsn=r.dsnToString(i)),t&&(s.trace=r.dropUndefinedKeys(t));const a=function(e){return[{type:"check_in"},e]}(e);return r.createEnvelope(s,[a])}},42501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENVIRONMENT="production"},49564:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(42810),i=n(73220),s=n(69640);function a(){const e=i.getMainCarrier();return o.getAsyncContextStrategy(e).getCurrentScope()}t.getClient=function(){return a().getClient()},t.getCurrentScope=a,t.getGlobalScope=function(){return r.getGlobalSingleton("globalScope",(()=>new s.Scope))},t.getIsolationScope=function(){const e=i.getMainCarrier();return o.getAsyncContextStrategy(e).getIsolationScope()},t.withIsolationScope=function(...e){const t=i.getMainCarrier(),n=o.getAsyncContextStrategy(t);if(2===e.length){const[t,r]=e;return t?n.withSetIsolationScope(t,r):n.withIsolationScope(r)}return n.withIsolationScope(e[0])},t.withScope=function(...e){const t=i.getMainCarrier(),n=o.getAsyncContextStrategy(t);if(2===e.length){const[t,r]=e;return t?n.withSetScope(t,r):n.withScope(r)}return n.withScope(e[0])}},68974:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},37320:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(69640);t.getDefaultCurrentScope=function(){return r.getGlobalSingleton("defaultCurrentScope",(()=>new o.Scope))},t.getDefaultIsolationScope=function(){return r.getGlobalSingleton("defaultIsolationScope",(()=>new o.Scope))}},30238:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(93754),i=n(54583);t.createEventEnvelope=function(e,t,n,o){const i=r.getSdkMetadataForEnvelopeHeader(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=r.createEventEnvelopeHeaders(e,i,o,t);delete e.sdkProcessingMetadata;const c=[{type:s},e];return r.createEnvelope(a,[c])},t.createSessionEnvelope=function(e,t,n,o){const i=r.getSdkMetadataForEnvelopeHeader(n),s={sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!o&&t&&{dsn:r.dsnToString(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return r.createEnvelope(s,[a])},t.createSpanEnvelope=function(e,t){const n=o.getDynamicSamplingContextFromSpan(e[0]),s=t&&t.getDsn(),a=t&&t.getOptions().tunnel,c={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!a&&s&&{dsn:r.dsnToString(s)}},u=t&&t.getOptions().beforeSendSpan,l=u?e=>u(i.spanToJSON(e)):e=>i.spanToJSON(e),d=[];for(const t of e){const e=l(t);e&&d.push(r.createSpanEnvelopeItem(e))}return r.createEnvelope(c,d)}},51929:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974);t.notifyEventProcessors=function e(t,n,i,s=0){return new r.SyncPromise(((a,c)=>{const u=t[s];if(null===n||"function"!=typeof u)a(n);else{const l=u({...n},i);o.DEBUG_BUILD&&u.id&&null===l&&r.logger.log(`Event processor "${u.id}" dropped event`),r.isThenable(l)?l.then((n=>e(t,n,i,s+1).then(a))).then(null,c):e(t,l,i,s+1).then(a).then(null,c)}}))}},79183:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(42501),i=n(49564),s=n(68974),a=n(11348),c=n(31485);function u(e,t){const n=i.getCurrentScope(),o=i.getClient();if(o){if(o.captureCheckIn)return o.captureCheckIn(e,t,n);s.DEBUG_BUILD&&r.logger.warn("Cannot capture check-in. Client does not support sending check-ins.")}else s.DEBUG_BUILD&&r.logger.warn("Cannot capture check-in. No client defined.");return r.uuid4()}function l(){const e=i.getIsolationScope(),t=i.getCurrentScope(),n=t.getSession()||e.getSession();n&&a.closeSession(n),d(),e.setSession(),t.setSession()}function d(){const e=i.getIsolationScope(),t=i.getCurrentScope(),n=i.getClient(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}t.addEventProcessor=function(e){i.getIsolationScope().addEventProcessor(e)},t.captureCheckIn=u,t.captureEvent=function(e,t){return i.getCurrentScope().captureEvent(e,t)},t.captureException=function(e,t){return i.getCurrentScope().captureException(e,c.parseEventHintOrCaptureContext(t))},t.captureMessage=function(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return i.getCurrentScope().captureMessage(e,n,r)},t.captureSession=function(e=!1){e?l():d()},t.close=async function(e){const t=i.getClient();return t?t.close(e):(s.DEBUG_BUILD&&r.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},t.endSession=l,t.flush=async function(e){const t=i.getClient();return t?t.flush(e):(s.DEBUG_BUILD&&r.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},t.isEnabled=function(){const e=i.getClient();return!!e&&!1!==e.getOptions().enabled&&!!e.getTransport()},t.isInitialized=function(){return!!i.getClient()},t.lastEventId=function(){return i.getIsolationScope().lastEventId()},t.setContext=function(e,t){i.getIsolationScope().setContext(e,t)},t.setExtra=function(e,t){i.getIsolationScope().setExtra(e,t)},t.setExtras=function(e){i.getIsolationScope().setExtras(e)},t.setTag=function(e,t){i.getIsolationScope().setTag(e,t)},t.setTags=function(e){i.getIsolationScope().setTags(e)},t.setUser=function(e){i.getIsolationScope().setUser(e)},t.startSession=function(e){const t=i.getClient(),n=i.getIsolationScope(),s=i.getCurrentScope(),{release:c,environment:u=o.DEFAULT_ENVIRONMENT}=t&&t.getOptions()||{},{userAgent:d}=r.GLOBAL_OBJ.navigator||{},p=a.makeSession({release:c,environment:u,user:s.getUser()||n.getUser(),...d&&{userAgent:d},...e}),h=n.getSession();return h&&"ok"===h.status&&a.updateSession(h,{status:"exited"}),l(),n.setSession(p),s.setSession(p),p},t.withMonitor=function(e,t,n){const o=u({monitorSlug:e,status:"in_progress"},n),s=r.timestampInSeconds();function a(t){u({monitorSlug:e,status:t,checkInId:o,duration:r.timestampInSeconds()-s})}return i.withIsolationScope((()=>{let e;try{e=t()}catch(e){throw a("error"),e}return r.isThenable(e)?Promise.resolve(e).then((()=>{a("ok")}),(()=>{a("error")})):a("ok"),e}))}},6933:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564);t.captureFeedback=function(e,t={},n=o.getCurrentScope()){const{message:i,name:s,email:a,url:c,source:u,associatedEventId:l,tags:d}=e,p={contexts:{feedback:r.dropUndefinedKeys({contact_email:a,name:s,message:i,url:c,source:u,associated_event_id:l})},type:"feedback",level:"info",tags:d},h=n&&n.getClient()||o.getClient();return h&&h.emit("beforeSendFeedback",p,t),n.captureEvent(p,t)}},31096:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(52751);n(44038),n(68974);const s=n(60073),a=n(54583),c=n(67392),u=n(15363),l=n(55908),d=n(93754);function p(e,t,n,i,s){const c=o.getIsolationScope(),{traceId:u,spanId:l,sampled:p,dsc:h}={...c.getPropagationContext(),...n.getPropagationContext()},f=s?a.spanToTraceHeader(s):r.generateSentryTraceHeader(u,l,p),m=r.dynamicSamplingContextToSentryBaggageHeader(h||(s?d.getDynamicSamplingContextFromSpan(s):d.getDynamicSamplingContextFromClient(u,t))),g=i.headers||("undefined"!=typeof Request&&r.isInstanceOf(e,Request)?e.headers:void 0);if(g){if("undefined"!=typeof Headers&&r.isInstanceOf(g,Headers)){const e=new Headers(g);return e.append("sentry-trace",f),m&&e.append(r.BAGGAGE_HEADER_NAME,m),e}if(Array.isArray(g)){const e=[...g,["sentry-trace",f]];return m&&e.push([r.BAGGAGE_HEADER_NAME,m]),e}{const e="baggage"in g?g.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{...g,"sentry-trace":f,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":f,baggage:m}}t.addTracingHeadersToFetchRequest=p,t.instrumentFetchRequest=function(e,t,n,d,h="auto.http.browser"){if(!e.fetchData)return;const f=s.hasTracingEnabled()&&t(e.fetchData.url);if(e.endTimestamp&&f){const t=e.fetchData.__span;if(!t)return;const n=d[t];return void(n&&(function(e,t){if(t.response){u.setHttpStatus(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:u.SPAN_STATUS_ERROR,message:"internal_error"});e.end()}(n,e),delete d[t]))}const m=o.getCurrentScope(),g=o.getClient(),{method:_,url:b}=e.fetchData,S=function(e){try{return new URL(e).href}catch(e){return}}(b),y=S?r.parseUrl(S).host:void 0,E=!!a.getActiveSpan(),T=f&&E?l.startInactiveSpan({name:`${_} ${b}`,attributes:{url:b,type:"fetch","http.method":_,"http.url":S,"server.address":y,[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:h,[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new c.SentryNonRecordingSpan;if(e.fetchData.__span=T.spanContext().spanId,d[T.spanContext().spanId]=T,n(e.fetchData.url)&&g){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=p(t,g,m,n,s.hasTracingEnabled()&&E?T:void 0)}return T}},67249:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(87990),o=n(49564),i=n(79183);function s(){return{bindClient(e){o.getCurrentScope().setClient(e)},withScope:o.withScope,getClient:()=>o.getClient(),getScope:o.getCurrentScope,getIsolationScope:o.getIsolationScope,captureException:(e,t)=>o.getCurrentScope().captureException(e,t),captureMessage:(e,t,n)=>o.getCurrentScope().captureMessage(e,t,n),captureEvent:i.captureEvent,addBreadcrumb:r.addBreadcrumb,setUser:i.setUser,setTags:i.setTags,setTag:i.setTag,setExtra:i.setExtra,setExtras:i.setExtras,setContext:i.setContext,getIntegration(e){const t=o.getClient();return t&&t.getIntegrationByName(e.id)||null},startSession:i.startSession,endSession:i.endSession,captureSession(e){if(e)return i.endSession();!function(){const e=o.getCurrentScope(),t=o.getClient(),n=e.getSession();t&&n&&t.captureSession(n)}()}}}const a=s;t.getCurrentHub=a,t.getCurrentHubShim=s},37872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44038),o=n(64284),i=n(12188),s=n(57011),a=n(30242),c=n(67392),u=n(15363),l=n(55908),d=n(93754),p=n(28945),h=n(79816),f=n(8346),m=n(52751),g=n(30238),_=n(79183),b=n(49564),S=n(37320),y=n(42810),E=n(73220),T=n(11348),v=n(84751),I=n(69640),R=n(51929),A=n(85740),C=n(29564),O=n(24842),N=n(27008),w=n(64450),P=n(52256),M=n(14082),L=n(82430),x=n(5013),k=n(31485),G=n(60251),D=n(60073),U=n(46877),V=n(76354),Z=n(72979),B=n(54583),W=n(10393),j=n(55303),F=n(20647),H=n(145),Y=n(42501),X=n(87990),J=n(68360),K=n(66492),z=n(92958),Q=n(52213),$=n(92215),q=n(75003),ee=n(39097),te=n(431),ne=n(41312),re=n(17536),oe=n(200),ie=n(24208),se=n(80699),ae=n(92177),ce=n(9133),ue=n(92094),le=n(14021),de=n(31096),pe=n(36033),he=n(6933),fe=n(67249),me=n(24320);t.registerSpanErrorInstrumentation=r.registerSpanErrorInstrumentation,t.getCapturedScopesOnSpan=o.getCapturedScopesOnSpan,t.setCapturedScopesOnSpan=o.setCapturedScopesOnSpan,t.addTracingExtensions=i.addTracingExtensions,t.TRACING_DEFAULTS=s.TRACING_DEFAULTS,t.startIdleSpan=s.startIdleSpan,t.SentrySpan=a.SentrySpan,t.SentryNonRecordingSpan=c.SentryNonRecordingSpan,t.SPAN_STATUS_ERROR=u.SPAN_STATUS_ERROR,t.SPAN_STATUS_OK=u.SPAN_STATUS_OK,t.SPAN_STATUS_UNSET=u.SPAN_STATUS_UNSET,t.getSpanStatusFromHttpCode=u.getSpanStatusFromHttpCode,t.setHttpStatus=u.setHttpStatus,t.continueTrace=l.continueTrace,t.startInactiveSpan=l.startInactiveSpan,t.startNewTrace=l.startNewTrace,t.startSpan=l.startSpan,t.startSpanManual=l.startSpanManual,t.suppressTracing=l.suppressTracing,t.withActiveSpan=l.withActiveSpan,t.getDynamicSamplingContextFromClient=d.getDynamicSamplingContextFromClient,t.getDynamicSamplingContextFromSpan=d.getDynamicSamplingContextFromSpan,t.spanToBaggageHeader=d.spanToBaggageHeader,t.setMeasurement=p.setMeasurement,t.timedEventsToMeasurements=p.timedEventsToMeasurements,t.sampleSpan=h.sampleSpan,t.logSpanEnd=f.logSpanEnd,t.logSpanStart=f.logSpanStart,t.SEMANTIC_ATTRIBUTE_CACHE_HIT=m.SEMANTIC_ATTRIBUTE_CACHE_HIT,t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=m.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,t.SEMANTIC_ATTRIBUTE_CACHE_KEY=m.SEMANTIC_ATTRIBUTE_CACHE_KEY,t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=m.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,t.SEMANTIC_ATTRIBUTE_PROFILE_ID=m.SEMANTIC_ATTRIBUTE_PROFILE_ID,t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=m.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=m.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=m.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=m.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=m.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=m.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=m.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.createEventEnvelope=g.createEventEnvelope,t.createSessionEnvelope=g.createSessionEnvelope,t.createSpanEnvelope=g.createSpanEnvelope,t.addEventProcessor=_.addEventProcessor,t.captureCheckIn=_.captureCheckIn,t.captureEvent=_.captureEvent,t.captureException=_.captureException,t.captureMessage=_.captureMessage,t.captureSession=_.captureSession,t.close=_.close,t.endSession=_.endSession,t.flush=_.flush,t.isEnabled=_.isEnabled,t.isInitialized=_.isInitialized,t.lastEventId=_.lastEventId,t.setContext=_.setContext,t.setExtra=_.setExtra,t.setExtras=_.setExtras,t.setTag=_.setTag,t.setTags=_.setTags,t.setUser=_.setUser,t.startSession=_.startSession,t.withMonitor=_.withMonitor,t.getClient=b.getClient,t.getCurrentScope=b.getCurrentScope,t.getGlobalScope=b.getGlobalScope,t.getIsolationScope=b.getIsolationScope,t.withIsolationScope=b.withIsolationScope,t.withScope=b.withScope,t.getDefaultCurrentScope=S.getDefaultCurrentScope,t.getDefaultIsolationScope=S.getDefaultIsolationScope,t.setAsyncContextStrategy=y.setAsyncContextStrategy,t.getMainCarrier=E.getMainCarrier,t.closeSession=T.closeSession,t.makeSession=T.makeSession,t.updateSession=T.updateSession,t.SessionFlusher=v.SessionFlusher,t.Scope=I.Scope,t.notifyEventProcessors=R.notifyEventProcessors,t.getEnvelopeEndpointWithUrlEncodedAuth=A.getEnvelopeEndpointWithUrlEncodedAuth,t.getReportDialogEndpoint=A.getReportDialogEndpoint,t.BaseClient=C.BaseClient,t.ServerRuntimeClient=O.ServerRuntimeClient,t.initAndBind=N.initAndBind,t.setCurrentClient=N.setCurrentClient,t.createTransport=w.createTransport,t.makeOfflineTransport=P.makeOfflineTransport,t.makeMultiplexedTransport=M.makeMultiplexedTransport,t.addIntegration=L.addIntegration,t.defineIntegration=L.defineIntegration,t.getIntegrationsToSetup=L.getIntegrationsToSetup,t.applyScopeDataToEvent=x.applyScopeDataToEvent,t.mergeScopeData=x.mergeScopeData,t.prepareEvent=k.prepareEvent,t.createCheckInEnvelope=G.createCheckInEnvelope,t.hasTracingEnabled=D.hasTracingEnabled,t.isSentryRequestUrl=U.isSentryRequestUrl,t.handleCallbackErrors=V.handleCallbackErrors,t.parameterize=Z.parameterize,t.addChildSpanToSpan=B.addChildSpanToSpan,t.getActiveSpan=B.getActiveSpan,t.getRootSpan=B.getRootSpan,t.getSpanDescendants=B.getSpanDescendants,t.getStatusMessage=B.getStatusMessage,t.spanIsSampled=B.spanIsSampled,t.spanTimeInputToSeconds=B.spanTimeInputToSeconds,t.spanToJSON=B.spanToJSON,t.spanToTraceContext=B.spanToTraceContext,t.spanToTraceHeader=B.spanToTraceHeader,t.parseSampleRate=W.parseSampleRate,t.applySdkMetadata=j.applySdkMetadata,t.getTraceData=F.getTraceData,t.getTraceMetaTags=H.getTraceMetaTags,t.DEFAULT_ENVIRONMENT=Y.DEFAULT_ENVIRONMENT,t.addBreadcrumb=X.addBreadcrumb,t.functionToStringIntegration=J.functionToStringIntegration,t.inboundFiltersIntegration=K.inboundFiltersIntegration,t.linkedErrorsIntegration=z.linkedErrorsIntegration,t.moduleMetadataIntegration=Q.moduleMetadataIntegration,t.requestDataIntegration=$.requestDataIntegration,t.captureConsoleIntegration=q.captureConsoleIntegration,t.debugIntegration=ee.debugIntegration,t.dedupeIntegration=te.dedupeIntegration,t.extraErrorDataIntegration=ne.extraErrorDataIntegration,t.rewriteFramesIntegration=re.rewriteFramesIntegration,t.sessionTimingIntegration=oe.sessionTimingIntegration,t.zodErrorsIntegration=ie.zodErrorsIntegration,t.thirdPartyErrorFilterIntegration=se.thirdPartyErrorFilterIntegration,t.metrics=ae.metrics,t.metricsDefault=ce.metricsDefault,t.BrowserMetricsAggregator=ue.BrowserMetricsAggregator,t.getMetricSummaryJsonForSpan=le.getMetricSummaryJsonForSpan,t.addTracingHeadersToFetchRequest=de.addTracingHeadersToFetchRequest,t.instrumentFetchRequest=de.instrumentFetchRequest,t.trpcMiddleware=pe.trpcMiddleware,t.captureFeedback=he.captureFeedback,t.getCurrentHub=fe.getCurrentHub,t.getCurrentHubShim=fe.getCurrentHubShim,t.SDK_VERSION=me.SDK_VERSION},82430:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(68974),s=[];function a(e,t,n){if(n[t.name])i.DEBUG_BUILD&&r.logger.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===s.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),s.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}i.DEBUG_BUILD&&r.logger.log(`Integration installed: ${t.name}`)}}t.addIntegration=function(e){const t=o.getClient();t?t.addIntegration(e):i.DEBUG_BUILD&&r.logger.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},t.afterSetupIntegrations=function(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)},t.defineIntegration=function(e){return e},t.getIntegrationsToSetup=function(e){const t=e.defaultIntegrations||[],n=e.integrations;let o;t.forEach((e=>{e.isDefaultInstance=!0})),o=Array.isArray(n)?[...t,...n]:"function"==typeof n?r.arrayify(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(o),s=i.findIndex((e=>"Debug"===e.name));if(s>-1){const[e]=i.splice(s,1);i.push(e)}return i},t.installedIntegrations=s,t.setupIntegration=a,t.setupIntegrations=function(e,t){const n={};return t.forEach((t=>{t&&a(e,t,n)})),n}},75003:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(79183),s=n(82430).defineIntegration(((e={})=>{const t=e.levels||r.CONSOLE_LEVELS;return{name:"CaptureConsole",setup(e){"console"in r.GLOBAL_OBJ&&r.addConsoleInstrumentationHandler((({args:n,level:s})=>{o.getClient()===e&&t.includes(s)&&function(e,t){const n={level:r.severityLevelFromString(t),extra:{arguments:e}};o.withScope((o=>{if(o.addEventProcessor((e=>(e.logger="console",r.addExceptionMechanism(e,{handled:!1,type:"console"}),e))),"assert"===t){if(!e[0]){const t=`Assertion failed: ${r.safeJoin(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),i.captureMessage(t,n)}return}const s=e.find((e=>e instanceof Error));if(s)return void i.captureException(s,n);const a=r.safeJoin(e," ");i.captureMessage(a,n)}))}(n,s)}))}}}));t.captureConsoleIntegration=s},39097:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430).defineIntegration(((e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:"Debug",setup(e){e.on("beforeSendEvent",((e,n)=>{t.debugger,r.consoleSandbox((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}}));t.debugIntegration=o},431:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430),i=n(68974),s=o.defineIntegration((()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(a(t,e))return i.DEBUG_BUILD&&r.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function a(e,t){return!(!t||!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!u(e,t)&&!!c(e,t))))}(e,t)&&!function(e,t){const n=l(t),r=l(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!u(e,t)&&!!c(e,t)))}(e,t))}function c(e,t){let n=r.getFramesFromEvent(e),o=r.getFramesFromEvent(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],r=n[e];if(t.filename!==r.filename||t.lineno!==r.lineno||t.colno!==r.colno||t.function!==r.function)return!1}return!0}function u(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function l(e){return e.exception&&e.exception.values&&e.exception.values[0]}t._shouldDropEvent=a,t.dedupeIntegration=s},41312:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430),i=n(68974),s=o.defineIntegration(((e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,o,s){const{maxValueLength:a=250}=s.getOptions();return function(e,t={},n,o,s){if(!t.originalException||!r.isError(t.originalException))return e;const a=t.originalException.name||t.originalException.constructor.name,c=function(e,t,n){try{const o=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],i={};for(const t of Object.keys(e)){if(-1!==o.indexOf(t))continue;const s=e[t];i[t]=r.isError(s)||"string"==typeof s?r.truncate(`${s}`,n):s}if(t&&void 0!==e.cause&&(i.cause=r.isError(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];i[e]=r.isError(n)?n.toString():n}}return i}catch(e){i.DEBUG_BUILD&&r.logger.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,o,s);if(c){const t={...e.contexts},o=r.normalize(c,n);return r.isPlainObject(o)&&(r.addNonEnumerableProperty(o,"__sentry_skip_normalization__",!0),t[a]=o),{...e,contexts:t}}return e}(e,o,t,n,a)}}}));t.extraErrorDataIntegration=s},68360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(82430);let s;const a=new WeakMap,c=i.defineIntegration((()=>({name:"FunctionToString",setupOnce(){s=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=r.getOriginalFunction(this),n=a.has(o.getClient())&&void 0!==t?t:this;return s.apply(n,e)}}catch(e){}},setup(e){a.set(e,!0)}})));t.functionToStringIntegration=c},66492:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974),i=n(82430),s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],a=i.defineIntegration(((e={})=>({name:"InboundFilters",processEvent(t,n,i){const a=i.getOptions(),u=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:s],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,a);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let n;e.message&&t.push(e.message);try{n=e.exception.values[e.exception.values.length-1]}catch(e){}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}(e).some((e=>r.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e){return!e.type&&(!(!e.exception||!e.exception.values||0===e.exception.values.length)&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))))}(e)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.ignoreTransactions)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=c(e);return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.denyUrls)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${c(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=c(e);return!n||r.stringMatchesSomePattern(n,t)}(e,t.allowUrls)&&(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${c(e)}`),!0)}(t,u)?null:t}})));function c(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return o.DEBUG_BUILD&&r.logger.error(`Cannot extract url for event ${r.getEventDescription(e)}`),null}}t.inboundFiltersIntegration=a},92958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430).defineIntegration(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,o,i){const s=i.getOptions();r.applyAggregateErrorsToEvent(r.exceptionFromError,s.stackParser,s.maxValueLength,n,t,e,o)}}}));t.linkedErrorsIntegration=o},52213:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430),i=n(36823),s=o.defineIntegration((()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",(e=>{r.forEachEnvelopeItem(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(i.stripMetadataFromStackFrames(t),e[1]=t)}}))})),e.on("applyFrameMetadata",(t=>{if(t.type)return;const n=e.getOptions().stackParser;i.addMetadataToStackFrames(n,t)}))}})));t.moduleMetadataIntegration=s},92215:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430),i={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},s=o.defineIntegration(((e={})=>{const t={...i,...e,include:{...i.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...i.include.user,...(e.include||{}).user}}};return{name:"RequestData",processEvent(e){const{sdkProcessingMetadata:n={}}=e,o=n.request;if(!o)return e;const i=function(e){const{transactionNamingScheme:t,include:{ip:n,user:r,...o}}=e,i=["method"];for(const[e,t]of Object.entries(o))t&&i.push(e);let s;if(void 0===r)s=!0;else if("boolean"==typeof r)s=r;else{const e=[];for(const[t,n]of Object.entries(r))n&&e.push(t);s=e}return{include:{ip:n,user:s,request:0!==i.length?i:void 0,transaction:t}}}(t);return r.addRequestDataToEvent(e,o,i)}}}));t.requestDataIntegration=s},17536:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430).defineIntegration(((e={})=>{const t=e.root,n=e.prefix||"app:///",o="window"in r.GLOBAL_OBJ&&void 0!==r.GLOBAL_OBJ.window,s=e.iteratee||i({isBrowser:o,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>s(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}}));function i({isBrowser:e,root:t,prefix:n}){return o=>{if(!o.filename)return o;const i=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),s=/^\//.test(o.filename);if(e){if(t){const e=o.filename;0===e.indexOf(t)&&(o.filename=e.replace(t,n))}}else if(i||s){const e=i?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,s=t?r.relative(t,e):r.basename(e);o.filename=`${n}${s}`}return o}}t.generateIteratee=i,t.rewriteFramesIntegration=o},200:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430).defineIntegration((()=>{const e=1e3*r.timestampInSeconds();return{name:"SessionTiming",processEvent(t){const n=1e3*r.timestampInSeconds();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}}));t.sessionTimingIntegration=o},80699:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(82430),i=n(36823),s=o.defineIntegration((e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",(e=>{r.forEachEnvelopeItem(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(i.stripMetadataFromStackFrames(t),e[1]=t)}}))})),e.on("applyFrameMetadata",(t=>{if(t.type)return;const n=e.getOptions().stackParser;i.addMetadataToStackFrames(n,t)}))},processEvent(t){const n=function(e){const t=r.getFramesFromEvent(e);if(t)return t.filter((e=>!!e.filename)).map((e=>e.module_metadata?Object.keys(e.module_metadata).filter((e=>e.startsWith(a))).map((e=>e.slice(a.length))):[]))}(t);if(n&&n["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"]((t=>!t.some((t=>e.filterKeys.includes(t)))))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0}}return t}}))),a="_sentryBundlerPluginAppKey:";t.thirdPartyErrorFilterIntegration=s},24208:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);function o(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function i(e){const t=new Set;for(const n of e.issues)n.path&&n.path[0]&&t.add(n.path[0]);const n=Array.from(t);return`Failed to validate keys: ${r.truncate(n.join(", "),100)}`}function s(e,t,n){return t.exception&&t.exception.values&&n&&n.originalException&&(s=n.originalException,r.isError(s)&&"ZodError"===s.name&&Array.isArray(s.errors))&&0!==n.originalException.issues.length?{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:i(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(o)}}:t;var s}const a=n(82430).defineIntegration(((e={})=>{const t=e.limit||10;return{name:"ZodErrors",processEvent:(e,n)=>s(t,e,n)}}));t.applyZodErrorsToEvent=s,t.zodErrorsIntegration=a},36823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=new Map,i=new Set;function s(e,t){return function(e){if(r.GLOBAL_OBJ._sentryModuleMetadata)for(const t of Object.keys(r.GLOBAL_OBJ._sentryModuleMetadata)){const n=r.GLOBAL_OBJ._sentryModuleMetadata[t];if(i.has(t))continue;i.add(t);const s=e(t);for(const e of s.reverse())if(e.filename){o.set(e.filename,n);break}}}(e),o.get(t)}t.addMetadataToStackFrames=function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename||n.module_metadata)continue;const t=s(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}},t.getMetadataForUrl=s,t.stripMetadataFromStackFrames=function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}},30885:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(54583),i=n(89371),s=n(8844),a=n(38423),c=n(3227);t.MetricsAggregator=class{constructor(e){this._client=e,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval((()=>this._flush()),i.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*i.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(e,t,n,s="none",u={},l=r.timestampInSeconds()){const d=Math.floor(l),p=c.sanitizeMetricKey(t),h=c.sanitizeTags(u),f=c.sanitizeUnit(s),m=c.getBucketKey(e,p,f,h);let g=this._buckets.get(m);const _=g&&e===i.SET_METRIC_TYPE?g.metric.weight:0;g?(g.metric.add(n),g.timestamp<d&&(g.timestamp=d)):(g={metric:new a.METRIC_MAP[e](n),timestamp:d,metricType:e,name:p,unit:f,tags:h},this._buckets.set(m,g));const b="string"==typeof n?g.metric.weight-_:n;o.updateMetricSummaryOnActiveSpan(e,p,b,f,u,m),this._bucketsTotalWeight+=g.metric.weight,this._bucketsTotalWeight>=i.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush)return this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),void this._buckets.clear();const e=Math.floor(r.timestampInSeconds())-i.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,t=new Map;for(const[n,r]of this._buckets)r.timestamp<=e&&(t.set(n,r),this._bucketsTotalWeight-=r.metric.weight);for(const[e]of t)this._buckets.delete(e);this._captureMetrics(t)}_captureMetrics(e){if(e.size>0){const t=Array.from(e).map((([,e])=>e));s.captureAggregateMetrics(this._client,t)}}}},92094:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(54583),i=n(89371),s=n(8844),a=n(38423),c=n(3227);t.BrowserMetricsAggregator=class{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),i.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(e,t,n,s="none",u={},l=r.timestampInSeconds()){const d=Math.floor(l),p=c.sanitizeMetricKey(t),h=c.sanitizeTags(u),f=c.sanitizeUnit(s),m=c.getBucketKey(e,p,f,h);let g=this._buckets.get(m);const _=g&&e===i.SET_METRIC_TYPE?g.metric.weight:0;g?(g.metric.add(n),g.timestamp<d&&(g.timestamp=d)):(g={metric:new a.METRIC_MAP[e](n),timestamp:d,metricType:e,name:p,unit:f,tags:h},this._buckets.set(m,g));const b="string"==typeof n?g.metric.weight-_:n;o.updateMetricSummaryOnActiveSpan(e,p,b,f,u,m)}flush(){if(0===this._buckets.size)return;const e=Array.from(this._buckets.values());s.captureAggregateMetrics(this._client,e),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}},89371:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COUNTER_METRIC_TYPE="c",t.DEFAULT_BROWSER_FLUSH_INTERVAL=5e3,t.DEFAULT_FLUSH_INTERVAL=1e4,t.DISTRIBUTION_METRIC_TYPE="d",t.GAUGE_METRIC_TYPE="g",t.MAX_WEIGHT=1e4,t.SET_METRIC_TYPE="s"},8844:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(3227);function i(e,t,n,i){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),i&&t&&(s.dsn=r.dsnToString(t));const a=function(e){const t=o.serializeMetricBuckets(e);return[{type:"statsd",length:t.length},t]}(e);return r.createEnvelope(s,[a])}t.captureAggregateMetrics=function(e,t){r.logger.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=i(t,e.getDsn(),e.getSdkMetadata(),e.getOptions().tunnel);e.sendEnvelope(n)},t.createMetricEnvelope=i},9133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(30885),o=n(92177),i={increment:function(e,t=1,n){o.metrics.increment(r.MetricsAggregator,e,t,n)},distribution:function(e,t,n){o.metrics.distribution(r.MetricsAggregator,e,t,n)},set:function(e,t,n){o.metrics.set(r.MetricsAggregator,e,t,n)},gauge:function(e,t,n){o.metrics.gauge(r.MetricsAggregator,e,t,n)},timing:function(e,t,n="second",i){return o.metrics.timing(r.MetricsAggregator,e,t,n,i)},getMetricsAggregatorForClient:function(e){return o.metrics.getMetricsAggregatorForClient(e,r.MetricsAggregator)}};t.metricsDefault=i},92177:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(68974);n(44038);const s=n(54583),a=n(55908),c=n(76354),u=n(89371);function l(e,t){const n=r.getGlobalSingleton("globalMetricsAggregators",(()=>new WeakMap)),o=n.get(e);if(o)return o;const i=new t(e);return e.on("flush",(()=>i.flush())),e.on("close",(()=>i.close())),n.set(e,i),i}function d(e,t,n,a,c={}){const u=c.client||o.getClient();if(!u)return;const d=s.getActiveSpan(),p=d?s.getRootSpan(d):void 0,h=p&&s.spanToJSON(p).description,{unit:f,tags:m,timestamp:g}=c,{release:_,environment:b}=u.getOptions(),S={};_&&(S.release=_),b&&(S.environment=b),h&&(S.transaction=h),i.DEBUG_BUILD&&r.logger.log(`Adding value of ${a} to ${t} metric ${n}`),l(u,e).add(t,n,a,f,{...S,...m},g)}function p(e,t,n,r){d(e,u.DISTRIBUTION_METRIC_TYPE,t,f(n),r)}const h={increment:function(e,t,n=1,r){d(e,u.COUNTER_METRIC_TYPE,t,f(n),r)},distribution:p,set:function(e,t,n,r){d(e,u.SET_METRIC_TYPE,t,n,r)},gauge:function(e,t,n,r){d(e,u.GAUGE_METRIC_TYPE,t,f(n),r)},timing:function(e,t,n,o="second",i){if("function"==typeof n){const o=r.timestampInSeconds();return a.startSpanManual({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},(s=>c.handleCallbackErrors((()=>n()),(()=>{}),(()=>{const n=r.timestampInSeconds();p(e,t,n-o,{...i,unit:"second"}),s.end(n)}))))}p(e,t,n,{...i,unit:o})},getMetricsAggregatorForClient:l};function f(e){return"string"==typeof e?parseInt(e):e}t.metrics=h},38423:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(89371),o=n(3227);class i{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}}class s{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class a{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}}class c{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?o.simpleHash(e):e)).join(":")}}const u={[r.COUNTER_METRIC_TYPE]:i,[r.GAUGE_METRIC_TYPE]:s,[r.DISTRIBUTION_METRIC_TYPE]:a,[r.SET_METRIC_TYPE]:c};t.CounterMetric=i,t.DistributionMetric=a,t.GaugeMetric=s,t.METRIC_MAP=u,t.SetMetric=c},14021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o="_sentryMetrics";t.getMetricSummaryJsonForSpan=function(e){const t=e[o];if(!t)return;const n={};for(const[,[e,o]]of t)(n[e]||(n[e]=[])).push(r.dropUndefinedKeys(o));return n},t.updateMetricSummaryOnSpan=function(e,t,n,r,i,s,a){const c=e[o]||(e[o]=new Map),u=`${t}:${n}@${i}`,l=c.get(a);if(l){const[,e]=l;c.set(a,[u,{min:Math.min(e.min,r),max:Math.max(e.max,r),count:e.count+=1,sum:e.sum+=r,tags:e.tags}])}else c.set(a,[u,{min:r,max:r,count:1,sum:r,tags:s}])}},3227:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);function o(e){return e.replace(/[^\w\-./]+/gi,"")}const i=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];t.getBucketKey=function(e,t,n,o){return`${e}${t}${n}${Object.entries(r.dropUndefinedKeys(o)).sort(((e,t)=>e[0].localeCompare(t[0])))}`},t.sanitizeMetricKey=function(e){return e.replace(/[^\w\-.]+/gi,"_")},t.sanitizeTags=function(e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[o(r)]=(n=String(e[r]),[...n].reduce(((e,t)=>e+function(e){for(const[t,n]of i)if(e===t)return n;return e}(t)),"")));var n;return t},t.sanitizeUnit=function(e){return e.replace(/[^\w]+/gi,"_")},t.serializeMetricBuckets=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t},t.simpleHash=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}},69640:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(11348),i=n(64865);class s{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=r.generatePropagationContext()}clone(){const e=new s;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,i._setSpanForScope(e,i._getSpanForScope(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&o.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[n,o]=t instanceof a?[t.getScopeData(),t.getRequestSession()]:r.isPlainObject(t)?[e,e.requestSession]:[],{tags:i,extra:s,user:c,contexts:u,level:l,fingerprint:d=[],propagationContext:p}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...s},this._contexts={...this._contexts,...u},c&&Object.keys(c).length&&(this._user=c),l&&(this._level=l),d.length&&(this._fingerprint=d),p&&(this._propagationContext=p),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,i._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=r.generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:r.dateTimestampInSeconds(),...e},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:i._getSpanForScope(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:r.uuid4();if(!this._client)return r.logger.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:r.uuid4();if(!this._client)return r.logger.warn("No client configured on scope - will not capture message!"),o;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:r.uuid4();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(r.logger.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const a=s;t.Scope=a},27008:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(68974);function s(e){o.getCurrentScope().setClient(e)}t.initAndBind=function(e,t){!0===t.debug&&(i.DEBUG_BUILD?r.logger.enable():r.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),o.getCurrentScope().update(t.initialScope);const n=new e(t);return s(n),n.init(),n},t.setCurrentClient=s},52751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SEMANTIC_ATTRIBUTE_CACHE_HIT="cache.hit",t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE="cache.item_size",t.SEMANTIC_ATTRIBUTE_CACHE_KEY="cache.key",t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",t.SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON="sentry.idle_span_finish_reason",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT="sentry.measurement_unit",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE="sentry.measurement_value",t.SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source"},24842:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(29564),i=n(60251),s=n(49564),a=n(68974),c=n(84751),u=n(44038),l=n(64865),d=n(54583),p=n(93754);class h extends o.BaseClient{constructor(e){u.registerSpanErrorInstrumentation(),super(e)}eventFromException(e,t){return r.resolvedSyncPromise(r.eventFromUnknownInput(this,this._options.stackParser,e,t))}eventFromMessage(e,t="info",n){return r.resolvedSyncPromise(r.eventFromMessage(this._options.stackParser,e,t,n,this._options.attachStacktrace))}captureException(e,t,n){if(this._options.autoSessionTracking&&this._sessionFlusher){const e=s.getIsolationScope().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureException(e,t,n)}captureEvent(e,t,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&"exception"===(e.type||"exception")&&e.exception&&e.exception.values&&e.exception.values.length>0){const e=s.getIsolationScope().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureEvent(e,t,n)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){const{release:e,environment:t}=this._options;e?this._sessionFlusher=new c.SessionFlusher(this,{release:e,environment:t}):a.DEBUG_BUILD&&r.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,t,n){const o="checkInId"in e&&e.checkInId?e.checkInId:r.uuid4();if(!this._isEnabled())return a.DEBUG_BUILD&&r.logger.warn("SDK not enabled, will not capture checkin."),o;const s=this.getOptions(),{release:c,environment:u,tunnel:l}=s,d={check_in_id:o,monitor_slug:e.monitorSlug,status:e.status,release:c,environment:u};"duration"in e&&(d.duration=e.duration),t&&(d.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});const[p,h]=this._getTraceInfoFromScope(n);h&&(d.contexts={trace:h});const f=i.createCheckInEnvelope(d,p,this.getSdkMetadata(),l,this.getDsn());return a.DEBUG_BUILD&&r.logger.info("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(f),o}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():a.DEBUG_BUILD&&r.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,t,n,r){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,n,r)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];const t=l._getSpanForScope(e);if(t){const e=d.getRootSpan(t);return[p.getDynamicSamplingContextFromSpan(e),d.spanToTraceContext(e)]}const{traceId:n,spanId:r,parentSpanId:o,dsc:i}=e.getPropagationContext(),s={trace_id:n,span_id:r,parent_span_id:o};return i?[i,s]:[p.getDynamicSamplingContextFromClient(n,this),s]}}t.ServerRuntimeClient=h},11348:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);function o(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||r.timestampInSeconds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:r.uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}t.closeSession=function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),o(e,n)},t.makeSession=function(e){const t=r.timestampInSeconds(),n={sid:r.uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return r.dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&o(n,e),n},t.updateSession=o},84751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564);t.SessionFlusher=class{constructor(e,t){this._client=e,this.flushTimeout=60,this._pendingAggregates=new Map,this._isEnabled=!0,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates=new Map,this._client.sendSession(e))}getSessionAggregates(){const e=Array.from(this._pendingAggregates.values()),t={attrs:this._sessionAttrs,aggregates:e};return r.dropUndefinedKeys(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=o.getIsolationScope(),t=e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const n=new Date(t).setSeconds(0,0);let r=this._pendingAggregates.get(n);switch(r||(r={started:new Date(n).toISOString()},this._pendingAggregates.set(n,r)),e){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}},93754:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(42501),i=n(49564),s=n(52751),a=n(54583),c="_frozenDsc";function u(e,t){const n=t.getOptions(),{publicKey:i}=t.getDsn()||{},s=r.dropUndefinedKeys({environment:n.environment||o.DEFAULT_ENVIRONMENT,release:n.release,public_key:i,trace_id:e});return t.emit("createDsc",s),s}function l(e){const t=i.getClient();if(!t)return{};const n=u(a.spanToJSON(e).trace_id||"",t),o=a.getRootSpan(e),l=o[c];if(l)return l;const d=o.spanContext().traceState,p=d&&d.get("sentry.dsc"),h=p&&r.baggageHeaderToDynamicSamplingContext(p);if(h)return h;const f=a.spanToJSON(o),m=f.data||{},g=m[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];null!=g&&(n.sample_rate=`${g}`);const _=m[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],b=f.description;return"url"!==_&&b&&(n.transaction=b),n.sampled=String(a.spanIsSampled(o)),t.emit("createDsc",n,o),n}t.freezeDscOnSpan=function(e,t){const n=e;r.addNonEnumerableProperty(n,c,t)},t.getDynamicSamplingContextFromClient=u,t.getDynamicSamplingContextFromSpan=l,t.spanToBaggageHeader=function(e){const t=l(e);return r.dynamicSamplingContextToSentryBaggageHeader(t)}},44038:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974),i=n(54583),s=n(15363);let a=!1;function c(){const e=i.getActiveSpan(),t=e&&i.getRootSpan(e);if(t){const e="internal_error";o.DEBUG_BUILD&&r.logger.log(`[Tracing] Root span: ${e} -> Global error occured`),t.setStatus({code:s.SPAN_STATUS_ERROR,message:e})}}c.tag="sentry_tracingErrorCallback",t.registerSpanErrorInstrumentation=function(){a||(a=!0,r.addGlobalErrorInstrumentationHandler(c),r.addGlobalUnhandledRejectionInstrumentationHandler(c))}},12188:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44038);t.addTracingExtensions=function(){r.registerSpanErrorInstrumentation()}},57011:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(68974),s=n(52751),a=n(60073),c=n(64865),u=n(54583),l=n(67392),d=n(15363),p=n(55908),h={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};t.TRACING_DEFAULTS=h,t.startIdleSpan=function(e,t={}){const n=new Map;let f,m=!1,g="externalFinish",_=!t.disableAutoFinish;const b=[],{idleTimeout:S=h.idleTimeout,finalTimeout:y=h.finalTimeout,childSpanTimeout:E=h.childSpanTimeout,beforeSpanEnd:T}=t,v=o.getClient();if(!v||!a.hasTracingEnabled())return new l.SentryNonRecordingSpan;const I=o.getCurrentScope(),R=u.getActiveSpan(),A=function(e){const t=p.startInactiveSpan(e);return c._setSpanForScope(o.getCurrentScope(),t),i.DEBUG_BUILD&&r.logger.log("[Tracing] Started span is an idle span"),t}(e);function C(){f&&(clearTimeout(f),f=void 0)}function O(e){C(),f=setTimeout((()=>{!m&&0===n.size&&_&&(g="idleTimeout",A.end(e))}),S)}function N(e){f=setTimeout((()=>{!m&&_&&(g="heartbeatFailed",A.end(e))}),E)}function w(e){m=!0,n.clear(),b.forEach((e=>e())),c._setSpanForScope(I,R);const t=u.spanToJSON(A),{start_timestamp:o}=t;if(!o)return;(t.data||{})[s.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||A.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,g),r.logger.log(`[Tracing] Idle span "${t.op}" finished`);const a=u.getSpanDescendants(A).filter((e=>e!==A));let l=0;a.forEach((t=>{t.isRecording()&&(t.setStatus({code:d.SPAN_STATUS_ERROR,message:"cancelled"}),t.end(e),i.DEBUG_BUILD&&r.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=u.spanToJSON(t),{timestamp:o=0,start_timestamp:s=0}=n,a=s<=e,c=o-s<=(y+S)/1e3;if(i.DEBUG_BUILD){const e=JSON.stringify(t,void 0,2);a?c||r.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",e):r.logger.log("[Tracing] Discarding span since it happened after idle span was finished",e)}c&&a||(u.removeChildSpanFromSpan(A,t),l++)})),l>0&&A.setAttribute("sentry.idle_span_discarded_spans",l)}return A.end=new Proxy(A.end,{apply(e,t,n){T&&T(A);const[o,...i]=n,s=o||r.timestampInSeconds(),a=u.spanTimeInputToSeconds(s),c=u.getSpanDescendants(A).filter((e=>e!==A));if(!c.length)return w(a),Reflect.apply(e,t,[a,...i]);const l=c.map((e=>u.spanToJSON(e).timestamp)).filter((e=>!!e)),d=l.length?Math.max(...l):void 0,p=u.spanToJSON(A).start_timestamp,h=Math.min(p?p+y/1e3:1/0,Math.max(p||-1/0,Math.min(a,d||1/0)));return w(h),Reflect.apply(e,t,[h,...i])}}),b.push(v.on("spanStart",(e=>{var t;m||e===A||u.spanToJSON(e).timestamp||u.getSpanDescendants(A).includes(e)&&(t=e.spanContext().spanId,C(),n.set(t,!0),N(r.timestampInSeconds()+E/1e3))}))),b.push(v.on("spanEnd",(e=>{var t;m||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&O(r.timestampInSeconds()+S/1e3))}))),b.push(v.on("idleSpanEnableAutoFinish",(e=>{e===A&&(_=!0,O(),n.size&&N())}))),t.disableAutoFinish||O(),setTimeout((()=>{m||(A.setStatus({code:d.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),g="finalTimeout",A.end())}),y),A}},8346:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974),i=n(54583);t.logSpanEnd=function(e){if(!o.DEBUG_BUILD)return;const{description:t="< unknown name >",op:n="< unknown op >"}=i.spanToJSON(e),{spanId:s}=e.spanContext(),a=`[Tracing] Finishing "${n}" ${i.getRootSpan(e)===e?"root ":""}span "${t}" with ID ${s}`;r.logger.log(a)},t.logSpanStart=function(e){if(!o.DEBUG_BUILD)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:s}=i.spanToJSON(e),{spanId:a}=e.spanContext(),c=i.spanIsSampled(e),u=i.getRootSpan(e),l=u===e,d=`[Tracing] Starting ${c?"sampled":"unsampled"} ${l?"root ":""}span`,p=[`op: ${n}`,`name: ${t}`,`ID: ${a}`];if(s&&p.push(`parent ID: ${s}`),!l){const{op:e,description:t}=i.spanToJSON(u);p.push(`root ID: ${u.spanContext().spanId}`),e&&p.push(`root op: ${e}`),t&&p.push(`root description: ${t}`)}r.logger.log(`${d}\n  ${p.join("\n  ")}`)}},28945:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(52751),o=n(54583);t.setMeasurement=function(e,t,n){const i=o.getActiveSpan(),s=i&&o.getRootSpan(i);s&&s.addEvent(e,{[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t,[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:n})},t.timedEventsToMeasurements=function(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const n=e.attributes||{},o=n[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],i=n[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof o&&"number"==typeof i&&(t[e.name]={value:i,unit:o})})),t}},79816:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974),i=n(60073),s=n(10393);t.sampleSpan=function(e,t){if(!i.hasTracingEnabled(e))return[!1];let n;n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;const a=s.parseSampleRate(n);return void 0===a?(o.DEBUG_BUILD&&r.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(o.DEBUG_BUILD&&r.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,a]):(o.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,a])}},67392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(54583);t.SentryNonRecordingSpan=class{constructor(e={}){this._traceId=e.traceId||r.uuid4(),this._spanId=e.spanId||r.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:o.TRACE_FLAG_NONE}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}},30242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(68974),s=n(30238),a=n(14021),c=n(52751),u=n(54583),l=n(93754),d=n(8346),p=n(28945),h=n(64284);class f{constructor(e={}){this._traceId=e.traceId||r.uuid4(),this._spanId=e.spanId||r.uuid4().substring(16),this._startTime=e.startTimestamp||r.timestampInSeconds(),this._attributes={},this.setAttributes({[c.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[c.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?u.TRACE_FLAG_SAMPLED:u.TRACE_FLAG_NONE}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}updateStartTime(e){this._startTime=u.spanTimeInputToSeconds(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){this._endTime||(this._endTime=u.spanTimeInputToSeconds(e),d.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return r.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[c.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:u.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[c.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[c.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[c.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:p.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&u.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?u.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){i.DEBUG_BUILD&&r.logger.log("[Tracing] Adding an event to span:",e);const o=m(t)?t:n||r.timestampInSeconds(),s=m(t)?{}:t||{},a={name:e,time:u.spanTimeInputToSeconds(o),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=o.getClient();if(e&&e.emit("spanEnd",this),!this._isStandaloneSpan&&this!==u.getRootSpan(this))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=o.getClient();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");const s=t.getTransport();s&&s.send(e).then(null,(e=>{i.DEBUG_BUILD&&r.logger.error("Error while sending span:",e)}))}(s.createSpanEnvelope([this],e)):(i.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();t&&(h.getCapturedScopesOnSpan(this).scope||o.getCurrentScope()).captureEvent(t)}_convertSpanToTransaction(){if(!g(u.spanToJSON(this)))return;this._name||(i.DEBUG_BUILD&&r.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=h.getCapturedScopesOnSpan(this),n=(e||o.getCurrentScope()).getClient()||o.getClient();if(!0!==this._sampled)return i.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const s=u.getSpanDescendants(this).filter((e=>e!==this&&!function(e){return e instanceof f&&e.isStandaloneSpan()}(e))).map((e=>u.spanToJSON(e))).filter(g),d=this._attributes[c.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],m={contexts:{trace:u.spanToTransactionTraceContext(this)},spans:s.length>1e3?s.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...r.dropUndefinedKeys({dynamicSamplingContext:l.getDynamicSamplingContextFromSpan(this)})},_metrics_summary:a.getMetricSummaryJsonForSpan(this),...d&&{transaction_info:{source:d}}},_=p.timedEventsToMeasurements(this._events);return _&&Object.keys(_).length&&(i.DEBUG_BUILD&&r.logger.log("[Measurements] Adding measurements to transaction event",JSON.stringify(_,void 0,2)),m.measurements=_),m}}function m(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function g(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}t.SentrySpan=f},15363:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function n(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}t.SPAN_STATUS_ERROR=2,t.SPAN_STATUS_OK=1,t.SPAN_STATUS_UNSET=0,t.getSpanStatusFromHttpCode=n,t.setHttpStatus=function(e,t){e.setAttribute("http.response.status_code",t);const r=n(t);"unknown_error"!==r.message&&e.setStatus(r)}},55908:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(73220),i=n(49564),s=n(42810),a=n(68974),c=n(52751),u=n(76354),l=n(60073),d=n(64865),p=n(54583),h=n(93754),f=n(8346),m=n(79816),g=n(67392),_=n(30242),b=n(15363),S=n(64284),y="__SENTRY_SUPPRESS_TRACING__";function E(e,t){const n=I();return n.withActiveSpan?n.withActiveSpan(e,t):i.withScope((n=>(d._setSpanForScope(n,e||void 0),t(n))))}function T({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!l.hasTracingEnabled())return new g.SentryNonRecordingSpan;const o=i.getIsolationScope();let s;if(e&&!n)s=function(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),s=!t.getScopeData().sdkProcessingMetadata[y]&&p.spanIsSampled(e),a=s?new _.SentrySpan({...n,parentSpanId:r,traceId:o,sampled:s}):new g.SentryNonRecordingSpan({traceId:o});p.addChildSpanToSpan(e,a);const c=i.getClient();return c&&(c.emit("spanStart",a),n.endTimestamp&&c.emit("spanEnd",a)),a}(e,r,t),p.addChildSpanToSpan(e,s);else if(e){const n=h.getDynamicSamplingContextFromSpan(e),{traceId:o,spanId:i}=e.spanContext(),a=p.spanIsSampled(e);s=R({traceId:o,parentSpanId:i,...t},r,a),h.freezeDscOnSpan(s,n)}else{const{traceId:e,dsc:n,parentSpanId:i,sampled:a}={...o.getPropagationContext(),...r.getPropagationContext()};s=R({traceId:e,parentSpanId:i,...t},r,a),n&&h.freezeDscOnSpan(s,n)}return f.logSpanStart(s),S.setCapturedScopesOnSpan(s,r,o),s}function v(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=p.spanTimeInputToSeconds(e.startTime),delete n.startTime,n}return t}function I(){const e=o.getMainCarrier();return s.getAsyncContextStrategy(e)}function R(e,t,n){const r=i.getClient(),o=r&&r.getOptions()||{},{name:s="",attributes:a}=e,[u,l]=t.getScopeData().sdkProcessingMetadata[y]?[!1]:m.sampleSpan(o,{name:s,parentSampled:n,attributes:a,transactionContext:{name:s,parentSampled:n}}),d=new _.SentrySpan({...e,attributes:{[c.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",...e.attributes},sampled:u});return void 0!==l&&d.setAttribute(c.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,l),r&&r.emit("spanStart",d),d}function A(e){const t=d._getSpanForScope(e);if(!t)return;const n=i.getClient();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?p.getRootSpan(t):t}function C(e){return void 0!==e?t=>E(e,t):e=>e()}t.continueTrace=({sentryTrace:e,baggage:t},n)=>i.withScope((o=>{const i=r.propagationContextFromHeaders(e,t);return o.setPropagationContext(i),n()})),t.startInactiveSpan=function(e){const t=I();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=v(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?t=>i.withScope(e.scope,t):void 0!==o?e=>E(o,e):e=>e())((()=>{const t=i.getCurrentScope(),o=A(t);return e.onlyIfParent&&!o?new g.SentryNonRecordingSpan:T({parentSpan:o,spanArguments:n,forceTransaction:r,scope:t})}))},t.startNewTrace=function(e){return i.withScope((t=>(t.setPropagationContext(r.generatePropagationContext()),a.DEBUG_BUILD&&r.logger.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),E(null,e))))},t.startSpan=function(e,t){const n=I();if(n.startSpan)return n.startSpan(e,t);const r=v(e),{forceTransaction:o,parentSpan:s}=e;return i.withScope(e.scope,(()=>C(s)((()=>{const n=i.getCurrentScope(),s=A(n),a=e.onlyIfParent&&!s?new g.SentryNonRecordingSpan:T({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});return d._setSpanForScope(n,a),u.handleCallbackErrors((()=>t(a)),(()=>{const{status:e}=p.spanToJSON(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:b.SPAN_STATUS_ERROR,message:"internal_error"})}),(()=>a.end()))}))))},t.startSpanManual=function(e,t){const n=I();if(n.startSpanManual)return n.startSpanManual(e,t);const r=v(e),{forceTransaction:o,parentSpan:s}=e;return i.withScope(e.scope,(()=>C(s)((()=>{const n=i.getCurrentScope(),s=A(n),a=e.onlyIfParent&&!s?new g.SentryNonRecordingSpan:T({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});function c(){a.end()}return d._setSpanForScope(n,a),u.handleCallbackErrors((()=>t(a,c)),(()=>{const{status:e}=p.spanToJSON(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:b.SPAN_STATUS_ERROR,message:"internal_error"})}))}))))},t.suppressTracing=function(e){const t=I();return t.suppressTracing?t.suppressTracing(e):i.withScope((t=>(t.setSDKProcessingMetadata({[y]:!0}),e())))},t.withActiveSpan=E},64284:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o="_sentryScope",i="_sentryIsolationScope";t.stripUrlQueryAndFragment=r.stripUrlQueryAndFragment,t.getCapturedScopesOnSpan=function(e){return{scope:e[o],isolationScope:e[i]}},t.setCapturedScopesOnSpan=function(e,t,n){e&&(r.addNonEnumerableProperty(e,i,n),r.addNonEnumerableProperty(e,o,t))}},64450:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974);function i(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}t.DEFAULT_TRANSPORT_BUFFER_SIZE=64,t.createTransport=function(e,t,n=r.makePromiseBuffer(e.bufferSize||64)){let s={};return{send:function(a){const c=[];if(r.forEachEnvelopeItem(a,((t,n)=>{const o=r.envelopeItemTypeToDataCategory(n);if(r.isRateLimited(s,o)){const r=i(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else c.push(t)})),0===c.length)return r.resolvedSyncPromise({});const u=r.createEnvelope(a[0],c),l=t=>{r.forEachEnvelopeItem(u,((n,o)=>{const s=i(n,o);e.recordDroppedEvent(t,r.envelopeItemTypeToDataCategory(o),s)}))};return n.add((()=>t({body:r.serializeEnvelope(u)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&o.DEBUG_BUILD&&r.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),s=r.updateRateLimits(s,e),e)),(e=>{throw l("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.SentryError)return o.DEBUG_BUILD&&r.logger.error("Skipped sending event because buffer is full."),l("queue_overflow"),r.resolvedSyncPromise({});throw e}))},flush:e=>n.drain(e)}}},14082:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(85740);function i(e,t){let n;return r.forEachEnvelopeItem(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}t.eventFromEnvelope=i,t.makeMultiplexedTransport=function(e,t){return n=>{const s=e(n),a=new Map;function c(t,s){const c=s?`${t}:${s}`:t;let u=a.get(c);if(!u){const l=r.dsnFromString(t);if(!l)return;const d=o.getEnvelopeEndpointWithUrlEncodedAuth(l,n.tunnel);u=s?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=i(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,s)({...n,url:d}):e({...n,url:d}),a.set(c,u)}return[t,u]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return i(e,n)}}).map((e=>"string"==typeof e?c(e,void 0):c(e.dsn,e.release))).filter((e=>!!e)),o=n.length?n:[["",s]];return(await Promise.all(o.map((([t,n])=>n.send(function(e,t){return r.createEnvelope(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[...a.values(),s];return(await Promise.all(t.map((t=>t.flush(e))))).every((e=>e))}}}}},52256:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974),i=5e3;t.MIN_DELAY=100,t.START_DELAY=i,t.makeOfflineTransport=function(e){function t(...e){o.DEBUG_BUILD&&r.logger.info("[Offline]:",...e)}return n=>{const o=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let a,c=i;function u(e){a&&clearTimeout(a),a=setTimeout((async()=>{a=void 0;const e=await s.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=(new Date).toISOString(),d(e,!0).catch((e=>{t("Failed to retry sending",e)})))}),e),"number"!=typeof a&&a.unref&&a.unref()}function l(){a||(u(c),c=Math.min(2*c,36e5))}async function d(e,a=!1){if(!a&&r.envelopeContainsItemType(e,["replay_event","replay_recording"]))return await s.push(e),u(100),{};try{const t=await o.send(e);let n=100;if(t)if(t.headers&&t.headers["retry-after"])n=r.parseRetryAfterHeader(t.headers["retry-after"]);else if(t.headers&&t.headers["x-sentry-rate-limits"])n=6e4;else if((t.statusCode||0)>=400)return t;return u(n),c=i,t}catch(o){if(await function(e,t,o){return!r.envelopeContainsItemType(e,["client_report"])&&(!n.shouldStore||n.shouldStore(e,t,o))}(e,o,c))return a?await s.unshift(e):await s.push(e),l(),t("Error sending. Event queued.",o),{};throw o}}return n.flushAtStartup&&l(),{send:d,flush:e=>o.flush(e)}}}},36033:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(49564),i=n(79183),s=n(52751);n(44038),n(68974);const a=n(55908),c={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};t.trpcMiddleware=function(e={}){return function(t){const{path:n,type:u,next:l,rawInput:d}=t,p=o.getClient(),h=p&&p.getOptions(),f={procedure_type:u};function m(e){"object"==typeof e&&null!==e&&"ok"in e&&!e.ok&&"error"in e&&i.captureException(e.error,c)}return(void 0!==e.attachRpcInput?e.attachRpcInput:h&&h.sendDefaultPii)&&(f.input=r.normalize(d)),i.setContext("trpc",f),a.startSpanManual({name:`trpc/${n}`,op:"rpc.server",attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},(e=>{let t;try{t=l()}catch(t){throw i.captureException(t,c),e.end(),t}return r.isThenable(t)?t.then((t=>(m(t),e.end(),t)),(t=>{throw i.captureException(t,c),e.end(),t})):(m(t),e.end(),t)}))}}},5013:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(93754),i=n(54583);function s(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}t.applyScopeDataToEvent=function(e,t){const{fingerprint:n,span:s,breadcrumbs:a,sdkProcessingMetadata:c}=t;!function(e,t){const{extra:n,tags:o,user:i,contexts:s,level:a,transactionName:c}=t,u=r.dropUndefinedKeys(n);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});const l=r.dropUndefinedKeys(o);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const d=r.dropUndefinedKeys(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const p=r.dropUndefinedKeys(s);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),a&&(e.level=a),c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),s&&function(e,t){e.contexts={trace:i.spanToTraceContext(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:o.getDynamicSamplingContextFromSpan(t),...e.sdkProcessingMetadata};const n=i.getRootSpan(t),r=i.spanToJSON(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,s),function(e,t){e.fingerprint=e.fingerprint?r.arrayify(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,a),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,c)},t.mergeAndOverwriteScopeData=s,t.mergeScopeData=function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:p,propagationContext:h,transactionName:f,span:m}=t;s(e,"extra",n),s(e,"tags",r),s(e,"user",o),s(e,"contexts",i),s(e,"sdkProcessingMetadata",c),a&&(e.level=a),f&&(e.transactionName=f),m&&(e.span=m),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...h}}},76354:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);t.handleCallbackErrors=function(e,t,n=()=>{}){let o;try{o=e()}catch(e){throw t(e),n(),e}return function(e,t,n){return r.isThenable(e)?e.then((e=>(n(),e)),(e=>{throw t(e),n(),e})):(n(),e)}(o,t,n)}},60073:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(49564);t.hasTracingEnabled=function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=r.getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},46877:(e,t)=>{function n(e){return"/"===e[e.length-1]?e.slice(0,-1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.isSentryRequestUrl=function(e,t){const r=t&&t.getDsn(),o=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){return!!t&&n(e)===n(t)}(e,o)}},145:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(20647);t.getTraceMetaTags=function(){return Object.entries(r.getTraceData()).map((([e,t])=>`<meta name="${e}" content="${t}"/>`)).join("\n")}},72979:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parameterize=function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}},10393:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(68974);t.parseSampleRate=function(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;o.DEBUG_BUILD&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}},31485:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(42501),i=n(49564),s=n(51929),a=n(69640),c=n(5013),u=new WeakMap;function l(e,t){const n=r.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let o;const i=u.get(t);i?o=i:(o=new Map,u.set(t,o));const s=Object.entries(n).reduce(((e,[n,r])=>{let i;const s=o.get(n);s?i=s:(i=t(n),o.set(n,i));for(let t=i.length-1;t>=0;t--){const n=i[t];if(n.filename){e[n.filename]=r;break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=s[e.filename])}))}))}catch(e){}}function d(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}function p(e,t){if(!t)return e;const n=e?e.clone():new a.Scope;return n.update(t),n}const h=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];t.applyDebugIds=l,t.applyDebugMeta=d,t.parseEventHintOrCaptureContext=function(e){if(e)return function(e){return e instanceof a.Scope||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>h.includes(e)))}(e)?{captureContext:e}:e},t.prepareEvent=function(e,t,n,a,u,h){const{normalizeDepth:f=3,normalizeMaxBreadth:m=1e3}=e,g={...t,event_id:t.event_id||n.event_id||r.uuid4(),timestamp:t.timestamp||r.dateTimestampInSeconds()},_=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:i,dist:s,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:o.DEFAULT_ENVIRONMENT),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==s&&(e.dist=s),e.message&&(e.message=r.truncate(e.message,a));const c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=r.truncate(c.value,a));const u=e.request;u&&u.url&&(u.url=r.truncate(u.url,a))}(g,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(g,_),u&&u.emit("applyFrameMetadata",t),void 0===t.type&&l(g,e.stackParser);const b=p(a,n.captureContext);n.mechanism&&r.addExceptionMechanism(g,n.mechanism);const S=u?u.getEventProcessors():[],y=i.getGlobalScope().getScopeData();if(h){const e=h.getScopeData();c.mergeScopeData(y,e)}if(b){const e=b.getScopeData();c.mergeScopeData(y,e)}const E=[...n.attachments||[],...y.attachments];E.length&&(n.attachments=E),c.applyScopeDataToEvent(g,y);const T=[...S,...y.eventProcessors];return s.notifyEventProcessors(T,g,n).then((e=>(e&&d(e),"number"==typeof f&&f>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:r.normalize(e.data,t,n)}})))},...e.user&&{user:r.normalize(e.user,t,n)},...e.contexts&&{contexts:r.normalize(e.contexts,t,n)},...e.extra&&{extra:r.normalize(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=r.normalize(e.contexts.trace.data,t,n))),e.spans&&(o.spans=e.spans.map((e=>({...e,...e.data&&{data:r.normalize(e.data,t,n)}})))),o}(e,f,m):e)))}},55303:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);t.applySdkMetadata=function(e,t,n=[t],o="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:r.SDK_VERSION}))),version:r.SDK_VERSION}),e._metadata=i}},64865:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o="_sentrySpan";t._getSpanForScope=function(e){return e[o]},t._setSpanForScope=function(e,t){t?r.addNonEnumerableProperty(e,o,t):delete e[o]}},54583:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(42810),i=n(73220),s=n(49564),a=n(14021),c=n(52751),u=n(15363),l=n(64865);function d(e){return"number"==typeof e?p(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?p(e.getTime()):r.timestampInSeconds()}function p(e){return e>9999999999?e/1e3:e}function h(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:o,startTime:i,name:s,endTime:u,parentSpanId:l,status:p}=e;return r.dropUndefinedKeys({span_id:t,trace_id:n,data:o,description:s,parent_span_id:l,start_timestamp:d(i),timestamp:d(u)||void 0,status:m(p),op:o[c.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:o[c.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function f(e){const{traceFlags:t}=e.spanContext();return 1===t}function m(e){if(e&&e.code!==u.SPAN_STATUS_UNSET)return e.code===u.SPAN_STATUS_OK?"ok":e.message||"unknown_error"}const g="_sentryChildSpans",_="_sentryRootSpan";function b(){const e=i.getMainCarrier(),t=o.getAsyncContextStrategy(e);return t.getActiveSpan?t.getActiveSpan():l._getSpanForScope(s.getCurrentScope())}t.TRACE_FLAG_NONE=0,t.TRACE_FLAG_SAMPLED=1,t.addChildSpanToSpan=function(e,t){const n=e[_]||e;r.addNonEnumerableProperty(t,_,n),e[g]?e[g].add(t):r.addNonEnumerableProperty(e,g,new Set([t]))},t.getActiveSpan=b,t.getRootSpan=function(e){return e[_]||e},t.getSpanDescendants=function(e){const t=new Set;return function e(n){if(!t.has(n)&&f(n)){t.add(n);const r=n[g]?Array.from(n[g]):[];for(const t of r)e(t)}}(e),Array.from(t)},t.getStatusMessage=m,t.removeChildSpanFromSpan=function(e,t){e[g]&&e[g].delete(t)},t.spanIsSampled=f,t.spanTimeInputToSeconds=d,t.spanToJSON=h,t.spanToTraceContext=function(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:o}=h(e);return r.dropUndefinedKeys({parent_span_id:o,span_id:t,trace_id:n})},t.spanToTraceHeader=function(e){const{traceId:t,spanId:n}=e.spanContext(),o=f(e);return r.generateSentryTraceHeader(t,n,o)},t.spanToTransactionTraceContext=function(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:i,parent_span_id:s,status:a,origin:c}=h(e);return r.dropUndefinedKeys({parent_span_id:s,span_id:t,trace_id:n,data:o,op:i,status:a,origin:c})},t.updateMetricSummaryOnActiveSpan=function(e,t,n,r,o,i){const s=b();s&&a.updateMetricSummaryOnSpan(s,e,t,n,r,o,i)}},20647:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(42810),i=n(73220),s=n(49564);n(44038),n(68974);const a=n(54583),c=n(93754);function u(e){if(!e||!e.length)return!1;const t="[-!#$%&'*+.^_`|~A-Za-z0-9]+",n="[!#-+-./0-9:<=>?@A-Z\\[\\]a-z{-}]+",r="\\s*";return new RegExp(`^${t}${r}=${r}${n}(${r},${r}${t}${r}=${r}${n})*$`).test(e)}t.getTraceData=function(){const e=i.getMainCarrier(),t=o.getAsyncContextStrategy(e);if(t.getTraceData)return t.getTraceData();const n=s.getClient(),l=s.getCurrentScope(),d=a.getActiveSpan(),{dsc:p,sampled:h,traceId:f}=l.getPropagationContext(),m=d&&a.getRootSpan(d),g=d?a.spanToTraceHeader(d):r.generateSentryTraceHeader(f,void 0,h),_=m?c.getDynamicSamplingContextFromSpan(m):p||(n?c.getDynamicSamplingContextFromClient(f,n):void 0),b=r.dynamicSamplingContextToSentryBaggageHeader(_);if(!r.TRACEPARENT_REGEXP.test(g))return r.logger.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const S=u(b);return S||r.logger.warn('Invalid baggage data. Not returning "baggage" value'),{"sentry-trace":g,...S&&{baggage:b}}},t.isValidBaggageString=u},5695:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=[["january","1"],["february","2"],["march","3"],["april","4"],["may","5"],["june","6"],["july","7"],["august","8"],["september","9"],["october","10"],["november","11"],["december","12"],["jan","1"],["feb","2"],["mar","3"],["apr","4"],["may","5"],["jun","6"],["jul","7"],["aug","8"],["sep","9"],["oct","10"],["nov","11"],["dec","12"],["sunday","0"],["monday","1"],["tuesday","2"],["wednesday","3"],["thursday","4"],["friday","5"],["saturday","6"],["sun","0"],["mon","1"],["tue","2"],["wed","3"],["thu","4"],["fri","5"],["sat","6"]];t.replaceCronNames=function(e){return n.reduce(((e,[t,n])=>e.replace(new RegExp(t,"gi"),n)),e)}},11734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872),o=n(5695),i="Automatic instrumentation of CronJob only supports crontab string";t.instrumentCron=function(e,t){let n=!1;return new Proxy(e,{construct(e,s){const[a,c,u,l,d,...p]=s;if("string"!=typeof a)throw new Error(i);if(n)throw new Error(`A job named '${t}' has already been scheduled`);n=!0;const h=o.replaceCronNames(a);return new e(a,(async function(e,n){return r.withMonitor(t,(async()=>{try{await c(e,n)}catch(e){throw r.captureException(e),e}}),{schedule:{type:"crontab",value:h},timezone:d||void 0})}),u,l,d,...p)},get:(e,s)=>"from"===s?s=>{const{cronTime:a,onTick:c,timeZone:u}=s;if("string"!=typeof a)throw new Error(i);if(n)throw new Error(`A job named '${t}' has already been scheduled`);n=!0;const l=o.replaceCronNames(a);return s.onTick=async(e,n)=>r.withMonitor(t,(async()=>{try{await c(e,n)}catch(e){throw r.captureException(e),e}}),{schedule:{type:"crontab",value:l},timezone:u||void 0}),e.from(s)}:e[s]})}},83284:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(11734),o=n(15991),i=n(42069),s={instrumentCron:r.instrumentCron,instrumentNodeCron:o.instrumentNodeCron,instrumentNodeSchedule:i.instrumentNodeSchedule};t.cron=s},15991:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(37872),i=n(5695);t.instrumentNodeCron=function(e){return new Proxy(e,{get:(e,t)=>"schedule"===t&&e.schedule?new Proxy(e.schedule,{apply(e,t,n){const[s,a,c]=n;if(!r([c,"optionalAccess",e=>e.name]))throw new Error('Missing "name" for scheduled job. A name is required for Sentry check-in monitoring.');return e.apply(t,[s,async function(){return o.withMonitor(c.name,(async()=>{try{return await a()}catch(e){throw o.captureException(e),e}}),{schedule:{type:"crontab",value:i.replaceCronNames(s)},timezone:r([c,"optionalAccess",e=>e.timezone])})},c])}}):e[t]})}},42069:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(37872),i=n(5695);t.instrumentNodeSchedule=function(e){return new Proxy(e,{get:(e,t)=>"scheduleJob"===t?new Proxy(e.scheduleJob,{apply(e,t,n){const[s,a,c]=n;if("string"!=typeof s||"string"!=typeof a||"function"!=typeof c)throw new Error("Automatic instrumentation of 'node-schedule' requires the first parameter of 'scheduleJob' to be a job name string and the second parameter to be a crontab string");const u=s,l=a;return e.apply(t,[u,l,async function(){return o.withMonitor(u,(async()=>{await r([c,"optionalCall",e=>e()])}),{schedule:{type:"crontab",value:i.replaceCronNames(l)}})}])}}):e[t]})}},13169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},62251:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69195),o=n(76474),i=n(78852),s=n(95022),a=n(82660),c=n(8421),u=n(85055),l=n(9558),d=n(82644),p=n(99804),h=n(41759),f=n(29606),m=n(24214),g=n(55203),_=n(80642),b=n(9853),S=n(20160),y=n(85576),E=n(76649),T=n(86715),v=n(81799),I=n(81732),R=n(90871),A=n(41939),C=n(98276),O=n(29871),N=n(73086),w=n(40013),P=n(34220),M=n(23310),L=n(45874),x=n(75376),k=n(32477),G=n(60700),D=n(14709),U=n(83284),V=n(24320),Z=n(32858),B=n(37872);t.httpIntegration=r.httpIntegration,t.nativeNodeFetchIntegration=o.nativeNodeFetchIntegration,t.fsIntegration=i.fsIntegration,t.consoleIntegration=s.consoleIntegration,t.nodeContextIntegration=a.nodeContextIntegration,t.contextLinesIntegration=c.contextLinesIntegration,t.localVariablesIntegration=u.localVariablesIntegration,t.modulesIntegration=l.modulesIntegration,t.onUncaughtExceptionIntegration=d.onUncaughtExceptionIntegration,t.onUnhandledRejectionIntegration=p.onUnhandledRejectionIntegration,t.anrIntegration=h.anrIntegration,t.expressErrorHandler=f.expressErrorHandler,t.expressIntegration=f.expressIntegration,t.setupExpressErrorHandler=f.setupExpressErrorHandler,t.fastifyIntegration=m.fastifyIntegration,t.setupFastifyErrorHandler=m.setupFastifyErrorHandler,t.graphqlIntegration=g.graphqlIntegration,t.mongoIntegration=_.mongoIntegration,t.mongooseIntegration=b.mongooseIntegration,t.mysqlIntegration=S.mysqlIntegration,t.mysql2Integration=y.mysql2Integration,t.redisIntegration=E.redisIntegration,t.nestIntegration=T.nestIntegration,t.setupNestErrorHandler=T.setupNestErrorHandler,t.postgresIntegration=v.postgresIntegration,t.prismaIntegration=I.prismaIntegration,t.hapiIntegration=R.hapiIntegration,t.setupHapiErrorHandler=R.setupHapiErrorHandler,t.koaIntegration=A.koaIntegration,t.setupKoaErrorHandler=A.setupKoaErrorHandler,t.connectIntegration=C.connectIntegration,t.setupConnectErrorHandler=C.setupConnectErrorHandler,t.spotlightIntegration=O.spotlightIntegration,t.SentryContextManager=N.SentryContextManager,t.generateInstrumentOnce=w.generateInstrumentOnce,t.getDefaultIntegrations=P.getDefaultIntegrations,t.getDefaultIntegrationsWithoutPerformance=P.getDefaultIntegrationsWithoutPerformance,t.init=P.init,t.initWithoutDefaultIntegrations=P.initWithoutDefaultIntegrations,t.validateOpenTelemetrySetup=P.validateOpenTelemetrySetup,t.initOpenTelemetry=M.initOpenTelemetry,t.preloadOpenTelemetry=M.preloadOpenTelemetry,t.getAutoPerformanceIntegrations=L.getAutoPerformanceIntegrations,t.defaultStackParser=x.defaultStackParser,t.getSentryRelease=x.getSentryRelease,t.createGetModuleFromFilename=k.createGetModuleFromFilename,t.makeNodeTransport=G.makeNodeTransport,t.NodeClient=D.NodeClient,t.cron=U.cron,t.DEFAULT_USER_INCLUDES=V.DEFAULT_USER_INCLUDES,t.addRequestDataToEvent=V.addRequestDataToEvent,t.extractRequestData=V.extractRequestData,t.addOpenTelemetryInstrumentation=Z.addOpenTelemetryInstrumentation,t.continueTrace=Z.continueTrace,t.setNodeAsyncContextStrategy=Z.setOpenTelemetryContextAsyncContextStrategy,t.SDK_VERSION=B.SDK_VERSION,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=B.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=B.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=B.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=B.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.Scope=B.Scope,t.addBreadcrumb=B.addBreadcrumb,t.addEventProcessor=B.addEventProcessor,t.addIntegration=B.addIntegration,t.captureCheckIn=B.captureCheckIn,t.captureConsoleIntegration=B.captureConsoleIntegration,t.captureEvent=B.captureEvent,t.captureException=B.captureException,t.captureFeedback=B.captureFeedback,t.captureMessage=B.captureMessage,t.captureSession=B.captureSession,t.close=B.close,t.createTransport=B.createTransport,t.debugIntegration=B.debugIntegration,t.dedupeIntegration=B.dedupeIntegration,t.endSession=B.endSession,t.extraErrorDataIntegration=B.extraErrorDataIntegration,t.flush=B.flush,t.functionToStringIntegration=B.functionToStringIntegration,t.getActiveSpan=B.getActiveSpan,t.getClient=B.getClient,t.getCurrentHub=B.getCurrentHub,t.getCurrentScope=B.getCurrentScope,t.getGlobalScope=B.getGlobalScope,t.getIsolationScope=B.getIsolationScope,t.getRootSpan=B.getRootSpan,t.getSpanDescendants=B.getSpanDescendants,t.getSpanStatusFromHttpCode=B.getSpanStatusFromHttpCode,t.getTraceData=B.getTraceData,t.getTraceMetaTags=B.getTraceMetaTags,t.inboundFiltersIntegration=B.inboundFiltersIntegration,t.isInitialized=B.isInitialized,t.lastEventId=B.lastEventId,t.linkedErrorsIntegration=B.linkedErrorsIntegration,t.metrics=B.metricsDefault,t.parameterize=B.parameterize,t.requestDataIntegration=B.requestDataIntegration,t.rewriteFramesIntegration=B.rewriteFramesIntegration,t.sessionTimingIntegration=B.sessionTimingIntegration,t.setContext=B.setContext,t.setCurrentClient=B.setCurrentClient,t.setExtra=B.setExtra,t.setExtras=B.setExtras,t.setHttpStatus=B.setHttpStatus,t.setMeasurement=B.setMeasurement,t.setTag=B.setTag,t.setTags=B.setTags,t.setUser=B.setUser,t.spanToBaggageHeader=B.spanToBaggageHeader,t.spanToJSON=B.spanToJSON,t.spanToTraceHeader=B.spanToTraceHeader,t.startInactiveSpan=B.startInactiveSpan,t.startNewTrace=B.startNewTrace,t.startSession=B.startSession,t.startSpan=B.startSpan,t.startSpanManual=B.startSpanManual,t.trpcMiddleware=B.trpcMiddleware,t.withActiveSpan=B.withActiveSpan,t.withIsolationScope=B.withIsolationScope,t.withMonitor=B.withMonitor,t.withScope=B.withScope,t.zodErrorsIntegration=B.zodErrorsIntegration},41759:(e,t,n)=>{var{_optionalChain:r,_optionalChainDelete:o}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const i=n(75919),s=n(37872),a=n(24320),c=n(51055),u="LyohIEBzZW50cnkvbm9kZSA4LjI2LjAgKGJmZjlkZmQpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyB0fWZyb20ibm9kZTppbnNwZWN0b3IiO2ltcG9ydHtwYXJlbnRQb3J0IGFzIG4sd29ya2VyRGF0YSBhcyBlfWZyb20ibm9kZTp3b3JrZXJfdGhyZWFkcyI7aW1wb3J0e3Bvc2l4IGFzIHIsc2VwIGFzIG99ZnJvbSJub2RlOnBhdGgiO2ltcG9ydCphcyBzIGZyb20ibm9kZTpodHRwIjtpbXBvcnQqYXMgaSBmcm9tIm5vZGU6aHR0cHMiO2ltcG9ydHtSZWFkYWJsZSBhcyBjfWZyb20ibm9kZTpzdHJlYW0iO2ltcG9ydHtjcmVhdGVHemlwIGFzIHV9ZnJvbSJub2RlOnpsaWIiO2ltcG9ydCphcyBhIGZyb20ibm9kZTpuZXQiO2ltcG9ydCphcyBmIGZyb20ibm9kZTp0bHMiO2NvbnN0IGg9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBwKHQsbil7cmV0dXJuIGguY2FsbCh0KT09PWBbb2JqZWN0ICR7bn1dYH1mdW5jdGlvbiBkKHQpe3JldHVybiBwKHQsIlN0cmluZyIpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHAodCwiT2JqZWN0Iil9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gQm9vbGVhbih0JiZ0LnRoZW4mJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnRoZW4pfWZ1bmN0aW9uIHkodCxuKXt0cnl7cmV0dXJuIHQgaW5zdGFuY2VvZiBufWNhdGNoKHQpe3JldHVybiExfX1jb25zdCBnPSI4LjI2LjAiLGI9Z2xvYmFsVGhpcztmdW5jdGlvbiB2KHQsbixlKXtjb25zdCByPWV8fGIsbz1yLl9fU0VOVFJZX189ci5fX1NFTlRSWV9ffHx7fSxzPW9bZ109b1tnXXx8e307cmV0dXJuIHNbdF18fChzW3RdPW4oKSl9Y29uc3QgXz1iLHc9ODA7ZnVuY3Rpb24gUyh0LG4pe2NvbnN0IGU9dCxyPVtdO2lmKCFlfHwhZS50YWdOYW1lKXJldHVybiIiO2lmKF8uSFRNTEVsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmZS5kYXRhc2V0KXtpZihlLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50KXJldHVybiBlLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50O2lmKGUuZGF0YXNldC5zZW50cnlFbGVtZW50KXJldHVybiBlLmRhdGFzZXQuc2VudHJ5RWxlbWVudH1yLnB1c2goZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO2NvbnN0IG89biYmbi5sZW5ndGg/bi5maWx0ZXIoKHQ9PmUuZ2V0QXR0cmlidXRlKHQpKSkubWFwKCh0PT5bdCxlLmdldEF0dHJpYnV0ZSh0KV0pKTpudWxsO2lmKG8mJm8ubGVuZ3RoKW8uZm9yRWFjaCgodD0+e3IucHVzaChgWyR7dFswXX09IiR7dFsxXX0iXWApfSkpO2Vsc2V7ZS5pZCYmci5wdXNoKGAjJHtlLmlkfWApO2NvbnN0IHQ9ZS5jbGFzc05hbWU7aWYodCYmZCh0KSl7Y29uc3Qgbj10LnNwbGl0KC9ccysvKTtmb3IoY29uc3QgdCBvZiBuKXIucHVzaChgLiR7dH1gKX19Y29uc3Qgcz1bImFyaWEtbGFiZWwiLCJ0eXBlIiwibmFtZSIsInRpdGxlIiwiYWx0Il07Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1lLmdldEF0dHJpYnV0ZSh0KTtuJiZyLnB1c2goYFske3R9PSIke259Il1gKX1yZXR1cm4gci5qb2luKCIiKX1jb25zdCAkPSJ1bmRlZmluZWQiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXyxFPVsiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwibG9nIiwiYXNzZXJ0IiwidHJhY2UiXSx4PXt9O2Z1bmN0aW9uIE4odCl7aWYoISgiY29uc29sZSJpbiBiKSlyZXR1cm4gdCgpO2NvbnN0IG49Yi5jb25zb2xlLGU9e30scj1PYmplY3Qua2V5cyh4KTtyLmZvckVhY2goKHQ9Pntjb25zdCByPXhbdF07ZVt0XT1uW3RdLG5bdF09cn0pKTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e3IuZm9yRWFjaCgodD0+e25bdF09ZVt0XX0pKX19Y29uc3Qgaz1mdW5jdGlvbigpe2xldCB0PSExO2NvbnN0IG49e2VuYWJsZTooKT0+e3Q9ITB9LGRpc2FibGU6KCk9Pnt0PSExfSxpc0VuYWJsZWQ6KCk9PnR9O3JldHVybiAkP0UuZm9yRWFjaCgoZT0+e25bZV09KC4uLm4pPT57dCYmTigoKCk9PntiLmNvbnNvbGVbZV0oYFNlbnRyeSBMb2dnZXIgWyR7ZX1dOmAsLi4ubil9KSl9fSkpOkUuZm9yRWFjaCgodD0+e25bdF09KCk9Pnt9fSkpLG59KCk7ZnVuY3Rpb24gQyh0LG49ITEpe2NvbnN0e2hvc3Q6ZSxwYXRoOnIscGFzczpvLHBvcnQ6cyxwcm9qZWN0SWQ6aSxwcm90b2NvbDpjLHB1YmxpY0tleTp1fT10O3JldHVybmAke2N9Oi8vJHt1fSR7biYmbz9gOiR7b31gOiIifUAke2V9JHtzP2A6JHtzfWA6IiJ9LyR7cj9gJHtyfS9gOnJ9JHtpfWB9Y2xhc3MgRCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsbj0id2FybiIpe3N1cGVyKHQpLHRoaXMubWVzc2FnZT10LHRoaXMubmFtZT1uZXcudGFyZ2V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLG5ldy50YXJnZXQucHJvdG90eXBlKSx0aGlzLmxvZ0xldmVsPW59fWZ1bmN0aW9uIFQodCl7aWYoZnVuY3Rpb24odCl7c3dpdGNoKGguY2FsbCh0KSl7Y2FzZSJbb2JqZWN0IEVycm9yXSI6Y2FzZSJbb2JqZWN0IEV4Y2VwdGlvbl0iOmNhc2UiW29iamVjdCBET01FeGNlcHRpb25dIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiB5KHQsRXJyb3IpfX0odCkpcmV0dXJue21lc3NhZ2U6dC5tZXNzYWdlLG5hbWU6dC5uYW1lLHN0YWNrOnQuc3RhY2ssLi4uaih0KX07aWYobj10LCJ1bmRlZmluZWQiIT10eXBlb2YgRXZlbnQmJnkobixFdmVudCkpe2NvbnN0IG49e3R5cGU6dC50eXBlLHRhcmdldDpPKHQudGFyZ2V0KSxjdXJyZW50VGFyZ2V0Ok8odC5jdXJyZW50VGFyZ2V0KSwuLi5qKHQpfTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEN1c3RvbUV2ZW50JiZ5KHQsQ3VzdG9tRXZlbnQpJiYobi5kZXRhaWw9dC5kZXRhaWwpLG59cmV0dXJuIHQ7dmFyIG59ZnVuY3Rpb24gTyh0KXt0cnl7cmV0dXJuIG49dCwidW5kZWZpbmVkIiE9dHlwZW9mIEVsZW1lbnQmJnkobixFbGVtZW50KT9mdW5jdGlvbih0LG49e30pe2lmKCF0KXJldHVybiI8dW5rbm93bj4iO3RyeXtsZXQgZT10O2NvbnN0IHI9NSxvPVtdO2xldCBzPTAsaT0wO2NvbnN0IGM9IiA+ICIsdT1jLmxlbmd0aDtsZXQgYTtjb25zdCBmPUFycmF5LmlzQXJyYXkobik/bjpuLmtleUF0dHJzLGg9IUFycmF5LmlzQXJyYXkobikmJm4ubWF4U3RyaW5nTGVuZ3RofHx3O2Zvcig7ZSYmcysrPHImJihhPVMoZSxmKSwhKCJodG1sIj09PWF8fHM+MSYmaStvLmxlbmd0aCp1K2EubGVuZ3RoPj1oKSk7KW8ucHVzaChhKSxpKz1hLmxlbmd0aCxlPWUucGFyZW50Tm9kZTtyZXR1cm4gby5yZXZlcnNlKCkuam9pbihjKX1jYXRjaCh0KXtyZXR1cm4iPHVua25vd24+In19KHQpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1jYXRjaCh0KXtyZXR1cm4iPHVua25vd24+In12YXIgbn1mdW5jdGlvbiBqKHQpe2lmKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQpe2NvbnN0IG49e307Zm9yKGNvbnN0IGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmKG5bZV09dFtlXSk7cmV0dXJuIG59cmV0dXJue319ZnVuY3Rpb24gUih0KXtyZXR1cm4gQSh0LG5ldyBNYXApfWZ1bmN0aW9uIEEodCxuKXtpZihmdW5jdGlvbih0KXtpZighbCh0KSlyZXR1cm4hMTt0cnl7Y29uc3Qgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IubmFtZTtyZXR1cm4hbnx8Ik9iamVjdCI9PT1ufWNhdGNoKHQpe3JldHVybiEwfX0odCkpe2NvbnN0IGU9bi5nZXQodCk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZTtjb25zdCByPXt9O24uc2V0KHQscik7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModCkpdm9pZCAwIT09dFtlXSYmKHJbZV09QSh0W2VdLG4pKTtyZXR1cm4gcn1pZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPW4uZ2V0KHQpO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGU7Y29uc3Qgcj1bXTtyZXR1cm4gbi5zZXQodCxyKSx0LmZvckVhY2goKHQ9PntyLnB1c2goQSh0LG4pKX0pKSxyfXJldHVybiB0fWNvbnN0IEk9NTAsUD0iPyIsVT0vY2FwdHVyZU1lc3NhZ2V8Y2FwdHVyZUV4Y2VwdGlvbi87ZnVuY3Rpb24gTSh0KXtyZXR1cm4gdFt0Lmxlbmd0aC0xXXx8e319Y29uc3QgTD0iPGFub255bW91cz4iO2NvbnN0IEI9MWUzO2Z1bmN0aW9uIEcoKXtyZXR1cm4gRGF0ZS5ub3coKS9CfWNvbnN0IEo9ZnVuY3Rpb24oKXtjb25zdHtwZXJmb3JtYW5jZTp0fT1iO2lmKCF0fHwhdC5ub3cpcmV0dXJuIEc7Y29uc3Qgbj1EYXRlLm5vdygpLXQubm93KCksZT1udWxsPT10LnRpbWVPcmlnaW4/bjp0LnRpbWVPcmlnaW47cmV0dXJuKCk9PihlK3Qubm93KCkpL0J9KCk7ZnVuY3Rpb24geigpe2NvbnN0IHQ9YixuPXQuY3J5cHRvfHx0Lm1zQ3J5cHRvO2xldCBlPSgpPT4xNipNYXRoLnJhbmRvbSgpO3RyeXtpZihuJiZuLnJhbmRvbVVVSUQpcmV0dXJuIG4ucmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywiIik7biYmbi5nZXRSYW5kb21WYWx1ZXMmJihlPSgpPT57Y29uc3QgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gbi5nZXRSYW5kb21WYWx1ZXModCksdFswXX0pfWNhdGNoKHQpe31yZXR1cm4oWzFlN10rMWUzKzRlMys4ZTMrMWUxMSkucmVwbGFjZSgvWzAxOF0vZywodD0+KHReKDE1JmUoKSk+PnQvNCkudG9TdHJpbmcoMTYpKSl9ZnVuY3Rpb24gSCh0LG49MTAwLGU9MS8wKXt0cnl7cmV0dXJuIFcoIiIsdCxuLGUpfWNhdGNoKHQpe3JldHVybntFUlJPUjpgKipub24tc2VyaWFsaXphYmxlKiogKCR7dH0pYH19fWZ1bmN0aW9uIFcodCxuLGU9MS8wLHI9MS8wLG89ZnVuY3Rpb24oKXtjb25zdCB0PSJmdW5jdGlvbiI9PXR5cGVvZiBXZWFrU2V0LG49dD9uZXcgV2Vha1NldDpbXTtyZXR1cm5bZnVuY3Rpb24oZSl7aWYodClyZXR1cm4hIW4uaGFzKGUpfHwobi5hZGQoZSksITEpO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF09PT1lKXJldHVybiEwO3JldHVybiBuLnB1c2goZSksITF9LGZ1bmN0aW9uKGUpe2lmKHQpbi5kZWxldGUoZSk7ZWxzZSBmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdPT09ZSl7bi5zcGxpY2UodCwxKTticmVha319XX0oKSl7Y29uc3RbcyxpXT1vO2lmKG51bGw9PW58fFsibnVtYmVyIiwiYm9vbGVhbiIsInN0cmluZyJdLmluY2x1ZGVzKHR5cGVvZiBuKSYmIU51bWJlci5pc05hTihuKSlyZXR1cm4gbjtjb25zdCBjPWZ1bmN0aW9uKHQsbil7dHJ5e2lmKCJkb21haW4iPT09dCYmbiYmIm9iamVjdCI9PXR5cGVvZiBuJiZuLnQpcmV0dXJuIltEb21haW5dIjtpZigiZG9tYWluRW1pdHRlciI9PT10KXJldHVybiJbRG9tYWluRW1pdHRlcl0iO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZuPT09Z2xvYmFsKXJldHVybiJbR2xvYmFsXSI7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJm49PT13aW5kb3cpcmV0dXJuIltXaW5kb3ddIjtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZuPT09ZG9jdW1lbnQpcmV0dXJuIltEb2N1bWVudF0iO2lmKCJvYmplY3QiPT10eXBlb2YoZT1uKSYmbnVsbCE9PWUmJihlLl9faXNWdWV8fGUubykpcmV0dXJuIltWdWVWaWV3TW9kZWxdIjtpZihmdW5jdGlvbih0KXtyZXR1cm4gbCh0KSYmIm5hdGl2ZUV2ZW50ImluIHQmJiJwcmV2ZW50RGVmYXVsdCJpbiB0JiYic3RvcFByb3BhZ2F0aW9uImluIHR9KG4pKXJldHVybiJbU3ludGhldGljRXZlbnRdIjtpZigibnVtYmVyIj09dHlwZW9mIG4mJm4hPW4pcmV0dXJuIltOYU5dIjtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm5gW0Z1bmN0aW9uOiAke2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQubmFtZXx8TH1jYXRjaCh0KXtyZXR1cm4gTH19KG4pfV1gO2lmKCJzeW1ib2wiPT10eXBlb2YgbilyZXR1cm5gWyR7U3RyaW5nKG4pfV1gO2lmKCJiaWdpbnQiPT10eXBlb2YgbilyZXR1cm5gW0JpZ0ludDogJHtTdHJpbmcobil9XWA7Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBuPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gbj9uLmNvbnN0cnVjdG9yLm5hbWU6Im51bGwgcHJvdG90eXBlIn0obik7cmV0dXJuL15IVE1MKFx3KilFbGVtZW50JC8udGVzdChyKT9gW0hUTUxFbGVtZW50OiAke3J9XWA6YFtvYmplY3QgJHtyfV1gfWNhdGNoKHQpe3JldHVybmAqKm5vbi1zZXJpYWxpemFibGUqKiAoJHt0fSlgfXZhciBlfSh0LG4pO2lmKCFjLnN0YXJ0c1dpdGgoIltvYmplY3QgIikpcmV0dXJuIGM7aWYobi5fX3NlbnRyeV9za2lwX25vcm1hbGl6YXRpb25fXylyZXR1cm4gbjtjb25zdCB1PSJudW1iZXIiPT10eXBlb2Ygbi5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18/bi5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX186ZTtpZigwPT09dSlyZXR1cm4gYy5yZXBsYWNlKCJvYmplY3QgIiwiIik7aWYocyhuKSlyZXR1cm4iW0NpcmN1bGFyIH5dIjtjb25zdCBhPW47aWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEudG9KU09OKXRyeXtyZXR1cm4gVygiIixhLnRvSlNPTigpLHUtMSxyLG8pfWNhdGNoKHQpe31jb25zdCBmPUFycmF5LmlzQXJyYXkobik/W106e307bGV0IGg9MDtjb25zdCBwPVQobik7Zm9yKGNvbnN0IHQgaW4gcCl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwLHQpKWNvbnRpbnVlO2lmKGg+PXIpe2ZbdF09IltNYXhQcm9wZXJ0aWVzIH5dIjticmVha31jb25zdCBuPXBbdF07Zlt0XT1XKHQsbix1LTEscixvKSxoKyt9cmV0dXJuIGkobiksZn1mdW5jdGlvbiBZKHQsbil7Y29uc3QgZT1uLnJlcGxhY2UoL1xcL2csIi8iKS5yZXBsYWNlKC9bfFxce30oKVtcXV4kKyo/Ll0vZywiXFwkJiIpO2xldCByPXQ7dHJ5e3I9ZGVjb2RlVVJJKHQpfWNhdGNoKHQpe31yZXR1cm4gci5yZXBsYWNlKC9cXC9nLCIvIikucmVwbGFjZSgvd2VicGFjazpcLz8vZywiIikucmVwbGFjZShuZXcgUmVnRXhwKGAoZmlsZTovLyk/Lyoke2V9LypgLCJpZyIpLCJhcHA6Ly8vIil9KCgpPT57Y29uc3R7cGVyZm9ybWFuY2U6dH09YjtpZighdHx8IXQubm93KXJldHVybjtjb25zdCBuPTM2ZTUsZT10Lm5vdygpLHI9RGF0ZS5ub3coKSxvPXQudGltZU9yaWdpbj9NYXRoLmFicyh0LnRpbWVPcmlnaW4rZS1yKTpuLHM9bzxuLGk9dC50aW1pbmcmJnQudGltaW5nLm5hdmlnYXRpb25TdGFydCxjPSJudW1iZXIiPT10eXBlb2YgaT9NYXRoLmFicyhpK2Utcik6bjsoc3x8YzxuKSYmKG88PWMmJnQudGltZU9yaWdpbil9KSgpO2NvbnN0IHE9L14oXFMrOlxcfFwvPykoW1xzXFNdKj8pKCg/OlwuezEsMn18W14vXFxdKz98KShcLlteLi9cXF0qfCkpKD86Wy9cXF0qKSQvO2Z1bmN0aW9uIEYodCl7Y29uc3Qgbj1mdW5jdGlvbih0KXtjb25zdCBuPXQubGVuZ3RoPjEwMjQ/YDx0cnVuY2F0ZWQ+JHt0LnNsaWNlKC0xMDI0KX1gOnQsZT1xLmV4ZWMobik7cmV0dXJuIGU/ZS5zbGljZSgxKTpbXX0odCksZT1uWzBdfHwiIjtsZXQgcj1uWzFdO3JldHVybiBlfHxyPyhyJiYocj1yLnNsaWNlKDAsci5sZW5ndGgtMSkpLGUrcik6Ii4ifXZhciBLO2Z1bmN0aW9uIFYodCl7cmV0dXJuIG5ldyBaKChuPT57bih0KX0pKX0hZnVuY3Rpb24odCl7dFt0LlBFTkRJTkc9MF09IlBFTkRJTkciO3RbdC5SRVNPTFZFRD0xXT0iUkVTT0xWRUQiO3RbdC5SRUpFQ1RFRD0yXT0iUkVKRUNURUQifShLfHwoSz17fSkpO2NsYXNzIFp7Y29uc3RydWN0b3IodCl7Wi5wcm90b3R5cGUuX19pbml0LmNhbGwodGhpcyksWi5wcm90b3R5cGUuX19pbml0Mi5jYWxsKHRoaXMpLFoucHJvdG90eXBlLl9faW5pdDMuY2FsbCh0aGlzKSxaLnByb3RvdHlwZS5fX2luaXQ0LmNhbGwodGhpcyksdGhpcy5pPUsuUEVORElORyx0aGlzLnU9W107dHJ5e3QodGhpcy5oLHRoaXMucCl9Y2F0Y2godCl7dGhpcy5wKHQpfX10aGVuKHQsbil7cmV0dXJuIG5ldyBaKCgoZSxyKT0+e3RoaXMudS5wdXNoKFshMSxuPT57aWYodCl0cnl7ZSh0KG4pKX1jYXRjaCh0KXtyKHQpfWVsc2UgZShuKX0sdD0+e2lmKG4pdHJ5e2Uobih0KSl9Y2F0Y2godCl7cih0KX1lbHNlIHIodCl9XSksdGhpcy5sKCl9KSl9Y2F0Y2godCl7cmV0dXJuIHRoaXMudGhlbigodD0+dCksdCl9ZmluYWxseSh0KXtyZXR1cm4gbmV3IFooKChuLGUpPT57bGV0IHIsbztyZXR1cm4gdGhpcy50aGVuKChuPT57bz0hMSxyPW4sdCYmdCgpfSksKG49PntvPSEwLHI9bix0JiZ0KCl9KSkudGhlbigoKCk9PntvP2Uocik6bihyKX0pKX0pKX1fX2luaXQoKXt0aGlzLmg9dD0+e3RoaXMubShLLlJFU09MVkVELHQpfX1fX2luaXQyKCl7dGhpcy5wPXQ9Pnt0aGlzLm0oSy5SRUpFQ1RFRCx0KX19X19pbml0Mygpe3RoaXMubT0odCxuKT0+e3RoaXMuaT09PUsuUEVORElORyYmKG0obik/bi50aGVuKHRoaXMuaCx0aGlzLnApOih0aGlzLmk9dCx0aGlzLnY9bix0aGlzLmwoKSkpfX1fX2luaXQ0KCl7dGhpcy5sPSgpPT57aWYodGhpcy5pPT09Sy5QRU5ESU5HKXJldHVybjtjb25zdCB0PXRoaXMudS5zbGljZSgpO3RoaXMudT1bXSx0LmZvckVhY2goKHQ9Pnt0WzBdfHwodGhpcy5pPT09Sy5SRVNPTFZFRCYmdFsxXSh0aGlzLnYpLHRoaXMuaT09PUsuUkVKRUNURUQmJnRbMl0odGhpcy52KSx0WzBdPSEwKX0pKX19fWZ1bmN0aW9uIFEodCl7Y29uc3Qgbj1bXTtmdW5jdGlvbiBlKHQpe3JldHVybiBuLnNwbGljZShuLmluZGV4T2YodCksMSlbMF18fFByb21pc2UucmVzb2x2ZSh2b2lkIDApfXJldHVybnskOm4sYWRkOmZ1bmN0aW9uKHIpe2lmKCEodm9pZCAwPT09dHx8bi5sZW5ndGg8dCkpcmV0dXJuIG89bmV3IEQoIk5vdCBhZGRpbmcgUHJvbWlzZSBiZWNhdXNlIGJ1ZmZlciBsaW1pdCB3YXMgcmVhY2hlZC4iKSxuZXcgWigoKHQsbik9PntuKG8pfSkpO3ZhciBvO2NvbnN0IHM9cigpO3JldHVybi0xPT09bi5pbmRleE9mKHMpJiZuLnB1c2gocykscy50aGVuKCgoKT0+ZShzKSkpLnRoZW4obnVsbCwoKCk9PmUocykudGhlbihudWxsLCgoKT0+e30pKSkpLHN9LGRyYWluOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWigoKGUscik9PntsZXQgbz1uLmxlbmd0aDtpZighbylyZXR1cm4gZSghMCk7Y29uc3Qgcz1zZXRUaW1lb3V0KCgoKT0+e3QmJnQ+MCYmZSghMSl9KSx0KTtuLmZvckVhY2goKHQ9PntWKHQpLnRoZW4oKCgpPT57LS1vfHwoY2xlYXJUaW1lb3V0KHMpLGUoITApKX0pLHIpfSkpfSkpfX19ZnVuY3Rpb24gWCh0LG49ITEpe3JldHVybiEobnx8dCYmIXQuc3RhcnRzV2l0aCgiLyIpJiYhdC5tYXRjaCgvXltBLVpdOi8pJiYhdC5zdGFydHNXaXRoKCIuIikmJiF0Lm1hdGNoKC9eW2EtekEtWl0oW2EtekEtWjAtOS5cLStdKSo6XC9cLy8pKSYmdm9pZCAwIT09dCYmIXQuaW5jbHVkZXMoIm5vZGVfbW9kdWxlcy8iKX1jb25zdCB0dD0ic2VudHJ5LSIsbnQ9L15zZW50cnktLztmdW5jdGlvbiBldCh0KXtjb25zdCBuPWZ1bmN0aW9uKHQpe2lmKCF0fHwhZCh0KSYmIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQucmVkdWNlKCgodCxuKT0+e2NvbnN0IGU9cnQobik7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKChbbixlXSk9Pnt0W25dPWV9KSksdH0pLHt9KTtyZXR1cm4gcnQodCl9KHQpO2lmKCFuKXJldHVybjtjb25zdCBlPU9iamVjdC5lbnRyaWVzKG4pLnJlZHVjZSgoKHQsW24sZV0pPT57aWYobi5tYXRjaChudCkpe3Rbbi5zbGljZSh0dC5sZW5ndGgpXT1lfXJldHVybiB0fSkse30pO3JldHVybiBPYmplY3Qua2V5cyhlKS5sZW5ndGg+MD9lOnZvaWQgMH1mdW5jdGlvbiBydCh0KXtyZXR1cm4gdC5zcGxpdCgiLCIpLm1hcCgodD0+dC5zcGxpdCgiPSIpLm1hcCgodD0+ZGVjb2RlVVJJQ29tcG9uZW50KHQudHJpbSgpKSkpKSkucmVkdWNlKCgodCxbbixlXSk9PihuJiZlJiYodFtuXT1lKSx0KSkse30pfWZ1bmN0aW9uIG90KHQsbj1bXSl7cmV0dXJuW3Qsbl19ZnVuY3Rpb24gc3QodCxuKXtjb25zdCBlPXRbMV07Zm9yKGNvbnN0IHQgb2YgZSl7aWYobih0LHRbMF0udHlwZSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaXQodCl7cmV0dXJuIGIuX19TRU5UUllfXyYmYi5fX1NFTlRSWV9fLmVuY29kZVBvbHlmaWxsP2IuX19TRU5UUllfXy5lbmNvZGVQb2x5ZmlsbCh0KToobmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCl9ZnVuY3Rpb24gY3QodCl7Y29uc3RbbixlXT10O2xldCByPUpTT04uc3RyaW5naWZ5KG4pO2Z1bmN0aW9uIG8odCl7InN0cmluZyI9PXR5cGVvZiByP3I9InN0cmluZyI9PXR5cGVvZiB0P3IrdDpbaXQociksdF06ci5wdXNoKCJzdHJpbmciPT10eXBlb2YgdD9pdCh0KTp0KX1mb3IoY29uc3QgdCBvZiBlKXtjb25zdFtuLGVdPXQ7aWYobyhgXG4ke0pTT04uc3RyaW5naWZ5KG4pfVxuYCksInN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgVWludDhBcnJheSlvKGUpO2Vsc2V7bGV0IHQ7dHJ5e3Q9SlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2gobil7dD1KU09OLnN0cmluZ2lmeShIKGUpKX1vKHQpfX1yZXR1cm4ic3RyaW5nIj09dHlwZW9mIHI/cjpmdW5jdGlvbih0KXtjb25zdCBuPXQucmVkdWNlKCgodCxuKT0+dCtuLmxlbmd0aCksMCksZT1uZXcgVWludDhBcnJheShuKTtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIHQpZS5zZXQobixyKSxyKz1uLmxlbmd0aDtyZXR1cm4gZX0ocil9Y29uc3QgdXQ9e3Nlc3Npb246InNlc3Npb24iLHNlc3Npb25zOiJzZXNzaW9uIixhdHRhY2htZW50OiJhdHRhY2htZW50Iix0cmFuc2FjdGlvbjoidHJhbnNhY3Rpb24iLGV2ZW50OiJlcnJvciIsY2xpZW50X3JlcG9ydDoiaW50ZXJuYWwiLHVzZXJfcmVwb3J0OiJkZWZhdWx0Iixwcm9maWxlOiJwcm9maWxlIixwcm9maWxlX2NodW5rOiJwcm9maWxlIixyZXBsYXlfZXZlbnQ6InJlcGxheSIscmVwbGF5X3JlY29yZGluZzoicmVwbGF5IixjaGVja19pbjoibW9uaXRvciIsZmVlZGJhY2s6ImZlZWRiYWNrIixzcGFuOiJzcGFuIixzdGF0c2Q6Im1ldHJpY19idWNrZXQifTtmdW5jdGlvbiBhdCh0KXtyZXR1cm4gdXRbdF19ZnVuY3Rpb24gZnQodCl7aWYoIXR8fCF0LnNkaylyZXR1cm47Y29uc3R7bmFtZTpuLHZlcnNpb246ZX09dC5zZGs7cmV0dXJue25hbWU6bix2ZXJzaW9uOmV9fWNvbnN0IGh0PTZlNDtmdW5jdGlvbiBwdCh0LHtzdGF0dXNDb2RlOm4saGVhZGVyczplfSxyPURhdGUubm93KCkpe2NvbnN0IG89ey4uLnR9LHM9ZSYmZVsieC1zZW50cnktcmF0ZS1saW1pdHMiXSxpPWUmJmVbInJldHJ5LWFmdGVyIl07aWYocylmb3IoY29uc3QgdCBvZiBzLnRyaW0oKS5zcGxpdCgiLCIpKXtjb25zdFtuLGUsLCxzXT10LnNwbGl0KCI6Iiw1KSxpPXBhcnNlSW50KG4sMTApLGM9MWUzKihpc05hTihpKT82MDppKTtpZihlKWZvcihjb25zdCB0IG9mIGUuc3BsaXQoIjsiKSkibWV0cmljX2J1Y2tldCI9PT10JiZzJiYhcy5zcGxpdCgiOyIpLmluY2x1ZGVzKCJjdXN0b20iKXx8KG9bdF09citjKTtlbHNlIG8uYWxsPXIrY31lbHNlIGk/by5hbGw9citmdW5jdGlvbih0LG49RGF0ZS5ub3coKSl7Y29uc3QgZT1wYXJzZUludChgJHt0fWAsMTApO2lmKCFpc05hTihlKSlyZXR1cm4gMWUzKmU7Y29uc3Qgcj1EYXRlLnBhcnNlKGAke3R9YCk7cmV0dXJuIGlzTmFOKHIpP2h0OnItbn0oaSxyKTo0Mjk9PT1uJiYoby5hbGw9cis2ZTQpO3JldHVybiBvfWZ1bmN0aW9uIGR0KCl7cmV0dXJue3RyYWNlSWQ6eigpLHNwYW5JZDp6KCkuc3Vic3RyaW5nKDE2KX19Y29uc3QgbHQ9InVuZGVmaW5lZCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fO2Z1bmN0aW9uIG10KCl7cmV0dXJuIHl0KGIpLGJ9ZnVuY3Rpb24geXQodCl7Y29uc3Qgbj10Ll9fU0VOVFJZX189dC5fX1NFTlRSWV9ffHx7fTtyZXR1cm4gbi52ZXJzaW9uPW4udmVyc2lvbnx8ZyxuW2ddPW5bZ118fHt9fWZ1bmN0aW9uIGd0KHQpe2NvbnN0IG49SigpLGU9e3NpZDp6KCksaW5pdDohMCx0aW1lc3RhbXA6bixzdGFydGVkOm4sZHVyYXRpb246MCxzdGF0dXM6Im9rIixlcnJvcnM6MCxpZ25vcmVEdXJhdGlvbjohMSx0b0pTT046KCk9PmZ1bmN0aW9uKHQpe3JldHVybiBSKHtzaWQ6YCR7dC5zaWR9YCxpbml0OnQuaW5pdCxzdGFydGVkOm5ldyBEYXRlKDFlMyp0LnN0YXJ0ZWQpLnRvSVNPU3RyaW5nKCksdGltZXN0YW1wOm5ldyBEYXRlKDFlMyp0LnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxzdGF0dXM6dC5zdGF0dXMsZXJyb3JzOnQuZXJyb3JzLGRpZDoibnVtYmVyIj09dHlwZW9mIHQuZGlkfHwic3RyaW5nIj09dHlwZW9mIHQuZGlkP2Ake3QuZGlkfWA6dm9pZCAwLGR1cmF0aW9uOnQuZHVyYXRpb24sYWJub3JtYWxfbWVjaGFuaXNtOnQuYWJub3JtYWxfbWVjaGFuaXNtLGF0dHJzOntyZWxlYXNlOnQucmVsZWFzZSxlbnZpcm9ubWVudDp0LmVudmlyb25tZW50LGlwX2FkZHJlc3M6dC5pcEFkZHJlc3MsdXNlcl9hZ2VudDp0LnVzZXJBZ2VudH19KX0oZSl9O3JldHVybiB0JiZidChlLHQpLGV9ZnVuY3Rpb24gYnQodCxuPXt9KXtpZihuLnVzZXImJighdC5pcEFkZHJlc3MmJm4udXNlci5pcF9hZGRyZXNzJiYodC5pcEFkZHJlc3M9bi51c2VyLmlwX2FkZHJlc3MpLHQuZGlkfHxuLmRpZHx8KHQuZGlkPW4udXNlci5pZHx8bi51c2VyLmVtYWlsfHxuLnVzZXIudXNlcm5hbWUpKSx0LnRpbWVzdGFtcD1uLnRpbWVzdGFtcHx8SigpLG4uYWJub3JtYWxfbWVjaGFuaXNtJiYodC5hYm5vcm1hbF9tZWNoYW5pc209bi5hYm5vcm1hbF9tZWNoYW5pc20pLG4uaWdub3JlRHVyYXRpb24mJih0Lmlnbm9yZUR1cmF0aW9uPW4uaWdub3JlRHVyYXRpb24pLG4uc2lkJiYodC5zaWQ9MzI9PT1uLnNpZC5sZW5ndGg/bi5zaWQ6eigpKSx2b2lkIDAhPT1uLmluaXQmJih0LmluaXQ9bi5pbml0KSwhdC5kaWQmJm4uZGlkJiYodC5kaWQ9YCR7bi5kaWR9YCksIm51bWJlciI9PXR5cGVvZiBuLnN0YXJ0ZWQmJih0LnN0YXJ0ZWQ9bi5zdGFydGVkKSx0Lmlnbm9yZUR1cmF0aW9uKXQuZHVyYXRpb249dm9pZCAwO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBuLmR1cmF0aW9uKXQuZHVyYXRpb249bi5kdXJhdGlvbjtlbHNle2NvbnN0IG49dC50aW1lc3RhbXAtdC5zdGFydGVkO3QuZHVyYXRpb249bj49MD9uOjB9bi5yZWxlYXNlJiYodC5yZWxlYXNlPW4ucmVsZWFzZSksbi5lbnZpcm9ubWVudCYmKHQuZW52aXJvbm1lbnQ9bi5lbnZpcm9ubWVudCksIXQuaXBBZGRyZXNzJiZuLmlwQWRkcmVzcyYmKHQuaXBBZGRyZXNzPW4uaXBBZGRyZXNzKSwhdC51c2VyQWdlbnQmJm4udXNlckFnZW50JiYodC51c2VyQWdlbnQ9bi51c2VyQWdlbnQpLCJudW1iZXIiPT10eXBlb2Ygbi5lcnJvcnMmJih0LmVycm9ycz1uLmVycm9ycyksbi5zdGF0dXMmJih0LnN0YXR1cz1uLnN0YXR1cyl9Y29uc3QgdnQ9Il9zZW50cnlTcGFuIjtmdW5jdGlvbiBfdCh0LG4pe24/ZnVuY3Rpb24odCxuLGUpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWNhdGNoKGUpeyQmJmsubG9nKGBGYWlsZWQgdG8gYWRkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5ICIke259IiB0byBvYmplY3RgLHQpfX0odCx2dCxuKTpkZWxldGUgdFt2dF19ZnVuY3Rpb24gd3QodCl7cmV0dXJuIHRbdnRdfWNsYXNzIFN0e2NvbnN0cnVjdG9yKCl7dGhpcy5fPSExLHRoaXMuUz1bXSx0aGlzLk49W10sdGhpcy5rPVtdLHRoaXMuQz1bXSx0aGlzLkQ9e30sdGhpcy5UPXt9LHRoaXMuTz17fSx0aGlzLmo9e30sdGhpcy5SPXt9LHRoaXMuQT1kdCgpfWNsb25lKCl7Y29uc3QgdD1uZXcgU3Q7cmV0dXJuIHQuaz1bLi4udGhpcy5rXSx0LlQ9ey4uLnRoaXMuVH0sdC5PPXsuLi50aGlzLk99LHQuaj17Li4udGhpcy5qfSx0LkQ9dGhpcy5ELHQuST10aGlzLkksdC5QPXRoaXMuUCx0LlU9dGhpcy5VLHQuTT10aGlzLk0sdC5OPVsuLi50aGlzLk5dLHQuTD10aGlzLkwsdC5DPVsuLi50aGlzLkNdLHQuUj17Li4udGhpcy5SfSx0LkE9ey4uLnRoaXMuQX0sdC5CPXRoaXMuQix0Lkc9dGhpcy5HLF90KHQsd3QodGhpcykpLHR9c2V0Q2xpZW50KHQpe3RoaXMuQj10fXNldExhc3RFdmVudElkKHQpe3RoaXMuRz10fWdldENsaWVudCgpe3JldHVybiB0aGlzLkJ9bGFzdEV2ZW50SWQoKXtyZXR1cm4gdGhpcy5HfWFkZFNjb3BlTGlzdGVuZXIodCl7dGhpcy5TLnB1c2godCl9YWRkRXZlbnRQcm9jZXNzb3IodCl7cmV0dXJuIHRoaXMuTi5wdXNoKHQpLHRoaXN9c2V0VXNlcih0KXtyZXR1cm4gdGhpcy5EPXR8fHtlbWFpbDp2b2lkIDAsaWQ6dm9pZCAwLGlwX2FkZHJlc3M6dm9pZCAwLHVzZXJuYW1lOnZvaWQgMH0sdGhpcy5QJiZidCh0aGlzLlAse3VzZXI6dH0pLHRoaXMuSigpLHRoaXN9Z2V0VXNlcigpe3JldHVybiB0aGlzLkR9Z2V0UmVxdWVzdFNlc3Npb24oKXtyZXR1cm4gdGhpcy5MfXNldFJlcXVlc3RTZXNzaW9uKHQpe3JldHVybiB0aGlzLkw9dCx0aGlzfXNldFRhZ3ModCl7cmV0dXJuIHRoaXMuVD17Li4udGhpcy5ULC4uLnR9LHRoaXMuSigpLHRoaXN9c2V0VGFnKHQsbil7cmV0dXJuIHRoaXMuVD17Li4udGhpcy5ULFt0XTpufSx0aGlzLkooKSx0aGlzfXNldEV4dHJhcyh0KXtyZXR1cm4gdGhpcy5PPXsuLi50aGlzLk8sLi4udH0sdGhpcy5KKCksdGhpc31zZXRFeHRyYSh0LG4pe3JldHVybiB0aGlzLk89ey4uLnRoaXMuTyxbdF06bn0sdGhpcy5KKCksdGhpc31zZXRGaW5nZXJwcmludCh0KXtyZXR1cm4gdGhpcy5NPXQsdGhpcy5KKCksdGhpc31zZXRMZXZlbCh0KXtyZXR1cm4gdGhpcy5JPXQsdGhpcy5KKCksdGhpc31zZXRUcmFuc2FjdGlvbk5hbWUodCl7cmV0dXJuIHRoaXMuVT10LHRoaXMuSigpLHRoaXN9c2V0Q29udGV4dCh0LG4pe3JldHVybiBudWxsPT09bj9kZWxldGUgdGhpcy5qW3RdOnRoaXMualt0XT1uLHRoaXMuSigpLHRoaXN9c2V0U2Vzc2lvbih0KXtyZXR1cm4gdD90aGlzLlA9dDpkZWxldGUgdGhpcy5QLHRoaXMuSigpLHRoaXN9Z2V0U2Vzc2lvbigpe3JldHVybiB0aGlzLlB9dXBkYXRlKHQpe2lmKCF0KXJldHVybiB0aGlzO2NvbnN0IG49ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dCh0aGlzKTp0LFtlLHJdPW4gaW5zdGFuY2VvZiAkdD9bbi5nZXRTY29wZURhdGEoKSxuLmdldFJlcXVlc3RTZXNzaW9uKCldOmwobik/W3QsdC5yZXF1ZXN0U2Vzc2lvbl06W10se3RhZ3M6byxleHRyYTpzLHVzZXI6aSxjb250ZXh0czpjLGxldmVsOnUsZmluZ2VycHJpbnQ6YT1bXSxwcm9wYWdhdGlvbkNvbnRleHQ6Zn09ZXx8e307cmV0dXJuIHRoaXMuVD17Li4udGhpcy5ULC4uLm99LHRoaXMuTz17Li4udGhpcy5PLC4uLnN9LHRoaXMuaj17Li4udGhpcy5qLC4uLmN9LGkmJk9iamVjdC5rZXlzKGkpLmxlbmd0aCYmKHRoaXMuRD1pKSx1JiYodGhpcy5JPXUpLGEubGVuZ3RoJiYodGhpcy5NPWEpLGYmJih0aGlzLkE9ZiksciYmKHRoaXMuTD1yKSx0aGlzfWNsZWFyKCl7cmV0dXJuIHRoaXMuaz1bXSx0aGlzLlQ9e30sdGhpcy5PPXt9LHRoaXMuRD17fSx0aGlzLmo9e30sdGhpcy5JPXZvaWQgMCx0aGlzLlU9dm9pZCAwLHRoaXMuTT12b2lkIDAsdGhpcy5MPXZvaWQgMCx0aGlzLlA9dm9pZCAwLF90KHRoaXMsdm9pZCAwKSx0aGlzLkM9W10sdGhpcy5BPWR0KCksdGhpcy5KKCksdGhpc31hZGRCcmVhZGNydW1iKHQsbil7Y29uc3QgZT0ibnVtYmVyIj09dHlwZW9mIG4/bjoxMDA7aWYoZTw9MClyZXR1cm4gdGhpcztjb25zdCByPXt0aW1lc3RhbXA6RygpLC4uLnR9LG89dGhpcy5rO3JldHVybiBvLnB1c2gociksdGhpcy5rPW8ubGVuZ3RoPmU/by5zbGljZSgtZSk6byx0aGlzLkooKSx0aGlzfWdldExhc3RCcmVhZGNydW1iKCl7cmV0dXJuIHRoaXMua1t0aGlzLmsubGVuZ3RoLTFdfWNsZWFyQnJlYWRjcnVtYnMoKXtyZXR1cm4gdGhpcy5rPVtdLHRoaXMuSigpLHRoaXN9YWRkQXR0YWNobWVudCh0KXtyZXR1cm4gdGhpcy5DLnB1c2godCksdGhpc31jbGVhckF0dGFjaG1lbnRzKCl7cmV0dXJuIHRoaXMuQz1bXSx0aGlzfWdldFNjb3BlRGF0YSgpe3JldHVybnticmVhZGNydW1iczp0aGlzLmssYXR0YWNobWVudHM6dGhpcy5DLGNvbnRleHRzOnRoaXMuaix0YWdzOnRoaXMuVCxleHRyYTp0aGlzLk8sdXNlcjp0aGlzLkQsbGV2ZWw6dGhpcy5JLGZpbmdlcnByaW50OnRoaXMuTXx8W10sZXZlbnRQcm9jZXNzb3JzOnRoaXMuTixwcm9wYWdhdGlvbkNvbnRleHQ6dGhpcy5BLHNka1Byb2Nlc3NpbmdNZXRhZGF0YTp0aGlzLlIsdHJhbnNhY3Rpb25OYW1lOnRoaXMuVSxzcGFuOnd0KHRoaXMpfX1zZXRTREtQcm9jZXNzaW5nTWV0YWRhdGEodCl7cmV0dXJuIHRoaXMuUj17Li4udGhpcy5SLC4uLnR9LHRoaXN9c2V0UHJvcGFnYXRpb25Db250ZXh0KHQpe3JldHVybiB0aGlzLkE9dCx0aGlzfWdldFByb3BhZ2F0aW9uQ29udGV4dCgpe3JldHVybiB0aGlzLkF9Y2FwdHVyZUV4Y2VwdGlvbih0LG4pe2NvbnN0IGU9biYmbi5ldmVudF9pZD9uLmV2ZW50X2lkOnooKTtpZighdGhpcy5CKXJldHVybiBrLndhcm4oIk5vIGNsaWVudCBjb25maWd1cmVkIG9uIHNjb3BlIC0gd2lsbCBub3QgY2FwdHVyZSBleGNlcHRpb24hIiksZTtjb25zdCByPW5ldyBFcnJvcigiU2VudHJ5IHN5bnRoZXRpY0V4Y2VwdGlvbiIpO3JldHVybiB0aGlzLkIuY2FwdHVyZUV4Y2VwdGlvbih0LHtvcmlnaW5hbEV4Y2VwdGlvbjp0LHN5bnRoZXRpY0V4Y2VwdGlvbjpyLC4uLm4sZXZlbnRfaWQ6ZX0sdGhpcyksZX1jYXB0dXJlTWVzc2FnZSh0LG4sZSl7Y29uc3Qgcj1lJiZlLmV2ZW50X2lkP2UuZXZlbnRfaWQ6eigpO2lmKCF0aGlzLkIpcmV0dXJuIGsud2FybigiTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIG1lc3NhZ2UhIikscjtjb25zdCBvPW5ldyBFcnJvcih0KTtyZXR1cm4gdGhpcy5CLmNhcHR1cmVNZXNzYWdlKHQsbix7b3JpZ2luYWxFeGNlcHRpb246dCxzeW50aGV0aWNFeGNlcHRpb246bywuLi5lLGV2ZW50X2lkOnJ9LHRoaXMpLHJ9Y2FwdHVyZUV2ZW50KHQsbil7Y29uc3QgZT1uJiZuLmV2ZW50X2lkP24uZXZlbnRfaWQ6eigpO3JldHVybiB0aGlzLkI/KHRoaXMuQi5jYXB0dXJlRXZlbnQodCx7Li4ubixldmVudF9pZDplfSx0aGlzKSxlKTooay53YXJuKCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgZXZlbnQhIiksZSl9Sigpe3RoaXMuX3x8KHRoaXMuXz0hMCx0aGlzLlMuZm9yRWFjaCgodD0+e3QodGhpcyl9KSksdGhpcy5fPSExKX19Y29uc3QgJHQ9U3Q7Y2xhc3MgRXR7Y29uc3RydWN0b3IodCxuKXtsZXQgZSxyO2U9dHx8bmV3ICR0LHI9bnx8bmV3ICR0LHRoaXMuSD1be3Njb3BlOmV9XSx0aGlzLlc9cn13aXRoU2NvcGUodCl7Y29uc3Qgbj10aGlzLlkoKTtsZXQgZTt0cnl7ZT10KG4pfWNhdGNoKHQpe3Rocm93IHRoaXMucSgpLHR9cmV0dXJuIG0oZSk/ZS50aGVuKCh0PT4odGhpcy5xKCksdCkpLCh0PT57dGhyb3cgdGhpcy5xKCksdH0pKToodGhpcy5xKCksZSl9Z2V0Q2xpZW50KCl7cmV0dXJuIHRoaXMuZ2V0U3RhY2tUb3AoKS5jbGllbnR9Z2V0U2NvcGUoKXtyZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLnNjb3BlfWdldElzb2xhdGlvblNjb3BlKCl7cmV0dXJuIHRoaXMuV31nZXRTdGFja1RvcCgpe3JldHVybiB0aGlzLkhbdGhpcy5ILmxlbmd0aC0xXX1ZKCl7Y29uc3QgdD10aGlzLmdldFNjb3BlKCkuY2xvbmUoKTtyZXR1cm4gdGhpcy5ILnB1c2goe2NsaWVudDp0aGlzLmdldENsaWVudCgpLHNjb3BlOnR9KSx0fXEoKXtyZXR1cm4hKHRoaXMuSC5sZW5ndGg8PTEpJiYhIXRoaXMuSC5wb3AoKX19ZnVuY3Rpb24geHQoKXtjb25zdCB0PXl0KG10KCkpO3JldHVybiB0LnN0YWNrPXQuc3RhY2t8fG5ldyBFdCh2KCJkZWZhdWx0Q3VycmVudFNjb3BlIiwoKCk9Pm5ldyAkdCkpLHYoImRlZmF1bHRJc29sYXRpb25TY29wZSIsKCgpPT5uZXcgJHQpKSl9ZnVuY3Rpb24gTnQodCl7cmV0dXJuIHh0KCkud2l0aFNjb3BlKHQpfWZ1bmN0aW9uIGt0KHQsbil7Y29uc3QgZT14dCgpO3JldHVybiBlLndpdGhTY29wZSgoKCk9PihlLmdldFN0YWNrVG9wKCkuc2NvcGU9dCxuKHQpKSkpfWZ1bmN0aW9uIEN0KHQpe3JldHVybiB4dCgpLndpdGhTY29wZSgoKCk9PnQoeHQoKS5nZXRJc29sYXRpb25TY29wZSgpKSkpfWZ1bmN0aW9uIER0KHQpe2NvbnN0IG49eXQodCk7cmV0dXJuIG4uYWNzP24uYWNzOnt3aXRoSXNvbGF0aW9uU2NvcGU6Q3Qsd2l0aFNjb3BlOk50LHdpdGhTZXRTY29wZTprdCx3aXRoU2V0SXNvbGF0aW9uU2NvcGU6KHQsbik9PkN0KG4pLGdldEN1cnJlbnRTY29wZTooKT0+eHQoKS5nZXRTY29wZSgpLGdldElzb2xhdGlvblNjb3BlOigpPT54dCgpLmdldElzb2xhdGlvblNjb3BlKCl9fWZ1bmN0aW9uIFR0KCl7cmV0dXJuIER0KG10KCkpLmdldEN1cnJlbnRTY29wZSgpLmdldENsaWVudCgpfWNvbnN0IE90PSJfc2VudHJ5TWV0cmljcyI7ZnVuY3Rpb24ganQodCl7Y29uc3Qgbj10W090XTtpZighbilyZXR1cm47Y29uc3QgZT17fTtmb3IoY29uc3RbLFt0LHJdXW9mIG4peyhlW3RdfHwoZVt0XT1bXSkpLnB1c2goUihyKSl9cmV0dXJuIGV9Y29uc3QgUnQ9InNlbnRyeS5zb3VyY2UiLEF0PSJzZW50cnkuc2FtcGxlX3JhdGUiLEl0PSJzZW50cnkub3AiLFB0PSJzZW50cnkub3JpZ2luIixVdD0wLE10PTEsTHQ9MTtmdW5jdGlvbiBCdCh0KXtjb25zdHtzcGFuSWQ6bix0cmFjZUlkOmV9PXQuc3BhbkNvbnRleHQoKSx7cGFyZW50X3NwYW5faWQ6cn09enQodCk7cmV0dXJuIFIoe3BhcmVudF9zcGFuX2lkOnIsc3Bhbl9pZDpuLHRyYWNlX2lkOmV9KX1mdW5jdGlvbiBHdCh0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/SnQodCk6QXJyYXkuaXNBcnJheSh0KT90WzBdK3RbMV0vMWU5OnQgaW5zdGFuY2VvZiBEYXRlP0p0KHQuZ2V0VGltZSgpKTpKKCl9ZnVuY3Rpb24gSnQodCl7cmV0dXJuIHQ+OTk5OTk5OTk5OT90LzFlMzp0fWZ1bmN0aW9uIHp0KHQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldFNwYW5KU09OfSh0KSlyZXR1cm4gdC5nZXRTcGFuSlNPTigpO3RyeXtjb25zdHtzcGFuSWQ6bix0cmFjZUlkOmV9PXQuc3BhbkNvbnRleHQoKTtpZihmdW5jdGlvbih0KXtjb25zdCBuPXQ7cmV0dXJuISEobi5hdHRyaWJ1dGVzJiZuLnN0YXJ0VGltZSYmbi5uYW1lJiZuLmVuZFRpbWUmJm4uc3RhdHVzKX0odCkpe2NvbnN0e2F0dHJpYnV0ZXM6cixzdGFydFRpbWU6byxuYW1lOnMsZW5kVGltZTppLHBhcmVudFNwYW5JZDpjLHN0YXR1czp1fT10O3JldHVybiBSKHtzcGFuX2lkOm4sdHJhY2VfaWQ6ZSxkYXRhOnIsZGVzY3JpcHRpb246cyxwYXJlbnRfc3Bhbl9pZDpjLHN0YXJ0X3RpbWVzdGFtcDpHdChvKSx0aW1lc3RhbXA6R3QoaSl8fHZvaWQgMCxzdGF0dXM6SHQodSksb3A6cltJdF0sb3JpZ2luOnJbUHRdLF9tZXRyaWNzX3N1bW1hcnk6anQodCl9KX1yZXR1cm57c3Bhbl9pZDpuLHRyYWNlX2lkOmV9fWNhdGNoKHQpe3JldHVybnt9fX1mdW5jdGlvbiBIdCh0KXtpZih0JiZ0LmNvZGUhPT1VdClyZXR1cm4gdC5jb2RlPT09TXQ/Im9rIjp0Lm1lc3NhZ2V8fCJ1bmtub3duX2Vycm9yIn1jb25zdCBXdD0iX3NlbnRyeVJvb3RTcGFuIjtmdW5jdGlvbiBZdCh0KXtyZXR1cm4gdFtXdF18fHR9Y29uc3QgcXQ9InByb2R1Y3Rpb24iLEZ0PSJfZnJvemVuRHNjIjtmdW5jdGlvbiBLdCh0KXtjb25zdCBuPVR0KCk7aWYoIW4pcmV0dXJue307Y29uc3QgZT1mdW5jdGlvbih0LG4pe2NvbnN0IGU9bi5nZXRPcHRpb25zKCkse3B1YmxpY0tleTpyfT1uLmdldERzbigpfHx7fSxvPVIoe2Vudmlyb25tZW50OmUuZW52aXJvbm1lbnR8fHF0LHJlbGVhc2U6ZS5yZWxlYXNlLHB1YmxpY19rZXk6cix0cmFjZV9pZDp0fSk7cmV0dXJuIG4uZW1pdCgiY3JlYXRlRHNjIixvKSxvfSh6dCh0KS50cmFjZV9pZHx8IiIsbikscj1ZdCh0KSxvPXJbRnRdO2lmKG8pcmV0dXJuIG87Y29uc3Qgcz1yLnNwYW5Db250ZXh0KCkudHJhY2VTdGF0ZSxpPXMmJnMuZ2V0KCJzZW50cnkuZHNjIiksYz1pJiZldChpKTtpZihjKXJldHVybiBjO2NvbnN0IHU9enQociksYT11LmRhdGF8fHt9LGY9YVtBdF07bnVsbCE9ZiYmKGUuc2FtcGxlX3JhdGU9YCR7Zn1gKTtjb25zdCBoPWFbUnRdLHA9dS5kZXNjcmlwdGlvbjtyZXR1cm4idXJsIiE9PWgmJnAmJihlLnRyYW5zYWN0aW9uPXApLGUuc2FtcGxlZD1TdHJpbmcoZnVuY3Rpb24odCl7Y29uc3R7dHJhY2VGbGFnczpufT10LnNwYW5Db250ZXh0KCk7cmV0dXJuIG49PT1MdH0ocikpLG4uZW1pdCgiY3JlYXRlRHNjIixlLHIpLGV9ZnVuY3Rpb24gVnQodCxuLGUscil7Y29uc3Qgbz1mdChlKSxzPXQudHlwZSYmInJlcGxheV9ldmVudCIhPT10LnR5cGU/dC50eXBlOiJldmVudCI7IWZ1bmN0aW9uKHQsbil7biYmKHQuc2RrPXQuc2RrfHx7fSx0LnNkay5uYW1lPXQuc2RrLm5hbWV8fG4ubmFtZSx0LnNkay52ZXJzaW9uPXQuc2RrLnZlcnNpb258fG4udmVyc2lvbix0LnNkay5pbnRlZ3JhdGlvbnM9Wy4uLnQuc2RrLmludGVncmF0aW9uc3x8W10sLi4ubi5pbnRlZ3JhdGlvbnN8fFtdXSx0LnNkay5wYWNrYWdlcz1bLi4udC5zZGsucGFja2FnZXN8fFtdLC4uLm4ucGFja2FnZXN8fFtdXSl9KHQsZSYmZS5zZGspO2NvbnN0IGk9ZnVuY3Rpb24odCxuLGUscil7Y29uc3Qgbz10LnNka1Byb2Nlc3NpbmdNZXRhZGF0YSYmdC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEuZHluYW1pY1NhbXBsaW5nQ29udGV4dDtyZXR1cm57ZXZlbnRfaWQ6dC5ldmVudF9pZCxzZW50X2F0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSwuLi5uJiZ7c2RrOm59LC4uLiEhZSYmciYme2RzbjpDKHIpfSwuLi5vJiZ7dHJhY2U6Uih7Li4ub30pfX19KHQsbyxyLG4pO2RlbGV0ZSB0LnNka1Byb2Nlc3NpbmdNZXRhZGF0YTtyZXR1cm4gb3QoaSxbW3t0eXBlOnN9LHRdXSl9Y29uc3QgWnQ9Il9fU0VOVFJZX1NVUFBSRVNTX1RSQUNJTkdfXyI7ZnVuY3Rpb24gUXQodCl7Y29uc3Qgbj1EdChtdCgpKTtyZXR1cm4gbi5zdXBwcmVzc1RyYWNpbmc/bi5zdXBwcmVzc1RyYWNpbmcodCk6ZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj1EdChtdCgpKTtpZigyPT09dC5sZW5ndGgpe2NvbnN0W2Uscl09dDtyZXR1cm4gZT9uLndpdGhTZXRTY29wZShlLHIpOm4ud2l0aFNjb3BlKHIpfXJldHVybiBuLndpdGhTY29wZSh0WzBdKX0oKG49PihuLnNldFNES1Byb2Nlc3NpbmdNZXRhZGF0YSh7W1p0XTohMH0pLHQoKSkpKX1mdW5jdGlvbiBYdCh0LG4pe2NvbnN0e2ZpbmdlcnByaW50OmUsc3BhbjpyLGJyZWFkY3J1bWJzOm8sc2RrUHJvY2Vzc2luZ01ldGFkYXRhOnN9PW47IWZ1bmN0aW9uKHQsbil7Y29uc3R7ZXh0cmE6ZSx0YWdzOnIsdXNlcjpvLGNvbnRleHRzOnMsbGV2ZWw6aSx0cmFuc2FjdGlvbk5hbWU6Y309bix1PVIoZSk7dSYmT2JqZWN0LmtleXModSkubGVuZ3RoJiYodC5leHRyYT17Li4udSwuLi50LmV4dHJhfSk7Y29uc3QgYT1SKHIpO2EmJk9iamVjdC5rZXlzKGEpLmxlbmd0aCYmKHQudGFncz17Li4uYSwuLi50LnRhZ3N9KTtjb25zdCBmPVIobyk7ZiYmT2JqZWN0LmtleXMoZikubGVuZ3RoJiYodC51c2VyPXsuLi5mLC4uLnQudXNlcn0pO2NvbnN0IGg9UihzKTtoJiZPYmplY3Qua2V5cyhoKS5sZW5ndGgmJih0LmNvbnRleHRzPXsuLi5oLC4uLnQuY29udGV4dHN9KTtpJiYodC5sZXZlbD1pKTtjJiYidHJhbnNhY3Rpb24iIT09dC50eXBlJiYodC50cmFuc2FjdGlvbj1jKX0odCxuKSxyJiZmdW5jdGlvbih0LG4pe3QuY29udGV4dHM9e3RyYWNlOkJ0KG4pLC4uLnQuY29udGV4dHN9LHQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXtkeW5hbWljU2FtcGxpbmdDb250ZXh0Okt0KG4pLC4uLnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhfTtjb25zdCBlPVl0KG4pLHI9enQoZSkuZGVzY3JpcHRpb247ciYmIXQudHJhbnNhY3Rpb24mJiJ0cmFuc2FjdGlvbiI9PT10LnR5cGUmJih0LnRyYW5zYWN0aW9uPXIpfSh0LHIpLGZ1bmN0aW9uKHQsbil7dC5maW5nZXJwcmludD10LmZpbmdlcnByaW50P2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Q6W3RdfSh0LmZpbmdlcnByaW50KTpbXSxuJiYodC5maW5nZXJwcmludD10LmZpbmdlcnByaW50LmNvbmNhdChuKSk7dC5maW5nZXJwcmludCYmIXQuZmluZ2VycHJpbnQubGVuZ3RoJiZkZWxldGUgdC5maW5nZXJwcmludH0odCxlKSxmdW5jdGlvbih0LG4pe2NvbnN0IGU9Wy4uLnQuYnJlYWRjcnVtYnN8fFtdLC4uLm5dO3QuYnJlYWRjcnVtYnM9ZS5sZW5ndGg/ZTp2b2lkIDB9KHQsbyksZnVuY3Rpb24odCxuKXt0LnNka1Byb2Nlc3NpbmdNZXRhZGF0YT17Li4udC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEsLi4ubn19KHQscyl9Y29uc3QgdG49IjciO2Z1bmN0aW9uIG5uKHQsbil7cmV0dXJuIGU9e3NlbnRyeV9rZXk6dC5wdWJsaWNLZXksc2VudHJ5X3ZlcnNpb246dG4sLi4ubiYme3NlbnRyeV9jbGllbnQ6YCR7bi5uYW1lfS8ke24udmVyc2lvbn1gfX0sT2JqZWN0LmtleXMoZSkubWFwKCh0PT5gJHtlbmNvZGVVUklDb21wb25lbnQodCl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVbdF0pfWApKS5qb2luKCImIik7dmFyIGV9Y29uc3QgZW49NjQ7ZnVuY3Rpb24gcm4odCxuLGU9USh0LmJ1ZmZlclNpemV8fGVuKSl7bGV0IHI9e307cmV0dXJue3NlbmQ6ZnVuY3Rpb24obyl7Y29uc3Qgcz1bXTtpZihzdChvLCgobixlKT0+e2NvbnN0IG89YXQoZSk7aWYoZnVuY3Rpb24odCxuLGU9RGF0ZS5ub3coKSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbbl18fHQuYWxsfHwwfSh0LG4pPmV9KHIsbykpe2NvbnN0IHI9b24obixlKTt0LnJlY29yZERyb3BwZWRFdmVudCgicmF0ZWxpbWl0X2JhY2tvZmYiLG8scil9ZWxzZSBzLnB1c2gobil9KSksMD09PXMubGVuZ3RoKXJldHVybiBWKHt9KTtjb25zdCBpPW90KG9bMF0scyksYz1uPT57c3QoaSwoKGUscik9Pntjb25zdCBvPW9uKGUscik7dC5yZWNvcmREcm9wcGVkRXZlbnQobixhdChyKSxvKX0pKX07cmV0dXJuIGUuYWRkKCgoKT0+bih7Ym9keTpjdChpKX0pLnRoZW4oKHQ9Pih2b2lkIDAhPT10LnN0YXR1c0NvZGUmJih0LnN0YXR1c0NvZGU8MjAwfHx0LnN0YXR1c0NvZGU+PTMwMCkmJmx0JiZrLndhcm4oYFNlbnRyeSByZXNwb25kZWQgd2l0aCBzdGF0dXMgY29kZSAke3Quc3RhdHVzQ29kZX0gdG8gc2VudCBldmVudC5gKSxyPXB0KHIsdCksdCkpLCh0PT57dGhyb3cgYygibmV0d29ya19lcnJvciIpLHR9KSkpKS50aGVuKCh0PT50KSwodD0+e2lmKHQgaW5zdGFuY2VvZiBEKXJldHVybiBsdCYmay5lcnJvcigiU2tpcHBlZCBzZW5kaW5nIGV2ZW50IGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwuIiksYygicXVldWVfb3ZlcmZsb3ciKSxWKHt9KTt0aHJvdyB0fSkpfSxmbHVzaDp0PT5lLmRyYWluKHQpfX1mdW5jdGlvbiBvbih0LG4pe2lmKCJldmVudCI9PT1ufHwidHJhbnNhY3Rpb24iPT09bilyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90WzFdOnZvaWQgMH1jb25zdCBzbj1TeW1ib2woIkFnZW50QmFzZUludGVybmFsU3RhdGUiKTtjbGFzcyBjbiBleHRlbmRzIHMuQWdlbnR7W3NuXTtvcHRpb25zO2tlZXBBbGl2ZTtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzW3NuXT17fX1pc1NlY3VyZUVuZHBvaW50KHQpe2lmKHQpe2lmKCJib29sZWFuIj09dHlwZW9mIHQuc2VjdXJlRW5kcG9pbnQpcmV0dXJuIHQuc2VjdXJlRW5kcG9pbnQ7aWYoInN0cmluZyI9PXR5cGVvZiB0LnByb3RvY29sKXJldHVybiJodHRwczoiPT09dC5wcm90b2NvbH1jb25zdHtzdGFjazpufT1uZXcgRXJyb3I7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiZuLnNwbGl0KCJcbiIpLnNvbWUoKHQ9Pi0xIT09dC5pbmRleE9mKCIoaHR0cHMuanM6Iil8fC0xIT09dC5pbmRleE9mKCJub2RlOmh0dHBzOiIpKSl9Y3JlYXRlU29ja2V0KHQsbixlKXtjb25zdCByPXsuLi5uLHNlY3VyZUVuZHBvaW50OnRoaXMuaXNTZWN1cmVFbmRwb2ludChuKX07UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9PnRoaXMuY29ubmVjdCh0LHIpKSkudGhlbigobz0+e2lmKG8gaW5zdGFuY2VvZiBzLkFnZW50KXJldHVybiBvLmFkZFJlcXVlc3QodCxyKTt0aGlzW3NuXS5jdXJyZW50U29ja2V0PW8sc3VwZXIuY3JlYXRlU29ja2V0KHQsbixlKX0pLGUpfWNyZWF0ZUNvbm5lY3Rpb24oKXtjb25zdCB0PXRoaXNbc25dLmN1cnJlbnRTb2NrZXQ7aWYodGhpc1tzbl0uY3VycmVudFNvY2tldD12b2lkIDAsIXQpdGhyb3cgbmV3IEVycm9yKCJObyBzb2NrZXQgd2FzIHJldHVybmVkIGluIHRoZSBgY29ubmVjdCgpYCBmdW5jdGlvbiIpO3JldHVybiB0fWdldCBkZWZhdWx0UG9ydCgpe3JldHVybiB0aGlzW3NuXS5kZWZhdWx0UG9ydD8/KCJodHRwczoiPT09dGhpcy5wcm90b2NvbD80NDM6ODApfXNldCBkZWZhdWx0UG9ydCh0KXt0aGlzW3NuXSYmKHRoaXNbc25dLmRlZmF1bHRQb3J0PXQpfWdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzW3NuXS5wcm90b2NvbD8/KHRoaXMuaXNTZWN1cmVFbmRwb2ludCgpPyJodHRwczoiOiJodHRwOiIpfXNldCBwcm90b2NvbCh0KXt0aGlzW3NuXSYmKHRoaXNbc25dLnByb3RvY29sPXQpfX1mdW5jdGlvbiB1biguLi50KXtrLmxvZygiW2h0dHBzLXByb3h5LWFnZW50OnBhcnNlLXByb3h5LXJlc3BvbnNlXSIsLi4udCl9ZnVuY3Rpb24gYW4odCl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixlKT0+e2xldCByPTA7Y29uc3Qgbz1bXTtmdW5jdGlvbiBzKCl7Y29uc3QgYz10LnJlYWQoKTtjP2Z1bmN0aW9uKGMpe28ucHVzaChjKSxyKz1jLmxlbmd0aDtjb25zdCB1PUJ1ZmZlci5jb25jYXQobyxyKSxhPXUuaW5kZXhPZigiXHJcblxyXG4iKTtpZigtMT09PWEpcmV0dXJuIHVuKCJoYXZlIG5vdCByZWNlaXZlZCBlbmQgb2YgSFRUUCBoZWFkZXJzIHlldC4uLiIpLHZvaWQgcygpO2NvbnN0IGY9dS5zbGljZSgwLGEpLnRvU3RyaW5nKCJhc2NpaSIpLnNwbGl0KCJcclxuIiksaD1mLnNoaWZ0KCk7aWYoIWgpcmV0dXJuIHQuZGVzdHJveSgpLGUobmV3IEVycm9yKCJObyBoZWFkZXIgcmVjZWl2ZWQgZnJvbSBwcm94eSBDT05ORUNUIHJlc3BvbnNlIikpO2NvbnN0IHA9aC5zcGxpdCgiICIpLGQ9KyhwWzFdfHwwKSxsPXAuc2xpY2UoMikuam9pbigiICIpLG09e307Zm9yKGNvbnN0IG4gb2YgZil7aWYoIW4pY29udGludWU7Y29uc3Qgcj1uLmluZGV4T2YoIjoiKTtpZigtMT09PXIpcmV0dXJuIHQuZGVzdHJveSgpLGUobmV3IEVycm9yKGBJbnZhbGlkIGhlYWRlciBmcm9tIHByb3h5IENPTk5FQ1QgcmVzcG9uc2U6ICIke259ImApKTtjb25zdCBvPW4uc2xpY2UoMCxyKS50b0xvd2VyQ2FzZSgpLHM9bi5zbGljZShyKzEpLnRyaW1TdGFydCgpLGk9bVtvXTsic3RyaW5nIj09dHlwZW9mIGk/bVtvXT1baSxzXTpBcnJheS5pc0FycmF5KGkpP2kucHVzaChzKTptW29dPXN9dW4oImdvdCBwcm94eSBzZXJ2ZXIgcmVzcG9uc2U6ICVvICVvIixoLG0pLGkoKSxuKHtjb25uZWN0OntzdGF0dXNDb2RlOmQsc3RhdHVzVGV4dDpsLGhlYWRlcnM6bX0sYnVmZmVyZWQ6dX0pfShjKTp0Lm9uY2UoInJlYWRhYmxlIixzKX1mdW5jdGlvbiBpKCl7dC5yZW1vdmVMaXN0ZW5lcigiZW5kIixjKSx0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksdC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLHMpfWZ1bmN0aW9uIGMoKXtpKCksdW4oIm9uZW5kIiksZShuZXcgRXJyb3IoIlByb3h5IGNvbm5lY3Rpb24gZW5kZWQgYmVmb3JlIHJlY2VpdmluZyBDT05ORUNUIHJlc3BvbnNlIikpfWZ1bmN0aW9uIHUodCl7aSgpLHVuKCJvbmVycm9yICVvIix0KSxlKHQpfXQub24oImVycm9yIix1KSx0Lm9uKCJlbmQiLGMpLHMoKX0pKX1mdW5jdGlvbiBmbiguLi50KXtrLmxvZygiW2h0dHBzLXByb3h5LWFnZW50XSIsLi4udCl9Y2xhc3MgaG4gZXh0ZW5kcyBjbntzdGF0aWMgcHJvdG9jb2xzPVsiaHR0cCIsImh0dHBzIl07cHJveHk7cHJveHlIZWFkZXJzO2Nvbm5lY3RPcHRzO2NvbnN0cnVjdG9yKHQsbil7c3VwZXIobiksdGhpcy5vcHRpb25zPXt9LHRoaXMucHJveHk9InN0cmluZyI9PXR5cGVvZiB0P25ldyBVUkwodCk6dCx0aGlzLnByb3h5SGVhZGVycz1uPy5oZWFkZXJzPz97fSxmbigiQ3JlYXRpbmcgbmV3IEh0dHBzUHJveHlBZ2VudCBpbnN0YW5jZTogJW8iLHRoaXMucHJveHkuaHJlZik7Y29uc3QgZT0odGhpcy5wcm94eS5ob3N0bmFtZXx8dGhpcy5wcm94eS5ob3N0KS5yZXBsYWNlKC9eXFt8XF0kL2csIiIpLHI9dGhpcy5wcm94eS5wb3J0P3BhcnNlSW50KHRoaXMucHJveHkucG9ydCwxMCk6Imh0dHBzOiI9PT10aGlzLnByb3h5LnByb3RvY29sPzQ0Mzo4MDt0aGlzLmNvbm5lY3RPcHRzPXtBTFBOUHJvdG9jb2xzOlsiaHR0cC8xLjEiXSwuLi5uP2RuKG4sImhlYWRlcnMiKTpudWxsLGhvc3Q6ZSxwb3J0OnJ9fWFzeW5jIGNvbm5lY3QodCxuKXtjb25zdHtwcm94eTplfT10aGlzO2lmKCFuLmhvc3QpdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gImhvc3QiIHByb3ZpZGVkJyk7bGV0IHI7aWYoImh0dHBzOiI9PT1lLnByb3RvY29sKXtmbigiQ3JlYXRpbmcgYHRscy5Tb2NrZXRgOiAlbyIsdGhpcy5jb25uZWN0T3B0cyk7Y29uc3QgdD10aGlzLmNvbm5lY3RPcHRzLnNlcnZlcm5hbWV8fHRoaXMuY29ubmVjdE9wdHMuaG9zdDtyPWYuY29ubmVjdCh7Li4udGhpcy5jb25uZWN0T3B0cyxzZXJ2ZXJuYW1lOnQmJmEuaXNJUCh0KT92b2lkIDA6dH0pfWVsc2UgZm4oIkNyZWF0aW5nIGBuZXQuU29ja2V0YDogJW8iLHRoaXMuY29ubmVjdE9wdHMpLHI9YS5jb25uZWN0KHRoaXMuY29ubmVjdE9wdHMpO2NvbnN0IG89ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMucHJveHlIZWFkZXJzP3RoaXMucHJveHlIZWFkZXJzKCk6ey4uLnRoaXMucHJveHlIZWFkZXJzfSxzPWEuaXNJUHY2KG4uaG9zdCk/YFske24uaG9zdH1dYDpuLmhvc3Q7bGV0IGk9YENPTk5FQ1QgJHtzfToke24ucG9ydH0gSFRUUC8xLjFcclxuYDtpZihlLnVzZXJuYW1lfHxlLnBhc3N3b3JkKXtjb25zdCB0PWAke2RlY29kZVVSSUNvbXBvbmVudChlLnVzZXJuYW1lKX06JHtkZWNvZGVVUklDb21wb25lbnQoZS5wYXNzd29yZCl9YDtvWyJQcm94eS1BdXRob3JpemF0aW9uIl09YEJhc2ljICR7QnVmZmVyLmZyb20odCkudG9TdHJpbmcoImJhc2U2NCIpfWB9by5Ib3N0PWAke3N9OiR7bi5wb3J0fWAsb1siUHJveHktQ29ubmVjdGlvbiJdfHwob1siUHJveHktQ29ubmVjdGlvbiJdPXRoaXMua2VlcEFsaXZlPyJLZWVwLUFsaXZlIjoiY2xvc2UiKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhvKSlpKz1gJHt0fTogJHtvW3RdfVxyXG5gO2NvbnN0IGM9YW4ocik7ci53cml0ZShgJHtpfVxyXG5gKTtjb25zdHtjb25uZWN0OnUsYnVmZmVyZWQ6aH09YXdhaXQgYztpZih0LmVtaXQoInByb3h5Q29ubmVjdCIsdSksdGhpcy5lbWl0KCJwcm94eUNvbm5lY3QiLHUsdCksMjAwPT09dS5zdGF0dXNDb2RlKXtpZih0Lm9uY2UoInNvY2tldCIscG4pLG4uc2VjdXJlRW5kcG9pbnQpe2ZuKCJVcGdyYWRpbmcgc29ja2V0IGNvbm5lY3Rpb24gdG8gVExTIik7Y29uc3QgdD1uLnNlcnZlcm5hbWV8fG4uaG9zdDtyZXR1cm4gZi5jb25uZWN0KHsuLi5kbihuLCJob3N0IiwicGF0aCIsInBvcnQiKSxzb2NrZXQ6cixzZXJ2ZXJuYW1lOmEuaXNJUCh0KT92b2lkIDA6dH0pfXJldHVybiByfXIuZGVzdHJveSgpO2NvbnN0IHA9bmV3IGEuU29ja2V0KHt3cml0YWJsZTohMX0pO3JldHVybiBwLnJlYWRhYmxlPSEwLHQub25jZSgic29ja2V0IiwodD0+e2ZuKCJSZXBsYXlpbmcgcHJveHkgYnVmZmVyIGZvciBmYWlsZWQgcmVxdWVzdCIpLHQucHVzaChoKSx0LnB1c2gobnVsbCl9KSkscH19ZnVuY3Rpb24gcG4odCl7dC5yZXN1bWUoKX1mdW5jdGlvbiBkbih0LC4uLm4pe2NvbnN0IGU9e307bGV0IHI7Zm9yKHIgaW4gdCluLmluY2x1ZGVzKHIpfHwoZVtyXT10W3JdKTtyZXR1cm4gZX1jb25zdCBsbj0zMjc2ODtmdW5jdGlvbiBtbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eW0EtWl06LywiIikucmVwbGFjZSgvXFwvZywiLyIpfWNvbnN0IHluPWU7bGV0IGduLGJuPSExO2Z1bmN0aW9uIHZuKHQpe3luLmRlYnVnJiZjb25zb2xlLmxvZyhgW0FOUiBXb3JrZXJdICR7dH1gKX12YXIgX24sd24sU247Y29uc3QgJG49ZnVuY3Rpb24odCl7bGV0IG47dHJ5e249bmV3IFVSTCh0LnVybCl9Y2F0Y2gobil7cmV0dXJuIE4oKCgpPT57Y29uc29sZS53YXJuKCJbQHNlbnRyeS9ub2RlXTogSW52YWxpZCBkc24gb3IgdHVubmVsIG9wdGlvbiwgd2lsbCBub3Qgc2VuZCBhbnkgZXZlbnRzLiBUaGUgdHVubmVsIG9wdGlvbiBtdXN0IGJlIGEgZnVsbCBVUkwgd2hlbiB1c2VkLiIpfSkpLHJuKHQsKCgpPT5Qcm9taXNlLnJlc29sdmUoe30pKSl9Y29uc3QgZT0iaHR0cHM6Ij09PW4ucHJvdG9jb2wscj1mdW5jdGlvbih0LG4pe2NvbnN0e25vX3Byb3h5OmV9PXByb2Nlc3MuZW52O3JldHVybiBlJiZlLnNwbGl0KCIsIikuc29tZSgobj0+dC5ob3N0LmVuZHNXaXRoKG4pfHx0Lmhvc3RuYW1lLmVuZHNXaXRoKG4pKSk/dm9pZCAwOm59KG4sdC5wcm94eXx8KGU/cHJvY2Vzcy5lbnYuaHR0cHNfcHJveHk6dm9pZCAwKXx8cHJvY2Vzcy5lbnYuaHR0cF9wcm94eSksbz1lP2k6cyxhPXZvaWQgMCE9PXQua2VlcEFsaXZlJiZ0LmtlZXBBbGl2ZSxmPXI/bmV3IGhuKHIpOm5ldyBvLkFnZW50KHtrZWVwQWxpdmU6YSxtYXhTb2NrZXRzOjMwLHRpbWVvdXQ6MmUzfSk7cmV0dXJuIFF0KCgoKT0+e2NvbnN0IG49ZnVuY3Rpb24odCxuLGUpe2NvbnN0e2hvc3RuYW1lOnIscGF0aG5hbWU6byxwb3J0OnMscHJvdG9jb2w6aSxzZWFyY2g6YX09bmV3IFVSTCh0LnVybCk7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBuZXcgUHJvbWlzZSgoKGgscCk9PntsZXQgZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGMoe3JlYWQoKXt0aGlzLnB1c2godCksdGhpcy5wdXNoKG51bGwpfX0pfShmLmJvZHkpO2NvbnN0IGw9ey4uLnQuaGVhZGVyc307Zi5ib2R5Lmxlbmd0aD5sbiYmKGxbImNvbnRlbnQtZW5jb2RpbmciXT0iZ3ppcCIsZD1kLnBpcGUodSgpKSk7Y29uc3QgbT1uLnJlcXVlc3Qoe21ldGhvZDoiUE9TVCIsYWdlbnQ6ZSxoZWFkZXJzOmwsaG9zdG5hbWU6cixwYXRoOmAke299JHthfWAscG9ydDpzLHByb3RvY29sOmksY2E6dC5jYUNlcnRzfSwodD0+e3Qub24oImRhdGEiLCgoKT0+e30pKSx0Lm9uKCJlbmQiLCgoKT0+e30pKSx0LnNldEVuY29kaW5nKCJ1dGY4Iik7Y29uc3Qgbj10LmhlYWRlcnNbInJldHJ5LWFmdGVyIl0/P251bGwsZT10LmhlYWRlcnNbIngtc2VudHJ5LXJhdGUtbGltaXRzIl0/P251bGw7aCh7c3RhdHVzQ29kZTp0LnN0YXR1c0NvZGUsaGVhZGVyczp7InJldHJ5LWFmdGVyIjpuLCJ4LXNlbnRyeS1yYXRlLWxpbWl0cyI6QXJyYXkuaXNBcnJheShlKT9lWzBdfHxudWxsOmV9fSl9KSk7bS5vbigiZXJyb3IiLHApLGQucGlwZShtKX0pKX19KHQsdC5odHRwTW9kdWxlPz9vLGYpO3JldHVybiBybih0LG4pfSkpfSh7dXJsOihfbj15bi5kc24sd249eW4udHVubmVsLFNuPXluLnNka01ldGFkYXRhLnNkayx3bnx8YCR7ZnVuY3Rpb24odCl7cmV0dXJuYCR7ZnVuY3Rpb24odCl7Y29uc3Qgbj10LnByb3RvY29sP2Ake3QucHJvdG9jb2x9OmA6IiIsZT10LnBvcnQ/YDoke3QucG9ydH1gOiIiO3JldHVybmAke259Ly8ke3QuaG9zdH0ke2V9JHt0LnBhdGg/YC8ke3QucGF0aH1gOiIifS9hcGkvYH0odCl9JHt0LnByb2plY3RJZH0vZW52ZWxvcGUvYH0oX24pfT8ke25uKF9uLFNuKX1gKSxyZWNvcmREcm9wcGVkRXZlbnQ6KCk9Pnt9fSk7YXN5bmMgZnVuY3Rpb24gRW4oKXtpZihnbil7dm4oIlNlbmRpbmcgYWJub3JtYWwgc2Vzc2lvbiIpLGJ0KGduLHtzdGF0dXM6ImFibm9ybWFsIixhYm5vcm1hbF9tZWNoYW5pc206ImFucl9mb3JlZ3JvdW5kIn0pO2NvbnN0IHQ9ZnVuY3Rpb24odCxuLGUscil7Y29uc3Qgbz1mdChlKTtyZXR1cm4gb3Qoe3NlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLm8mJntzZGs6b30sLi4uISFyJiZuJiZ7ZHNuOkMobil9fSxbImFnZ3JlZ2F0ZXMiaW4gdD9be3R5cGU6InNlc3Npb25zIn0sdF06W3t0eXBlOiJzZXNzaW9uIn0sdC50b0pTT04oKV1dKX0oZ24seW4uZHNuLHluLnNka01ldGFkYXRhLHluLnR1bm5lbCk7dm4oSlNPTi5zdHJpbmdpZnkodCkpLGF3YWl0ICRuLnNlbmQodCk7dHJ5e24/LnBvc3RNZXNzYWdlKCJzZXNzaW9uLWVuZGVkIil9Y2F0Y2godCl7fX19ZnVuY3Rpb24geG4odCl7aWYoIXQpcmV0dXJuO2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybltdO2NvbnN0IG49QXJyYXkuZnJvbSh0KTtyZXR1cm4vc2VudHJ5V3JhcHBlZC8udGVzdChNKG4pLmZ1bmN0aW9ufHwiIikmJm4ucG9wKCksbi5yZXZlcnNlKCksVS50ZXN0KE0obikuZnVuY3Rpb258fCIiKSYmKG4ucG9wKCksVS50ZXN0KE0obikuZnVuY3Rpb258fCIiKSYmbi5wb3AoKSksbi5zbGljZSgwLEkpLm1hcCgodD0+KHsuLi50LGZpbGVuYW1lOnQuZmlsZW5hbWV8fE0obikuZmlsZW5hbWUsZnVuY3Rpb246dC5mdW5jdGlvbnx8UH0pKSl9KHQpO2lmKHluLmFwcFJvb3RQYXRoKWZvcihjb25zdCB0IG9mIG4pdC5maWxlbmFtZSYmKHQuZmlsZW5hbWU9WSh0LmZpbGVuYW1lLHluLmFwcFJvb3RQYXRoKSk7cmV0dXJuIG59YXN5bmMgZnVuY3Rpb24gTm4odCxuKXtpZihibilyZXR1cm47Ym49ITAsYXdhaXQgRW4oKSx2bigiU2VuZGluZyBldmVudCIpO2NvbnN0IGU9e2V2ZW50X2lkOnooKSxjb250ZXh0czp5bi5jb250ZXh0cyxyZWxlYXNlOnluLnJlbGVhc2UsZW52aXJvbm1lbnQ6eW4uZW52aXJvbm1lbnQsZGlzdDp5bi5kaXN0LHBsYXRmb3JtOiJub2RlIixsZXZlbDoiZXJyb3IiLGV4Y2VwdGlvbjp7dmFsdWVzOlt7dHlwZToiQXBwbGljYXRpb25Ob3RSZXNwb25kaW5nIix2YWx1ZTpgQXBwbGljYXRpb24gTm90IFJlc3BvbmRpbmcgZm9yIGF0IGxlYXN0ICR7eW4uYW5yVGhyZXNob2xkfSBtc2Asc3RhY2t0cmFjZTp7ZnJhbWVzOnhuKHQpfSxtZWNoYW5pc206e3R5cGU6IkFOUiJ9fV19LHRhZ3M6eW4uc3RhdGljVGFnc307biYmZnVuY3Rpb24odCxuKXtpZihYdCh0LG4pLCF0LmNvbnRleHRzPy50cmFjZSl7Y29uc3R7dHJhY2VJZDplLHNwYW5JZDpyLHBhcmVudFNwYW5JZDpvfT1uLnByb3BhZ2F0aW9uQ29udGV4dDt0LmNvbnRleHRzPXt0cmFjZTp7dHJhY2VfaWQ6ZSxzcGFuX2lkOnIscGFyZW50X3NwYW5faWQ6b30sLi4udC5jb250ZXh0c319fShlLG4pO2NvbnN0IHI9VnQoZSx5bi5kc24seW4uc2RrTWV0YWRhdGEseW4udHVubmVsKTt2bihKU09OLnN0cmluZ2lmeShyKSksYXdhaXQgJG4uc2VuZChyKSxhd2FpdCAkbi5mbHVzaCgyZTMpLHNldFRpbWVvdXQoKCgpPT57cHJvY2Vzcy5leGl0KDApfSksNWUzKX1sZXQga247aWYodm4oIlN0YXJ0ZWQiKSx5bi5jYXB0dXJlU3RhY2tUcmFjZSl7dm4oIkNvbm5lY3RpbmcgdG8gZGVidWdnZXIiKTtjb25zdCBuPW5ldyB0O24uY29ubmVjdFRvTWFpblRocmVhZCgpLHZuKCJDb25uZWN0ZWQgdG8gZGVidWdnZXIiKTtjb25zdCBlPW5ldyBNYXA7bi5vbigiRGVidWdnZXIuc2NyaXB0UGFyc2VkIiwodD0+e2Uuc2V0KHQucGFyYW1zLnNjcmlwdElkLHQucGFyYW1zLnVybCl9KSksbi5vbigiRGVidWdnZXIucGF1c2VkIiwodD0+e2lmKCJvdGhlciI9PT10LnBhcmFtcy5yZWFzb24pdHJ5e3ZuKCJEZWJ1Z2dlciBwYXVzZWQiKTtjb25zdCBzPVsuLi50LnBhcmFtcy5jYWxsRnJhbWVzXSxpPXluLmFwcFJvb3RQYXRoP2Z1bmN0aW9uKHQ9KHByb2Nlc3MuYXJndlsxXT9GKHByb2Nlc3MuYXJndlsxXSk6cHJvY2Vzcy5jd2QoKSksbj0iXFwiPT09byl7Y29uc3QgZT1uP21uKHQpOnQ7cmV0dXJuIHQ9PntpZighdClyZXR1cm47Y29uc3Qgbz1uP21uKHQpOnQ7bGV0e2RpcjpzLGJhc2U6aSxleHQ6Y309ci5wYXJzZShvKTsiLmpzIiE9PWMmJiIubWpzIiE9PWMmJiIuY2pzIiE9PWN8fChpPWkuc2xpY2UoMCwtMSpjLmxlbmd0aCkpLHN8fChzPSIuIik7Y29uc3QgdT1zLmxhc3RJbmRleE9mKCIvbm9kZV9tb2R1bGVzIik7aWYodT4tMSlyZXR1cm5gJHtzLnNsaWNlKHUrMTQpLnJlcGxhY2UoL1wvL2csIi4iKX06JHtpfWA7aWYocy5zdGFydHNXaXRoKGUpKXtsZXQgdD1zLnNsaWNlKGUubGVuZ3RoKzEpLnJlcGxhY2UoL1wvL2csIi4iKTtyZXR1cm4gdCYmKHQrPSI6IiksdCs9aSx0fXJldHVybiBpfX0oeW4uYXBwUm9vdFBhdGgpOigpPT57fSxjPXMubWFwKCh0PT5mdW5jdGlvbih0LG4sZSl7Y29uc3Qgcj1uP24ucmVwbGFjZSgvXmZpbGU6XC9cLy8sIiIpOnZvaWQgMCxvPXQubG9jYXRpb24uY29sdW1uTnVtYmVyP3QubG9jYXRpb24uY29sdW1uTnVtYmVyKzE6dm9pZCAwLHM9dC5sb2NhdGlvbi5saW5lTnVtYmVyP3QubG9jYXRpb24ubGluZU51bWJlcisxOnZvaWQgMDtyZXR1cm4gUih7ZmlsZW5hbWU6cixtb2R1bGU6ZShyKSxmdW5jdGlvbjp0LmZ1bmN0aW9uTmFtZXx8UCxjb2xubzpvLGxpbmVubzpzLGluX2FwcDpyP1gocik6dm9pZCAwfSl9KHQsZS5nZXQodC5sb2NhdGlvbi5zY3JpcHRJZCksaSkpKSx1PXNldFRpbWVvdXQoKCgpPT57Tm4oYykudGhlbihudWxsLCgoKT0+e3ZuKCJTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQuIil9KSl9KSw1ZTMpO24ucG9zdCgiUnVudGltZS5ldmFsdWF0ZSIse2V4cHJlc3Npb246Imdsb2JhbC5fX1NFTlRSWV9HRVRfU0NPUEVTX18oKTsiLHNpbGVudDohMCxyZXR1cm5CeVZhbHVlOiEwfSwoKHQsZSk9Pnt0JiZ2bihgRXJyb3IgZXhlY3V0aW5nIHNjcmlwdDogJyR7dC5tZXNzYWdlfSdgKSxjbGVhclRpbWVvdXQodSk7Y29uc3Qgcj1lJiZlLnJlc3VsdD9lLnJlc3VsdC52YWx1ZTp2b2lkIDA7bi5wb3N0KCJEZWJ1Z2dlci5yZXN1bWUiKSxuLnBvc3QoIkRlYnVnZ2VyLmRpc2FibGUiKSxObihjLHIpLnRoZW4obnVsbCwoKCk9Pnt2bigiU2VuZGluZyBBTlIgZXZlbnQgZmFpbGVkLiIpfSkpfSkpfWNhdGNoKHQpe3Rocm93IG4ucG9zdCgiRGVidWdnZXIucmVzdW1lIiksbi5wb3N0KCJEZWJ1Z2dlci5kaXNhYmxlIiksdH19KSksa249KCk9Pnt0cnl7bi5wb3N0KCJEZWJ1Z2dlci5lbmFibGUiLCgoKT0+e24ucG9zdCgiRGVidWdnZXIucGF1c2UiKX0pKX1jYXRjaCh0KXt9fX1jb25zdHtwb2xsOkNufT1mdW5jdGlvbih0LG4sZSxyKXtjb25zdCBvPXQoKTtsZXQgcz0hMSxpPSEwO3JldHVybiBzZXRJbnRlcnZhbCgoKCk9Pntjb25zdCB0PW8uZ2V0VGltZU1zKCk7ITE9PT1zJiZ0Pm4rZSYmKHM9ITAsaSYmcigpKSx0PG4rZSYmKHM9ITEpfSksMjApLHtwb2xsOigpPT57by5yZXNldCgpfSxlbmFibGVkOnQ9PntpPXR9fX0oKGZ1bmN0aW9uKCl7bGV0IHQ9cHJvY2Vzcy5ocnRpbWUoKTtyZXR1cm57Z2V0VGltZU1zOigpPT57Y29uc3RbbixlXT1wcm9jZXNzLmhydGltZSh0KTtyZXR1cm4gTWF0aC5mbG9vcigxZTMqbitlLzFlNil9LHJlc2V0OigpPT57dD1wcm9jZXNzLmhydGltZSgpfX19KSx5bi5wb2xsSW50ZXJ2YWwseW4uYW5yVGhyZXNob2xkLChmdW5jdGlvbigpe3ZuKCJXYXRjaGRvZyB0aW1lb3V0Iiksa24/KHZuKCJQYXVzaW5nIGRlYnVnZ2VyIHRvIGNhcHR1cmUgc3RhY2sgdHJhY2UiKSxrbigpKToodm4oIkNhcHR1cmluZyBldmVudCB3aXRob3V0IGEgc3RhY2sgdHJhY2UiKSxObigpLnRoZW4obnVsbCwoKCk9Pnt2bigiU2VuZGluZyBBTlIgZXZlbnQgZmFpbGVkIG9uIHdhdGNoZG9nIHRpbWVvdXQuIil9KSkpfSkpO24/Lm9uKCJtZXNzYWdlIiwodD0+e3Quc2Vzc2lvbiYmKGduPWd0KHQuc2Vzc2lvbikpLENuKCl9KSk7";function l(e,...t){a.logger.log(`[ANR] ${e}`,...t)}function d(){const e=s.getGlobalScope().getScopeData();return s.mergeScopeData(e,s.getIsolationScope().getScopeData()),s.mergeScopeData(e,s.getCurrentScope().getScopeData()),e.attachments=[],e.eventProcessors=[],e}const p=s.defineIntegration(((e={})=>{if(c.NODE_VERSION.major<16||16===c.NODE_VERSION.major&&c.NODE_VERSION.minor<17)throw new Error("ANR detection requires Node 16.17.0 or later");let t,p;return a.GLOBAL_OBJ.__SENTRY_GET_SCOPES__=d,{name:"Anr",startWorker:()=>{t||p&&(t=async function(e,t){const c=e.getDsn();if(!c)return()=>{};const d=await async function(e){let t={message:"ANR"};const n={};for(const r of e.getEventProcessors()){if(null===t)break;t=await r(t,n)}return r([t,"optionalAccess",e=>e.contexts])||{}}(e);o([d,"access",e=>e.app,"optionalAccess",e=>delete e.app_memory]),o([d,"access",e=>e.device,"optionalAccess",e=>delete e.free_memory]);const p=e.getOptions(),h=e.getSdkMetadata()||{};h.sdk&&(h.sdk.integrations=p.integrations.map((e=>e.name)));const f={debug:a.logger.isEnabled(),dsn:c,tunnel:p.tunnel,environment:p.environment||"production",release:p.release,dist:p.dist,sdkMetadata:h,appRootPath:t.appRootPath,pollInterval:t.pollInterval||50,anrThreshold:t.anrThreshold||5e3,captureStackTrace:!!t.captureStackTrace,staticTags:t.staticTags||{},contexts:d};if(f.captureStackTrace){const e=await Promise.resolve().then(n.t.bind(n,86592,23));e.url()||e.open(0)}const m=new i.Worker(new URL(`data:application/javascript;base64,${u}`),{workerData:f,execArgv:[]});process.on("exit",(()=>{m.terminate()}));const g=setInterval((()=>{try{const e=s.getCurrentScope().getSession(),t=e?{...e,toJSON:void 0}:void 0;m.postMessage({session:t})}catch(e){}}),f.pollInterval);return g.unref(),m.on("message",(e=>{"session-ended"===e&&(l("ANR event sent from ANR worker. Clearing session in this thread."),s.getCurrentScope().setSession(void 0))})),m.once("error",(e=>{clearInterval(g),l("ANR worker error",e)})),m.once("exit",(e=>{clearInterval(g),l("ANR worker exit",e)})),m.unref(),()=>{m.terminate(),clearInterval(g)}}(p,e))},stopWorker:()=>{t&&t.then((e=>{e(),t=void 0}))},setup(e){p=e,setImmediate((()=>this.startWorker()))}}}));t.anrIntegration=p,t.base64WorkerScript=u},95022:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57975),o=n(37872),i=n(24320),s=o.defineIntegration((()=>({name:"Console",setup(e){i.addConsoleInstrumentationHandler((({args:t,level:n})=>{o.getClient()===e&&o.addBreadcrumb({category:"console",level:i.severityLevelFromString(n),message:r.format.apply(void 0,t)},{input:[...t],level:n})}))}})));t.consoleIntegration=s},82660:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(31421),i=n(73024),s=n(48161),a=n(76760),c=n(57975),u=n(37872),l=c.promisify(i.readFile),d=c.promisify(i.readdir),p=u.defineIntegration(((e={})=>{let t;const n={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0,...e};return{name:"Context",processEvent:e=>async function(e){void 0===t&&(t=async function(){const e={};if(n.os&&(e.os=await async function(){const e=s.platform();switch(e){case"darwin":return async function(){const e={kernel_version:s.release(),name:"Mac OS X",version:"10."+(Number(s.release().split(".")[0])-4)};try{const t=await new Promise(((e,t)=>{o.execFile("/usr/bin/sw_vers",((n,r)=>{n?t(n):e(r)}))}));e.name=b(/^ProductName:\s+(.*)$/m,t),e.version=b(/^ProductVersion:\s+(.*)$/m,t),e.build=b(/^BuildVersion:\s+(.*)$/m,t)}catch(e){}return e}();case"linux":return async function(){const e={kernel_version:s.release(),name:"Linux"};try{const t=await d("/etc"),n=g.find((e=>t.includes(e.name)));if(!n)return e;const o=a.join("/etc",n.name),i=(await l(o,{encoding:"utf-8"})).toLowerCase(),{distros:s}=n;e.name=s.find((e=>i.indexOf(S(e))>=0))||s[0];const c=S(e.name);e.version=r([_,"access",e=>e[c],"optionalCall",e=>e(i)])}catch(e){}return e}();default:return{name:m[e]||e,version:s.release()}}}()),n.app&&(e.app=h()),n.device&&(e.device=f(n.device)),n.culture){const t=function(){try{if("string"!=typeof process.versions.icu)return;const e=new Date(9e8);if("enero"===new Intl.DateTimeFormat("es",{month:"long"}).format(e)){const e=Intl.DateTimeFormat().resolvedOptions();return{locale:e.locale,timezone:e.timeZone}}}catch(e){}}();t&&(e.culture=t)}return n.cloudResource&&(e.cloud_resource=process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0),e}());const i=function(e){if(r([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),r([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.free_memory])&&"function"==typeof process.availableMemory){const t=r([process,"access",e=>e.availableMemory,"optionalCall",e=>e()]);null!=t&&(e.app.free_memory=t)}return r([e,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(e.device.free_memory=s.freemem()),e}(await t);return e.contexts={...e.contexts,app:{...i.app,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.app])},os:{...i.os,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.os])},device:{...i.device,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.device])},culture:{...i.culture,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.culture])},cloud_resource:{...i.cloud_resource,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.cloud_resource])}},e}(e)}}));function h(){const e=process.memoryUsage().rss,t={app_start_time:new Date(Date.now()-1e3*process.uptime()).toISOString(),app_memory:e};if("function"==typeof process.availableMemory){const e=r([process,"access",e=>e.availableMemory,"optionalCall",e=>e()]);null!=e&&(t.free_memory=e)}return t}function f(e){const t={};let n;try{n=s.uptime&&s.uptime()}catch(e){}if("number"==typeof n&&(t.boot_time=new Date(Date.now()-1e3*n).toISOString()),t.arch=s.arch(),(!0===e||e.memory)&&(t.memory_size=s.totalmem(),t.free_memory=s.freemem()),!0===e||e.cpu){const e=s.cpus(),n=e&&e[0];n&&(t.processor_count=e.length,t.cpu_description=n.model,t.processor_frequency=n.speed)}return t}const m={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},g=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],_={alpine:e=>e,arch:e=>b(/distrib_release=(.*)/,e),centos:e=>b(/release ([^ ]+)/,e),debian:e=>e,fedora:e=>b(/release (..)/,e),mint:e=>b(/distrib_release=(.*)/,e),red:e=>b(/release ([^ ]+)/,e),suse:e=>b(/VERSION = (.*)\n/,e),ubuntu:e=>b(/distrib_release=(.*)/,e)};function b(e,t){const n=e.exec(t);return n?n[1]:void 0}function S(e){return e.split(" ")[0].toLowerCase()}t.getAppContext=h,t.getDeviceContext=f,t.nodeContextIntegration=p,t.readDirAsync=d,t.readFileAsync=l},8421:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(73024),i=n(80481),s=n(37872),a=n(24320),c=n(13169),u=new a.LRUMap(10),l=new a.LRUMap(20);function d(e,t,n){const r=e.get(t);return void 0===r?(e.set(t,n),n):r}function p(e){return void 0!==e.lineno&&e.lineno>1e4||void 0!==e.colno&&e.colno>1e3}function h(e,t){const n=u.get(e);if(void 0===n)return!1;for(let e=t[0];e<=t[1];e++)if(void 0===n[e])return!1;return!0}function f(e,t){if(!e.length)return[];let n=0;const r=e[0];if("number"!=typeof r)return[];let o=E(r,t);const i=[];for(;;){if(n===e.length-1){i.push(o);break}const r=e[n+1];if("number"!=typeof r)break;r<=o[1]?o[1]=r+t:(i.push(o),o=E(r,t)),n++}return i}function m(e,t,n){return new Promise(((r,s)=>{const u=o.createReadStream(e),d=i.createInterface({input:u});let p=0,h=0;const f=t[h];if(void 0===f)return void r();let m=f[0],g=f[1];function _(t){l.set(e,1),c.DEBUG_BUILD&&a.logger.error(`Failed to read file: ${e}. Error: ${t}`),d.close(),d.removeAllListeners(),r()}u.on("error",_),d.on("error",_),d.on("close",r),d.on("line",(e=>{if(p++,!(p<m)&&(n[p]=a.snipLine(e,0),p>=g)){if(h===t.length-1)return d.close(),void d.removeAllListeners();h++;const e=t[h];if(void 0===e)return d.close(),void d.removeAllListeners();m=e[0],g=e[1]}}))}))}function g(e,t,n){for(const r of e)if(r.filename&&void 0===r.context_line&&"number"==typeof r.lineno){const e=n.get(r.filename);if(void 0===e)continue;b(r.lineno,r,t,e)}}function _(e){delete e.pre_context,delete e.context_line,delete e.post_context}function b(e,t,n,r){if(void 0===t.lineno||void 0===r)return void(c.DEBUG_BUILD&&a.logger.error("Cannot resolve context for frame with no lineno or file contents"));t.pre_context=[];for(let o=S(e,n);o<e;o++){const e=r[o];if(void 0===e)return _(t),void(c.DEBUG_BUILD&&a.logger.error(`Could not find line ${o} in file ${t.filename}`));t.pre_context.push(e)}if(void 0===r[e])return _(t),void(c.DEBUG_BUILD&&a.logger.error(`Could not find line ${e} in file ${t.filename}`));t.context_line=r[e];const o=y(e,n);t.post_context=[];for(let n=e+1;n<=o;n++){const e=r[n];if(void 0===e)break;t.post_context.push(e)}}function S(e,t){return Math.max(1,e-t)}function y(e,t){return e+t}function E(e,t){return[S(e,t),y(e,t)]}const T=(e={})=>{const t=void 0!==e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>async function(e,t){const n={};if(t>0&&r([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const t of e.exception.values)if(r([t,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e.length]))for(let e=t.stacktrace.frames.length-1;e>=0;e--){const i=t.stacktrace.frames[e],s=r([i,"optionalAccess",e=>e.filename]);!i||"string"!=typeof s||"number"!=typeof i.lineno||(o=s).startsWith("node:")||o.endsWith(".min.js")||o.endsWith(".min.cjs")||o.endsWith(".min.mjs")||o.startsWith("data:")||p(i)||(n[s]||(n[s]=[]),n[s].push(i.lineno))}var o;const i=Object.keys(n);if(0==i.length)return e;const s=[];for(const e of i){if(l.get(e))continue;const r=n[e];if(!r)continue;r.sort(((e,t)=>e-t));const o=f(r,t);if(o.every((t=>h(e,t))))continue;const i=d(u,e,{});s.push(m(e,o,i))}if(await Promise.all(s).catch((()=>{c.DEBUG_BUILD&&a.logger.log("Failed to read one or more source files and resolve context lines")})),t>0&&r([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const n of e.exception.values)n.stacktrace&&n.stacktrace.frames&&n.stacktrace.frames.length>0&&g(n.stacktrace.frames,t,u);return e}(e,t)}},v=s.defineIntegration(T);t.MAX_CONTEXTLINES_COLNO=1e3,t.MAX_CONTEXTLINES_LINENO=1e4,t._contextLinesIntegration=T,t.addContextToFrame=b,t.contextLinesIntegration=v},78852:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(30135),o=n(37872),i=n(40013),s="FileSystem",a=o.defineIntegration(((e={})=>({name:s,setupOnce(){i.generateInstrumentOnce(s,(()=>new r.FsInstrumentation({requireParentSpan:!0,endHook(t,{args:n,span:r,error:i}){r.updateName(`fs.${t}`),r.setAttributes({[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"file",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.file.fs"}),e.recordErrorMessagesAsSpanAttributes&&("string"==typeof n[0]&&h.includes(t)?r.setAttribute("path_argument",n[0]):"string"==typeof n[0]&&"string"==typeof n[1]&&p.includes(t)?(r.setAttribute("target_argument",n[0]),r.setAttribute("path_argument",n[1])):"string"==typeof n[0]&&d.includes(t)?r.setAttribute("prefix_argument",n[0]):"string"==typeof n[0]&&"string"==typeof n[1]&&l.includes(t)?(r.setAttribute("existing_path_argument",n[0]),r.setAttribute("new_path_argument",n[1])):"string"==typeof n[0]&&"string"==typeof n[1]&&u.includes(t)?(r.setAttribute("src_argument",n[0]),r.setAttribute("dest_argument",n[1])):"string"==typeof n[0]&&"string"==typeof n[1]&&c.includes(t)&&(r.setAttribute("old_path_argument",n[0]),r.setAttribute("new_path_argument",n[1]))),i&&e.recordErrorMessagesAsSpanAttributes&&r.setAttribute("fs_error",i.message)}})))()}}))),c=["rename","renameSync"],u=["copyFile","cp","copyFileSync","cpSync"],l=["link","linkSync"],d=["mkdtemp","mkdtempSync"],p=["symlink","symlinkSync"],h=["access","appendFile","chmod","chown","exists","mkdir","lchown","lstat","lutimes","open","opendir","readdir","readFile","readlink","realpath","realpath.native","rm","rmdir","stat","truncate","unlink","utimes","writeFile","accessSync","appendFileSync","chmodSync","chownSync","existsSync","lchownSync","lstatSync","lutimesSync","opendirSync","mkdirSync","openSync","readdirSync","readFileSync","readlinkSync","realpathSync","realpathSync.native","rmdirSync","rmSync","statSync","truncateSync","unlinkSync","utimesSync","writeFileSync"];t.fsIntegration=a},69195:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(86520),i=n(32858),s=n(37872),a=n(24320),c=n(74764),u=n(64061),l=n(1247),d="Http";let p,h={};const f=Object.assign((function(){if(p)return;const e=h._instrumentation||o.HttpInstrumentation;p=new e({...r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e._experimentalConfig]),ignoreOutgoingRequestHook:e=>{const t=l.getRequestUrl(e);if(!t)return!1;if(s.isSentryRequestUrl(t,i.getClient()))return!0;const n=h.ignoreOutgoingRequests;return!(!n||!n(t,e))},ignoreIncomingRequestHook:e=>{const t=e.url,n=r([e,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()]);if("OPTIONS"===n||"HEAD"===n)return!0;const o=h.ignoreIncomingRequests;return!!(t&&o&&o(t,e))},requireParentforOutgoingSpans:!1,requireParentforIncomingSpans:!1,requestHook:(e,t)=>{if(u.addOriginToSpan(e,"auto.http.otel.http"),g(t))return void r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.requestHook,"optionalCall",n=>n(e,t)]);const n=s.getCapturedScopesOnSpan(e),o=(n.isolationScope||s.getIsolationScope()).clone(),l=n.scope||s.getCurrentScope();o.setSDKProcessingMetadata({request:t});const d=i.getClient();d&&d.getOptions().autoSessionTracking&&o.setRequestSession({status:"ok"}),c.setIsolationScope(o),s.setCapturedScopesOnSpan(e,l,o);const p=`${(t.method||"GET").toUpperCase()} ${a.stripUrlQueryAndFragment(t.url||"/")}`;o.setTransactionName(p),r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.requestHook,"optionalCall",n=>n(e,t)])},responseHook:(e,t)=>{const n=i.getClient();n&&n.getOptions().autoSessionTracking&&setImmediate((()=>{n._captureRequestSession()})),r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.responseHook,"optionalCall",n=>n(e,t)])},applyCustomAttributesOnSpan:(e,t,n)=>{(void 0===h.breadcrumbs||h.breadcrumbs)&&function(e,t){if(!g(e))return;const n=function(e){try{const t=e.getHeader("host")||e.host,n=new URL(e.path,`${e.protocol}//${t}`),r=a.parseUrl(n.toString()),o={url:a.getSanitizedUrlString(r),"http.method":e.method||"GET"};return r.search&&(o["http.query"]=r.search),r.hash&&(o["http.fragment"]=r.hash),o}catch(e){return{}}}(e);s.addBreadcrumb({category:"http",data:{status_code:t.statusCode,...n},type:"http"},{event:"response",request:e,response:t})}(t,n),r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.applyCustomAttributesOnSpan,"optionalCall",r=>r(e,t,n)])}}),i.addOpenTelemetryInstrumentation(p)}),{id:d}),m=s.defineIntegration(((e={})=>({name:d,setupOnce(){h=e,f()}})));function g(e){return"outputData"in e&&"outputSize"in e&&!("client"in e)&&!("statusCode"in e)}t.httpIntegration=m,t.instrumentHttp=f},77518:(e,t)=>{function n(e){return void 0!==e&&(0===e.length||"?"===e||"<anonymous>"===e)}function r(e){if(void 0!==e)return e.slice(-10).reduce(((e,t)=>`${e},${t.function},${t.lineno},${t.colno}`),"")}Object.defineProperty(t,"__esModule",{value:!0}),t.createRateLimiter=function(e,t,n){let r=0,o=5,i=0;return setInterval((()=>{0===i?r>e&&(o*=2,n(o),o>86400&&(o=86400),i=o):(i-=1,0===i&&t()),r=0}),1e3).unref(),()=>{r+=1}},t.functionNamesMatch=function(e,t){return e===t||n(e)&&n(t)},t.hashFrames=r,t.hashFromStack=function(e,t){if(void 0!==t)return r(e(t,1))},t.isAnonymous=n},85055:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(51055),o=n(2649),i=n(55842);t.localVariablesIntegration=(e={})=>r.NODE_VERSION.major<19?i.localVariablesSyncIntegration(e):o.localVariablesAsyncIntegration(e)},2649:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(75919),i=n(37872),s=n(24320),a=n(77518),c="LyohIEBzZW50cnkvbm9kZSA4LjI2LjAgKGJmZjlkZmQpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyBlfWZyb20ibm9kZTppbnNwZWN0b3IvcHJvbWlzZXMiO2ltcG9ydHt3b3JrZXJEYXRhIGFzIG4scGFyZW50UG9ydCBhcyB0fWZyb20ibm9kZTp3b3JrZXJfdGhyZWFkcyI7aW1wb3J0e3Bvc2l4IGFzIG8sc2VwIGFzIHJ9ZnJvbSJub2RlOnBhdGgiO2NvbnN0IGk9NTAscz0iPyIsYz0vXChlcnJvcjogKC4qKVwpLyxhPS9jYXB0dXJlTWVzc2FnZXxjYXB0dXJlRXhjZXB0aW9uLztmdW5jdGlvbiB1KGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfHx7fX1jb25zdCBmPS9eKFxTKzpcXHxcLz8pKFtcc1xTXSo/KSgoPzpcLnsxLDJ9fFteL1xcXSs/fCkoXC5bXi4vXFxdKnwpKSg/OlsvXFxdKikkLztmdW5jdGlvbiBsKGUpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3Qgbj1lLmxlbmd0aD4xMDI0P2A8dHJ1bmNhdGVkPiR7ZS5zbGljZSgtMTAyNCl9YDplLHQ9Zi5leGVjKG4pO3JldHVybiB0P3Quc2xpY2UoMSk6W119KGUpLHQ9blswXXx8IiI7bGV0IG89blsxXTtyZXR1cm4gdHx8bz8obyYmKG89by5zbGljZSgwLG8ubGVuZ3RoLTEpKSx0K28pOiIuIn1mdW5jdGlvbiBkKGUsbj0hMSl7cmV0dXJuIShufHxlJiYhZS5zdGFydHNXaXRoKCIvIikmJiFlLm1hdGNoKC9eW0EtWl06LykmJiFlLnN0YXJ0c1dpdGgoIi4iKSYmIWUubWF0Y2goL15bYS16QS1aXShbYS16QS1aMC05LlwtK10pKjpcL1wvLykpJiZ2b2lkIDAhPT1lJiYhZS5pbmNsdWRlcygibm9kZV9tb2R1bGVzLyIpfWZ1bmN0aW9uIHAoZSl7Y29uc3Qgbj0vXlxzKlstXXs0LH0kLyx0PS9hdCAoPzphc3luYyApPyg/OiguKz8pXHMrXCgpPyg/OiguKyk6KFxkKyk6KFxkKyk/fChbXildKykpXCk/LztyZXR1cm4gbz0+e2NvbnN0IHI9by5tYXRjaCh0KTtpZihyKXtsZXQgbix0LG8saSxjO2lmKHJbMV0pe289clsxXTtsZXQgZT1vLmxhc3RJbmRleE9mKCIuIik7aWYoIi4iPT09b1tlLTFdJiZlLS0sZT4wKXtuPW8uc2xpY2UoMCxlKSx0PW8uc2xpY2UoZSsxKTtjb25zdCByPW4uaW5kZXhPZigiLk1vZHVsZSIpO3I+MCYmKG89by5zbGljZShyKzEpLG49bi5zbGljZSgwLHIpKX1pPXZvaWQgMH10JiYoaT1uLGM9dCksIjxhbm9ueW1vdXM+Ij09PXQmJihjPXZvaWQgMCxvPXZvaWQgMCksdm9pZCAwPT09byYmKGM9Y3x8cyxvPWk/YCR7aX0uJHtjfWA6Yyk7bGV0IGE9clsyXSYmclsyXS5zdGFydHNXaXRoKCJmaWxlOi8vIik/clsyXS5zbGljZSg3KTpyWzJdO2NvbnN0IHU9Im5hdGl2ZSI9PT1yWzVdO3JldHVybiBhJiZhLm1hdGNoKC9cL1tBLVpdOi8pJiYoYT1hLnNsaWNlKDEpKSxhfHwhcls1XXx8dXx8KGE9cls1XSkse2ZpbGVuYW1lOmEsbW9kdWxlOmU/ZShhKTp2b2lkIDAsZnVuY3Rpb246byxsaW5lbm86ZyhyWzNdKSxjb2xubzpnKHJbNF0pLGluX2FwcDpkKGF8fCIiLHUpfX1pZihvLm1hdGNoKG4pKXJldHVybntmaWxlbmFtZTpvfX19ZnVuY3Rpb24gZyhlKXtyZXR1cm4gcGFyc2VJbnQoZXx8IiIsMTApfHx2b2lkIDB9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZS5yZXBsYWNlKC9eW0EtWl06LywiIikucmVwbGFjZSgvXFwvZywiLyIpfWNvbnN0IGI9biwkPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IG49ZS5zb3J0KCgoZSxuKT0+ZVswXS1uWzBdKSkubWFwKChlPT5lWzFdKSk7cmV0dXJuKGUsdD0wLG89MCk9Pntjb25zdCByPVtdLGY9ZS5zcGxpdCgiXG4iKTtmb3IobGV0IGU9dDtlPGYubGVuZ3RoO2UrKyl7Y29uc3QgdD1mW2VdO2lmKHQubGVuZ3RoPjEwMjQpY29udGludWU7Y29uc3Qgcz1jLnRlc3QodCk/dC5yZXBsYWNlKGMsIiQxIik6dDtpZighcy5tYXRjaCgvXFMqRXJyb3I6IC8pKXtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCBuPWUocyk7aWYobil7ci5wdXNoKG4pO2JyZWFrfX1pZihyLmxlbmd0aD49aStvKWJyZWFrfX1yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKXJldHVybltdO2NvbnN0IG49QXJyYXkuZnJvbShlKTsvc2VudHJ5V3JhcHBlZC8udGVzdCh1KG4pLmZ1bmN0aW9ufHwiIikmJm4ucG9wKCk7bi5yZXZlcnNlKCksYS50ZXN0KHUobikuZnVuY3Rpb258fCIiKSYmKG4ucG9wKCksYS50ZXN0KHUobikuZnVuY3Rpb258fCIiKSYmbi5wb3AoKSk7cmV0dXJuIG4uc2xpY2UoMCxpKS5tYXAoKGU9Pih7Li4uZSxmaWxlbmFtZTplLmZpbGVuYW1lfHx1KG4pLmZpbGVuYW1lLGZ1bmN0aW9uOmUuZnVuY3Rpb258fHN9KSkpfShyLnNsaWNlKG8pKX19KFs5MCxwKGZ1bmN0aW9uKGU9KHByb2Nlc3MuYXJndlsxXT9sKHByb2Nlc3MuYXJndlsxXSk6cHJvY2Vzcy5jd2QoKSksbj0iXFwiPT09cil7Y29uc3QgdD1uP20oZSk6ZTtyZXR1cm4gZT0+e2lmKCFlKXJldHVybjtjb25zdCByPW4/bShlKTplO2xldHtkaXI6aSxiYXNlOnMsZXh0OmN9PW8ucGFyc2Uocik7Ii5qcyIhPT1jJiYiLm1qcyIhPT1jJiYiLmNqcyIhPT1jfHwocz1zLnNsaWNlKDAsLTEqYy5sZW5ndGgpKSxpfHwoaT0iLiIpO2NvbnN0IGE9aS5sYXN0SW5kZXhPZigiL25vZGVfbW9kdWxlcyIpO2lmKGE+LTEpcmV0dXJuYCR7aS5zbGljZShhKzE0KS5yZXBsYWNlKC9cLy9nLCIuIil9OiR7c31gO2lmKGkuc3RhcnRzV2l0aCh0KSl7bGV0IGU9aS5zbGljZSh0Lmxlbmd0aCsxKS5yZXBsYWNlKC9cLy9nLCIuIik7cmV0dXJuIGUmJihlKz0iOiIpLGUrPXMsZX1yZXR1cm4gc319KGIuYmFzZVBhdGgpKV0pO2Z1bmN0aW9uIHYoLi4uZSl7Yi5kZWJ1ZyYmY29uc29sZS5sb2coIltMb2NhbFZhcmlhYmxlcyBXb3JrZXJdIiwuLi5lKX1hc3luYyBmdW5jdGlvbiB3KGUsbix0LG8pe2NvbnN0IHI9YXdhaXQgZS5wb3N0KCJSdW50aW1lLmdldFByb3BlcnRpZXMiLHtvYmplY3RJZDpuLG93blByb3BlcnRpZXM6ITB9KTtvW3RdPXIucmVzdWx0LmZpbHRlcigoZT0+Imxlbmd0aCIhPT1lLm5hbWUmJiFpc05hTihwYXJzZUludChlLm5hbWUsMTApKSkpLnNvcnQoKChlLG4pPT5wYXJzZUludChlLm5hbWUsMTApLXBhcnNlSW50KG4ubmFtZSwxMCkpKS5tYXAoKGU9PmUudmFsdWU/LnZhbHVlKSl9YXN5bmMgZnVuY3Rpb24geShlLG4sdCxvKXtjb25zdCByPWF3YWl0IGUucG9zdCgiUnVudGltZS5nZXRQcm9wZXJ0aWVzIix7b2JqZWN0SWQ6bixvd25Qcm9wZXJ0aWVzOiEwfSk7b1t0XT1yLnJlc3VsdC5tYXAoKGU9PltlLm5hbWUsZS52YWx1ZT8udmFsdWVdKSkucmVkdWNlKCgoZSxbbix0XSk9PihlW25dPXQsZSkpLHt9KX1mdW5jdGlvbiBoKGUsbil7ZS52YWx1ZSYmKCJ2YWx1ZSJpbiBlLnZhbHVlP3ZvaWQgMD09PWUudmFsdWUudmFsdWV8fG51bGw9PT1lLnZhbHVlLnZhbHVlP25bZS5uYW1lXT1gPCR7ZS52YWx1ZS52YWx1ZX0+YDpuW2UubmFtZV09ZS52YWx1ZS52YWx1ZToiZGVzY3JpcHRpb24iaW4gZS52YWx1ZSYmImZ1bmN0aW9uIiE9PWUudmFsdWUudHlwZT9uW2UubmFtZV09YDwke2UudmFsdWUuZGVzY3JpcHRpb259PmA6InVuZGVmaW5lZCI9PT1lLnZhbHVlLnR5cGUmJihuW2UubmFtZV09Ijx1bmRlZmluZWQ+IikpfWFzeW5jIGZ1bmN0aW9uIFAoZSxuKXtjb25zdCB0PWF3YWl0IGUucG9zdCgiUnVudGltZS5nZXRQcm9wZXJ0aWVzIix7b2JqZWN0SWQ6bixvd25Qcm9wZXJ0aWVzOiEwfSksbz17fTtmb3IoY29uc3QgbiBvZiB0LnJlc3VsdClpZihuPy52YWx1ZT8ub2JqZWN0SWQmJiJBcnJheSI9PT1uPy52YWx1ZS5jbGFzc05hbWUpe2NvbnN0IHQ9bi52YWx1ZS5vYmplY3RJZDthd2FpdCB3KGUsdCxuLm5hbWUsbyl9ZWxzZSBpZihuPy52YWx1ZT8ub2JqZWN0SWQmJiJPYmplY3QiPT09bj8udmFsdWU/LmNsYXNzTmFtZSl7Y29uc3QgdD1uLnZhbHVlLm9iamVjdElkO2F3YWl0IHkoZSx0LG4ubmFtZSxvKX1lbHNlIG4/LnZhbHVlJiZoKG4sbyk7cmV0dXJuIG99bGV0IHg7KGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3Qgbj1uZXcgZTtuLmNvbm5lY3RUb01haW5UaHJlYWQoKSx2KCJDb25uZWN0ZWQgdG8gbWFpbiB0aHJlYWQiKTtsZXQgbz0hMTtuLm9uKCJEZWJ1Z2dlci5yZXN1bWVkIiwoKCk9PntvPSExfSkpLG4ub24oIkRlYnVnZ2VyLnBhdXNlZCIsKGU9PntvPSEwLGFzeW5jIGZ1bmN0aW9uKGUsbix7cmVhc29uOm8sZGF0YTpyLGNhbGxGcmFtZXM6aX0pe2lmKCJleGNlcHRpb24iIT09byYmInByb21pc2VSZWplY3Rpb24iIT09bylyZXR1cm47eD8uKCk7Y29uc3Qgcz1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PW4pcmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUpcmV0dXJuIGUuc2xpY2UoLTEwKS5yZWR1Y2UoKChlLG4pPT5gJHtlfSwke24uZnVuY3Rpb259LCR7bi5saW5lbm99LCR7bi5jb2xub31gKSwiIil9KGUobiwxKSl9KG4scj8uZGVzY3JpcHRpb24pO2lmKG51bGw9PXMpcmV0dXJuO2NvbnN0IGM9W107Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKyspe2NvbnN0e3Njb3BlQ2hhaW46dCxmdW5jdGlvbk5hbWU6byx0aGlzOnJ9PWlbbl0scz10LmZpbmQoKGU9PiJsb2NhbCI9PT1lLnR5cGUpKSxhPSJnbG9iYWwiIT09ci5jbGFzc05hbWUmJnIuY2xhc3NOYW1lP2Ake3IuY2xhc3NOYW1lfS4ke299YDpvO2lmKHZvaWQgMD09PXM/Lm9iamVjdC5vYmplY3RJZCljW25dPXtmdW5jdGlvbjphfTtlbHNle2NvbnN0IHQ9YXdhaXQgUChlLHMub2JqZWN0Lm9iamVjdElkKTtjW25dPXtmdW5jdGlvbjphLHZhcnM6dH19fXQ/LnBvc3RNZXNzYWdlKHtleGNlcHRpb25IYXNoOnMsZnJhbWVzOmN9KX0obiwkLGUucGFyYW1zKS50aGVuKCgoKT0+bz9uLnBvc3QoIkRlYnVnZ2VyLnJlc3VtZSIpOlByb21pc2UucmVzb2x2ZSgpKSwoZT0+e30pKX0pKSxhd2FpdCBuLnBvc3QoIkRlYnVnZ2VyLmVuYWJsZSIpO2NvbnN0IHI9ITEhPT1iLmNhcHR1cmVBbGxFeGNlcHRpb25zO2lmKGF3YWl0IG4ucG9zdCgiRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMiLHtzdGF0ZTpyPyJhbGwiOiJ1bmNhdWdodCJ9KSxyKXtjb25zdCBlPWIubWF4RXhjZXB0aW9uc1BlclNlY29uZHx8NTA7eD1mdW5jdGlvbihlLG4sdCl7bGV0IG89MCxyPTUsaT0wO3JldHVybiBzZXRJbnRlcnZhbCgoKCk9PnswPT09aT9vPmUmJihyKj0yLHQocikscj44NjQwMCYmKHI9ODY0MDApLGk9cik6KGktPTEsMD09PWkmJm4oKSksbz0wfSksMWUzKS51bnJlZigpLCgpPT57bys9MX19KGUsKGFzeW5jKCk9Pnt2KCJSYXRlLWxpbWl0IGxpZnRlZC4iKSxhd2FpdCBuLnBvc3QoIkRlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zIix7c3RhdGU6ImFsbCJ9KX0pLChhc3luYyBlPT57dihgUmF0ZS1saW1pdCBleGNlZWRlZC4gRGlzYWJsaW5nIGNhcHR1cmluZyBvZiBjYXVnaHQgZXhjZXB0aW9ucyBmb3IgJHtlfSBzZWNvbmRzLmApLGF3YWl0IG4ucG9zdCgiRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMiLHtzdGF0ZToidW5jYXVnaHQifSl9KSl9fSkoKS5jYXRjaCgoZT0+e3YoIkZhaWxlZCB0byBzdGFydCBkZWJ1Z2dlciIsZSl9KSksc2V0SW50ZXJ2YWwoKCgpPT57fSksMWU0KTs=";function u(...e){s.logger.log("[LocalVariables]",...e)}const l=i.defineIntegration(((e={})=>{const t=new s.LRUMap(20);function i(e){const n=a.hashFrames(r([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===n)return;const o=t.remove(n);if(void 0===o)return;const i=(r([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])||[]).filter((e=>"new Promise"!==e.function));for(let e=0;e<i.length;e++){const t=i.length-e-1,n=o[e],r=i[t];if(!r||!n)break;void 0!==n.vars&&!1!==r.in_app&&a.functionNamesMatch(r.function,n.function)&&(r.vars=n.vars)}}return{name:"LocalVariablesAsync",setup(r){if(!r.getOptions().includeLocalVariables)return;const i={...e,debug:s.logger.isEnabled()};(async function(){const e=await Promise.resolve().then(n.t.bind(n,86592,23));e.url()||e.open(0)})().then((()=>{try{!function(e){const n=new o.Worker(new URL(`data:application/javascript;base64,${c}`),{workerData:e,execArgv:[]});process.on("exit",(()=>{n.terminate()})),n.on("message",(({exceptionHash:e,frames:n})=>{t.set(e,n)})),n.once("error",(e=>{u("Worker error",e)})),n.once("exit",(e=>{u("Worker exit",e)})),n.unref()}(i)}catch(e){s.logger.error("Failed to start worker",e)}}),(e=>{s.logger.error("Failed to start inspector",e)}))},processEvent:e=>function(e){for(const t of r([e,"access",e=>e.exception,"optionalAccess",e=>e.values])||[])i(t);return e}(e)}}));t.base64WorkerScript=c,t.localVariablesAsyncIntegration=l},55842:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(37872),i=n(24320),s=n(51055),a=n(77518);function c(e){let t=[],n=!1;function r(r){t=[],n||(n=!0,e(r))}return t.push(r),{add:function(e){t.push(e)},next:function(e){const n=t.pop()||r;try{n(e)}catch(t){r(e)}}}}class u{constructor(e){this._session=e}static async create(e){if(e)return e;const t=await Promise.resolve().then(n.t.bind(n,86592,23));return new u(new t.Session)}configureAndConnect(e,t){this._session.connect(),this._session.on("Debugger.paused",(t=>{e(t,(()=>{this._session.post("Debugger.resume")}))})),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:t?"all":"uncaught"})}setPauseOnExceptions(e){this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}getLocalVariables(e,t){this._getProperties(e,(e=>{const{add:n,next:o}=c(t);for(const t of e)if(r([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Array"===r([t,"optionalAccess",e=>e.value,"access",e=>e.className])){const e=t.value.objectId;n((n=>this._unrollArray(e,t.name,n,o)))}else if(r([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Object"===r([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.className])){const e=t.value.objectId;n((n=>this._unrollObject(e,t.name,n,o)))}else r([t,"optionalAccess",e=>e.value])&&n((e=>this._unrollOther(t,e,o)));o({})}))}_getProperties(e,t){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},((e,n)=>{t(e?[]:n.result)}))}_unrollArray(e,t,n,o){this._getProperties(e,(e=>{n[t]=e.filter((e=>"length"!==e.name&&!isNaN(parseInt(e.name,10)))).sort(((e,t)=>parseInt(e.name,10)-parseInt(t.name,10))).map((e=>r([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value]))),o(n)}))}_unrollObject(e,t,n,o){this._getProperties(e,(e=>{n[t]=e.map((e=>[e.name,r([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])])).reduce(((e,[t,n])=>(e[t]=n,e)),{}),o(n)}))}_unrollOther(e,t,n){e.value&&("value"in e.value?void 0===e.value.value||null===e.value.value?t[e.name]=`<${e.value.value}>`:t[e.name]=e.value.value:"description"in e.value&&"function"!==e.value.type?t[e.name]=`<${e.value.description}>`:"undefined"===e.value.type&&(t[e.name]="<undefined>")),n(t)}}const l=o.defineIntegration(((e={},t)=>{const n=new i.LRUMap(20);let l,d=!1;function p(e){const t=a.hashFrames(r([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===t)return;const o=n.remove(t);if(void 0===o)return;const i=(r([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])||[]).filter((e=>"new Promise"!==e.function));for(let e=0;e<i.length;e++){const t=i.length-e-1,n=o[e],r=i[t];if(!r||!n)break;void 0!==n.vars&&!1!==r.in_app&&a.functionNamesMatch(r.function,n.function)&&(r.vars=n.vars)}}return{name:"LocalVariables",setupOnce(){const p=o.getClient(),h=r([p,"optionalAccess",e=>e.getOptions,"call",e=>e()]);r([h,"optionalAccess",e=>e.includeLocalVariables])&&(s.NODE_MAJOR<18?i.logger.log("The `LocalVariables` integration is only supported on Node >= v18."):u.create(t).then((t=>{const o=!1!==e.captureAllExceptions;if(t.configureAndConnect(((e,o)=>function(e,{params:{reason:o,data:i,callFrames:s}},u){if("exception"!==o&&"promiseRejection"!==o)return void u();r([l,"optionalCall",e=>e()]);const d=a.hashFromStack(e,r([i,"optionalAccess",e=>e.description]));if(null==d)return void u();const{add:p,next:h}=c((e=>{n.set(d,e),u()}));for(let e=0;e<Math.min(s.length,5);e++){const{scopeChain:n,functionName:o,this:i}=s[e],a=n.find((e=>"local"===e.type)),c="global"!==i.className&&i.className?`${i.className}.${o}`:o;if(void 0===r([a,"optionalAccess",e=>e.object,"access",e=>e.objectId]))p((t=>{t[e]={function:c},h(t)}));else{const n=a.object.objectId;p((o=>r([t,"optionalAccess",e=>e.getLocalVariables,"call",t=>t(n,(t=>{o[e]={function:c,vars:t},h(o)}))])))}}h([])}(h.stackParser,e,o)),o),o){const n=e.maxExceptionsPerSecond||50;l=a.createRateLimiter(n,(()=>{i.logger.log("Local variables rate-limit lifted."),r([t,"optionalAccess",e=>e.setPauseOnExceptions,"call",e=>e(!0)])}),(e=>{i.logger.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${e} seconds.`),r([t,"optionalAccess",e=>e.setPauseOnExceptions,"call",e=>e(!1)])}))}d=!0}),(e=>{i.logger.log("The `LocalVariables` integration failed to start.",e)})))},processEvent:e=>d?function(e){for(const t of r([e,"optionalAccess",e=>e.exception,"optionalAccess",e=>e.values])||[])p(t);return e}(e):e,_getCachedFramesCount:()=>n.size,_getFirstCachedFrame:()=>n.values()[0]}}));t.createCallbackList=c,t.localVariablesSyncIntegration=l},9558:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(73024),o=n(76760);let i;const s=n(37872).defineIntegration((()=>({name:"Modules",processEvent:e=>(e.modules={...e.modules,...(i||(i=a()),i)},e)})));function a(){const e=n.c[n.s]&&n.c[n.s].paths||[],t=function(){try{return n.c?Object.keys(n.c):[]}catch(e){return[]}}(),i={},s={};return t.forEach((t=>{let n=t;const a=()=>{const t=n;if(n=o.dirname(t),!n||t===n||s[t])return;if(e.indexOf(n)<0)return a();const c=o.join(t,"package.json");if(s[t]=!0,!r.existsSync(c))return a();try{const e=JSON.parse(r.readFileSync(c,"utf8"));i[e.name]=e.version}catch(e){}};a()})),i}t.modulesIntegration=s},76474:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(74681),i=n(37872),s=n(32858),a=n(24320),c=n(13169),u=n(51055),l=n(64061),d=i.defineIntegration(((e={})=>{const t=void 0===e.breadcrumbs||e.breadcrumbs,d=e.ignoreOutgoingRequests;return{name:"NodeFetch",setupOnce(){(async function(){if(u.NODE_MAJOR<18)c.DEBUG_BUILD&&a.logger.log("NodeFetch is not supported on Node < 18, skipping instrumentation...");else try{const e=await n.e(74).then(n.t.bind(n,35074,23)),{FetchInstrumentation:c}=e;class u extends c{onHeaders({request:e,response:n}){return t&&function(e,t){const n=function(e){try{const t=new URL(e.path,e.origin),n=a.parseUrl(t.toString()),r={url:a.getSanitizedUrlString(n),"http.method":e.method||"GET"};return n.search&&(r["http.query"]=n.search),n.hash&&(r["http.fragment"]=n.hash),r}catch(e){return{}}}(e);i.addBreadcrumb({category:"http",data:{status_code:t.statusCode,...n},type:"http"},{event:"response",request:e,response:t})}(e,n),super.onHeaders({request:e,response:n})}}return new u({ignoreRequestHook:e=>{const t=function(e,t="/"){const n=`${e}`;return e.endsWith("/")&&t.startsWith("/")?`${n}${t.slice(1)}`:e.endsWith("/")||t.startsWith("/")?`${n}${t}`:`${n}/${t.slice(1)}`}(e.origin,e.path),n=!i.hasTracingEnabled();if(d&&t&&d(t))return!0;if(n){const n=o.context.active(),a={},c=o.trace.getSpan(n),u=c?s.getPropagationContextFromSpan(c):i.getCurrentScope().getPropagationContext(),l=s.generateSpanContextForPropagationContext(u);l.traceState=r([l,"access",e=>e.traceState,"optionalAccess",e=>e.set,"call",e=>e("sentry.url",t)]);const d=o.trace.setSpanContext(n,l);o.propagation.inject(d,a);const p=e.headers;return Array.isArray(p)?Object.entries(a).forEach((e=>p.push(...e))):e.headers+=Object.entries(a).map((([e,t])=>`${e}: ${t}\r\n`)).join(""),!0}return!1},onRequest:({span:e})=>{!function(e){l.addOriginToSpan(e,"auto.http.otel.node_fetch")}(e)}})}catch(e){c.DEBUG_BUILD&&a.logger.log("Error while loading NodeFetch instrumentation: \n",e)}})().then((e=>{e&&s.addOpenTelemetryInstrumentation(e)}))}}}));t.nativeNodeFetchIntegration=d},82644:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872),o=n(24320),i=n(13169),s=n(96450),a=r.defineIntegration(((e={})=>{const t={exitEvenIfOtherHandlersAreRegistered:!1,...e};return{name:"OnUncaughtException",setup(e){global.process.on("uncaughtException",c(e,t))}}}));function c(e,t){let n,a=!1,c=!1,u=!1;const l=e.getOptions();return Object.assign((d=>{let p=s.logAndExitProcess;t.onFatalError?p=t.onFatalError:l.onFatalError&&(p=l.onFatalError);const h=0===global.process.listeners("uncaughtException").filter((e=>"domainUncaughtExceptionClear"!==e.name&&"sentry_tracingErrorCallback"!==e.tag&&!0!==e._errorHandler)).length,f=t.exitEvenIfOtherHandlersAreRegistered||h;a?f&&(u?(i.DEBUG_BUILD&&o.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),s.logAndExitProcess(d)):c||(c=!0,setTimeout((()=>{u||(u=!0,p(n,d))}),2e3))):(n=d,a=!0,r.getClient()===e&&r.captureException(d,{originalException:d,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!u&&f&&(u=!0,p(d)))}),{_errorHandler:!0})}t.makeErrorHandler=c,t.onUncaughtExceptionIntegration=a},99804:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872),o=n(24320),i=n(96450),s=r.defineIntegration(((e={})=>{const t=e.mode||"warn";return{name:"OnUnhandledRejection",setup(e){global.process.on("unhandledRejection",a(e,{mode:t}))}}}));function a(e,t){return function(n,s){r.getClient()===e&&(r.captureException(n,{originalException:s,captureContext:{extra:{unhandledPromiseRejection:!0}},mechanism:{handled:!1,type:"onunhandledrejection"}}),function(e,t){const n="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===t.mode?o.consoleSandbox((()=>{console.warn(n),console.error(e&&e.stack?e.stack:e)})):"strict"===t.mode&&(o.consoleSandbox((()=>{console.warn(n)})),i.logAndExitProcess(e))}(n,t))}}t.makeUnhandledPromiseHandler=a,t.onUnhandledRejectionIntegration=s},29871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37067),o=n(37872),i=n(24320),s="Spotlight",a=o.defineIntegration(((e={})=>{const t={sidecarUrl:e.sidecarUrl||"http://localhost:8969/stream"};return{name:s,setup(e){"object"==typeof process&&process.env&&i.logger.warn("[Spotlight] It seems you're not in dev mode. Do you really want to have Spotlight enabled?"),function(e,t){const n=function(e){try{return new URL(`${e}`)}catch(t){return void i.logger.warn(`[Spotlight] Invalid sidecar URL: ${e}`)}}(t.sidecarUrl);if(!n)return;let r=0;e.on("beforeEnvelope",(e=>{if(r>3)return void i.logger.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");const t=i.serializeEnvelope(e),o=c()({method:"POST",path:n.pathname,hostname:n.hostname,port:n.port,headers:{"Content-Type":"application/x-sentry-envelope"}},(e=>{e.statusCode&&e.statusCode>=200&&e.statusCode<400&&(r=0),e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8")}));o.on("error",(()=>{r++,i.logger.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")})),o.write(t),o.end()}))}(e,t)}}}));function c(){const{request:e}=r;return"__sentry_original__"in e?e.__sentry_original__:e}t.INTEGRATION_NAME=s,t.getNativeHttpRequest=c,t.spotlightIntegration=a},98276:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(68202),o=n(37872),i=n(40013),s=n(46478),a="Connect",c=i.generateInstrumentOnce(a,(()=>new r.ConnectInstrumentation)),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));function l(e,t,n,r){o.captureException(e),r(e)}t.connectIntegration=u,t.instrumentConnect=c,t.setupConnectErrorHandler=e=>{e.use(l);const t=o.getClient();t&&t.on("spanStart",(e=>{!function(e){const t=o.spanToJSON(e).data||{},n=t["connect.type"];if(t[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]||!n)return;e.setAttributes({[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.connect",[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.connect`});const r=t["connect.name"];"string"==typeof r&&e.updateName(r)}(e)})),s.ensureIsWrapped(e.use,"connect")}},29606:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(46012),i=n(37872),s=n(24320),a=n(13169),c=n(40013),u=n(64061),l=n(46478),d="Express",p=c.generateInstrumentOnce(d,(()=>new o.ExpressInstrumentation({requestHook(e){u.addOriginToSpan(e,"auto.http.otel.express");const t=i.spanToJSON(e).data||{},n=t["express.type"];n&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_OP,`${n}.express`);const r=t["express.name"];"string"==typeof r&&e.updateName(r)},spanNameHook(e,t){if(i.getIsolationScope()===i.getDefaultIsolationScope())return a.DEBUG_BUILD&&s.logger.warn("Isolation scope is still default isolation scope - skipping setting transactionName"),t;if("request_handler"===e.layerType){const t=e.request,n=t.method?t.method.toUpperCase():"GET";i.getIsolationScope().setTransactionName(`${n} ${e.route}`)}return t}}))),h=i.defineIntegration((()=>({name:d,setupOnce(){p()}})));function f(e){return function(t,n,o,s){if((r([e,"optionalAccess",e=>e.shouldHandleError])||m)(t)){const e=i.getClient();if(e&&e.getOptions().autoSessionTracking&&void 0!==e._sessionFlusher){const e=i.getIsolationScope().getRequestSession();e&&void 0!==e.status&&(e.status="crashed")}const n=i.captureException(t,{mechanism:{type:"middleware",handled:!1}});return o.sentry=n,void s(t)}s(t)}}function m(e){const t=function(e){const t=e.status||e.statusCode||e.status_code||e.output&&e.output.statusCode;return t?parseInt(t,10):500}(e);return t>=500}t.expressErrorHandler=f,t.expressIntegration=h,t.instrumentExpress=p,t.setupExpressErrorHandler=function(e,t){e.use(f(t)),l.ensureIsWrapped(e.use,"express")}},24214:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(90224),i=n(37872),s=n(40013),a=n(46478),c="Fastify",u=s.generateInstrumentOnce(c,(()=>new o.FastifyInstrumentation({requestHook(e){d(e)}}))),l=i.defineIntegration((()=>({name:c,setupOnce(){u()}})));function d(e){const t=i.spanToJSON(e).data||{},n=t["fastify.type"];if(t[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]||!n)return;e.setAttributes({[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.fastify",[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.fastify`});const r=t["fastify.name"]||t["plugin.name"]||t["hook.name"];"string"==typeof r&&e.updateName(r.replace(/^fastify -> /,""))}t.fastifyIntegration=l,t.instrumentFastify=u,t.setupFastifyErrorHandler=function(e){const t=Object.assign((function(e,t,n){e.addHook("onError",(async(e,t,n)=>{i.captureException(n)})),e.addHook("onRequest",(async(e,t)=>{const n=e,o=r([n,"access",e=>e.routeOptions,"optionalAccess",e=>e.url])||n.routerPath,s=r([n,"access",e=>e.routeOptions,"optionalAccess",e=>e.method])||"GET";i.getIsolationScope().setTransactionName(`${s} ${o}`)})),n()}),{[Symbol.for("skip-override")]:!0,[Symbol.for("fastify.display-name")]:"sentry-fastify-error-handler"});e.register(t);const n=i.getClient();n&&n.on("spanStart",(e=>{d(e)})),a.ensureIsWrapped(e.addHook,"fastify")}},55203:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57317),o=n(37872),i=n(32858),s=n(40013),a=n(64061),c="Graphql",u=s.generateInstrumentOnce(c,((e={})=>{const t={ignoreResolveSpans:!0,ignoreTrivialResolveSpans:!0,useOperationNameForRootSpan:!0,...e};return new r.GraphQLInstrumentation({...t,responseHook(e){a.addOriginToSpan(e,"auto.graphql.otel.graphql");const n=o.spanToJSON(e).data||{},r=n["graphql.operation.type"],s=n["graphql.operation.name"];if(t.useOperationNameForRootSpan&&r){const t=o.getRootSpan(e),n=(o.spanToJSON(t).data||{})[i.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION]||[],a=s?`${r} ${s}`:`${r}`;Array.isArray(n)?(n.push(a),t.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,n)):n?t.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,[n,a]):t.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,a)}}})})),l=o.defineIntegration(((e={})=>({name:c,setupOnce(){u(e)}})));t.graphqlIntegration=l,t.instrumentGraphql=u},90871:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(87496),i=n(37872),s=n(24320),a=n(13169),c=n(40013),u=n(46478),l="Hapi",d=c.generateInstrumentOnce(l,(()=>new o.HapiInstrumentation)),p=i.defineIntegration((()=>({name:l,setupOnce(){d()}}))),h={name:"SentryHapiErrorPlugin",version:i.SDK_VERSION,register:async function(e){e.events.on({name:"request",channels:["error"]},((e,t)=>{if(i.getIsolationScope()!==i.getDefaultIsolationScope()){const t=e.route;t&&t.path&&i.getIsolationScope().setTransactionName(`${r([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET"} ${t.path}`)}else a.DEBUG_BUILD&&s.logger.warn("Isolation scope is still the default isolation scope - skipping setting transactionName");var n;(function(e){return e&&void 0!==e.error})(t)&&(n=t.error,i.captureException(n,{mechanism:{type:"hapi",handled:!1,data:{function:"hapiErrorPlugin"}}}))}))}};t.hapiErrorPlugin=h,t.hapiIntegration=p,t.instrumentHapi=d,t.setupHapiErrorHandler=async function(e){await e.register(h);const t=i.getClient();t&&t.on("spanStart",(e=>{!function(e){const t=i.spanToJSON(e).data||{},n=t["hapi.type"];!t[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&n&&e.setAttributes({[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.hapi",[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.hapi`})}(e)})),u.ensureIsWrapped(e.register,"hapi")}},45874:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69195),o=n(98276),i=n(29606),s=n(24214),a=n(55203),c=n(90871),u=n(41939),l=n(80642),d=n(9853),p=n(20160),h=n(85576),f=n(86715),m=n(81799),g=n(76649);t.getAutoPerformanceIntegrations=function(){return[i.expressIntegration(),s.fastifyIntegration(),a.graphqlIntegration(),l.mongoIntegration(),d.mongooseIntegration(),p.mysqlIntegration(),h.mysql2Integration(),g.redisIntegration(),m.postgresIntegration(),f.nestIntegration(),c.hapiIntegration(),u.koaIntegration(),o.connectIntegration()]},t.getOpenTelemetryInstrumentationToPreload=function(){return[r.instrumentHttp,i.instrumentExpress,o.instrumentConnect,s.instrumentFastify,c.instrumentHapi,u.instrumentKoa,f.instrumentNest,l.instrumentMongo,d.instrumentMongoose,p.instrumentMysql,h.instrumentMysql2,m.instrumentPostgres,c.instrumentHapi,a.instrumentGraphql,g.instrumentRedis]}},41939:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(45845),i=n(74813),s=n(37872),a=n(24320),c=n(13169),u=n(40013),l=n(46478),d=u.generateInstrumentOnce("Koa",(()=>new o.KoaInstrumentation({requestHook(e,t){if(function(e){e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.http.otel.koa");const t=s.spanToJSON(e).data||{},n=t["koa.type"];n&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_OP,`${n}.koa`);const r=t["koa.name"];"string"==typeof r&&e.updateName(r||"< unknown >")}(e),s.getIsolationScope()===s.getDefaultIsolationScope())return void(c.DEBUG_BUILD&&a.logger.warn("Isolation scope is default isolation scope - skipping setting transactionName"));const n=s.spanToJSON(e).data,o=n&&n[i.SEMATTRS_HTTP_ROUTE],u=r([t,"optionalAccess",e=>e.context,"optionalAccess",e=>e.request,"optionalAccess",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET";o&&s.getIsolationScope().setTransactionName(`${u} ${o}`)}}))),p=s.defineIntegration((()=>({name:"Koa",setupOnce(){d()}})));t.instrumentKoa=d,t.koaIntegration=p,t.setupKoaErrorHandler=e=>{e.use((async(e,t)=>{try{await t()}catch(e){throw s.captureException(e),e}})),l.ensureIsWrapped(e.use,"koa")}},80642:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(71526),o=n(37872),i=n(40013),s=n(64061),a="Mongo",c=i.generateInstrumentOnce(a,(()=>new r.MongoDBInstrumentation({responseHook(e){s.addOriginToSpan(e,"auto.db.otel.mongo")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMongo=c,t.mongoIntegration=u},9853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57125),o=n(37872),i=n(40013),s=n(64061),a="Mongoose",c=i.generateInstrumentOnce(a,(()=>new r.MongooseInstrumentation({responseHook(e){s.addOriginToSpan(e,"auto.db.otel.mongoose")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMongoose=c,t.mongooseIntegration=u},20160:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(90450),o=n(37872),i=n(40013),s="Mysql",a=i.generateInstrumentOnce(s,(()=>new r.MySQLInstrumentation({}))),c=o.defineIntegration((()=>({name:s,setupOnce(){a()}})));t.instrumentMysql=a,t.mysqlIntegration=c},85576:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(73932),o=n(37872),i=n(40013),s=n(64061),a="Mysql2",c=i.generateInstrumentOnce(a,(()=>new r.MySQL2Instrumentation({responseHook(e){s.addOriginToSpan(e,"auto.db.otel.mysql2")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMysql2=c,t.mysql2Integration=u},66796:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872),o=n(24320);t.getMiddlewareSpanOptions=function(e){return{name:e.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"middleware.nestjs",[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.middleware.nestjs"}}},t.isPatched=function(e){return!!e.sentryPatched||(o.addNonEnumerableProperty(e,"sentryPatched",!0),!1)}},86715:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(84455),i=n(37872),s=n(24320),a=n(40013),c=n(74742),u="Nest",l=a.generateInstrumentOnce("Nest-Core",(()=>new o.NestInstrumentation)),d=a.generateInstrumentOnce("Nest-Common",(()=>new c.SentryNestInstrumentation)),p=Object.assign((()=>{l(),d()}),{id:u}),h=i.defineIntegration((()=>({name:u,setupOnce(){p()}})));t.instrumentNest=p,t.nestIntegration=h,t.setupNestErrorHandler=function(e,t){const n=i.getClient();n&&n.on("spanStart",(e=>{!function(e){const t=i.spanToJSON(e).data||{},n=t["nestjs.type"];!t[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&n&&e.setAttributes({[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.nestjs",[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.nestjs`})}(e)})),e.useGlobalInterceptors({intercept(e,t){if(i.getIsolationScope()===i.getDefaultIsolationScope())return s.logger.warn("Isolation scope is still the default isolation scope, skipping setting transactionName."),t.handle();if("http"===e.getType()){const t=e.switchToHttp().getRequest();t.route&&i.getIsolationScope().setTransactionName(`${r([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET"} ${t.route.path}`)}return t.handle()}});const o=new Proxy(t,{get(e,t,n){if("catch"===t){const r=Reflect.get(e,t,n);return(t,n)=>{const o="object"==typeof t&&null!==t,s=o&&"status"in t?t.status:null,a=o&&"error"in t?t.error:null;return null!==s||null!==a||i.captureException(t),r.apply(e,[t,n])}}return Reflect.get(e,t,n)}});e.useGlobalFilters(o)}},74742:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(72477),o=n(25907),i=n(37872),s=n(24320),a=n(66796),c=[">=8.0.0 <11"];class u extends o.InstrumentationBase{static __initStatic(){this.COMPONENT="@nestjs/common"}static __initStatic2(){this.COMMON_ATTRIBUTES={component:u.COMPONENT}}constructor(e={}){super("sentry-nestjs",s.SDK_VERSION,e)}init(){const e=new o.InstrumentationNodeModuleDefinition(u.COMPONENT,c);return e.files.push(this._getInjectableFileInstrumentation(c),this._getCatchFileInstrumentation(c)),e}_getInjectableFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/common/decorators/core/injectable.decorator.js",e,(e=>(r.isWrapped(e.Injectable)&&this._unwrap(e,"Injectable"),this._wrap(e,"Injectable",this._createWrapInjectable()),e)),(e=>{this._unwrap(e,"Injectable")}))}_getCatchFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/common/decorators/core/catch.decorator.js",e,(e=>(r.isWrapped(e.Catch)&&this._unwrap(e,"Catch"),this._wrap(e,"Catch",this._createWrapCatch()),e)),(e=>{this._unwrap(e,"Catch")}))}_createWrapInjectable(){return function(e){return function(t){return function(n){if("function"==typeof n.prototype.use&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.use=new Proxy(n.prototype.use,{apply:(e,t,r)=>{const[o,s,c,...u]=r,l=i.getActiveSpan();return i.startSpanManual(a.getMiddlewareSpanOptions(n),(n=>{const r=new Proxy(c,{apply:(e,t,r)=>(n.end(),l?i.withActiveSpan(l,(()=>Reflect.apply(e,t,r))):Reflect.apply(e,t,r))});return e.apply(t,[o,s,r,u])}))}})}if("function"==typeof n.prototype.canActivate&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.canActivate=new Proxy(n.prototype.canActivate,{apply:(e,t,r)=>i.startSpan(a.getMiddlewareSpanOptions(n),(()=>e.apply(t,r)))})}if("function"==typeof n.prototype.transform&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.transform=new Proxy(n.prototype.transform,{apply:(e,t,r)=>i.startSpan(a.getMiddlewareSpanOptions(n),(()=>e.apply(t,r)))})}if("function"==typeof n.prototype.intercept&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.intercept=new Proxy(n.prototype.intercept,{apply:(e,t,r)=>{const[o,s,c]=r,u=i.getActiveSpan();return i.startSpanManual(a.getMiddlewareSpanOptions(n),(r=>{const a=new Proxy(s,{get:(e,t,o)=>{if("handle"===t){const n=Reflect.get(e,t,o);return(...t)=>(r.end(),u?i.withActiveSpan(u,(()=>Reflect.apply(n,e,t))):Reflect.apply(n,e,t))}return Reflect.get(n,t,o)}});return e.apply(t,[o,a,c])}))}})}return e(t)(n)}}}}_createWrapCatch(){return function(e){return function(...t){return function(n){if("function"==typeof n.prototype.catch&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(...t)(n);n.prototype.catch=new Proxy(n.prototype.catch,{apply:(e,t,r)=>i.startSpan(a.getMiddlewareSpanOptions(n),(()=>e.apply(t,r)))})}return e(...t)(n)}}}}}u.__initStatic(),u.__initStatic2(),t.SentryNestInstrumentation=u},81799:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),o=n(37872),i=n(40013),s=n(64061),a="Postgres",c=i.generateInstrumentOnce(a,(()=>new r.PgInstrumentation({requireParentSpan:!0,requestHook(e){s.addOriginToSpan(e,"auto.db.otel.postgres")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentPostgres=c,t.postgresIntegration=u},81732:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(57991),i=n(37872),s=n(40013),a="Prisma",c=s.generateInstrumentOnce(a,(()=>new(r([o,"access",e=>e.default,"optionalAccess",e=>e.PrismaInstrumentation])||o.PrismaInstrumentation)({}))),u=i.defineIntegration((()=>({name:a,setupOnce(){c()},setup(e){e.on("spanStart",(e=>{const t=i.spanToJSON(e);r([t,"access",e=>e.description,"optionalAccess",e=>e.startsWith,"call",e=>e("prisma:")])&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.prisma"),"prisma:engine:db_query"===t.description&&e.setAttribute("db.system","prisma")}))}})));t.instrumentPrisma=c,t.prismaIntegration=u},76649:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(83251),i=n(92554),s=n(37872),a=n(24320),c=n(40013),u=n(35278),l="Redis";let d={};const p=(e,t,n,o)=>{e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.redis");const i=u.getCacheKeySafely(t,n),c=u.getCacheOperation(t);if(!(i&&c&&r([d,"optionalAccess",e=>e.cachePrefixes])&&u.shouldConsiderForCache(t,i,d.cachePrefixes)))return;const l=r([s.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e["net.peer.name"]]),p=r([s.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e["net.peer.port"]]);p&&l&&e.setAttributes({"network.peer.address":l,"network.peer.port":p});const h=u.calculateCacheItemSize(o);h&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,h),u.isInCommands(u.GET_COMMANDS,t)&&void 0!==h&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_CACHE_HIT,h>0),e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:c,[s.SEMANTIC_ATTRIBUTE_CACHE_KEY]:i});const f=i.join(", ");e.updateName(a.truncate(f,1024))},h=c.generateInstrumentOnce("IORedis",(()=>new o.IORedisInstrumentation({responseHook:p}))),f=c.generateInstrumentOnce("Redis-4",(()=>new i.RedisInstrumentation({responseHook:p}))),m=Object.assign((()=>{h(),f()}),{id:l}),g=s.defineIntegration(((e={})=>({name:l,setupOnce(){d=e,m()}})));t.instrumentRedis=m,t.redisIntegration=g},51055:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320).parseSemver(process.versions.node),o=r.major;t.NODE_MAJOR=o,t.NODE_VERSION=r},73086:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(81376),o=n(32858).wrapContextManagerClass(r.AsyncLocalStorageContextManager);t.SentryContextManager=o},40013:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(32858),o={};t.generateInstrumentOnce=function(e,t){return Object.assign((n=>{const i=o[e];if(i)return void(n&&i.setConfig(n));const s=t(n);o[e]=s,r.addOpenTelemetryInstrumentation(s)}),{id:e})}},50575:(e,t,n)=>{var{_nullishCoalesce:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(37067);n(44708);const i=Symbol("AgentBaseInternalState");class s extends o.Agent{constructor(e){super(e),this[i]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,n){const r={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,r))).then((s=>{if(s instanceof o.Agent)return s.addRequest(e,r);this[i].currentSocket=s,super.createSocket(e,t,n)}),n)}createConnection(){const e=this[i].currentSocket;if(this[i].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return r(this[i].defaultPort,(()=>"https:"===this.protocol?443:80))}set defaultPort(e){this[i]&&(this[i].defaultPort=e)}get protocol(){return r(this[i].protocol,(()=>this.isSecureEndpoint()?"https:":"http:"))}set protocol(e){this[i]&&(this[i].protocol=e)}}t.Agent=s},86160:(e,t,n)=>{var{_nullishCoalesce:r,_optionalChain:o}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const i=n(77030),s=n(41692),a=n(24320),c=n(50575),u=n(5244);function l(...e){a.logger.log("[https-proxy-agent]",...e)}class d extends c.Agent{static __initStatic(){this.protocols=["http","https"]}constructor(e,t){super(t),this.options={},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=r(o([t,"optionalAccess",e=>e.headers]),(()=>({}))),l("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?h(t,"headers"):null,host:n,port:i}}async connect(e,t){const{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let r;if("https:"===n.protocol){l("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;r=s.connect({...this.connectOpts,servername:e&&i.isIP(e)?void 0:e})}else l("Creating `net.Socket`: %o",this.connectOpts),r=i.connect(this.connectOpts);const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},a=i.isIPv6(t.host)?`[${t.host}]`:t.host;let c=`CONNECT ${a}:${t.port} HTTP/1.1\r\n`;if(n.username||n.password){const e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}o.Host=`${a}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))c+=`${e}: ${o[e]}\r\n`;const d=u.parseProxyResponse(r);r.write(`${c}\r\n`);const{connect:f,buffered:m}=await d;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),200===f.statusCode){if(e.once("socket",p),t.secureEndpoint){l("Upgrading socket connection to TLS");const e=t.servername||t.host;return s.connect({...h(t,"host","path","port"),socket:r,servername:i.isIP(e)?void 0:e})}return r}r.destroy();const g=new i.Socket({writable:!1});return g.readable=!0,e.once("socket",(e=>{l("Replaying proxy buffer for failed request"),e.push(m),e.push(null)})),g}}function p(e){e.resume()}function h(e,...t){const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n}d.__initStatic(),t.HttpsProxyAgent=d},5244:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320);function o(...e){r.logger.log("[https-proxy-agent:parse-proxy-response]",...e)}t.parseProxyResponse=function(e){return new Promise(((t,n)=>{let r=0;const i=[];function s(){const c=e.read();c?function(c){i.push(c),r+=c.length;const u=Buffer.concat(i,r),l=u.indexOf("\r\n\r\n");if(-1===l)return o("have not received end of HTTP headers yet..."),void s();const d=u.slice(0,l).toString("ascii").split("\r\n"),p=d.shift();if(!p)return e.destroy(),n(new Error("No header received from proxy CONNECT response"));const h=p.split(" "),f=+(h[1]||0),m=h.slice(2).join(" "),g={};for(const t of d){if(!t)continue;const r=t.indexOf(":");if(-1===r)return e.destroy(),n(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,r).toLowerCase(),i=t.slice(r+1).trimStart(),s=g[o];"string"==typeof s?g[o]=[s,i]:Array.isArray(s)?s.push(i):g[o]=i}o("got proxy server response: %o %o",p,g),a(),t({connect:{statusCode:f,statusText:m,headers:g},buffered:u})}(c):e.once("readable",s)}function a(){e.removeListener("end",c),e.removeListener("error",u),e.removeListener("readable",s)}function c(){a(),o("onend"),n(new Error("Proxy connection ended before receiving CONNECT response"))}function u(e){a(),o("onerror %o",e),n(e)}e.on("error",u),e.on("end",c),s()}))}},75376:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=n(32477),i=r.createStackParser(r.nodeStackLineParser(o.createGetModuleFromFilename()));t.defaultStackParser=i,t.getSentryRelease=function(e){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(r.GLOBAL_OBJ.SENTRY_RELEASE&&r.GLOBAL_OBJ.SENTRY_RELEASE.id)return r.GLOBAL_OBJ.SENTRY_RELEASE.id;const t=process.env.GITHUB_SHA||process.env.CI_MERGE_REQUEST_SOURCE_BRANCH_SHA||process.env.CI_BUILD_REF||process.env.CI_COMMIT_SHA||process.env.BITBUCKET_COMMIT,n=process.env.APPVEYOR_PULL_REQUEST_HEAD_COMMIT||process.env.APPVEYOR_REPO_COMMIT||process.env.CODEBUILD_RESOLVED_SOURCE_VERSION||process.env.AWS_COMMIT_ID||process.env.BUILD_SOURCEVERSION||process.env.GIT_CLONE_COMMIT_HASH||process.env.BUDDY_EXECUTION_REVISION||process.env.BUILDKITE_COMMIT||process.env.CIRCLE_SHA1||process.env.CIRRUS_CHANGE_IN_REPO||process.env.CF_REVISION||process.env.CM_COMMIT||process.env.CF_PAGES_COMMIT_SHA||process.env.DRONE_COMMIT_SHA||process.env.FC_GIT_COMMIT_SHA||process.env.HEROKU_TEST_RUN_COMMIT_VERSION||process.env.HEROKU_SLUG_COMMIT||process.env.RENDER_GIT_COMMIT||process.env.SEMAPHORE_GIT_SHA||process.env.TRAVIS_PULL_REQUEST_SHA||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA,o=process.env.CI_COMMIT_ID||process.env.SOURCE_COMMIT||process.env.SOURCE_VERSION||process.env.GIT_COMMIT||process.env.COMMIT_REF||process.env.BUILD_VCS_NUMBER||process.env.CI_COMMIT_SHA;return t||n||o||e}},14709:(e,t,n)=>{var{_nullishCoalesce:r,_optionalChain:o}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const i=n(48161),s=n(74681),a=n(37872),c=n(24320),u=n(28167),l=n(13169);class d extends a.ServerRuntimeClient{constructor(e){const t={...e,platform:"node",runtime:{name:"node",version:global.process.version},serverName:e.serverName||global.process.env.SENTRY_NAME||i.hostname()};a.applySdkMetadata(t,"node"),c.logger.log(`Initializing Sentry: process: ${process.pid}, thread: ${u.isMainThread?"main":`worker-${u.threadId}`}.`),super(t)}get tracer(){if(this._tracer)return this._tracer;const e=a.SDK_VERSION,t=s.trace.getTracer("@sentry/node",e);return this._tracer=t,t}async flush(e){const t=this.traceProvider,n=o([t,"optionalAccess",e=>e.activeSpanProcessor]);return n&&await n.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(e)}close(e){return this._clientReportInterval&&clearInterval(this._clientReportInterval),this._clientReportOnExitFlushListener&&process.off("beforeExit",this._clientReportOnExitFlushListener),super.close(e)}startClientReportTracking(){const e=this.getOptions();e.sendClientReports&&(this._clientReportOnExitFlushListener=()=>{this._flushOutcomes()},this._clientReportInterval=setInterval((()=>{l.DEBUG_BUILD&&c.logger.log("Flushing client reports based on interval."),this._flushOutcomes()}),r(e.clientReportFlushInterval,(()=>6e4))).unref(),process.on("beforeExit",this._clientReportOnExitFlushListener))}}t.NodeClient=d},34220:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872),o=n(32858),i=n(24320),s=n(13169),a=n(95022),c=n(82660),u=n(8421),l=n(69195),d=n(85055),p=n(9558),h=n(76474),f=n(82644),m=n(99804),g=n(29871),_=n(45874),b=n(60700),S=n(13955),y=n(75376),E=n(14709),T=n(23310);function v(){return[r.inboundFiltersIntegration(),r.functionToStringIntegration(),r.linkedErrorsIntegration(),r.requestDataIntegration(),a.consoleIntegration(),l.httpIntegration(),h.nativeNodeFetchIntegration(),f.onUncaughtExceptionIntegration(),m.onUnhandledRejectionIntegration(),u.contextLinesIntegration(),d.localVariablesIntegration(),c.nodeContextIntegration(),...S.isCjs()?[p.modulesIntegration()]:[]]}function I(e){return[...v(),...R(e)?_.getAutoPerformanceIntegrations():[]]}function R(e){return!!r.hasTracingEnabled(e)&&(e.enableTracing||null!=e.tracesSampleRate||"tracesSampler"in e)}function A(e={},t){const n=function(e,t){const n=function(e){if(void 0!==e)return e;const t=y.getSentryRelease();return void 0!==t?t:void 0}(e.release),o="string"==typeof n&&(void 0===e.autoSessionTracking||e.autoSessionTracking),s=function(e){if(void 0!==e)return e;const t=process.env.SENTRY_TRACES_SAMPLE_RATE;if(!t)return;const n=parseFloat(t);return isFinite(n)?n:void 0}(e.tracesSampleRate),a=i.dropUndefinedKeys({transport:b.makeNodeTransport,dsn:process.env.SENTRY_DSN,environment:process.env.SENTRY_ENVIRONMENT,sendClientReports:!0}),c=i.dropUndefinedKeys({release:n,autoSessionTracking:o,tracesSampleRate:s}),u={...a,...e,...c};void 0===e.defaultIntegrations&&(e.defaultIntegrations=t(u));return{...u,stackParser:i.stackParserFromStackParserOptions(e.stackParser||y.defaultStackParser),integrations:r.getIntegrationsToSetup({defaultIntegrations:e.defaultIntegrations,integrations:e.integrations})}}(e,t);!0===n.debug&&(s.DEBUG_BUILD?i.logger.enable():i.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),S.isCjs()||!1===n.registerEsmLoaderHooks||T.maybeInitializeEsmLoader(!0===n.registerEsmLoaderHooks?void 0:n.registerEsmLoaderHooks),o.setOpenTelemetryContextAsyncContextStrategy(),r.getCurrentScope().update(n.initialScope),n.spotlight&&!n.integrations.some((({name:e})=>e===g.INTEGRATION_NAME))&&n.integrations.push(g.spotlightIntegration({sidecarUrl:"string"==typeof n.spotlight?n.spotlight:void 0}));const a=new E.NodeClient(n);return r.getCurrentScope().setClient(a),a.init(),i.logger.log(`Running in ${S.isCjs()?"CommonJS":"ESM"} mode.`),n.autoSessionTracking&&function(){const e=r.getClient();e&&e.getOptions().autoSessionTracking&&e.initSessionFlusher(),r.startSession(),process.on("beforeExit",(()=>{const e=r.getIsolationScope().getSession();e&&"ok"!==e.status&&r.endSession()}))}(),a.startClientReportTracking(),function(){const e=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(e)){const e=process.env.SENTRY_TRACE,t=process.env.SENTRY_BAGGAGE,n=i.propagationContextFromHeaders(e,t);r.getCurrentScope().setPropagationContext(n)}}(),n.skipOpenTelemetrySetup||(T.initOpenTelemetry(a),C()),o.enhanceDscWithOpenTelemetryRootSpanName(a),o.setupEventContextTrace(a),a}function C(){if(!s.DEBUG_BUILD)return;const e=o.openTelemetrySetupCheck(),t=["SentryContextManager","SentryPropagator"];r.hasTracingEnabled()&&t.push("SentrySpanProcessor");for(const n of t)e.includes(n)||i.logger.error(`You have to set up the ${n}. Without this, the OpenTelemetry & Sentry integration will not work properly.`);e.includes("SentrySampler")||i.logger.warn("You have to set up the SentrySampler. Without this, the OpenTelemetry & Sentry integration may still work, but sample rates set for the Sentry SDK will not be respected. If you use a custom sampler, make sure to use `wrapSamplingDecision`.")}t.getDefaultIntegrations=I,t.getDefaultIntegrationsWithoutPerformance=v,t.init=function(e={}){return A(e,I)},t.initWithoutDefaultIntegrations=function(e={}){return A(e,(()=>[]))},t.validateOpenTelemetrySetup=C},23310:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(73339),o=n(74681),i=n(13097),s=n(71426),a=n(74813),c=n(37872),u=n(32858),l=n(24320),d=n(45874),p=n(73086),h=n(13955);var f="undefined"!=typeof document?document.currentScript:null;function m(e){const[t=0,o=0]=process.versions.node.split(".").map(Number);if(t>=22||20===t&&o>=6||18===t&&o>=19){const t=void 0!==("undefined"==typeof document?n(87016).pathToFileURL(__filename).href:f&&f.src||new URL("sdk/initOtel.js",document.baseURI).href)?"undefined"==typeof document?n(87016).pathToFileURL(__filename).href:f&&f.src||new URL("sdk/initOtel.js",document.baseURI).href:void 0;if(!l.GLOBAL_OBJ._sentryEsmLoaderHookRegistered&&t)try{r.default.register("import-in-the-middle/hook.mjs",t,{data:e}),l.GLOBAL_OBJ._sentryEsmLoaderHookRegistered=!0}catch(e){l.logger.warn("Failed to register ESM hook",e)}}else l.consoleSandbox((()=>{console.warn('[Sentry] You are using Node.js in ESM mode ("import syntax"). The Sentry Node.js SDK is not compatible with ESM in Node.js versions before 18.19.0 or before 20.6.0. Please either build your application with CommonJS ("require() syntax"), or use version 7.x of the Sentry Node.js SDK.')}))}function g(e){const t=new s.BasicTracerProvider({sampler:new u.SentrySampler(e),resource:new i.Resource({[a.SEMRESATTRS_SERVICE_NAME]:"node",[a.SEMRESATTRS_SERVICE_NAMESPACE]:"sentry",[a.SEMRESATTRS_SERVICE_VERSION]:c.SDK_VERSION}),forceFlushTimeoutMillis:500});return t.addSpanProcessor(new u.SentrySpanProcessor({timeout:e.getOptions().maxSpanWaitDuration})),t.register({propagator:new u.SentryPropagator,contextManager:new p.SentryContextManager}),t}function _(){const e=new Proxy(l.logger,{get(e,t,n){const r="verbose"===t?"debug":t;return Reflect.get(e,r,n)}});o.diag.disable(),o.diag.setLogger(e,o.DiagLogLevel.DEBUG)}t.initOpenTelemetry=function(e){e.getOptions().debug&&_();const t=g(e);e.traceProvider=t},t.maybeInitializeEsmLoader=m,t.preloadOpenTelemetry=function(e={}){const{debug:t}=e;t&&(l.logger.enable(),_()),h.isCjs()||m(e.registerEsmLoaderHooks),function(e){const t=d.getOpenTelemetryInstrumentationToPreload();return e?t.filter((t=>e.includes(t.id))):t}(e.integrations).forEach((e=>{e(),t&&l.logger.log(`[Sentry] Preloaded ${e.id} instrumentation`)}))},t.setupOtel=g},74764:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(74681),o=n(32858);t.setIsolationScope=function(e){const t=o.getScopesFromContext(r.context.active());t&&(t.isolationScope=e)}},60700:(e,t,n)=>{var{_nullishCoalesce:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(37067),i=n(44708),s=n(57075),a=n(38522),c=n(37872),u=n(24320),l=n(86160);t.makeNodeTransport=function(e){let t;try{t=new URL(e.url)}catch(t){return u.consoleSandbox((()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")})),c.createTransport(e,(()=>Promise.resolve({})))}const n="https:"===t.protocol,d=function(e,t){const{no_proxy:n}=process.env;return n&&n.split(",").some((t=>e.host.endsWith(t)||e.hostname.endsWith(t)))?void 0:t}(t,e.proxy||(n?process.env.https_proxy:void 0)||process.env.http_proxy),p=n?i:o,h=void 0!==e.keepAlive&&e.keepAlive,f=d?new l.HttpsProxyAgent(d):new p.Agent({keepAlive:h,maxSockets:30,timeout:2e3});return c.suppressTracing((()=>{const t=function(e,t,n){const{hostname:o,pathname:i,port:c,protocol:u,search:l}=new URL(e.url);return function(d){return new Promise(((p,h)=>{let f=function(e){return new s.Readable({read(){this.push(e),this.push(null)}})}(d.body);const m={...e.headers};d.body.length>32768&&(m["content-encoding"]="gzip",f=f.pipe(a.createGzip()));const g=t.request({method:"POST",agent:n,headers:m,hostname:o,path:`${i}${l}`,port:c,protocol:u,ca:e.caCerts},(e=>{e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8");const t=r(e.headers["retry-after"],(()=>null)),n=r(e.headers["x-sentry-rate-limits"],(()=>null));p({statusCode:e.statusCode,headers:{"retry-after":t,"x-sentry-rate-limits":Array.isArray(n)?n[0]||null:n}})}));g.on("error",h),f.pipe(g)}))}}(e,r(e.httpModule,(()=>p)),f);return c.createTransport(e,t)}))}},64061:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872);t.addOriginToSpan=function(e,t){e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t)}},13955:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCjs=function(){return!0}},14660:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(13955);t.createMissingInstrumentationContext=e=>({package:e,"javascript.is_cjs":r.isCjs()})},46478:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(72477),o=n(37872),i=n(24320),s=n(13955),a=n(14660);t.ensureIsWrapped=function(e,t){!r.isWrapped(e)&&o.isEnabled()&&o.hasTracingEnabled()&&(i.consoleSandbox((()=>{s.isCjs()?console.warn(`[Sentry] ${t} is not instrumented. This is likely because you required/imported ${t} before calling \`Sentry.init()\`.`):console.warn(`[Sentry] ${t} is not instrumented. Please make sure to initialize Sentry in a separate file that you \`--import\` when running node, see: https://docs.sentry.io/platforms/javascript/guides/${t}/install/esm/.`)})),o.getGlobalScope().setContext("missing_instrumentation",a.createMissingInstrumentationContext(t)))}},96450:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(37872),o=n(24320),i=n(13169);t.logAndExitProcess=function(e){o.consoleSandbox((()=>{console.error(e)}));const t=r.getClient();if(void 0===t)return i.DEBUG_BUILD&&o.logger.warn("No NodeClient was defined, we are exiting the process now."),void global.process.exit(1);const n=t.getOptions(),s=n&&n.shutdownTimeout&&n.shutdownTimeout>0&&n.shutdownTimeout||2e3;t.close(s).then((e=>{e||i.DEBUG_BUILD&&o.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}),(e=>{i.DEBUG_BUILD&&o.logger.error(e)}))}},1247:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestUrl=function(e){const t=e.protocol||"",n=e.hostname||e.host||"";return`${t}//${n}${!e.port||80===e.port||443===e.port||/^(.*):(\d+)$/.test(n)?"":`:${e.port}`}${e.path?e.path:"/"}`}},32477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(76760),o=n(24320);function i(e){return e.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}t.createGetModuleFromFilename=function(e=(process.argv[1]?o.dirname(process.argv[1]):process.cwd()),t="\\"===r.sep){const n=t?i(e):e;return e=>{if(!e)return;const o=t?i(e):e;let{dir:s,base:a,ext:c}=r.posix.parse(o);".js"!==c&&".mjs"!==c&&".cjs"!==c||(a=a.slice(0,-1*c.length)),s||(s=".");const u=s.lastIndexOf("/node_modules");if(u>-1)return`${s.slice(u+14).replace(/\//g,".")}:${a}`;if(s.startsWith(n)){let e=s.slice(n.length+1).replace(/\//g,".");return e&&(e+=":"),e+=a,e}return a}}},35278:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(24320),o=["get","set","setex"],i=["get","mget"],s=["set","setex"];function a(e,t){return e.includes(t.toLowerCase())}function c(e){return a(i,e)?"cache.get":a(s,e)?"cache.put":void 0}function u(e,t){return t.some((t=>e.startsWith(t)))}t.GET_COMMANDS=i,t.SET_COMMANDS=s,t.calculateCacheItemSize=function(e){const t=e=>{try{return Buffer.isBuffer(e)?e.byteLength:"string"==typeof e?e.length:"number"==typeof e?e.toString().length:null==e?0:JSON.stringify(e).length}catch(e){return}};return Array.isArray(e)?e.reduce(((e,n)=>{const r=t(n);return"number"==typeof r?void 0!==e?e+r:r:e}),0):t(e)},t.getCacheKeySafely=function(e,t){try{if(0===t.length)return;const n=e=>"string"==typeof e||"number"==typeof e||Buffer.isBuffer(e)?[e.toString()]:Array.isArray(e)?r.flatten(e.map((e=>n(e)))):["<unknown>"],i=t[0];return a(o,e)&&null!=i?n(i):r.flatten(t.map((e=>n(e))))}catch(e){return}},t.getCacheOperation=c,t.isInCommands=a,t.shouldConsiderForCache=function(e,t,n){if(!c(e))return!1;for(const e of t)if(u(e,n))return!0;return!1}},32858:(e,t,n)=>{var{_optionalChain:r}=n(24320);Object.defineProperty(t,"__esModule",{value:!0});const o=n(74813),i=n(24320),s=n(74681),a=n(37872),c=n(72477),u=n(71426),l=n(25907),d="sentry.parentIsRemote",p="sentry.graphql.operation";function h(e){const t=e;return!!t.attributes&&"object"==typeof t.attributes}function f(e){return"number"==typeof e.kind}function m(e){return!!e.status}function g(e){return!!e.name}function _(e){return!!e.parentSpanId}function b(e){if(!h(e))return{};const t={url:e.attributes[o.SEMATTRS_HTTP_URL],"http.method":e.attributes[o.SEMATTRS_HTTP_METHOD]};!t["http.method"]&&t.url&&(t["http.method"]="GET");try{const n=e.attributes[o.SEMATTRS_HTTP_URL];if("string"==typeof n){const e=i.parseUrl(n);t.url=i.getSanitizedUrlString(e),e.search&&(t["http.query"]=e.search),e.hash&&(t["http.fragment"]=e.hash)}}catch(e){}return t}function S(e){return f(e)?e.kind:s.SpanKind.INTERNAL}const y="sentry-trace",E="baggage",T="sentry.dsc",v="sentry.parent_span_id",I="sentry.sampled_not_recording",R="sentry.url",A=s.createContextKey("sentry_scopes"),C=s.createContextKey("sentry_fork_isolation_scope"),O=s.createContextKey("sentry_fork_set_scope"),N=s.createContextKey("sentry_fork_set_isolation_scope"),w="_scopeContext";function P(e){return e.getValue(A)}function M(e,t){return e.setValue(A,t)}function L(e,t,n){if(t["sentry.skip_span_data_inference"])return{op:void 0,description:e,source:"custom",data:{"sentry.skip_span_data_inference":void 0}};const r=t["http.request.method"]||t[o.SEMATTRS_HTTP_METHOD];if(r)return function({name:e,kind:t,attributes:n},r){const c=["http"];switch(t){case s.SpanKind.CLIENT:c.push("client");break;case s.SpanKind.SERVER:c.push("server")}const{urlPath:u,url:l,query:d,fragment:h,hasRoute:f}=function(e,t){const n=e[o.SEMATTRS_HTTP_TARGET],r=e[o.SEMATTRS_HTTP_URL],a=e[o.SEMATTRS_HTTP_ROUTE],c="string"==typeof r?i.parseUrl(r):void 0,u=c?i.getSanitizedUrlString(c):void 0,l=c&&c.search?c.search:void 0,d=c&&c.hash?c.hash:void 0;return"string"==typeof a?{urlPath:a,url:u,query:l,fragment:d,hasRoute:!0}:t===s.SpanKind.SERVER&&"string"==typeof n?{urlPath:i.stripUrlQueryAndFragment(n),url:u,query:l,fragment:d,hasRoute:!1}:c?{urlPath:u,url:u,query:l,fragment:d,hasRoute:!1}:"string"==typeof n?{urlPath:i.stripUrlQueryAndFragment(n),url:u,query:l,fragment:d,hasRoute:!1}:{urlPath:void 0,url:u,query:l,fragment:d,hasRoute:!1}}(n,t);if(!u)return{op:c.join("."),description:e,source:"custom"};const m=n[p],g=`${r} ${u}`,_=m?`${g} (${function(e){if(Array.isArray(e)){const t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}(m)})`:g,b=f||"/"===u?"route":"url",S={};l&&(S.url=l),d&&(S["http.query"]=d),h&&(S["http.fragment"]=h);const y=t===s.SpanKind.CLIENT||t===s.SpanKind.SERVER,E=!`${n[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]||"manual"}`.startsWith("auto"),T=y||!E;return{op:c.join("."),description:T?_:e,source:T?b:"custom",data:S}}({attributes:t,name:e,kind:n},r);const c=t[o.SEMATTRS_DB_SYSTEM],u="string"==typeof t[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&t[a.SEMANTIC_ATTRIBUTE_SENTRY_OP].startsWith("cache.");if(c&&!u)return function({attributes:e,name:t}){const n=e[o.SEMATTRS_DB_STATEMENT];return{op:"db",description:n?n.toString():t,source:"task"}}({attributes:t,name:e});if(t[o.SEMATTRS_RPC_SERVICE])return{op:"rpc",description:e,source:"route"};if(t[o.SEMATTRS_MESSAGING_SYSTEM])return{op:"message",description:e,source:"route"};const l=t[o.SEMATTRS_FAAS_TRIGGER];return l?{op:l.toString(),description:e,source:"route"}:{op:void 0,description:e,source:"custom"}}function x(e){const t=h(e)?e.attributes:{};return L(g(e)?e.name:"<unknown>",t,S(e))}function k({parentSpanId:e,dsc:t,sampled:n}){const r=t?i.dynamicSamplingContextToSentryBaggageHeader(t):void 0,o=(new c.TraceState).set(v,e||""),s=r?o.set(T,r):o;return!1===n?s.set(I,"1"):s}function G(e){const t=k({parentSpanId:e.parentSpanId,dsc:e.dsc,sampled:e.sampled});return{traceId:e.traceId,spanId:e.parentSpanId||"",isRemote:!0,traceFlags:e.sampled?s.TraceFlags.SAMPLED:s.TraceFlags.NONE,traceState:t}}function D(){return s.trace.getActiveSpan()}const U="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function V(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function Z(e){const{traceFlags:t,traceState:n}=e,r=!!n&&"1"===n.get(I);if(t===s.TraceFlags.SAMPLED)return!0;if(r)return!1;const o=n?n.get(T):void 0,a=o?i.baggageHeaderToDynamicSamplingContext(o):void 0;return"true"===V([a,"optionalAccess",e=>e.sampled])||"false"!==V([a,"optionalAccess",e=>e.sampled])&&void 0}const B=new Set;function W(e){B.add(e)}function j(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function F(e){const t=e.spanContext(),{traceId:n,spanId:r,traceState:o}=t,s=o?o.get(T):void 0,c=s?i.baggageHeaderToDynamicSamplingContext(s):void 0,u=o&&o.get(v)||void 0;return{traceId:n,spanId:r,sampled:Z(t),parentSpanId:u,dsc:c||a.getDynamicSamplingContextFromSpan(a.getRootSpan(e))}}class H extends c.W3CBaggagePropagator{constructor(){super(),W("SentryPropagator"),this._urlMatchesTargetsMap=new i.LRUMap(100)}inject(e,t,n){if(c.isTracingSuppressed(e))return void(U&&i.logger.log("[Tracing] Not injecting trace data for url because tracing is suppressed."));const r=s.trace.getSpan(e),u=r&&function(e){const t=j([a.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e[o.SEMATTRS_HTTP_URL]]);if(t)return t;const n=j([e,"access",e=>e.spanContext,"call",e=>e(),"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(R)]);return n||void 0}(r),l=j([a.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e(),"optionalAccess",e=>e.tracePropagationTargets]);if("string"==typeof u&&l&&!this._shouldInjectTraceData(l,u))return void(U&&i.logger.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",u));const d=function(e){try{const t=e[E];return Array.isArray(t)?t.join(","):t}catch(e){return}}(t);let p=s.propagation.getBaggage(e)||s.propagation.createBaggage({});const{dynamicSamplingContext:h,traceId:f,spanId:m,sampled:g}=function(e){const t=a.hasTracingEnabled()?s.trace.getSpan(e):void 0,n=j([t,"optionalAccess",e=>e.spanContext,"call",e=>e(),"access",e=>e.isRemote]);if(t&&!n){const e=t.spanContext();return{dynamicSamplingContext:Y(F(t),e.traceId),traceId:e.traceId,spanId:e.spanId,sampled:Z(e)}}const r=(j([P,"call",t=>t(e),"optionalAccess",e=>e.scope])||a.getCurrentScope()).getPropagationContext();return{dynamicSamplingContext:Y(r,r.traceId),traceId:r.traceId,spanId:r.spanId,sampled:r.sampled}}(e);if(d){const e=i.parseBaggageHeader(d);e&&Object.entries(e).forEach((([e,t])=>{p=p.setEntry(e,{value:t})}))}h&&(p=Object.entries(h).reduce(((e,[t,n])=>n?e.setEntry(`${i.SENTRY_BAGGAGE_KEY_PREFIX}${t}`,{value:n}):e),p)),f&&f!==s.INVALID_TRACEID&&n.set(t,y,i.generateSentryTraceHeader(f,m,g)),super.inject(s.propagation.setBaggage(e,p),t,n)}extract(e,t,n){const r=n.get(t,y),o=n.get(t,E),s=r?Array.isArray(r)?r[0]:r:void 0,c=i.propagationContextFromHeaders(s,o),u=X(e,{sentryTrace:s,baggage:o}),l=P(u),d={scope:l?l.scope.clone():a.getCurrentScope().clone(),isolationScope:l?l.isolationScope:a.getIsolationScope()};return d.scope.setPropagationContext(c),M(u,d)}fields(){return[y,E]}_shouldInjectTraceData(e,t){if(void 0===e)return!0;const n=this._urlMatchesTargetsMap.get(t);if(void 0!==n)return n;const r=i.stringMatchesSomePattern(t,e);return this._urlMatchesTargetsMap.set(t,r),r}}function Y(e,t){if(j([e,"optionalAccess",e=>e.dsc]))return e.dsc;const n=a.getClient();return n?a.getDynamicSamplingContextFromClient(t||e.traceId,n):void 0}function X(e,{sentryTrace:t,baggage:n}){const r=G(i.propagationContextFromHeaders(t,n));return s.trace.setSpanContext(e,r)}function J(e,t){const n=$(),{name:r,parentSpan:o}=e;return te(o)((()=>{const o=ee(e.scope,e.forceTransaction),i=e.onlyIfParent&&!s.trace.getSpan(o)?c.suppressTracing(o):o,u=q(e);return n.startActiveSpan(r,u,i,(e=>a.handleCallbackErrors((()=>t(e)),(()=>{void 0===a.spanToJSON(e).status&&e.setStatus({code:s.SpanStatusCode.ERROR})}),(()=>e.end()))))}))}function K(e,t){const n=$(),{name:r,parentSpan:o}=e;return te(o)((()=>{const o=ee(e.scope,e.forceTransaction),i=e.onlyIfParent&&!s.trace.getSpan(o)?c.suppressTracing(o):o,u=q(e);return n.startActiveSpan(r,u,i,(e=>a.handleCallbackErrors((()=>t(e,(()=>e.end()))),(()=>{void 0===a.spanToJSON(e).status&&e.setStatus({code:s.SpanStatusCode.ERROR})}))))}))}function z(e){const t=$(),{name:n,parentSpan:r}=e;return te(r)((()=>{const r=ee(e.scope,e.forceTransaction),o=e.onlyIfParent&&!s.trace.getSpan(r)?c.suppressTracing(r):r,i=q(e);return t.startSpan(n,i,o)}))}function Q(e,t){const n=e?s.trace.setSpan(s.context.active(),e):s.trace.deleteSpan(s.context.active());return s.context.with(n,(()=>t(a.getCurrentScope())))}function $(){const e=a.getClient();return e&&e.tracer||s.trace.getTracer("@sentry/opentelemetry",a.SDK_VERSION)}function q(e){const{startTime:t,attributes:n,kind:r,op:o}=e,i="number"==typeof t?(s=t)<9999999999?1e3*s:s:t;var s;return{attributes:o?{[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:o,...n}:n,kind:r,startTime:i}}function ee(e,t){const n=function(e){if(e){const t=function(e){return e[w]}(e);if(t)return t}return s.context.active()}(e),r=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([P,"call",e=>e(n),"optionalAccess",e=>e.scope]),o=s.trace.getSpan(n);if(!o){const e=a.getClient();if(r&&e){const e=r.getPropagationContext(),t=k({parentSpanId:e.parentSpanId,dsc:void 0,sampled:e.sampled}),o={traceId:e.traceId,spanId:e.parentSpanId||e.spanId,isRemote:!0,traceFlags:e.sampled?s.TraceFlags.SAMPLED:s.TraceFlags.NONE,traceState:t};return s.trace.setSpanContext(n,o)}return n}if(!t)return n;const i=s.trace.deleteSpan(n),{spanId:c,traceId:u}=o.spanContext(),l=Z(o.spanContext()),d=a.getRootSpan(o),p=k({dsc:a.getDynamicSamplingContextFromSpan(d),parentSpanId:c!==s.INVALID_SPANID?c:void 0,sampled:l}),h={traceId:u,spanId:c,isRemote:!0,traceFlags:l?s.TraceFlags.SAMPLED:s.TraceFlags.NONE,traceState:p};return s.trace.setSpanContext(i,h)}function te(e){return void 0!==e?t=>Q(e,t):e=>e()}function ne(e){const t=c.suppressTracing(s.context.active());return s.context.with(t,e)}function re(){const e={};return s.propagation.inject(s.context.active(),e),e["sentry-trace"]?i.dropUndefinedKeys({"sentry-trace":e["sentry-trace"],baggage:e.baggage}):{}}function oe(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function ie(e){return!0===e.attributes[d]?void 0:e.parentSpanId}function se(e,t){const n=t.spanContext().spanId,r=ie(t);if(!r)return void ae(e,{id:n,span:t,children:[]});const o=function(e,t){const n=e.get(t);return n||ae(e,{id:t,children:[]})}(e,r),i=ae(e,{id:n,span:t,parentNode:o,children:[]});o.children.push(i)}function ae(e,t){const n=e.get(t.id);return n&&n.span?n:n&&!n.span?(n.span=t.span,n.parentNode=t.parentNode,n):(e.set(t.id,t),t)}const ce={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},ue=e=>Object.values(ce).includes(e);function le(e){const t=h(e)?e.attributes:{},n=m(e)?e.status:void 0;if(n){if(n.code===s.SpanStatusCode.OK)return{code:a.SPAN_STATUS_OK};if(n.code===s.SpanStatusCode.ERROR){if(void 0===n.message){const e=de(t);if(e)return e}return n.message&&ue(n.message)?{code:a.SPAN_STATUS_ERROR,message:n.message}:{code:a.SPAN_STATUS_ERROR,message:"unknown_error"}}}return de(t)||(n&&n.code===s.SpanStatusCode.UNSET?{code:a.SPAN_STATUS_OK}:{code:a.SPAN_STATUS_ERROR,message:"unknown_error"})}function de(e){const t=e[o.SEMATTRS_HTTP_STATUS_CODE],n=e[o.SEMATTRS_RPC_GRPC_STATUS_CODE],r="number"==typeof t?t:"string"==typeof t?parseInt(t):void 0;return"number"==typeof r?a.getSpanStatusFromHttpCode(r):"string"==typeof n?{code:a.SPAN_STATUS_ERROR,message:ce[n]||"unknown_error"}:void 0}function pe(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}class he{constructor(e){this._finishedSpans=[],this._timeout=pe([e,"optionalAccess",e=>e.timeout])||300}export(e){if(this._finishedSpans.push(e),ie(e)){const e=this._finishedSpans.length;return U&&i.logger.log(`SpanExporter has ${e} unsent spans remaining`),void this._cleanupOldSpans()}this._clearTimeout(),this._flushTimeout=setTimeout((()=>{this.flush()}),1)}flush(){this._clearTimeout();const e=this._finishedSpans.length,t=function(e){const t=function(e){const t=new Map;for(const n of e)se(t,n);return Array.from(t,(function([e,t]){return t}))}(e),n=new Set(t);return(r=t,r.filter(fe)).forEach((e=>{n.delete(e);const t=e.span,r=function(e){const{op:t,description:n,data:r,origin:o="manual",source:s}=ge(e),c=a.getCapturedScopesOnSpan(e),u=e.attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],l=i.dropUndefinedKeys({[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s,[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:u,[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t,[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:o,...r,..._e(e.attributes)}),{traceId:d,spanId:p}=e.spanContext(),h=pe([e,"access",e=>e.spanContext,"call",e=>e(),"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(v)]),f="string"==typeof h?h||void 0:e.parentSpanId,m=le(e);return{contexts:{trace:i.dropUndefinedKeys({parent_span_id:f,span_id:p,trace_id:d,data:l,origin:o,op:t,status:a.getStatusMessage(m)}),otel:{resource:e.resource.attributes}},spans:[],start_timestamp:a.spanTimeInputToSeconds(e.startTime),timestamp:a.spanTimeInputToSeconds(e.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{...i.dropUndefinedKeys({capturedSpanScope:c.scope,capturedSpanIsolationScope:c.isolationScope,sampleRate:u,dynamicSamplingContext:a.getDynamicSamplingContextFromSpan(e)})},...s&&{transaction_info:{source:s}},_metrics_summary:a.getMetricSummaryJsonForSpan(e)}}(t),o=r.spans||[];e.children.forEach((e=>{me(e,o,n)})),r.spans=o.length>1e3?o.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):o;const s=a.timedEventsToMeasurements(t.events);s&&(r.measurements=s),a.captureEvent(r)})),Array.from(n).map((e=>e.span)).filter((e=>!!e));var r}(this._finishedSpans),n=t.length,r=e-n;U&&i.logger.log(`SpanExporter exported ${r} spans, ${n} unsent spans remaining`),this._cleanupOldSpans(t)}clear(){this._finishedSpans=[],this._clearTimeout()}_clearTimeout(){this._flushTimeout&&(clearTimeout(this._flushTimeout),this._flushTimeout=void 0)}_cleanupOldSpans(e=this._finishedSpans){this._finishedSpans=e.filter((e=>{const t=function(e,t){const n=Date.now()/1e3-t;return a.spanTimeInputToSeconds(e.startTime)<n}(e,this._timeout);return U&&t&&i.logger.log(`SpanExporter dropping span ${e.name} (${e.spanContext().spanId}) because it is pending for more than 5 minutes.`),!t}))}}function fe(e){return!!e.span&&!e.parentNode}function me(e,t,n){n.delete(e);const r=e.span;if(!r)return void e.children.forEach((e=>{me(e,t,n)}));const o=r.spanContext().spanId,s=r.spanContext().traceId,{attributes:c,startTime:u,endTime:l,parentSpanId:d}=r,{op:p,description:h,data:f,origin:m="manual"}=ge(r),g=i.dropUndefinedKeys({[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:m,[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:p,..._e(c),...f}),_=le(r),b=i.dropUndefinedKeys({span_id:o,trace_id:s,data:g,description:h,parent_span_id:d,start_timestamp:a.spanTimeInputToSeconds(u),timestamp:a.spanTimeInputToSeconds(l)||void 0,status:a.getStatusMessage(_),op:p,origin:m,_metrics_summary:a.getMetricSummaryJsonForSpan(r),measurements:a.timedEventsToMeasurements(r.events)});t.push(b),e.children.forEach((e=>{me(e,t,n)}))}function ge(e){const{op:t,source:n,origin:r}=function(e){const t=e.attributes;return{origin:t[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],op:t[a.SEMANTIC_ATTRIBUTE_SENTRY_OP],source:t[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]}}(e),{op:o,description:i,source:s,data:c}=x(e);return{op:t||o,description:i,source:n||s,origin:r,data:{...c,...be(e)}}}function _e(e){const t={...e};return delete t[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],delete t[d],t}function be(e){const t=e.attributes,n={};if(e.kind!==s.SpanKind.INTERNAL&&(n["otel.kind"]=s.SpanKind[e.kind]),t[o.SEMATTRS_HTTP_STATUS_CODE]){const e=t[o.SEMATTRS_HTTP_STATUS_CODE];n["http.response.status_code"]=e}const r=b(e);return r.url&&(n.url=r.url),r["http.query"]&&(n["http.query"]=r["http.query"].slice(1)),r["http.fragment"]&&(n["http.fragment"]=r["http.fragment"].slice(1)),n}function Se(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function ye({decision:e,context:t,spanAttributes:n}){const i=function(e,t){const n=s.trace.getSpan(e),i=r([n,"optionalAccess",e=>e.spanContext,"call",e=>e()]);let a=r([i,"optionalAccess",e=>e.traceState])||new c.TraceState;const u=t[o.SEMATTRS_HTTP_URL];return u&&"string"==typeof u&&(a=a.set(R,u)),a}(t,n);return null==e?{decision:u.SamplingDecision.NOT_RECORD,traceState:i}:e===u.SamplingDecision.NOT_RECORD?{decision:e,traceState:i.set(I,"1")}:{decision:e,traceState:i}}t.getClient=a.getClient,t.getCurrentHubShim=a.getCurrentHubShim,t.getDynamicSamplingContextFromSpan=a.getDynamicSamplingContextFromSpan,t.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION=p,t.SentryPropagator=H,t.SentrySampler=class{constructor(e){this._client=e,W("SentrySampler")}shouldSample(e,t,n,c,l,d){const p=this._client.getOptions(),h=s.trace.getSpan(e),f=r([h,"optionalAccess",e=>e.spanContext,"call",e=>e()]);if(!a.hasTracingEnabled(p))return ye({decision:void 0,context:e,spanAttributes:l});if(c===s.SpanKind.CLIENT&&l[o.SEMATTRS_HTTP_METHOD]&&(!h||r([f,"optionalAccess",e=>e.isRemote])))return ye({decision:void 0,context:e,spanAttributes:l});const m=h?function(e,t,n){const r=e.spanContext();if(s.isSpanContextValid(r)&&r.traceId===t){if(r.isRemote){const t=function(e){const t=e.spanContext().traceId,n=F(e);return n&&t===n.traceId?n.sampled:void 0}(e);return U&&i.logger.log(`[Tracing] Inheriting remote parent's sampled decision for ${n}: ${t}`),t}const t=Z(r);return U&&i.logger.log(`[Tracing] Inheriting parent's sampled decision for ${n}: ${t}`),t}}(h,t,n):void 0,{description:g,data:_,op:b}=L(n,l,c),S={..._,...l};b&&(S[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]=b);const y={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:S,spanName:g,parentSampled:m,parentContext:f},y),!y.decision)return ye({decision:void 0,context:e,spanAttributes:l});const[E,T]=a.sampleSpan(p,{name:g,attributes:S,transactionContext:{name:g,parentSampled:m},parentSampled:m}),v={[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:T},I=`${l[o.SEMATTRS_HTTP_METHOD]}`.toUpperCase();return"OPTIONS"===I||"HEAD"===I?(U&&i.logger.log(`[Tracing] Not sampling span because HTTP method is '${I}' for ${n}`),{...ye({decision:u.SamplingDecision.NOT_RECORD,context:e,spanAttributes:l}),attributes:v}):E?{...ye({decision:u.SamplingDecision.RECORD_AND_SAMPLED,context:e,spanAttributes:l}),attributes:v}:{...ye({decision:u.SamplingDecision.NOT_RECORD,context:e,spanAttributes:l}),attributes:v}}toString(){return"SentrySampler"}},t.SentrySpanProcessor=class{constructor(e){W("SentrySpanProcessor"),this._exporter=new he(e)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(e,t){!function(e,t){const n=s.trace.getSpan(t);let r=P(t);n&&!n.spanContext().isRemote&&a.addChildSpanToSpan(n,e),n&&n.spanContext().isRemote&&e.setAttribute(d,!0),t===s.ROOT_CONTEXT&&(r={scope:a.getDefaultCurrentScope(),isolationScope:a.getDefaultIsolationScope()}),r&&a.setCapturedScopesOnSpan(e,r.scope,r.isolationScope),a.logSpanStart(e),Se([a.getClient(),"optionalAccess",e=>e.emit,"call",t=>t("spanStart",e)])}(e,t)}onEnd(e){!function(e){a.logSpanEnd(e),Se([a.getClient(),"optionalAccess",e=>e.emit,"call",t=>t("spanEnd",e)])}(e),this._exporter.export(e)}},t.addOpenTelemetryInstrumentation=function(...e){l.registerInstrumentations({instrumentations:e})},t.continueTrace=function(e,t){return a.continueTrace(e,(()=>function(e,t,n){const r=X(e,t);return s.context.with(r,n)}(s.context.active(),e,t)))},t.enhanceDscWithOpenTelemetryRootSpanName=function(e){e.on("createDsc",((e,t)=>{if(t){const n=(a.spanToJSON(t).data||{})[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],{description:r}=g(t)?x(t):{description:void 0};"url"!==n&&r&&(e.transaction=r)}}))},t.generateSpanContextForPropagationContext=G,t.getActiveSpan=D,t.getPropagationContextFromSpan=F,t.getRequestSpanData=b,t.getScopesFromContext=P,t.getSpanKind=S,t.isSentryRequestSpan=function(e){if(!h(e))return!1;const{attributes:t}=e,n=t[o.SEMATTRS_HTTP_URL];return!!n&&a.isSentryRequestUrl(n.toString(),a.getClient())},t.openTelemetrySetupCheck=function(){return Array.from(B)},t.setOpenTelemetryContextAsyncContextStrategy=function(){function e(){return P(s.context.active())||{scope:a.getDefaultCurrentScope(),isolationScope:a.getDefaultIsolationScope()}}function t(){return e().scope}function n(){return e().isolationScope}a.setAsyncContextStrategy({withScope:function(e){const n=s.context.active();return s.context.with(n,(()=>e(t())))},withSetScope:function(e,t){const n=s.context.active();return s.context.with(n.setValue(O,e),(()=>t(e)))},withSetIsolationScope:function(e,t){const r=s.context.active();return s.context.with(r.setValue(N,e),(()=>t(n())))},withIsolationScope:function(e){const t=s.context.active();return s.context.with(t.setValue(C,!0),(()=>e(n())))},getCurrentScope:t,getIsolationScope:n,startSpan:J,startSpanManual:K,startInactiveSpan:z,getActiveSpan:D,suppressTracing:ne,getTraceData:re,withActiveSpan:Q})},t.setupEventContextTrace=function(e){e.on("preprocessEvent",(e=>{const t=D();if(!t||"transaction"===e.type)return;const n=t.spanContext(),r=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([n,"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(v)]),o="string"==typeof r?r||void 0:_(t)?t.parentSpanId:void 0;e.contexts={trace:i.dropUndefinedKeys({trace_id:n.traceId,span_id:n.spanId,parent_span_id:o}),...e.contexts};const s=a.getRootSpan(t);return e.sdkProcessingMetadata={dynamicSamplingContext:a.getDynamicSamplingContextFromSpan(s),...e.sdkProcessingMetadata},e}))},t.spanHasAttributes=h,t.spanHasEvents=function(e){const t=e;return Array.isArray(t.events)},t.spanHasKind=f,t.spanHasName=g,t.spanHasParentId=_,t.spanHasStatus=m,t.startInactiveSpan=z,t.startSpan=J,t.startSpanManual=K,t.suppressTracing=ne,t.withActiveSpan=Q,t.wrapClientClass=function(e){return class extends e{constructor(...e){super(...e)}get tracer(){if(this._tracer)return this._tracer;const e=a.SDK_VERSION,t=s.trace.getTracer("@sentry/opentelemetry",e);return this._tracer=t,t}async flush(e){const t=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([this.traceProvider,"optionalAccess",e=>e.activeSpanProcessor]);return t&&await t.forceFlush(),super.flush(e)}}},t.wrapContextManagerClass=function(e){return class extends e{constructor(...e){super(...e),W("SentryContextManager")}with(e,t,n,...r){const o=P(e),s=oe([o,"optionalAccess",e=>e.scope])||a.getCurrentScope(),c=oe([o,"optionalAccess",e=>e.isolationScope])||a.getIsolationScope(),u=!0===e.getValue(C),l=e.getValue(O),d=e.getValue(N),p=l||s.clone(),h=M(e,{scope:p,isolationScope:d||(u?c.clone():c)}).deleteValue(C).deleteValue(O).deleteValue(N);return function(e,t){i.addNonEnumerableProperty(e,w,t)}(p,h),super.with(h,t,n,...r)}}},t.wrapSamplingDecision=ye},17939:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518),o=n(25551);function i(e,t,n,o,c,u,l,d){if(u.length>=n+1)return u;let p=[...u];if(r.isInstanceOf(o[c],Error)){s(l,d);const r=e(t,o[c]),u=p.length;a(r,c,u,d),p=i(e,t,n,o[c],c,[r,...p],r,u)}return Array.isArray(o.errors)&&o.errors.forEach(((o,u)=>{if(r.isInstanceOf(o,Error)){s(l,d);const r=e(t,o),h=p.length;a(r,`errors[${u}]`,h,d),p=i(e,t,n,o,c,[r,...p],r,h)}})),p}function s(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function a(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}t.applyAggregateErrorsToEvent=function(e,t,n=250,s,a,c,u){if(!(c.exception&&c.exception.values&&u&&r.isInstanceOf(u.originalException,Error)))return;const l=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var d,p;l&&(c.exception.values=(d=i(e,t,a,u.originalException,s,c.exception.values,l,0),p=n,d.map((e=>(e.value&&(e.value=o.truncate(e.value,p)),e)))))}},2275:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(13227),o=n(73877),i=n(64683);t.callFrameToStackFrame=function(e,t,n){const s=t?t.replace(/^file:\/\//,""):void 0,a=e.location.columnNumber?e.location.columnNumber+1:void 0,c=e.location.lineNumber?e.location.lineNumber+1:void 0;return o.dropUndefinedKeys({filename:s,module:n(s),function:e.functionName||i.UNKNOWN_FUNCTION,colno:a,lineno:c,in_app:s?r.filenameIsInApp(s):void 0})},t.watchdogTimer=function(e,t,n,r){const o=e();let i=!1,s=!0;return setInterval((()=>{const e=o.getTimeMs();!1===i&&e>t+n&&(i=!0,s&&r()),e<t+n&&(i=!1)}),20),{poll:()=>{o.reset()},enabled:e=>{s=e}}}},91545:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){const t=[],n=e=>{e.forEach((e=>{Array.isArray(e)?n(e):t.push(e)}))};return n(e),t}},47542:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(98750),o=n(70518),i=n(68030),s="sentry-",a=/^sentry-/;function c(e){if(e&&(o.isString(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=u(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{}):u(e)}function u(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}t.BAGGAGE_HEADER_NAME="baggage",t.MAX_BAGGAGE_STRING_LENGTH=8192,t.SENTRY_BAGGAGE_KEY_PREFIX=s,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=a,t.baggageHeaderToDynamicSamplingContext=function(e){const t=c(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(a)&&(e[t.slice(7)]=n),e)),{});return Object.keys(n).length>0?n:void 0},t.dynamicSamplingContextToSentryBaggageHeader=function(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,n],o)=>{const s=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,a=0===o?s:`${e},${s}`;return a.length>8192?(r.DEBUG_BUILD&&i.logger.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${s}${t}`]=n),e)),{}))},t.parseBaggageHeader=c},64796:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518),o=n(28355).GLOBAL_OBJ;function i(e,t){const n=e,i=[];if(!n||!n.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(s&&s.length)s.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&i.push(`#${n.id}`);const e=n.className;if(e&&r.isString(e)){const t=e.split(/\s+/);for(const e of t)i.push(`.${e}`)}}const a=["aria-label","type","name","title","alt"];for(const e of a){const t=n.getAttribute(e);t&&i.push(`[${e}="${t}"]`)}return i.join("")}t.getComponentName=function(e){if(!o.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null},t.getDomElement=function(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null},t.getLocationHref=function(){try{return o.document.location.href}catch(e){return""}},t.htmlTreeAsString=function(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let s=0,a=0;const c=" > ",u=c.length;let l;const d=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<r&&(l=i(n,d),!("html"===l||s>1&&a+o.length*u+l.length>=p));)o.push(l),a+=l.length,n=n.parentNode;return o.reverse().join(c)}catch(e){return"<unknown>"}}},50652:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(33050);t._asyncNullishCoalesce=async function(e,t){return r._nullishCoalesce(e,t)}},96885:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._asyncOptionalChain=async function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=await i(n)):"call"!==o&&"optionalCall"!==o||(n=await i(((...e)=>n.call(t,...e))),t=void 0)}return n}},6798:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(96885);t._asyncOptionalChainDelete=async function(e){const t=await r._asyncOptionalChain(e);return null==t||t}},33050:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._nullishCoalesce=function(e,t){return null!=e?e:t()}},40271:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._optionalChain=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}},72160:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(40271);t._optionalChainDelete=function(e){const t=r._optionalChain(e);return null==t||t}},38646:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeFifoCache=function(e){let t=[],n={};return{add(r,o){for(;t.length>=e;){const e=t.shift();void 0!==e&&delete n[e]}n[r]&&this.delete(r),t.push(r),n[r]=o},clear(){n={},t=[]},get:e=>n[e],size:()=>t.length,delete(e){if(!n[e])return!1;delete n[e];for(let n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}return!0}}}},55371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(23374),o=n(86867);t.createClientReportEnvelope=function(e,t,n){const i=[{type:"client_report"},{timestamp:n||o.dateTimestampInSeconds(),discarded_events:e}];return r.createEnvelope(t?{dsn:t}:{},[i])}},65396:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseCookie=function(e){const t={};let n=0;for(;n<e.length;){const r=e.indexOf("=",n);if(-1===r)break;let o=e.indexOf(";",n);if(-1===o)o=e.length;else if(o<r){n=e.lastIndexOf(";",r-1)+1;continue}const i=e.slice(n,r).trim();if(void 0===t[i]){let n=e.slice(r+1,o).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{t[i]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch(e){t[i]=n}}n=o+1}return t}},98750:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},27605:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(98750),o=n(68030),i=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function s(e){const t=i.exec(e);if(!t)return void o.consoleSandbox((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,s="",c="",u="",l=""]=t.slice(1);let d="",p=l;const h=p.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),p=h.pop()),p){const e=p.match(/^\d+/);e&&(p=e[0])}return a({host:c,pass:s,path:d,projectId:p,port:u,protocol:n,publicKey:r})}function a(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}t.dsnFromString=s,t.dsnToString=function(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`},t.makeDsn=function(e){const t="string"==typeof e?s(e):a(e);if(t&&function(e){if(!r.DEBUG_BUILD)return!0;const{port:t,projectId:n,protocol:i}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(i)?t&&isNaN(parseInt(t,10))&&(o.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}},62827:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKSource=function(){return"npm"},t.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},23374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(27605),o=n(95027),i=n(73877),s=n(28355);function a(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function c(e){return s.GLOBAL_OBJ.__SENTRY__&&s.GLOBAL_OBJ.__SENTRY__.encodePolyfill?s.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}const u={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};t.addItemToEnvelope=function(e,t){const[n,r]=e;return[n,[...r,t]]},t.createAttachmentEnvelopeItem=function(e){const t="string"==typeof e.data?c(e.data):e.data;return[i.dropUndefinedKeys({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]},t.createEnvelope=function(e,t=[]){return[e,t]},t.createEventEnvelopeHeaders=function(e,t,n,o){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:r.dsnToString(o)},...s&&{trace:i.dropUndefinedKeys({...s})}}},t.createSpanEnvelopeItem=function(e){return[{type:"span"},e]},t.envelopeContainsItemType=function(e,t){return a(e,((e,n)=>t.includes(n)))},t.envelopeItemTypeToDataCategory=function(e){return u[e]},t.forEachEnvelopeItem=a,t.getSdkMetadataForEnvelopeHeader=function(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}},t.parseEnvelope=function(e){let t="string"==typeof e?c(e):e;function n(e){const n=t.subarray(0,e);return t=t.subarray(e+1),n}function r(){let e=t.indexOf(10);return e<0&&(e=t.length),JSON.parse((r=n(e),s.GLOBAL_OBJ.__SENTRY__&&s.GLOBAL_OBJ.__SENTRY__.decodePolyfill?s.GLOBAL_OBJ.__SENTRY__.decodePolyfill(r):(new TextDecoder).decode(r)));var r}const o=r(),i=[];for(;t.length;){const e=r(),t="number"==typeof e.length?e.length:void 0;i.push([e,t?n(t):r()])}return[o,i]},t.serializeEnvelope=function(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[c(r),e]:r.push("string"==typeof e?c(e):e)}for(const e of n){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(o.normalize(n))}i(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}},74610:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}t.SentryError=n},94521:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518),o=n(5258),i=n(95027),s=n(73877);function a(e,t){return e(t.stack||"",1)}function c(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=a(e,t);return r.length&&(n.stacktrace={frames:r}),n}function u(e,t,n,o){if(r.isError(n))return[n,void 0];if(t.synthetic=!0,r.isPlainObject(n)){const t=e&&e.getOptions().normalizeDepth,a={__serialized__:i.normalizeToSize(n,t)},c=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(n);if(c)return[c,a];const u=function(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;const t=s.extractExceptionKeysForMessage(e);if(r.isErrorEvent(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;const n=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${t}`}(n),l=o&&o.syntheticException||new Error(u);return l.message=u,[l,a]}const a=o&&o.syntheticException||new Error(n);return a.message=`${n}`,[a,void 0]}t.eventFromMessage=function(e,t,n="info",o,i){const s={event_id:o&&o.event_id,level:n};if(i&&o&&o.syntheticException){const n=a(e,o.syntheticException);n.length&&(s.exception={values:[{value:t,stacktrace:{frames:n}}]})}if(r.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s},t.eventFromUnknownInput=function(e,t,n,r){const i=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"},[s,a]=u(e,i,n,r),l={exception:{values:[c(t,s)]}};return a&&(l.extra=a),o.addExceptionTypeValue(l,void 0,void 0),o.addExceptionMechanism(l,i),{...l,event_id:r&&r.event_id}},t.exceptionFromError=c,t.parseStackFrames=a},24320:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(17939),o=n(91545),i=n(64796),s=n(27605),a=n(74610),c=n(28355),u=n(92717),l=n(77560),d=n(6127),p=n(85855),h=n(17951),f=n(70518),m=n(47756),g=n(68030),_=n(76536),b=n(5258),S=n(19950),y=n(95027),E=n(73877),T=n(37417),v=n(93731),I=n(653),R=n(78773),A=n(64683),C=n(13227),O=n(25551),N=n(28786),w=n(64920),P=n(86867),M=n(68578),L=n(62827),x=n(23374),k=n(55371),G=n(42469),D=n(47542),U=n(90465),V=n(38646),Z=n(94521),B=n(2275),W=n(49461),j=n(50652),F=n(96885),H=n(6798),Y=n(33050),X=n(40271),J=n(72160),K=n(18871),z=n(79276),Q=n(59747),$=n(54551);t.applyAggregateErrorsToEvent=r.applyAggregateErrorsToEvent,t.flatten=o.flatten,t.getComponentName=i.getComponentName,t.getDomElement=i.getDomElement,t.getLocationHref=i.getLocationHref,t.htmlTreeAsString=i.htmlTreeAsString,t.dsnFromString=s.dsnFromString,t.dsnToString=s.dsnToString,t.makeDsn=s.makeDsn,t.SentryError=a.SentryError,t.GLOBAL_OBJ=c.GLOBAL_OBJ,t.getGlobalSingleton=c.getGlobalSingleton,t.addConsoleInstrumentationHandler=u.addConsoleInstrumentationHandler,t.addFetchEndInstrumentationHandler=l.addFetchEndInstrumentationHandler,t.addFetchInstrumentationHandler=l.addFetchInstrumentationHandler,t.addGlobalErrorInstrumentationHandler=d.addGlobalErrorInstrumentationHandler,t.addGlobalUnhandledRejectionInstrumentationHandler=p.addGlobalUnhandledRejectionInstrumentationHandler,t.addHandler=h.addHandler,t.maybeInstrument=h.maybeInstrument,t.resetInstrumentationHandlers=h.resetInstrumentationHandlers,t.triggerHandlers=h.triggerHandlers,t.isDOMError=f.isDOMError,t.isDOMException=f.isDOMException,t.isElement=f.isElement,t.isError=f.isError,t.isErrorEvent=f.isErrorEvent,t.isEvent=f.isEvent,t.isInstanceOf=f.isInstanceOf,t.isParameterizedString=f.isParameterizedString,t.isPlainObject=f.isPlainObject,t.isPrimitive=f.isPrimitive,t.isRegExp=f.isRegExp,t.isString=f.isString,t.isSyntheticEvent=f.isSyntheticEvent,t.isThenable=f.isThenable,t.isVueViewModel=f.isVueViewModel,t.isBrowser=m.isBrowser,t.CONSOLE_LEVELS=g.CONSOLE_LEVELS,t.consoleSandbox=g.consoleSandbox,t.logger=g.logger,t.originalConsoleMethods=g.originalConsoleMethods,t.memoBuilder=_.memoBuilder,t.addContextToFrame=b.addContextToFrame,t.addExceptionMechanism=b.addExceptionMechanism,t.addExceptionTypeValue=b.addExceptionTypeValue,t.arrayify=b.arrayify,t.checkOrSetAlreadyCaught=b.checkOrSetAlreadyCaught,t.getEventDescription=b.getEventDescription,t.parseSemver=b.parseSemver,t.uuid4=b.uuid4,t.dynamicRequire=S.dynamicRequire,t.isNodeEnv=S.isNodeEnv,t.loadModule=S.loadModule,t.normalize=y.normalize,t.normalizeToSize=y.normalizeToSize,t.normalizeUrlToBase=y.normalizeUrlToBase,t.addNonEnumerableProperty=E.addNonEnumerableProperty,t.convertToPlainObject=E.convertToPlainObject,t.dropUndefinedKeys=E.dropUndefinedKeys,t.extractExceptionKeysForMessage=E.extractExceptionKeysForMessage,t.fill=E.fill,t.getOriginalFunction=E.getOriginalFunction,t.markFunctionWrapped=E.markFunctionWrapped,t.objectify=E.objectify,t.urlEncode=E.urlEncode,t.basename=T.basename,t.dirname=T.dirname,t.isAbsolute=T.isAbsolute,t.join=T.join,t.normalizePath=T.normalizePath,t.relative=T.relative,t.resolve=T.resolve,t.makePromiseBuffer=v.makePromiseBuffer,t.DEFAULT_USER_INCLUDES=I.DEFAULT_USER_INCLUDES,t.addRequestDataToEvent=I.addRequestDataToEvent,t.extractPathForTransaction=I.extractPathForTransaction,t.extractRequestData=I.extractRequestData,t.winterCGHeadersToDict=I.winterCGHeadersToDict,t.winterCGRequestToRequestData=I.winterCGRequestToRequestData,t.severityLevelFromString=R.severityLevelFromString,t.validSeverityLevels=R.validSeverityLevels,t.UNKNOWN_FUNCTION=A.UNKNOWN_FUNCTION,t.createStackParser=A.createStackParser,t.getFramesFromEvent=A.getFramesFromEvent,t.getFunctionName=A.getFunctionName,t.stackParserFromStackParserOptions=A.stackParserFromStackParserOptions,t.stripSentryFramesAndReverse=A.stripSentryFramesAndReverse,t.filenameIsInApp=C.filenameIsInApp,t.node=C.node,t.nodeStackLineParser=C.nodeStackLineParser,t.isMatchingPattern=O.isMatchingPattern,t.safeJoin=O.safeJoin,t.snipLine=O.snipLine,t.stringMatchesSomePattern=O.stringMatchesSomePattern,t.truncate=O.truncate,t.isNativeFunction=N.isNativeFunction,t.supportsDOMError=N.supportsDOMError,t.supportsDOMException=N.supportsDOMException,t.supportsErrorEvent=N.supportsErrorEvent,t.supportsFetch=N.supportsFetch,t.supportsNativeFetch=N.supportsNativeFetch,t.supportsReferrerPolicy=N.supportsReferrerPolicy,t.supportsReportingObserver=N.supportsReportingObserver,t.SyncPromise=w.SyncPromise,t.rejectedSyncPromise=w.rejectedSyncPromise,t.resolvedSyncPromise=w.resolvedSyncPromise,Object.defineProperty(t,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>P._browserPerformanceTimeOriginMode}),t.browserPerformanceTimeOrigin=P.browserPerformanceTimeOrigin,t.dateTimestampInSeconds=P.dateTimestampInSeconds,t.timestampInSeconds=P.timestampInSeconds,t.TRACEPARENT_REGEXP=M.TRACEPARENT_REGEXP,t.extractTraceparentData=M.extractTraceparentData,t.generateSentryTraceHeader=M.generateSentryTraceHeader,t.propagationContextFromHeaders=M.propagationContextFromHeaders,t.getSDKSource=L.getSDKSource,t.isBrowserBundle=L.isBrowserBundle,t.addItemToEnvelope=x.addItemToEnvelope,t.createAttachmentEnvelopeItem=x.createAttachmentEnvelopeItem,t.createEnvelope=x.createEnvelope,t.createEventEnvelopeHeaders=x.createEventEnvelopeHeaders,t.createSpanEnvelopeItem=x.createSpanEnvelopeItem,t.envelopeContainsItemType=x.envelopeContainsItemType,t.envelopeItemTypeToDataCategory=x.envelopeItemTypeToDataCategory,t.forEachEnvelopeItem=x.forEachEnvelopeItem,t.getSdkMetadataForEnvelopeHeader=x.getSdkMetadataForEnvelopeHeader,t.parseEnvelope=x.parseEnvelope,t.serializeEnvelope=x.serializeEnvelope,t.createClientReportEnvelope=k.createClientReportEnvelope,t.DEFAULT_RETRY_AFTER=G.DEFAULT_RETRY_AFTER,t.disabledUntil=G.disabledUntil,t.isRateLimited=G.isRateLimited,t.parseRetryAfterHeader=G.parseRetryAfterHeader,t.updateRateLimits=G.updateRateLimits,t.BAGGAGE_HEADER_NAME=D.BAGGAGE_HEADER_NAME,t.MAX_BAGGAGE_STRING_LENGTH=D.MAX_BAGGAGE_STRING_LENGTH,t.SENTRY_BAGGAGE_KEY_PREFIX=D.SENTRY_BAGGAGE_KEY_PREFIX,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=D.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,t.baggageHeaderToDynamicSamplingContext=D.baggageHeaderToDynamicSamplingContext,t.dynamicSamplingContextToSentryBaggageHeader=D.dynamicSamplingContextToSentryBaggageHeader,t.parseBaggageHeader=D.parseBaggageHeader,t.getNumberOfUrlSegments=U.getNumberOfUrlSegments,t.getSanitizedUrlString=U.getSanitizedUrlString,t.parseUrl=U.parseUrl,t.stripUrlQueryAndFragment=U.stripUrlQueryAndFragment,t.makeFifoCache=V.makeFifoCache,t.eventFromMessage=Z.eventFromMessage,t.eventFromUnknownInput=Z.eventFromUnknownInput,t.exceptionFromError=Z.exceptionFromError,t.parseStackFrames=Z.parseStackFrames,t.callFrameToStackFrame=B.callFrameToStackFrame,t.watchdogTimer=B.watchdogTimer,t.LRUMap=W.LRUMap,t._asyncNullishCoalesce=j._asyncNullishCoalesce,t._asyncOptionalChain=F._asyncOptionalChain,t._asyncOptionalChainDelete=H._asyncOptionalChainDelete,t._nullishCoalesce=Y._nullishCoalesce,t._optionalChain=X._optionalChain,t._optionalChainDelete=J._optionalChainDelete,t.generatePropagationContext=K.generatePropagationContext,t.SDK_VERSION=z.SDK_VERSION,t.escapeStringForRegex=Q.escapeStringForRegex,t.supportsHistory=$.supportsHistory},92717:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(68030),o=n(73877),i=n(28355),s=n(17951);function a(){"console"in i.GLOBAL_OBJ&&r.CONSOLE_LEVELS.forEach((function(e){e in i.GLOBAL_OBJ.console&&o.fill(i.GLOBAL_OBJ.console,e,(function(t){return r.originalConsoleMethods[e]=t,function(...t){const n={args:t,level:e};s.triggerHandlers("console",n);const o=r.originalConsoleMethods[e];o&&o.apply(i.GLOBAL_OBJ.console,t)}}))}))}t.addConsoleInstrumentationHandler=function(e){const t="console";s.addHandler(t,e),s.maybeInstrument(t,a)}},77560:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518),o=n(73877),i=n(28786),s=n(86867),a=n(28355),c=n(17951);function u(e,t=!1){t&&!i.supportsNativeFetch()||o.fill(a.GLOBAL_OBJ,"fetch",(function(t){return function(...n){const{method:i,url:u}=h(n),l={args:n,fetchData:{method:i,url:u},startTimestamp:1e3*s.timestampInSeconds()};e||c.triggerHandlers("fetch",{...l});const d=(new Error).stack;return t.apply(a.GLOBAL_OBJ,n).then((async t=>(e?e(t):c.triggerHandlers("fetch",{...l,endTimestamp:1e3*s.timestampInSeconds(),response:t}),t)),(e=>{throw c.triggerHandlers("fetch",{...l,endTimestamp:1e3*s.timestampInSeconds(),error:e}),r.isError(e)&&void 0===e.stack&&(e.stack=d,o.addNonEnumerableProperty(e,"framesToPop",1)),e}))}}))}async function l(e){let t;try{t=e.clone()}catch(e){return}await async function(t){if(t&&t.body&&t.body.getReader){const n=t.body.getReader();return n.read().then((async function e({done:t}){if(t)return Promise.resolve();try{const t=await Promise.race([n.read(),new Promise((e=>{setTimeout((()=>{e({done:!0})}),5e3)}))]);await e(t)}catch(e){}})).then((()=>{c.triggerHandlers("fetch-body-resolved",{endTimestamp:1e3*s.timestampInSeconds(),response:e})})).catch((()=>{}))}}(t)}function d(e,t){return!!e&&"object"==typeof e&&!!e[t]}function p(e){return"string"==typeof e?e:e?d(e,"url")?e.url:e.toString?e.toString():"":""}function h(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:p(t),method:d(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:p(t),method:d(t,"method")?String(t.method).toUpperCase():"GET"}}t.addFetchEndInstrumentationHandler=function(e){const t="fetch-body-resolved";c.addHandler(t,e),c.maybeInstrument(t,(()=>u(l)))},t.addFetchInstrumentationHandler=function(e,t){const n="fetch";c.addHandler(n,e),c.maybeInstrument(n,(()=>u(void 0,t)))},t.parseFetchArgs=h},6127:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(28355),o=n(17951);let i=null;function s(){i=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(e,t,n,r,s){const a={column:r,error:s,line:n,msg:e,url:t};return o.triggerHandlers("error",a),!(!i||i.__SENTRY_LOADER__)&&i.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}t.addGlobalErrorInstrumentationHandler=function(e){const t="error";o.addHandler(t,e),o.maybeInstrument(t,s)}},85855:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(28355),o=n(17951);let i=null;function s(){i=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return o.triggerHandlers("unhandledrejection",t),!(i&&!i.__SENTRY_LOADER__)||i.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}t.addGlobalUnhandledRejectionInstrumentationHandler=function(e){const t="unhandledrejection";o.addHandler(t,e),o.maybeInstrument(t,s)}},17951:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(98750),o=n(68030),i=n(64683),s={},a={};t.addHandler=function(e,t){s[e]=s[e]||[],s[e].push(t)},t.maybeInstrument=function(e,t){a[e]||(t(),a[e]=!0)},t.resetInstrumentationHandlers=function(){Object.keys(s).forEach((e=>{s[e]=void 0}))},t.triggerHandlers=function(e,t){const n=e&&s[e];if(n)for(const s of n)try{s(t)}catch(t){r.DEBUG_BUILD&&o.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${i.getFunctionName(s)}\nError:`,t)}}},70518:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=Object.prototype.toString;function r(e,t){return n.call(e)===`[object ${t}]`}function o(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function i(e){return r(e,"Object")}function s(e,t){try{return e instanceof t}catch(e){return!1}}t.isDOMError=function(e){return r(e,"DOMError")},t.isDOMException=function(e){return r(e,"DOMException")},t.isElement=function(e){return"undefined"!=typeof Element&&s(e,Element)},t.isError=function(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return s(e,Error)}},t.isErrorEvent=function(e){return r(e,"ErrorEvent")},t.isEvent=function(e){return"undefined"!=typeof Event&&s(e,Event)},t.isInstanceOf=s,t.isParameterizedString=o,t.isPlainObject=i,t.isPrimitive=function(e){return null===e||o(e)||"object"!=typeof e&&"function"!=typeof e},t.isRegExp=function(e){return r(e,"RegExp")},t.isString=function(e){return r(e,"String")},t.isSyntheticEvent=function(e){return i(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},t.isThenable=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)},t.isVueViewModel=function(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},47756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(19950),o=n(28355);t.isBrowser=function(){return"undefined"!=typeof window&&(!r.isNodeEnv()||void 0!==o.GLOBAL_OBJ.process&&"renderer"===o.GLOBAL_OBJ.process.type)}},68030:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(98750),o=n(28355),i=["debug","info","warn","error","log","assert","trace"],s={};function a(e){if(!("console"in o.GLOBAL_OBJ))return e();const t=o.GLOBAL_OBJ.console,n={},r=Object.keys(s);r.forEach((e=>{const r=s[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const c=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.DEBUG_BUILD?i.forEach((n=>{t[n]=(...t)=>{e&&a((()=>{o.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}();t.CONSOLE_LEVELS=i,t.consoleSandbox=a,t.logger=c,t.originalConsoleMethods=s},49461:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=class{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){const t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,t)}remove(e){const t=this._cache.get(e);return t&&this._cache.delete(e),t}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const e=[];return this._cache.forEach((t=>e.push(t))),e}}},76536:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.memoBuilder=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}},5258:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(73877),o=n(25551),i=n(28355);function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function c(e){return parseInt(e||"",10)}t.addContextToFrame=function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map((e=>o.snipLine(e,0)));const s=Math.min(r-1,i);t.context_line=o.snipLine(e[s],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map((e=>o.snipLine(e,0)))},t.addExceptionMechanism=function(e,t){const n=s(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}},t.addExceptionTypeValue=function(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")},t.arrayify=function(e){return Array.isArray(e)?e:[e]},t.checkOrSetAlreadyCaught=function(e){if(e&&e.__sentry_captured__)return!0;try{r.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(e){}return!1},t.getEventDescription=function(e){const{message:t,event_id:n}=e;if(t)return t;const r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},t.parseSemver=function(e){const t=e.match(a)||[],n=c(t[1]),r=c(t[2]),o=c(t[3]);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(o)?void 0:o,prerelease:t[4]}},t.uuid4=function(){const e=i.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}},13227:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(64683);function o(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//)||void 0===e||e.includes("node_modules/"))}function i(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return i=>{const a=i.match(n);if(a){let t,n,i,c,u;if(a[1]){i=a[1];let e=i.lastIndexOf(".");if("."===i[e-1]&&e--,e>0){t=i.slice(0,e),n=i.slice(e+1);const r=t.indexOf(".Module");r>0&&(i=i.slice(r+1),t=t.slice(0,r))}c=void 0}n&&(c=t,u=n),"<anonymous>"===n&&(u=void 0,i=void 0),void 0===i&&(u=u||r.UNKNOWN_FUNCTION,i=c?`${c}.${u}`:u);let l=a[2]&&a[2].startsWith("file://")?a[2].slice(7):a[2];const d="native"===a[5];return l&&l.match(/\/[A-Z]:/)&&(l=l.slice(1)),l||!a[5]||d||(l=a[5]),{filename:l,module:e?e(l):void 0,function:i,lineno:s(a[3]),colno:s(a[4]),in_app:o(l||"",d)}}if(i.match(t))return{filename:i}}}function s(e){return parseInt(e||"",10)||void 0}t.filenameIsInApp=o,t.node=i,t.nodeStackLineParser=function(e){return[90,i(e)]}},19950:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});const r=n(62827);function o(e,t){return e.require(t)}t.dynamicRequire=o,t.isNodeEnv=function(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},t.loadModule=function(t){let n;try{n=o(e,t)}catch(e){}try{const{cwd:r}=o(e,"process");n=o(e,`${r()}/node_modules/${t}`)}catch(e){}return n}},95027:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518),o=n(76536),i=n(73877),s=n(64683);function a(e,t=100,n=1/0){try{return c("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function c(e,t,n=1/0,a=1/0,u=o.memoBuilder()){const[l,d]=u;if(null==t||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const p=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(r.isVueViewModel(t))return"[VueViewModel]";if(r.isSyntheticEvent(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${s.getFunctionName(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!p.startsWith("[object "))return p;if(t.__sentry_skip_normalization__)return t;const h="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===h)return p.replace("object ","");if(l(t))return"[Circular ~]";const f=t;if(f&&"function"==typeof f.toJSON)try{return c("",f.toJSON(),h-1,a,u)}catch(e){}const m=Array.isArray(t)?[]:{};let g=0;const _=i.convertToPlainObject(t);for(const e in _){if(!Object.prototype.hasOwnProperty.call(_,e))continue;if(g>=a){m[e]="[MaxProperties ~]";break}const t=_[e];m[e]=c(e,t,h-1,a,u),g++}return d(t),m}t.normalize=a,t.normalizeToSize=function e(t,n=3,r=102400){const o=a(t,n);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>r?e(t,n-1,r):o;var i},t.normalizeUrlToBase=function(e,t){const n=t.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let r=e;try{r=decodeURI(e)}catch(e){}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${n}/*`,"ig"),"app:///")}},73877:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(64796),o=n(98750),i=n(70518),s=n(68030),a=n(25551);function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){o.DEBUG_BUILD&&s.logger.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(e){}}function l(e){if(i.isError(e))return{message:e.message,name:e.name,stack:e.stack,...p(e)};if(i.isEvent(e)){const t={type:e.type,target:d(e.target),currentTarget:d(e.currentTarget),...p(e)};return"undefined"!=typeof CustomEvent&&i.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function d(e){try{return i.isElement(e)?r.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function p(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function h(e,t){if(function(e){if(!i.isPlainObject(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=h(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(h(e,t))})),r}return e}t.addNonEnumerableProperty=c,t.convertToPlainObject=l,t.dropUndefinedKeys=function(e){return h(e,new Map)},t.extractExceptionKeysForMessage=function(e,t=40){const n=Object.keys(l(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return a.truncate(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:a.truncate(r,t)}return""},t.fill=function(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&u(o,r),e[t]=o},t.getOriginalFunction=function(e){return e.__sentry_original__},t.markFunctionWrapped=u,t.objectify=function(e){let t;switch(!0){case null==e:t=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:t=Object(e);break;case i.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t},t.urlEncode=function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}},37417:(e,t)=>{function n(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}Object.defineProperty(t,"__esModule",{value:!0});const r=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function o(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=r.exec(t);return n?n.slice(1):[]}function i(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){const o=n>=0?e[n]:"/";o&&(t=`${o}/${t}`,r="/"===o.charAt(0))}return t=n(t.split("/").filter((e=>!!e)),!r).join("/"),(r?"/":"")+t||"."}function s(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function a(e){const t=c(e),r="/"===e.slice(-1);let o=n(e.split("/").filter((e=>!!e)),!t).join("/");return o||t||(o="."),o&&r&&(o+="/"),(t?"/":"")+o}function c(e){return"/"===e.charAt(0)}t.basename=function(e,t){let n=o(e)[2]||"";return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n},t.dirname=function(e){const t=o(e),n=t[0]||"";let r=t[1];return n||r?(r&&(r=r.slice(0,r.length-1)),n+r):"."},t.isAbsolute=c,t.join=function(...e){return a(e.join("/"))},t.normalizePath=a,t.relative=function(e,t){e=i(e).slice(1),t=i(t).slice(1);const n=s(e.split("/")),r=s(t.split("/")),o=Math.min(n.length,r.length);let a=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){a=e;break}let c=[];for(let e=a;e<n.length;e++)c.push("..");return c=c.concat(r.slice(a)),c.join("/")},t.resolve=i},93731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(74610),o=n(64920);t.makePromiseBuffer=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(i){if(!(void 0===e||t.length<e))return o.rejectedSyncPromise(new r.SentryError("Not adding Promise because buffer limit was reached."));const s=i();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new o.SyncPromise(((n,r)=>{let i=t.length;if(!i)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{o.resolvedSyncPromise(e).then((()=>{--i||(clearTimeout(s),n(!0))}),r)}))}))}}}},18871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5258);t.generatePropagationContext=function(){return{traceId:r.uuid4(),spanId:r.uuid4().substring(16)}}},42469:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function n(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function r(e,t){return e[t]||e.all||0}t.DEFAULT_RETRY_AFTER=6e4,t.disabledUntil=r,t.isRateLimited=function(e,t,n=Date.now()){return r(e,t)>n},t.parseRetryAfterHeader=n,t.updateRateLimits=function(e,{statusCode:t,headers:r},o=Date.now()){const i={...e},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n,,,r]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(i[e]=o+a);else i.all=o+a}else a?i.all=o+n(a,o):429===t&&(i.all=o+6e4);return i}},653:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(65396),o=n(98750),i=n(70518),s=n(68030),a=n(95027),c=n(90465),u=n(25972),l={ip:!1,request:!0,transaction:!0,user:!0},d=["cookies","data","headers","method","query_string","url"],p=["id","username","email"];function h(e,t={}){const n=e.method&&e.method.toUpperCase();let r="",o="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(r=c.stripUrlQueryAndFragment(e.originalUrl||e.url||""));let i="";return t.method&&n&&(i+=n),t.method&&t.path&&(i+=" "),t.path&&r&&(i+=r),[i,o]}function f(e,t={}){const{include:n=d}=t,o={},s=e.headers||{},c=e.method,l=s.host||e.hostname||e.host||"<no host>",p="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",h=e.originalUrl||e.url||"",f=h.startsWith(p)?h:`${p}://${l}${h}`;return n.forEach((t=>{switch(t){case"headers":o.headers=s,n.includes("cookies")||delete o.headers.cookie,n.includes("ip")||u.ipHeaderNames.forEach((e=>{delete o.headers[e]}));break;case"method":o.method=c;break;case"url":o.url=f;break;case"cookies":o.cookies=e.cookies||s.cookie&&r.parseCookie(s.cookie)||{};break;case"query_string":o.query_string=function(e){let t=e.originalUrl||e.url||"";if(t){t.startsWith("/")&&(t=`http://dogs.are.great${t}`);try{const n=e.query||new URL(t).search.slice(1);return n.length?n:void 0}catch(e){return}}}(e);break;case"data":if("GET"===c||"HEAD"===c)break;void 0!==e.body&&(o.data=i.isString(e.body)?e.body:JSON.stringify(a.normalize(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(o[t]=e[t])}})),o}function m(e){const t={};try{e.forEach(((e,n)=>{"string"==typeof e&&(t[n]=e)}))}catch(e){o.DEBUG_BUILD&&s.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return t}t.DEFAULT_USER_INCLUDES=p,t.addRequestDataToEvent=function(e,t,n){const r={...l,...n&&n.include};if(r.request){const n=Array.isArray(r.request)?[...r.request]:[...d];r.ip&&n.push("ip");const o=f(t,{include:n});e.request={...e.request,...o}}if(r.user){const n=t.user&&i.isPlainObject(t.user)?function(e,t){const n={};return(Array.isArray(t)?t:p).forEach((t=>{e&&t in e&&(n[t]=e[t])})),n}(t.user,r.user):{};Object.keys(n).length&&(e.user={...e.user,...n})}if(r.ip){const n=t.headers&&u.getClientIPAddress(t.headers)||t.ip||t.socket&&t.socket.remoteAddress;n&&(e.user={...e.user,ip_address:n})}return r.transaction&&!e.transaction&&"transaction"===e.type&&(e.transaction=function(e,t){switch(t){case"path":return h(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return h(e,{path:!0,method:!0,customRoute:e._reconstructedRoute?e._reconstructedRoute:void 0})[0]}}(t,r.transaction)),e},t.extractPathForTransaction=h,t.extractRequestData=f,t.winterCGHeadersToDict=m,t.winterCGRequestToRequestData=function(e){const t=m(e.headers);return{method:e.method,url:e.url,headers:t}}},78773:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=["fatal","error","warning","log","info","debug"];t.severityLevelFromString=function(e){return"warn"===e?"warning":n.includes(e)?e:"log"},t.validSeverityLevels=n},64683:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=50,r="?",o=/\(error: (.*)\)/,i=/captureMessage|captureException/;function s(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,r=0,i=0)=>{const s=[],c=e.split("\n");for(let e=r;e<c.length;e++){const r=c[e];if(r.length>1024)continue;const a=o.test(r)?r.replace(o,"$1"):r;if(!a.match(/\S*Error: /)){for(const e of t){const t=e(a);if(t){s.push(t);break}}if(s.length>=n+i)break}}return a(s.slice(i))}}function a(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(c(t).function||"")&&t.pop(),t.reverse(),i.test(c(t).function||"")&&(t.pop(),i.test(c(t).function||"")&&t.pop()),t.slice(0,n).map((e=>({...e,filename:e.filename||c(t).filename,function:e.function||r})))}function c(e){return e[e.length-1]||{}}const u="<anonymous>";t.UNKNOWN_FUNCTION=r,t.createStackParser=s,t.getFramesFromEvent=function(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}},t.getFunctionName=function(e){try{return e&&"function"==typeof e&&e.name||u}catch(e){return u}},t.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?s(...e):e},t.stripSentryFramesAndReverse=a},25551:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518);function o(e,t,n=!1){return!!r.isString(e)&&(r.isRegExp(t)?t.test(e):!!r.isString(t)&&(n?e===t:e.includes(t)))}t.isMatchingPattern=o,t.safeJoin=function(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{r.isVueViewModel(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)},t.snipLine=function(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n},t.stringMatchesSomePattern=function(e,t=[],n=!1){return t.some((t=>o(e,t,n)))},t.truncate=function(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}},28786:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(98750),o=n(68030),i=n(28355).GLOBAL_OBJ;function s(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}t.isNativeFunction=a,t.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},t.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},t.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},t.supportsFetch=s,t.supportsNativeFetch=function(){if("string"==typeof EdgeRuntime)return!0;if(!s())return!1;if(a(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=a(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){r.DEBUG_BUILD&&o.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e},t.supportsReferrerPolicy=function(){if(!s())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},t.supportsReportingObserver=function(){return"ReportingObserver"in i}},64920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70518);var o;!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(o||(o={}));class i{constructor(e){i.prototype.__init.call(this),i.prototype.__init2.call(this),i.prototype.__init3.call(this),i.prototype.__init4.call(this),this._state=o.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new i(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new i(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(o.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(o.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===o.PENDING&&(r.isThenable(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===o.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===o.RESOLVED&&e[1](this._value),this._state===o.REJECTED&&e[2](this._value),e[0]=!0)}))}}}t.SyncPromise=i,t.rejectedSyncPromise=function(e){return new i(((t,n)=>{n(e)}))},t.resolvedSyncPromise=function(e){return new i((t=>{t(e)}))}},86867:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(28355);function o(){return Date.now()/1e3}const i=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return o;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();t._browserPerformanceTimeOriginMode=void 0;const s=(()=>{const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return void(t._browserPerformanceTimeOriginMode="none");const n=36e5,o=e.now(),i=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+o-i):n,a=s<n,c=e.timing&&e.timing.navigationStart,u="number"==typeof c?Math.abs(c+o-i):n;return a||u<n?s<=u?(t._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(t._browserPerformanceTimeOriginMode="navigationStart",c):(t._browserPerformanceTimeOriginMode="dateNow",i)})();t.browserPerformanceTimeOrigin=s,t.dateTimestampInSeconds=o,t.timestampInSeconds=i},68578:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(47542),o=n(5258),i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function s(e){if(!e)return;const t=e.match(i);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}t.TRACEPARENT_REGEXP=i,t.extractTraceparentData=s,t.generateSentryTraceHeader=function(e=o.uuid4(),t=o.uuid4().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`},t.propagationContextFromHeaders=function(e,t){const n=s(e),i=r.baggageHeaderToDynamicSamplingContext(t),{traceId:a,parentSpanId:c,parentSampled:u}=n||{};return n?{traceId:a||o.uuid4(),parentSpanId:c||o.uuid4().substring(16),spanId:o.uuid4().substring(16),sampled:u,dsc:i||{}}:{traceId:a||o.uuid4(),spanId:o.uuid4().substring(16)}}},90465:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfUrlSegments=function(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length},t.getSanitizedUrlString=function(e){const{protocol:t,host:n,path:r}=e;return`${t?`${t}://`:""}${n&&n.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||""}${r}`},t.parseUrl=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}},t.stripUrlQueryAndFragment=function(e){return e.split(/[?#]/,1)[0]}},59747:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},25972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"];t.getClientIPAddress=function(e){return n.map((t=>{const n=e[t],r=Array.isArray(n)?n.join(";"):n;return"Forwarded"===t?function(e){if(!e)return null;for(const t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}(r):r&&r.split(",").map((e=>e.trim()))})).reduce(((e,t)=>t?e.concat(t):e),[]).find((e=>null!==e&&/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(e)))||null},t.ipHeaderNames=n},54551:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(28355).GLOBAL_OBJ;t.supportsHistory=function(){const e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}},79276:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION="8.26.0"},28355:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(79276),o=globalThis;t.GLOBAL_OBJ=o,t.getGlobalSingleton=function(e,t,n){const i=n||o,s=i.__SENTRY__=i.__SENTRY__||{},a=s[r.SDK_VERSION]=s[r.SDK_VERSION]||{};return a[e]||(a[e]=t())}},6848:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(45753)).default("serialport/binding-mock");let i={},s=0;function a(){return new Promise((e=>process.nextTick((()=>e()))))}class c extends Error{constructor(e){super(e),this.canceled=!0}}const u={reset(){i={},s=0},createPort(e,t={}){s++;const n=Object.assign({echo:!1,record:!1,manufacturer:"The J5 Robotics Company",vendorId:void 0,productId:void 0,maxReadSize:1024},t);i[e]={data:Buffer.alloc(0),echo:n.echo,record:n.record,readyData:n.readyData,maxReadSize:n.maxReadSize,info:{path:e,manufacturer:n.manufacturer,serialNumber:`${s}`,pnpId:void 0,locationId:void 0,vendorId:n.vendorId,productId:n.productId}},o(s,"created port",JSON.stringify({path:e,opt:t}))},list:async()=>(o(null,"list"),Object.values(i).map((e=>e.info))),async open(e){var t;if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');const n=Object.assign({dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,xon:!1,xoff:!1,xany:!1,hupcl:!0},e),{path:r}=n;o(null,`open: opening path ${r}`);const s=i[r];if(await a(),!s)throw new Error(`Port does not exist - please call MockBinding.createPort('${r}') first`);const c=s.info.serialNumber;if(null===(t=s.openOpt)||void 0===t?void 0:t.lock)throw o(c,"open: Port is locked cannot open"),new Error("Port is locked cannot open");return o(c,`open: opened path ${r}`),s.openOpt=Object.assign({},n),new l(s,n)}};class l{constructor(e,t){if(this.port=e,this.openOptions=t,this.pendingRead=null,this.isOpen=!0,this.lastWrite=null,this.recording=Buffer.alloc(0),this.writeOperation=null,this.serialNumber=e.info.serialNumber,e.readyData){const t=e.readyData;process.nextTick((()=>{this.isOpen&&(o(this.serialNumber,"emitting ready data"),this.emitData(t))}))}}emitData(e){if(!this.isOpen||!this.port)throw new Error("Port must be open to pretend to receive data");const t=Buffer.isBuffer(e)?e:Buffer.from(e);o(this.serialNumber,"emitting data - pending read:",Boolean(this.pendingRead)),this.port.data=Buffer.concat([this.port.data,t]),this.pendingRead&&(process.nextTick(this.pendingRead),this.pendingRead=null)}async close(){if(o(this.serialNumber,"close"),!this.isOpen)throw new Error("Port is not open");const e=this.port;if(!e)throw new Error("already closed");e.openOpt=void 0,e.data=Buffer.alloc(0),o(this.serialNumber,"port is closed"),this.serialNumber=void 0,this.isOpen=!1,this.pendingRead&&this.pendingRead(new c("port is closed"))}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");if(o(this.serialNumber,"read",n,"bytes"),await a(),!this.isOpen||!this.port)throw new c("Read canceled");if(this.port.data.length<=0)return new Promise(((r,o)=>{this.pendingRead=i=>{if(i)return o(i);this.read(e,t,n).then(r,o)}}));const r=this.port.maxReadSize>n?n:this.port.maxReadSize,i=this.port.data.slice(0,r).copy(e,t);return this.port.data=this.port.data.slice(r),o(this.serialNumber,"read",i,"bytes"),{bytesRead:i,buffer:e}}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(!this.isOpen||!this.port)throw o("write","error port is not open"),new Error("Port is not open");if(o(this.serialNumber,"write",e.length,"bytes"),this.writeOperation)throw new Error("Overlapping writes are not supported and should be queued by the serialport object");return this.writeOperation=(async()=>{if(await a(),!this.isOpen||!this.port)throw new Error("Write canceled");const t=this.lastWrite=Buffer.from(e);this.port.record&&(this.recording=Buffer.concat([this.recording,t])),this.port.echo&&process.nextTick((()=>{this.isOpen&&this.emitData(t)})),this.writeOperation=null,o(this.serialNumber,"writing finished")})(),this.writeOperation}async update(e){if("object"!=typeof e)throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(o(this.serialNumber,"update"),!this.isOpen||!this.port)throw new Error("Port is not open");await a(),this.port.openOpt&&(this.port.openOpt.baudRate=e.baudRate)}async set(e){if("object"!=typeof e)throw new TypeError('"options" is not an object');if(o(this.serialNumber,"set"),!this.isOpen)throw new Error("Port is not open");await a()}async get(){if(o(this.serialNumber,"get"),!this.isOpen)throw new Error("Port is not open");return await a(),{cts:!0,dsr:!1,dcd:!1}}async getBaudRate(){var e;if(o(this.serialNumber,"getBaudRate"),!this.isOpen||!this.port)throw new Error("Port is not open");if(await a(),!(null===(e=this.port.openOpt)||void 0===e?void 0:e.baudRate))throw new Error("Internal Error");return{baudRate:this.port.openOpt.baudRate}}async flush(){if(o(this.serialNumber,"flush"),!this.isOpen||!this.port)throw new Error("Port is not open");await a(),this.port.data=Buffer.alloc(0)}async drain(){if(o(this.serialNumber,"drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await a()}}t.CanceledError=c,t.MockBinding=u,t.MockPortBinding=l},46269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DarwinPortBinding=t.DarwinBinding=void 0;const o=r(n(45753)),i=n(76237),s=n(96924),a=n(19269),c=n(41078),u=(0,o.default)("serialport/bindings-cpp");t.DarwinBinding={list:()=>(u("list"),(0,i.asyncList)()),async open(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');u("open");const t=Object.assign({vmin:1,vtime:0,dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,xon:!1,xoff:!1,xany:!1,hupcl:!0},e),n=await(0,i.asyncOpen)(t.path,t);return new l(n,t)}};class l{constructor(e,t){this.fd=e,this.openOptions=t,this.poller=new s.Poller(e),this.writeOperation=null}get isOpen(){return null!==this.fd}async close(){if(u("close"),!this.isOpen)throw new Error("Port is not open");const e=this.fd;this.poller.stop(),this.poller.destroy(),this.fd=null,await(0,i.asyncClose)(e)}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(u("read"),e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");return(0,a.unixRead)({binding:this,buffer:e,offset:t,length:n})}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(u("write",e.length,"bytes"),!this.isOpen)throw u("write","error port is not open"),new Error("Port is not open");return this.writeOperation=(async()=>{0!==e.length&&(await(0,c.unixWrite)({binding:this,buffer:e}),this.writeOperation=null)})(),this.writeOperation}async update(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(u("update"),!this.isOpen)throw new Error("Port is not open");await(0,i.asyncUpdate)(this.fd,e)}async set(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(u("set",e),!this.isOpen)throw new Error("Port is not open");await(0,i.asyncSet)(this.fd,e)}async get(){if(u("get"),!this.isOpen)throw new Error("Port is not open");return(0,i.asyncGet)(this.fd)}async getBaudRate(){if(u("getBaudRate"),!this.isOpen)throw new Error("Port is not open");throw new Error("getBaudRate is not implemented on darwin")}async flush(){if(u("flush"),!this.isOpen)throw new Error("Port is not open");await(0,i.asyncFlush)(this.fd)}async drain(){if(u("drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await(0,i.asyncDrain)(this.fd)}}t.DarwinPortBinding=l},23841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsError=void 0;class n extends Error{constructor(e,{canceled:t=!1}={}){super(e),this.canceled=t}}t.BindingsError=n},40176:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.autoDetect=void 0;const s=i(n(45753)),a=n(46269),c=n(78238),u=n(11363),l=(0,s.default)("serialport/bindings-cpp");o(n(81470),t),o(n(46269),t),o(n(78238),t),o(n(11363),t),o(n(23841),t),t.autoDetect=function(){switch(process.platform){case"win32":return l("loading WindowsBinding"),u.WindowsBinding;case"darwin":return l("loading DarwinBinding"),a.DarwinBinding;default:return l("loading LinuxBinding"),c.LinuxBinding}}},38583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linuxList=void 0;const r=n(35317),o=n(12348);t.linuxList=function(e=r.spawn){const t=[],n=e("udevadm",["info","-e"]),i=n.stdout.pipe(new o.ReadlineParser);let s=!1,a={path:"",manufacturer:void 0,serialNumber:void 0,pnpId:void 0,locationId:void 0,vendorId:void 0,productId:void 0};return i.on("data",(e=>{const n=e.slice(0,1),r=e.slice(3);if("P"===n)return a={path:"",manufacturer:void 0,serialNumber:void 0,pnpId:void 0,locationId:void 0,vendorId:void 0,productId:void 0},void(s=!1);var o;if(!s)if("N"!==n){if("E"===n){const e=r.match(/^(.+)=(.*)/);if(!e)return;const t={DEVNAME:"path",ID_VENDOR_ENC:"manufacturer",ID_SERIAL_SHORT:"serialNumber",ID_VENDOR_ID:"vendorId",ID_MODEL_ID:"productId",DEVLINKS:"pnpId"}[e[1].toUpperCase()];if(!t)return;a[t]=function(e,t){if("pnpId"===e){const e=t.match(/\/by-id\/([^\s]+)/);return(null==e?void 0:e[1])||void 0}return"manufacturer"===e?t.replace(/\\x([a-fA-F0-9]{2})/g,((e,t)=>String.fromCharCode(parseInt(t,16)))):/^0x/.test(t)?t.substr(2):t}(t,e[2])}}else/(tty(S|WCH|ACM|USB|AMA|MFD|O|XRUSB)|rfcomm)/.test(o=r)&&o?t.push(a):s=!0})),new Promise(((e,r)=>{n.on("close",(e=>{e&&r(new Error(`Error listing ports udevadm exited with error code: ${e}`))})),n.on("error",r),i.on("error",r),i.on("finish",(()=>e(t)))}))}},78238:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinuxPortBinding=t.LinuxBinding=void 0;const o=r(n(45753)),i=n(38583),s=n(96924),a=n(19269),c=n(41078),u=n(76237),l=(0,o.default)("serialport/bindings-cpp");t.LinuxBinding={list:()=>(l("list"),(0,i.linuxList)()),async open(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');l("open");const t=Object.assign({vmin:1,vtime:0,dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,xon:!1,xoff:!1,xany:!1,hupcl:!0},e),n=await(0,u.asyncOpen)(t.path,t);return this.fd=n,new d(n,t)}};class d{constructor(e,t){this.fd=e,this.openOptions=t,this.poller=new s.Poller(e),this.writeOperation=null}get isOpen(){return null!==this.fd}async close(){if(l("close"),!this.isOpen)throw new Error("Port is not open");const e=this.fd;this.poller.stop(),this.poller.destroy(),this.fd=null,await(0,u.asyncClose)(e)}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(l("read"),e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");return(0,a.unixRead)({binding:this,buffer:e,offset:t,length:n})}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(l("write",e.length,"bytes"),!this.isOpen)throw l("write","error port is not open"),new Error("Port is not open");return this.writeOperation=(async()=>{0!==e.length&&(await(0,c.unixWrite)({binding:this,buffer:e}),this.writeOperation=null)})(),this.writeOperation}async update(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(l("update"),!this.isOpen)throw new Error("Port is not open");await(0,u.asyncUpdate)(this.fd,e)}async set(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(l("set"),!this.isOpen)throw new Error("Port is not open");await(0,u.asyncSet)(this.fd,e)}async get(){if(l("get"),!this.isOpen)throw new Error("Port is not open");return(0,u.asyncGet)(this.fd)}async getBaudRate(){if(l("getBaudRate"),!this.isOpen)throw new Error("Port is not open");return(0,u.asyncGetBaudRate)(this.fd)}async flush(){if(l("flush"),!this.isOpen)throw new Error("Port is not open");await(0,u.asyncFlush)(this.fd)}async drain(){if(l("drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await(0,u.asyncDrain)(this.fd)}}t.LinuxPortBinding=d},76237:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.asyncWrite=t.asyncRead=t.asyncUpdate=t.asyncSet=t.asyncOpen=t.asyncList=t.asyncGetBaudRate=t.asyncGet=t.asyncFlush=t.asyncDrain=t.asyncClose=void 0;const o=r(n(68169)),i=n(39023),s=n(16928),a=(0,o.default)((0,s.join)(__dirname,"../"));t.asyncClose=a.close?(0,i.promisify)(a.close):async()=>{throw new Error('"binding.close" Method not implemented')},t.asyncDrain=a.drain?(0,i.promisify)(a.drain):async()=>{throw new Error('"binding.drain" Method not implemented')},t.asyncFlush=a.flush?(0,i.promisify)(a.flush):async()=>{throw new Error('"binding.flush" Method not implemented')},t.asyncGet=a.get?(0,i.promisify)(a.get):async()=>{throw new Error('"binding.get" Method not implemented')},t.asyncGetBaudRate=a.getBaudRate?(0,i.promisify)(a.getBaudRate):async()=>{throw new Error('"binding.getBaudRate" Method not implemented')},t.asyncList=a.list?(0,i.promisify)(a.list):async()=>{throw new Error('"binding.list" Method not implemented')},t.asyncOpen=a.open?(0,i.promisify)(a.open):async()=>{throw new Error('"binding.open" Method not implemented')},t.asyncSet=a.set?(0,i.promisify)(a.set):async()=>{throw new Error('"binding.set" Method not implemented')},t.asyncUpdate=a.update?(0,i.promisify)(a.update):async()=>{throw new Error('"binding.update" Method not implemented')},t.asyncRead=a.read?(0,i.promisify)(a.read):async()=>{throw new Error('"binding.read" Method not implemented')},t.asyncWrite=a.read?(0,i.promisify)(a.write):async()=>{throw new Error('"binding.write" Method not implemented')}},96924:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Poller=t.EVENTS=void 0;const o=r(n(45753)),i=n(24434),s=n(16928),a=r(n(68169)),c=n(23841),{Poller:u}=(0,a.default)((0,s.join)(__dirname,"../")),l=(0,o.default)("serialport/bindings-cpp/poller");function d(e,n){if(e)return l("error",e),this.emit("readable",e),this.emit("writable",e),void this.emit("disconnect",e);n&t.EVENTS.UV_READABLE&&(l('received "readable"'),this.emit("readable",null)),n&t.EVENTS.UV_WRITABLE&&(l('received "writable"'),this.emit("writable",null)),n&t.EVENTS.UV_DISCONNECT&&(l('received "disconnect"'),this.emit("disconnect",null))}t.EVENTS={UV_READABLE:1,UV_WRITABLE:2,UV_DISCONNECT:4};class p extends i.EventEmitter{constructor(e,t=u){l("Creating poller"),super(),this.poller=new t(e,d.bind(this))}once(e,n){switch(e){case"readable":this.poll(t.EVENTS.UV_READABLE);break;case"writable":this.poll(t.EVENTS.UV_WRITABLE);break;case"disconnect":this.poll(t.EVENTS.UV_DISCONNECT)}return super.once(e,n)}poll(e=0){e&t.EVENTS.UV_READABLE&&l('Polling for "readable"'),e&t.EVENTS.UV_WRITABLE&&l('Polling for "writable"'),e&t.EVENTS.UV_DISCONNECT&&l('Polling for "disconnect"'),this.poller.poll(e)}stop(){l("Stopping poller"),this.poller.stop(),this.emitCanceled()}destroy(){l("Destroying poller"),this.poller.destroy(),this.emitCanceled()}emitCanceled(){const e=new c.BindingsError("Canceled",{canceled:!0});this.emit("readable",e),this.emit("writable",e),this.emit("disconnect",e)}}t.Poller=p},19269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unixRead=void 0;const o=n(39023),i=n(79896),s=n(23841),a=(0,r(n(45753)).default)("serialport/bindings-cpp/unixRead"),c=(0,o.promisify)(i.read);t.unixRead=async({binding:e,buffer:n,offset:r,length:o,fsReadAsync:i=c})=>{if(a("Starting read"),!e.isOpen||!e.fd)throw new s.BindingsError("Port is not open",{canceled:!0});try{const{bytesRead:s}=await i(e.fd,n,r,o,null);return 0===s?(0,t.unixRead)({binding:e,buffer:n,offset:r,length:o,fsReadAsync:i}):(a("Finished read",s,"bytes"),{bytesRead:s,buffer:n})}catch(c){if(a("read error",c),"EAGAIN"===c.code||"EWOULDBLOCK"===c.code||"EINTR"===c.code){if(!e.isOpen)throw new s.BindingsError("Port is not open",{canceled:!0});return a("waiting for readable because of code:",c.code),await(e=>new Promise(((t,n)=>{if(!e.poller)throw new Error("No poller on bindings");e.poller.once("readable",(e=>e?n(e):t()))})))(e),(0,t.unixRead)({binding:e,buffer:n,offset:r,length:o,fsReadAsync:i})}throw("EBADF"===c.code||"ENXIO"===c.code||"UNKNOWN"===c.code||-1===c.errno)&&(c.disconnect=!0,a("disconnecting",c)),c}}},41078:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unixWrite=void 0;const o=n(79896),i=r(n(45753)),s=n(39023),a=(0,i.default)("serialport/bindings-cpp/unixWrite"),c=(0,s.promisify)(o.write);t.unixWrite=async({binding:e,buffer:n,offset:r=0,fsWriteAsync:o=c})=>{const i=n.length-r;if(a("Starting write",n.length,"bytes offset",r,"bytesToWrite",i),!e.isOpen||!e.fd)throw new Error("Port is not open");try{const{bytesWritten:s}=await o(e.fd,n,r,i);if(a("write returned: wrote",s,"bytes"),s+r<n.length){if(!e.isOpen)throw new Error("Port is not open");return(0,t.unixWrite)({binding:e,buffer:n,offset:s+r,fsWriteAsync:o})}a("Finished writing",s+r,"bytes")}catch(i){if(a("write errored",i),"EAGAIN"===i.code||"EWOULDBLOCK"===i.code||"EINTR"===i.code){if(!e.isOpen)throw new Error("Port is not open");return a("waiting for writable because of code:",i.code),await(e=>new Promise(((t,n)=>{e.poller.once("writable",(e=>e?n(e):t()))})))(e),(0,t.unixWrite)({binding:e,buffer:n,offset:r,fsWriteAsync:o})}throw("EBADF"===i.code||"ENXIO"===i.code||"UNKNOWN"===i.code||-1===i.errno)&&(i.disconnect=!0,a("disconnecting",i)),a("error",i),i}}},85037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialNumParser=void 0;const n=[/USB\\(?:.+)\\(.+)/,/FTDIBUS\\(?:.+)\+(.+?)A?\\.+/];t.serialNumParser=e=>{if(!e)return null;for(const t of n){const n=e.match(t);if(n)return n[1]}return null}},11363:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsPortBinding=t.WindowsBinding=void 0;const o=r(n(45753)),i=n(40176),s=n(76237),a=n(85037),c=(0,o.default)("serialport/bindings-cpp");t.WindowsBinding={list:async()=>(await(0,s.asyncList)()).map((e=>{if(e.pnpId&&!e.serialNumber){const t=(0,a.serialNumParser)(e.pnpId);if(t)return Object.assign(Object.assign({},e),{serialNumber:t})}return e})),async open(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');c("open");const t=Object.assign({dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,rtsMode:"handshake",xon:!1,xoff:!1,xany:!1,hupcl:!0},e),n=await(0,s.asyncOpen)(t.path,t);return new u(n,t)}};class u{constructor(e,t){this.fd=e,this.openOptions=t,this.writeOperation=null}get isOpen(){return null!==this.fd}async close(){if(c("close"),!this.isOpen)throw new Error("Port is not open");const e=this.fd;this.fd=null,await(0,s.asyncClose)(e)}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(c("read"),e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");try{return{bytesRead:await(0,s.asyncRead)(this.fd,e,t,n),buffer:e}}catch(e){if(!this.isOpen)throw new i.BindingsError(e.message,{canceled:!0});throw e}}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(c("write",e.length,"bytes"),!this.isOpen)throw c("write","error port is not open"),new Error("Port is not open");return this.writeOperation=(async()=>{0!==e.length&&(await(0,s.asyncWrite)(this.fd,e),this.writeOperation=null)})(),this.writeOperation}async update(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(c("update"),!this.isOpen)throw new Error("Port is not open");await(0,s.asyncUpdate)(this.fd,e)}async set(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(c("set",e),!this.isOpen)throw new Error("Port is not open");await(0,s.asyncSet)(this.fd,e)}async get(){if(c("get"),!this.isOpen)throw new Error("Port is not open");return(0,s.asyncGet)(this.fd)}async getBaudRate(){if(c("getBaudRate"),!this.isOpen)throw new Error("Port is not open");return(0,s.asyncGetBaudRate)(this.fd)}async flush(){if(c("flush"),!this.isOpen)throw new Error("Port is not open");await(0,s.asyncFlush)(this.fd)}async drain(){if(c("drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await(0,s.asyncDrain)(this.fd)}}t.WindowsPortBinding=u},81470:()=>{},19847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteLengthParser=void 0;const r=n(2203);class o extends r.Transform{constructor(e){if(super(e),"number"!=typeof e.length)throw new TypeError('"length" is not a number');if(e.length<1)throw new TypeError('"length" is not greater than 0');this.length=e.length,this.position=0,this.buffer=Buffer.alloc(this.length)}_transform(e,t,n){let r=0;for(;r<e.length;)this.buffer[this.position]=e[r],r++,this.position++,this.position===this.length&&(this.push(this.buffer),this.buffer=Buffer.alloc(this.length),this.position=0);n()}_flush(e){this.push(this.buffer.slice(0,this.position)),this.buffer=Buffer.alloc(this.length),e()}}t.ByteLengthParser=o},73662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCTalkParser=void 0;const r=n(2203);class o extends r.Transform{constructor(e=50){super(),this.array=[],this.cursor=0,this.lastByteFetchTime=0,this.maxDelayBetweenBytesMs=e}_transform(e,t,n){if(this.maxDelayBetweenBytesMs>0){const e=Date.now();e-this.lastByteFetchTime>this.maxDelayBetweenBytesMs&&(this.array=[],this.cursor=0),this.lastByteFetchTime=e}for(this.cursor+=e.length,Array.from(e).map((e=>this.array.push(e)));this.cursor>1&&this.cursor>=this.array[1]+5;){const e=this.array[1]+5,t=Buffer.from(this.array.slice(0,e));this.array=this.array.slice(t.length,this.array.length),this.cursor-=e,this.push(t)}n()}}t.CCTalkParser=o},90447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelimiterParser=void 0;const r=n(2203);class o extends r.Transform{constructor({delimiter:e,includeDelimiter:t=!1,...n}){if(super(n),void 0===e)throw new TypeError('"delimiter" is not a bufferable object');if(0===e.length)throw new TypeError('"delimiter" has a 0 or undefined length');this.includeDelimiter=t,this.delimiter=Buffer.from(e),this.buffer=Buffer.alloc(0)}_transform(e,t,n){let r,o=Buffer.concat([this.buffer,e]);for(;-1!==(r=o.indexOf(this.delimiter));)this.push(o.slice(0,r+(this.includeDelimiter?this.delimiter.length:0))),o=o.slice(r+this.delimiter.length);this.buffer=o,n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.DelimiterParser=o},36937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterByteTimeoutParser=void 0;const r=n(2203);class o extends r.Transform{constructor({maxBufferSize:e=65536,interval:t,...n}){if(super(n),!t)throw new TypeError('"interval" is required');if("number"!=typeof t||Number.isNaN(t))throw new TypeError('"interval" is not a number');if(t<1)throw new TypeError('"interval" is not greater than 0');if("number"!=typeof e||Number.isNaN(e))throw new TypeError('"maxBufferSize" is not a number');if(e<1)throw new TypeError('"maxBufferSize" is not greater than 0');this.maxBufferSize=e,this.currentPacket=[],this.interval=t}_transform(e,t,n){this.intervalID&&clearTimeout(this.intervalID);for(let t=0;t<e.length;t++)this.currentPacket.push(e[t]),this.currentPacket.length>=this.maxBufferSize&&this.emitPacket();this.intervalID=setTimeout(this.emitPacket.bind(this),this.interval),n()}emitPacket(){this.intervalID&&clearTimeout(this.intervalID),this.currentPacket.length>0&&this.push(Buffer.from(this.currentPacket)),this.currentPacket=[]}_flush(e){this.emitPacket(),e()}}t.InterByteTimeoutParser=o},31693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PacketLengthParser=void 0;const r=n(2203);class o extends r.Transform{constructor(e={}){super(e);const{delimiter:t=170,packetOverhead:n=2,lengthBytes:r=1,lengthOffset:o=1,maxLen:i=255}=e;this.opts={delimiter:t,packetOverhead:n,lengthBytes:r,lengthOffset:o,maxLen:i},this.buffer=Buffer.alloc(0),this.start=!1}_transform(e,t,n){for(let t=0;t<e.length;t++){const n=e[t];if(n===this.opts.delimiter&&(this.start=!0),!0===this.start&&(this.buffer=Buffer.concat([this.buffer,Buffer.from([n])]),this.buffer.length>=this.opts.lengthOffset+this.opts.lengthBytes)){const e=this.buffer.readUIntLE(this.opts.lengthOffset,this.opts.lengthBytes);(this.buffer.length==e+this.opts.packetOverhead||e>this.opts.maxLen)&&(this.push(this.buffer),this.buffer=Buffer.alloc(0),this.start=!1)}}n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.PacketLengthParser=o},12348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadlineParser=void 0;const r=n(90447);class o extends r.DelimiterParser{constructor(e){const t={delimiter:Buffer.from("\n","utf8"),encoding:"utf8",...e};"string"==typeof t.delimiter&&(t.delimiter=Buffer.from(t.delimiter,t.encoding)),super(t)}}t.ReadlineParser=o},18145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadyParser=void 0;const r=n(2203);class o extends r.Transform{constructor({delimiter:e,...t}){if(void 0===e)throw new TypeError('"delimiter" is not a bufferable object');if(0===e.length)throw new TypeError('"delimiter" has a 0 or undefined length');super(t),this.delimiter=Buffer.from(e),this.readOffset=0,this.ready=!1}_transform(e,t,n){if(this.ready)return this.push(e),n();const r=this.delimiter;let o=0;for(;this.readOffset<r.length&&o<e.length;)r[this.readOffset]===e[o]?this.readOffset++:this.readOffset=0,o++;if(this.readOffset===r.length){this.ready=!0,this.emit("ready");const t=e.slice(o);t.length>0&&this.push(t)}n()}}t.ReadyParser=o},10637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegexParser=void 0;const r=n(2203);class o extends r.Transform{constructor({regex:e,...t}){const n={encoding:"utf8",...t};if(void 0===e)throw new TypeError('"options.regex" must be a regular expression pattern or object');e instanceof RegExp||(e=new RegExp(e.toString())),super(n),this.regex=e,this.data=""}_transform(e,t,n){const r=(this.data+e).split(this.regex);this.data=r.pop()||"",r.forEach((e=>{this.push(e)})),n()}_flush(e){this.push(this.data),this.data="",e()}}t.RegexParser=o},89831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlipDecoder=void 0;const r=n(2203);class o extends r.Transform{constructor(e={}){super(e);const{START:t,ESC:n=219,END:r=192,ESC_START:o,ESC_END:i=220,ESC_ESC:s=221}=e;this.opts={START:t,ESC:n,END:r,ESC_START:o,ESC_END:i,ESC_ESC:s},this.buffer=Buffer.alloc(0),this.escape=!1,this.start=!1}_transform(e,t,n){for(let t=0;t<e.length;t++){let n=e[t];if(n!==this.opts.START){if(null==this.opts.START&&(this.start=!0),this.escape)n===this.opts.ESC_START&&this.opts.START?n=this.opts.START:n===this.opts.ESC_ESC?n=this.opts.ESC:n===this.opts.ESC_END?n=this.opts.END:(this.escape=!1,this.push(this.buffer),this.buffer=Buffer.alloc(0));else{if(n===this.opts.ESC){this.escape=!0;continue}if(n===this.opts.END){this.push(this.buffer),this.buffer=Buffer.alloc(0),this.escape=!1,this.start=!1;continue}}this.escape=!1,this.start&&(this.buffer=Buffer.concat([this.buffer,Buffer.from([n])]))}else this.start=!0}n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.SlipDecoder=o},64399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlipEncoder=void 0;const r=n(2203);class o extends r.Transform{constructor(e={}){super(e);const{START:t,ESC:n=219,END:r=192,ESC_START:o,ESC_END:i=220,ESC_ESC:s=221,bluetoothQuirk:a=!1}=e;this.opts={START:t,ESC:n,END:r,ESC_START:o,ESC_END:i,ESC_ESC:s,bluetoothQuirk:a}}_transform(e,t,n){const r=e.length;if(this.opts.bluetoothQuirk&&0===r)return n();const o=Buffer.alloc(2*r+2);let i=0;1==this.opts.bluetoothQuirk&&(o[i++]=this.opts.END),void 0!==this.opts.START&&(o[i++]=this.opts.START);for(let t=0;t<r;t++){let n=e[t];n===this.opts.START&&this.opts.ESC_START?(o[i++]=this.opts.ESC,n=this.opts.ESC_START):n===this.opts.END?(o[i++]=this.opts.ESC,n=this.opts.ESC_END):n===this.opts.ESC&&(o[i++]=this.opts.ESC,n=this.opts.ESC_ESC),o[i++]=n}o[i++]=this.opts.END,n(null,o.slice(0,i))}}t.SlipEncoder=o},13819:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(89831),t),o(n(64399),t)},97102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpacePacketParser=void 0;const r=n(2203),o=n(52415);class i extends r.Transform{constructor(e={}){super({...e,objectMode:!0}),this.timeCodeFieldLength=e.timeCodeFieldLength||0,this.ancillaryDataFieldLength=e.ancillaryDataFieldLength||0,this.dataSlice=this.timeCodeFieldLength+this.ancillaryDataFieldLength,this.dataBuffer=Buffer.alloc(0),this.headerBuffer=Buffer.alloc(0),this.dataLength=0,this.expectingHeader=!0}pushCompletedPacket(){if(!this.header)throw new Error("Missing header");const e=Buffer.from(this.dataBuffer.slice(0,this.timeCodeFieldLength)),t=Buffer.from(this.dataBuffer.slice(this.timeCodeFieldLength,this.timeCodeFieldLength+this.ancillaryDataFieldLength)),n=Buffer.from(this.dataBuffer.slice(this.dataSlice,this.dataLength)),r={header:{...this.header},data:n.toString()};(e.length>0||t.length>0)&&(r.secondaryHeader={},e.length&&(r.secondaryHeader.timeCode=e.toString()),t.length&&(r.secondaryHeader.ancillaryData=t.toString())),this.push(r);const i=Buffer.from(this.dataBuffer.slice(this.dataLength));i.length>=o.HEADER_LENGTH?this.extractHeader(i):(this.headerBuffer=i,this.dataBuffer=Buffer.alloc(0),this.expectingHeader=!0,this.dataLength=0,this.header=void 0)}extractHeader(e){const t=Buffer.concat([this.headerBuffer,e]),n=t.slice(o.HEADER_LENGTH);t.length>=o.HEADER_LENGTH?(this.header=(0,o.convertHeaderBufferToObj)(t),this.dataLength=this.header.dataLength,this.headerBuffer=Buffer.alloc(0),this.expectingHeader=!1):this.headerBuffer=t,n.length>0&&(this.dataBuffer=Buffer.from(n),this.dataBuffer.length>=this.dataLength&&this.pushCompletedPacket())}_transform(e,t,n){this.expectingHeader?this.extractHeader(e):(this.dataBuffer=Buffer.concat([this.dataBuffer,e]),this.dataBuffer.length>=this.dataLength&&this.pushCompletedPacket()),n()}_flush(e){const t=Buffer.concat([this.headerBuffer,this.dataBuffer]),n=Array.from(t);this.push(n),e()}}t.SpacePacketParser=i},52415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertHeaderBufferToObj=t.HEADER_LENGTH=void 0,t.HEADER_LENGTH=6,t.convertHeaderBufferToObj=e=>{const n=Array.from(e.slice(0,t.HEADER_LENGTH)).reduce(((e,t)=>`${e}${(e=>{let t=Number(e).toString(2);for(;t.length<8;)t=`0${t}`;return t})(t)}`),""),r="000"===n.slice(0,3)?1:"UNKNOWN_VERSION",o=Number(n[3]),i=Number(n[4]),s=parseInt(n.slice(5,16),2),a=parseInt(n.slice(16,18),2);return{versionNumber:r,identification:{apid:s,secondaryHeader:i,type:o},sequenceControl:{packetName:parseInt(n.slice(18,32),2),sequenceFlags:a},dataLength:parseInt(n.slice(-16),2)+1}}},75802:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPortStream=t.DisconnectedError=void 0;const o=n(2203),i=(0,r(n(45753)).default)("serialport/stream");class s extends Error{constructor(e){super(e),this.disconnected=!0}}t.DisconnectedError=s;const a={brk:!1,cts:!1,dtr:!0,rts:!0};function c(e){const t=Buffer.allocUnsafe(e);return t.used=0,t}class u extends o.Duplex{constructor(e,t){const n={autoOpen:!0,endOnClose:!1,highWaterMark:65536,...e};if(super({highWaterMark:n.highWaterMark}),!n.binding)throw new TypeError('"Bindings" is invalid pass it as `options.binding`');if(!n.path)throw new TypeError(`"path" is not defined: ${n.path}`);if("number"!=typeof n.baudRate)throw new TypeError(`"baudRate" must be a number: ${n.baudRate}`);this.settings=n,this.opening=!1,this.closing=!1,this._pool=c(this.settings.highWaterMark),this._kMinPoolSpace=128,this.settings.autoOpen&&this.open(t)}get path(){return this.settings.path}get baudRate(){return this.settings.baudRate}get isOpen(){var e,t;return null!==(t=null===(e=this.port)||void 0===e?void 0:e.isOpen)&&void 0!==t&&t&&!this.closing}_error(e,t){t?t.call(this,e):this.emit("error",e)}_asyncError(e,t){process.nextTick((()=>this._error(e,t)))}open(e){if(this.isOpen)return this._asyncError(new Error("Port is already open"),e);if(this.opening)return this._asyncError(new Error("Port is opening"),e);const{highWaterMark:t,binding:n,autoOpen:r,endOnClose:o,...s}=this.settings;this.opening=!0,i("opening",`path: ${this.path}`),this.settings.binding.open(s).then((t=>{i("opened",`path: ${this.path}`),this.port=t,this.opening=!1,this.emit("open"),e&&e.call(this,null)}),(t=>{this.opening=!1,i("Binding #open had an error",t),this._error(t,e)}))}update(e,t){if(!this.isOpen||!this.port)return i("update attempted, but port is not open"),this._asyncError(new Error("Port is not open"),t);i("update",`baudRate: ${e.baudRate}`),this.port.update(e).then((()=>{i("binding.update","finished"),this.settings.baudRate=e.baudRate,t&&t.call(this,null)}),(e=>(i("binding.update","error",e),this._error(e,t))))}write(e,t,n){return Array.isArray(e)&&(e=Buffer.from(e)),"function"==typeof t?super.write(e,t):super.write(e,t,n)}_write(e,t,n){this.isOpen&&this.port?(i("_write",`${e.length} bytes of data`),this.port.write(e).then((()=>{i("binding.write","write finished"),n(null)}),(e=>{i("binding.write","error",e),e.canceled||this._disconnected(e),n(e)}))):this.once("open",(()=>{this._write(e,t,n)}))}_writev(e,t){i("_writev",`${e.length} chunks of data`);const n=e.map((e=>e.chunk));this._write(Buffer.concat(n),void 0,t)}_read(e){if(!this.isOpen||!this.port)return i("_read","queueing _read for after open"),void this.once("open",(()=>{this._read(e)}));(!this._pool||this._pool.length-this._pool.used<this._kMinPoolSpace)&&(i("_read","discarding the read buffer pool because it is below kMinPoolSpace"),this._pool=c(this.settings.highWaterMark));const t=this._pool,n=Math.min(t.length-t.used,e),r=t.used;i("_read","reading",{start:r,toRead:n}),this.port.read(t,r,n).then((({bytesRead:e})=>{if(i("binding.read","finished",{bytesRead:e}),0===e)return i("binding.read","Zero bytes read closing readable stream"),void this.push(null);t.used+=e,this.push(t.slice(r,r+e))}),(t=>{i("binding.read","error",t),t.canceled||this._disconnected(t),this._read(e)}))}_disconnected(e){this.isOpen?(i("disconnected",e),this.close(void 0,new s(e.message))):i("disconnected aborted because already closed",e)}close(e,t=null){if(!this.isOpen||!this.port)return i("close attempted, but port is not open"),this._asyncError(new Error("Port is not open"),e);this.closing=!0,i("#close"),this.port.close().then((()=>{this.closing=!1,i("binding.close","finished"),this.emit("close",t),this.settings.endOnClose&&this.emit("end"),e&&e.call(this,t)}),(t=>(this.closing=!1,i("binding.close","had an error",t),this._error(t,e))))}set(e,t){if(!this.isOpen||!this.port)return i("set attempted, but port is not open"),this._asyncError(new Error("Port is not open"),t);const n={...a,...e};i("#set",n),this.port.set(n).then((()=>{i("binding.set","finished"),t&&t.call(this,null)}),(e=>(i("binding.set","had an error",e),this._error(e,t))))}get(e){if(!this.isOpen||!this.port)return i("get attempted, but port is not open"),this._asyncError(new Error("Port is not open"),e);i("#get"),this.port.get().then((t=>{i("binding.get","finished"),e.call(this,null,t)}),(t=>(i("binding.get","had an error",t),this._error(t,e))))}flush(e){if(!this.isOpen||!this.port)return i("flush attempted, but port is not open"),this._asyncError(new Error("Port is not open"),e);i("#flush"),this.port.flush().then((()=>{i("binding.flush","finished"),e&&e.call(this,null)}),(t=>(i("binding.flush","had an error",t),this._error(t,e))))}drain(e){if(i("drain"),!this.isOpen||!this.port)return i("drain queuing on port open"),void this.once("open",(()=>{this.drain(e)}));this.port.drain().then((()=>{i("binding.drain","finished"),e&&e.call(this,null)}),(t=>(i("binding.drain","had an error",t),this._error(t,e))))}}t.SerialPortStream=u},56284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={grad:.9,turn:360,rad:360/(2*Math.PI)},r=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},o=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},i=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},s=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},a=function(e){return{r:i(e.r,0,255),g:i(e.g,0,255),b:i(e.b,0,255),a:i(e.a)}},c=function(e){return{r:o(e.r),g:o(e.g),b:o(e.b),a:o(e.a,3)}},u=/^#([0-9a-f]{3,8})$/i,l=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},d=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),s=i-Math.min(t,n,r),a=s?i===t?(n-r)/s:i===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(a<0?a+6:a),s:i?s/i*100:0,v:i/255*100,a:o}},p=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),s=r*(1-n),a=r*(1-(t-i)*n),c=r*(1-(1-t+i)*n),u=i%6;return{r:255*[r,a,s,s,c,r][u],g:255*[c,r,r,a,s,s][u],b:255*[s,s,c,r,r,a][u],a:o}},h=function(e){return{h:s(e.h),s:i(e.s,0,100),l:i(e.l,0,100),a:i(e.a)}},f=function(e){return{h:o(e.h),s:o(e.s),l:o(e.l),a:o(e.a,3)}},m=function(e){return p((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},g=function(e){return{h:(t=d(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E={string:[[function(e){var t=u.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?o(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?o(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=S.exec(e)||y.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=_.exec(e)||b.exec(e);if(!t)return null;var r,o,i=h({h:(r=t[1],o=t[2],void 0===o&&(o="deg"),Number(r)*(n[o]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,o=e.b,i=e.a,s=void 0===i?1:i;return r(t)&&r(n)&&r(o)?a({r:Number(t),g:Number(n),b:Number(o),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,o=e.l,i=e.a,s=void 0===i?1:i;if(!r(t)||!r(n)||!r(o))return null;var a=h({h:Number(t),s:Number(n),l:Number(o),a:Number(s)});return m(a)},"hsl"],[function(e){var t=e.h,n=e.s,o=e.v,a=e.a,c=void 0===a?1:a;if(!r(t)||!r(n)||!r(o))return null;var u=function(e){return{h:s(e.h),s:i(e.s,0,100),v:i(e.v,0,100),a:i(e.a)}}({h:Number(t),s:Number(n),v:Number(o),a:Number(c)});return p(u)},"hsv"]]},T=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},v=function(e){return"string"==typeof e?T(e.trim(),E.string):"object"==typeof e&&null!==e?T(e,E.object):[null,void 0]},I=function(e,t){var n=g(e);return{h:n.h,s:i(n.s+100*t,0,100),l:n.l,a:n.a}},R=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},A=function(e,t){var n=g(e);return{h:n.h,s:n.s,l:i(n.l+100*t,0,100),a:n.a}},C=function(){function e(e){this.parsed=v(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return o(R(this.rgba),2)},e.prototype.isDark=function(){return R(this.rgba)<.5},e.prototype.isLight=function(){return R(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,n=e.g,r=e.b,s=(i=e.a)<1?l(o(255*i)):"","#"+l(t)+l(n)+l(r)+s;var e,t,n,r,i,s},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},e.prototype.toHsl=function(){return f(g(this.rgba))},e.prototype.toHslString=function(){return t=(e=f(g(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},e.prototype.toHsv=function(){return e=d(this.rgba),{h:o(e.h),s:o(e.s),v:o(e.v),a:o(e.a,3)};var e},e.prototype.invert=function(){return O({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),O(I(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),O(I(this.rgba,-e))},e.prototype.grayscale=function(){return O(I(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),O(A(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),O(A(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?O({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):o(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=g(this.rgba);return"number"==typeof e?O({h:e,s:t.s,l:t.l,a:t.a}):o(t.h)},e.prototype.isEqual=function(e){return this.toHex()===O(e).toHex()},e}(),O=function(e){return e instanceof C?e:new C(e)},N=[];t.Colord=C,t.colord=O,t.extend=function(e){e.forEach((function(e){N.indexOf(e)<0&&(e(C,E),N.push(e))}))},t.getFormat=function(e){return v(e)[1]},t.random=function(){return new C({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},17833:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(40736)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},40736:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,i,s=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];n=i.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},45753:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(17833):e.exports=n(76033)},76033:(e,t,n)=>{const r=n(52018),o=n(39023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(40736)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},16022:e=>{!function(){"use strict";var t=[,function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===r(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=o,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var r,o,i=(o=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],a=i[1];return e[s]=a,e}),{})},t.isArguments=function(e){return null!=e&&o(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var i={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=i,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(i.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var n=Object.create(null),r=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},o=0;o<64;o++)n[r(o)]=o;var i=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;n<e;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},s={encode:function(e){if("string"==typeof e){var t=e;e=i(t.length);for(var n=0;n<t.length;n++){var o=t.charCodeAt(n);if(o>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[n]=o}}for(var s=[],a=null,c=null,u=null,l=null,d=0;d<e.length;d++)switch(d%3){case 0:a=e[d]>>2&63,c=(3&e[d])<<4;break;case 1:c|=e[d]>>4&15,u=(15&e[d])<<2;break;case 2:u|=e[d]>>6&3,l=63&e[d],s.push(r(a)),s.push(r(c)),s.push(r(u)),s.push(r(l)),a=null,c=null,u=null,l=null}return null!=a&&(s.push(r(a)),s.push(r(c)),null==u?s.push("="):s.push(r(u)),null==l&&s.push("=")),s.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var r,o=i(t),s=null,a=null,c=null,u=0,l=0;l<e.length;l++){var d="="===(r=e.charAt(l))?-1:n[r];switch(l%4){case 0:if(d<0)throw new Error("invalid base64 string");s=d<<2;break;case 1:if(d<0)throw new Error("invalid base64 string");s|=d>>4,o[u++]=s,a=(15&d)<<4;break;case 2:d>=0&&(a|=d>>2,o[u++]=a,c=(3&d)<<6);break;case 3:d>=0&&(o[u++]=c|d)}}return o},newBinary:i};t.Base64=s},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,o,i,s,a){var c=o[t];switch(n(c)){case"string":return r(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var u,l=s+i,d=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,h=0;h<p;h+=1)d[h]=e(h,c,i,l,a)||"null";return u=0===d.length?"[]":l?"[\n"+l+d.join(",\n"+l)+"\n"+s+"]":"["+d.join(",")+"]"}var f=Object.keys(c);return a&&(f=f.sort()),f.forEach((function(t){(u=e(t,c,i,l,a))&&d.push(r(t)+(l?": ":":")+u)})),u=0===d.length?"{}":l?"{\n"+l+d.join(",\n"+l)+"\n"+s+"}":"{"+d.join(",")+"}"}};t.default=function(e,t){var n=Object.assign({indent:"",canonical:!1},t);if(!0===n.indent)n.indent="  ";else if("number"==typeof n.indent){for(var r="",i=0;i<n.indent;i++)r+=" ";n.indent=r}return o("",{"":e},n.indent,"",n.canonical)},e.exports=t.default}],n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}var o={};!function(){var e=o,t=r(2).Base64,n=r(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var i=r(1),s={};e.EJSON=s;var a=new Map;s.addType=function(e,t){if(a.has(e))throw new Error("Type ".concat(e," already present"));a.set(e,t)};var c=[{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$date")&&1===(0,i.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$regexp")&&(0,i.hasOwn)(e,"$flags")&&2===(0,i.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$InfNaN")&&1===(0,i.lengthOf)(e)},matchObject:i.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$binary")&&1===(0,i.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,i.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$escape")&&1===(0,i.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var n=(0,i.lengthOf)(e);1!==n&&2!==n||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,i.keysOf)(e).forEach((function(n){t[n]=s.toJSONValue(e[n])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,i.keysOf)(e.$escape).forEach((function(n){t[n]=s.fromJSONValue(e.$escape[n])})),t}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$type")&&(0,i.hasOwn)(e,"$value")&&2===(0,i.lengthOf)(e)},matchObject:function(e){return s._isCustomType(e)},toJSONValue:function(e){var t=n._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!a.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var r=a.get(t);return n._noYieldsAllowed((function(){return r(e.$value)}))}}];s._isCustomType=function(e){return e&&(0,i.isFunction)(e.toJSONValue)&&(0,i.isFunction)(e.typeName)&&a.has(e.typeName())},s._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?a:(0,i.convertMapToObject)(a)},s._getConverters=function(){return c};var u=function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.matchObject(e))return n.toJSONValue(e)}},l=function e(t){if(null===t)return null;var n=u(t);return void 0!==n?n:(0,i.isObject)(t)?((0,i.keysOf)(t).forEach((function(n){var r=t[n];if((0,i.isObject)(r)||void 0===r||(0,i.isInfOrNaN)(r)){var o=u(r);o?t[n]=o:e(r)}})),t):t};s._adjustTypesToJSONValue=l,s.toJSONValue=function(e){var t=u(e);if(void 0!==t)return t;var n=e;return(0,i.isObject)(e)&&(n=s.clone(e),l(n)),n};var d=function(e){if((0,i.isObject)(e)&&null!==e){var t=(0,i.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var n=0;n<c.length;n++){var r=c[n];if(r.matchJSONValue(e))return r.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var n=d(t);return n!==t?n:(0,i.isObject)(t)?((0,i.keysOf)(t).forEach((function(n){var r=t[n];if((0,i.isObject)(r)){var o=d(r);if(r!==o)return void(t[n]=o);e(r)}})),t):t};s._adjustTypesFromJSONValue=p,s.fromJSONValue=function(e){var t=d(e);return t===e&&(0,i.isObject)(e)&&(t=s.clone(e),p(t)),t},s.stringify=(0,i.handleError)((function(e,t){var n=s.toJSONValue(e);return t&&(t.canonical||t.indent)?r(4)(n,t):JSON.stringify(n)})),s.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return s.fromJSONValue(JSON.parse(e))},s.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},s.equals=function(e,t,n){var r,o=!(!n||!n.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,i.isObject)(e)||!(0,i.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(s.isBinary(e)&&s.isBinary(t)){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if((0,i.isFunction)(e.equals))return e.equals(t,n);if((0,i.isFunction)(t.equals))return t.equals(e,n);var a,c=Array.isArray(e),u=Array.isArray(t);if(c!==u)return!1;if(c&&u){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(!s.equals(e[r],t[r],n))return!1;return!0}switch(s._isCustomType(e)+s._isCustomType(t)){case 1:return!1;case 2:return s.equals(s.toJSONValue(e),s.toJSONValue(t))}var l=(0,i.keysOf)(e),d=(0,i.keysOf)(t);return o?(r=0,a=l.every((function(o){return!(r>=d.length||o!==d[r]||!s.equals(e[o],t[d[r]],n)||(r++,0))}))):(r=0,a=l.every((function(o){return!!(0,i.hasOwn)(t,o)&&!!s.equals(e[o],t[o],n)&&(r++,!0)}))),a&&r===d.length},s.clone=function(e){var t;if(!(0,i.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(s.isBinary(e)){t=s.newBinary(e.length);for(var n=0;n<e.length;n++)t[n]=e[n];return t}return Array.isArray(e)?e.map(s.clone):(0,i.isArguments)(e)?Array.from(e).map(s.clone):(0,i.isFunction)(e.clone)?e.clone():s._isCustomType(e)?s.fromJSONValue(s.clone(s.toJSONValue(e)),!0):(t={},(0,i.keysOf)(e).forEach((function(n){t[n]=s.clone(e[n])})),t)},s.newBinary=t.newBinary}(),e.exports=o.EJSON}()},30228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||o&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},32017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},89353:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),a=n(0,o.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(i=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,r(s,arguments));return Object(t)===t?t:this}return o.apply(e,r(s,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,i.prototype=new l,l.prototype=null}return i}},66743:(e,t,n)=>{"use strict";var r=n(89353);e.exports=Function.prototype.bind||r},25884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}},9957:(e,t,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(66743);e.exports=i.call(r,o)},30616:(e,t,n)=>{const r=n(16928),o=n(55335),{fileURLToPath:i}=n(87016),{MessageChannel:s}=n(28167),{importHooks:a,specifiers:c,toHook:u}=n(16467);function l(e){a.push(e),u.forEach((([t,n])=>e(t,n)))}function d(e){const t=a.indexOf(e);t>-1&&a.splice(t,1)}function p(e,t,n,r){const o=e(t,n,r);o&&o!==t&&(t.default=o)}let h;function f(e,t,n){if(this instanceof f==0)return new f(e,t,n);"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null);const s=!!t&&!0===t.internals;h&&Array.isArray(e)&&h(e),this._iitmHook=(t,a)=>{const u=t;let l;if(t.startsWith("node:"))t=t.replace(/^node:/,"");else{if(t.startsWith("file://"))try{t=i(t)}catch(e){}const e=o(t);e&&(t=e.name,l=e.basedir)}if(e){for(const o of e)if(o===t){if(l)if(s)t=t+r.sep+r.relative(l,i(u));else if(!l.endsWith(c.get(u)))continue;p(n,a,t,l)}}else p(n,a,t,l)},l(this._iitmHook)}f.prototype.unhook=function(){d(this._iitmHook)},e.exports=f,e.exports.Hook=f,e.exports.addHook=l,e.exports.removeHook=d,e.exports.createAddHookMessageChannel=function(){const{port1:e,port2:t}=new s;let n,r=0;return h=t=>{r++,e.postMessage(t)},e.on("message",(()=>{r--,n&&r<=0&&n()})).unref(),{registerOptions:{data:{addHookMessagePort:t,include:[]},transferList:[t]},addHookMessagePort:t,waitForAllMessagesAcknowledged:function(){const e=setInterval((()=>{}),1e3),t=new Promise((e=>{n=e})).then((()=>{clearInterval(e)}));return 0===r&&n(),t}}}},16467:(e,t)=>{const n=[],r=new WeakMap,o=new Map,i=[],s={set:(e,t,n)=>r.get(e)[t](n),defineProperty(e,t,n){if(!("value"in n))throw new Error("Getters/setters are not supported for exports property descriptors.");return r.get(e)[t](n.value)}};t.register=function(e,t,a,c){o.set(e,c),r.set(t,a);const u=new Proxy(t,s);n.forEach((t=>t(e,u))),i.push([e,u])},t.importHooks=n,t.specifiers=o,t.toHook=i},69230:(e,t,n)=>{"use strict";var r=n(9957);function o(e,t){for(var n=e.split("."),r=t.split(" "),o=r.length>1?r[0]:"=",i=(r.length>1?r[1]:r[0]).split("."),s=0;s<3;++s){var a=parseInt(n[s]||0,10),c=parseInt(i[s]||0,10);if(a!==c)return"<"===o?a<c:">="===o&&a>=c}return">="===o}function i(e,t){var n=t.split(/ ?&& ?/);if(0===n.length)return!1;for(var r=0;r<n.length;++r)if(!o(e,n[r]))return!1;return!0}var s=n(17324);e.exports=function(e,t){return r(s,e)&&function(e,t){if("boolean"==typeof t)return t;var n=void 0===e?process.versions&&process.versions.node:e;if("string"!=typeof n)throw new TypeError(void 0===e?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&"object"==typeof t){for(var r=0;r<t.length;++r)if(i(n,t[r]))return!0;return!1}return i(n,t)}(t,s[e])}},28570:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=c(e,(0|e)<0?-1:0,!0),s&&(i[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),s&&(o[e]=n),n)}function a(e,t){if(isNaN(e))return t?_:g;if(t){if(e<0)return _;if(e>=h)return T}else{if(e<=-f)return v;if(e+1>=f)return E}return e<0?a(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=a,n.fromBits=c;var u=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var o=a(u(n,8)),i=g,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+c),n);if(c<8){var p=a(u(n,c));i=i.mul(p).add(a(d))}else i=(i=i.mul(o)).add(a(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=s(1<<24),g=s(0);n.ZERO=g;var _=s(0,!0);n.UZERO=_;var b=s(1);n.ONE=b;var S=s(1,!0);n.UONE=S;var y=s(-1);n.NEG_ONE=y;var E=c(-1,2147483647,!1);n.MAX_VALUE=E;var T=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=T;var v=c(0,-2147483648,!1);n.MIN_VALUE=v;var I=n.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(v)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=a(u(e,6),this.unsigned),i=this,s="";;){var c=i.div(o),l=(i.sub(c.mul(o)).toInt()>>>0).toString(e);if((i=c).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(v)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return!(1&~this.low)},I.isEven=function(){return!(1&this.low)},I.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(v)?v:this.not().add(b)},I.neg=I.negate,I.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,l=0,p=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,p+=(h+=o+u)>>>16,l+=(p+=n+a)>>>16,l+=t+s,c((h&=65535)<<16|(f&=65535),(l&=65535)<<16|(p&=65535),this.unsigned)},I.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(v))return e.isOdd()?v:g;if(e.eq(v))return this.isOdd()?v:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return a(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,s=65535&this.low,u=e.high>>>16,l=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,_=0,b=0,S=0;return b+=(S+=s*h)>>>16,_+=(b+=i*h)>>>16,b&=65535,_+=(b+=s*p)>>>16,f+=(_+=o*h)>>>16,_&=65535,f+=(_+=i*p)>>>16,_&=65535,f+=(_+=s*l)>>>16,f+=n*h+o*p+i*l+s*u,c((b&=65535)<<16|(S&=65535),(f&=65535)<<16|(_&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _;if(e.gt(this.shru(1)))return S;i=_}else{if(this.eq(v))return e.eq(b)||e.eq(y)?v:e.eq(v)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:y:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(v))return this.unsigned?_:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),l=s<=48?1:u(2,s-48),p=a(n),h=p.mul(e);h.isNegative()||h.gt(o);)h=(p=a(n-=l,this.unsigned)).mul(e);p.isZero()&&(p=b),i=i.add(p),o=o.sub(h)}return i},I.div=I.divide,I.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return c(~this.low,~this.high,this.unsigned)},I.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},84865:e=>{"use strict";const t=(e,t,r,o)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!n(i,s)&&o||Object.defineProperty(e,r,s)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>`/* Wrapped ${e}*/\n${t}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,n,{ignoreNonConfigurable:s=!1}={})=>{const{name:a}=e;for(const r of Reflect.ownKeys(n))t(e,n,r,s);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,n),((e,t,n)=>{const s=""===n?"":`with ${n.trim()}() `,a=r.bind(null,s,t.toString());Object.defineProperty(a,"name",i),Object.defineProperty(e,"toString",{...o,value:a})})(e,n,a),e}},55335:(e,t,n)=>{"use strict";var r=n(16928);e.exports=function(e){var t=e.split(r.sep),n=t.lastIndexOf("node_modules");if(-1!==n&&t[n+1]){var o="@"===t[n+1][0],i=o?3:2;return{name:o?t[n+1]+"/"+t[n+2]:t[n+1],basedir:t.slice(0,n+i).join(r.sep),path:t.slice(n+i).join(r.sep)}}}},6585:e=>{var t=1e3,n=60*t,r=60*n,o=24*r,i=7*o;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,a){a=a||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return a.long?(c=e,(u=Math.abs(c))>=o?s(c,u,o,"day"):u>=r?s(c,u,r,"hour"):u>=n?s(c,u,n,"minute"):u>=t?s(c,u,t,"second"):c+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},68169:(e,t,n)=>{const r=require;"function"==typeof r.addon?e.exports=r.addon.bind(r):e.exports=n(1381)},1381:(e,t,n)=>{var r=n(79896),o=n(16928),i=n(70857),s=require,a=process.config&&process.config.variables||{},c=!!process.env.PREBUILDS_ONLY,u=process.versions.modules,l=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",d=process.env.npm_config_arch||i.arch(),p=process.env.npm_config_platform||i.platform(),h=process.env.LIBC||(function(e){return"linux"===e&&r.existsSync("/etc/alpine-release")}(p)?"musl":"glibc"),f=process.env.ARM_VERSION||("arm64"===d?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function g(e){return s(g.resolve(e))}function _(e){try{return r.readdirSync(e)}catch(e){return[]}}function b(e,t){var n=_(e).filter(t);return n[0]&&o.join(e,n[0])}function S(e){return/\.node$/.test(e)}function y(e){var t=e.split("-");if(2===t.length){var n=t[0],r=t[1].split("+");if(n&&r.length&&r.every(Boolean))return{name:e,platform:n,architectures:r}}}function E(e,t){return function(n){return null!=n&&n.platform===e&&n.architectures.includes(t)}}function T(e,t){return e.architectures.length-t.architectures.length}function v(e){var t=e.split("."),n={file:e,specificity:0};if("node"===t.pop()){for(var r=0;r<t.length;r++){var o=t[r];if("node"===o||"electron"===o||"node-webkit"===o)n.runtime=o;else if("napi"===o)n.napi=!0;else if("abi"===o.slice(0,3))n.abi=o.slice(3);else if("uv"===o.slice(0,2))n.uv=o.slice(2);else if("armv"===o.slice(0,4))n.armv=o.slice(4);else{if("glibc"!==o&&"musl"!==o)continue;n.libc=o}n.specificity++}return n}}function I(e,t){return function(n){return!(null==n||n.runtime&&n.runtime!==e&&!function(e){return"node"===e.runtime&&e.napi}(n)||n.abi&&n.abi!==t&&!n.napi||n.uv&&n.uv!==m||n.armv&&n.armv!==f||n.libc&&n.libc!==h)}}function R(e){return function(t,n){return t.runtime!==n.runtime?t.runtime===e?-1:1:t.abi!==n.abi?t.abi?-1:1:t.specificity!==n.specificity?t.specificity>n.specificity?-1:1:0}}e.exports=g,g.resolve=g.path=function(e){e=o.resolve(e||".");try{var t=s(o.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!c){var n=b(o.join(e,"build/Release"),S);if(n)return n;var r=b(o.join(e,"build/Debug"),S);if(r)return r}var i=A(e);if(i)return i;var a=A(o.dirname(process.execPath));if(a)return a;var g=["platform="+p,"arch="+d,"runtime="+l,"abi="+u,"uv="+m,f?"armv="+f:"","libc="+h,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+g+"\n    loaded from: "+e+"\n");function A(e){var t=_(o.join(e,"prebuilds")).map(y).filter(E(p,d)).sort(T)[0];if(t){var n=o.join(e,"prebuilds",t.name),r=_(n).map(v).filter(I(l,u)).sort(R(l))[0];return r?o.join(n,r.file):void 0}}},g.parseTags=v,g.matchTags=I,g.compareTags=R,g.parseTuple=y,g.matchTuple=E,g.compareTuples=T},20825:(e,t,n)=>{var r=r||n(7026),o=o||n(15170),i=i||n(24434).EventEmitter;!function(){"use strict";r.supportsSerial=!1,r.firePacketEvents=function(e,t,n,o){t.address?e.emit("message",t,n,o):r.fireBundleEvents(e,t,n,o)},r.fireBundleEvents=function(e,t,n,o){e.emit("bundle",t,n,o);for(var i=0;i<t.packets.length;i++){var s=t.packets[i];r.firePacketEvents(e,s,t.timeTag,o)}},r.fireClosedPortSendError=function(e,t){t=t||"Can't send packets on a closed osc.Port object. Please open (or reopen) this Port by calling open().",e.emit("error",t)},r.Port=function(e){this.options=e||{},this.on("data",this.decodeOSC.bind(this))};var t=r.Port.prototype=Object.create(i.prototype);t.constructor=r.Port,t.send=function(e){var t=Array.prototype.slice.call(arguments),n=this.encodeOSC(e),o=r.nativeBuffer(n);t[0]=o,this.sendRaw.apply(this,t)},t.encodeOSC=function(e){var t;e=e.buffer?e.buffer:e;try{t=r.writePacket(e,this.options)}catch(e){this.emit("error",e)}return t},t.decodeOSC=function(e,t){e=r.byteArray(e),this.emit("raw",e,t);try{var n=r.readPacket(e,this.options);this.emit("osc",n,t),r.firePacketEvents(this,n,void 0,t)}catch(e){this.emit("error",e)}},r.SLIPPort=function(e){var t=this,n=this.options=e||{};n.useSLIP=void 0===n.useSLIP||n.useSLIP,this.decoder=new o.Decoder({onMessage:this.decodeOSC.bind(this),onError:function(e){t.emit("error",e)}});var r=n.useSLIP?this.decodeSLIPData:this.decodeOSC;this.on("data",r.bind(this))},(t=r.SLIPPort.prototype=Object.create(r.Port.prototype)).constructor=r.SLIPPort,t.encodeOSC=function(e){var t;e=e.buffer?e.buffer:e;try{var n=r.writePacket(e,this.options);t=o.encode(n)}catch(e){this.emit("error",e)}return t},t.decodeSLIPData=function(e,t){this.decoder.decode(e,t)},r.relay=function(e,t,n,r,o,i){n=n||"message",r=r||"send",o=o||function(){},i=i?[null].concat(i):[];var s=function(e){i[0]=e,e=o(e),t[r].apply(t,i)};return e.on(n,s),{eventName:n,listener:s}},r.relayPorts=function(e,t,n){var o=n.raw?"raw":"osc",i=n.raw?"sendRaw":"send";return r.relay(e,t,o,i,n.transform)},r.stopRelaying=function(e,t){e.removeListener(t.eventName,t.listener)},r.Relay=function(e,t,n){(this.options=n||{}).raw=!1,this.port1=e,this.port2=t,this.listen()},(t=r.Relay.prototype=Object.create(i.prototype)).constructor=r.Relay,t.open=function(){this.port1.open(),this.port2.open()},t.listen=function(){this.port1Spec&&this.port2Spec&&this.close(),this.port1Spec=r.relayPorts(this.port1,this.port2,this.options),this.port2Spec=r.relayPorts(this.port2,this.port1,this.options);var e=this.close.bind(this);this.port1.on("close",e),this.port2.on("close",e)},t.close=function(){r.stopRelaying(this.port1,this.port1Spec),r.stopRelaying(this.port2,this.port2Spec),this.emit("close",this.port1,this.port2)},e.exports&&(e.exports=r)}()},7026:(e,t,n)=>{var r=r||{};!function(){"use strict";r.SECS_70YRS=2208988800,r.TWO_32=4294967296,r.defaults={metadata:!1,unpackSingleArgs:!0},r.isCommonJS=!!e.exports,r.isNode=r.isCommonJS&&"undefined"==typeof window,r.isElectron=!("undefined"==typeof process||!process.versions||!process.versions.electron),r.isBufferEnv=r.isNode||r.isElectron,r.isArray=function(e){return e&&"[object Array]"===Object.prototype.toString.call(e)},r.isTypedArrayView=function(e){return e.buffer&&e.buffer instanceof ArrayBuffer},r.isBuffer=function(e){return r.isBufferEnv&&e instanceof Buffer},r.Long="undefined"!=typeof Long?Long:r.isNode?n(28570):void 0,r.TextDecoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):"undefined"!=typeof util&&(util.TextDecoder,1)?new util.TextDecoder("utf-8"):void 0,r.TextEncoder="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):"undefined"!=typeof util&&(util.TextEncoder,1)?new util.TextEncoder("utf-8"):void 0,r.dataView=function(e,t,n){return e.buffer?new DataView(e.buffer,t,n):e instanceof ArrayBuffer?new DataView(e,t,n):new DataView(new Uint8Array(e),t,n)},r.byteArray=function(e){if(e instanceof Uint8Array)return e;var t=e.buffer?e.buffer:e;if(!(t instanceof ArrayBuffer||void 0!==t.length&&"string"!=typeof t))throw new Error("Can't wrap a non-array-like object as Uint8Array. Object was: "+JSON.stringify(e,null,2));return new Uint8Array(t)},r.nativeBuffer=function(e){return r.isBufferEnv?r.isBuffer(e)?e:Buffer.from(e.buffer?e:new Uint8Array(e)):r.isTypedArrayView(e)?e:new Uint8Array(e)},r.copyByteArray=function(e,t,n){if(r.isTypedArrayView(e)&&r.isTypedArrayView(t))t.set(e,n);else for(var o=void 0===n?0:n,i=Math.min(t.length-n,e.length),s=0,a=o;s<i;s++,a++)t[a]=e[s];return t},r.readString=function(e,t){for(var n=[],o=t.idx;o<e.byteLength;o++){var i=e.getUint8(o);if(0===i){o++;break}n.push(i)}return o=o+3&-4,t.idx=o,(r.isBufferEnv?r.readString.withBuffer:r.TextDecoder?r.readString.withTextDecoder:r.readString.raw)(n)},r.readString.raw=function(e){for(var t="",n=0;n<e.length;n+=1e4)t+=String.fromCharCode.apply(null,e.slice(n,n+1e4));return t},r.readString.withTextDecoder=function(e){var t=new Int8Array(e);return r.TextDecoder.decode(t)},r.readString.withBuffer=function(e){return Buffer.from(e).toString("utf-8")},r.writeString=function(e){var t,n=r.isBufferEnv?r.writeString.withBuffer:r.TextEncoder?r.writeString.withTextEncoder:null,o=e+"\0";n&&(t=n(o));for(var i=n?t.length:o.length,s=new Uint8Array(i+3&-4),a=0;a<i-1;a++){var c=n?t[a]:o.charCodeAt(a);s[a]=c}return s},r.writeString.withTextEncoder=function(e){return r.TextEncoder.encode(e)},r.writeString.withBuffer=function(e){return Buffer.from(e)},r.readPrimitive=function(e,t,n,r){var o=e[t](r.idx,!1);return r.idx+=n,o},r.writePrimitive=function(e,t,n,r,o){var i;return o=void 0===o?0:o,t?i=new Uint8Array(t.buffer):(i=new Uint8Array(r),t=new DataView(i.buffer)),t[n](o,e,!1),i},r.readInt32=function(e,t){return r.readPrimitive(e,"getInt32",4,t)},r.writeInt32=function(e,t,n){return r.writePrimitive(e,t,"setInt32",4,n)},r.readInt64=function(e,t){var n=r.readPrimitive(e,"getInt32",4,t),o=r.readPrimitive(e,"getInt32",4,t);return r.Long?new r.Long(o,n):{high:n,low:o,unsigned:!1}},r.writeInt64=function(e,t,n){var o=new Uint8Array(8);return o.set(r.writePrimitive(e.high,t,"setInt32",4,n),0),o.set(r.writePrimitive(e.low,t,"setInt32",4,n+4),4),o},r.readFloat32=function(e,t){return r.readPrimitive(e,"getFloat32",4,t)},r.writeFloat32=function(e,t,n){return r.writePrimitive(e,t,"setFloat32",4,n)},r.readFloat64=function(e,t){return r.readPrimitive(e,"getFloat64",8,t)},r.writeFloat64=function(e,t,n){return r.writePrimitive(e,t,"setFloat64",8,n)},r.readChar32=function(e,t){var n=r.readPrimitive(e,"getUint32",4,t);return String.fromCharCode(n)},r.writeChar32=function(e,t,n){var o=e.charCodeAt(0);if(!(void 0===o||o<-1))return r.writePrimitive(o,t,"setUint32",4,n)},r.readBlob=function(e,t){var n=r.readInt32(e,t),o=n+3&-4,i=new Uint8Array(e.buffer,t.idx,n);return t.idx+=o,i},r.writeBlob=function(e){var t=(e=r.byteArray(e)).byteLength,n=new Uint8Array(4+(t+3&-4)),o=new DataView(n.buffer);return r.writeInt32(t,o),n.set(e,4),n},r.readMIDIBytes=function(e,t){var n=new Uint8Array(e.buffer,t.idx,4);return t.idx+=4,n},r.writeMIDIBytes=function(e){e=r.byteArray(e);var t=new Uint8Array(4);return t.set(e),t},r.readColor=function(e,t){var n=new Uint8Array(e.buffer,t.idx,4),r=n[3]/255;return t.idx+=4,{r:n[0],g:n[1],b:n[2],a:r}},r.writeColor=function(e){var t=Math.round(255*e.a);return new Uint8Array([e.r,e.g,e.b,t])},r.readTrue=function(){return!0},r.readFalse=function(){return!1},r.readNull=function(){return null},r.readImpulse=function(){return 1},r.readTimeTag=function(e,t){var n=r.readPrimitive(e,"getUint32",4,t),o=r.readPrimitive(e,"getUint32",4,t);return{raw:[n,o],native:0===n&&1===o?Date.now():r.ntpToJSTime(n,o)}},r.writeTimeTag=function(e){var t=e.raw?e.raw:r.jsToNTPTime(e.native),n=new Uint8Array(8),o=new DataView(n.buffer);return r.writeInt32(t[0],o,0),r.writeInt32(t[1],o,4),n},r.timeTag=function(e,t){e=e||0;var n=(t=t||Date.now())/1e3,o=Math.floor(n),i=n-o,s=Math.floor(e),a=i+(e-s);if(a>1){var c=Math.floor(a);s+=c,a-=c}return{raw:[o+s+r.SECS_70YRS,Math.round(r.TWO_32*a)]}},r.ntpToJSTime=function(e,t){return 1e3*(e-r.SECS_70YRS+t/r.TWO_32)},r.jsToNTPTime=function(e){var t=e/1e3,n=Math.floor(t),o=t-n;return[n+r.SECS_70YRS,Math.round(r.TWO_32*o)]},r.readArguments=function(e,t,n){var o=r.readString(e,n);if(0!==o.indexOf(","))throw new Error("A malformed type tag string was found while reading the arguments of an OSC message. String was: "+o," at offset: "+n.idx);var i=o.substring(1).split(""),s=[];return r.readArgumentsIntoArray(s,i,o,e,t,n),s},r.readArgument=function(e,t,n,o,i){var s=r.argumentTypes[e];if(!s)throw new Error("'"+e+"' is not a valid OSC type tag. Type tag string was: "+t);var a=s.reader,c=r[a](n,i);return o.metadata&&(c={type:e,value:c}),c},r.readArgumentsIntoArray=function(e,t,n,o,i,s){for(var a=0;a<t.length;){var c,u=t[a];if("["===u){var l=t.slice(a+1),d=l.indexOf("]");if(d<0)throw new Error("Invalid argument type tag: an open array type tag ('[') was found without a matching close array tag ('[]'). Type tag was: "+n);var p=l.slice(0,d);c=r.readArgumentsIntoArray([],p,n,o,i,s),a+=d+2}else c=r.readArgument(u,n,o,i,s),a++;e.push(c)}return e},r.writeArguments=function(e,t){var n=r.collectArguments(e,t);return r.joinParts(n)},r.joinParts=function(e){for(var t=new Uint8Array(e.byteLength),n=e.parts,o=0,i=0;i<n.length;i++){var s=n[i];r.copyByteArray(s,t,o),o+=s.length}return t},r.addDataPart=function(e,t){t.parts.push(e),t.byteLength+=e.length},r.writeArrayArguments=function(e,t){for(var n="[",o=0;o<e.length;o++){var i=e[o];n+=r.writeArgument(i,t)}return n+"]"},r.writeArgument=function(e,t){if(r.isArray(e))return r.writeArrayArguments(e,t);var n=e.type,o=r.argumentTypes[n].writer;if(o){var i=r[o](e.value);r.addDataPart(i,t)}return e.type},r.collectArguments=function(e,t,n){r.isArray(e)||(e=void 0===e?[]:[e]),n=n||{byteLength:0,parts:[]},t.metadata||(e=r.annotateArguments(e));for(var o=",",i=n.parts.length,s=0;s<e.length;s++){var a=e[s];o+=r.writeArgument(a,n)}var c=r.writeString(o);return n.byteLength+=c.byteLength,n.parts.splice(i,0,c),n},r.readMessage=function(e,t,n){t=t||r.defaults;var o=r.dataView(e,e.byteOffset,e.byteLength);n=n||{idx:0};var i=r.readString(o,n);return r.readMessageContents(i,o,t,n)},r.readMessageContents=function(e,t,n,o){if(0!==e.indexOf("/"))throw new Error("A malformed OSC address was found while reading an OSC message. String was: "+e);var i=r.readArguments(t,n,o);return{address:e,args:1===i.length&&n.unpackSingleArgs?i[0]:i}},r.collectMessageParts=function(e,t,n){return n=n||{byteLength:0,parts:[]},r.addDataPart(r.writeString(e.address),n),r.collectArguments(e.args,t,n)},r.writeMessage=function(e,t){if(t=t||r.defaults,!r.isValidMessage(e))throw new Error("An OSC message must contain a valid address. Message was: "+JSON.stringify(e,null,2));var n=r.collectMessageParts(e,t);return r.joinParts(n)},r.isValidMessage=function(e){return e.address&&0===e.address.indexOf("/")},r.readBundle=function(e,t,n){return r.readPacket(e,t,n)},r.collectBundlePackets=function(e,t,n){n=n||{byteLength:0,parts:[]},r.addDataPart(r.writeString("#bundle"),n),r.addDataPart(r.writeTimeTag(e.timeTag),n);for(var o=0;o<e.packets.length;o++){var i=e.packets[o],s=(i.address?r.collectMessageParts:r.collectBundlePackets)(i,t);n.byteLength+=s.byteLength,r.addDataPart(r.writeInt32(s.byteLength),n),n.parts=n.parts.concat(s.parts)}return n},r.writeBundle=function(e,t){if(!r.isValidBundle(e))throw new Error("An OSC bundle must contain 'timeTag' and 'packets' properties. Bundle was: "+JSON.stringify(e,null,2));t=t||r.defaults;var n=r.collectBundlePackets(e,t);return r.joinParts(n)},r.isValidBundle=function(e){return void 0!==e.timeTag&&void 0!==e.packets},r.readBundleContents=function(e,t,n,o){for(var i=r.readTimeTag(e,n),s=[];n.idx<o;){var a=r.readInt32(e,n),c=n.idx+a,u=r.readPacket(e,t,n,c);s.push(u)}return{timeTag:i,packets:s}},r.readPacket=function(e,t,n,o){var i=r.dataView(e,e.byteOffset,e.byteLength);o=void 0===o?i.byteLength:o,n=n||{idx:0};var s=r.readString(i,n),a=s[0];if("#"===a)return r.readBundleContents(i,t,n,o);if("/"===a)return r.readMessageContents(s,i,t,n);throw new Error("The header of an OSC packet didn't contain an OSC address or a #bundle string. Header was: "+s)},r.writePacket=function(e,t){if(r.isValidMessage(e))return r.writeMessage(e,t);if(r.isValidBundle(e))return r.writeBundle(e,t);throw new Error("The specified packet was not recognized as a valid OSC message or bundle. Packet was: "+JSON.stringify(e,null,2))},r.argumentTypes={i:{reader:"readInt32",writer:"writeInt32"},h:{reader:"readInt64",writer:"writeInt64"},f:{reader:"readFloat32",writer:"writeFloat32"},s:{reader:"readString",writer:"writeString"},S:{reader:"readString",writer:"writeString"},b:{reader:"readBlob",writer:"writeBlob"},t:{reader:"readTimeTag",writer:"writeTimeTag"},T:{reader:"readTrue"},F:{reader:"readFalse"},N:{reader:"readNull"},I:{reader:"readImpulse"},d:{reader:"readFloat64",writer:"writeFloat64"},c:{reader:"readChar32",writer:"writeChar32"},r:{reader:"readColor",writer:"writeColor"},m:{reader:"readMIDIBytes",writer:"writeMIDIBytes"}},r.inferTypeForArgument=function(e){switch(typeof e){case"boolean":return e?"T":"F";case"string":return"s";case"number":return"f";case"undefined":return"N";case"object":if(null===e)return"N";if(e instanceof Uint8Array||e instanceof ArrayBuffer)return"b";if("number"==typeof e.high&&"number"==typeof e.low)return"h"}throw new Error("Can't infer OSC argument type for value: "+JSON.stringify(e,null,2))},r.annotateArguments=function(e){for(var t=[],n=0;n<e.length;n++){var o,i=e[n];o="object"==typeof i&&i.type&&void 0!==i.value?i:r.isArray(i)?r.annotateArguments(i):{type:r.inferTypeForArgument(i),value:i},t.push(o)}return t},r.isCommonJS&&(e.exports=r)}()},97542:(e,t,n)=>{var r=r||n(7026);try{n(4987),n(22920)}catch(e){r.SerialPort=function(){throw new Error("The Node.js SerialPort library is not installed. osc.js' serial transport is unavailable.")}}},22920:(e,t,n)=>{var r=r||n(7026),o=n(4987).SerialPort;r.supportsSerial=!0,r.SerialPort=function(e){this.on("open",this.listen.bind(this)),r.SLIPPort.call(this,e),this.options.bitrate=this.options.bitrate||9600,this.serialPort=e.serialPort,this.serialPort&&this.emit("open",this.serialPort)};var i=r.SerialPort.prototype=Object.create(r.SLIPPort.prototype);i.constructor=r.SerialPort,i.open=function(){if(this.serialPort)return this.once("close",this.open.bind(this)),void this.close();var e=this;this.serialPort=new o({path:this.options.devicePath,baudRate:this.options.bitrate,autoOpen:!1}),this.serialPort.on("error",(function(t){e.emit("error",t)})),this.serialPort.on("open",(function(){e.emit("open",e.serialPort)})),this.serialPort.open()},i.listen=function(){var e=this;this.serialPort.on("data",(function(t){e.emit("data",t,void 0)})),this.serialPort.on("close",(function(){e.emit("close")})),e.emit("ready")},i.sendRaw=function(e){this.serialPort&&this.serialPort.isOpen?this.serialPort.write(e):r.fireClosedPortSendError(this)},i.close=function(){this.serialPort&&this.serialPort.close()}},29562:(e,t,n)=>{!function(){"use strict";var t,r,o=n(7194),i=n(69278),s=(n(17699),[n(7026),n(20825),n(82627),n(97542)]),a=(t=(t={})||{},void 0===(r=s).forEach&&(r=[r]),r.forEach((function(e){for(var n in e)t[n]=e[n]})),t);a.UDPPort=function(e){a.Port.call(this,e),this.options.localAddress=this.options.localAddress||"127.0.0.1",this.options.localPort=void 0!==this.options.localPort?this.options.localPort:57121,this.options.remoteAddress=this.options.remoteAddress||"127.0.0.1",this.options.remotePort=void 0!==this.options.remotePort?this.options.remotePort:57121,this.on("open",this.listen.bind(this)),this.socket=e.socket,this.socket&&this.emit("open",this.socket)};var c=a.UDPPort.prototype=Object.create(a.Port.prototype);c.constructor=a.UDPPort,c.open=function(){var e=this;this.socket||(this.socket=o.createSocket("udp4"),this.socket.on("error",(function(t){e.emit("error",t)})),this.socket.bind(this.options.localPort,this.options.localAddress,(function(){a.UDPPort.setupMulticast(e),e.options.broadcast&&e.socket.setBroadcast(e.options.broadcast),e.emit("open",e.socket)})))},c.listen=function(){if(this.socket){var e=this;this.socket.on("message",(function(t,n){e.emit("data",t,n)})),this.socket.on("close",(function(){e.emit("close")})),e.emit("ready")}},c.sendRaw=function(e,t,n){if(this.socket){var r=void 0!==e.byteLength?e.byteLength:e.length,o=this;t=t||this.options.remoteAddress,n=void 0!==n?n:this.options.remotePort,this.socket.send(e,0,r,n,t,(function(e){e&&o.emit("error",e)}))}else a.fireClosedPortSendError(this)},c.close=function(){this.socket&&this.socket.close()},a.UDPPort.setupMulticast=function(e){void 0!==e.options.multicastTTL&&e.socket.setMulticastTTL(e.options.multicastTTL),e.options.multicastMembership&&("string"==typeof e.options.multicastMembership&&(e.options.multicastMembership=[e.options.multicastMembership]),e.options.multicastMembership.forEach((function(t){"string"==typeof t?e.socket.addMembership(t):e.socket.addMembership(t.address,t.interface)})))},a.TCPSocketPort=function(e){a.SLIPPort.call(this,e);var t=this.options;t.address=t.address||t.localAddress||"127.0.0.1",t.port=void 0!==t.port?t.port:void 0!==t.localPort?t.localPort:57121,this.on("open",this.listen.bind(this)),this.socket=e.socket,this.socket&&this.emit("open",this.socket)},(c=a.TCPSocketPort.prototype=Object.create(a.SLIPPort.prototype)).constructor=a.TCPSocketPort,c.open=function(e,t){var n=this.options;e=e||n.address,t=void 0!==t?t:n.port,this.socket?this.socket.connect(t,e):this.socket=i.connect({port:t,host:e}),this.emit("open",this.socket)},c.listen=function(){var e=this;this.socket.on("data",(function(t){e.emit("data",t,void 0)})),this.socket.on("error",(function(t){e.emit("error",t)})),this.socket.on("close",(function(t){e.emit("close",t)})),this.socket.on("connect",(function(){e.emit("ready")}))},c.sendRaw=function(e){if(this.socket){e=Buffer.from(e);try{this.socket.write(e)}catch(e){this.emit("error",e)}}},c.close=function(){this.socket.end()},e.exports=a}()},82627:(e,t,n)=>{var r=r||n(7026);!function(){"use strict";r.WebSocket="undefined"!=typeof WebSocket?WebSocket:n(17699),r.WebSocketPort=function(e){r.Port.call(this,e),this.on("open",this.listen.bind(this)),this.socket=e.socket,this.socket&&(1===this.socket.readyState?(r.WebSocketPort.setupSocketForBinary(this.socket),this.emit("open",this.socket)):this.open())};var e=r.WebSocketPort.prototype=Object.create(r.Port.prototype);e.constructor=r.WebSocketPort,e.open=function(){(!this.socket||this.socket.readyState>1)&&(this.socket=new r.WebSocket(this.options.url)),r.WebSocketPort.setupSocketForBinary(this.socket);var e=this;this.socket.onopen=function(){e.emit("open",e.socket)},this.socket.onerror=function(t){e.emit("error",t)}},e.listen=function(){var e=this;this.socket.onmessage=function(t){e.emit("data",t.data,t)},this.socket.onclose=function(t){e.emit("close",t)},e.emit("ready")},e.sendRaw=function(e){this.socket&&1===this.socket.readyState?this.socket.send(e):r.fireClosedPortSendError(this)},e.close=function(e,t){this.socket.close(e,t)},r.WebSocketPort.setupSocketForBinary=function(e){e.binaryType=r.isNode?"nodebuffer":"arraybuffer"}}()},44617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},73290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30228),o=n(57685),i=n(54774),s=()=>{},a=new o.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==o?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():o.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(a)}));n(await i)}catch(e){r(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},79998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,o=e.length;for(;o>0;){const i=o/2|0;let s=r+i;n(e[s],t)<=0?(r=++s,o-=i+1):o=i}return r}},54774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const o=r.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(o,0,n)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},57685:(e,t,n)=>{"use strict";const r=n(44617);class o extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=(e,t,n)=>new Promise(((i,s)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void i(e);const a=setTimeout((()=>{if("function"==typeof n){try{i(n())}catch(e){s(e)}return}const r=n instanceof Error?n:new o("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),s(r)}),t);r(e.then(i,s),(()=>{clearTimeout(a)}))}));e.exports=i,e.exports.default=i,e.exports.TimeoutError=o},70992:e=>{"use strict";var t="win32"===process.platform,n=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,r={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,r=(t=e,n.exec(t).slice(1));if(!r||5!==r.length)throw new TypeError("Invalid path '"+e+"'");return{root:r[1],dir:r[0]===r[1]?r[0]:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}}},o=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,i={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,n=(t=e,o.exec(t).slice(1));if(!n||5!==n.length)throw new TypeError("Invalid path '"+e+"'");return{root:n[1],dir:n[0].slice(0,-1),base:n[2],ext:n[4],name:n[3]}}};e.exports=t?r.parse:i.parse,e.exports.posix=i.parse,e.exports.win32=r.parse},69136:(e,t,n)=>{"use strict";const r=n(16928),o=n(73339),i=n(69607),s=n(45753)("require-in-the-middle"),a=n(55335);let c;if(e.exports=d,e.exports.Hook=d,o.isBuiltin)c=o.isBuiltin;else{const[e,t]=process.versions.node.split(".").map(Number);c=8===e&&t<8?e=>"http2"===e||!!i.core[e]:e=>!!i.core[e]}const u=/([/\\]index)?(\.js)?$/;class l{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{const t=n.c[e];return!(!t||!(this._kRitmExports in t))}}get(e,t){const r=this._localCache.get(e);if(void 0!==r)return r;if(!t){const t=n.c[e];return t&&t[this._kRitmExports]}}set(e,t,r){r?this._localCache.set(e,t):e in n.c?n.c[e][this._kRitmExports]=t:(s('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}}function d(e,t,p){if(this instanceof d==0)return new d(e,t,p);if("function"==typeof e?(p=e,e=null,t=null):"function"==typeof t&&(p=t,t=null),"function"!=typeof o._resolveFilename)return console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof o._resolveFilename),void console.error("Please report this error as an issue related to Node.js %s at %s",process.version,n(36667).SN.O);this._cache=new l,this._unhooked=!1,this._origRequire=o.prototype.require;const h=this,f=new Set,m=!!t&&!0===t.internals,g=Array.isArray(e);function _(t,n){const l=t[0],d=c(l);let _,b,S;if(d){if(_=l,l.startsWith("node:")){const e=l.slice(5);c(e)&&(_=e)}}else{if(n)return s("call to process.getBuiltinModule with unknown built-in id"),h._origGetBuiltinModule.apply(this,t);try{_=o._resolveFilename(l,this)}catch(e){return s('Module._resolveFilename("%s") threw %j, calling original Module.require',l,e.message),h._origRequire.apply(this,t)}}if(s("processing %s module require('%s'): %s",!0===d?"core":"non-core",l,_),!0===h._cache.has(_,d))return s("returning already patched cached module: %s",_),h._cache.get(_,d);const y=f.has(_);!1===y&&f.add(_);const E=n?h._origGetBuiltinModule.apply(this,t):h._origRequire.apply(this,t);if(!0===y)return s("module is in the process of being patched already - ignoring: %s",_),E;if(f.delete(_),!0===d){if(!0===g&&!1===e.includes(_))return s("ignoring core module not on whitelist: %s",_),E;b=_}else if(!0===g&&e.includes(_)){const e=r.parse(_);b=e.name,S=e.dir}else{const t=a(_);if(void 0===t)return s("could not parse filename: %s",_),E;b=t.name,S=t.basedir;const n=function(e){const t="/"!==r.sep?e.path.split(r.sep).join("/"):e.path;return r.posix.join(e.name,t).replace(u,"")}(t);s("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",b,l,n,S);let o=!1;if(g){if(!l.startsWith(".")&&e.includes(l)&&(b=l,o=!0),!e.includes(b)&&!e.includes(n))return E;e.includes(n)&&n!==b&&(b=n,o=!0)}if(!o){let e;try{e=i.sync(b,{basedir:S})}catch(e){return s("could not resolve module: %s",b),h._cache.set(_,E,d),E}if(e!==_){if(!0!==m)return s("ignoring require of non-main module file: %s",e),h._cache.set(_,E,d),E;b=b+r.sep+r.relative(S,_),s("preparing to process require of internal file: %s",b)}}}h._cache.set(_,E,d),s("calling require hook: %s",b);const T=p(E,b,S);return h._cache.set(_,T,d),s("returning module: %s",b),T}s("registering require hook"),this._require=o.prototype.require=function(e){return!0===h._unhooked?(s("ignoring require call - module is soft-unhooked"),h._origRequire.apply(this,arguments)):_.call(this,arguments,!1)},"function"==typeof process.getBuiltinModule&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(e){return!0===h._unhooked?(s("ignoring process.getBuiltinModule call - module is soft-unhooked"),h._origGetBuiltinModule.apply(this,arguments)):_.call(this,arguments,!0)})}d.prototype.unhook=function(){this._unhooked=!0,this._require===o.prototype.require?(o.prototype.require=this._origRequire,s("require unhook successful")):s("require unhook unsuccessful"),void 0!==process.getBuiltinModule&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,s("process.getBuiltinModule unhook successful")):s("process.getBuiltinModule unhook unsuccessful"))}},69607:(e,t,n)=>{var r=n(1295);r.core=n(11088),r.isCore=n(99359),r.sync=n(46244),e.exports=r},1295:(e,t,n)=>{var r=n(79896),o=n(25573),i=n(16928),s=n(94664),a=n(67730),c=n(11287),u=n(69230),l="win32"!==process.platform&&r.realpath&&"function"==typeof r.realpath.native?r.realpath.native:r.realpath,d=o(),p=function(e,t){r.stat(e,(function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,n.isFile()||n.isFIFO())}))},h=function(e,t){r.stat(e,(function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,n.isDirectory())}))},f=function(e,t){l(e,(function(n,r){n&&"ENOENT"!==n.code?t(n):t(null,n?e:r)}))},m=function(e,t,n,r){n&&!1===n.preserveSymlinks?e(t,r):r(null,t)},g=function(e,t,n){e(t,(function(e,t){if(e)n(e);else try{var r=JSON.parse(t);n(null,r)}catch(e){n(null)}}))};e.exports=function(e,t,n){var o=n,l=t;if("function"==typeof t&&(o=l,l={}),"string"!=typeof e){var _=new TypeError("Path must be a string.");return process.nextTick((function(){o(_)}))}var b=(l=c(e,l)).isFile||p,S=l.isDirectory||h,y=l.readFile||r.readFile,E=l.realpath||f,T=l.readPackage||g;if(l.readFile&&l.readPackage){var v=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick((function(){o(v)}))}var I=l.packageIterator,R=l.extensions||[".js"],A=!1!==l.includeCoreModules,C=l.basedir||i.dirname(s()),O=l.filename||C;l.paths=l.paths||[i.join(d,".node_modules"),i.join(d,".node_libraries")];var N,w=i.resolve(C);function P(t,n,r){t?o(t):n?o(null,n,r):x(N,(function(t,n,r){if(t)o(t);else if(n)m(E,n,l,(function(e,t){e?o(e):o(null,t,r)}));else{var i=new Error("Cannot find module '"+e+"' from '"+O+"'");i.code="MODULE_NOT_FOUND",o(i)}}))}function M(e,t,n){var r=t,o=n;"function"==typeof r&&(o=r,r=void 0),function e(t,n,r){if(0===t.length)return o(null,void 0,r);var s=n+t[0],a=r;function c(r,c,d){if(a=c,r)return o(r);if(d&&a&&l.pathFilter){var p=i.relative(d,s),h=p.slice(0,p.length-t[0].length),f=l.pathFilter(a,n,h);if(f)return e([""].concat(R.slice()),i.resolve(d,f),a)}b(s,u)}function u(r,i){return r?o(r):i?o(null,s,a):void e(t.slice(1),n,a)}a?c(null,a):L(i.dirname(s),c)}([""].concat(R),e,r)}function L(e,t){return""===e||"/"===e||"win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e)?t(null):void m(E,e,l,(function(n,r){if(n)return L(i.dirname(e),t);var o=i.join(r,"package.json");b(o,(function(n,r){if(!r)return L(i.dirname(e),t);T(y,o,(function(n,r){n&&t(n);var i=r;i&&l.packageFilter&&(i=l.packageFilter(i,o)),t(null,i,e)}))}))}))}function x(e,t,n){var r=n,o=t;"function"==typeof o&&(r=o,o=l.package),m(E,e,l,(function(t,n){if(t)return r(t);var s=i.join(n,"package.json");b(s,(function(t,n){return t?r(t):n?void T(y,s,(function(t,n){if(t)return r(t);var o=n;if(o&&l.packageFilter&&(o=l.packageFilter(o,s)),o&&o.main){if("string"!=typeof o.main){var a=new TypeError("package “"+o.name+"” `main` must be a string");return a.code="INVALID_PACKAGE_MAIN",r(a)}return"."!==o.main&&"./"!==o.main||(o.main="index"),void M(i.resolve(e,o.main),o,(function(t,n,o){return t?r(t):n?r(null,n,o):o?void x(i.resolve(e,o.main),o,(function(t,n,o){return t?r(t):n?r(null,n,o):void M(i.join(e,"index"),o,r)})):M(i.join(e,"index"),o,r)}))}M(i.join(e,"/index"),o,r)})):M(i.join(e,"index"),o,r)}))}))}function k(e,t){if(0===t.length)return e(null,void 0);var n=t[0];function r(t,r,i){return t?e(t):r?e(null,r,i):void x(n,l.package,o)}function o(n,r,o){return n?e(n):r?e(null,r,o):void k(e,t.slice(1))}S(i.dirname(n),(function(o,i){return o?e(o):i?void M(n,l.package,r):k(e,t.slice(1))}))}m(E,w,l,(function(t,n){t?o(t):function(t){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))N=i.resolve(t,e),"."!==e&&".."!==e&&"/"!==e.slice(-1)||(N+="/"),/\/$/.test(e)&&N===t?x(N,l.package,P):M(N,l.package,P);else{if(A&&u(e))return o(null,e);!function(e,t,n){var r=function(){return function(e,t,n){for(var r=a(t,n,e),o=0;o<r.length;o++)r[o]=i.join(r[o],e);return r}(e,t,l)};k(n,I?I(e,t,r,l):r())}(e,t,(function(t,n,r){if(t)o(t);else{if(n)return m(E,n,l,(function(e,t){e?o(e):o(null,t,r)}));var i=new Error("Cannot find module '"+e+"' from '"+O+"'");i.code="MODULE_NOT_FOUND",o(i)}}))}}(n)}))}},94664:e=>{e.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=(new Error).stack;return Error.prepareStackTrace=e,t[2].getFileName()}},11088:(e,t,n)=>{"use strict";var r=n(69230),o=n(62035),i={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=r(s));e.exports=i},25573:(e,t,n)=>{"use strict";var r=n(70857);e.exports=r.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return"win32"===process.platform?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:"darwin"===process.platform?e||(t?"/Users/"+t:null):"linux"===process.platform?e||(0===process.getuid()?"/root":t?"/home/"+t:null):e||null}},99359:(e,t,n)=>{var r=n(69230);e.exports=function(e){return r(e)}},67730:(e,t,n)=>{var r=n(16928),o=r.parse||n(70992),i=function(e,t){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var i=[e],s=o(e);s.dir!==i[i.length-1];)i.push(s.dir),s=o(s.dir);return i.reduce((function(e,o){return e.concat(t.map((function(e){return r.resolve(n,o,e)})))}),[])};e.exports=function(e,t,n){var r=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&"function"==typeof t.paths)return t.paths(n,e,(function(){return i(e,r)}),t);var o=i(e,r);return t&&t.paths?o.concat(t.paths):o}},11287:e=>{e.exports=function(e,t){return t||{}}},46244:(e,t,n)=>{var r=n(69230),o=n(79896),i=n(16928),s=n(25573),a=n(94664),c=n(67730),u=n(11287),l="win32"!==process.platform&&o.realpathSync&&"function"==typeof o.realpathSync.native?o.realpathSync.native:o.realpathSync,d=s(),p=function(e){try{var t=o.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&(t.isFile()||t.isFIFO())},h=function(e){try{var t=o.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&t.isDirectory()},f=function(e){try{return l(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},m=function(e,t,n){return n&&!1===n.preserveSymlinks?e(t):t},g=function(e,t){var n=e(t);try{return JSON.parse(n)}catch(e){}};e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Path must be a string.");var n=u(e,t),s=n.isFile||p,l=n.readFileSync||o.readFileSync,_=n.isDirectory||h,b=n.realpathSync||f,S=n.readPackageSync||g;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var y=n.packageIterator,E=n.extensions||[".js"],T=!1!==n.includeCoreModules,v=n.basedir||i.dirname(a()),I=n.filename||v;n.paths=n.paths||[i.join(d,".node_modules"),i.join(d,".node_libraries")];var R=m(b,i.resolve(v),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var A=i.resolve(R,e);"."!==e&&".."!==e&&"/"!==e.slice(-1)||(A+="/");var C=w(A)||M(A);if(C)return m(b,C,n)}else{if(T&&r(e))return e;var O=function(e,t){for(var r=function(){return function(e,t,n){for(var r=c(t,n,e),o=0;o<r.length;o++)r[o]=i.join(r[o],e);return r}(e,t,n)},o=y?y(e,t,r,n):r(),s=0;s<o.length;s++){var a=o[s];if(_(i.dirname(a))){var u=w(a);if(u)return u;var l=M(a);if(l)return l}}}(e,R);if(O)return m(b,O,n)}var N=new Error("Cannot find module '"+e+"' from '"+I+"'");throw N.code="MODULE_NOT_FOUND",N;function w(e){var t=P(i.dirname(e));if(t&&t.dir&&t.pkg&&n.pathFilter){var r=i.relative(t.dir,e),o=n.pathFilter(t.pkg,e,r);o&&(e=i.resolve(t.dir,o))}if(s(e))return e;for(var a=0;a<E.length;a++){var c=e+E[a];if(s(c))return c}}function P(e){if(""!==e&&"/"!==e&&!("win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e))){var t=i.join(m(b,e,n),"package.json");if(!s(t))return P(i.dirname(e));var r=S(l,t);return r&&n.packageFilter&&(r=n.packageFilter(r,e)),{pkg:r,dir:e}}}function M(e){var t=i.join(m(b,e,n),"/package.json");if(s(t)){try{var r=S(l,t)}catch(e){}if(r&&n.packageFilter&&(r=n.packageFilter(r,e)),r&&r.main){if("string"!=typeof r.main){var o=new TypeError("package “"+r.name+"” `main` must be a string");throw o.code="INVALID_PACKAGE_MAIN",o}"."!==r.main&&"./"!==r.main||(r.main="index");try{var a=w(i.resolve(e,r.main));if(a)return a;var c=M(i.resolve(e,r.main));if(c)return c}catch(e){}}}return w(i.join(e,"/index"))}}},93904:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const i=n(98587),{safeRe:s,t:a}=n(99718),c=n(72111),u=n(57272),l=n(53908),d=n(78311)},78311:(e,t,n)=>{const r=/\s+/g;class o{constructor(e,t){if(t=s(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!_(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=i.get(t);if(n)return n;const r=this.options.loose,o=r?l[d.HYPHENRANGELOOSE]:l[d.HYPHENRANGE];e=e.replace(o,w(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[d.COMPARATORTRIM],p),c("comparator trim",e),e=e.replace(l[d.TILDETRIM],h),c("tilde trim",e),e=e.replace(l[d.CARETTRIM],f),c("caret trim",e);let s=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>N(e,this.options)));r&&(s=s.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(l[d.COMPARATORLOOSE]))))),c("range list",s);const u=new Map,b=s.map((e=>new a(e,this.options)));for(const e of b){if(_(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const S=[...u.values()];return i.set(t,S),S}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((n=>S(n,t)&&e.set.some((e=>S(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const i=new(n(68794)),s=n(98587),a=n(93904),c=n(57272),u=n(53908),{safeRe:l,t:d,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:f}=n(99718),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(16874),_=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,S=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},y=(e,t)=>(c("comp",e,t),e=I(e,t),c("caret",e),e=T(e,t),c("tildes",e),e=A(e,t),c("xrange",e),e=O(e,t),c("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,T=(e,t)=>e.trim().split(/\s+/).map((e=>v(e,t))).join(" "),v=(e,t)=>{const n=t.loose?l[d.TILDELOOSE]:l[d.TILDE];return e.replace(n,((t,n,r,o,i)=>{let s;return c("tilde",e,t,n,r,o,i),E(n)?s="":E(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:E(o)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(c("replaceTilde pr",i),s=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",s),s}))},I=(e,t)=>e.trim().split(/\s+/).map((e=>R(e,t))).join(" "),R=(e,t)=>{c("caret",e,t);const n=t.loose?l[d.CARETLOOSE]:l[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,i,s)=>{let a;return c("caret",e,t,n,o,i,s),E(n)?a="":E(o)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:E(i)?a="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:s?(c("replaceCaret pr",s),a="0"===n?"0"===o?`>=${n}.${o}.${i}-${s} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${s} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${s} <${+n+1}.0.0-0`):(c("no pr"),a="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),c("caret return",a),a}))},A=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>C(e,t))).join(" ")),C=(e,t)=>{e=e.trim();const n=t.loose?l[d.XRANGELOOSE]:l[d.XRANGE];return e.replace(n,((n,r,o,i,s,a)=>{c("xRange",e,n,r,o,i,s,a);const u=E(o),l=u||E(i),d=l||E(s),p=d;return"="===r&&p&&(r=""),a=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),s=0,">"===r?(r=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(a="-0"),n=`${r+o}.${i}.${s}${a}`):l?n=`>=${o}.0.0${a} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${i}.0${a} <${o}.${+i+1}.0-0`),c("xRange return",n),n}))},O=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[d.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),w=e=>(t,n,r,o,i,s,a,c,u,l,d,p)=>`${n=E(r)?"":E(o)?`>=${r}.0.0${e?"-0":""}`:E(i)?`>=${r}.${o}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=E(u)?"":E(l)?`<${+u+1}.0.0-0`:E(d)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${d}-${p}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),P=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==a.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},53908:(e,t,n)=>{const r=n(57272),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(16874),{safeRe:s,t:a}=n(99718),c=n(98587),{compareIdentifiers:u}=n(61123);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},57414:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},72111:(e,t,n)=>{const r=n(94641),o=n(13999),i=n(35580),s=n(54089),a=n(7059),c=n(25200);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return o(e,n,u);case">":return i(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},46170:(e,t,n)=>{const r=n(53908),o=n(30144),{safeRe:i,t:s}=n(99718);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL];let o;for(;(o=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);if(null===n)return null;const a=n[2],c=n[3]||"0",u=n[4]||"0",l=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return o(`${a}.${c}.${u}${l}${d}`,t)}},40909:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n)=>{const o=new r(e,n),i=new r(t,n);return o.compare(i)||o.compareBuild(i)}},11763:(e,t,n)=>{const r=n(50560);e.exports=(e,t)=>r(e,t,!0)},50560:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},51832:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e,null,!0),o=r(t,null,!0),i=n.compare(o);if(0===i)return null;const s=i>0,a=s?n:o,c=s?o:n,u=!!a.prerelease.length;if(c.prerelease.length&&!u)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const l=u?"pre":"";return n.major!==o.major?l+"major":n.minor!==o.minor?l+"minor":n.patch!==o.patch?l+"patch":"prerelease"}},94641:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>0===r(e,t,n)},35580:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)>0},54089:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)>=0},93007:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n,o,i)=>{"string"==typeof n&&(i=o,o=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,o,i).version}catch(e){return null}}},7059:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)<0},25200:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)<=0},32938:(e,t,n)=>{const r=n(53908);e.exports=(e,t)=>new r(e,t).major},46254:(e,t,n)=>{const r=n(53908);e.exports=(e,t)=>new r(e,t).minor},13999:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>0!==r(e,t,n)},30144:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},24493:(e,t,n)=>{const r=n(53908);e.exports=(e,t)=>new r(e,t).patch},31729:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9970:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(t,e,n)},74277:(e,t,n)=>{const r=n(40909);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},97638:(e,t,n)=>{const r=n(78311);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},43927:(e,t,n)=>{const r=n(40909);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},56953:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},99589:(e,t,n)=>{const r=n(99718),o=n(16874),i=n(53908),s=n(61123),a=n(30144),c=n(56953),u=n(57414),l=n(93007),d=n(51832),p=n(32938),h=n(46254),f=n(24493),m=n(31729),g=n(50560),_=n(9970),b=n(11763),S=n(40909),y=n(43927),E=n(74277),T=n(35580),v=n(7059),I=n(94641),R=n(13999),A=n(54089),C=n(25200),O=n(72111),N=n(46170),w=n(93904),P=n(78311),M=n(97638),L=n(77631),x=n(19628),k=n(270),G=n(41261),D=n(13874),U=n(97075),V=n(75571),Z=n(5342),B=n(76780),W=n(72525),j=n(75032);e.exports={parse:a,valid:c,clean:u,inc:l,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:g,rcompare:_,compareLoose:b,compareBuild:S,sort:y,rsort:E,gt:T,lt:v,eq:I,neq:R,gte:A,lte:C,cmp:O,coerce:N,Comparator:w,Range:P,satisfies:M,toComparators:L,maxSatisfying:x,minSatisfying:k,minVersion:G,validRange:D,outside:U,gtr:V,ltr:Z,intersects:B,simplifyRange:W,subset:j,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},16874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},57272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},61123:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},68794:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},98587:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},99718:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=n(16874),s=n(57272),a=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,o]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=d++;s(e,o,t),l[e]=o,u[o]=t,a[o]=new RegExp(t,n?"g":void 0),c[o]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),f("FULL",`^${u[l.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),f("LOOSE",`^${u[l.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),f("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",u[l.COERCE],!0),f("COERCERTLFULL",u[l.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},75571:(e,t,n)=>{const r=n(97075);e.exports=(e,t,n)=>r(e,t,">",n)},76780:(e,t,n)=>{const r=n(78311);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},5342:(e,t,n)=>{const r=n(97075);e.exports=(e,t,n)=>r(e,t,"<",n)},19628:(e,t,n)=>{const r=n(53908),o=n(78311);e.exports=(e,t,n)=>{let i=null,s=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new r(i,n)))})),i}},270:(e,t,n)=>{const r=n(53908),o=n(78311);e.exports=(e,t,n)=>{let i=null,s=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new r(i,n)))})),i}},41261:(e,t,n)=>{const r=n(53908),o=n(78311),i=n(35580);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!i(n,s)||(n=s)}return n&&e.test(n)?n:null}},97075:(e,t,n)=>{const r=n(53908),o=n(93904),{ANY:i}=o,s=n(78311),a=n(97638),c=n(35580),u=n(7059),l=n(25200),d=n(54089);e.exports=(e,t,n,p)=>{let h,f,m,g,_;switch(e=new r(e,p),t=new s(t,p),n){case">":h=c,f=l,m=u,g=">",_=">=";break;case"<":h=u,f=d,m=c,g="<",_="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,a=null;if(r.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,p)?s=e:m(e.semver,a.semver,p)&&(a=e)})),s.operator===g||s.operator===_)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===_&&m(e,a.semver))return!1}return!0}},72525:(e,t,n)=>{const r=n(97638),o=n(50560);e.exports=(e,t,n)=>{const i=[];let s=null,a=null;const c=e.sort(((e,t)=>o(e,t,n)));for(const e of c)r(e,t,n)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},75032:(e,t,n)=>{const r=n(78311),o=n(93904),{ANY:i}=o,s=n(97638),a=n(50560),c=[new o(">=0.0.0-0")],u=[new o(">=0.0.0")],l=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?c:u}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=u}const r=new Set;let o,l,h,f,m,g,_;for(const t of e)">"===t.operator||">="===t.operator?o=d(o,t,n):"<"===t.operator||"<="===t.operator?l=p(l,t,n):r.add(t.semver);if(r.size>1)return null;if(o&&l){if(h=a(o.semver,l.semver,n),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==l.operator))return null}for(const e of r){if(o&&!s(e,String(o),n))return null;if(l&&!s(e,String(l),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let b=!(!l||n.includePrerelease||!l.semver.prerelease.length)&&l.semver,S=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver;b&&1===b.prerelease.length&&"<"===l.operator&&0===b.prerelease[0]&&(b=!1);for(const e of t){if(_=_||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),">"===e.operator||">="===e.operator){if(f=d(o,e,n),f===e&&f!==o)return!1}else if(">="===o.operator&&!s(o.semver,String(e),n))return!1;if(l)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if(m=p(l,e,n),m===e&&m!==l)return!1}else if("<="===l.operator&&!s(l.semver,String(e),n))return!1;if(!e.operator&&(l||o)&&0!==h)return!1}return!(o&&g&&!l&&0!==h||l&&_&&!o&&0!==h||S||b)},d=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=l(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},77631:(e,t,n)=>{const r=n(78311);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},13874:(e,t,n)=>{const r=n(78311);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},4987:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(19847),t),o(n(73662),t),o(n(90447),t),o(n(36937),t),o(n(31693),t),o(n(12348),t),o(n(18145),t),o(n(10637),t),o(n(13819),t),o(n(97102),t),o(n(8007),t),o(n(89076),t)},8007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPortMock=void 0;const r=n(75802),o=n(6848);class i extends r.SerialPortStream{constructor(e,t){super({binding:o.MockBinding,...e},t)}}t.SerialPortMock=i,i.list=o.MockBinding.list,i.binding=o.MockBinding},89076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPort=void 0;const r=n(75802),o=(0,n(40176).autoDetect)();class i extends r.SerialPortStream{constructor(e,t){super({binding:o,...e},t)}}t.SerialPort=i,i.list=o.list,i.binding=o},81132:e=>{"use strict";function t(e){return"function"==typeof e}var n=console.error.bind(console);function r(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(e){e&&e.logger&&(t(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function i(e,o,i){if(e&&e[o]){if(!i)return n("no wrapper function"),void n((new Error).stack);if(t(e[o])&&t(i)){var s=e[o],a=i(s,o);return r(a,"__original",s),r(a,"__unwrap",(function(){e[o]===a&&r(e,o,s)})),r(a,"__wrapped",!0),r(e,o,a),a}n("original object and wrapper must be functions")}else n("no original function "+o+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=i,o.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},o.unwrap=s,o.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):n("must provide one or more functions to unwrap on modules")},e.exports=o},15170:function(e,t){!function(e){"use strict";e.slip=t,function(e){var t=e;t.END=192,t.ESC=219,t.ESC_END=220,t.ESC_ESC=221,t.byteArray=function(e,t,n){return e instanceof ArrayBuffer?new Uint8Array(e,t,n):e},t.expandByteArray=function(e){var t=new Uint8Array(2*e.length);return t.set(e),t},t.sliceByteArray=function(e,t,n){var r=e.buffer.slice?e.buffer.slice(t,n):e.subarray(t,n);return new Uint8Array(r)},t.encode=function(e,n){(n=n||{}).bufferPadding=n.bufferPadding||4;var r=(e=t.byteArray(e,n.offset,n.byteLength)).length+n.bufferPadding+3&-4,o=new Uint8Array(r),i=1;o[0]=t.END;for(var s=0;s<e.length;s++){i>o.length-3&&(o=t.expandByteArray(o));var a=e[s];a===t.END?(o[i++]=t.ESC,a=t.ESC_END):a===t.ESC&&(o[i++]=t.ESC,a=t.ESC_ESC),o[i++]=a}return o[i]=t.END,t.sliceByteArray(o,0,i+1)},t.Decoder=function(e){e="function"!=typeof e?e||{}:{onMessage:e},this.maxMessageSize=e.maxMessageSize||10485760,this.bufferSize=e.bufferSize||1024,this.msgBuffer=new Uint8Array(this.bufferSize),this.msgBufferIdx=0,this.onMessage=e.onMessage,this.onError=e.onError,this.escape=!1};var n=t.Decoder.prototype;n.decode=function(e){var n;e=t.byteArray(e);for(var r=0;r<e.length;r++){var o=e[r];if(this.escape)o===t.ESC_ESC?o=t.ESC:o===t.ESC_END&&(o=t.END);else{if(o===t.ESC){this.escape=!0;continue}if(o===t.END){n=this.handleEnd();continue}}this.addByte(o)||this.handleMessageMaxError()}return n},n.handleMessageMaxError=function(){this.onError&&this.onError(this.msgBuffer.subarray(0),"The message is too large; the maximum message size is "+this.maxMessageSize/1024+"KB. Use a larger maxMessageSize if necessary."),this.msgBufferIdx=0,this.escape=!1},n.addByte=function(e){return this.msgBufferIdx>this.msgBuffer.length-1&&(this.msgBuffer=t.expandByteArray(this.msgBuffer)),this.msgBuffer[this.msgBufferIdx++]=e,this.escape=!1,this.msgBuffer.length<this.maxMessageSize},n.handleEnd=function(){if(0!==this.msgBufferIdx){var e=t.sliceByteArray(this.msgBuffer,0,this.msgBufferIdx);return this.onMessage&&this.onMessage(e),this.msgBufferIdx=0,e}}}(t)}(this)},27687:(e,t,n)=>{"use strict";const r=n(70857),o=n(52018),i=n(25884),{env:s}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===s.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in s))||"codeship"===s.CI_NAME?1:n;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:n}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,o.isatty(1))),stderr:c(u(!0,o.isatty(2)))}},17699:(e,t,n)=>{"use strict";const r=n(91060);r.createWebSocketStream=n(3719),r.Server=n(61722),r.Receiver=n(46286),r.Sender=n(80914),r.WebSocket=r,r.WebSocketServer=r.Server,e.exports=r},93338:(e,t,n)=>{"use strict";const{EMPTY_BUFFER:r}=n(32614),o=Buffer[Symbol.species];function i(e,t,n,r,o){for(let i=0;i<o;i++)n[r+i]=e[i]^t[3&i]}function s(e,t){for(let n=0;n<e.length;n++)e[n]^=t[3&n]}if(e.exports={concat:function(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,i),i+=r.length}return i<t?new o(n.buffer,n.byteOffset,i):n},mask:i,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let n;return t instanceof ArrayBuffer?n=new o(t):ArrayBuffer.isView(t)?n=new o(t.buffer,t.byteOffset,t.byteLength):(n=Buffer.from(t),e.readOnly=!1),n},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{const t=n(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.mask=function(e,n,r,o,s){s<48?i(e,n,r,o,s):t.mask(e,n,r,o,s)},e.exports.unmask=function(e,n){e.length<32?s(e,n):t.unmask(e,n)}}catch(e){}},32614:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},90597:(e,t,n)=>{"use strict";const{kForOnEventAttribute:r,kListener:o}=n(32614),i=Symbol("kCode"),s=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),u=Symbol("kReason"),l=Symbol("kTarget"),d=Symbol("kType"),p=Symbol("kWasClean");class h{constructor(e){this[l]=null,this[d]=e}get target(){return this[l]}get type(){return this[d]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[i]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[i]}get reason(){return this[u]}get wasClean(){return this[p]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});const _={addEventListener(e,t,n={}){for(const i of this.listeners(e))if(!n[r]&&i[o]===t&&!i[r])return;let i;if("message"===e)i=function(e,n){const r=new g("message",{data:n?e:e.toString()});r[l]=this,b(t,this,r)};else if("close"===e)i=function(e,n){const r=new f("close",{code:e,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});r[l]=this,b(t,this,r)};else if("error"===e)i=function(e){const n=new m("error",{error:e,message:e.message});n[l]=this,b(t,this,n)};else{if("open"!==e)return;i=function(){const e=new h("open");e[l]=this,b(t,this,e)}}i[r]=!!n[r],i[o]=t,n.once?this.once(e,i):this.on(e,i)},removeEventListener(e,t){for(const n of this.listeners(e))if(n[o]===t&&!n[r]){this.removeListener(e,n);break}}};function b(e,t,n){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,n):e.call(t,n)}e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:_,MessageEvent:g}},55926:(e,t,n)=>{"use strict";const{tokenChars:r}=n(95880);function o(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>[t].concat(Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let n,i,s=Object.create(null),a=!1,c=!1,u=!1,l=-1,d=-1,p=-1,h=0;for(;h<e.length;h++)if(d=e.charCodeAt(h),void 0===n)if(-1===p&&1===r[d])-1===l&&(l=h);else if(0===h||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);const r=e.slice(l,p);44===d?(o(t,r,s),s=Object.create(null)):n=r,l=p=-1}}else-1===p&&-1!==l&&(p=h);else if(void 0===i)if(-1===p&&1===r[d])-1===l&&(l=h);else if(32===d||9===d)-1===p&&-1!==l&&(p=h);else if(59===d||44===d){if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),o(s,e.slice(l,p),!0),44===d&&(o(t,n,s),s=Object.create(null),n=void 0),l=p=-1}else{if(61!==d||-1===l||-1!==p)throw new SyntaxError(`Unexpected character at index ${h}`);i=e.slice(l,h),l=p=-1}else if(c){if(1!==r[d])throw new SyntaxError(`Unexpected character at index ${h}`);-1===l?l=h:a||(a=!0),c=!1}else if(u)if(1===r[d])-1===l&&(l=h);else if(34===d&&-1!==l)u=!1,p=h;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===d&&61===e.charCodeAt(h-1))u=!0;else if(-1===p&&1===r[d])-1===l&&(l=h);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let r=e.slice(l,p);a&&(r=r.replace(/\\/g,""),a=!1),o(s,i,r),44===d&&(o(t,n,s),s=Object.create(null),n=void 0),i=void 0,l=p=-1}}else-1===p&&(p=h);if(-1===l||u||32===d||9===d)throw new SyntaxError("Unexpected end of input");-1===p&&(p=h);const f=e.slice(l,p);return void 0===n?o(t,f,s):(void 0===i?o(s,f,!0):o(s,i,a?f.replace(/\\/g,""):f),o(t,n,s)),t}}},4759:e=>{"use strict";const t=Symbol("kDone"),n=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[n]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[n]()}[n](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},42971:(e,t,n)=>{"use strict";const r=n(43106),o=n(93338),i=n(4759),{kStatusCode:s}=n(32614),a=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),l=Symbol("total-length"),d=Symbol("callback"),p=Symbol("buffers"),h=Symbol("error");let f;function m(e){this[p].push(e),this[l]+=e.length}function g(e){this[l]+=e.length,this[u]._maxPayload<1||this[l]<=this[u]._maxPayload?this[p].push(e):(this[h]=new RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][s]=1009,this.removeListener("data",g),this.reset())}function _(e){this[u]._inflate=null,e[s]=1007,this[d](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n}))})),e}decompress(e,t,n){f.add((r=>{this._decompress(e,t,((e,t)=>{r(),n(e,t)}))}))}compress(e,t,n){f.add((r=>{this._compress(e,t,((e,t)=>{r(),n(e,t)}))}))}_decompress(e,t,n){const i=this._isServer?"client":"server";if(!this._inflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[l]=0,this._inflate[p]=[],this._inflate.on("error",_),this._inflate.on("data",g)}this._inflate[d]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[h];if(e)return this._inflate.close(),this._inflate=null,void n(e);const r=o.concat(this._inflate[p],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,r)}))}_compress(e,t,n){const i=this._isServer?"server":"client";if(!this._deflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[p]=[],this._deflate.on("data",m)}this._deflate[d]=n,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[l]);t&&(e=new a(e.buffer,e.byteOffset,e.length-4)),this._deflate[d]=null,this._deflate[l]=0,this._deflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,e)}))}}},46286:(e,t,n)=>{"use strict";const{Writable:r}=n(2203),o=n(42971),{BINARY_TYPES:i,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=n(32614),{concat:u,toArrayBuffer:l,unmask:d}=n(93338),{isValidStatusCode:p,isValidUTF8:h}=n(95880),f=Buffer[Symbol.species];function m(e,t,n,r,o){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,m),i.code=o,i[a]=r,i}e.exports=class extends r{constructor(e={}){super(),this._binaryType=e.binaryType||i[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=new f(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(48&e[0])return this._loop=!1,m(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=!(64&~e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=!(128&~e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,m(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,m(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,m(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,m(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return this._loop=!1,m(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~e[1]),this._isServer){if(!this._masked)return this._loop=!1,m(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,m(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,m(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,m(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&d(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(m(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?u(t,e):"arraybuffer"===this._binaryType?l(u(t,e)):t,this.emit("message",n,!0)}else{const n=u(t,e);if(!this._skipUTF8Validation&&!h(n))return this._loop=!1,m(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,s),this.end();else{const t=e.readUInt16BE(0);if(!p(t))return m(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const n=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n))return m(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,n),this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},80914:(e,t,n)=>{"use strict";n(69278),n(64756);const{randomFillSync:r}=n(76982),o=n(42971),{EMPTY_BUFFER:i}=n(32614),{isValidStatusCode:s}=n(95880),{mask:a,toBuffer:c}=n(93338),u=Symbol("kByteLength"),l=Buffer.alloc(4);class d{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,o,i=!1,s=2,c=!1;t.mask&&(n=t.maskBuffer||l,t.generateMask?t.generateMask(n):r(n,0,4),c=!(n[0]|n[1]|n[2]|n[3]),s=6),"string"==typeof e?o=t.mask&&!c||void 0===t[u]?(e=Buffer.from(e)).length:t[u]:(o=e.length,i=t.mask&&t.readOnly&&!c);let d=o;o>=65536?(s+=8,d=127):o>125&&(s+=2,d=126);const p=Buffer.allocUnsafe(i?o+s:s);return p[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(p[0]|=64),p[1]=d,126===d?p.writeUInt16BE(o,2):127===d&&(p[2]=p[3]=0,p.writeUIntBE(o,4,6)),t.mask?(p[1]|=128,p[s-4]=n[0],p[s-3]=n[1],p[s-2]=n[2],p[s-1]=n[3],c?[p,e]:i?(a(e,n,p,s,o),[p]):(a(e,n,e,0,o),[p,e])):[p,e]}close(e,t,n,r){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+n),o.writeUInt16BE(e,0),"string"==typeof t?o.write(t,2):o.set(t,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)}const a={[u]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,a,r]):this.sendFrame(d.frame(o,a),r)}ping(e,t,n){let r,o;if("string"==typeof e?(r=Buffer.byteLength(e),o=!1):(r=(e=c(e)).length,o=c.readOnly),r>125)throw new RangeError("The data size must not be greater than 125 bytes");const i={[u]:r,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,i,n]):this.sendFrame(d.frame(e,i),n)}pong(e,t,n){let r,o;if("string"==typeof e?(r=Buffer.byteLength(e),o=!1):(r=(e=c(e)).length,o=c.readOnly),r>125)throw new RangeError("The data size must not be greater than 125 bytes");const i={[u]:r,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,i,n]):this.sendFrame(d.frame(e,i),n)}send(e,t,n){const r=this._extensions[o.extensionName];let i,s,a=t.binary?2:1,l=t.compress;if("string"==typeof e?(i=Buffer.byteLength(e),s=!1):(i=(e=c(e)).length,s=c.readOnly),this._firstFragment?(this._firstFragment=!1,l&&r&&r.params[r._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=i>=r._threshold),this._compress=l):(l=!1,a=0),t.fin&&(this._firstFragment=!0),r){const r={[u]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:l};this._deflating?this.enqueue([this.dispatch,e,this._compress,r,n]):this.dispatch(e,this._compress,r,n)}else this.sendFrame(d.frame(e,{[u]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:!1}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(d.frame(e,n),r);const i=this._extensions[o.extensionName];this._bufferedBytes+=n[u],this._deflating=!0,i.compress(e,n.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t],r=n[n.length-1];"function"==typeof r&&r(e)}}else this._bufferedBytes-=n[u],this._deflating=!1,n.readOnly=!1,this.sendFrame(d.frame(t,n),r),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=d},3719:(e,t,n)=>{"use strict";const{Duplex:r}=n(2203);function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;const a=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,n){const r=!n&&a._readableState.objectMode?t.toString():t;a.push(r)||e.pause()})),e.once("error",(function(e){a.destroyed||(n=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,a);let i=!1;e.once("error",(function(e){i=!0,r(e)})),e.once("close",(function(){i||r(t),process.nextTick(o,a)})),n&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){a._write(t,n,r)}))},a.on("end",i),a.on("error",s),a}},28237:(e,t,n)=>{"use strict";const{tokenChars:r}=n(95880);e.exports={parse:function(e){const t=new Set;let n=-1,o=-1,i=0;for(;i<e.length;i++){const s=e.charCodeAt(i);if(-1===o&&1===r[s])-1===n&&(n=i);else if(0===i||32!==s&&9!==s){if(44!==s)throw new SyntaxError(`Unexpected character at index ${i}`);{if(-1===n)throw new SyntaxError(`Unexpected character at index ${i}`);-1===o&&(o=i);const r=e.slice(n,o);if(t.has(r))throw new SyntaxError(`The "${r}" subprotocol is duplicated`);t.add(r),n=o=-1}}else-1===o&&-1!==n&&(o=i)}if(-1===n||-1!==o)throw new SyntaxError("Unexpected end of input");const s=e.slice(n,i);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},95880:(e,t,n)=>{"use strict";const{isUtf8:r}=n(20181);function o(e){const t=e.length;let n=0;for(;n<t;)if(128&e[n])if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}else n++;return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},r)e.exports.isValidUTF8=function(e){return e.length<24?o(e):r(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=n(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.isValidUTF8=function(e){return e.length<32?o(e):t(e)}}catch(e){}},61722:(e,t,n)=>{"use strict";const r=n(24434),o=n(58611),{createHash:i}=(n(65692),n(69278),n(64756),n(76982)),s=n(55926),a=n(42971),c=n(28237),u=n(91060),{GUID:l,kWebSocket:d}=n(32614),p=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit("close")}function f(){this.destroy()}function m(e,t,n,r){n=n||o.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map((e=>`${e}: ${r[e]}`)).join("\r\n")+"\r\n\r\n"+n)}function g(e,t,n,r,o){if(e.listenerCount("wsClientError")){const r=new Error(o);Error.captureStackTrace(r,g),e.emit("wsClientError",r,n,t)}else m(n,r,o)}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer(((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,n,r)=>{this.handleUpgrade(t,n,r,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(h,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{h(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",f);const o=e.headers["sec-websocket-key"],i=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void g(this,e,t,405,"Invalid HTTP method");if("websocket"!==e.headers.upgrade.toLowerCase())return void g(this,e,t,400,"Invalid Upgrade header");if(!o||!p.test(o))return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==i&&13!==i)return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void m(t,400);const u=e.headers["sec-websocket-protocol"];let l=new Set;if(void 0!==u)try{l=c.parse(u)}catch(n){return void g(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const d=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&void 0!==d){const n=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=s.parse(d);e[a.extensionName]&&(n.accept(e[a.extensionName]),h[a.extensionName]=n)}catch(n){return void g(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const s={origin:e.headers[8===i?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((i,s,a,c)=>{if(!i)return m(t,s||401,a,c);this.completeUpgrade(h,o,l,e,t,n,r)}));if(!this.options.verifyClient(s))return m(t,401)}this.completeUpgrade(h,o,l,e,t,n,r)}completeUpgrade(e,t,n,r,o,c,u){if(!o.readable||!o.writable)return o.destroy();if(o[d])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(o,503);const p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i("sha1").update(t+l).digest("base64")}`],g=new this.options.WebSocket(null);if(n.size){const e=this.options.handleProtocols?this.options.handleProtocols(n,r):n.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),g._protocol=e)}if(e[a.extensionName]){const t=e[a.extensionName].params,n=s.format({[a.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${n}`),g._extensions=e}this.emit("headers",p,r),o.write(p.concat("\r\n").join("\r\n")),o.removeListener("error",f),g.setSocket(o,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(g),g.on("close",(()=>{this.clients.delete(g),this._shouldEmitClose&&!this.clients.size&&process.nextTick(h,this)}))),u(g,r)}}},91060:(e,t,n)=>{"use strict";const r=n(24434),o=n(65692),i=n(58611),s=n(69278),a=n(64756),{randomBytes:c,createHash:u}=n(76982),{Readable:l}=n(2203),{URL:d}=n(87016),p=n(42971),h=n(46286),f=n(80914),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:_,kForOnEventAttribute:b,kListener:S,kStatusCode:y,kWebSocket:E,NOOP:T}=n(32614),{EventTarget:{addEventListener:v,removeEventListener:I}}=n(90597),{format:R,parse:A}=n(55926),{toBuffer:C}=n(93338),O=Symbol("kAborted"),N=[8,13],w=["CONNECTING","OPEN","CLOSING","CLOSED"],P=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class M extends r{constructor(e,t,n){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=M.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(n=t,t=[]):t=[t]),L(this,e,t,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){const r=new h({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new f(e,this._extensions,n.generateMask),this._receiver=r,this._socket=e,r[E]=this,e[E]=this,r.on("conclude",V),r.on("drain",Z),r.on("error",B),r.on("message",j),r.on("ping",F),r.on("pong",H),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",X),e.on("data",J),e.on("end",K),e.on("error",z),this._readyState=M.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=M.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==M.CLOSED)if(this.readyState!==M.CONNECTING)this.readyState!==M.CLOSING?(this._readyState=M.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";D(this,this._req,e)}}pause(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,n)):U(this,e,n)}pong(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,n)):U(this,e,n)}resume(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN)return void U(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(r.compress=!1),this._sender.send(e||g,r,n)}terminate(){if(this.readyState!==M.CLOSED)if(this.readyState!==M.CONNECTING)this._socket&&(this._readyState=M.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";D(this,this._req,e)}}}function L(e,t,n,r){const s={protocolVersion:N[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!N.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${N.join(", ")})`);let a;if(t instanceof d)a=t,e._url=t.href;else{try{a=new d(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const l="wss:"===a.protocol,h="ws+unix:"===a.protocol;let f;if("ws:"===a.protocol||l||h?h&&!a.pathname?f="The URL's pathname is empty":a.hash&&(f="The URL contains a fragment identifier"):f='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void x(e,t)}const m=l?443:80,g=c(16).toString("base64"),b=l?o.request:i.request,S=new Set;let y,E;if(s.createConnection=l?G:k,s.defaultPort=s.defaultPort||m,s.port=a.port||m,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(y=new p(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=R({[p.extensionName]:y.offer()})),n.length){for(const e of n){if("string"!=typeof e||!P.test(e)||S.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");S.add(e)}s.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),h){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}if(s.followRedirects){if(0===e._redirects){e._originalIpc=h,e._originalSecure=l,e._originalHostOrSocketPath=h?s.socketPath:a.host;const t=r&&r.headers;if(r={...r,headers:{}},t)for(const[e,n]of Object.entries(t))r.headers[e.toLowerCase()]=n}else if(0===e.listenerCount("redirect")){const t=h?!!e._originalIpc&&s.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!l)&&(delete s.headers.authorization,delete s.headers.cookie,t||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),E=e._req=b(s),e._redirects&&e.emit("redirect",e.url,E)}else E=e._req=b(s);s.timeout&&E.on("timeout",(()=>{D(e,E,"Opening handshake has timed out")})),E.on("error",(t=>{null===E||E[O]||(E=e._req=null,x(e,t))})),E.on("response",(o=>{const i=o.headers.location,a=o.statusCode;if(i&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects)return void D(e,E,"Maximum redirects exceeded");let o;E.abort();try{o=new d(i,t)}catch(t){const n=new SyntaxError(`Invalid URL: ${i}`);return void x(e,n)}L(e,o,n,r)}else e.emit("unexpected-response",E,o)||D(e,E,`Unexpected server response: ${o.statusCode}`)})),E.on("upgrade",((t,n,r)=>{if(e.emit("upgrade",t),e.readyState!==M.CONNECTING)return;if(E=e._req=null,"websocket"!==t.headers.upgrade.toLowerCase())return void D(e,n,"Invalid Upgrade header");const o=u("sha1").update(g+_).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void D(e,n,"Invalid Sec-WebSocket-Accept header");const i=t.headers["sec-websocket-protocol"];let a;if(void 0!==i?S.size?S.has(i)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":S.size&&(a="Server sent no subprotocol"),a)return void D(e,n,a);i&&(e._protocol=i);const c=t.headers["sec-websocket-extensions"];if(void 0!==c){if(!y)return void D(e,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=A(c)}catch(t){return void D(e,n,"Invalid Sec-WebSocket-Extensions header")}const r=Object.keys(t);if(1!==r.length||r[0]!==p.extensionName)return void D(e,n,"Server indicated an extension that was not requested");try{y.accept(t[p.extensionName])}catch(t){return void D(e,n,"Invalid Sec-WebSocket-Extensions header")}e._extensions[p.extensionName]=y}e.setSocket(n,r,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})})),s.finishRequest?s.finishRequest(E,e):E.end()}function x(e,t){e._readyState=M.CLOSING,e.emit("error",t),e.emitClose()}function k(e){return e.path=e.socketPath,s.connect(e)}function G(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function D(e,t,n){e._readyState=M.CLOSING;const r=new Error(n);Error.captureStackTrace(r,D),t.setHeader?(t[O]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(x,e,r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function U(e,t,n){if(t){const n=C(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${w[e.readyState]})`);process.nextTick(n,t)}}function V(e,t){const n=this[E];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,void 0!==n._socket[E]&&(n._socket.removeListener("data",J),process.nextTick(Y,n._socket),1005===e?n.close():n.close(e,t))}function Z(){const e=this[E];e.isPaused||e._socket.resume()}function B(e){const t=this[E];void 0!==t._socket[E]&&(t._socket.removeListener("data",J),process.nextTick(Y,t._socket),t.close(e[y])),t.emit("error",e)}function W(){this[E].emitClose()}function j(e,t){this[E].emit("message",e,t)}function F(e){const t=this[E];t.pong(e,!t._isServer,T),t.emit("ping",e)}function H(e){this[E].emit("pong",e)}function Y(e){e.resume()}function X(){const e=this[E];let t;this.removeListener("close",X),this.removeListener("data",J),this.removeListener("end",K),e._readyState=M.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[E]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",W),e._receiver.on("finish",W))}function J(e){this[E]._receiver.write(e)||this.pause()}function K(){const e=this[E];e._readyState=M.CLOSING,e._receiver.end(),this.end()}function z(){const e=this[E];this.removeListener("error",z),this.on("error",T),e&&(e._readyState=M.CLOSING,this.destroy())}Object.defineProperty(M,"CONNECTING",{enumerable:!0,value:w.indexOf("CONNECTING")}),Object.defineProperty(M.prototype,"CONNECTING",{enumerable:!0,value:w.indexOf("CONNECTING")}),Object.defineProperty(M,"OPEN",{enumerable:!0,value:w.indexOf("OPEN")}),Object.defineProperty(M.prototype,"OPEN",{enumerable:!0,value:w.indexOf("OPEN")}),Object.defineProperty(M,"CLOSING",{enumerable:!0,value:w.indexOf("CLOSING")}),Object.defineProperty(M.prototype,"CLOSING",{enumerable:!0,value:w.indexOf("CLOSING")}),Object.defineProperty(M,"CLOSED",{enumerable:!0,value:w.indexOf("CLOSED")}),Object.defineProperty(M.prototype,"CLOSED",{enumerable:!0,value:w.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(M.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(M.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[b])return t[S];return null},set(t){for(const t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})})),M.prototype.addEventListener=v,M.prototype.removeEventListener=I,e.exports=M},90290:e=>{"use strict";e.exports=require("async_hooks")},20181:e=>{"use strict";e.exports=require("buffer")},35317:e=>{"use strict";e.exports=require("child_process")},76982:e=>{"use strict";e.exports=require("crypto")},7194:e=>{"use strict";e.exports=require("dgram")},24434:e=>{"use strict";e.exports=require("events")},79896:e=>{"use strict";e.exports=require("fs")},91943:e=>{"use strict";e.exports=require("fs/promises")},58611:e=>{"use strict";e.exports=require("http")},65692:e=>{"use strict";e.exports=require("https")},73339:e=>{"use strict";e.exports=require("module")},69278:e=>{"use strict";e.exports=require("net")},31421:e=>{"use strict";e.exports=require("node:child_process")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},86592:e=>{"use strict";e.exports=require("node:inspector")},77030:e=>{"use strict";e.exports=require("node:net")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},80481:e=>{"use strict";e.exports=require("node:readline")},57075:e=>{"use strict";e.exports=require("node:stream")},41692:e=>{"use strict";e.exports=require("node:tls")},57975:e=>{"use strict";e.exports=require("node:util")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},38522:e=>{"use strict";e.exports=require("node:zlib")},70857:e=>{"use strict";e.exports=require("os")},16928:e=>{"use strict";e.exports=require("path")},932:e=>{"use strict";e.exports=require("process")},2203:e=>{"use strict";e.exports=require("stream")},64756:e=>{"use strict";e.exports=require("tls")},52018:e=>{"use strict";e.exports=require("tty")},87016:e=>{"use strict";e.exports=require("url")},39023:e=>{"use strict";e.exports=require("util")},28167:e=>{"use strict";e.exports=require("worker_threads")},43106:e=>{"use strict";e.exports=require("zlib")},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=void 0;const r=n(31635),o=n(19967),i=r.__importDefault(n(91943)),s=n(20360),a=n(62251),c=n(74044),u=r.__importDefault(n(16928));let l,d=!1;t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(d)throw new Error("runEntrypoint can only be called once");d=!0;const n=process.env.MODULE_MANIFEST;if(!n)throw new Error("Module initialise is missing MODULE_MANIFEST");const r=await i.default.readFile(n),p=JSON.parse(r.toString());if(p.runtime?.api!==o.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!p.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let h=p.runtime.apiVersion;if("0.0.0"===h)try{const e=await i.default.readFile(u.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(h=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const f=process.env.CONNECTION_ID;if("string"!=typeof f||!f)throw new Error("Module initialise is missing CONNECTION_ID");const m=process.env.VERIFICATION_TOKEN;if("string"!=typeof m||!m)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const g=process.env.SENTRY_DSN,_=process.env.SENTRY_USERID,b=process.env.SENTRY_COMPANION_VERSION;if(g&&_&&"https://"==g.substring(0,8)){console.log("Sentry enabled"),(0,a.init)({dsn:g,release:`${p.name}@${p.version}`,beforeSend:e=>(e.exception&&console.log("sentry","error",e.exception),e)});{const e=(0,a.getCurrentScope)();e.setUser({id:_}),e.setTag("companion",b)}}else console.log("Sentry disabled");const S=new c.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{S.receivedMessage(e)})),l=new e((0,s.literal)({id:f,upgradeScripts:t,_isInstanceBaseProps:!0})),S.sendWithCb("register",{apiVersion:h,connectionId:f,verificationToken:m}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))}},36160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var r=n(78895);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return r.TCPHelper}});var o=n(21118);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return o.TelnetHelper}});var i=n(36259);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return i.UDPHelper}})},78895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const r=n(31635).__importDefault(n(69278)),o=n(30228),i=n(51400);class s extends o.EventEmitter{#e;#t;_socket;#n;#r=!1;#o=!1;#i=!1;#s;#a;#c;get isConnected(){return this.#r}get isConnecting(){return this.#o}get isDestroyed(){return this.#i}constructor(e,t,n){super(),this.#e=e,this.#t=t,this.#n={reconnect_interval:2e3,reconnect:!0,...n},this._socket=new r.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#o=!1,this.#r=!1,this.#n.reconnect&&this.#u(),this.#l(i.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#r=!0,this.#o=!1,this.#l(i.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#r=!1,this.#l(i.InstanceStatus.Disconnected),!this.#o&&this.#n.reconnect&&this.#u(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>this.connect())),this.#c=setTimeout((()=>{this.#c=void 0,this.#i||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#i)throw new Error("Cannot connect destroyed socket");return!this.#o&&(this.#o=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#i||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#r)return!1;try{return new Promise(((t,n)=>{this._socket.write(e,(e=>{e?n(e):t(!0)}))}))}catch(e){this.#r=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#l(i.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#i=!0,void 0!==this.#a&&(clearTimeout(this.#a),this.#a=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#u(){void 0!==this.#a&&clearTimeout(this.#a),this.#a=setTimeout((()=>{this.#a=void 0,this.#l(i.InstanceStatus.Connecting),this.connect()}),this.#n.reconnect_interval)}#l(e,t){this.#s!=e&&(this.#s=e,this.emit("status_change",e,t))}}t.TCPHelper=s},21118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const r=n(31635).__importDefault(n(30228)),o=n(2203),i=n(78895);class s extends r.default{#d;#p;#c;get isConnected(){return this.#d.isConnected}get isConnecting(){return this.#d.isConnecting}get isDestroyed(){return this.#d.isDestroyed}constructor(e,t,n){super(),this.#d=new i.TCPHelper(e,t,n),this.#p=new a,this.#d._socket.pipe(this.#p),this.#d.on("connect",(()=>this.emit("connect"))),this.#d.on("end",(()=>this.emit("end"))),this.#d.on("error",(e=>this.emit("error",e))),this.#d.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#p.on("iac",((e,t)=>this.emit("iac",e,t))),this.#p.on("sb",(e=>this.emit("sb",e))),this.#p.on("data",(e=>this.emit("data",e))),this.#p.on("drain",(()=>this.emit("drain"))),this.#c=setTimeout((()=>{this.#c=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#d.connect()}async send(e){return this.#d.send(e)}destroy(){this.#d.destroy(),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#p.removeAllListeners(),this.#p.destroy()}}t.TelnetHelper=s;class a extends o.Transform{#h;#f;#m;constructor(e){super(e),this.#h=Buffer.alloc(0),this.#f=Buffer.alloc(0),this.#m=0}_transform(e,t,n){for(let t=0;t<e.length;++t)this.#g(e[t]);const r=this.#_();r.length&&this.push(r),n()}#g(e){if(0===this.#m){if(255===e)return void(this.#m=255);this.#h=Buffer.concat([this.#h,Buffer.from([e])])}else if(255===this.#m)switch(e){case 250:case 251:case 252:case 253:case 254:this.#m=e;break;default:this.#m=0}else{if(this.#m>=251&&this.#m<=254){let t;switch(this.#m){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#m=0)}if(250===this.#m){if(240===e)return this.emit("sb",this.#f),this.#m=0,void(this.#f=Buffer.alloc(0));this.#f=Buffer.concat([this.#f,Buffer.from([e])])}}}#_(){const e=this.#h;return this.#h=Buffer.alloc(0),e}}},36259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const r=n(31635).__importDefault(n(7194)),o=n(30228),i=n(51400);class s extends o.EventEmitter{#e;#t;#b;#n;#i=!1;#s;#c;get isDestroyed(){return this.#i}constructor(e,t,n){super(),this.#e=e,this.#t=t,this.#n={...n},this.#b=r.default.createSocket("udp4");try{this.#b.bind(this.#n.bind_port||0,this.#n.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#n.bind_ip}:${this.#n.bind_port}`)}this.#n.broadcast&&this.#b.setBroadcast(!0),void 0!==this.#n.ttl&&this.#b.setTTL(this.#n.ttl),void 0!==this.#n.multicast_ttl&&this.#b.setMulticastTTL(this.#n.multicast_ttl),this.#b.on("error",(e=>{this.#l(i.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#b.on("listening",(()=>{this.#n.multicast_interface&&this.#b.setMulticastInterface(this.#n.multicast_interface),this.#l(i.InstanceStatus.Ok),this.emit("listening")})),this.#b.on("message",(e=>this.emit("data",e))),this.#c=setTimeout((()=>{this.#i||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#i)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,n)=>{this.#b.send(e,this.#t,this.#e,(e=>{e?n(e):t()}))}))}destroy(){this.#i=!0,void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#b.removeAllListeners(),this.#b.close(),this.removeAllListeners()}#l(e,t){this.#s!=e&&(this.#s=e,this.emit("status_change",e,t))}}t.UDPHelper=s},74044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const r=n(31635),o=n(20360),i=r.__importDefault(n(16022));t.IpcWrapper=class{#S;#y;#E;#T=1;#v=new Map;constructor(e,t,n){this.#S=e,this.#y=t,this.#E=n}async sendWithCb(e,t,n,r=0){r<=0&&(r=this.#E);const o={timeout:void 0,resolve:()=>null,reject:()=>null},s=new Promise(((e,t)=>{o.resolve=e,o.reject=t}));this.#T>268435456&&(this.#T=1);const a=this.#T++;this.#v.set(a,o),this.#y({direction:"call",name:String(e),payload:i.default.stringify(t),callbackId:a});const c=new Error("Call timed out");return o.timeout=setTimeout((()=>{o.reject(n?n():c),this.#v.delete(a)}),r),s}sendWithNoCb(e,t){this.#y({direction:"call",name:String(e),payload:i.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#S[e.name];if(!t)return void(e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:i.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?i.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!0,payload:i.default.stringify(t)})}),(t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):i.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#v.get(e.callbackId);if(this.#v.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const n=e.payload?i.default.parse(e.payload):void 0;if(e.success)t.resolve(n);else{let e=n;n&&"object"==typeof n&&"message"in n&&(e=new Error(n.message),n.stack&&(e.stack=n.stack)),t.reject(e)}break}default:(0,o.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},19967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},76278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const r=n(31635);r.__exportStar(n(39077),t),r.__exportStar(n(22018),t),r.__exportStar(n(4581),t);var o=n(20360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return o.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return o.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return o.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return o.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return o.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return o.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return o.assertNever}}),r.__exportStar(n(36160),t);var i=n(34326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return i.runEntrypoint}})},94289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const r=n(12593);function o(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#I;#R;#A;#C=new Map;#O=new Map;constructor(e,t,n){this.#I=e,this.#R=t,this.#A=n}async handleExecuteAction(e){const t=this.#C.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},n)}handleUpdateActions(e){for(const[t,n]of Object.entries(e)){const e=this.#O.get(t);if(e){const t=this.#C.get(e.actionId);if(t?.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),n)).catch((t=>{this.#A("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!n||n.disabled)this.#O.delete(t);else{this.#O.set(t,n);const e=this.#C.get(n.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#I({text:e,controlId:n.controlId,actionInstanceId:n.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(o(n),t)).catch((e=>{this.#A("error",`Action subscribe failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#C.get(e.action.actionId);if(t&&t.learn){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},n)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#C.clear();for(const[n,o]of Object.entries(e))o&&(t.push({id:n,name:o.name,description:o.description,options:(0,r.serializeIsVisibleFn)(o.options),hasLearn:!!o.learn,learnTimeout:o.learnTimeout}),this.#C.set(n,o));this.#R({actions:t})}_getAllActions(){return Array.from(this.#O.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#O.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.actionId))));for(const e of t){const t=this.#C.get(e.actionId);if(t?.subscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(o(e),n)).catch((t=>{this.#A("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#O.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.actionId))));for(const e of t){const t=this.#C.get(e.actionId);if(t&&t.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),n)).catch((t=>{this.#A("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},12593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceBaseProps=t.serializeIsVisibleFn=void 0,t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},58039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const r=n(31635),o=n(12593),i=r.__importDefault(n(17e3));function s(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#I;#N;#w;#A;#P=new Map;#M=new Map;#L=new Map;#x=new Map;#k;get parseVariablesContext(){return this.#k}constructor(e,t,n,r){this.#I=e,this.#N=t,this.#w=n,this.#A=r}getDefinitionIds(){return Array.from(this.#P.keys())}getInstanceIds(){return Array.from(this.#M.keys())}handleUpdateFeedbacks(e){for(const[t,n]of Object.entries(e)){const e=this.#M.get(t);if(e){const t=this.#P.get(e.feedbackId);if(t?.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(s(t.type,e),n)).catch((t=>{this.#A("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!n||n.disabled)this.#M.delete(t);else{this.#M.set(t,{...n,referencedVariables:null});const e=this.#P.get(n.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#I({text:e,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:n.id})).text};Promise.resolve(e.subscribe(s(e.type,n),t)).catch((e=>{this.#A("error",`Feedback subscribe failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)}))}this.#G(t)}}}async handleLearnFeedback(e){const t=this.#P.get(e.feedback.feedbackId);if(t&&t.learn){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},n)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#x.values())for(const n of e.variablesIds)t.changedVariables.add(n);const n=new Set;for(const e of this.#M.values())if(!this.#x.has(e.id)&&e.referencedVariables)for(const r of e.referencedVariables)if(t.has(r)){n.add(e.id);break}for(const e of n)setImmediate((()=>{this.#G(e)}))}#G(e){const t=this.#x.get(e);if(t)return void(t.needsRecheck=!0);const n=this.#M.get(e);if(!n)return;const r=n,o={needsRecheck:!1,changedVariables:new Set};this.#x.set(e,o),Promise.resolve().then((async()=>{const t=this.#P.get(r.feedbackId);let n;const o=new Set;if(t){this.#k=`Feedback ${r.feedbackId} (${e})`;const i={parseVariablesInString:async t=>{const n=await this.#I({text:t,controlId:r.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(n.variableIds&&n.variableIds.length)for(const e of n.variableIds)o.add(e);return n.text}};n="boolean"===t.type?t.callback({...s("boolean",r),type:"boolean"},i):t.callback({...s("advanced",r),type:"advanced",image:r.image},i),this.#k=void 0}const i=await n;this.#L.set(e,{id:e,controlId:r.controlId,value:i}),this.#D(),r.referencedVariables=o.size>0?Array.from(o):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#k=void 0,this.#x.delete(e);let t=!1;if(r.referencedVariables)for(const e of r.referencedVariables)if(o.changedVariables.has(e)){t=!0;break}(t||o.needsRecheck)&&setImmediate((()=>{this.#G(e)}))}))}#D=(0,i.default)((()=>{const e=this.#L;this.#L=new Map,e.size>0&&this.#N({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#P.clear();for(const[n,r]of Object.entries(e))r&&(t.push({id:n,name:r.name,description:r.description,options:(0,o.serializeIsVisibleFn)(r.options),type:r.type,defaultStyle:"boolean"===r.type?r.defaultStyle:void 0,hasLearn:!!r.learn,learnTimeout:r.learnTimeout,showInvert:"boolean"===r.type&&r.showInvert}),this.#P.set(n,r));this.#w({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,n]of this.#M.entries())this.#P.get(n.feedbackId)&&(0===t.size||t.has(n.feedbackId))&&this.#G(e)}checkFeedbacksById(e){for(const t of e)this.#G(t)}_getAllFeedbacks(){return Array.from(this.#M.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#M.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.feedbackId))));for(const e of t){const t=this.#P.get(e.feedbackId);if(t?.subscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(s(t.type,e),n)).catch((t=>{this.#A("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#M.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.feedbackId))));for(const e of t){const t=this.#P.get(e.feedbackId);if(t&&t.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(s(t.type,e),n)).catch((t=>{this.#A("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},11706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=void 0;const r=n(20360);function o(e){return JSON.parse(JSON.stringify(e))}t.runThroughUpgradeScripts=function(e,t,n,i,s,a){const c=new Map,u=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??n;t&&"number"==typeof e&&u(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??n;e&&"number"==typeof t&&u(t).feedbacks.push(e.id)}if(!a)for(let e=n??-1;e<i.length;e++)u(e).config=!0;const l={},d={};let p;if(c.size>0){const a=Array.from(c.keys()).sort(),u=Math.min(...a,n??-1)+1,h=[],f=[],m=i.length;for(let n=u;n<m;n++){const a=c.get(n-1);a&&(h.push(...a.actions),f.push(...a.feedbacks));const u=!!a?.config;if(!u&&0===h.length&&0===f.length)continue;const m=p??s,g=(0,i[n])({currentConfig:o(m)},{config:u?m:null,actions:h.map((t=>{const n=e[t];if(n)return(0,r.literal)({id:n.id,controlId:n.controlId,actionId:n.actionId,options:void 0!==n.options?o(n.options):{}})})).filter((e=>!!e)),feedbacks:f.map((e=>{const n=t[e];if(n)return(0,r.literal)({id:n.id,controlId:n.controlId,feedbackId:n.feedbackId,options:void 0!==n.options?o(n.options):{},isInverted:n.isInverted})})).filter((e=>!!e))});u&&g.updatedConfig&&(p=g.updatedConfig);for(const t of g.updatedActions)if(t){const n=e[t.id];n&&(n.actionId=t.actionId,n.options=t.options,d[t.id]=n)}for(const e of g.updatedFeedbacks)if(e){const n=t[e.id];n&&(n.feedbackId=e.feedbackId,n.options=e.options,l[e.id]={...n,style:l[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,n]of Object.entries(e))d[t]||"number"!=typeof n?.upgradeIndex||(d[t]=n);for(const[e,n]of Object.entries(t))l[e]||"number"!=typeof n?.upgradeIndex||(l[e]=n)}return{updatedActions:d,updatedFeedbacks:l,updatedConfig:p}}},39077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=void 0;const r=n(31635).__importDefault(n(7281));t.validateManifest=function(e){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'");if(!(0,r.default)(e)){const e=r.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}}},13730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const r=n(31635),o=n(20360),i=r.__importDefault(n(73290)),s=n(12593),a=n(11706),c=n(58039),u=n(74044),l=n(94289),d=n(62365);t.InstanceBase=class{#U;#V;id;#Z=new i.default({concurrency:1});#B=!1;#W=!1;#j={};#F;#H;#Y=new Map;#X=new Map;#J=new Map;#n;#K;get instanceOptions(){return this.#n}get label(){return this.#K}constructor(e){if(!(0,s.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#n={disableVariableValidation:!1},this.#U=new u.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#U.receivedMessage(e)})),this.#F=new l.ActionManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#H=new c.FeedbackManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#U.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#V=e.upgradeScripts,this.id=e.id,this.#K=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#Z.add((async()=>{if(this.#B)throw new Error("Already initialized");const t=e.actions,n=e.feedbacks;if(this.#j=e.config,this.#K=e.label,e.isFirstInit){const t={},n=this.getConfigFields();for(const e of n)"default"in e&&(t[e.id]=e.default);this.#j=t,this.saveConfig(this.#j),e.lastUpgradeIndex=this.#V.length-1}const{updatedActions:r,updatedFeedbacks:o,updatedConfig:i}=(0,a.runThroughUpgradeScripts)(t,n,e.lastUpgradeIndex,this.#V,this.#j,!1);this.#j=i??this.#j;const s=this.#U.sendWithCb("upgradedItems",{updatedActions:r,updatedFeedbacks:o});try{await this.init(this.#j,!!e.isFirstInit),this.#B=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await s}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:n},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#V.length-1,updatedConfig:this.#j}}))}async _handleDestroy(){await this.#Z.add((async()=>{if(!this.#B)throw new Error("Not initialized");await this.destroy(),this.#B=!1}))}async _handleConfigUpdateAndLabel(e){await this.#Z.add((async()=>{if(!this.#B)throw new Error("Not initialized");this.#K=e.label,this.#j=e.config,await this.configUpdated(this.#j)}))}async _handleExecuteAction(e){return this.#F.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)({},e.feedbacks,null,this.#V,this.#j,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#H.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)(e.actions,{},null,this.#V,this.#j,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#F.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,s.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#F.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#H.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#W)return}else if(!this.#W)return;if(!this.handleStartStopRecordActions)throw this.#W=!1,new Error("Recording actions is not supported by this module!");this.#W=e.recording,this.handleStartStopRecordActions(this.#W)}async _handleVariablesChanged(e){this.#H.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#Y.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#Y.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#j=e,this.#U.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#F.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#H.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[n,r]of Object.entries(e))r&&t.push({...r,id:n});this.#U.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],n=[];this.#X.clear();for(const r of e)t.push({id:r.variableId,name:r.name}),this.#X.set(r.variableId,r),this.#J.has(r.variableId)||(this.#J.set(r.variableId,""),n.push({id:r.variableId,value:""}));if(!this.#n.disableVariableValidation){const e=new Set(this.#X.keys());for(const t of this.#J.keys())e.has(t)||(this.#J.delete(t),n.push({id:t,value:void 0}))}this.#U.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:n})}setVariableValues(e){const t=[];for(const[n,r]of Object.entries(e))this.#n.disableVariableValidation?(void 0===r?this.#J.delete(n):this.#J.set(n,r),t.push({id:n,value:r})):this.#X.has(n)?(this.#J.set(n,r??""),t.push({id:n,value:r??""})):t.push({id:n,value:void 0});this.#U.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#J.get(e)}async parseVariablesInString(e){const t=this.#H.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#U.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#H.checkFeedbacks(e)}checkFeedbacksById(...e){this.#H.checkFeedbacksById(e)}_getAllActions(){return this.#F._getAllActions()}subscribeActions(...e){this.#F.subscribeActions(e)}unsubscribeActions(...e){this.#F.unsubscribeActions(e)}_getAllFeedbacks(){return this.#H._getAllFeedbacks()}subscribeFeedbacks(...e){this.#H.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#H.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#W)throw new Error("Not currently recording actions");this.#U.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}setCustomVariableValue(e,t){this.#U.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,n,r){this.#U.sendWithNoCb("send-osc",(0,o.literal)({host:e,port:t,path:n,args:r}))}updateStatus(e,t){this.#U.sendWithNoCb("set-status",(0,o.literal)({status:e,message:t??null}))}log(e,t){this.#U.sendWithNoCb("log-message",(0,o.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const n="string"==typeof e?{type:e}:e,r=new d.SharedUdpSocketImpl(this.#U,this.#Y,n);return t&&r.on("message",t),r}}},97386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51400:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning"}(n||(t.InstanceStatus=n={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(r||(t.Regex=r={}))},98983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},22018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31635);r.__exportStar(n(13730),t),r.__exportStar(n(51649),t),r.__exportStar(n(97386),t),r.__exportStar(n(51400),t),r.__exportStar(n(98983),t),r.__exportStar(n(68104),t),r.__exportStar(n(73258),t),r.__exportStar(n(90131),t),r.__exportStar(n(83371),t),r.__exportStar(n(39786),t),r.__exportStar(n(36132),t)},73258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},62365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const r=n(31635).__importDefault(n(30228)),o=n(20360);class i extends r.default{#U;#z;#n;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#m&&"object"==typeof this.#m?this.#m:void 0}#m="pending";constructor(e,t,n){super(),this.#U=e,this.#z=t,this.#n={...n}}bind(e,t,n){if(this.#m&&"object"==typeof this.#m)throw new Error("Socket is already bound");switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,o.assertNever)(this.#m),new Error("Invalid socket state")}this.#m="binding",n&&this.on("listening",n),this.#U.sendWithCb("sharedUdpSocketJoin",{family:this.#n.type,portNumber:e}).then((t=>{this.#m={portNumber:e,handleId:t},this.#z.set(t,this),this.emit("listening")}),(e=>{this.#m="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#m&&"object"==typeof this.#m);else switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,o.assertNever)(this.#m),new Error("Invalid socket state")}const t=this.#m.handleId;this.#m="closed",e&&this.on("close",e),this.#U.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#z.delete(t),this.emit("close")}),(e=>{this.#z.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,n,r,o,i){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof n){if("number"!=typeof r||"string"!=typeof o)throw new Error("Invalid arguments");if(void 0!==i&&"number"!=typeof i)throw new Error("Invalid arguments");const s=this.#Q(e,t,n);this.#$(s,r,o,i)}else{if("string"!=typeof n)throw new Error("Invalid arguments");{if(void 0!==r&&"function"!=typeof r)throw new Error("Invalid arguments");const o=this.#Q(e,0,void 0);this.#$(o,t,n,r)}}}#Q(e,t,n){let r;if("string"==typeof e)r=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))r=e;else{if(Array.isArray(e))return Buffer.from(e);r=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return r.subarray(t,void 0!==n?n+t:void 0)}#$(e,t,n,r){if(!this.#m||"object"!=typeof this.#m)throw new Error("Socket is not open");this.#U.sendWithCb("sharedUdpSocketSend",{handleId:this.#m.handleId,message:e,address:n,port:t}).then((()=>{r?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#m="fatalError";const t=this.boundState;t&&this.#z.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=i},83371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},39786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=t.CreateConvertToBooleanFeedbackUpgradeScript=t.EmptyUpgradeScript=void 0,t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}),t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,n)=>{const r=[];for(const t of n.feedbacks){let n=e[t.feedbackId];if(!0===n&&(n={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),n){t.style||(t.style={});for(const[e,o]of Object.entries(n))void 0!==t.options[e]&&(t.style[o]=t.options[e],delete t.options[e],r.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:r}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,n)=>{const r=[];for(const t of n.feedbacks){const n=e[t.feedbackId];if("string"!=typeof n)continue;const o=t.options[n];void 0!==o&&(delete t.options[n],t.isInverted="true"===o||!0===o||Number(o)>0,r.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:r}}}},36132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.assertNever=t.literal=void 0;const r=n(56284);function o(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,r.colord)(e).isValid()){const t=(0,r.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,n,r){let o=(255&e)<<16|(255&t)<<8|255&n;return r&&r>=0&&r<1&&(o+=16777216*Math.round(255*(1-r))),o},t.splitRgb=o,t.splitHsl=function(e){const t=o(e);return(0,r.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=o(e);return(0,r.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=o(e);return(0,r.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()}},7281:(e,t,n)=>{"use strict";e.exports=a,e.exports.default=a;const r={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18"},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1,required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"]},o=Object.prototype.hasOwnProperty,i=n(97169).A,s=new RegExp("","u");function a(e,{instancePath:t="",parentData:n,parentDataProperty:c,rootData:u=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===e.id&&(n="id")||void 0===e.name&&(n="name")||void 0===e.shortname&&(n="shortname")||void 0===e.description&&(n="description")||void 0===e.version&&(n="version")||void 0===e.license&&(n="license")||void 0===e.repository&&(n="repository")||void 0===e.bugs&&(n="bugs")||void 0===e.maintainers&&(n="maintainers")||void 0===e.legacyIds&&(n="legacyIds")||void 0===e.runtime&&(n="runtime")||void 0===e.manufacturer&&(n="manufacturer")||void 0===e.products&&(n="products")||void 0===e.keywords&&(n="keywords"))return a.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;{const n=0;for(const n in e)if(!o.call(r.properties,n))return a.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(0===n){if(void 0!==e.$schema){const n=0;if("string"!=typeof e.$schema)return a.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=0===n}else l=!0;if(l){if(void 0!==e.id){const n=0;if("string"!=typeof e.id)return a.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.name){const n=0;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.shortname){const n=0;if("string"!=typeof e.shortname)return a.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.description){const n=0;if("string"!=typeof e.description)return a.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.version){const n=0;if("string"!=typeof e.version)return a.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.license){const n=0;if("string"!=typeof e.license)return a.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.repository){const n=0;if("string"!=typeof e.repository)return a.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.bugs){const n=0;if("string"!=typeof e.bugs)return a.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.maintainers){let n=e.maintainers;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var d=!0;const e=n.length;for(let r=0;r<e;r++){let e=n[r];const o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t+"/maintainers/"+r,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===e.name&&(n="name"))return a.errors=[{instancePath:t+"/maintainers/"+r,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;if(void 0!==e.name){const n=0;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/maintainers/"+r+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=0===n}else p=!0;if(p){if(void 0!==e.email){const n=0;if("string"!=typeof e.email)return a.errors=[{instancePath:t+"/maintainers/"+r+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===n}else p=!0;if(p)if(void 0!==e.github){const n=0;if("string"!=typeof e.github)return a.errors=[{instancePath:t+"/maintainers/"+r+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===n}else p=!0}}}if(!(d=0===o))break}if(d){let e,r=n.length;if(r>1)for(;r--;)for(e=r;e--;)if(i(n[r],n[e]))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1}}}l=0===r}else l=!0;if(l){if(void 0!==e.legacyIds){let n=e.legacyIds;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var h=!0;const e=n.length;for(let r=0;r<e;r++){const e=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/legacyIds/"+r,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=0===e))break}if(h){let e,r=n.length;if(r>1){const o={};for(;r--;){let i=n[r];if("string"==typeof i){if("number"==typeof o[i])return e=o[i],a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1;o[i]=r}}}}}}l=0===r}else l=!0;if(l){if(void 0!==e.runtime){let n=e.runtime;const o=0;if(0===o){if(!n||"object"!=typeof n||Array.isArray(n))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===n.type&&(e="type")||void 0===n.api&&(e="api")||void 0===n.apiVersion&&(e="apiVersion")||void 0===n.entrypoint&&(e="entrypoint"))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==n.type){const e=0;if("string"!=typeof n.type)return a.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=0===e}else f=!0;if(f){if(void 0!==n.api){let e=n.api;const o=0;if("string"!=typeof e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:r.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;f=0===o}else f=!0;if(f){if(void 0!==n.apiVersion){const e=0;if("string"!=typeof n.apiVersion)return a.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0;if(f)if(void 0!==n.entrypoint){const e=0;if("string"!=typeof n.entrypoint)return a.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0}}}}l=0===o}else l=!0;if(l){if(void 0!==e.manufacturer){const n=0;if("string"!=typeof e.manufacturer)return a.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.products){let n=e.products;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(n.length<1)return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var m=!0;const e=n.length;for(let r=0;r<e;r++){const e=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/products/"+r,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=0===e))break}if(m){let e,r=n.length;if(r>1){const o={};for(;r--;){let i=n[r];if("string"==typeof i){if("number"==typeof o[i])return e=o[i],a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1;o[i]=r}}}}}}l=0===r}else l=!0;if(l){if(void 0!==e.keywords){let n=e.keywords;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var g=!0;const e=n.length;for(let r=0;r<e;r++){const e=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/keywords/"+r,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(g=0===e))break}if(g){let e,r=n.length;if(r>1){const o={};for(;r--;){let i=n[r];if("string"==typeof i){if("number"==typeof o[i])return e=o[i],a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1;o[i]=r}}}}}}l=0===r}else l=!0;if(l)if(void 0!==e.bonjourQueries){let n=e.bonjourQueries;const o=0;if(0===o){if(!n||"object"!=typeof n||Array.isArray(n))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=0;for(const e in n)if(!s.test(e))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e)for(const e in n)if(s.test(e)){let o=n[e];const i=0;if(0===i){if(!o||"object"!=typeof o||Array.isArray(o))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===o.type&&(n="type")||void 0===o.protocol&&(n="protocol"))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;{const n=0;for(const n in o)if("type"!==n&&"protocol"!==n&&"txt"!==n)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(0===n){if(void 0!==o.type){const n=0;if("string"!=typeof o.type)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=0===n}else _=!0;if(_){if(void 0!==o.protocol){let n=o.protocol;const i=0;if("string"!=typeof n)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("tcp"!==n&&"udp"!==n)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/protocol/enum",keyword:"enum",params:{allowedValues:r.properties.bonjourQueries.patternProperties[""].properties.protocol.enum},message:"must be equal to one of the allowed values"}],!1;_=0===i}else _=!0;if(_)if(void 0!==o.txt){let n=o.txt;const r=0;if(0===r){if(!n||"object"!=typeof n||Array.isArray(n))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=0;for(const r in n)if(!s.test(r))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r)for(const r in n)if(s.test(r)){const o=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(0!==o)break}}}_=0===r}else _=!0}}}}}if(0!==i)break}}}l=0===o}else l=!0}}}}}}}}}}}}}}}}}return a.errors=null,!0}},17e3:(e,t,n)=>{"use strict";const r=n(84865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:n=0,maxWait:o=0,before:i=!1,after:s=!0}=t;if(!i&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,c,u;const l=function(...t){const r=this,l=i&&!a;return clearTimeout(a),a=setTimeout((()=>{a=void 0,c&&(clearTimeout(c),c=void 0),s&&(u=e.apply(r,t))}),n),o>0&&!c&&s&&(c=setTimeout((()=>{c=void 0,a&&(clearTimeout(a),a=void 0),u=e.apply(r,t)}),o)),l&&(u=e.apply(r,t)),u};return r(l,e),l.cancel=()=>{a&&(clearTimeout(a),a=void 0),c&&(clearTimeout(c),c=void 0)},l}},31635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>x,__assign:()=>i,__asyncDelegator:()=>R,__asyncGenerator:()=>I,__asyncValues:()=>A,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>M,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>G,__esDecorate:()=>u,__exportStar:()=>_,__extends:()=>o,__generator:()=>m,__importDefault:()=>w,__importStar:()=>N,__makeTemplateObject:()=>C,__metadata:()=>h,__param:()=>c,__propKey:()=>d,__read:()=>S,__rest:()=>s,__runInitializers:()=>l,__setFunctionName:()=>p,__spread:()=>y,__spreadArray:()=>T,__spreadArrays:()=>E,__values:()=>b,default:()=>D});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,o,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),p=!1,h=n.length-1;h>=0;h--){var f={};for(var m in r)f[m]="access"===m?{}:r[m];for(var m in r.access)f.access[m]=r.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var g=(0,n[h])("accessor"===c?{get:d.get,set:d.set}:d[u],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(d.get=a),(a=s(g.set))&&(d.set=a),(a=s(g.init))&&o.unshift(a)}else(a=s(g))&&("field"===c?o.unshift(a):d[u]=a)}l&&Object.defineProperty(l,r.name,d),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function _(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(S(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function T(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function I(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function R(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:!1}:o?o(t):t}:o}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=b(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&g(t,e,n);return O(t,e),t}function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function x(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var k="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function G(e){function t(t){e.error=e.hasError?new k(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const D={__extends:o,__assign:i,__rest:s,__decorate:a,__param:c,__metadata:h,__awaiter:f,__generator:m,__createBinding:g,__exportStar:_,__values:b,__read:S,__spread:y,__spreadArrays:E,__spreadArray:T,__await:v,__asyncGenerator:I,__asyncDelegator:R,__asyncValues:A,__makeTemplateObject:C,__importStar:N,__importDefault:w,__classPrivateFieldGet:P,__classPrivateFieldSet:M,__classPrivateFieldIn:L,__addDisposableResource:x,__disposeResources:G}},90502:(e,t,n)=>{"use strict";var r=n(29562),o=n(76278);const i={none:(0,o.combineRgb)(16,16,16),red:(0,o.combineRgb)(160,0,0),orange:(0,o.combineRgb)(255,100,0),yellow:(0,o.combineRgb)(160,160,0),green:(0,o.combineRgb)(0,160,0),cyan:(0,o.combineRgb)(0,160,160),blue:(0,o.combineRgb)(0,0,160),purple:(0,o.combineRgb)(80,0,80),magenta:(0,o.combineRgb)(160,0,160),berry:(0,o.combineRgb)(94,30,77),crimson:(0,o.combineRgb)(140,0,40),forest:(0,o.combineRgb)(50,85,35),gray:(0,o.combineRgb)(140,140,140),"Hot Pink":(0,o.combineRgb)(220,0,120),hotpink:(0,o.combineRgb)(220,0,120),indigo:(0,o.combineRgb)(75,0,130),lavender:(0,o.combineRgb)(200,140,224),midnight:(0,o.combineRgb)(32,36,125),olive:(0,o.combineRgb)(128,128,0),peach:(0,o.combineRgb)(228,128,89),plum:(0,o.combineRgb)(52,0,62),skyblue:(0,o.combineRgb)(135,206,235),"Sky Blue":(0,o.combineRgb)(135,206,235),avocado:(0,o.combineRgb)(86,130,4),bastardamber:(0,o.combineRgb)(255,200,180),bisque:(0,o.combineRgb)(255,229,196),celadon:(0,o.combineRgb)(171,225,175),cerulean:(0,o.combineRgb)(94,127,178),chartreuse:(0,o.combineRgb)(127,255,0),coral:(0,o.combineRgb)(255,126,79),ecru:(0,o.combineRgb)(206,178,128),edgecombgray:(0,o.combineRgb)(218,212,197),fuchsia:(0,o.combineRgb)(223,0,223),fulvous:(0,o.combineRgb)(228,134,0),glaucous:(0,o.combineRgb)(136,206,234),grey:(0,o.combineRgb)(140,140,140),lilac:(0,o.combineRgb)(204,135,153),maize:(0,o.combineRgb)(247,232,92),mauve:(0,o.combineRgb)(153,51,102),ochre:(0,o.combineRgb)(205,118,34),puce:(0,o.combineRgb)(223,176,255),rufous:(0,o.combineRgb)(169,27,7),sage:(0,o.combineRgb)(189,184,138),scarlet:(0,o.combineRgb)(253,37,0),seafoamgreen:(0,o.combineRgb)(195,226,190),taupe:(0,o.combineRgb)(178,138,108),verdigris:(0,o.combineRgb)(65,129,108),vermilion:(0,o.combineRgb)(228,66,52),viridian:(0,o.combineRgb)(195,226,190),wenge:(0,o.combineRgb)(100,84,82),zaffre:(0,o.combineRgb)(0,20,168)},s=[{label:"None",id:"none"},{label:"Red",id:"red"},{label:"Orange",id:"orange"},{label:"Yellow",id:"yellow"},{label:"Green",id:"green"},{label:"Cyan",id:"cyan"},{label:"Blue",id:"blue"},{label:"Purple",id:"purple"},{label:"Magenta",id:"magenta"},{label:"Berry",id:"berry"},{label:"Crimson",id:"crimson"},{label:"Forest",id:"forest"},{label:"Gray",id:"gray"},{label:"Hot Pink",id:"Hot Pink"},{label:"Indigo",id:"indigo"},{label:"Lavender",id:"Lavender"},{label:"Midnight",id:"midnight"},{label:"Olive",id:"olive"},{label:"Peach",id:"peach"},{label:"Plum",id:"plum"},{label:"Sky Blue",id:"Sky Blue"},{label:"Avocado",id:"avocado"},{label:"Bastard Amber",id:"bastardamber"},{label:"Bisque",id:"bisque"},{label:"Celadon",id:"celadon"},{label:"Cerulean",id:"cerulean"},{label:"Chartreuse",id:"chartreuse"},{label:"Coral",id:"coral"},{label:"Ecru",id:"ecru"},{label:"Edgecomb Gray",id:"edgecombgray"},{label:"Fuchsia",id:"fuchsia"},{label:"Fulvous",id:"fulvous"},{label:"Glaucous",id:"glaucous"},{label:"Grey",id:"grey"},{label:"Lilac",id:"lilac"},{label:"Maize",id:"maize"},{label:"Mauve",id:"mauve"},{label:"Ochre",id:"ochre"},{label:"Puce",id:"puce"},{label:"Rufous",id:"rufous"},{label:"Sage",id:"sage"},{label:"Scarlet",id:"scarlet"},{label:"Seafoam Green",id:"seafoamgreen"},{label:"Taupe",id:"taupe"},{label:"Verdigris",id:"verdigris"},{label:"Vermilion",id:"vermilion"},{label:"Viridian",id:"viridian"},{label:"Wenge",id:"wenge"},{label:"Zaffre",id:"zaffre"}],a=[{label:"Do Not Continue",id:"0"},{label:"Auto Continue",id:"1"},{label:"Auto Follow",id:"2"}],c=[{id:"S",label:"Set Time"},{id:"I",label:"Increase by"},{id:"D",label:"Decrease by"}],u=[{id:"D",label:"Playhead"},{id:"S",label:"Selected"},{id:"N",label:"Cue Number"},{id:"I",label:"Cue ID"}],l=[{id:"D",label:"Playhead/Next"},{id:"R",label:"Running Cue"},{id:"N",label:"Cue Number"},{id:"I",label:"Cue ID"}],d=[{id:1,label:"On"},{id:0,label:"Off"},{id:2,label:"Toggle"}],p=[{id:"midiInputEnabled",label:"Midi Input [4, 5]",preset:""},{id:"midiOutputEnabled",label:"Midi Output [4, 5]",preset:"45"},{id:"mscInputEnabled",label:"MSC Input [4, 5]",preset:""},{id:"mscOutputEnabled",label:"MSC Output [4, 5]",preset:"45"},{id:"sysexInputEnabled",label:"SysEx Input [4, 5]",preset:""},{id:"sysexOutputEnabled",label:"SysEx Output [4, 5]",preset:"45"},{id:"oscOutputEnabled",label:"OSC Output [4]",preset:"4"},{id:"timecodeInputEnabled",label:"Timecode Input [4, 5]",preset:""},{id:"timecodeOutputEnabled",label:"Timecode Output [4, 5]",preset:"45"},{id:"artNetEnabled",label:"Art-Net Enabled [4]",preset:""},{id:"dmxOutputEnabled",label:"DMX Output [5]",preset:"5"},{id:"networkExternalInputEnabled",label:"External Network Input [5]",preset:""},{id:"networkExternalOutputEnabled",label:"External Network Output [5]",preset:"5"},{id:"networkLocalInputEnabled",label:"Local Network Input [5]",preset:""},{id:"networkLocalOutputEnabled",label:"Local Network Output [5]",preset:"5"}],h=["go","next","panic","previous","reset","stop","togglePause"],f="iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxMToyMToxMiswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDYtMDRUMTE6MjE6MTIrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU3OWRiOTk3LTUzMzAtNDA0MC04MWZhLTBjYmY3ZWY2ZjU4ZSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmQyM2E5ZDJmLTM2NDgtMTI0Yi04ZGU2LTZiYjM4ZTQ5ZTkwOSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgc3RFdnQ6d2hlbj0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ZGJiODQ5OS0xYjNiLTQ0YzAtOGU0Ny1lZWJhYjVmNDhjMzUiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTE6MjE6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTc5ZGI5OTctNTMzMC00MDQwLTgxZmEtMGNiZjdlZjZmNThlIiBzdEV2dDp3aGVuPSIyMDE4LTA2LTA0VDExOjIxOjEyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjRkYmI4NDk5LTFiM2ItNDRjMC04ZTQ3LWVlYmFiNWY0OGMzNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiLz4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgV2hpdGUiIHBob3Rvc2hvcDpMYXllclRleHQ9Ij0iLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgcmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI9Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI5Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjkiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTa2lwIEZ3ZCB3aGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iOiIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlNraXAgRndkIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjoiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJQbGF5IFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI0Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGxheSBHcmVlbiIgcGhvdG9zaG9wOkxheWVyVGV4dD0iNCIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlBhdXNlIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGF1c2UgWWVsbG93IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU3RvcCBXaGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iJmx0OyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlN0b3AgUmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSImbHQ7Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5i6Z7uAAABPElEQVR42u3a4Q2CMBCG4a7gCqzgLK7gCs7iCq7gCo4AK7hCrUqISAstPaN3viTfTwg8SUt7Pee9dyQdEAACCCCAAAIIIICILJBz7SFk48SudheyLb1r5v26EN+n+wbQMeQih9TuQ66lSL8O5OWQHkC+FEkDkBDSAFSEpAVIAGkElI2kCagSaQKUhaQNqAIpCrSIpBFoJVISaBZJK1CPJAbk+w9uLAHdcxYEiiJpBypAygKaIFkAykTKBhohWQHKQCoCGpAsAS0gFQPNImkFmkFaBZRE0gyUQFoNFEXSDhRBqgKaIFkAekOqBhpW8JaA/PM5YkAv2xw7QKcPADUMsT8YYkzS/OZZKLLVYLNKuYOCGSVXqyVXivYc+3BwyNEzzQu0v9BARQue1RY8mjgJQAABBBBAAAEEEEAkkRszs/0O3FXJfAAAAABJRU5ErkJggg==",m="iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxMToyMDozMCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDYtMDRUMTE6MjA6MzArMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEzNzY2ZmM2LTlhYzYtNDdlOS1iZGQ2LTA4ZmU4YWZiNWM1MSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjE5MTI4MGUwLWIwM2UtZTg0Yy04ODRiLTEzMjg5ZGYzN2ZiNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgc3RFdnQ6d2hlbj0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ZWQ3NjVkMS0yMjdmLTQyZTgtYTZmYy0wNzhmNjhkMWU4OWEiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTE6MjA6MzArMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTM3NjZmYzYtOWFjNi00N2U5LWJkZDYtMDhmZThhZmI1YzUxIiBzdEV2dDp3aGVuPSIyMDE4LTA2LTA0VDExOjIwOjMwKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjRlZDc2NWQxLTIyN2YtNDJlOC1hNmZjLTA3OGY2OGQxZTg5YSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiLz4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgV2hpdGUiIHBob3Rvc2hvcDpMYXllclRleHQ9Ij0iLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgcmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI9Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI5Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjkiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTa2lwIEZ3ZCB3aGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iOiIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlNraXAgRndkIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjoiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJQbGF5IFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI0Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGxheSBHcmVlbiIgcGhvdG9zaG9wOkxheWVyVGV4dD0iNCIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlBhdXNlIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGF1c2UgWWVsbG93IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU3RvcCBXaGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iJmx0OyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlN0b3AgUmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSImbHQ7Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Aq/YNAAABX0lEQVR42u3bTRHCMBAF4KYOsEBxUAsgAQtFApUAEsAKWMABaEBCCEwPvcCUIZt9u7ydeT110s5H+peEOsZYMe9TV6yPRSACEYhABCIQgQhEoC8rhNsyZTvKPIRQ5cmtnbrvxHNtNXrQ86C7UeZ5frNrN7SXpQack5NL7IVzEMCZOQDCwwECwsQBAcLFAQDCxlEGwsdRBLKBowRkB0cBKC9Oak8UpzCQPZyCQDZxCgHZxSkAZBtHGMg+jiCQDxwhID84AkC+cCR6UJe5vbUmjgTQKuWSr7lFnzZHR0CLuwDSRhNJ4CbtC0noMe8HSfBF0QeS8KeGfaQCH6u2kQoNd9hFKjhgZhOp8JBrfqQYG1EkhUF7W0hK0z52kBQnDm0gKU894yMBLF7ARgJZ/oKLBLSAChMJbAkeHlL9w4H3KWGUc57/aDX3lH7q/l8geehBeEUgAhGIQAQiEIEI9K/1APdX1qz3Plq4AAAAAElFTkSuQmCC",g="iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxMToyMjo0NyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDYtMDRUMTE6MjI6NDcrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBmM2U0Y2VhLTQ2NDEtNDhhYS04N2I2LWMxYjRlZTJkOWE5NCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBjYzc0NDRhLWE1ZDUtNmY0NC05NjdjLWU4YWRlZmI2MTYzOCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgc3RFdnQ6d2hlbj0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4OTliODFjZC00NzM3LTRmYzAtYWIwYi1jMGY2YzgwNzk1ODkiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTE6MjI6NDcrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGYzZTRjZWEtNDY0MS00OGFhLTg3YjYtYzFiNGVlMmQ5YTk0IiBzdEV2dDp3aGVuPSIyMDE4LTA2LTA0VDExOjIyOjQ3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg5OWI4MWNkLTQ3MzctNGZjMC1hYjBiLWMwZjZjODA3OTU4OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiLz4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgV2hpdGUiIHBob3Rvc2hvcDpMYXllclRleHQ9Ij0iLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgcmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI9Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI5Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjkiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTa2lwIEZ3ZCB3aGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iOiIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlNraXAgRndkIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjoiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJQbGF5IFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI0Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGxheSBHcmVlbiIgcGhvdG9zaG9wOkxheWVyVGV4dD0iNCIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlBhdXNlIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGF1c2UgWWVsbG93IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU3RvcCBXaGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iJmx0OyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlN0b3AgUmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSImbHQ7Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4n7NdoAAAAb0lEQVR42u3aMQ0AIADEwPevEbQ8GGAGkhtq4OambXQOAiBAgAABAgQIkAABeh1oJHPXy01AgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAmTB8ygCAgQIECABAgQIEKAvWz9emwZhCZEoAAAAAElFTkSuQmCC",_="iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxMToyMjoxOSswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDYtMDRUMTE6MjI6MTkrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmRkZDAxZWNjLTZjMzItNGZjMi04YzgxLTMwM2Y2Y2M5MzVhNCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjEwOTEyZDk3LWI1MWEtOWI0Ny05YWRkLWQ0MGNmM2Y0NDFkYyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgc3RFdnQ6d2hlbj0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplOGIyZmYzNC0xNmFmLTQ5MzItYjE1Yy1kMmZlNDE3Y2EyOTkiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTE6MjI6MTkrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGRkMDFlY2MtNmMzMi00ZmMyLThjODEtMzAzZjZjYzkzNWE0IiBzdEV2dDp3aGVuPSIyMDE4LTA2LTA0VDExOjIyOjE5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmU4YjJmZjM0LTE2YWYtNDkzMi1iMTVjLWQyZmU0MTdjYTI5OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiLz4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgV2hpdGUiIHBob3Rvc2hvcDpMYXllclRleHQ9Ij0iLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgcmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI9Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI5Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjkiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTa2lwIEZ3ZCB3aGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iOiIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlNraXAgRndkIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjoiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJQbGF5IFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI0Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGxheSBHcmVlbiIgcGhvdG9zaG9wOkxheWVyVGV4dD0iNCIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlBhdXNlIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGF1c2UgWWVsbG93IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU3RvcCBXaGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iJmx0OyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlN0b3AgUmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSImbHQ7Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4GJG/aAAAAeElEQVR42u3aMQ0AIAxFwarFE94QgYOCAVImFq7JWzvc/CMzQ+cgAAIECBAgQIAA6S3QHNF2WdSjuNs/gAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgACZAQsQIECAAAECBOjzFkEkVRGHBIsZAAAAAElFTkSuQmCC",b="iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAYAAAATBx+NAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxMToyMTo0NSswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDYtMDRUMTE6MjE6NDUrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRmZWVhMGMzLTU1NjQtNDBkNi04NTFhLTJhOThmYjY3OTQ3ZSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJlOGYwNzIzLTJmNTktOWY0Ny1hNDA0LTBhYTk5MmI4OTA5MiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNlZDYyMWNiLTU3MmItNGMyZS1hYTU4LTUwYTJiN2YwYzNjZCIgc3RFdnQ6d2hlbj0iMjAxOC0wNi0wNFQwMDowNzoyNSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMzAxMDE1Mi1mNDc5LTQzMmItYjdlYi1iZmYxOGU4ZWZlN2IiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTE6MjE6NDUrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NGZlZWEwYzMtNTU2NC00MGQ2LTg1MWEtMmE5OGZiNjc5NDdlIiBzdEV2dDp3aGVuPSIyMDE4LTA2LTA0VDExOjIxOjQ1KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmEzMDEwMTUyLWY0NzktNDMyYi1iN2ViLWJmZjE4ZThlZmU3YiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjZWQ2MjFjYi01NzJiLTRjMmUtYWE1OC01MGEyYjdmMGMzY2QiLz4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgV2hpdGUiIHBob3Rvc2hvcDpMYXllclRleHQ9Ij0iLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJSZWMgcmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI9Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI5Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2tpcCBCYWNrIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjkiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTa2lwIEZ3ZCB3aGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iOiIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlNraXAgRndkIEJsdWUiIHBob3Rvc2hvcDpMYXllclRleHQ9IjoiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJQbGF5IFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI0Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGxheSBHcmVlbiIgcGhvdG9zaG9wOkxheWVyVGV4dD0iNCIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlBhdXNlIFdoaXRlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iUGF1c2UgWWVsbG93IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSI7Ii8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU3RvcCBXaGl0ZSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iJmx0OyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlN0b3AgUmVkIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSImbHQ7Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6vUl74AAAA8ElEQVR42u3bSw3CQBQF0FqoBSxgAQu1gIVawAIWagELSAALWHgMTbtownwIK8ghuRu6IDkJc9uZ1y4iOskHAiBAgAABWn7s1o0p/ea7Lz//BnRJuafsAOWBIuWRcgCUB1ozACoDxbwuASoCvTIBKgPFcq0HlAeKteEAlTM3HKB6BkD1jIDqmQDVc801HKBtw+0BfdhwgN7nCKieE6CGhgPU2HCAGhoOUEPDAWpoOEANDQeonDMgfzGLtJp3o+hRw8Oq7Q4bZrZcAdm0d+zj4NDRs+EF4y8GqIzgGeI0BgzIILlXEbzMIoAAAQIE6DfyBIZxyJlmS8HgAAAAAElFTkSuQmCC";function S(e){const t=e>>16,n=e>>8&255,r=255&e;return Math.sqrt(t*t*.299+n*n*.587+r*r*.114)>127.5?0:16777215}const y=[function(e,t){const n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};for(let e of t.actions)"autoLoad"==e.actionId&&1==e.options.autoId&&(e.actionId="autoload",n.updatedActions.push(e)),"flagged"==e.actionId&&e.options.flaggId&&(e.options.flagId=e.options.flaggId,delete e.options.flaggId,n.updatedActions.push(e));return t.config&&null==t.config.useTenths&&(t.config.useTenths=!1,n.updatedConfig=t.config),n},(0,o.CreateConvertToBooleanFeedbackUpgradeScript)({q_run:!0,min_go:!0,ws_mode:!0,override:!0}),function(e,t){const n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};for(let e of t.actions)"flagged"==e.actionId&&e.options.flaggId&&(e.options.flagId=e.options.flaggId,delete e.options.flaggId,n.updatedActions.push(e));return n},function(e,t){const n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};return t.config&&(null==t.config.port&&(t.config.port="53000",n.updatedConfig=t.config),null==t.config.cuelist&&(t.config.cuelist="default",n.updatedConfig=t.config)),n}],E=class{uniqueID="";qName="[none]";qNumber="";qType=null;qMode=null;isLoaded=!1;isBroken=!1;isRunning=!1;isPaused=!1;isArmed=!1;isFlagged=!1;isAuditioning=!1;isSelected=!1;continueMode=0;infiniteLoop=!1;holdLastFrame=!1;autoLoad=!1;duration=0;pctElapsed=0;elapsed=0;startedAt=-1;qColor=0;qColorName="";qOrder=-1;qParent="";qList="";Notes="";constructor(e,t){null!=e&&function(e,t,n){e.uniqueID=t.uniqueID,e.qName=""==t.listName?"[none]":t.listName,e.qNumber=t.number,e.qColorName=t.colorName,e.qType=t.type.toLowerCase(),e.qMode=t.mode,e.isRunning=t.isRunning,e.isAuditioning=t.isAuditioning,e.isLoaded=t.isLoaded,e.isBroken=t.isBroken,e.isPaused=t.isPaused,e.isFlagged=t.flagged,e.isArmed=t.armed,e.autoLoad=t.autoLoad,e.continueMode=t.continueMode,e.infiniteLoop=t.infiniteLoop,e.holdLastFrame=t.holdLastFrame,e.duration=t.duration,e.qParent=t.parent,e.pctElapsed=t.percentActionElapsed,e.elapsed=t.actionElapsed,t.notes&&(e.Notes=t.notes.slice(0,20)),e.qColor=i[t.colorName.toLowerCase().replaceAll(" ","")];const r=e.uniqueID in n.wsCues;r&&(e.qOrder=n.wsCues[e.uniqueID].qOrder),e.isRunning||e.isPaused?r?0==(e.startedAt=n.wsCues[e.uniqueID].startedAt)&&(e.startedAt=Date.now()):e.startedAt=Date.now():e.startedAt=0}(this,e,t)}},T=class{uniqueID="";version="";displayName="Untitled Workspace";hasPasscode=null;udpReplyPort=53001;port=53e3;connected=!1;constructor(e){e&&Object.assign(this,e);const t=this.displayName;this.displayName=`${t}.`.split(".")[0]}};function v(e){return e.isBroken?"✕":e.isAuditioning?"❲⏵❳":e.isRunning?"⏵":e.isPaused?"⏸":e.isLoaded?"⏽":"·"}function I(e,t=2){return("0".repeat(t)+e).slice(-t)}var R=function(e){let t=0;for(let n=0;n<e.length;n++){t^=e[n];for(let e=0;e<8;e++)t=1&t?t>>1^33800:t>>1}return 65535&t};class A extends o.InstanceBase{qCueRequest=[{type:"s",value:'["number","uniqueID","listName","type","mode","isPaused","duration","actionElapsed","parent","flagged","notes","autoLoad","colorName","isRunning","isAuditioning","isLoaded","armed","isBroken","continueMode","percentActionElapsed","cartPosition","infiniteLoop","holdLastFrame"]'}];fb2check=["q_run","qid_run","any_run","q_armed","q_bg","qid_bg","q_flagged","q_paused"];constructor(e){super(e),this.instanceOptions.disableVariableValidation=!0,this.connecting=!1,this.needPasscode=!1,this.useTCP=!1,this.qVer=4,this.hasError=!1,this.disabled=!0,this.pollCount=0,this.wrongPasscode="",this.loggedErrors=[],this.resetVars()}logError(e){this.loggedErrors.includes(e)||(this.log("info",`Address "${e}" returned an error`),this.loggedErrors.push(e),this.setVariableValues({errs:this.loggedErrors.length}))}applyConfig(e){let t=e.workspace||"default",n=e.cuelist||"default";null==e.cuelist&&(e.cuelist=n),null==e.workspace&&(e.workspace=t),this.ws=""!==t&&"default"!==t?"/workspace/"+t:"",this.cl=""!==n&&"default"!==n?n:"",null==e.useTCP&&(e.useTCP=!0),this.useTCP=e.useTCP,this.exposeVariables=e.exposeVariables||!1}resetVars(e){if(this.nextCue="",this.runningCue=new E,e&&this.useTCP){let e={};for(const[t,n]of Object.entries(this.wsCues)){let t=n.qNumber.replace(/[^\w\.]/gi,"_"),r=n.qName,o=n.uniqueID;r&&t&&(delete this.cueColors[t],e["q_"+t+"_name"]=void 0),e["id_"+o+"_name"]=void 0}this.setVariableValues(e)}this.needWorkspace=!0,this.needPasscode=!1,this.wsCues={},this.cueColors={},this.cueOrder=[],this.cueByNum={},this.cueList={},this.wsList={},this.requestedCues={},this.overrides={},this.lastRunID="-"+this.lastRunID,this.showMode=!1,this.liveFadePreview=!1,this.audition=!1,this.goDisabled=!1,this.goAfter=0,this.minGo=0,this.checkFeedbacks(),this.updateQVars(),this.updateNextCue(),this.updatePlaying(),this.wrongPasscode="",this.wrongPasscodeAt=0,this.loggedErrors=[],this.selectedCues=[]}updateNextCue(){const e=this.wsCues[this.nextCue]||new E;this.setVariableValues({n_id:e.uniqueID,n_name:e.qName,n_num:e.qNumber,n_type:e.qType,n_notes:e.Notes,n_stat:v(e),n_cont:["NoC","Con","Fol"][e.continueMode]}),this.checkFeedbacks("playhead_bg")}updateQVars(e){const t=(e=e||new E).uniqueID,n=e.qNumber.replace(/[^\w\.]/gi,"_"),r=(e.qType,e.qColor);let o=null,i=null,s=null,a=0,c=-1,u={},l=[],d=[];if(t in this.wsCues&&(o=this.wsCues[t].qNumber.replace(/[^\w\.]/gi,"_"),i=this.wsCues[t].qName,this.wsCues[t].qType,a=this.wsCues[t].qColor,this.wsCues[t].qOrder,""!=o&&o!=e.qNumber)){let e=`q_${o}_name`;u[e]=void 0,d.push(e),this.cueColors[o]=0,delete this.cueByNum[o],i=""}if(""!=e.uniqueID&&e.qName!=i||r!=a){if(""!=n){let r=`q_${n}_name`;u[r]=e.qName,l.push({variableId:r,name:`Name of cue number '${n}'`}),this.cueColors[n]=e.qColor,this.cueByNum[n]=t}let r=`id_${t}_name`;u[r]=e.qName,l.push({variableId:r,name:`Name of cue ID ${t}`}),this.checkFeedbacks(this.fb2check)}this.exposeVariables&&l.length&&(this.variableDefs.filter((e=>!d.includes(e))),this.variableDefs=[...this.variableDefs,...l],this.setVariableDefinitions(this.variableDefs)),this.setVariableValues(u)}updateRunning(){const e=this.config.useTenths?0:1,t=this.runningCue,n=t.elapsed,r=I(Math.floor(n/3600)),o=I(Math.floor(n/60)%60),i=I(Math.floor(n%60));let s="";r>0&&(s=r+":"),o>0&&(s=s+o+":"),s+=i;let a=t.duration-n;a>0&&(a+=e);const c=I(Math.floor(a/3600)),u=I(Math.floor(a/60)%60),l=I(Math.floor(a%60));let d="";if(c>0&&(d=c+":"),u>0&&(d=d+u+":"),d+=l,0==e){const e=I(Math.floor(10*(a-Math.trunc(a))),1);a<5&&0!=a&&(d=d.slice(-1)+"."+e)}this.setVariableValues({r_id:t.uniqueID,r_name:t.qName,r_num:t.qNumber,r_notes:t.Notes,r_stat:v(t),r_hhmmss:c+":"+u+":"+l,r_hh:c,r_mm:u,r_ss:l,r_left:d,e_hhmmss:r+":"+o+":"+i,e_hh:r,e_mm:o,e_ss:i,e_time:s}),this.checkFeedbacks("run_bg","any_run")}async configUpdated(e){this.config=e,this.applyConfig(e),this.resetVars(),this.init_osc(),this.init_actions(),this.init_presets(),this.init_variables(),this.init_feedbacks()}async init(e){this.config=e,this.disabled=!1,this.updateStatus(o.InstanceStatus.Connecting),await this.configUpdated(e)}init_actions(){this.setActionDefinitions(function(e){const t=async(t,n,r)=>{r=r??[];let o=["/auditionWindow","/alwaysAudition","/overrideWindow"].includes(n);e.cl&&h.includes(t.actionId)&&(n="/cue_id/"+e.cl+n),e.useTCP&&!e.ready?e.log("debug",`Not connected to ${e.config.host}`):void 0!==n&&(e.log("debug",`sending ${n} ${JSON.stringify(r)} to ${e.config.host}`),e.sendOSC(n,r,o)),e.useTCP&&o&&(e.sendOSC(n,[],!0),e.sendOSC("/cue/playhead/valuesForKeys",e.qCueRequest))},n=async(e,t)=>{let n=await t.parseVariablesInString(e.options.time);return n=parseFloat(n),{type:n.isInteger?"i":"f",value:n}},r=(e,t)=>{const n=parseInt(+t);return 2===n?1-parseInt(+e):n};return{go:{name:"GO",options:[],callback:async(e,n)=>{await t(e,"/go")}},audition_go:{name:"Audition GO",description:"QLab 5 ONLY",options:[],callback:async(e,n)=>{await t(e,"/auditionGo")}},stop:{name:"Stop",options:[],callback:async(e,n)=>{await t(e,"/stop")}},new_Go:{name:"Go Cue(s)",description:"GO with optional cue selection",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:u},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],callback:async(e,n)=>{const r=e.options;let o="";switch(r.scope){case"S":o="/cue/selected";break;case"N":o=`/cue/${await n.parseVariablesInString(r.q_num.trim())}`;break;case"I":o=`/cue_id/${await n.parseVariablesInString(r.q_id.trim())}`}await t(e,o+"/go")}},new_auditGo:{name:"Audition Cue(s)",description:"Audition with optional cue selection. QLab5 only",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:u},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],callback:async(e,n)=>{const r=e.options;let o="";switch(r.scope){case"S":o="/cue/selected";break;case"N":o=`/cue/${await n.parseVariablesInString(r.q_num.trim())}`;break;case"I":o=`/cue_id/${await n.parseVariablesInString(r.q_id.trim())}`}await t(e,o+"/auditionGo")}},new_stop:{name:"Stop Cue(s)",description:"Stop with optional cue selection",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:u},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],callback:async(e,n)=>{const r=e.options;let o="";switch(r.scope){case"S":o="/cue/selected";break;case"N":o=`/cue/${await n.parseVariablesInString(r.q_num.trim())}`;break;case"I":o=`/cue_id/${await n.parseVariablesInString(r.q_id.trim())}`}await t(e,o+"/stop")}},new_loadAt:{name:"Load Cue(s) At",description:"Load to Time with optional cue selection",options:[{type:"dropdown",label:"Mode",id:"mode",default:"S",choices:c},{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:u},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope},{type:"textinput",label:"Hour",id:"hh",length:2,default:0,useVariables:!0,regex:o.Regex.NUMBER,isVisible:(e,t)=>"S"===e.mode},{type:"textinput",label:"Minute",id:"mm",length:2,default:0,useVariables:!0,regex:o.Regex.NUMBER,isVisible:(e,t)=>"S"===e.mode},{type:"textinput",label:"Seconds",id:"ss",default:0,useVariables:!0,regex:o.Regex.FLOAT}],callback:async(e,n)=>{const r=e.options,o=r.scope;let i="",s="D"==r.mode?"/-":"I"==r.mode?"/+":"";switch(o){case"S":i="/cue/selected";break;case"N":i=`/cue/${await n.parseVariablesInString(r.q_num.trim())}`;break;case"I":i=`/cue_id/${await n.parseVariablesInString(r.q_id.trim())}`}let a=parseFloat(await n.parseVariablesInString(r.ss)),c=[];if("S"===r.mode){let e=parseInt(await n.parseVariablesInString(r.hh)),t=parseInt(await n.parseVariablesInString(r.mm));Math.abs(e)+Math.abs(t)>0&&(c.push({type:"i",value:e}),c.push({type:"i",value:t}))}c.push({type:"f",value:a}),await t(e,i+"/loadAt"+s,c)}},add_slice:{name:"Add Slice",options:[],callback:async(e,n)=>{await t(e,"/cue/selected/addSliceMarker")}},previous:{name:"Previous Cue",options:[],callback:async(e,n)=>{await t(e,"/playhead/previous")}},next:{name:"Next Cue",options:[],callback:async(e,n)=>{await t(e,"/playhead/next")}},pause:{name:"Pause",options:[],callback:async(e,n)=>{await t(e,"/pause")}},resume:{name:"Resume",options:[],callback:async(e,n)=>{await t(e,"/resume")}},togglePause:{name:"Toggle Pause",options:[],callback:async(e,n)=>{await t(e,"/cue/selected/togglePause")}},new_togglePause:{name:"Pause/Resume toggle with optional Cue selection",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:l},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],callback:async(n,r)=>{const o=n.options;let i="",s="";switch(o.scope){case"D":s="/cue/playhead/",i=e.nextCue.isPaused?"resume":"pause";break;case"R":e.runningCue,i=e.runningCue.isPaused?"resume":"pause",s="/cue/active/";break;case"N":let t=await r.parseVariablesInString(o.q_num.trim());s=`/cue/${t}/`,i=e.wsCues[e.cueByNum[t]].isPaused?"resume":"pause";break;case"I":let n=await r.parseVariablesInString(o.q_id.trim());s=`/cue_id/${n}/`,i=e.wsCues[n].isPaused?"resume":"pause"}await t(n,s+i)}},stopSelected:{name:"Stop selected",options:[],callback:async(e,n)=>{await t(e,"/cue/selected/stop")}},panic:{name:"Panic (ALL)",options:[],callback:async(e,n)=>{await t(e,"/panic")}},panicInTime:{name:"Panic (ALL) In Time",options:[{type:"textinput",label:"Time in Seconds",id:"time",default:0,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/panicInTime",o)}},reset:{name:"Reset",options:[],callback:async(e,n)=>{await t(e,"/reset")}},load:{name:"Load Cue",options:[],callback:async(e,n)=>{await t(e,"/cue/selected/load")}},preview:{name:"Preview",options:[],callback:async(e,n)=>{await t(e,"/cue/selected/preview")}},audition_preview:{name:"Audition Preview",description:"QLab5 ONLY",options:[],callback:async(e,n)=>{await t(e,"/cue/selected/auditionPreview")}},goto:{name:"Go To (cue)",options:[{type:"textinput",label:"Cue",id:"cue",default:e.nextCue.qNumber,useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cue);await t(e,"/playhead/"+r)}},start:{name:"Start (cue)",options:[{type:"textinput",label:"Cue",id:"cue",default:"1",useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cue);await t(e,"/cue/"+r+"/start")}},stop_cue:{name:"Stop (cue)",options:[{type:"textinput",label:"Cue",id:"cue",default:"1",useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cue);await t(e,"/cue/"+r+"/stop")}},panic_cue:{name:"Panic (Cue)",options:[{type:"textinput",label:"Cue",id:"cue",useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cue);await t(e,"/cue/"+r+"/panic")}},panicInTime_cue:{name:"Panic (Cue) In Time",options:[{type:"textinput",label:"Cue",id:"cue",useVariables:!0},{type:"textinput",label:"Time in Seconds",id:"time",default:0,useVariables:!0}],callback:async(e,r)=>{const o=await r.parseVariablesInString(e.options.cue),i=await n(e,r);await t(e,"/cue/"+o+"/panicInTime",i)}},audition_go_cue:{name:"Audition Cue",description:"QLab5 ONLY",options:[{type:"textinput",label:"Cue",id:"cue",default:"1",useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cue);await t(e,"/cue/"+r+"/audition")}},audition_go_id:{name:"Audition Cue ID",description:"QLab5 ONLY",options:[{type:"textinput",label:"Cue",id:"cueId",default:"1",useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cueId);await t(e,"/cue_id/"+r+"/audition")}},goto_id:{name:"Goto (Cue ID)",options:[{type:"textinput",label:"Cue ID",id:"cueId",default:e.nextCue,useVariables:!0}],callback:async(n,r)=>{const o=await r.parseVariablesInString(n.options.cueId),i=e.qVer<5?"Id":"ID";await t(n,`/playhead${i}/`+o)}},start_id:{name:"Start (Cue ID)",options:[{type:"textinput",label:"Cue ID",id:"cueId",default:e.nextCue,useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cueId);await t(e,"/cue_id/"+r+"/start")}},stop_id:{name:"Stop (Cue ID)",options:[{type:"textinput",label:"Cue ID",id:"cueId",default:e.nextCue,useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cueId);await t(e,"/cue_id/"+r+"/stop")}},panic_id:{name:"Panic (Cue ID)",options:[{type:"textinput",label:"Cue ID",id:"cueId",default:e.nextCue,useVariables:!0}],callback:async(e,n)=>{const r=await n.parseVariablesInString(e.options.cueId);await t(e,"/cue_id/"+r+"/panic")}},panicInTime_id:{name:"Panic (Cue ID) In Time",options:[{type:"textinput",label:"Cue ID",id:"cueId",default:e.nextCue,useVariables:!0},{type:"textinput",label:"Time in Seconds",id:"time",default:0,useVariables:!0}],callback:async(e,r)=>{const o=await r.parseVariablesInString(e.options.cueId),i=await n(e,r);await t(e,"/cue_id/"+o+"/panicInTime",i)}},liveFadePreview:{name:"Live Fade Preview mode",options:[{type:"dropdown",label:"Mode",id:"onOff",default:1,choices:d}],callback:async(n,o)=>{await t(n,"/liveFadePreview",{type:"i",value:r(e.liveFadePreview,n.options.onOff)})}},showMode:{name:"Show mode",options:[{type:"dropdown",label:"Mode",id:"onOff",default:1,choices:d}],callback:async(n,o)=>{await t(n,"/showMode",{type:"i",value:r(e.showMode,n.options.onOff)})}},auditMode:{name:"Audition",description:"QLab 5 sets 'Always Audition' mode\nOtherwise Show/Hide 'Audition Window'",options:[{type:"dropdown",label:"Mode",id:"onOff",default:1,choices:d}],callback:async(n,o)=>{const i=e.qVer<5?"/auditionWindow":"/alwaysAudition";await t(n,i,{type:"i",value:r(e.auditMode,n.options.onOff)})}},auditWindows:{name:"Audition Monitors",description:"QLab 5 only, open/close ALL audition monitors",options:[{type:"dropdown",label:"Mode",id:"onOff",default:1,choices:d}],callback:async(n,o)=>{await t(n,"/auditionMonitors",{type:"i",value:r(e.auditMonitors,n.options.onOff)})}},overrideWindow:{name:"Override Controls Window",options:[{type:"dropdown",label:"Mode",id:"onOff",default:1,choices:d}],callback:async(n,o)=>{await t(n,"/overrideWindow",{type:"i",value:r(e.overrideWindow,n.options.onOff)})}},overrides:{name:"Master Override",options:[{type:"dropdown",label:"Override",id:"which",default:p[0].id,choices:p},{type:"dropdown",label:"Mode",id:"onOff",default:1,choices:d}],callback:async(n,o)=>{await t(n,"/overrides/"+n.options.which,{type:"i",value:r(e.overrides[n.options.which],n.options.onOff)})}},minGo:{name:"Minimum Go",options:[{type:"textinput",tooltip:"Double Go Protection Time",label:"Time in Seconds",id:"time",default:0,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/settings/general/minGoTime",o)}},prewait_dec:{name:"Decrease Prewait",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/preWait/-",o)}},prewait_inc:{name:"Increase Prewait",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/preWait/+",o)}},postwait_dec:{name:"Decrease Postwait",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/postWait/-",o)}},postwait_inc:{name:"Increase Postwait",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/postWait/+",o)}},duration_dec:{name:"Decrease Duration",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/duration/-",o)}},duration_inc:{name:"Increase Duration",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/duration/+",o)}},startTime_dec:{name:"Decrease Start Time",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/startTime/-",o)}},startTime_inc:{name:"Increase Start Time",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/startTime/+",o)}},endTime_dec:{name:"Decrease End Time",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/endTime/-",o)}},endTime_inc:{name:"Increase End Time",options:[{type:"textinput",label:"Time in seconds",id:"time",default:1,useVariables:!0}],callback:async(e,r)=>{const o=await n(e,r);await t(e,"/cue/selected/endTime/+",o)}},continue:{name:"Set Continue Mode",options:[{type:"dropdown",label:"Continue Mode",id:"contId",choices:a}],callback:async(e,n)=>{await t(e,"/cue/selected/continueMode",{type:"i",value:parseInt(e.options.contId)})}},arm:{name:"Arm Cue",options:[{type:"dropdown",label:"Arm",id:"armId",default:1,choices:d}],callback:async(n,o)=>{const i=e.wsCues[e.nextCue];i&&(await t(n,"/cue/selected/armed",{type:"i",value:r(i.isArmed,n.options.armId)}),await t(n,"/cue_id/selected/armed",[]))}},new_arm:{name:"Arm Cue(s)",description:"Arm with optional cue selection",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:u},{type:"dropdown",label:"Arm",id:"tog",default:1,choices:d},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],callback:async(n,o)=>{const i=n.options,s=i.scope;let a="/armed",c=i.tog,u="",l=-1;try{switch(s){case"S":u="/cue/selected",l=r(e.wsCues[e.selectedCues[0]].isArmed,c);break;case"N":let t=await o.parseVariablesInString(i.q_num.trim());u=`/cue/${t}`,l=r(e.wsCues[e.cueByNum[t.replace(/[^\w\.]/gi,"_")]]?.isArmed,c);break;case"I":let n=await o.parseVariablesInString(i.q_id.trim());u=`/cue_id/${n}`,l=r(e.wsCues[n].isArmed,c);break;default:u="/cue/playhead",l=r(e.wsCues[e.nextCue].isArmed,c)}}catch{return}await t(n,u+a,{type:"i",value:l}),await t(n,u+a,[])}},new_flag:{name:"Flag Cue(s)",description:"Flag with optional cue selection",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:u},{type:"dropdown",label:"Flag",id:"tog",default:1,choices:d},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],callback:async(n,o)=>{const i=n.options,s=i.scope;let a="/flagged",c=i.tog,u="",l=-1;try{switch(s){case"S":u="/cue/selected",l=r(e.wsCues[e.selectedCues[0]].isFlagged,c);break;case"N":let t=await o.parseVariablesInString(i.q_num.trim());u=`/cue/${t}`,l=r(e.wsCues[e.cueByNum[t.replace(/[^\w\.]/gi,"_")]]?.isFlagged,c);break;case"I":let n=await o.parseVariablesInString(i.q_id.trim());u=`/cue_id/${n}`,l=r(e.wsCues[n].isFlagged,c);break;default:u="/cue/playhead",l=r(e.wsCues[e.nextCue].isFlagged,c)}}catch{return}await t(n,u+a,{type:"i",value:l}),await t(n,u+a,[])}},autoload:{name:"Autoload Cue",options:[{type:"dropdown",label:"Autoload",id:"autoId",default:1,choices:d}],callback:async(n,o)=>{const i=e.wsCues[e.nextCue];i||await t(n,"/cue/selected/autoLoad",{type:"i",value:r(i.autoLoad,n.options.autoId)})}},flagged:{name:"Flag Cue",options:[{type:"dropdown",label:"Flagged",id:"flagId",default:1,choices:d}],callback:async(n,o)=>{const i=e.wsCues[e.nextCue];i||await t(n,"/cue/selected/flagged",{type:"i",value:r(i.isFlagged,n.options.flagId)})}},cueColor:{name:"Set Selected Cue Color",options:[{type:"dropdown",label:"Color",id:"colorId",choices:s}],callback:async(e,n)=>{await t(e,"/cue/selected/colorName",{type:"s",value:""+e.options.colorId})}},infiniteLoop:{name:"Set selected to infinite loop",options:[{type:"dropdown",label:"on/off",id:"choice",default:1,choices:d}],callback:async(n,o)=>{const i=e.wsCues[e.nextCue];i||await t(n,"/cue/selected/infiniteLoop",{type:"i",value:r(i.infiniteLoop,n.options.choice)})}},holdLastFrame:{name:"Set selected to hold last frame",options:[{type:"dropdown",label:"on/off",id:"choice",default:1,choices:d}],callback:async(n,o)=>{const i=e.wsCues[e.nextCue];i||await t(n,"/cue/selected/holdLastFrame",{type:"i",value:r(i.holdLastFrame,n.options.choice)})}},manual:{name:"Send custom OSC command",description:"Please consider filing a feature request",options:[{type:"textinput",label:"OSC Address",id:"node",default:"",useVariables:!0},{type:"dropdown",label:"Argument Type",id:"argType",default:"n",choices:[{id:"n",label:"None"},{id:"s",label:"String"},{id:"i",label:"Integer"},{id:"f",label:"Float"}]},{type:"textinput",label:"String",id:"argS",default:"",useVariables:!0,isVisible:(e,t)=>"s"===e.argType},{type:"textinput",label:"Integer",id:"argI",default:0,useVariables:!0,isVisible:(e,t)=>"i"===e.argType},{type:"textinput",label:"Float",id:"argF",default:0,useVariables:!0,isVisible:(e,t)=>"f"===e.argType}],callback:async(e,n)=>{let r=[];const o="n"===e.options.argType?"":e.options.argType;switch(o){case"s":r={type:o,value:await n.parseVariablesInString(e.options.argS)};break;case"i":r={type:o,value:parseInt(await n.parseVariablesInString(e.options.argI))};break;case"f":r={type:o,value:parseFloat(await n.parseVariablesInString(e.options.argF))}}const i=await n.parseVariablesInString(e.options.node);await t(e,i,r)}},copyCueID:{name:"Copy Unique Cue ID",options:[],callback:async(t,n)=>{e.init_actions(),e.init_feedbacks()}}}}(this))}init_presets(){this.setPresetDefinitions(function(e){const t={};t["cuelist-go"]={type:"button",category:"CueList",name:"GO Action. Includes double-GO feedback.",style:{text:"",png64:b,pngalignment:"center:center",size:"18",color:(0,o.combineRgb)(255,255,255),bgcolor:0},steps:[{down:[{actionId:"go",options:{}}],up:[]}],feedbacks:[{feedbackId:"min_go",options:{goMode:1},style:{color:16777215,bgcolor:(0,o.combineRgb)(0,102,0)}},{feedbackId:"ws_mode",options:{showMode:2},style:{color:16777215,bgcolor:(0,o.combineRgb)(0,102,153)}},{feedbackId:"min_go",options:{goMode:0},style:{color:16777215,bgcolor:(0,o.combineRgb)(153,0,0)}}]},t["cuelist-pause-resume"]={type:"button",category:"CueList",name:"Pause Toggle",style:{text:"",png64:_,pngalignment:"center:center",size:"18",color:(0,o.combineRgb)(255,255,255),bgcolor:0},steps:[{down:[{actionId:"new_togglePause",options:{scope:"R"}}],up:[]}],feedbacks:[{feedbackId:"q_paused",options:{scope:"R"},style:{bgcolor:(0,o.combineRgb)(102,0,102),color:(0,o.combineRgb)(255,255,255)}}]},t["cuelist-pause"]={type:"button",category:"CueList",name:"Pause",style:{text:"Pause",size:"18",color:(0,o.combineRgb)(255,255,255),bgcolor:0},steps:[{down:[{actionId:"pause",options:{}}],up:[]}],feedbacks:[]},t["cuelist-resume"]={type:"button",category:"CueList",name:"Resume",style:{text:"Resume",size:"18",color:(0,o.combineRgb)(0,0,0),bgcolor:(0,o.combineRgb)(0,255,0)},steps:[{down:[{actionId:"resume",options:{}}],up:[]}],feedbacks:[]},t["cuelist-stop"]={type:"button",category:"CueList",name:"Stop",style:{text:"Stop",size:"30",color:"16777215",bgcolor:(0,o.combineRgb)(255,0,0)},steps:[{down:[{actionId:"stop",options:{}}],up:[]}],feedbacks:[]},t["cuelist-stop-selected"]={type:"button",category:"CueList",name:"Stop selected",style:{text:"Stop selected",size:"18",color:"16777215",bgcolor:(0,o.combineRgb)(255,0,0)},steps:[{down:[{actionId:"stopSelected",options:{}}],up:[]}],feedbacks:[]},t["cuelist-panic"]={type:"button",category:"CueList",name:"Panic",style:{text:"",png64:g,pngalignment:"center:center",size:"18",color:(0,o.combineRgb)(255,255,255),bgcolor:0},steps:[{down:[{actionId:"panic",options:{}}],up:[]}],feedbacks:[]},t["cuelist-reset"]={type:"button",category:"CueList",name:"Reset",style:{text:"Reset",size:"24",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"reset",options:{}}],up:[]}],feedbacks:[]},t["cuelist-preview"]={type:"button",category:"CueList",name:"Preview",style:{text:"Preview",size:"18",color:"16777215",bgcolor:(0,o.combineRgb)(0,128,0)},steps:[{down:[{actionId:"preview",options:{}}],up:[]}],feedbacks:[]},t["cuelist-previous-cue"]={type:"button",category:"CueList",name:"Previous Cue",style:{text:"",png64:m,pngalignment:"center:center",size:"18",color:(0,o.combineRgb)(255,255,255),bgcolor:0},steps:[{down:[{actionId:"previous",options:{}}],up:[]}],feedbacks:[]},t["cuelist-next-cue"]={type:"button",category:"CueList",name:"Next Cue",style:{text:"",png64:f,pngalignment:"center:center",size:"18",color:(0,o.combineRgb)(255,255,255),bgcolor:0},steps:[{down:[{actionId:"next",options:{}}],up:[]}],feedbacks:[]},t["cuelist-load-cue"]={type:"button",category:"CueList",name:"Load Cue",style:{text:"Load\\nCue",size:"24",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"load",options:{}}],up:[]}],feedbacks:[]},t["cuelist-show-mode"]={type:"button",category:"CueList",name:"Show Mode",style:{text:"Show\\nMode",size:"24",color:"16777215",bgcolor:(0,o.combineRgb)(0,128,0)},steps:[{down:[{actionId:"showMode",options:{onOff:"1"}}],up:[]}],feedbacks:[]},t["cuelist-edit-mode"]={type:"button",category:"CueList",name:"Edit Mode",style:{text:"Edit\\nMode",size:"24",color:"16777215",bgcolor:(0,o.combineRgb)(72,96,96)},steps:[{down:[{actionId:"showMode",options:{onOff:"0"}}],up:[]}],feedbacks:[]},t["cuelist-audition-on"]={type:"button",category:"CueList",name:"Audition ON",style:{text:"Audition\\nON",size:"18",color:"16777215",tooltip:"Opens the Audition Window",bgcolor:(0,o.combineRgb)(0,64,128)},steps:[{down:[{actionId:"auditMode",options:{onOff:"1"}}],up:[]}],feedbacks:[]},t["cuelist-audition-off"]={type:"button",category:"CueList",name:"Audition OFF",style:{text:"Audition\\nOFF",size:"18",color:"16777215",tooltip:"Closes the Audition Window",bgcolor:(0,o.combineRgb)(64,96,96)},steps:[{down:[{actionId:"auditMode",options:{onOff:"0"}}],up:[]}],feedbacks:[]};let n=[],r=[];const a=e.qVer;for(let e of p)e.preset.includes(`${a}`)&&(n.push({actionId:"overrides",options:{which:e.id,onOff:"0"}}),r.push({actionId:"overrides",options:{which:e.id,onOff:"1"}}));t["ws-disable"]={type:"button",category:"Workspace",name:"Disable a Workspace",style:{bgcolor:(0,o.combineRgb)(192,0,0),text:"Disable Workspace",tooltip:"Turn output overrides ON (for a Backup System).\nPrevents transmitting control commands twice.",size:13,color:(0,o.combineRgb)(250,250,250)},steps:[{down:[...n,{actionId:"overrideWindow",options:{onOff:"0"}}],up:[]}]},t["ws-enable"]={type:"button",category:"Workspace",name:"Enable a Workspace",style:{bgcolor:(0,o.combineRgb)(0,192,0),text:"Enable Workspace",tooltip:"Turn output overrides OFF (for a Primary System).\nAllows transmitting control commands.",size:13,color:(0,o.combineRgb)(250,250,250)},steps:[{down:[...r,{actionId:"overrideWindow",options:{onOff:"0"}}],up:[]}]},t["edit-prewait-1s-"]={type:"button",category:"Edit",name:"PreWait Dec 1 sec",style:{text:"PreWait\\nDecrease\\n1 sec",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"prewait_dec",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-prewait-10s-"]={type:"button",category:"Edit",name:"PreWait Dec 10 sec",style:{text:"PreWait\\nDecrease\\n10 sec",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"prewait_dec",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-prewait-10s+"]={type:"button",category:"Edit",name:"PreWait inc 10 sec",style:{text:"PreWait\\nIncrease\\n10 sec",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"prewait_inc",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-prewait-1s+"]={type:"button",category:"Edit",name:"PreWait inc 1sec",style:{text:"PreWait\\nIncrease\\n1 sec",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"prewait_inc",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-postwait-1s-"]={type:"button",category:"Edit",name:"PostWait Dec 1 sec ",style:{text:"PostWait\\nDecrease\\n1 sec",size:"14",color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"postwait_dec",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-postwait-10s-"]={type:"button",category:"Edit",name:"PostWait Dec 10 Sec",style:{text:"PostWait\\nDecrease\\n10 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"postwait_dec",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-postwait-10s+"]={type:"button",category:"Edit",name:"PostWait Inc 10 Sec",style:{text:"PostWait\\nIncrease\\n10sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"postwait_inc",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-postwait-1s+"]={type:"button",category:"Edit",name:"PostWait Inc 1 Sec",style:{text:"PostWait\\nIncrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"postwait_inc",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-duration-1s-"]={type:"button",category:"Edit",name:"Duration Dec 1 sec",style:{text:"Duration\\nDecrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"duration_dec",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-duration-10s-"]={type:"button",category:"Edit",name:"Duration Dec 10sec",style:{text:"Duration\\nDecrease\\n10sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"duration_dec",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-duration-10s+"]={type:"button",category:"Edit",name:"Duration inc 10sec",style:{text:"Duration\\nIncrease\\n10 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"duration_inc",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-duration-1s+"]={type:"button",category:"Edit",name:"Duration Inc 1sec",style:{text:"Duration\\nIncrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"duration_inc",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-starttime-1s+"]={type:"button",category:"Edit",name:"Start Time Inc 1sec",style:{text:"Start Time\\nIncrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"startTime_inc",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-starttime-10s+"]={type:"button",category:"Edit",name:"Start Time Inc 10sec",style:{text:"Start Time\\nIncrease\\n10 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"startTime_inc",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-starttime-1s-"]={type:"button",category:"Edit",name:"Start Time Dec 1sec",style:{text:"Start Time\\nDecrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"startTime_dec",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-starttime-10s-"]={type:"button",category:"Edit",name:"Start Time Dec 10sec",style:{text:"Start Time\\nDecrease\\n10 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"startTime_dec",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-endtime-1s+"]={type:"button",category:"Edit",name:"End Time Inc 1sec",style:{text:"End Time\\nIncrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"endTime_inc",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-endtime-10s+"]={type:"button",category:"Edit",name:"End Time Inc 10sec",style:{text:"End Time\\nIncrease\\n10 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"endTime_inc",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-endtime-1s-"]={type:"button",category:"Edit",name:"End Time Dec 1sec",style:{text:"End Time\\nDecrease\\n1 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"endTime_dec",options:{time:"1"}}],up:[]}],feedbacks:[]},t["edit-endtime-10s-"]={type:"button",category:"Edit",name:"End Time Dec 10sec",style:{text:"End Time\\nDecrease\\n10 sec",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"endTime_dec",options:{time:"10"}}],up:[]}],feedbacks:[]},t["edit-continue-mode-dnc"]={type:"button",category:"Edit",name:"Continue Mode DNC",style:{text:"Do Not Continue",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"continue",options:{contId:"0"}}],up:[]}],feedbacks:[]},t["edit-continue-mode-auto-continue"]={type:"button",category:"Edit",name:"Continue mode Auto continue",style:{text:"Auto Continue",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"continue",options:{contId:"1"}}],up:[]}],feedbacks:[]},t["edit-continue-mode-auto-follow"]={type:"button",category:"Edit",name:"Continue mode Auto Follow",style:{text:"Auto Follow",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"continue",options:{contId:"2"}}],up:[]}],feedbacks:[]},t["edit-disarm"]={type:"button",category:"Edit",name:"Disarm",style:{text:"Disarm",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"arm",options:{armId:"0"}}],up:[]}],feedbacks:[]},t["edit-arm"]={type:"button",category:"Edit",name:"Arm",style:{text:"Arm",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"arm",options:{armId:"1"}}],up:[]}],feedbacks:[]},t["edit-autoload-enable"]={type:"button",category:"Edit",name:"Autoload Enable",style:{text:"Autoload Enable",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"autoload",options:{autoId:"1"}}],up:[]}],feedbacks:[]},t["edit-autoload-disable"]={type:"button",category:"Edit",name:"Autoload Disable",style:{text:"Autoload Disable",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"autoload",options:{autoId:"0"}}],up:[]}],feedbacks:[]},t["edit-flagged"]={type:"button",category:"Edit",name:"Flagged",style:{text:"Flagged",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"flagged",options:{flaggId:"1"}}],up:[]}],feedbacks:[]},t["edit-unflagged"]={type:"button",category:"Edit",name:"Unflagged",style:{text:"Unflagged",size:"14",color:"16777215",bgcolor:(0,o.combineRgb)(0,0,100)},steps:[{down:[{actionId:"flagged",options:{flaggId:"0"}}],up:[]}],feedbacks:[]};for(let e of s)t[`edit-cue-color-${e.id}`]={type:"button",category:"Edit",name:"Cue Color",style:{text:"Cue Color "+e.label,color:S(i[e.id]),bgcolor:i[e.id]},steps:[{down:[{actionId:"cueColor",options:{colorId:e.id}}],up:[]}],feedbacks:[]};return t}(this))}init_feedbacks(){this.useTCP?this.setFeedbackDefinitions(function(e){function t(t){let n;switch(t.scope){case"D":n=e.nextCue;break;case"R":n=e.runningCue.uniqueID;break;case"N":n=e.cueByNum[t.q_num?.replace(/[^\w\.]/gi,"_")];break;case"I":n=t.q_id}return n}return{playhead_bg:{type:"advanced",name:"Playhead Color for Background",description:"Use the QLab color for the Playhead (next) cue as background",options:[],callback:(t,n)=>({bgcolor:e.wsCues[e.nextCue]?e.wsCues[e.nextCue].qColor:0})},run_bg:{type:"advanced",name:"Running Que color for Background",description:"Use the QLab color of the running cue as background",options:[],callback:(t,n)=>({bgcolor:e.runningCue.qColor})},q_bg:{type:"advanced",name:"Cue Number color for background",description:"Use the QLab color of the specified cue number as background",options:[{type:"textinput",label:"Cue Number",id:"cue",default:""}],callback:(t,n)=>({bgcolor:e.cueColors[t.options.cue.replace(/[^\w\.]/gi,"_")]||0})},qid_bg:{type:"advanced",name:"Cue ID color for background",description:"Use the QLab color of the specified cue ID as background",options:[{type:"textinput",label:"Cue ID",id:"cueId",default:e.nextCue}],callback:(t,n)=>{const r=e.wsCues[t.options.cueId];return{bgcolor:r&&r.qColor||0}}},q_armed:{type:"boolean",name:"Cue is Armed",description:"Indicate on button when the specified cue is Armed",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:l},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],defaultStyle:{bgcolor:(0,o.combineRgb)(0,102,0),color:(0,o.combineRgb)(255,255,255)},callback:async(n,r)=>{let o=t(n.options);return e.wsCues[o]?.isArmed}},q_flagged:{type:"boolean",name:"Cue is Flagged",description:"Indicate on button when the specified cue is Flagged",options:[{type:"dropdown",label:"Scope",id:"scope",default:"D",choices:l},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],defaultStyle:{bgcolor:(0,o.combineRgb)(0,102,0),color:(0,o.combineRgb)(255,255,255)},callback:async(n,r)=>{let o=t(n.options);return e.wsCues[o]?.isflagged}},q_paused:{type:"boolean",name:"Cue is Paused",description:"Indicate on button when the specified cue is Paused",options:[{type:"dropdown",label:"Scope",id:"scope",default:"R",choices:l},{type:"textinput",label:"Cue Number",id:"q_num",default:e.nextCue.q_num,useVariables:!0,isVisible:(e,t)=>"N"===e.scope},{type:"textinput",label:"Cue ID",id:"q_id",default:e.nextCue.q_id,useVariables:!0,isVisible:(e,t)=>"I"===e.scope}],defaultStyle:{bgcolor:(0,o.combineRgb)(102,0,102),color:(0,o.combineRgb)(255,255,255)},callback:async(n,r)=>{let o=t(n.options);return e.wsCues[o]?.isPaused}},q_run:{type:"boolean",name:"Indicate Cue is running",description:"Indicate on button when the specified cue is running",options:[{type:"textinput",label:"Cue Number",id:"cue",default:""}],defaultStyle:{bgcolor:(0,o.combineRgb)(102,0,0),color:(0,o.combineRgb)(255,255,255)},callback:(t,n)=>{const r=t.options,o=e.cueByNum[r.cue.replace(/[^\w\.]/gi,"_")],i=e.wsCues[o];return i&&i.isRunning}},qid_run:{type:"boolean",name:"Indicate Cue ID is running",description:"Indicate on button when cue ID is running",options:[{type:"textinput",label:"Cue ID",id:"cueID",default:e.nextCue}],defaultStyle:{bgcolor:(0,o.combineRgb)(204,0,204),color:(0,o.combineRgb)(255,255,255)},callback:(t,n)=>{const r=t.options,o=e.wsCues[r.cueID];return o&&o.isRunning}},any_run:{type:"boolean",name:"Indicate if any Cue is running",description:"Indicate on button when any cue is running",options:[],defaultStyle:{bgcolor:(0,o.combineRgb)(0,102,0),color:(0,o.combineRgb)(255,255,255)},callback:(t,n)=>{const r=e.runningCue;return r&&r.isRunning}},min_go:{type:"boolean",name:"Indicate Go button Status",description:"Indicate on Button when the Minimum Go Time is active",options:[{type:"dropdown",label:"Status?",id:"goMode",default:"1",choices:[{id:"0",label:"Disabled"},{id:"1",label:"Enabled"}]}],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,102,0)},callback:(t,n)=>{const r=t.options;return!(!e.goDisabled||"0"!=r.goMode)||"1"==r.goMode}},ws_mode:{type:"boolean",name:"Indicate Workspace Mode",description:"Indicate on Button QLab Show/Edit/Audition Mode",options:[{type:"dropdown",label:"Which Mode?",id:"showMode",default:"1",choices:[{id:"0",label:"Edit"},{id:"1",label:"Show"},{id:"2",label:"Audition"}]}],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,128,0)},callback:(t,n)=>{const r=t.options;return!(!e.auditMode||"2"!=r.showMode)||!(!e.showMode||"1"!=r.showMode)||!e.showMode&&"0"==r.showMode}},liveFadePreview:{type:"boolean",name:"Live Fade Preview",description:"Set Button when Live Fade Preview is active ",options:[],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(0,0,102)},callback:(t,n)=>!!e.liveFadePreview},ws_audit:{type:"boolean",name:"Audit Monitors",description:"Set Button when ALL Audit monitors are open",options:[],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(102,0,0)},callback:(t,n)=>!!e.auditMonitors},override:{type:"boolean",name:"Master Override",description:"Set Button when Override is Active",options:[{type:"dropdown",label:"Override",id:"which",default:p[0].id,choices:p}],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(102,0,0)},callback:(t,n)=>{const r=t.options;return!e.overrides[r.which]}},override_visible:{type:"boolean",name:"Override Window Visible",description:"Set Button when Override Window is visible",options:[],defaultStyle:{color:(0,o.combineRgb)(255,255,255),bgcolor:(0,o.combineRgb)(102,0,0)},callback:(t,n)=>!!e.overrideWindow}}}(this)):this.setFeedbackDefinitions({})}init_variables(){this.useTCP?(this.variableDefs=[{name:"Version of QLab attached to this instance",variableId:"q_ver"},{name:"Default (first) workspace ID",variableId:"ws_id"},{name:"Double Go Minimum Time",variableId:"min_go"},{name:"Playhead Cue UniqueID",variableId:"n_id"},{name:"Playhead Cue Name",variableId:"n_name"},{name:"Playhead Cue Number",variableId:"n_num"},{name:"Playhead Cue Type",variableId:"n_type"},{name:"Playhead Notes",variableId:"n_notes"},{name:"Playhead Cue Status",variableId:"n_stat"},{name:"Playhead Continue Mode",variableId:"n_cont"},{name:"Running Cue UniqueID",variableId:"r_id"},{name:"Running Cue Name",variableId:"r_name"},{name:"Running Cue Number",variableId:"r_num"},{name:"Running Cue Notes",variableId:"r_notes"},{name:"Running Cue Status",variableId:"r_stat"},{name:"Running Cue Time left, variable size",variableId:"r_left"},{name:"Running Cue Time left, HH:MM:SS",variableId:"r_hhmmss"},{name:"Running Cue Time left, Hour",variableId:"r_hh"},{name:"Running Cue Time left, Minute",variableId:"r_mm"},{name:"Running Cue Time left, Second",variableId:"r_ss"},{name:"Running Cue Elapsed Time, variable size",variableId:"e_time"},{name:"Running Cue Elapsed Time, HH:MM:SS",variableId:"e_hhmmss"},{name:"Running Cue Elapsed Time, Hour",variableId:"e_hh"},{name:"Running Cue Elapsed Time, Minute",variableId:"e_mm"},{name:"Running Cue Elapsed Time, Second",variableId:"e_ss"},{name:"Number of miscellaneous QLab Errors",variableId:"errs"}],this.setVariableDefinitions(this.variableDefs),this.updateRunning(),this.updateNextCue()):this.setVariableDefinitions([])}sendOSC(e,t,n){const r=n?"":this.ws;if(this.useTCP)this.ready&&this.qSocket.send({address:r+e,args:t});else{const n="";void 0!==this.config.host&&""!==this.config.host&&(n=this.config.host),void 0!==this.config.passcode&&""!==this.config.passcode&&this.oscSend(n,53e3,r+"/connect",{type:"s",value:this.config.passcode}),this.oscSend(n,53e3,r+e,t)}}connect(){this.hasError||this.updateStatus(o.InstanceStatus.Connecting),this.disabled||this.init_osc()}prime_vars(e){if(this.needPasscode&&!this.config.passcode)this.updateStatus(o.InstanceStatus.ConnectionFailure,"Need a Passcode"),this.log("debug","waiting for passcode"),this.sendOSC("/connect",[]),void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0),void 0!==this.pulse&&(clearInterval(this.pulse),this.pulse=void 0),this.timer=setTimeout((()=>{this.prime_vars(e)}),5e3);else if(this.needWorkspace&&this.ready)this.sendOSC("/version",[],!0),this.sendOSC("/workspaces",[],!0),this.config.passcode?(this.config.passcode!=this.wrongPasscode||Date.now()-this.wrongPasscodeAt>15e3)&&(this.log("debug","sending passcode to "+this.config.host),this.sendOSC("/connect",[{type:"s",value:this.config.passcode}])):this.sendOSC("/connect",[]),void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout((()=>{this.prime_vars(e)}),5e3);else if(""==this.wrongPasscode){this.ws=e,this.sendOSC("/cue/playhead/uniqueID",[]),this.sendOSC("/updates",[]),this.sendOSC("/updates",[{type:"i",value:1}]),this.sendOSC("/cueLists",[]),this.qVer<5?this.sendOSC("/auditionWindow",[],!0):(this.sendOSC("/alwaysAudition",[],!0),this.sendOSC("/auditionMonitors",[],!0)),this.sendOSC("/overrideWindow",[],!0),this.sendOSC("/showMode",[]),this.sendOSC("/liveFadePreview",[],!0),this.sendOSC("/settings/general/minGoTime");for(const e in p)this.sendOSC("/overrides/"+p[e].id,[],!0);void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0)}}rePulse(){const e=Date.now(),t=this.qVer<5?"Id":"ID";if(0==this.pollCount%(this.config.useTenths?10:4)&&(this.sendOSC("/overrideWindow",[],!0),this.sendOSC((this.cl?"/cue_id/"+this.cl:"")+`/playhead${t}`,[]),5==this.qVer&&(this.sendOSC("/alwaysAudition",[],!0),this.sendOSC("/auditionMonitors",[],!0),this.sendOSC("/selectedCues",[],!0)),4==this.qVer&&this.sendOSC("/auditionWindow",[],!0),3==this.qVer&&this.sendOSC("/showMode",[])),this.pollCount++,Object.keys(this.requestedCues).length>0){let t={};const n=[],r=e-500;for(let e in this.requestedCues)if(this.requestedCues[e]<r){const r=this.wsCues[e];if(r){const e=r.qNumber.replace(/[^\w\.]/gi,"_"),o=r.qName;e&&o&&(delete this.cueColors[e],t["q_"+e+"_name"]=void 0),t["id_"+r.uniqueID+"_name"]=void 0,n.push(...this.fb2check)}delete this.requestedCues[e]}this.setVariableValues(t),n.size>0&&this.checkFeedbacks(...n)}this.goDisabled&&this.goAfter<e&&(this.goDisabled=!1,this.checkFeedbacks("min_go"));let n=this.runningCue;n&&n.elapsed>0&&(3==this.qVer?this.sendOSC("/runningOrPausedCues",[]):this.sendOSC("/cue/active/valuesForKeys",this.qCueRequest))}init_osc(){const e=this.ws;this.connecting||(this.qSocket&&(this.ready=!1,this.qSocket.close(),delete this.qSocket),this.config.host&&(this.useTCP?(this.qSocket=new r.TCPSocketPort({localAddress:"0.0.0.0",localPort:0,address:this.config.host,port:this.config.port,metadata:!0}),this.connecting=!0):(this.qSocket=new r.UDPPort({localAddress:"0.0.0.0",localPort:53001,remoteAddress:this.config.host,remotePort:53e3,metadata:!0}),this.updateStatus(o.InstanceStatus.Ok,"UDP Mode")),this.qSocket.open(),this.qSocket.on("error",(e=>{this.log("debug","Error: "+e),this.connecting=!1,this.hasError||(this.log("error","Error: "+e.message),this.updateStatus(o.InstanceStatus.UnknownError,"Can't connect to QLab "+e.message),this.hasError=!0),"ECONNREFUSED"==e.code&&(this.qSocket&&this.qSocket.removeAllListeners(),void 0!==this.timer&&clearTimeout(this.timer),void 0!==this.pulse&&(clearInterval(this.pulse),this.pulse=void 0),this.timer=setTimeout((()=>{this.connect()}),5e3))})),this.qSocket.on("close",(()=>{!this.hasError&&this.ready&&this.log("error","TCP Connection to QLab Closed"),this.connecting=!1,this.ready&&(this.needWorkspace=!0,this.needPasscode=!1,this.resetVars(!0),null!=this.qSocket&&this.qSocket.removeAllListeners(),this.log("debug","Connection closed"),this.ready=!1,this.disabled?this.updateStatus(o.InstanceStatus.Disconnected,"Disabled"):this.updateStatus(o.InstanceStatus.Disconnected,"CLOSED")),void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0),void 0!==this.pulse&&(clearInterval(this.pulse),this.pulse=void 0),this.disabled||(this.timer=setTimeout((()=>{this.connect()}),5e3)),this.hasError=!0})),this.qSocket.on("ready",(()=>{this.ready=!0,this.connecting=!1,this.hasError=!1,this.log("info","Connected to QLab:"+this.config.host),this.useTCP?(this.updateStatus(o.InstanceStatus.UnknownWarning,"No Workspaces"),this.needWorkspace=!0,this.prime_vars(e)):(this.needWorkspace=!1,this.qSocket.send({address:"/version",args:[]}))})),this.qSocket.on("message",((e,t,n)=>{const r=e.address.split("/");"update"==r[1]?this.readUpdate(e):"reply"==r[1]?this.readReply(e):this.log("debug",e.address+" "+JSON.stringify(e.args))}))))}updateCues(e,t,n){const r=["audio","mic","video","camera","text","light","fade","network","midi","midi file","timecode","group","start","stop","pause","load","reset","devamp","goto","target","cart","cue list","arm","disarm","wait","memo","script"];let i={};if(Array.isArray(e)){const s={},a=!1;e.forEach(((e,o)=>{i=new E(e,this),i.qOrder=o,n&&(i.qList=n,this.cueList[n]||(this.cueList[n]=[])),"u"==t?this.cueList[n].includes(i.uniqueID)||this.cueList[n].push(i.uniqueID):(i.uniqueID in s?(s[i.uniqueID]+=1,a=!0):s[i.uniqueID]=1,r.includes(i.qType)&&(this.updateQVars(i),this.wsCues[i.uniqueID]=i),"l"==t&&(this.cueOrder[o]=i.uniqueID,n&&this.cueList[n].push(i.uniqueID))),e.cues&&e.cues.length&&this.updateCues(e.cues),delete this.requestedCues[i.uniqueID]})),this.checkFeedbacks(...this.fb2check),a&&this.updateStatus(o.InstanceStatus.UnknownWarning,"Multiple cues\nwith the same cue_id")}else i=new E(e,this),r.includes(i.qType)&&(this.updateQVars(i),this.wsCues[i.uniqueID]=i,3==this.qVer?"group"==i.qType&&(this.cueList[i.uniqueID]||(this.cueList[i.uniqueID]=[])):["cue list","cart"].includes(i.qType)&&(this.cueList[i.uniqueID]?this.sendOSC("/cue_id/"+i.uniqueID+"/children",[]):this.cueList[i.uniqueID]=[]),this.checkFeedbacks(...this.fb2check),this.updatePlaying(),(""==this.cl||this.cueList[this.cl]&&this.cueList[this.cl].includes(i.uniqueID))&&i.uniqueID==this.nextCue&&this.updateNextCue()),delete this.requestedCues[i.uniqueID]}updatePlaying(){function e(e){return R(JSON.stringify(e))}let t=!1,n=!1;const r=this.cl,o=this.wsCues,i=(Object.keys(o).length,e(this.runningCue));let s=[];if(Object.keys(o).forEach((e=>{const i=o[e];(i.isRunning||i.isPaused)&&(""==r&&"cue list"!=i.qType||this.cueList[r]&&this.cueList[r].includes(e))&&(s.push([e,i.startedAt]),t=t||"group"==i.qType&&i.duration>0,n=n||i.duration>0)})),s.sort(((e,t)=>t[1]-e[1])),0==s.length)this.runningCue=new E,this.checkFeedbacks("any_run");else{let e=0;if(t)for(;e<s.length&&"group"!=o[s[e][0]].qType;)e+=1;else if(n)for(;e<s.length&&0==o[s[e][0]].duration;)e+=1;e<s.length&&(this.runningCue=o[s[e][0]],0==this.runningCue.pctElapsed&&(this.runningCue.pctElapsed=1))}e(this.runningCue)!=i&&this.updateRunning(!0)}updateSelectedCues(e){let t=R(JSON.stringify(e));if(this.lastSel==t)return;let n=[];const r=e=>{n.push(e.uniqueID),e.cues.forEach(r)};e.forEach(r);for(const e of n)this.wsCues[e]||(this.wsCues[e]=new E),this.sendOSC(`/cue_id/${e}/valuesForKeys`,this.qCueRequest),this.requestedCues[e]=Date.now(),this.wsCues[e].isSelected=!0;for(const e of this.selectedCues)n.includes(e)||this.wsCues[e]&&(this.wsCues[e].isSelected=!1);this.selectedCues=n,this.lastSel=t}readUpdate(e){const t=this.ws,n=e.address,r=n.split("/").slice(1);switch(r.slice(-1)[0]){case"playbackPosition":const i=r[4];if(e.args.length>0){const t=e.args[0].value;this.cl&&(this.cueList[i].includes(t)||this.cueList[i].push(t)),""!=this.cl&&i!=this.cl||t===this.nextCue||(this.nextCue=t,this.log("debug","playhead: "+t),this.sendOSC("/cue_id/"+t+"/valuesForKeys",this.qCueRequest),this.requestedCues[t]=Date.now());break}case"[root group of cue lists]":this.sendOSC("/doubleGoWindowRemaining");break;case"disconnect":this.updateStatus(o.InstanceStatus.UnknownWarning,"No Workspaces"),this.needWorkspace=!0,this.needPasscode=!1,this.lastRunID="x",null!=this.pulse&&(clearInterval(this.pulse),this.pulse=void 0),this.resetVars(!0),this.prime_vars(t);break;case"general":this.sendOSC("/settings/general/minGoTime");break;case"overrides":for(const e in p)this.sendOSC("/overrides/"+p[e].id,[],!0);break;case"dashboard":break;default:if(3==r.length&&"workspace"==r[1])this.sendOSC("/showMode",[]),this.sendOSC("/auditionWindow",[],!0),this.sendOSC("/overrideWindow",[],!0);else if("cue_id"==r[3]){const e="/"+r.slice(1).join("/")+"/valuesForKeys",t=r[4];this.sendOSC(e,this.qCueRequest,!0),this.requestedCues[t]=Date.now()}else this.log("debug",`====> unknown OSC message: ${n} `+JSON.stringify(e.args))}}readReply(e){let t=this.ws;const n=e.address,r=n.split("/").slice(1);let i,s={};const a=this.cl,c=this.qCueRequest;try{s=JSON.parse(e.args[0].value)}catch(e){}if("error"!=s.status){if("denied"==s.status)return this.needPasscode=!0,this.wrongPasscode=this.config.passcode,this.wrongPasscodeAt=Date.now(),void this.updateStatus(o.InstanceStatus.BadConfig,"Passcode denied");switch(r.slice(-1)[0]){case"workspaces":if(this.wsList={},0==s.data.length)this.needPasscode=!1,this.wrongPasscode="",this.needWorkspace=!0,this.updateStatus(o.InstanceStatus.UnknownWarning,"No Workspaces");else{for(const e of s.data)t=new T(e),this.wsList[t.uniqueID]=t;this.setVariableValues({ws_id:Object.keys(this.wsList)[0]})}break;case"connect":["badpass","denied"].includes(s.data)?this.needPasscode||(this.needPasscode=!0,this.updateStatus(o.InstanceStatus.ConnectionFailure,"Wrong Passcode"),this.wrongPasscode=this.config.passcode,this.wrongPasscodeAt=Date.now(),this.prime_vars(t)):"error"==s.data?(this.needPasscode=!1,this.needWorkspace=!0,this.updateStatus(o.InstanceStatus.UnknownWarning,"No Workspaces")):"ok"==s.data.slice(0,2)&&(this.needPasscode=!1,this.needWorkspace=!1,this.wrongPasscode="",this.updateStatus(o.InstanceStatus.Ok,"Connected to "+this.host));break;case"updates":"denied"!=s.status&&(this.needWorkspace=!1,this.updateStatus(o.InstanceStatus.Ok,"Connected to QLab"),void 0!==this.pulse&&(this.log("debug","cleared stray interval (u)"),clearInterval(this.pulse)),this.pulse=setInterval((()=>{this.rePulse()}),this.config.useTenths?100:250));break;case"version":null!=s.data&&(this.qVer=parseInt(s.data),this.setVariableValues({q_ver:s.data})),3==this.qVer?(void 0!==this.pulse&&(this.log("debug","cleared stray interval (v)"),clearInterval(this.pulse)),this.pulse=setInterval((()=>{this.rePulse()}),this.config.useTenths?100:250)):(this.init_presets(),this.needWorkspace=this.qVer>3&&this.useTCP);break;case"uniqueID":s.data&&(this.nextCue=s.data,this.updateNextCue(),this.sendOSC("/cue/playhead/valuesForKeys",c));break;case"selectedCues":s.data&&this.updateSelectedCues(s.data);break;case"playheadId":case"playheadID":if(s.data){const e=s.data,t=s.data;delete this.requestedCues[t],""!=a&&t!=a||this.nextCue==e||("none"==e?this.nextCue="":(this.nextCue=e,this.sendOSC("/cue_id/"+s.data+"/children")),this.updateNextCue())}break;case"cueLists":if(s.data){for(const e in s.data){const t=s.data[e];this.updateCues(t,"l"),this.updateCues(t.cues,"l",t.uniqueID)}this.sendOSC("/cue/active/valuesForKeys",c)}break;case"children":if(s.data){let e=n.substr(14,36);this.updateCues(s.data,"u",e)}break;case"runningOrPausedCues":if(null!=s.data)for(const e in s.data){const t=s.data[e];this.sendOSC("/cue_id/"+t.uniqueID+"/valuesForKeys",c)}break;case"valuesForKeys":this.updateCues(s.data,"v"),delete this.requestedCues[s.data.uniqueID];break;case"showMode":this.showMode!=s.data&&(this.showMode=s.data,this.checkFeedbacks("ws_mode"));break;case"liveFadePreview":this.liveFadePreview!=s.data&&(this.liveFadePreview=s.data,this.checkFeedbacks("liveFadePreview"));case"auditionWindow":case"alwaysAudition":this.auditMode!=s.data&&(this.auditMode=s.data,this.checkFeedbacks("ws_mode"));break;case"auditionMonitors":this.auditMonitors!=s.data&&(this.auditMonitors=s.data,this.checkFeedbacks("ws_audit"));break;case"overrideWindow":this.overrideWindow!=s.data&&(this.overrideWindow=s.data,this.checkFeedbacks("override_visible"));break;case"minGoTime":this.minGo=s.data,this.setVariableValues({min_go:(Math.round(100*s.data)/100).toFixed(2)});break;case"doubleGoWindowRemaining":const u=Math.round(1e3*s.data);this.goDisabled=u>0,this.goAfter=Date.now()+u,this.checkFeedbacks("min_go");break;case"armed":i=s.address.split("/")[4],"cue"==s.address.split("/")[3]&&(i=this.cueByNum[i]),this.wsCues[i].isArmed=s.data,this.checkFeedbacks("q_armed");break;case"flagged":i=s.address.split("/")[4],"cue"==s.address.split("/")[3]&&(i=this.cueByNum[i]),this.wsCues[i].isFlagged=s.data,this.checkFeedbacks("q_flagged");break;default:"overrides"==r[1]?(this.overrides[r[2]]=s.data,this.checkFeedbacks("override")):this.log("debug",`====> unknown OSC message: ${n} `+JSON.stringify(e.args))}}else["valuesForKeys","uniqueID"].includes(r.slice(-1)[0])||this.logError(s.address)}getConfigFields(){return function(e){const t=[{type:"static-text",id:"info",width:12,label:"Information",value:'Controls <a href="https://qlab.app" target="_new">QLab</a> by Figure 53.<br>Feedback and variables require TCP<br>which will increase network traffic.'},{type:"textinput",id:"host",label:"Target Host/IP",width:6,tooltip:"The Hostname or IP of the computer running QLab",regex:"/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$/"},{type:"textinput",id:"port",label:"Target Port",width:6,tooltip:"Port number configured on QLab\nto access the workspace",default:53e3,regex:o.Regex.PORT},{type:"checkbox",label:"Use TCP?",id:"useTCP",width:6,tooltip:"Use TCP instead of UDP\nRequired for feedbacks and variables",default:!0},{type:"checkbox",label:"Use Tenths?",id:"useTenths",width:6,isVisible:(e,t)=>!!e.useTCP,tooltip:"Show .1 second resolution for cue remaining timer?\nOtherwise offset countdown by +1 second\nRequires TCP",default:!1},{type:"checkbox",label:"Expose cue name variables?",id:"exposeVariables",width:6,isVisible:(e,t)=>!!e.useTCP,tooltip:"Variables for the name of each cue number and cue ID are normally hidden\nin the Variable List. Enabling this will allow them to be searched in the\nlist but may also cause excessive clutter",default:!1},{type:"textinput",id:"passcode",label:"OSC Passcode",width:6,tooltip:"The passcode to controll QLab.\nLeave blank if not needed\nThis is almost always required for QLab5"}],n={type:"dropdown",id:"workspace",label:"Workspace",width:12,tooltip:"Select a workspace\nSelect 'default' for the default Workspace",default:"default",choices:[{id:"default",label:"Default Workspace"}]};if(Object.keys(e.wsList).length>0)for(let t in e.wsList)n.choices.push({id:t,label:e.wsList[t].displayName});t.push(n);const r={type:"dropdown",id:"cuelist",label:"Specific Cue List",tooltip:"Select a specific Cue List for Play Head control",width:12,default:"default",choices:[{id:"default",label:"Default Cue List"}]};if(Object.keys(e.cueList).length>0)for(let t in e.cueList)r.choices.push({id:t,label:e.wsCues[t].qName});return t.push(r),t}(this)}async destroy(){this.disabled=!0,this.resetVars(!0),void 0!==this.timer&&(clearTimeout(this.timer),delete this.timer),void 0!==this.pulse&&(clearInterval(this.pulse),delete this.pulse),this.qSocket&&(this.ready=!1,this.qSocket.close(),delete this.qSocket)}}(0,o.runEntrypoint)(A,y)},17324:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3","node:test/mock_loader":">= 22.3","node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')},36667:e=>{"use strict";e.exports=JSON.parse('{"SN":{"O":"https://github.com/elastic/require-in-the-middle/issues"}}')},62035:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=r,i.c=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(o,s),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".js",i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n={792:1},i.f.require=(e,t)=>{n[e]||(e=>{var t=e.modules,r=e.ids,o=e.runtime;for(var s in t)i.o(t,s)&&(i.m[s]=t[s]);o&&o(i);for(var a=0;a<r.length;a++)n[r[a]]=1})(require("./"+i.u(e)))},i(i.s=90502)})();