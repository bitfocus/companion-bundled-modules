(()=>{var e={3062:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoStream=void 0;const n=o(3911),r=o(4134),i=o(6450),a=o(6519),s=o(7956);t.GoStream=class{instance;connection;constructor(e){this.instance=e,this.instance.states=(0,a.Create)(),this.connection=null}getVariables(){return(0,n.variables)(this.instance)}getFeedbacks(){return(0,r.feedbacks)(this.instance)}getPresets(){return(0,i.presets)()}connect(){(0,s.connect)(this.instance)}disconnectSocket(){(0,s.disconnectSocket)()}}},701:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetActionsList=function(e){return{...r.MixEffectActions.create(e),...n.SuperSourceActions.create(e),...i.StreamingActions.create(e),...a.LiveActions.create(e),...s.RecordActions.create(e),...c.StillGeneratorActions.create(e),...l.PlaybackActions.create(e),...d.AudioMixerActions.create(e),...u.ColorBackActions.create(e),...p.DownstreamKeyerActions.create(e),...b.SettingsActions.create(e),...y.MacroActions.create(e),...m.UpstreamKeyerActions.create(e)}};const n=o(141),r=o(1956),i=o(8427),a=o(7047),s=o(4160),c=o(9102),l=o(208),d=o(4718),u=o(4483),p=o(7467),b=o(7268),y=o(8627),m=o(9528)},878:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChoices=function(e){switch(e){default:case n.ActionType.Program:case n.ActionType.Preview:{const e=r.SourceModels,t=r.OtherSourceModels;return i(e.concat(t))}case n.ActionType.TransitionDipSource:case n.ActionType.TransitionWipeFillSource:{const e=r.SourceModels,t=r.OtherDipSourceModels;return i(e.concat(t))}case n.ActionType.DskSourceFill:case n.ActionType.SuperSourceSource:case n.ActionType.LumaKeySourceKey:case n.ActionType.ChromaKeySourceKey:case n.ActionType.KeyPatternSourceKey:case n.ActionType.PipSource:{const e=r.SourceModels,t=r.OtherDSKSourceModels;return i(e.concat(t))}case n.ActionType.AudioEnableSource:return r.AudioMicChoices.concat(r.AudioInputSourcesChoices);case n.ActionType.AudioFader:case n.ActionType.AudioMonitorSource:{const e=r.AudioMicChoices,t=r.AudioInputSourcesChoices,o=r.OtherAudioSourcesChoices;return e.concat(t).concat(o)}case n.ActionType.AudioEnable:{const e=r.AudioSourcesEnableChoices,t=r.OtherAudioSourcesEnableChoices;return e.concat(t)}case n.ActionType.SettingsoutSource:return i(r.SourceModels).concat(r.SettingsOutSourceChoices)}},t.getChoicesByAudioSourceType=function(e){const t=r.AudioSourcesEnableChoices;switch(e){case 0:case 1:return t;case 2:case 3:case 4:case 5:case 6:{const e=r.OtherAudioSourcesEnableChoices;return t.concat(e)}default:return r.AudioSourcesEnableChoices}},t.getChoicesByMacro=function(){const e=[];for(let t=0;t<100;t++)e.push({id:t,label:"Macro"+(t+1).toString()});return e},t.getChoicesByStill=function(){const e=[];for(let t=0;t<=31;t++)e.push({id:t,label:"Pic"+t.toString()});return e},t.SourcesToChoices=i;const n=o(4796),r=o(7643);function i(e){return e.map((e=>({id:e.inputId,label:e.longName})))}},7206:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetConfigFields=function(){return[{label:"Information",id:"info",type:"static-text",value:"This module controls a GoStream device over IP protocol",width:12},{id:"bonjourDevices",type:"bonjour-device",label:"Device",width:6},{type:"dropdown",id:"modelId",label:"Model",width:6,choices:r.ALL_MODEL_CHOICES,default:0,isVisible:e=>!e.bonjourDevices},{label:"Target IP",id:"host",type:"textinput",default:"192.168.1.80",width:6,required:!0,regex:n.Regex.IP,tooltip:"GoSteamDeck address",isVisible:e=>!e.bonjourDevices}]};const n=o(6278),r=o(2317)},7956:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProType=t.HEAD2=t.HEAD1=void 0,t.connect=function(e){null!==g&&g.destroy(),e.updateStatus(r.InstanceStatus.Connecting);const t=e.config.bonjourDevices?e.config.bonjourDevices.split(":")[0]:e.config.host;g=new r.TCPHelper(t,A),g.on("status_change",((t,o)=>{e.updateStatus(t,o),e.log("debug","Socket reconnected")})),g.on("connect",(()=>{e.updateStatus(r.InstanceStatus.Ok),e.log("debug","Socket connected"),C()})),g.on("error",(()=>{e.updateStatus(r.InstanceStatus.ConnectionFailure,"Connection error"),e.log("debug","Socket connect error")})),g.on("end",(()=>{e.updateStatus(r.InstanceStatus.Disconnected,"Disconnecting"),e.log("debug","Socket Disconnecting")})),g.on("data",(t=>{const o=P(t);!function(e,t){t.forEach((t=>{s.MixEffectActions.handleData(e,t),c.LiveActions.handleData(e,t),l.PlaybackActions.handleData(e,t),d.RecordActions.handleData(e,t),u.StillGeneratorActions.handleData(e,t),p.StreamingActions.handleData(e,t),b.SuperSourceActions.handleData(e,t),y.AudioMixerActions.handleData(e,t),m.DownstreamKeyerActions.handleData(e,t),f.SettingsActions.handleData(e,t),S.MacroActions.handleData(e,t),b.SuperSourceActions.handleData(e,t),h.UpstreamKeyerActions.handleData(e,t)})),e.checkFeedbacks(),(0,a.updateVariables)(e)}(e,o)}))},t.handleGoStreamPacket=P,t.ReqStateData=C,t.disconnectSocket=function(){null!==g&&g.destroy()},t.sendCommands=async function(e){if(null!==g){const t=[];return e.forEach((e=>{const o=JSON.stringify(e),n=Buffer.from(o,"utf-8");t.push(_(n).toString())})),await g.send(t.join(""))}return!1},t.sendCommand=async function(e,t,o){if(null!==g){const n={id:e,type:t,value:o},r=JSON.stringify(n),i=_(Buffer.from(r,"utf-8"));return await g.send(i)}return!1};const r=o(6278),i=n(o(2096)),a=o(3911),s=o(1956),c=o(7047),l=o(208),d=o(4160),u=o(9102),p=o(8427),b=o(141),y=o(4718),m=o(7467),f=o(7268),S=o(8627),h=o(9528);t.HEAD1=235,t.HEAD2=166,t.ProType=0;let g=null,I=null;const k=5,v=new Uint8Array([t.HEAD1,t.HEAD2]),A=19010;function P(e){const t=[];let o=e.indexOf(v);if(0!==o){if(null==I)return console.error("packet data out of order, dropping packet!"),[];{const n=o>0?o:e.length,r=Buffer.alloc(I.length+n,I);if(e.subarray(0,n).copy(r,I.length),o>0)t.push(w(r)),I=null;else if(o<0)return r.readUInt16LE(3)+5===r.length?(t.push(w(r)),I=null):I=Buffer.from(r),t}}for(;o>=0;){const n=e.readUInt16LE(o+3),r=e.subarray(o,o+k+n);if(t.push(w(r)),o=e.indexOf(v,o+k+n),o+k+n>e.length){I=Buffer.alloc(e.length-o,e.subarray(o));break}}return t}function w(e){const o=function(e){if(0==e.length)throw new Error("recv null");if(e[0]!=t.HEAD1||e[1]!=t.HEAD2)throw new Error("recv head error");if(e.readInt16LE(3)!=e.length-5)throw console.log("Recv Error:"+e.toString("hex").match(/.{1,2}/g)?.join(" ")),new Error("recv data length error");if(!function(e){const t=e.length-2;return e.readUInt16LE(t)===(0,i.default)(e.subarray(0,t))}(e))throw new Error("recv data crc error");return e.subarray(5,e.length-2)}(e).toString("utf8");return JSON.parse(o)}async function C(){await s.MixEffectState.sync(),await c.LiveState.sync(),await l.PlaybackState.sync(),await d.RecordState.sync(),await u.StillGeneratorState.sync(),await p.StreamingState.sync(),await y.AudioMixerState.sync(),await m.DownstreamKeyerState.sync(),await S.MacroState.sync(),await b.SuperSourceState.sync(),await h.UpstreamKeyerState.sync()}function _(e){const o=e.length+7,n=Buffer.alloc(o);return n[0]=t.HEAD1,n[1]=t.HEAD2,n[2]=t.ProType,n.writeUInt16LE(o-5,3),null!=e&&e.copy(n,5,0,e.length),n.writeUInt16LE((0,i.default)(n.subarray(0,o-2)),n.length-2),n}},4796:(e,t)=>{"use strict";var o,n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionStyle=t.SourceType=t.ActionType=t.ReqType=t.PortType=t.Model=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Deck=1]="Deck",e[e.Duet=2]="Duet"}(o||(t.Model=o={})),function(e){e[e.Unknown=0]="Unknown",e[e.SDI=1]="SDI",e[e.HDMI=2]="HDMI"}(n||(t.PortType=n={})),function(e){e.Get="get",e.Set="set",e.Push="pus"}(r||(t.ReqType=r={})),function(e){e.Unknown="Unknown",e.Heart="Heart",e.Program="Program",e.Preview="Preview",e.TransitionStyle="TransitionStyle",e.TransitionDipSource="5",e.TransitionWipeFillSource="6",e.DskSourceFill="7",e.SuperSourceSource="8",e.LumaKeySourceKey="9",e.ChromaKeySourceKey="10",e.KeyPatternSourceKey="11",e.PipSource="12",e.AudioFader="13",e.AudioMonitorSource="14",e.SettingsoutSource="15",e.AudioEnable="16",e.AudioEnableSource="17"}(i||(t.ActionType=i={})),t.SourceType={Input1:"Input1",Input2:"Input2",Input3:"Input3",Input4:"Input4",Aux:"Aux"},t.TransitionStyle={MIX:0,DIP:1,WIPE:2}},4134:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feedbacks=function(e){return{...b.UpstreamKeyerFeedbacks.create(e),...s.RecordFeedbacks.create(e),...a.LiveFeedbacks.create(e),...n.SuperSourceFeedbacks.create(e),...r.MixEffectFeedbacks.create(e),...i.StreamingFeedbacks.create(e),...c.StillGeneratorFeedbacks.create(e),...l.DownstreamKeyerFeedbacks.create(e),...d.MacroFeedbacks.create(e),...u.PlaybackFeedbacks.create(e),...p.SettingsFeedbacks.create(e)}};const n=o(141),r=o(1956),i=o(8427),a=o(7047),s=o(4160),c=o(9102),l=o(7467),d=o(8627),u=o(208),p=o(7268),b=o(9528)},6695:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.AudioTransition="audioTransition",e.AudioFader="audioFader",e.AudioBalance="audioBalance",e.AudioInput="audioInput",e.AudioEnable="audioEnable",e.AudioEnable1="audioEnable1",e.AudioDelay="audioDelay",e.AudioMonitorLevel="audioMonitorLevel",e.AudioMonitorSource="audioMonitorSource"}(o||(t.ActionId=o={}))},1741:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.AudioTransition]:{name:"Audio Mixer:Set audio fade in and out switch",options:[{type:"dropdown",label:"Enable",id:"AudioTrans",choices:c.SwitchChoices,default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"AudioTrans");let s=0;2===o?(s=!0===e.states.AudioMixerPorp.AudioTransition?0:1,await(0,a.sendCommand)(n.ActionId.AudioTransition,i.ReqType.Set,[s])):await(0,a.sendCommand)(n.ActionId.AudioTransition,i.ReqType.Set,[o])}},[n.ActionId.AudioFader]:{name:"Audio Mixer:Set Audio Fader",options:[{type:"dropdown",label:"Source",id:"ASource",choices:(0,s.getChoices)(i.ActionType.AudioFader),default:0},{type:"number",label:"Fader",id:"AudioFader",min:-75,max:10,step:.5,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioFader,i.ReqType.Set,[(0,r.getOptNumber)(e,"ASource"),(0,r.getOptNumber)(e,"AudioFader")])}},[n.ActionId.AudioBalance]:{name:"Audio Mixer:Set Audio Balance",options:[{type:"dropdown",label:"Source",id:"ASource",choices:(0,s.getChoices)(i.ActionType.AudioEnableSource),default:0},{type:"number",label:"Balance",id:"AudioBalance",min:-40,max:40,step:.5,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioBalance,i.ReqType.Set,[(0,r.getOptNumber)(e,"ASource"),(0,r.getOptNumber)(e,"AudioBalance")])}},[n.ActionId.AudioInput]:{name:"Audio Mixer:Set Audio Input",options:[{type:"dropdown",label:"Source",id:"ASource",choices:(0,s.getChoices)(i.ActionType.AudioEnableSource),default:0},{type:"number",label:"Input",id:"AudioInput",min:-75,max:6,step:.5,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioInput,i.ReqType.Set,[(0,r.getOptNumber)(e,"ASource"),(0,r.getOptNumber)(e,"AudioInput")])}},[n.ActionId.AudioEnable]:{name:"Audio Mixer:Set Mic Audio Enable",options:[{type:"dropdown",label:"Source",id:"ASource",choices:c.AudioMicChoices,default:0},{type:"dropdown",label:"Enable",id:"AudioEnable",choices:[{id:0,label:"off"},{id:1,label:"on"},{id:2,label:"Toggle"}],default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"ASource"),s=(0,r.getOptNumber)(t,"AudioEnable");let c=0;2===s?(c=0===o?1===e.states.AudioMixerPorp.AudioEnable.mic1?0:1:1===e.states.AudioMixerPorp.AudioEnable.mic2?0:1,await(0,a.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Set,[o,c])):await(0,a.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Set,[o,s])}},[n.ActionId.AudioEnable1]:{name:"Audio Mixer:Set Input Audio Enable",options:[{type:"dropdown",label:"Source",id:"ASource",choices:c.AudioInputSourcesChoices,default:0},{type:"dropdown",label:"Enable",id:"AudioEnable",choices:[{id:0,label:"off"},{id:1,label:"on"},{id:2,label:"afv"},{id:3,label:"Toggle"}],default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"AudioEnable"),s=(0,r.getOptNumber)(t,"ASource");let c=0;3===o?(2===s?c=0===e.states.AudioMixerPorp.AudioEnable.in1?1:1===e.states.AudioMixerPorp.AudioEnable.in1?2:0:3==s?c=0===e.states.AudioMixerPorp.AudioEnable.in2?1:1===e.states.AudioMixerPorp.AudioEnable.in2?2:0:4==s?c=0===e.states.AudioMixerPorp.AudioEnable.in3?1:1===e.states.AudioMixerPorp.AudioEnable.in3?2:0:5==s?c=0===e.states.AudioMixerPorp.AudioEnable.in4?1:1===e.states.AudioMixerPorp.AudioEnable.in4?2:0:6==s&&(c=0===e.states.AudioMixerPorp.AudioEnable.aux?1:1===e.states.AudioMixerPorp.AudioEnable.aux?2:0),await(0,a.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Set,[s,c])):await(0,a.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Set,[s,o])}},[n.ActionId.AudioDelay]:{name:"Audio Mixer:Set Audio Delay",options:[{type:"dropdown",label:"Source",id:"ASource",choices:c.AudioMicChoices,default:0},{type:"number",label:"Delay",id:"AudioDelay",min:0,max:170,step:10,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioDelay,i.ReqType.Set,[(0,r.getOptNumber)(e,"ASource"),(0,r.getOptNumber)(e,"AudioDelay")])}},[n.ActionId.AudioMonitorLevel]:{name:"Audio Mixer:Set Monitor Level",options:[{type:"number",label:"Level",id:"AudioLevel",min:-31,max:0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioMonitorLevel,i.ReqType.Set,[(0,r.getOptNumber)(e,"AudioLevel")])}},[n.ActionId.AudioMonitorSource]:{name:"Audio Mixer:Set Monitor Source",options:[{type:"dropdown",label:"Source",id:"AudioSource",choices:(0,s.getChoices)(i.ActionType.AudioMonitorSource),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioMonitorSource,i.ReqType.Set,[(0,r.getOptNumber)(e,"AudioSource")])}}}},t.handleData=function(e,t){if(!t.value)return!1;switch(t.id){case n.ActionId.AudioTransition:return e.states.AudioMixer.transitionEnabled=1===t.value[0],!0;case n.ActionId.AudioEnable:{const o=t.value[0],n=t.value[1];return 0==o?e.states.AudioMixer.micEnabled[0]=n:1==o?e.states.AudioMixer.micEnabled[1]=n:2==o?e.states.AudioMixer.inputEnabled[0]=n:3==o?e.states.AudioMixer.inputEnabled[1]=n:4==o?e.states.AudioMixer.inputEnabled[2]=n:5==o?e.states.AudioMixer.inputEnabled[3]=n:6==o&&(e.states.AudioMixer.auxEnabled[0]=n),!0}}return!1};const n=o(6695),r=o(3472),i=o(4796),a=o(7956),s=o(878),c=o(7643)},3794:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.AudioEnable="audioEnable",e.AudioTransition="audioTransition"}(o||(t.FeedbackId=o={}))},4718:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMixerPresets=t.AudioMixerState=t.AudioMixerActions=void 0,t.AudioMixerActions=i(o(1741)),t.AudioMixerState=i(o(6807)),t.AudioMixerPresets=i(o(1538))},1538:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};e.AudioMixer_Trans={category:"AudioMixer",name:"Audio Mixer: Set AudioTransition Enable",type:"button",style:{text:"AudioFade",size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.AudioTransition,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.AudioTransition,options:{AudioTrans:2}}],up:[]}]};for(const t of a.AudioMicChoices)e[`AudioMixer_Enable_${t.id}`]={category:"AudioMixer",name:`Audio Mixer: Set Audio ${t.label} Enable`,type:"button",style:{text:`${t.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.AudioEnable,options:{AudioEnable:1,ASource:t.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.AudioEnable,options:{ASource:t.id,AudioEnable:2}}],up:[]}]};for(const t of a.AudioInputSourcesChoices)e[`AudioMixer_Enable_${t.id}`]={category:"AudioMixer",name:`Audio Mixer: Set Audio ${t.label} Enable`,type:"button",style:{text:`${t.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.AudioEnable,options:{ASource:t.id,AudioEnable:0},style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.AudioEnable,options:{ASource:t.id,AudioEnable:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.AudioEnable,options:{ASource:t.id,AudioEnable:2},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:r.ActionId.AudioEnable1,options:{ASource:t.id,AudioEnable:3}}],up:[]}]};return e};const n=o(6278),r=o(6695),i=o(3794),a=o(7643),s="18"},6807:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{AudioMixer:{transitionEnabled:!1,micEnabled:[!1,!1],inputEnabled:[!1,!1,!1,!1],auxEnabled:[!1]}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.AudioTransition,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[0]),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[1]),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[2]),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[3]),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[4]),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[5]),await(0,r.sendCommand)(n.ActionId.AudioEnable,i.ReqType.Get,[6])};const n=o(6695),r=o(7956),i=o(4796)},2740:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.ColorHue="colorHue",e.ColorSaturation="colorSaturation",e.ColorBrightness="colorBrightness"}(o||(t.ActionId=o={}))},2528:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.ColorHue]:{name:"Color Back:Set Color Hue",options:[{type:"dropdown",label:"Color:",id:"ColorHub1",choices:i.ColorSwitchChoices,default:0},{type:"number",label:"Hue",id:"ColorHub2",default:82,min:0,max:359}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ColorHue,a.ReqType.Set,[(0,r.getOptNumber)(e,"ColorHub1"),(0,r.getOptNumber)(e,"ColorHub2")])}},[n.ActionId.ColorSaturation]:{name:"Color Back:Set Color Saturation",options:[{type:"dropdown",label:"Color:",id:"ColorSaturation1",choices:i.ColorSwitchChoices,default:0},{type:"number",label:"Saturation",id:"ColorSaturation2",default:100,min:0,max:100}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ColorSaturation,a.ReqType.Set,[(0,r.getOptNumber)(e,"ColorSaturation1"),(0,r.getOptNumber)(e,"ColorSaturation2")])}},[n.ActionId.ColorBrightness]:{name:"Color Back:Set Color Brightness",options:[{type:"dropdown",label:"Color:",id:"ColorBrightness1",choices:i.ColorSwitchChoices,default:0},{type:"number",label:"Brightness",id:"ColorBrightness2",default:70,min:0,max:100}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ColorBrightness,a.ReqType.Set,[(0,r.getOptNumber)(e,"ColorBrightness1"),(0,r.getOptNumber)(e,"ColorBrightness2")])}}}};const n=o(2740),r=o(3472),i=o(7643),a=o(4796),s=o(7956)},4483:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorBackActions=void 0,t.ColorBackActions=i(o(2528))},9580:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.DskOnAir="dskOnAir",e.DskSourceFillKey="dskSourceFillKey",e.DskSourceFill="dskSourceFill",e.DskSourceKey="dskSourceKey",e.DskMaskEnable="dskMaskEnable",e.DskMaskHStart="dskMaskHStart",e.DskMaskVStart="dskMaskVStart",e.DskMaskHEnd="dskMaskHEnd",e.DskMaskVEnd="dskMaskVEnd",e.DskControlShapedKey="dskControlShapedKey",e.DskControlClip="dskControlClip",e.DskControlGain="dskControlGain",e.DskControlInvert="dskControlInvert",e.DskRate="dskRate"}(o||(t.ActionId=o={}))},8088:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.DskOnAir]:{name:"Next Transition:Set DSKOnAir",options:[{type:"dropdown",label:"DSK OnAir",id:"DSKOnAir",choices:[{id:0,label:"Off"},{id:1,label:"On Air"},{id:2,label:"Toggle"}],default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"DSKOnAir");let i=0;2===o?(i=!0===e.states.TKeyeState.DSKOnAir?0:1,await(0,c.sendCommand)(n.ActionId.DskOnAir,s.ReqType.Set,[i])):await(0,c.sendCommand)(n.ActionId.DskOnAir,s.ReqType.Set,[o])}},[n.ActionId.DskSourceFillKey]:{name:"DSK:Set Source And Key",options:[{type:"dropdown",label:"Fill",id:"DSKFill",choices:(0,i.getChoices)(s.ActionType.DskSourceFill),default:0},{type:"dropdown",label:"Key",id:"DSKKey",choices:(0,i.getChoices)(s.ActionType.DskSourceFill),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskSourceFillKey,s.ReqType.Set,[(0,r.getOptNumber)(e,"DSKFill"),(0,r.getOptNumber)(e,"DSKKey")])}},[n.ActionId.DskSourceFill]:{name:"DSK:Set Source",options:[{type:"dropdown",label:"DSK Fill",id:"DSKFill",choices:(0,i.getChoices)(s.ActionType.DskSourceFill),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskSourceFill,s.ReqType.Set,[(0,r.getOptNumber)(e,"DSKFill")])}},[n.ActionId.DskSourceKey]:{name:"DSK:Set Source Key",options:[{type:"dropdown",label:"DSK Key",id:"DSKKey",choices:(0,i.getChoices)(s.ActionType.DskSourceFill),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskSourceKey,s.ReqType.Set,[(0,r.getOptNumber)(e,"DSKKey")])}},[n.ActionId.DskMaskEnable]:{name:"DSK:Set Mask Enable",options:[{type:"dropdown",label:"Dsk Mask Enable",id:"DskMaskEnable",default:2,choices:a.SwitchChoices}],callback:async t=>{const o=(0,r.getOptNumber)(t,"DskMaskEnable");let i=0;2===o?(i=!0===e.states.DSKState.DskMask?0:1,await(0,c.sendCommand)(n.ActionId.DskMaskEnable,s.ReqType.Set,[i])):await(0,c.sendCommand)(n.ActionId.DskMaskEnable,s.ReqType.Set,[o])}},[n.ActionId.DskMaskHStart]:{name:"DSK:Set Mask H Start",options:[{type:"number",label:"H Start",id:"HStart",default:0,min:0,max:100}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskMaskHStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"HStart")])}},[n.ActionId.DskMaskVStart]:{name:"DSK:Set Mask V Start",options:[{type:"number",label:"V Start",id:"VStart",default:0,min:0,max:100}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskMaskVStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"VStart")])}},[n.ActionId.DskMaskHEnd]:{name:"DSK:Set Mask H End",options:[{type:"number",label:"H End",id:"HEnd",default:100,min:1,max:100}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskMaskHEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"HEnd")])}},[n.ActionId.DskMaskVEnd]:{name:"DSK:Set Mask V End",options:[{type:"number",label:"V End",id:"VEnd",default:100,min:1,max:100}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskMaskVEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"VEnd")])}},[n.ActionId.DskControlShapedKey]:{name:"DSK:Set Control Shaped Key",options:[{type:"dropdown",label:"Shaped Key",id:"ShapedKey",default:0,choices:a.SwitchChoices}],callback:async t=>{const o=(0,r.getOptNumber)(t,"ShapedKey");let i=0;2===o?(i=!0===e.states.DSKState.DskControlShapedKey?0:1,await(0,c.sendCommand)(n.ActionId.DskControlShapedKey,s.ReqType.Set,[i])):await(0,c.sendCommand)(n.ActionId.DskControlShapedKey,s.ReqType.Set,[o])}},[n.ActionId.DskControlClip]:{name:"DSK:Set Control Clip",options:[{type:"number",label:"Clip",id:"Clip",default:15,min:0,max:100}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskControlClip,s.ReqType.Set,[(0,r.getOptNumber)(e,"Clip")])}},[n.ActionId.DskControlGain]:{name:"DSK:Set Control Gain",options:[{type:"number",label:"Gain",id:"Gain",default:50,min:0,max:100}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskControlGain,s.ReqType.Set,[(0,r.getOptNumber)(e,"Gain")])}},[n.ActionId.DskControlInvert]:{name:"DSK:Set Control Invert",options:[{type:"dropdown",label:"Invert",id:"Invert",default:0,choices:a.SwitchChoices}],callback:async t=>{const o=(0,r.getOptNumber)(t,"Invert");let i=0;2===o?(i=!0===e.states.DSKState.DskControlInvert?0:1,await(0,c.sendCommand)(n.ActionId.DskControlInvert,s.ReqType.Set,[i])):await(0,c.sendCommand)(n.ActionId.DskControlInvert,s.ReqType.Set,[o])}},[n.ActionId.DskRate]:{name:"DSK:Set Control Rate",options:[{type:"number",label:"dskRate",id:"dskRate",default:0,min:.5,max:8,range:!0,step:.5}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.DskRate,s.ReqType.Set,[(0,r.getOptNumber)(e,"dskRate")])}}}},t.handleData=function(e,t){if(!t.value)return!1;switch(t.id){case n.ActionId.DskSourceFill:{const o=(0,i.getChoices)(s.ActionType.DskSourceFill).find((e=>t.value&&e.id===t.value[0]));return void 0!==o&&(e.states.DownstreamKeyer.fill=o),!0}case n.ActionId.DskSourceKey:{const o=(0,i.getChoices)(s.ActionType.DskSourceFill).find((e=>e.id===t.value&&t.value[0]));return void 0!==o&&(e.states.DownstreamKeyer.key=o),!0}case n.ActionId.DskControlInvert:return e.states.DownstreamKeyer.invert=1===t.value[0],!0;case n.ActionId.DskMaskEnable:return e.states.DownstreamKeyer.mask=1===t.value[0],!0;case n.ActionId.DskControlShapedKey:return e.states.DownstreamKeyer.shapedKey=1===t.value[0],!0;case n.ActionId.DskOnAir:e.states.DownstreamKeyer.onAir=1===t.value[0]}return!1};const n=o(9580),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956)},5997:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.DskOnAir="dskOnAir",e.DskSourceFill="dskSourceFill"}(o||(t.FeedbackId=o={}))},9539:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.FeedbackId.DskOnAir]:{type:"boolean",name:"Next Transition:DSK OnAir",description:"Set the special effect Transition DSK OnAir",options:[{type:"dropdown",label:"DSK OnAir",id:"DSKOnAir",choices:i.SwitchChoices,default:1}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>!(!e.states.TKeyeState.DSKOnAir||1!==t.options.DSKOnAir)},[n.FeedbackId.DskSourceFill]:{type:"boolean",name:"DSK:DSK source fill or key fill",description:"Set the special effect DSK source fill or key fill",options:[{type:"dropdown",label:"Type:",id:"TypeID",choices:[{id:0,label:"Key Fill"},{id:1,label:"Source Fill"}],default:0},{type:"dropdown",label:"Fill:",id:"DSKFill",choices:(0,a.getChoices)(s.ActionType.KeyPatternSourceKey),default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>{const o=Number(t.options.TypeID),n=Number(t.options.DSKFill);return 0===o?e.states.DSKState.DSKSourceKeyFill.id===n:e.states.DSKState.DSKSourceFill.id===n}}}};const n=o(5997),r=o(6278),i=o(7643),a=o(878),s=o(4796)},7467:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DownstreamKeyerFeedbacks=t.DownstreamKeyerPresets=t.DownstreamKeyerState=t.DownstreamKeyerActions=void 0,t.DownstreamKeyerActions=i(o(8088)),t.DownstreamKeyerState=i(o(9598)),t.DownstreamKeyerPresets=i(o(243)),t.DownstreamKeyerFeedbacks=i(o(9539))},243:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={},t=(0,s.getChoices)(a.ActionType.DskSourceFill);for(const o of t){let a=Number(o.id)+1;a===t.length&&(a=0),e[`DskFillKey_${o.id}`]={category:"DSK",name:`DSK Source Fill And Key ${o.label}`,type:"button",style:{text:`${o.label}`,size:l,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.DskSourceFill,options:{TypeID:1,DSKFill:o.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.DskSourceFillKey,options:{DSKFill:o.id,DSKKey:a}}],up:[]}]}}const o=c.KeySwitchChoices;for(const t of o)"BKGD"!=t.label&&"Key"!==t.label&&(e[`keys_Next_Air_${t.id}`]={category:"Keys On Air",name:`Toggle upstream KEY ${t.label} OnAir`,type:"button",style:{text:`${t.label}`,size:l,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.DskOnAir,options:{KeyOnAir:1,DSKOnAir:1},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:r.ActionId.DskOnAir,options:{KeyOnAir:2,DSKOnAir:2}}],up:[]}]});return e};const n=o(6278),r=o(9580),i=o(5997),a=o(4796),s=o(878),c=o(7643),l="18"},9598:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{DownstreamKeyer:{onAir:!1,fill:0,key:0,invert:!1,mask:!1,shapedKey:!1}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.DskOnAir,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.DskSourceFill,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.DskSourceKey,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.DskMaskEnable,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.DskControlShapedKey,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.DskControlInvert,i.ReqType.Get)};const n=o(9580),r=o(7956),i=o(4796)},9e3:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.Live="live"}(o||(t.ActionId=o={}))},4596:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.Live]:{name:"Live:Set Start or Stop Live",options:[{type:"dropdown",label:"Enable",id:"LiveEnable",choices:[{id:0,label:"Stop"},{id:1,label:"Start"},{id:2,label:"Toggle"}],default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"LiveEnable");let s=0;2===o?(s=0===e.states.LiveState?1:0,await(0,a.sendCommand)(n.ActionId.Live,i.ReqType.Set,[s])):await(0,a.sendCommand)(n.ActionId.Live,i.ReqType.Set,[o])}}}},t.handleData=function(e,t){return!!t.value&&(t.id===n.ActionId.Live&&(e.states.Live.State=t.value[0],!0))};const n=o(9e3),r=o(3472),i=o(4796),a=o(7956)},1665:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Live="live"}(o||(t.FeedbackId=o={}))},5431:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.Live]:{type:"boolean",name:"Live: Set Live Start or Stop",description:"If you turn on Live Start, change style of the bank",options:[{type:"dropdown",label:"states",id:"statesId",choices:[{id:0,label:"off"},{id:1,label:"on"},{id:2,label:"abnormal"}],default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>e.states.Live.State===t.options.statesId}}};const n=o(6278),r=o(1665)},7047:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LiveFeedbacks=t.LivePresets=t.LiveState=t.LiveActions=void 0,t.LiveActions=i(o(4596)),t.LiveState=i(o(5962)),t.LivePresets=i(o(7743)),t.LiveFeedbacks=i(o(5431))},7743:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};return e.Live_0={type:"button",category:"Live",name:"Live",style:{text:"Live",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.Live,options:{LiveEnable:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.Live,options:{statesId:0},style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.Live,options:{statesId:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.Live,options:{statesId:2},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},e};const n=o(6278),r=o(9e3),i=o(1665),a="18"},5962:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Live:{State:0}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.Live,i.ReqType.Get)};const n=o(9e3),r=o(7956),i=o(4796)},7396:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.MacroRecord="macroRecord",e.MacroInfo="macroInfo",e.GetMacroInfoAll="getMacroInfoAll",e.MacroRun="macroRun",e.RemoveMacro="removeMacro",e.MacroSleep="macroSleep"}(o||(t.ActionId=o={}))},4176:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.MacroRecord]:{name:"Macro:Set Start Record",options:[{type:"dropdown",label:"Status",id:"StatusId",choices:[{id:0,label:"start"},{id:1,label:"stop"}],default:0},{type:"dropdown",label:"Macro",id:"MacroIndex",choices:(0,r.getChoicesByMacro)(),default:0},{type:"textinput",label:"Name",id:"MacroName",default:"",required:!0},{type:"textinput",label:"Remark",id:"MacroRemark",default:"",required:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.MacroRecord,i.ReqType.Set,[(0,s.getOptNumber)(e,"StatusId"),(0,s.getOptNumber)(e,"MacroIndex"),(0,s.getOptString)(e,"MacroName"),(0,s.getOptString)(e,"MacroRemark")])}},[n.ActionId.MacroInfo]:{name:"Macro:Change Detail",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:(0,r.getChoicesByMacro)(),default:0},{type:"textinput",label:"Name",id:"MacroName",default:"",required:!0},{type:"textinput",label:"Remark",id:"MacroRemark",default:"",required:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.MacroInfo,i.ReqType.Set,[(0,s.getOptNumber)(e,"MacroIndex"),(0,s.getOptString)(e,"MacroName"),(0,s.getOptString)(e,"MacroRemark")])}},[n.ActionId.RemoveMacro]:{name:"Macro:Delete Macro",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:(0,r.getChoicesByMacro)(),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.RemoveMacro,i.ReqType.Set,[(0,s.getOptNumber)(e,"MacroIndex")])}},[n.ActionId.MacroRun]:{name:"Macro:Start Run",options:[{type:"dropdown",label:"Status",id:"StatusID",choices:[{id:1,label:"start"},{id:0,label:"stop"}],default:0},{type:"dropdown",label:"Location",id:"MacroIndex",choices:(0,r.getChoicesByMacro)(),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.MacroRun,i.ReqType.Set,[(0,s.getOptNumber)(e,"StatusID"),(0,s.getOptNumber)(e,"MacroIndex")])}},[n.ActionId.MacroSleep]:{name:"Macro:Macro Sleep",options:[{type:"textinput",label:"Sleep",id:"MacroSleep",default:"500",regex:c.Regex.NUMBER,required:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.MacroSleep,i.ReqType.Set,[(0,s.getOptNumber)(e,"MacroSleep")])}}}},t.handleData=function(e,t){if(!t.value)return!1;switch(t.id){case n.ActionId.MacroInfo:{const o={index:Number(t.value[0]),name:t.value[1],description:t.value[2],used:!0,waiting:!1,recording:!1,running:!1};return e.states.Macro.props.push(o),!0}case n.ActionId.MacroRun:{const o=Number(t.value[1]),n=t.value[0],r=e.states.Macro.props.find((e=>e?.index===o));return void 0!==r&&(r.running=1===n),!0}case n.ActionId.MacroRecord:{const o=Number(t.value[1]),n=t.value[0],r=e.states.Macro.props.find((e=>e?.index===o));return void 0!==r?r.recording=1===n:e.states.Macro.props.push({name:"",description:"",recording:n,used:!0,running:!1,waiting:!1,index:o}),!0}}return!1};const n=o(7396),r=o(878),i=o(4796),a=o(7956),s=o(3472),c=o(6278)},5413:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Macro="macro"}(o||(t.FeedbackId=o={}))},9147:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacroFeedbackType=void 0,t.create=function(e){return{[r.FeedbackId.Macro]:{type:"boolean",name:"Macro: State",description:"If the specified macro is running, change style of the bank",options:[{type:"dropdown",label:"Macro Number (1-100)",id:"MacroIndex",default:1,choices:(0,i.getChoicesByMacro)()},{type:"dropdown",label:"State",id:"state",default:t.MacroFeedbackType.IsWaiting,choices:[{id:t.MacroFeedbackType.IsRunning,label:"Is Running"},{id:t.MacroFeedbackType.IsWaiting,label:"Is Waiting"},{id:t.MacroFeedbackType.IsRecording,label:"Is Recording"},{id:t.MacroFeedbackType.IsUsed,label:"Is Used"}]}],defaultStyle:{color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(238,238,0)},callback:o=>{const n=Number(o.options.MacroIndex);if(!isNaN(n)){const r=o.options.state,i=e.states.Macro.props.find((e=>e?.index===n));switch(r){case t.MacroFeedbackType.IsUsed:return!!i?.used;case t.MacroFeedbackType.IsRecording:return!!i?.recording;case t.MacroFeedbackType.IsRunning:return!!i?.running;case t.MacroFeedbackType.IsWaiting:return!!i?.waiting}}return!1}}}};const n=o(6278),r=o(5413),i=o(878);t.MacroFeedbackType={IsRunning:"isRunning",IsWaiting:"isWaiting",IsRecording:"isRecording",IsUsed:"isUsed"}},8627:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MacroFeedbacks=t.MacroPresets=t.MacroState=t.MacroActions=void 0,t.MacroActions=i(o(4176)),t.MacroState=i(o(5190)),t.MacroPresets=i(o(9931)),t.MacroFeedbacks=i(o(9147))},9931:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};for(let t=0;t<100;t++)e[`macro_run_${t}`]={category:"MACROS",name:`Run button for macro ${t+1}`,type:"button",style:{text:`macro${t+1}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.Macro,options:{MacroIndex:t,state:a.MacroFeedbackType.IsUsed},style:{bgcolor:(0,n.combineRgb)(0,0,238),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.Macro,options:{MacroIndex:t,state:a.MacroFeedbackType.IsRunning},style:{bgcolor:(0,n.combineRgb)(0,238,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.Macro,options:{MacroIndex:t,state:a.MacroFeedbackType.IsWaiting},style:{bgcolor:(0,n.combineRgb)(238,238,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:i.FeedbackId.Macro,options:{MacroIndex:t,state:a.MacroFeedbackType.IsRecording},style:{bgcolor:(0,n.combineRgb)(238,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.MacroRun,options:{StatusID:1,MacroIndex:t}}],up:[]}]};return e};const n=o(6278),r=o(7396),i=o(5413),a=o(9147),s="18"},5190:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Macro:{props:[]}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.GetMacroInfoAll,i.ReqType.Get)};const n=o(7396),r=o(7956),i=o(4796)},7625:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PgmIndex="pgmIndex",e.PvwIndex="pvwIndex",e.CutTransition="cutTransition",e.AutoTransition="autoTransition",e.FTB="ftb",e.FtbAudioAFV="ftbAudioAFV",e.FtbRate="ftbRate",e.Prev="prev",e.TransitionIndex="transitionIndex",e.TransitionRate="transitionRate",e.TransitionDipSource="transitionDipSource",e.TransitionWipePattern="transitionWipePattern",e.TransitionWipeXPosition="transitionWipeXPosition",e.TransitionWipeYPosition="transitionWipeYPosition",e.TransitionWipeDirection="transitionWipeDirection",e.TransitionWipeSymmetry="transitionWipeSymmetry",e.TransitionWipeSoftness="transitionWipeSoftness",e.TransitionWipeBorder="transitionWipeBorder",e.TransitionWipeFillSource="transitionWipeFillSource",e.TransitionSourceBG="transitionSourceBG",e.TransitionSource="transitionSource"}(o||(t.ActionId=o={}))},7167:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.PgmIndex]:{name:"Set PGM Source",options:[{type:"dropdown",label:"Source",id:"Source",default:a.SourceType.Input1,choices:(0,i.getChoices)(a.ActionType.Program)}],callback:async e=>{const t=(0,r.getOptNumber)(e,"Source");await(0,s.sendCommand)(n.ActionId.PgmIndex,a.ReqType.Set,[t])}},[n.ActionId.PvwIndex]:{name:"Set PVW Source",options:[{type:"dropdown",label:"Source",id:"Source",default:a.SourceType.Input1,choices:(0,i.getChoices)(a.ActionType.Preview)}],callback:async e=>{const t=(0,r.getOptNumber)(e,"Source");await(0,s.sendCommand)(n.ActionId.PvwIndex,a.ReqType.Set,[t])}},[n.ActionId.CutTransition]:{name:"Perform CUT transition",options:[],callback:async()=>{await(0,s.sendCommand)(n.ActionId.CutTransition,a.ReqType.Set)}},[n.ActionId.AutoTransition]:{name:"Perform AUTO transition",options:[],callback:async()=>{await(0,s.sendCommand)(n.ActionId.AutoTransition,a.ReqType.Set)}},[n.ActionId.FTB]:{name:"Perform FTB Transition",options:[],callback:async()=>{await(0,s.sendCommand)(n.ActionId.FTB,a.ReqType.Set)}},[n.ActionId.FtbAudioAFV]:{name:"Perform FTB Transition,Audio follows video and pops in",options:[{type:"dropdown",label:"FTB Audio AFV",id:"FtbAudioAFV",default:0,choices:c.SwitchChoices}],callback:async t=>{const o=(0,r.getOptNumber)(t,"FtbAudioAFV");let i=0;2===o?(i=!0===e.states.fadeToBlack.AFV?0:1,await(0,s.sendCommand)(n.ActionId.FtbAudioAFV,a.ReqType.Set,[i])):await(0,s.sendCommand)(n.ActionId.FtbAudioAFV,a.ReqType.Set,[o])}},[n.ActionId.FtbRate]:{name:"Fade to black: Change rate",options:[{type:"number",label:"FTB Rate(s)",id:"FtbRate",default:2,min:.5,max:8,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.FtbRate,a.ReqType.Set,[(0,r.getOptNumber)(e,"FtbRate")])}},[n.ActionId.Prev]:{name:"Preview switch",options:[{type:"dropdown",label:"PREV",id:"prevEnable",default:2,choices:c.SwitchChoices}],callback:async t=>{const o=(0,r.getOptNumber)(t,"prevEnable");let i=0;2===o?(i=!0===e.states.selectTransitionStyle.PrevState?0:1,await(0,s.sendCommand)(n.ActionId.Prev,a.ReqType.Set,[i])):await(0,s.sendCommand)(n.ActionId.Prev,a.ReqType.Set,[o])}},[n.ActionId.TransitionIndex]:{name:"Transition: Set style/pattern",options:[{type:"dropdown",label:"Transition Style",id:"TransitionStyle",default:a.TransitionStyle.MIX,choices:c.TransitionStyleChoice}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionIndex,a.ReqType.Set,[(0,r.getOptNumber)(e,"TransitionStyle")])}},[n.ActionId.TransitionRate]:{name:"Transition: Change rate",options:[{type:"dropdown",label:"Transition Style",id:"TransitionStyle",default:a.TransitionStyle.MIX,choices:c.TransitionStyleChoice},{type:"number",label:"Transition Rate",id:"TransitionRate",default:2,min:.5,max:8,step:.5,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionRate,a.ReqType.Set,[(0,r.getOptNumber)(e,"TransitionStyle"),(0,r.getOptNumber)(e,"TransitionRate")])}},[n.ActionId.TransitionDipSource]:{name:"Transition:Change Dip Source",options:[{type:"dropdown",label:"Change Dip Source",id:"TransitionDipSource",default:0,choices:(0,i.getChoices)(a.ActionType.TransitionDipSource)}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionDipSource,a.ReqType.Set,[(0,r.getOptNumber)(e,"TransitionDipSource")])}},[n.ActionId.TransitionWipePattern]:{name:"Transition:Change Wipe Pattern",options:[{type:"number",label:"Wipe Pattern",id:"WipePatternID",min:0,max:17,default:0,range:!0,step:1}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipePattern,a.ReqType.Set,[(0,r.getOptNumber)(e,"WipePatternID")])}},[n.ActionId.TransitionWipeXPosition]:{name:"Transition:Change Wipe X Position",options:[{type:"number",label:"X Position",id:"XPosition",default:0,min:-16,max:16,step:.2,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeXPosition,a.ReqType.Set,[(0,r.getOptNumber)(e,"XPosition")])}},[n.ActionId.TransitionWipeYPosition]:{name:"Transition:Change Wipe Y Position",options:[{type:"number",label:"Y Position",id:"YPosition",default:0,min:-9,max:9,step:.2,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeYPosition,a.ReqType.Set,[(0,r.getOptNumber)(e,"YPosition")])}},[n.ActionId.TransitionWipeDirection]:{name:"Transition:Change Wipe Style Direction",options:[{type:"dropdown",label:"Change Wipe Style Direction",id:"WipeDirection",default:0,choices:c.WipeDirectionChoices}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeDirection,a.ReqType.Set,[(0,r.getOptNumber)(e,"WipeDirection")])}},[n.ActionId.TransitionWipeSymmetry]:{name:"Transition:Change Wipe Style Symmetry",options:[{type:"number",label:"Symmetry",id:"WipeSymmetry",default:50,min:0,max:100,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeSymmetry,a.ReqType.Set,[(0,r.getOptNumber)(e,"WipeSymmetry")])}},[n.ActionId.TransitionWipeSoftness]:{name:"Transition:Change Wipe Style Softness",options:[{type:"number",label:"Softness",id:"WipeSoftness",default:0,min:0,max:100,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeSoftness,a.ReqType.Set,[(0,r.getOptNumber)(e,"WipeSoftness")])}},[n.ActionId.TransitionWipeBorder]:{name:"Transition:Change Wipe Style Border",options:[{type:"number",label:"Border",id:"WipeBorder",default:0,min:0,max:100,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeBorder,a.ReqType.Set,[(0,r.getOptNumber)(e,"WipeBorder")])}},[n.ActionId.TransitionWipeFillSource]:{name:"Transition:Change Wipe Style Fill Source",options:[{type:"dropdown",label:"Fill Source",id:"WipeFillSource",default:0,choices:(0,i.getChoices)(a.ActionType.TransitionWipeFillSource)}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.TransitionWipeFillSource,a.ReqType.Set,[(0,r.getOptNumber)(e,"WipeFillSource")])}},[n.ActionId.TransitionSourceBG]:{name:"Transition: Change selection",options:[{type:"checkbox",label:"Background",id:"Background",default:!1},{type:"checkbox",label:"Key",id:"Key",default:!1}],callback:async e=>{let t=0;const o=e.options.Background;!0===e.options.Key&&(t+=1),!0===o&&(t+=4),await(0,s.sendCommand)(n.ActionId.TransitionSource,a.ReqType.Set,[t])}},[n.ActionId.TransitionSource]:{name:"UpStream Key: Tie USK to next transition",options:[{type:"dropdown",label:"State",id:"USKTieState",choices:[{id:5,label:"on"},{id:4,label:"off"},{id:0,label:"toggle"}],default:0}],callback:async t=>{let o=t.options.USKTieState;0===o&&(o=e.states.UpstreamKeyer.Tied?4:5),await(0,s.sendCommand)(n.ActionId.TransitionSource,a.ReqType.Set,[o])}}}},t.handleData=function(e,t){if(!t.value)return!1;switch(t.id){case n.ActionId.PvwIndex:return void 0!==t.value[0]&&(e.states.MixEffect.PvwSrc=t.value[0]),!0;case n.ActionId.PgmIndex:return void 0!==t.value[0]&&(e.states.MixEffect.PgmSrc=t.value[0]),!0;case n.ActionId.AutoTransition:return e.states.MixEffect.transitionPosition.inTransition=1===t.value[0],!0;case n.ActionId.FTB:return 0===t.value[0]?(e.states.MixEffect.fadeToBlack.isFullyBlack=!1,e.states.MixEffect.fadeToBlack.inTransition=!1):1===t.value[0]?(e.states.MixEffect.fadeToBlack.inTransition=!1,e.states.MixEffect.fadeToBlack.isFullyBlack=!0):2===t.value[0]&&(e.states.MixEffect.fadeToBlack.inTransition=!0),!0;case n.ActionId.FtbAudioAFV:return e.states.MixEffect.fadeToBlack.AFV=1===t.value[0],!0;case n.ActionId.FtbRate:return e.states.MixEffect.fadeToBlack.rate=t.value[0],!0;case n.ActionId.Prev:return e.states.MixEffect.selectTransitionStyle.PrevState=1===t.value[0],!0;case n.ActionId.TransitionIndex:{const o=Number(t.value[0]),n=c.TransitionStyleChoice.find((e=>e.id===o));return void 0!==n&&(e.states.MixEffect.selectTransitionStyle.style=n),!0}case n.ActionId.TransitionRate:{const o=t.value[0],n=t.value[1];return 0===o?e.states.MixEffect.selectTransitionStyle.mixrate=n:1===o?e.states.MixEffect.selectTransitionStyle.diprate=n:2===o&&(e.states.MixEffect.selectTransitionStyle.wiperate=n),!0}case n.ActionId.TransitionSource:{const o=Number(t.value[0]);return e.states.UpstreamKeyer.transitionKey.M_Key=!(1&~o),e.states.UpstreamKeyer.transitionKey.DSK=1==(o>>1&1),e.states.UpstreamKeyer.transitionKey.BKGD=1==(o>>2&1),!0}}return!1};const n=o(7625),r=o(3472),i=o(878),a=o(4796),s=o(7956),c=o(7643)},5840:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PreviewBG="preview_bg",e.PreviewBG2="preview_bg_2",e.PreviewBG3="preview_bg_3",e.PreviewBG4="preview_bg_4",e.ProgramBG="program_bg",e.ProgramBG2="program_bg_2",e.ProgramBG3="program_bg_3",e.ProgramBG4="program_bg_4",e.TransitionStyle="TransitionStyle",e.InTransition="inTransition",e.Cut="cut",e.Prev="prev",e.TransitionRate="transitionRate",e.TransitionKeySwitch="transitionKeySwitch",e.TransitionSelection="transitionSelection",e.FadeToBlackIsBlack="fadeToBlackIsBlack",e.FadeToBlackRate="fadeToBlackRate",e.FTBAFV="FTBAFV"}(o||(t.FeedbackId=o={}))},8380:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[a.FeedbackId.PreviewBG]:{type:"boolean",name:"preview source",description:"If the input specified is selected in preview, change style of the bank",defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(0,255,0)},options:[{type:"dropdown",label:"Source",id:"Source",default:r.SourceType.Input1,choices:(0,i.getChoices)(r.ActionType.Preview)}],callback:t=>e.states.MixEffect.PvwSrc===t.options.Source},[a.FeedbackId.ProgramBG]:{type:"boolean",name:"program source",description:"If the input specified is selected in program, change style of the bank",defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(0,255,0)},options:[{type:"dropdown",label:"Source",id:"Source",default:r.SourceType.Input1,choices:(0,i.getChoices)(r.ActionType.Program)}],callback:t=>e.states.MixEffect.PgmSrc===t.options.Source},[a.FeedbackId.InTransition]:{type:"boolean",name:"Transition: Active/Running",description:"If the specified transition is active, change style of the bank",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>!!e.states.transitionPosition.inTransition},[a.FeedbackId.Cut]:{type:"boolean",name:"Transition: Active/Running",description:"If the specified transition is active, change style of the bank",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>!1},[a.FeedbackId.Prev]:{type:"boolean",name:"Transition: Active/Running",description:"If the PREV is active, change style of the bank",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>e.states.selectTransitionStyle.PrevState},[a.FeedbackId.TransitionStyle]:{type:"boolean",name:"Transition: Style",description:"If the specified transition style is active, change style of the bank",options:[{type:"dropdown",label:"TransitionStyle",id:"TransitionStyle",default:r.TransitionStyle.MIX,choices:s.TransitionStyleChoice}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>e.states.selectTransitionStyle?.style.id===t.options.TransitionStyle},[a.FeedbackId.TransitionRate]:{type:"boolean",name:"Transition: Rate",description:"If the specified transition rate is active, change style of the bank",options:[{type:"dropdown",label:"Transition Style",id:"TransitionStyle",default:r.TransitionStyle.MIX,choices:s.TransitionStyleChoice},{type:"number",label:"Transition Rate",id:"TransitionRate",default:2,min:.5,max:8,step:.5,range:!0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=e.states.selectTransitionStyle;if(o?.style.id===t.options.TransitionStyle){const e=Number(t.options.TransitionStyle),n=Number(t.options.TransitionRate);switch(e){case 0:return o?.mixrate===n;case 1:return o?.diprate===n;case 2:return o?.wiperate===n;default:return!1}}return!1},learn:t=>{const o=e.states.selectTransitionStyle;if(o?.style.id===t.options.TransitionStyle)switch(Number(t.options.TransitionStyle)){case 0:return{...t.options,TransitionRate:o?.mixrate};case 1:return{...t.options,TransitionRate:o?.diprate};case 2:return{...t.options,TransitionRate:o?.wiperate};default:return}}},[a.FeedbackId.TransitionSelection]:{type:"boolean",name:"Transition: Selection",description:"If the specified transition selection is active, change style of the bank",options:[{type:"dropdown",label:"Match method",id:"MatchState",choices:[{id:0,label:"Exact"},{id:1,label:"Contains"}],default:2},{type:"checkbox",label:"Background",id:"Background",default:!1},{type:"checkbox",label:"Key",id:"Key",default:!1}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=t.options.MatchState,n=t.options.Background,r=t.options.Key;switch(o){case 0:return!!(n&&e.states.TKeyeState.BKGD||r&&e.states.TKeyeState.M_Key)||!(!n||!r)&&e.states.TKeyeState.M_Key&&e.states.TKeyeState.BKGD;case 1:return n&&r?e.states.TKeyeState.M_Key||e.states.TKeyeState.BKGD:n?e.states.TKeyeState.BKGD:!!r&&e.states.TKeyeState.M_Key;default:return!1}}},[a.FeedbackId.TransitionKeySwitch]:{type:"boolean",name:"Next Transition:Key Switch",description:"Set the special effect Transition key switch",options:[{type:"dropdown",label:"Switch",id:"KeySwitch",choices:s.KeySwitchChoices,default:2}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=t.options.KeySwitch;if(o&&Array.isArray(o)){const t=Array.from(o);return!(!t.includes(0)||!e.states.TKeyeState.M_Key)||!(!t.includes(1)||!e.states.TKeyeState.DSK)||!(!t.includes(2)||!e.states.TKeyeState.BKGD)}return!1}}}};const n=o(6278),r=o(4796),i=o(878),a=o(5840),s=o(7643)},1956:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MixEffectState=t.MixEffectPresets=t.MixEffectFeedbacks=t.MixEffectActions=void 0,t.MixEffectActions=i(o(7167)),t.MixEffectFeedbacks=i(o(8380)),t.MixEffectPresets=i(o(7064)),t.MixEffectState=i(o(9413))},7064:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={},t=(0,s.getChoices)(r.ActionType.Preview);for(const o of t)e[`Preview_${o.id}`]={type:"button",category:"Preview",name:`Preview button for ${o.label}`,style:{pngalignment:"center:center",text:`${o.label}`,alignment:"center:center",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PvwIndex,options:{Source:o.id}}],up:[]}],feedbacks:[{FeedbackId:a.FeedbackId.PreviewBG,options:{Source:o.id},style:{bgcolor:(0,n.combineRgb)(0,255,0),color:(0,n.combineRgb)(255,255,255)}}]},e[`Program_${o.id}`]={type:"button",category:"Program",name:`Program button for ${o.label}`,style:{pngalignment:"center:center",text:`${o.label}`,alignment:"center:center",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PgmIndex,options:{Source:o.id}}],up:[]}],feedbacks:[{FeedbackId:a.FeedbackId.ProgramBG,options:{Source:o.id},style:{bgcolor:(0,n.combineRgb)(0,255,0),color:(0,n.combineRgb)(255,255,255)}}]};e.transition_cut={category:"Transitions",name:"CUT",type:"button",style:{text:"CUT",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.Cut,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.CutTransition,options:{}}],up:[]}]},e.transition_auto={category:"Transitions",name:"AUTO",type:"button",style:{text:"AUTO",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.InTransition,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.AutoTransition,options:{}}],up:[]}]};const o=c.TransitionStyleChoice;for(const t of o){e[`transition_style_${t.id}`]={category:"Transitions",name:`Transition: Change Transition style to ${t.label}`,type:"button",style:{text:t.label,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.TransitionStyle,options:{TransitionStyle:t.id},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.TransitionIndex,options:{TransitionStyle:t.id}}],up:[]}]};for(const o of l)e[`transition_rate_${t.id}_${o}`]={category:"Transitions",name:`Transition: ${t.label} rate ${o}`,type:"button",style:{text:`${t.label} ${o}`,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.TransitionRate,options:{TransitionStyle:t.id,TransitionRate:o},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.TransitionRate,options:{TransitionStyle:t.id,TransitionRate:o}}],up:[]}]}}e.transition_Prev={category:"Transitions",name:"Transition:PREV",type:"button",style:{text:"PREV",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.Prev,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.Prev,options:{prevEnable:2}}],up:[]}]},e.transition_BG={category:"Transitions",name:"Transition: Change selection",type:"button",style:{text:"BG",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.TransitionSelection,options:{MatchState:1,Background:!0,Key:!1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.TransitionSourceBG,options:{Background:!0,Key:!1}}],up:[]}]},e.transition_Key={category:"Transitions",name:"Transition: Change selection",type:"button",style:{text:"Key",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.TransitionSelection,options:{MatchState:1,Background:!1,Key:!0},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.TransitionSourceBG,options:{Background:!1,Key:!0}}],up:[]}]},e["transition_BG&Key"]={category:"Transitions",name:"Transition: Change selection",type:"button",style:{text:"BG&Key",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.TransitionSelection,options:{MatchState:1,Background:!0,Key:!0},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.TransitionSourceBG,options:{Background:!0,Key:!0}}],up:[]}]},e.ftb_AFV={category:"Fade to black",name:"FTB:Audio Follow Video Enable",type:"button",style:{text:"AFV",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.FTBAFV,options:{state:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}},{FeedbackId:a.FeedbackId.FTBAFV,options:{state:0},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.FtbAudioAFV,options:{FtbAudioAFV:2}}],up:[]}]},e.ftb_auto={category:"Fade to black",name:"Autofade",type:"button",style:{text:"FTB",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.FadeToBlackIsBlack,options:{state:"off"},style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255)}},{FeedbackId:a.FeedbackId.FadeToBlackIsBlack,options:{state:"on"},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}},{FeedbackId:a.FeedbackId.FadeToBlackIsBlack,options:{state:"fading"},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.FTB,options:{}}],up:[]}]};for(const t of l)e[`ftb_rate_${t}`]={category:"Fade to black",name:`Rate ${t}`,type:"button",style:{text:`Rate ${t}`,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{FeedbackId:a.FeedbackId.FadeToBlackRate,options:{FtbRate:t},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.FtbRate,options:{FtbRate:t}}],up:[]}]};return e};const n=o(6278),r=o(4796),i=o(7625),a=o(5840),s=o(878),c=o(7643),l=[1,2,3,4,5,6,7,8],d="18"},9413:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{MixEffect:{PvwSrc:0,PgmSrc:0,transitionPosition:{inTransition:!1,handlePosition:0},fadeToBlack:{inTransition:!1,isFullyBlack:!1,AFV:!1,rate:0},selectTransitionStyle:{PrevState:!1,style:{id:0,label:"MIX"},mixrate:0,diprate:0,wiperate:0}}}},t.sync=async function(){const e=[{id:n.ActionId.PgmIndex,type:i.ReqType.Get},{id:n.ActionId.PvwIndex,type:i.ReqType.Get},{id:n.ActionId.AutoTransition,type:i.ReqType.Get},{id:n.ActionId.Prev,type:i.ReqType.Get},{id:n.ActionId.FTB,type:i.ReqType.Get},{id:n.ActionId.FtbRate,type:i.ReqType.Get},{id:n.ActionId.FtbAudioAFV,type:i.ReqType.Get},{id:n.ActionId.TransitionIndex,type:i.ReqType.Get},{id:n.ActionId.TransitionRate,type:i.ReqType.Get,value:[0]},{id:n.ActionId.TransitionRate,type:i.ReqType.Get,value:[1]},{id:n.ActionId.TransitionRate,type:i.ReqType.Get,value:[2]},{id:n.ActionId.TransitionSource,type:i.ReqType.Get}];await(0,r.sendCommands)(e)};const n=o(7625),r=o(7956),i=o(4796)},7637:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PlayModeRepeatPause="playModeRepeatPause",e.PlaybackMode="playbackMode",e.PlaybackRepeat="playbackRepeat",e.PlaybackPause="playbackPause",e.PlaybackBar="playbackBar",e.PlayFile="playFile",e.PlaybackList="playbackList"}(o||(t.ActionId=o={}))},6107:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.PlayModeRepeatPause]:{name:"Playback:Set playback Info",options:[{type:"dropdown",label:"Mode",id:"ModeID",choices:[{id:0,label:"play in one group"},{id:1,label:"play cross groups"}],default:0},{type:"dropdown",label:"repeat",id:"repeatId",choices:[{id:0,label:"Off"},{id:1,label:"On"}],default:2},{type:"dropdown",label:"pause",id:"pauseId",choices:[{id:0,label:"stop"},{id:1,label:"start"},{id:2,label:"Toggle"}],default:2}],callback:async t=>{const o=(0,r.getOptNumber)(t,"pauseId");let i=0;2===o?(i=!0===e.states.PlayBackState.PlaybackPause?0:1,await(0,s.sendCommand)(n.ActionId.PlayModeRepeatPause,a.ReqType.Set,[(0,r.getOptNumber)(t,"ModeID"),(0,r.getOptNumber)(t,"repeatId"),i])):await(0,s.sendCommand)(n.ActionId.PlayModeRepeatPause,a.ReqType.Set,[(0,r.getOptNumber)(t,"ModeID"),(0,r.getOptNumber)(t,"repeatId"),o])}},[n.ActionId.PlaybackMode]:{name:"Playback:Set playback Mode",options:[{type:"dropdown",label:"Mode",id:"ModeID",choices:[{id:0,label:"play in one group"},{id:1,label:"play cross groups"}],default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PlaybackMode,a.ReqType.Set,[(0,r.getOptNumber)(e,"ModeID")])}},[n.ActionId.PlayFile]:{name:"Playback:Set selected file",options:[{type:"dropdown",label:"PlayFile",id:"PlayFileID",choices:e.states.Playback.FileList.map(((e,t)=>({id:t,label:e}))),default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"PlayFileID");await(0,s.sendCommand)(n.ActionId.PlayFile,a.ReqType.Set,[e.states.Playback.FileList[o]])}},[n.ActionId.PlaybackRepeat]:{name:"Playback:Set playback Repeat",options:[{type:"dropdown",label:"Enable",id:"EnableID",choices:i.SwitchChoices,default:2}],callback:async t=>{const o=(0,r.getOptNumber)(t,"EnableID");let i=0;2===o?(i=!0===e.states.Playback.Repeat?0:1,await(0,s.sendCommand)(n.ActionId.PlaybackRepeat,a.ReqType.Set,[i])):await(0,s.sendCommand)(n.ActionId.PlaybackRepeat,a.ReqType.Set,[o])}},[n.ActionId.PlaybackPause]:{name:"Playback:Set playback Pause",options:[{type:"dropdown",label:"Enable",id:"EnableID",choices:[{id:0,label:"stop"},{id:1,label:"start"},{id:2,label:"Toggle"}],default:2}],callback:async t=>{const o=(0,r.getOptNumber)(t,"EnableID");let i=0;2===o?(i=!0===e.states.Playback.Pause?0:1,await(0,s.sendCommand)(n.ActionId.PlaybackPause,a.ReqType.Set,[i])):await(0,s.sendCommand)(n.ActionId.PlaybackPause,a.ReqType.Set,[o])}},[n.ActionId.PlaybackBar]:{name:"Playback:Set playback Bar",options:[{type:"dropdown",label:"Enable",id:"EnableID",choices:i.SwitchChoices,default:2}],callback:async t=>{const o=(0,r.getOptNumber)(t,"EnableID");let i=0;2===o?(i=!0===e.states.Playback.Bar?0:1,await(0,s.sendCommand)(n.ActionId.PlaybackBar,a.ReqType.Set,[i])):await(0,s.sendCommand)(n.ActionId.PlaybackBar,a.ReqType.Set,[o])}}}},t.handleData=function(e,t){switch(t.id){case n.ActionId.PlaybackMode:e.states.Playback.Mode=t.value[0];break;case n.ActionId.PlaybackRepeat:e.states.Playback.Repeat=1===t.value[0];break;case n.ActionId.PlaybackPause:e.states.Playback.Pause=1===t.value[0];break;case n.ActionId.PlaybackBar:e.states.Playback.Bar=1===t.value[0];break;case n.ActionId.PlayFile:e.states.Playback.File=e.states.Playback.FileList.indexOf(t.value[0]);break;case n.ActionId.PlaybackList:e.states.Playback.FileList=e.states.Playback.FileList.concat(t.value),e.init_actions(),e.init_feedbacks()}return!1};const n=o(7637),r=o(3472),i=o(7643),a=o(4796),s=o(7956)},9172:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PlaybackMode="playbackMode",e.PlaybackRepeat="playbackRepeat",e.PlaybackPause="playbackPause",e.PlaybackBar="playbackBar",e.PlayFile="playFile"}(o||(t.FeedbackId=o={}))},3376:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.FeedbackId.PlaybackMode]:{type:"boolean",name:"Playback: Set Playback Mode",description:"If you turn on Playback Mode, change style of the bank",options:[{type:"dropdown",label:"Mode",id:"ModeID",choices:[{id:0,label:"play in one group"},{id:1,label:"play cross groups"}],default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>t.options.ModeID===e.states.Playback.Mode},[n.FeedbackId.PlaybackRepeat]:{type:"boolean",name:"Playback: Set Playback Repeat",description:"If you turn on Playback Repeat, change style of the bank",options:[],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:()=>e.states.Playback.Repeat},[n.FeedbackId.PlaybackPause]:{type:"boolean",name:"Playback: Set Playback Pause",description:"If you turn on Playback Pause, change style of the bank",options:[],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:()=>e.states.Playback.Pause},[n.FeedbackId.PlaybackBar]:{type:"boolean",name:"Playback: Set Playback Bar",description:"If you turn on Playback Bar, change style of the bank",options:[],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:()=>e.states.Playback.Bar},[n.FeedbackId.PlayFile]:{type:"boolean",name:"PlayFile: feedback based on current loaded video file",description:"Change style of bank if video file is loaded",options:[{type:"dropdown",label:"Video file",id:"PlayFileID",choices:e.states.Playback.FileList.map(((e,t)=>({id:t,label:e}))),default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>t.options.PlayFileID===e.states.Playback.PlayFile}}};const n=o(9172),r=o(6278)},208:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackVariables=t.PlaybackPresets=t.PlaybackFeedbacks=t.PlaybackState=t.PlaybackActions=void 0,t.PlaybackActions=i(o(6107)),t.PlaybackState=i(o(5473)),t.PlaybackFeedbacks=i(o(3376)),t.PlaybackPresets=i(o(4004)),t.PlaybackVariables=i(o(1669))},4004:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};return e.PlayMode_0={type:"button",category:"Playback",name:"Set Playback mode",style:{text:"play in one group",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.PlaybackMode,options:{ModeID:0}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.PlaybackMode,options:{ModeID:0},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},e.PlayMode_1={type:"button",category:"Playback",name:"Set Playback mode",style:{text:"play cross group",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.PlaybackMode,options:{ModeID:1}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.PlaybackMode,options:{ModeID:1},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},e.PlayMode_Repeat_1={type:"button",category:"Playback",name:"Set Playback Repeat",style:{text:"Repeat",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.PlaybackRepeat,options:{EnableID:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.PlaybackRepeat,options:{},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},e.PlayMode_Pause_1={type:"button",category:"Playback",name:"Set Playback Pause",style:{text:"Pause",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.PlaybackPause,options:{EnableID:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.PlaybackPause,options:{},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},e.PlayMode_Bar_1={type:"button",category:"Playback",name:"Set Playback Bar",style:{text:"Bar",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.PlaybackBar,options:{EnableID:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.PlaybackBar,options:{},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},e.PlayModeRepeatPause_0={type:"button",category:"Playback",name:"Set Playback Info",style:{text:"$(gostreamdeck:PlayState)",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.PlayModeRepeatPause,options:{ModeID:0,repeatId:1,pauseId:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.PlaybackPause,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}]},e};const n=o(6278),r=o(7637),i=o(9172),a="18"},5473:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Playback:{Mode:0,Repeat:!1,Pause:!1,Bar:!1,File:0,FileList:[]}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.PlaybackMode,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.PlaybackRepeat,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.PlaybackPause,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.PlaybackBar,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.PlaybackList,i.ReqType.Get)};const n=o(7637),r=o(7956),i=o(4796)},4111:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.PlayState="PlayState",e.PlayFile="PlayFile"}(o||(t.VariableId=o={}))},1669:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Play State of PlayBack",variableId:n.VariableId.PlayState},{name:"Loaded video file",variableId:n.VariableId.PlayFile}]},t.getValues=function(e){const t={};return t[n.VariableId.PlayState]=e.states.Playback.Pause?"Play":"Pause",t[n.VariableId.PlayFile]=e.states.Playback.FileList[e.states.Playback.File],t};const n=o(4111)},9333:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.Record="record",e.RecordStatus="recordStatus",e.RecordTime="recordTime"}(o||(t.ActionId=o={}))},283:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.Record]:{name:"Record:Set Start or Stop Record",options:[{type:"dropdown",label:"Record",id:"Record",choices:[{id:"0",label:"Stop"},{id:"1",label:"Start"},{id:"2",label:"Toggle"}],default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"Record");let s=0;2===o?(s=!0===e.states.RecordState?0:1,await(0,a.sendCommand)(n.ActionId.Record,i.ReqType.Set,[s])):await(0,a.sendCommand)(n.ActionId.Record,i.ReqType.Set,[o])}}}},t.handleData=function(e,t){switch(t.id){case n.ActionId.Record:return e.states.Record.State=1===t.value[0],!0;case n.ActionId.RecordTime:return e.states.Record.RecordTime=t.value[0].toString(),!0}return!1};const n=o(9333),r=o(3472),i=o(4796),a=o(7956)},4484:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Record="record"}(o||(t.FeedbackId=o={}))},9008:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.Record]:{type:"boolean",name:"Record: Set Record Start or Stop",description:"If you turn on Record Start, change style of the bank",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>e.states.RecordState}}};const n=o(6278),r=o(4484)},4160:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RecordVariables=t.RecordFeedbacks=t.RecordPresets=t.RecordState=t.RecordActions=void 0,t.RecordActions=i(o(283)),t.RecordState=i(o(7345)),t.RecordPresets=i(o(8564)),t.RecordFeedbacks=i(o(9008)),t.RecordVariables=i(o(677))},8564:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Record_0:{type:"button",category:"Record",name:"Record",style:{text:"Record\\n$(gostreamdeck:record_duration_hm)",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.Record,options:{Record:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.Record,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}]}}};const n=o(6278),r=o(9333),i=o(4484),a="18"},7345:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Record:{State:0,RecordTime:""}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.Record,i.ReqType.Get)};const n=o(9333),r=o(7956),i=o(4796)},4623:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.RecordDuration="record_duration_hm"}(o||(t.VariableId=o={}))},677:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Recording duration (hh:mm)",variableId:n.VariableId.RecordDuration}]},t.getValues=function(e){const t={};return t[n.VariableId.RecordDuration]=e.states.Record.RecordTime,t};const n=o(4623)},4073:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.SrcName="srcName",e.MvMeter="mvMeter",e.MvLayout="mvLayout",e.InputWindowLayout="inputWindowLayout",e.Marker="marker",e.MicInput="micInput",e.RecordFileName="recordFileName",e.SrcSelection="srcSelection",e.AuxSource="auxSource",e.OutFormat="outFormat",e.OutputColorSpace="outputColorSpace",e.OutSource="outSource",e.NetworkProtocol="networkProtocol",e.NetworkIpAddress="networkIpAddress",e.NetworkSubnetMask="networkSubnetMask",e.NetworkGateway="networkGateway",e.NetworkPrimaryDNS="networkPrimaryDNS",e.NetworkSecondaryDNS="networkSecondaryDNS",e.Quality="quality",e.Panel="panel",e.SdFormat="sdFormat",e.SystemReset="systemReset",e.SdCardStatus="sdCardStatus",e.SdFree="sdFree",e.LiveStatus="liveStatus",e.LiveInfo="liveInfo"}(o||(t.ActionId=o={}))},5151:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.SrcName]:{name:"Settings:Set SrcName",options:[{type:"dropdown",label:"Src",id:"SrcID",choices:c.SettingsUMDSrcChoices,default:0},{type:"textinput",label:"Src Name",id:"SrcName",required:!0,default:""}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SrcName,a.ReqType.Set,[(0,r.getOptNumber)(e,"SrcID"),(0,r.getOptString)(e,"SrcName")])}},[n.ActionId.MvMeter]:{name:"Settings:Set Mv Meter",options:[{type:"dropdown",label:"Src",id:"SrcID",choices:c.SettingsMvMeterChoices,default:0},{type:"dropdown",label:"Mv Meter Enable",id:"MvMeterEnable",choices:c.SwitchChoices,default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"SrcID");let i=(0,r.getOptNumber)(t,"MvMeterEnable");2===i&&(i=1===e.states.SettingsProp.MvMeter[o]?0:1),await(0,s.sendCommand)(n.ActionId.MvMeter,a.ReqType.Set,[o,i])}},[n.ActionId.MvLayout]:{name:"Settings:Set Mv Layout",options:[{type:"dropdown",label:"Layout",id:"MvLayout",choices:c.SettingsMvLayoutChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.MvLayout,a.ReqType.Set,[(0,r.getOptNumber)(e,"MvLayout")])}},[n.ActionId.InputWindowLayout]:{name:" Settings:Set Input Window Mv Layout",options:[{type:"dropdown",label:"style",id:"StyleId",choices:c.SettingsInputWindowLayoutChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.InputWindowLayout,a.ReqType.Set,[(0,r.getOptNumber)(e,"StyleId")])}},[n.ActionId.Marker]:{name:"Settings:Set Marker",options:[{type:"dropdown",label:"marker",id:"Marker",choices:c.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.Marker,a.ReqType.Set,[(0,r.getOptNumber)(e,"Marker")])}},[n.ActionId.MicInput]:{name:"Settings:Mic Input",options:[{type:"dropdown",label:"mic",id:"micid",choices:c.AudioMicChoices,default:0},{type:"dropdown",label:"Mic Input",id:"MicInput",choices:c.SettingsMicInputChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.MicInput,a.ReqType.Set,[(0,r.getOptNumber)(e,"micid"),(0,r.getOptNumber)(e,"MicInput")])}},[n.ActionId.RecordFileName]:{name:"Settings:Record FileName",options:[{type:"textinput",label:"FileName",id:"RecordFileName",required:!0,default:""}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.RecordFileName,a.ReqType.Set,[(0,r.getOptString)(e,"RecordFileName")])}},[n.ActionId.SrcSelection]:{name:"Settings:Src Selection",options:[{type:"dropdown",label:"Src",id:"Srcid",choices:(0,i.SourcesToChoices)(c.SourceModels),default:0},{type:"dropdown",label:"Selection",id:"SrcSelection",choices:c.SettingsColorChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SrcSelection,a.ReqType.Set,[(0,r.getOptNumber)(e,"Srcid"),(0,r.getOptNumber)(e,"SrcSelection")])}},[n.ActionId.AuxSource]:{name:"Settings:Aux Source",options:[{type:"dropdown",label:"Aux Source",id:"auxSourceID",choices:c.SettingsAuxSourceChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.AuxSource,a.ReqType.Set,[(0,r.getOptNumber)(e,"auxSourceID")])}},[n.ActionId.OutFormat]:{name:"Settings:OutFormat",options:[{type:"dropdown",label:"OutFormat",id:"OutFormat",choices:c.SettingsOutFormatChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.OutFormat,a.ReqType.Set,[(0,r.getOptNumber)(e,"OutFormat")])}},[n.ActionId.OutputColorSpace]:{name:"Settings:Output ColorSpace",options:[{type:"dropdown",label:"Out",id:"OutId",choices:[{id:"0",label:"out1"},{id:"1",label:"out2"}],default:0},{type:"dropdown",label:"ColorSpace",id:"OutputColorSpace",choices:c.SettingsColorChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.OutputColorSpace,a.ReqType.Set,[(0,r.getOptNumber)(e,"OutId"),(0,r.getOptNumber)(e,"OutputColorSpace")])}},[n.ActionId.OutSource]:{name:"Settings:Out Source",options:[{type:"dropdown",label:"Out",id:"OutId",choices:c.SettingsOutSourceParamChoices,default:0},{type:"dropdown",label:"OutSource",id:"OutSource",choices:(0,i.getChoices)(a.ActionType.SettingsoutSource),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.OutSource,a.ReqType.Set,[(0,r.getOptNumber)(e,"OutId"),(0,r.getOptNumber)(e,"OutSource")])}},[n.ActionId.Quality]:{name:"Settings:Quality",options:[{type:"dropdown",label:"Type",id:"TypeID",choices:[{id:"0",label:"recording"},{id:"1",label:"streaming"}],default:0},{type:"dropdown",label:"Quality",id:"Quality",choices:[{id:"0",label:"high"},{id:"1",label:"medium"},{id:"2",label:"low"}],default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.Quality,a.ReqType.Set,[(0,r.getOptNumber)(e,"TypeID"),(0,r.getOptNumber)(e,"Quality")])}}}},t.handleData=function(e,t){switch(t.id){case n.ActionId.AuxSource:return t.value&&(e.states.SettingsProp.AuxSource=t.value[0]),!0;case n.ActionId.InputWindowLayout:return t.value&&(e.states.SettingsProp.SettingsInputWindowLayout=t.value[0]),!0;case n.ActionId.MvMeter:return t.value&&(e.states.SettingsProp.MvMeter[t.value[0]]=t.value[1]),!0;case n.ActionId.OutSource:{const o=t.value&&t.value[0],n=t.value&&t.value[1],r=(0,i.getChoices)(a.ActionType.SettingsoutSource).find((e=>e.id===n));return 0===o?void 0!==r&&(e.states.SettingsProp.OutSource.hdmi1=r):1===o?void 0!==r&&(e.states.SettingsProp.OutSource.hdmi2=r):2===o&&void 0!==r&&(e.states.SettingsProp.OutSource.uvc=r),!0}case n.ActionId.OutputColorSpace:return t.value&&(e.states.SettingsProp.OutputColorSpace[t.value[0]]=t.value[1]),!0;case n.ActionId.OutFormat:return e.states.SettingsProp.OutputFormat=t.value&&t.value[0],!0;case n.ActionId.MicInput:return t.value&&(e.states.SettingsProp.MicInput[t.value[0]]=t.value[1]),!0;case n.ActionId.MvLayout:return e.states.SettingsProp.MvLayout=t.value&&t.value[0],!0;case n.ActionId.SrcSelection:return t.value&&(e.states.SettingsProp.SourceSelection[t.value[0]]=t.value[1]),!0}return!1};const n=o(4073),r=o(3472),i=o(878),a=o(4796),s=o(7956),c=o(7643)},2304:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.InputWindowLayout="inputWindowLayout",e.SrcSelection="srcSelection",e.OutputColorSpace="outputColorSpace",e.OutputFormat="outFormat",e.MicInput="micInput",e.MvLayout="mvLayout",e.SettingOutSource="settingOutSource",e.AuxBG="auxBG"}(o||(t.FeedbackId=o={}))},4108:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.FeedbackId.InputWindowLayout]:{type:"boolean",name:"Settings:Input Window Mv Layout",description:"Update style based on input window mv layout style",options:[{type:"dropdown",label:"Type:",id:"StyleID",choices:i.SettingsInputWindowLayoutChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.states.Settings.inputWindowLayout===t.options.StyleID,learn:()=>({StyleID:e.states.Settings.InputWindowLayout})},[n.FeedbackId.SettingOutSource]:{type:"boolean",name:"Setting: Set Out Source",description:"If the input specified is selected in the OutSource specified, change style of the bank",options:[{type:"dropdown",label:"Out",id:"OutId",choices:i.SettingsOutSourceParamChoices,default:0},{type:"dropdown",label:"OutSource",id:"OutSource",choices:(0,a.getChoices)(s.ActionType.SettingsoutSource),default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:e=>e.options.OutId===e.options.OutSource,learn:e=>{const t=e.options.OutId;return 0===t?{...e.options,OutSource:0}:1===t?{...e.options,OutSource:1}:{...e.options,OutSource:2}}},[n.FeedbackId.OutputColorSpace]:{type:"boolean",name:"Setting: Output color space",description:"If the colorspace of specified output is the selected, change style of the bank",options:[{type:"dropdown",label:"Output",id:"OutputId",choices:[{id:"0",label:"out1"},{id:"1",label:"out2"}],default:0},{type:"dropdown",label:"ColorSpace",id:"OutputColorSpaceId",choices:i.SettingsColorChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.states.Settings.OutputColorSpace[Number(t.options.OutputId)]===t.options.OutputColorSpaceId,learn:t=>({...t.options,OutputColorSpaceId:e.states.Settings.OutputColorSpace[Number(t.options.OutputId)]})},[n.FeedbackId.OutputFormat]:{type:"boolean",name:"Setting: Out format",description:"If the out format is matching, change style of the bank",options:[{type:"dropdown",label:"Format",id:"OutputFormatId",choices:i.SettingsOutFormatChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.states.Settings.OutputFormat===t.options.OutputFormatId,learn:()=>({OutputFormatId:e.states.Settings.OutputFormat})},[n.FeedbackId.MvLayout]:{type:"boolean",name:"Setting: Mv layout",description:"If the mv layout is matching, change style of the bank",options:[{type:"dropdown",label:"Layout",id:"MvLayoutId",choices:i.SettingsMvLayoutChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.states.Settings.MvLayout===t.options.MvLayoutId,learn:()=>({MvLayoutId:e.states.Settings.MvLayoutId})},[n.FeedbackId.SrcSelection]:{type:"boolean",name:"Setting: Src selection",description:"If the source selection format is matching, change style of the bank",options:[{type:"dropdown",label:"Src",id:"srcId",choices:(0,a.SourcesToChoices)(i.SourceModels),default:0},{type:"dropdown",label:"Selection",id:"srcSelectionId",choices:i.SettingsColorChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.states.Settings.SourceSelection[Number(t.options.srcId)]===t.options.srcSelectionId,learn:t=>({...t.options,srcSelectionId:e.states.Settings.SourceSelection})},[n.FeedbackId.MicInput]:{type:"boolean",name:"Setting: Mic input",description:"If the mic input for selected mic is matching, change style of the bank",options:[{type:"dropdown",label:"mic",id:"micId",choices:i.AudioMicChoices,default:0},{type:"dropdown",label:"Mic Input",id:"micInputId",choices:i.SettingsMicInputChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(0,255,0)},callback:t=>e.states.Settings.MicInput[Number(t.options.micId)]===t.options.micInputId,learn:t=>({...t.options,micInputId:e.states.Settings.MicInput[Number(t.options.micId)]})},[n.FeedbackId.AuxBG]:{type:"boolean",name:"Aux: Source",description:"If the input specified is selected in the aux bus specified, change style of the bank",options:[{type:"dropdown",label:"Aux Source",id:"auxSourceID",choices:i.SettingsAuxSourceChoices,default:0}],defaultStyle:{color:(0,r.combineRgb)(0,0,0),bgcolor:(0,r.combineRgb)(255,255,0)},callback:t=>e.states.Settings.AuxSource===Number(t.options.auxSourceID),learn:t=>{const o=e.states.Settings.AuxSource;return void 0!==o?{...t.options,auxSourceID:o}:void 0}}}};const n=o(2304),r=o(6278),i=o(7643),a=o(878),s=o(4796)},7268:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsFeedbacks=t.SettingsState=t.SettingsActions=void 0,t.SettingsActions=i(o(5151)),t.SettingsState=i(o(6597)),t.SettingsFeedbacks=i(o(4108))},6597:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Settings:{auxSource:0,inputWindowLayout:0,mvMeter:[0,0,0,0,0,0],outSource:[0,0,0],outputColorSpace:[0,0],outputFormat:0,micInput:[0,0],mvLayout:0,sourceSelection:[0,0,0,0]}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.AuxSource,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.OutSource,i.ReqType.Get,[0]),await(0,r.sendCommand)(n.ActionId.OutSource,i.ReqType.Get,[1]),await(0,r.sendCommand)(n.ActionId.OutSource,i.ReqType.Get,[2]),await(0,r.sendCommand)(n.ActionId.InputWindowLayout,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.MvMeter,i.ReqType.Get,[0]),await(0,r.sendCommand)(n.ActionId.MvMeter,i.ReqType.Get,[1]),await(0,r.sendCommand)(n.ActionId.MvMeter,i.ReqType.Get,[2]),await(0,r.sendCommand)(n.ActionId.MvMeter,i.ReqType.Get,[3]),await(0,r.sendCommand)(n.ActionId.MvMeter,i.ReqType.Get,[4]),await(0,r.sendCommand)(n.ActionId.MvMeter,i.ReqType.Get,[5]),await(0,r.sendCommand)(n.ActionId.OutputColorSpace,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.OutFormat,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.MvLayout,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.MicInput,i.ReqType.Get,[0]),await(0,r.sendCommand)(n.ActionId.MicInput,i.ReqType.Get,[1])};const n=o(4073),r=o(7956),i=o(4796)},7303:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.StillSelection="stillSelection",e.StillRemove="stillRemove",e.StillLoadIndex="stillLoadIndex",e.StillLoadImage="stillLoadImage"}(o||(t.ActionId=o={}))},3277:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.StillSelection]:{name:"Still:Select pic index",options:[{type:"dropdown",label:"Still",id:"Stillindex",choices:[{id:0,label:"Still1"},{id:1,label:"Still2"}],default:0},{type:"dropdown",label:"Pic index (0-31)",id:"PicIndex",choices:(0,i.getChoicesByStill)(),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.StillSelection,a.ReqType.Set,[(0,r.getOptNumber)(e,"Stillindex"),(0,r.getOptNumber)(e,"PicIndex")])}}}},t.handleData=function(e,t){if(t.id===n.ActionId.StillSelection){const o=t.value&&t.value[0],n=t.value&&t.value[1];return 0===o?e.states.StillGenerator.Still1=n:e.states.StillGenerator.Still2=n,!0}return!1};const n=o(7303),r=o(3472),i=o(878),a=o(4796),s=o(7956)},3314:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Still="still"}(o||(t.FeedbackId=o={}))},2998:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[i.FeedbackId.Still]:{type:"boolean",name:"Still: Select pic index",description:"",options:[{type:"dropdown",label:"Still",id:"StillIndex",choices:[{id:0,label:"Still1"},{id:1,label:"Still2"}],default:0},{type:"dropdown",label:"Pic index (0-32)",id:"PicIndex",default:0,choices:(0,r.getChoicesByStill)()}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=Number(t.options.StillIndex),n=Number(t.options.PicIndex);return 0===o?e.states.StillProp.Still1===n:e.states.StillProp.Still2===n}}}};const n=o(6278),r=o(878),i=o(3314)},9102:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StillGeneratorPresets=t.StillGeneratorState=t.StillGeneratorFeedbacks=t.StillGeneratorActions=void 0,t.StillGeneratorActions=i(o(3277)),t.StillGeneratorFeedbacks=i(o(2998)),t.StillGeneratorState=i(o(6711)),t.StillGeneratorPresets=i(o(3682))},3682:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};for(let t=0;t<31;t++)e[`Still_Selection_${t}`]={category:"Still",name:"Still: Slect pic index",type:"button",style:{text:`Still${t+1}`,size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.Still,options:{Stillindex:0,PicIndex:t},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.StillSelection,options:{Stillindex:0,PicIndex:t}}],up:[]}]};return e};const n=o(6278),r=o(7303),i=o(3314),a="18"},6711:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{StillGenerator:{Still1:"",Still2:""}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.StillSelection,i.ReqType.Get,[0]),await(0,r.sendCommand)(n.ActionId.StillSelection,i.ReqType.Get,[1])};const n=o(7303),r=o(7956),i=o(4796)},380:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.StreamOutput="streamOutput",e.StreamPlatform="streamPlatform",e.StreamServer="streamServer",e.StreamUrl="streamUrl"}(o||(t.ActionId=o={}))},4680:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.StreamOutput]:{name:"Streaming:Set Output",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:i.StreamingChoices,default:0},{type:"dropdown",label:"Enable",id:"EnableId",choices:i.SwitchChoices,default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"StreamID"),i=(0,r.getOptNumber)(t,"EnableId");let c=0;2===i?(0===o?c=!0===e.states.StreamingProp.stream1?0:1:1===o?c=!0===e.states.StreamingProp.stream2?0:1:2===o&&(c=!0===e.states.StreamingProp.stream3?0:1),await(0,s.sendCommand)(n.ActionId.StreamOutput,a.ReqType.Set,[o,c])):await(0,s.sendCommand)(n.ActionId.StreamOutput,a.ReqType.Set,[o,i])}},[n.ActionId.StreamUrl]:{name:"Streaming:Set Stream Url",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:i.StreamingChoices,default:0},{type:"textinput",label:"Url",id:"StreamUrl",default:"",required:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.StreamOutput,a.ReqType.Set,[(0,r.getOptNumber)(e,"StreamID"),(0,r.getOptString)(e,"StreamUrl")])}}}},t.handleData=function(e,t){if(t.id===n.ActionId.StreamOutput){const o=t.value&&t.value[0];return 0===o?e.states.Streaming.stream1=!(!t.value||1!==t.value[1]):1===o?e.states.Streaming.stream2=!(!t.value||1!==t.value[1]):2===o&&(e.states.Streaming.stream3=!(!t.value||1!==t.value[1])),!0}return!1};const n=o(380),r=o(3472),i=o(7643),a=o(4796),s=o(7956)},1085:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.StreamOutput="streamOutput"}(o||(t.FeedbackId=o={}))},8963:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[r.FeedbackId.StreamOutput]:{type:"boolean",name:"Streamming: Set Stream Enable",description:"If you turn on Stream Enable, change style of the bank",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:i.StreamingChoices,default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>0===t.options.StreamID?e.states.StreamingProp.stream1:1===t.options.StreamID?e.states.StreamingProp.stream2:2===t.options.StreamID&&e.states.StreamingProp.stream3}}};const n=o(6278),r=o(1085),i=o(7643)},8427:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingFeedbacks=t.StreamingPresets=t.StreamingState=t.StreamingActions=void 0,t.StreamingActions=i(o(4680)),t.StreamingState=i(o(2462)),t.StreamingPresets=i(o(3315)),t.StreamingFeedbacks=i(o(8963))},3315:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};for(const t of a.StreamingChoices)e[`StreamingSwitch_${t.id}`]={type:"button",category:"Streaming",name:"Push Streaming",style:{text:`${t.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:r.ActionId.StreamOutput,options:{StreamID:t.id,EnableId:2}}],up:[]}],feedbacks:[{feedbackId:i.FeedbackId.StreamOutput,options:{StreamID:t.id},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]};return e};const n=o(6278),r=o(380),i=o(1085),a=o(7643),s="18"},2462:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{Streaming:{stream1:!1,stream2:!1,stream3:!1}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.StreamOutput,i.ReqType.Get,[0]),await(0,r.sendCommand)(n.ActionId.StreamOutput,i.ReqType.Get,[1]),await(0,r.sendCommand)(n.ActionId.StreamOutput,i.ReqType.Get,[2])};const n=o(380),r=o(7956),i=o(4796)},4218:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.SuperSourceEnable="superSourceEnable",e.SuperSourceSource1="superSourceSource1",e.SuperSourceSource2="superSourceSource2",e.SuperSourceBackground="superSourceBackground",e.SuperSourceControlStyle="superSourceControlStyle",e.SuperSourceControlYPosition="superSourceControlYPosition",e.SuperSourceMaskEnable="superSourceMaskEnable",e.SuperSourceMaskHStart="superSourceMaskHStart",e.SuperSourceMaskVStart="superSourceMaskVStart",e.SuperSourceMaskHEnd="superSourceMaskHEnd",e.SuperSourceMaskVEnd="superSourceMaskVEnd",e.SuperSourceBorderWidth="superSourceBorderWidth",e.SuperSourceBorderHue="superSourceBorderHue",e.SuperSourceBorderSaturation="superSourceBorderSaturation",e.SuperSourceBorderBrightness="superSourceBorderBrightness"}(o||(t.ActionId=o={}))},9182:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.SuperSourceEnable]:{name:"Super Source:Super Source Enable",options:[{type:"dropdown",label:"Enable:",id:"SuperSourceEnable",choices:a.SwitchChoices,default:0}],callback:async t=>{const o=(0,r.getOptNumber)(t,"SuperSourceEnable");let i=0;2===o?(i=!0===e.states.SuperSourcePorp.SSEnable?0:1,await(0,c.sendCommand)(n.ActionId.SuperSourceEnable,s.ReqType.Set,[i])):await(0,c.sendCommand)(n.ActionId.SuperSourceEnable,s.ReqType.Set,[o])}},[n.ActionId.SuperSourceSource1]:{name:"Super Source:Super Source Source1",options:[{type:"dropdown",label:"SuperSource Source1:",id:"SuperSourceSource1",choices:(0,i.getChoices)(s.ActionType.SuperSourceSource),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceSource1,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceSource1")])}},[n.ActionId.SuperSourceSource2]:{name:"Super Source:Super Source Source2",options:[{type:"dropdown",label:"SuperSource Source2:",id:"SuperSourceSource2",choices:(0,i.getChoices)(s.ActionType.SuperSourceSource),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceSource2,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceSource2")])}},[n.ActionId.SuperSourceBackground]:{name:"Super Source:Super Source Background",options:[{type:"dropdown",label:"SuperSource Background:",id:"SuperSourceBackground",choices:(0,i.getChoices)(s.ActionType.SuperSourceSource),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceBackground,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceBackground")])}},[n.ActionId.SuperSourceControlStyle]:{name:"Super Source:Super Source Style",options:[{type:"dropdown",label:"SuperSource Style:",id:"SuperSourceStyle",choices:a.SuperSourceStyleChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceControlStyle,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceStyle")])}},[n.ActionId.SuperSourceControlYPosition]:{name:"Super Source:Super Source Y Position",options:[{type:"number",label:"Y Position:",id:"SuperSourceYPosition",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceControlYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceYPosition")])}},[n.ActionId.SuperSourceMaskEnable]:{name:"Super Source:Super Source Mask Enable",options:[{type:"dropdown",label:"Mask",id:"SuperSourceMask",choices:a.SuperSourceMaskChoices,default:0},{type:"dropdown",label:"Mask Enable",id:"SuperSourceMaskEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceMaskEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceMask"),(0,r.getOptNumber)(e,"SuperSourceMaskEnable")])}},[n.ActionId.SuperSourceMaskHStart]:{name:"Super Source:Super Source H Start",options:[{type:"dropdown",label:"Mask",id:"SuperSourceMask",choices:a.SuperSourceMaskChoices,default:0},{type:"number",label:"H Start",id:"SuperSourceMaskHStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceMaskHStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceMask"),(0,r.getOptNumber)(e,"SuperSourceMaskHStart")])}},[n.ActionId.SuperSourceMaskVStart]:{name:"Super Source:Super Source V Start",options:[{type:"dropdown",label:"Mask",id:"SuperSourceMask",choices:a.SuperSourceMaskChoices,default:0},{type:"number",label:"V Start",id:"SuperSourceMaskVStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceMaskVStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceMask"),(0,r.getOptNumber)(e,"SuperSourceMaskVStart")])}},[n.ActionId.SuperSourceMaskHEnd]:{name:"Super Source:Super Source H End",options:[{type:"dropdown",label:"Mask",id:"SuperSourceMask",choices:a.SuperSourceMaskChoices,default:0},{type:"number",label:"H End",id:"SuperSourceMaskHEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceMaskHEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceMask"),(0,r.getOptNumber)(e,"SuperSourceMaskHEnd")])}},[n.ActionId.SuperSourceMaskVEnd]:{name:"Super Source:Super Source V End",options:[{type:"dropdown",label:"Mask",id:"SuperSourceMask",choices:a.SuperSourceMaskChoices,default:0},{type:"number",label:"V End",id:"SuperSourceMaskVEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceMaskVEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceMask"),(0,r.getOptNumber)(e,"SuperSourceMaskVEnd")])}},[n.ActionId.SuperSourceBorderWidth]:{name:"Super Source:Super Source Border Width",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:a.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Width",id:"SuperSourceBorderWidth",min:0,max:10,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceBorderWidth,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceBorder"),(0,r.getOptNumber)(e,"SuperSourceBorderWidth")])}},[n.ActionId.SuperSourceBorderHue]:{name:"Super Source:Super Source Border Hue",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:a.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Hue",id:"SuperSourceBorderHue",min:0,max:359,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceBorderHue,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceBorder"),(0,r.getOptNumber)(e,"SuperSourceBorderHue")])}},[n.ActionId.SuperSourceBorderSaturation]:{name:"Super Source:Super Source Border Saturation",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:a.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Saturation",id:"SuperSourceBorderSaturation",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceBorderSaturation,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceBorder"),(0,r.getOptNumber)(e,"SuperSourceBorderSaturation")])}},[n.ActionId.SuperSourceBorderBrightness]:{name:"Super Source:Super Source Border Brightness",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:a.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Brightness",id:"SuperSourceBrightness",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.SuperSourceBorderBrightness,s.ReqType.Set,[(0,r.getOptNumber)(e,"SuperSourceBorder"),(0,r.getOptNumber)(e,"SuperSourceBrightness")])}}}},t.handleData=function(e,t){switch(t.id){case n.ActionId.SuperSourceBackground:{const o=(0,i.getChoices)(s.ActionType.SuperSourceSource).find((e=>t.value&&e.id===t.value[0]));return void 0!==o&&(e.states.SuperSource.background=o),!0}case n.ActionId.SuperSourceBorderBrightness:case n.ActionId.SuperSourceBorderHue:case n.ActionId.SuperSourceBorderSaturation:case n.ActionId.SuperSourceBorderWidth:return!0;case n.ActionId.SuperSourceControlStyle:{const o=a.SuperSourceStyleChoices.find((e=>t.value&&e.id===t.value[0]));return void 0!==o&&(e.states.SuperSource.controlStyle=o),!0}case n.ActionId.SuperSourceControlYPosition:return!0;case n.ActionId.SuperSourceEnable:return e.states.SuperSource.enable=!(!t.value||1!=t.value[0]),!0;case n.ActionId.SuperSourceMaskEnable:{const o=t.value&&t.value[0],n=t.value&&t.value[1];return 0===o?e.states.SuperSource.maskEnable.mask1=1===n:e.states.SuperSource.maskEnable.mask2=1===n,!0}case n.ActionId.SuperSourceMaskHEnd:case n.ActionId.SuperSourceMaskHStart:case n.ActionId.SuperSourceMaskVEnd:case n.ActionId.SuperSourceMaskVStart:return!0;case n.ActionId.SuperSourceSource1:{const o=(0,i.getChoices)(s.ActionType.SuperSourceSource).find((e=>e.id===t.value&&t.value[0]));return void 0!==o&&(e.states.SuperSource.source1=o),!0}case n.ActionId.SuperSourceSource2:{const o=(0,i.getChoices)(s.ActionType.SuperSourceSource).find((e=>e.id===t.value&&t.value[0]));return void 0!==o&&(e.states.SuperSource.source2=o),!0}}return!1};const n=o(4218),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956)},9183:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.SuperSourceEnable="superSourceEnable",e.SuperSourceSelect="superSourceSelect",e.SuperSourceControlStyle="superSourceControlStyle",e.SuperSourceMask="superSourceMask"}(o||(t.FeedbackId=o={}))},229:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[a.FeedbackId.SuperSourceEnable]:{type:"boolean",name:"SuperSource: Set Super Source Enable",description:"If you turn on Super Source, change style of the bank",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>e.states.SuperSourcePorp.SSEnable},[a.FeedbackId.SuperSourceSelect]:{type:"boolean",name:"SuperSource: Set SuperSource Source",description:"If you Select SuperSource, change style of the bank",options:[{type:"dropdown",label:"type",id:"typeid",choices:[{id:0,label:"superSourceSource1"},{id:1,label:"superSourceSource2"},{id:2,label:"superSourceBackgroud"}],default:0},{type:"dropdown",label:"Source",id:"SourceID",choices:(0,i.getChoices)(r.ActionType.SuperSourceSource),default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=Number(t.options.typeid),n=Number(t.options.SourceID);return 0===o?e.states.SuperSourcePorp.SuperSourceSource1.id===n:1===o?e.states.SuperSourcePorp.SuperSourceSource2.id===n:2===o&&e.states.SuperSourcePorp.SuperSourceBackground.id===n}},[a.FeedbackId.SuperSourceControlStyle]:{type:"boolean",name:"SuperSource: Set SuperSource ControlStyle",description:"If you Select SuperSource, change style of the bank",options:[{type:"dropdown",label:"style",id:"styleid",choices:s.SuperSourceStyleChoices,default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>e.states.SuperSourcePorp.SuperSourceControlStyle.id===t.options.styleid},[a.FeedbackId.SuperSourceMask]:{type:"boolean",name:"SuperSource: Set SuperSource Mask",description:"If you Select SuperSource, change style of the bank",options:[{type:"dropdown",label:"Type",id:"typeid",choices:[{id:0,label:"mask1"},{id:1,label:"mask2"}],default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>0===Number(t.options.typeid)?e.states.SuperSourcePorp.SuperSourceMaskEnable.mask1:e.states.SuperSourcePorp.SuperSourceMaskEnable.mask2}}};const n=o(6278),r=o(4796),i=o(878),a=o(9183),s=o(7643)},141:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SuperSourcePresets=t.SuperSourceState=t.SuperSourceFeedbacks=t.SuperSourceActions=void 0,t.SuperSourceActions=i(o(9182)),t.SuperSourceFeedbacks=i(o(229)),t.SuperSourceState=i(o(2256)),t.SuperSourcePresets=i(o(3637))},3637:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};e.SuperSource_Enable={category:"SuperSource",name:"SuperSource Enable",type:"button",style:{text:"SSEnable",size:l,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.SuperSourceEnable,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.SuperSourceEnable,options:{SuperSourceEnable:2}}],up:[]}]};const t=(0,a.getChoices)(s.ActionType.SuperSourceSource);for(const o of t)e[`SuperSource_Source1_${o.id}`]={category:"SuperSource",name:`SuperSource Source1 ${o.label}`,type:"button",style:{text:`SS1_${o.label}`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.SuperSourceSelect,options:{typeid:0,SourceID:o.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.SuperSourceSource1,options:{SuperSourceSource1:o.id}}],up:[]}]};for(const o of t)e[`SuperSource_Source2_${o.id}`]={category:"SuperSource",name:`SuperSource Source2 ${o.label}`,type:"button",style:{text:`SS2_${o.label}`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.SuperSourceSelect,options:{typeid:1,SourceID:o.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.SuperSourceSource2,options:{SuperSourceSource2:o.id}}],up:[]}]};for(const o of t)e[`SuperSource_bg_${o.id}`]={category:"SuperSource",name:`SuperSource Background ${o.label}`,type:"button",style:{text:`SSBG_${o.label}`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.SuperSourceSelect,options:{typeid:2,SourceID:o.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.SuperSourceBackground,options:{SuperSourceBackground:o.id}}],up:[]}]};const o=c.SuperSourceStyleChoices;for(const t of o)e[`SuperSource_style_${t.id}`]={category:"SuperSource",name:`SuperSource style ${t.label}`,type:"button",style:{text:`SS_${t.label}`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:i.FeedbackId.SuperSourceControlStyle,options:{styleid:t.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:r.ActionId.SuperSourceControlStyle,options:{SuperSourceStyle:t.id}}],up:[]}]};return e};const n=o(6278),r=o(4218),i=o(9183),a=o(878),s=o(4796),c=o(7643),l="18"},2256:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{SuperSource:{enable:!1,source1:0,source2:0,background:0,controlStyle:0,maskEnable:{mask1:!1,mask2:!1}}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.SuperSourceEnable,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceSource1,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceSource2,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceBackground,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceControlStyle,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceMaskEnable,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceBorderBrightness,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceBorderHue,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceBorderSaturation,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceBorderWidth,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceControlYPosition,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceMaskHEnd,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceMaskHStart,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceMaskVEnd,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.SuperSourceMaskVStart,i.ReqType.Get)};const n=o(4218),r=o(7956),i=o(4796)},6173:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.KeyOnAir="keyOnAir",e.TransitionSource="transitionSource",e.USKOnPreview="uskOnPreview",e.UpStreamKeyFillKeyType="upStreamKeyFillKeyType",e.UpStreamKeyType="upStreamKeyType",e.LumaKeySourceFill="lumaKeySourceFill",e.LumaKeySourceKey="lumaKeySourceKey",e.LumaKeyMaskEnable="lumaKeyMaskEnable",e.LumaKeyMaskHStart="lumaKeyMaskHStart",e.LumaKeyMaskVStart="lumaKeyMaskVStart",e.LumaKeyMaskHEnd="lumaKeyMaskHEnd",e.LumaKeyMaskVEnd="lumaKeyMaskVEnd",e.LumaKeyControlShapedKey="lumaKeyControlShapedKey",e.LumaKeyControlClip="lumaKeyControlClip",e.LumaKeyControlGain="lumaKeyControlGain",e.LumaKeyControlInvert="lumaKeyControlInvert",e.LumaKeyResizeEnable="lumaKeyResizeEnable",e.LumaKeyResizeSize="lumaKeyResizeSize",e.LumaKeyResizeXPosition="lumaKeyResizeXPosition",e.LumaKeyResizeYPosition="lumaKeyResizeYPosition",e.ChromaKeyFill="chromaKeyFill",e.ChromaKeyMaskEnable="chromaKeyMaskEnable",e.ChromaKeyMaskHStart="chromaKeyMaskHStart",e.ChromaKeyMaskVStart="chromaKeyMaskVStart",e.ChromaKeyMaskHEnd="chromaKeyMaskHEnd",e.ChromaKeyMaskVEnd="chromaKeyMaskVEnd",e.ChromaKeyResizeEnable="chromaKeyResizeEnable",e.ChromaKeyResizeSize="chromaKeyResizeSize",e.ChromaKeyResizeXPosition="chromaKeyResizeXPosition",e.ChromaKeyResizeYPosition="chromaKeyResizeYPosition",e.ChromaKeyControlSMPXPosition="chromaKeyControlSMPXPosition",e.ChromaKeyControlSMPYPosition="chromaKeyControlSMPYPosition",e.ChromaKeyControlSample="chromaKeyControlSample",e.ChromaKeyControlColor="chromaKeyControlColor",e.ChromaKeyControlForeground="chromaKeyControlForeground",e.ChromaKeyControlBackground="chromaKeyControlBackground",e.ChromaKeyControlKeyEdge="chromaKeyControlKeyEdge",e.KeyPatternSourceFill="keyPatternSourceFill",e.KeyPatternWipePattern="keyPatternWipePattern",e.KeyPatternWipeSize="keyPatternWipeSize",e.KeyPatternWipeXPosition="keyPatternWipeXPosition",e.KeyPatternWipeYPosition="keyPatternWipeYPosition",e.KeyPatternWipeSymmetry="keyPatternWipeSymmetry",e.KeyPatternWipeSoftness="keyPatternWipeSoftness",e.KeyPatternMaskEnable="keyPatternMaskEnable",e.KeyPatternMaskHStart="keyPatternMaskHStart",e.KeyPatternMaskVStart="keyPatternMaskVStart",e.KeyPatternMaskHEnd="keyPatternMaskHEnd",e.KeyPatternMaskVEnd="keyPatternMaskVEnd",e.KeyPatternResizeEnable="keyPatternResizeEnable",e.KeyPatternResizeSize="keyPatternResizeSize",e.KeyPatternResizeXPosition="keyPatternResizeXPosition",e.KeyPatternResizeYPosition="keyPatternResizeYPosition",e.PipSource="pipSource",e.PipSize="pipSize",e.PipXPosition="pipXPosition",e.PipYPosition="pipYPosition",e.PipMaskEnable="pipMaskEnable",e.PipMaskHStart="pipMaskHStart",e.PipMaskVStart="pipMaskVStart",e.PipMaskHEnd="pipMaskHEnd",e.PipMaskVEnd="pipMaskVEnd",e.PipBorderEnable="pipBorderEnable",e.PipBorderWidth="pipBorderWidth",e.PipBorderHue="pipBorderHue",e.PipBorderSaturation="pipBorderSaturation",e.PipBorderBrightness="pipBorderBrightness"}(o||(t.ActionId=o={}))},1539:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[n.ActionId.KeyOnAir]:{name:"Next Transition:Set KeyOnAir",options:[{type:"dropdown",label:"Key OnAir",id:"KeyOnAir",choices:[{id:0,label:"Off"},{id:1,label:"On Air"},{id:2,label:"Toggle"}],default:2}],callback:async t=>{const o=(0,r.getOptNumber)(t,"KeyOnAir");let i=0;2===o?(i=!0===e.states.UpstreamKeyer.transitionKey.KeyOnAir?0:1,await(0,c.sendCommand)(n.ActionId.KeyOnAir,s.ReqType.Set,[i])):await(0,c.sendCommand)(n.ActionId.KeyOnAir,s.ReqType.Set,[o])}},[n.ActionId.UpStreamKeyFillKeyType]:{name:"UpStream Key:Set inputs",options:[{type:"dropdown",label:"Fill Source",id:"FillSource",choices:(0,i.getChoices)(s.ActionType.LumaKeySourceKey),default:0},{type:"dropdown",label:"Key Source",id:"KeySource",choices:(0,i.getChoices)(s.ActionType.LumaKeySourceKey),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.UpStreamKeyFillKeyType,s.ReqType.Set,[0,(0,r.getOptNumber)(e,"FillSource"),(0,r.getOptNumber)(e,"KeySource")])}},[n.ActionId.UpStreamKeyType]:{name:"UpStream Key:Set Key Type",options:[{type:"dropdown",label:"Key Type:",id:"USKType",choices:a.UpStreamKeyTypeChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.UpStreamKeyType,s.ReqType.Set,[(0,r.getOptNumber)(e,"USKType")])}},[n.ActionId.USKOnPreview]:{name:"UpStream Key: on preview, change state for USK on preview bus",options:[{type:"dropdown",label:"State",id:"USKPvwState",choices:[{id:5,label:"on"},{id:4,label:"off"},{id:0,label:"toggle"}],default:0}],callback:async t=>{let o=t.options.USKPvwState;0===o?e.states.UpstreamKeyer.Tied&&!e.states.UpstreamKeyer.OnAir?o=4:!e.states.UpstreamKeyer.Tied&&e.states.UpstreamKeyer.OnAir?o=5:e.states.UpstreamKeyer.Tied&&e.states.UpstreamKeyer.OnAir?o=4:e.states.UpstreamKeyer.Tied||e.states.UpstreamKeyer.OnAir||(o=5):e.states.UpstreamKeyer.OnAir&&(o=5===o?4:5),await(0,c.sendCommand)(n.ActionId.TransitionSource,s.ReqType.Set,[o])}},[n.ActionId.TransitionSource]:{name:"Next Transition:Set Transition Key Switch",options:[{type:"dropdown",label:"Switch",id:"KeySwitch",choices:a.KeySwitchChoices,default:2}],callback:async t=>{const o=t.options.KeySwitch;if(o&&Array.isArray(o)){const t=Array.from(o),r=e.states.TKeyeState;let i=0;!0===r.M_Key&&(i+=1),!0===r.DSK&&(i+=2),!0===r.BKGD&&(i+=4),t.includes(0)&&(!0===r.M_Key?i-=1:i+=1),t.includes(1)&&(!0===r.DSK?i-=2:i+=2),t.includes(2)&&(!0===r.BKGD?i-=4:i+=4),await(0,c.sendCommand)(n.ActionId.TransitionSource,s.ReqType.Set,[i])}}},...(0,l.createLumaKeyActions)(e),...(0,d.createChromaKeyActions)(e),...(0,u.createKeyPatternActions)(e),...(0,p.createPIPActions)(e)}},t.handleData=function(e,t){switch(t.id){case n.ActionId.KeyOnAir:return e.states.UpstreamKeyer.transitionKey.KeyOnAir=!(!t.value||1!==t.value[0]),!0;case n.ActionId.UpStreamKeyType:return e.states.UpstreamKeyer.UpStreamKeyType=t.value&&t.value[0],!0;case n.ActionId.LumaKeySourceFill:return e.states.UpstreamKeyer.ArrayKeySourceFill[0]=t.value&&t.value[0],!0;case n.ActionId.ChromaKeyFill:return e.states.UpstreamKeyer.ArrayKeySourceFill[1]=t.value&&t.value[0],!0;case n.ActionId.KeyPatternSourceFill:return e.states.UpstreamKeyer.ArrayKeySourceFill[2]=t.value&&t.value[0],!0;case n.ActionId.PipSource:return e.states.UpstreamKeyer.ArrayKeySourceFill[3]=t.value&&t.value[0],!0}return!1};const n=o(6173),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956),l=o(6545),d=o(1164),u=o(1034),p=o(9080)},7276:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.KeyOnAir="keyOnAir",e.KeyOnPvw="keyOnPvw",e.UpStreamKeyType="upStreamKeyType",e.KeySourceFill="keySourceFill",e.TransitionSource="transitionSource"}(o||(t.FeedbackId=o={}))},8248:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{[a.FeedbackId.TransitionSource]:{type:"boolean",name:"USK: Tied",description:"Indicate if USK is tied to next transition",options:[{type:"dropdown",label:"Key Tied",id:"KeyTied",choices:[{id:0,label:"on"},{id:1,label:"off"}],default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>e.states.UpstreamKeyer.Tied===(0===t.options.KeyTied)},[a.FeedbackId.KeyOnAir]:{type:"boolean",name:"Next Transition:Key OnAir Switch",description:"Set the special effect Transition key switch",options:[{type:"dropdown",label:"Key OnAir",id:"KeyOnAir",choices:s.SwitchChoices,default:1}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>!(!e.states.UpstreamKeyer.transitionKey.KeyOnAir||1!==t.options.KeyOnAir)},[a.FeedbackId.KeyOnPvw]:{type:"boolean",name:"USK: Key on preview",description:"Indicates if USK on on air on the preview bus",options:[{type:"dropdown",label:"Key OnAir",id:"KeyOnAir",choices:s.SwitchChoices,default:1}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(0,255,0)},callback:t=>!(!e.states.UpstreamKeyer.PvwOnAir||1!==t.options.KeyOnAir)},[a.FeedbackId.KeySourceFill]:{type:"boolean",name:"UpStreamKey:UpStream Key Source Fill",description:"Set the special effect UpStream Key Source Fill",options:[{type:"dropdown",label:"Key Type:",id:"USKKeyType",choices:s.UpStreamKeyTypeChoices,default:0},{type:"dropdown",label:"Source Fill:",id:"USKSourceFill",choices:(0,i.getChoices)(r.ActionType.KeyPatternSourceKey),default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=Number(t.options.USKKeyType);return e.states.UpstreamKeyer.ArrayKeySourceFill[o]===Number(t.options.USKSourceFill)}},[a.FeedbackId.UpStreamKeyType]:{type:"boolean",name:"UpStream Key: Set UpStream Key Type",description:"If you Select UpStream Key, change style of the bank",options:[{type:"dropdown",label:"Type",id:"USKType",choices:s.UpStreamKeyTypeChoices,default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:t=>{const o=Number(t.options.USKType);return e.states.UpstreamKeyer.UpStreamKeyType===o}}}};const n=o(6278),r=o(4796),i=o(878),a=o(7276),s=o(7643)},9528:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UpstreamKeyerFeedbacks=t.UpstreamKeyerPresets=t.UpstreamKeyerState=t.UpstreamKeyerActions=void 0,t.UpstreamKeyerActions=i(o(1539)),t.UpstreamKeyerState=i(o(153)),t.UpstreamKeyerPresets=i(o(1340)),t.UpstreamKeyerFeedbacks=i(o(8248))},1164:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChromaKeyActions=function(e){return{[n.ActionId.ChromaKeyFill]:{name:"UpStream Key:Set Chroma Key Source Fill",options:[{type:"dropdown",label:"Source Fill",id:"KeyFill",choices:(0,i.getChoices)(s.ActionType.ChromaKeySourceKey),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyFill,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyFill")])}},[n.ActionId.ChromaKeyMaskEnable]:{name:"UpStream Key:Set Chroma Key Mask Enable",options:[{type:"dropdown",label:"Mask Enable",id:"ChromaKeyMaskEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyMaskEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyMaskEnable")])}},[n.ActionId.ChromaKeyMaskHStart]:{name:"UpStream Key:Set Chroma Key Mask H Start",options:[{type:"number",label:"H Start",id:"ChromaKeyMaskHStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyMaskHStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyMaskHStart")])}},[n.ActionId.ChromaKeyMaskVStart]:{name:"UpStream Key:Set Chroma Key Mask V Start",options:[{type:"number",label:"V Start",id:"ChromaKeyMaskVStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyMaskVStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyMaskVStart")])}},[n.ActionId.ChromaKeyMaskHEnd]:{name:"UpStream Key:Set Chroma Key Mask H End",options:[{type:"number",label:"H End",id:"ChromaKeyMaskHEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyMaskHEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyMaskHEnd")])}},[n.ActionId.ChromaKeyMaskVEnd]:{name:"UpStream Key:Set Chroma Key Mask V End",options:[{type:"number",label:"V End",id:"ChromaKeyMaskVEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyMaskVEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyMaskVEnd")])}},[n.ActionId.ChromaKeyResizeEnable]:{name:"UpStream Key:Set Chroma Key Resize Enable",options:[{type:"dropdown",label:"Enable",id:"ChromaKeyResizeEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyResizeEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyResizeEnable")])}},[n.ActionId.ChromaKeyResizeSize]:{name:"UpStream Key:Set Chroma Key Resize Size",options:[{type:"dropdown",label:"Size",id:"ChromaKeyResizeSize",choices:a.KeyResizeSizeChoices,default:0}],callback:async e=>{let t=.25;const o=a.KeyResizeSizeChoices.find((t=>t.id===e.options.ChromaKeyResizeSize));null!=o&&(t=Number(o.label)),await(0,c.sendCommand)(n.ActionId.ChromaKeyResizeSize,s.ReqType.Set,[t])}},[n.ActionId.ChromaKeyResizeXPosition]:{name:"UpStream Key:Set Chroma Key X Position",options:[{type:"number",label:"X Position",id:"ChromaKeyResizeXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyResizeXPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyResizeXPosition")])}},[n.ActionId.ChromaKeyResizeYPosition]:{name:"UpStream Key:Set Chroma Key Y Position",options:[{type:"number",label:"Y Position",id:"ChromaKeyResizeYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyResizeYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyResizeYPosition")])}},[n.ActionId.ChromaKeyControlSMPXPosition]:{name:"UpStream Key:Set Chroma Key SMP X Position",options:[{type:"number",label:"SMP X Position",id:"ChromaKeyControlSMPXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyControlSMPXPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyControlSMPXPosition")])}},[n.ActionId.ChromaKeyControlSMPYPosition]:{name:"UpStream Key:Set Chroma Key SMP Y Position",options:[{type:"number",label:"SMP Y Position",id:"ChromaKeyControlSMPYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyControlSMPYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyControlSMPYPosition")])}},[n.ActionId.ChromaKeyControlSample]:{name:"UpStream Key:Set Chroma Key Control Sample Enable",options:[{type:"dropdown",label:"Sample Enable",id:"ChromaKeyControlSample",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyControlSample,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyControlSample")])}},[n.ActionId.ChromaKeyControlColor]:{name:"UpStream Key:Set Chroma Key Control Color",options:[{type:"colorpicker",label:"Control Color",id:"ChromaKeyControlColor",default:0}],callback:async()=>{}},[n.ActionId.ChromaKeyControlForeground]:{name:"UpStream Key:Set Chroma Key Foreground",options:[{type:"number",label:"Foreground",id:"ChromaKeyControlForeground",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyControlForeground,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyControlForeground")])}},[n.ActionId.ChromaKeyControlBackground]:{name:"UpStream Key:Set Chroma Key Background",options:[{type:"number",label:"Background",id:"ChromaKeyControlBackground",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyControlBackground,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyControlBackground")])}},[n.ActionId.ChromaKeyControlKeyEdge]:{name:"UpStream Key:Set Chroma Key Edge",options:[{type:"number",label:"Key Edge",id:"ChromaKeyControlKeyEdge",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.ChromaKeyControlKeyEdge,s.ReqType.Set,[(0,r.getOptNumber)(e,"ChromaKeyControlKeyEdge")])}}}};const n=o(6173),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956)},1034:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createKeyPatternActions=function(e){return{[n.ActionId.KeyPatternSourceFill]:{name:"UpStream Key:Set Key Pattern Source Fill",options:[{type:"dropdown",label:"Source Fill",id:"KeyFill",choices:(0,i.getChoices)(s.ActionType.KeyPatternSourceKey),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternSourceFill,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyFill")])}},[n.ActionId.KeyPatternWipePattern]:{name:"UpStream Key:Set Key Pattern Wipe Pattern",options:[{type:"number",label:"Wipe Pattern",id:"KeyPatternWipePattern",min:0,max:17,default:0,range:!0,step:1}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternWipePattern,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternWipePattern")])}},[n.ActionId.KeyPatternWipeSize]:{name:"UpStream Key:Set Key Pattern Wipe Size",options:[{type:"number",label:"Wipe Size",id:"KeyPatternWipeSize",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternWipeSize,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternWipeSize")])}},[n.ActionId.KeyPatternWipeXPosition]:{name:"UpStream Key:Set Key Pattern wipe X Position",options:[{type:"number",label:"X Position",id:"KeyPatternWipeXPosition",min:-16,max:16,step:.2,range:!0,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternWipeXPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternWipeXPosition")])}},[n.ActionId.KeyPatternWipeYPosition]:{name:"UpStream Key:Set Key Pattern wipe Y Position",options:[{type:"number",label:"Y Position",id:"KeyPatternWipeYPosition",min:-9,max:9,step:.2,range:!0,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternWipeYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternWipeYPosition")])}},[n.ActionId.KeyPatternWipeSymmetry]:{name:"UpStream Key:Set Key Pattern Symmetry",options:[{type:"number",label:"Symmetry",id:"KeyPatternWipeSymmetry",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternWipeSymmetry,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternWipeSymmetry")])}},[n.ActionId.KeyPatternWipeSoftness]:{name:"UpStream Key:Set Key Pattern Softness",options:[{type:"number",label:"Softness",id:"KeyPatternWipeSoftness",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternWipeSoftness,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternWipeSoftness")])}},[n.ActionId.KeyPatternMaskEnable]:{name:"UpStream Key:Set KeyPattern Mask Enable",options:[{type:"dropdown",label:"Mask Enable",id:"KeyPatternMaskEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternMaskEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternMaskEnable")])}},[n.ActionId.KeyPatternMaskHStart]:{name:"UpStream Key:Set Key Pattern Mask H Start",options:[{type:"number",label:"H Start",id:"KeyPatternMaskHStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternMaskHStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternMaskHStart")])}},[n.ActionId.KeyPatternMaskVStart]:{name:"UpStream Key:Set Key Pattern Mask V Start",options:[{type:"number",label:"V Start",id:"KeyPatternMaskVStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternMaskVStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternMaskVStart")])}},[n.ActionId.KeyPatternMaskHEnd]:{name:"UpStream Key:Set Key Pattern Mask H End",options:[{type:"number",label:"H End",id:"KeyPatternMaskHEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternMaskHEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternMaskHEnd")])}},[n.ActionId.KeyPatternMaskVEnd]:{name:"UpStream Key:Set Key Pattern Mask V End",options:[{type:"number",label:"V End",id:"KeyPatternMaskVEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternMaskVEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternMaskVEnd")])}},[n.ActionId.KeyPatternResizeEnable]:{name:"UpStream Key:Set Key Pattern Resize Enable",options:[{type:"dropdown",label:"Enable",id:"KeyPatternResizeEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternResizeEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternResizeEnable")])}},[n.ActionId.KeyPatternResizeSize]:{name:"UpStream Key:Set Key Pattern Resize Size",options:[{type:"dropdown",label:"Size",id:"KeyPatternResizeSize",choices:a.KeyResizeSizeChoices,default:0}],callback:async e=>{let t=.25;const o=a.KeyResizeSizeChoices.find((t=>t.id===e.options.KeyPatternResizeSize));null!=o&&(t=Number(o.label)),await(0,c.sendCommand)(n.ActionId.KeyPatternResizeSize,s.ReqType.Set,[t])}},[n.ActionId.KeyPatternResizeXPosition]:{name:"UpStream Key:Set Key Pattern Resize X Position",options:[{type:"number",label:"X Position",id:"KeyPatternResizeXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternResizeXPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternResizeXPosition")])}},[n.ActionId.KeyPatternResizeYPosition]:{name:"UpStream Key:Set Key Pattern Resize Y Position",options:[{type:"number",label:"Y Position",id:"KeyPatternResizeYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.KeyPatternResizeYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyPatternResizeYPosition")])}}}};const n=o(6173),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956)},6545:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLumaKeyActions=function(e){return{[n.ActionId.LumaKeySourceFill]:{name:"UpStream Key:Set Luma Key Source Fill",options:[{type:"dropdown",label:"Source Fill",id:"KeyFill",choices:(0,i.getChoices)(s.ActionType.LumaKeySourceKey),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeySourceFill,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyFill")])}},[n.ActionId.LumaKeySourceKey]:{name:"UpStream Key:Set Luma Key Source Key",options:[{type:"dropdown",label:"Key",id:"LumaKeySourceKey",choices:(0,i.getChoices)(s.ActionType.LumaKeySourceKey),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeySourceKey,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeySourceKey")])}},[n.ActionId.LumaKeyMaskEnable]:{name:"UpStream Key:Set Luma Key Mask Enable",options:[{type:"dropdown",label:"Mask Enable",id:"LumaKeyMaskEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyMaskEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyMaskEnable")])}},[n.ActionId.LumaKeyMaskHStart]:{name:"UpStream Key:Set Luma Key Mask H Start",options:[{type:"number",label:"H Start",id:"LumaKeyMaskHStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyMaskHStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyMaskHStart")])}},[n.ActionId.LumaKeyMaskVStart]:{name:"UpStream Key:Set Luma Key Mask V Start",options:[{type:"number",label:"V Start",id:"LumaKeyMaskVStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyMaskVStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyMaskVStart")])}},[n.ActionId.LumaKeyMaskHEnd]:{name:"UpStream Key:Set Luma Key Mask H End",options:[{type:"number",label:"H End",id:"LumaKeyMaskHEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyMaskHEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyMaskHEnd")])}},[n.ActionId.LumaKeyMaskVEnd]:{name:"UpStream Key:Set Luma Key Mask V End",options:[{type:"number",label:"V End",id:"LumaKeyMaskVEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyMaskVEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyMaskVEnd")])}},[n.ActionId.LumaKeyControlShapedKey]:{name:"UpStream Key:Set Luma Key Control ShapedKey",options:[{type:"dropdown",label:"ShapedKey",id:"LumaKeyControlShapedKey",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyControlShapedKey,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyControlShapedKey")])}},[n.ActionId.LumaKeyControlClip]:{name:"UpStream Key:Set Luma Key Control Clip",options:[{type:"number",label:"Clip",id:"LumaKeyControlClip",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyControlClip,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyControlClip")])}},[n.ActionId.LumaKeyControlGain]:{name:"UpStream Key:Set Luma Key Control Gain",options:[{type:"number",label:"Gain",id:"LumaKeyControlGain",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyControlGain,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyControlGain")])}},[n.ActionId.LumaKeyControlInvert]:{name:"UpStream Key:Set Luma Key Control Invert",options:[{type:"dropdown",label:"Invert",id:"LumaKeyControlInvert",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyControlInvert,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyControlInvert")])}},[n.ActionId.LumaKeyResizeEnable]:{name:"UpStream Key:Set Luma Key Resize Enable",options:[{type:"dropdown",label:"Enable",id:"LumaKeyResizeEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyResizeEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyResizeEnable")])}},[n.ActionId.LumaKeyResizeSize]:{name:"UpStream Key:Set Luma Key Resize Size",options:[{type:"dropdown",label:"Size",id:"LumaKeyResizeSize",choices:a.KeyResizeSizeChoices,default:0}],callback:async e=>{let t=.25;const o=a.KeyResizeSizeChoices.find((t=>t.id===e.options.LumaKeyResizeSize));null!=o&&(t=Number(o.label)),await(0,c.sendCommand)(n.ActionId.LumaKeyResizeSize,s.ReqType.Set,[t])}},[n.ActionId.LumaKeyResizeXPosition]:{name:"UpStream Key:Set Luma Key X Position",options:[{type:"number",label:"X Position",id:"LumaKeyResizeXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyResizeXPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyResizeXPosition")])}},[n.ActionId.LumaKeyResizeYPosition]:{name:"UpStream Key:Set Luma Key Y Position",options:[{type:"number",label:"Y Position",id:"LumaKeyResizeYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.LumaKeyResizeYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"LumaKeyResizeYPosition")])}}}};const n=o(6173),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956)},9080:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPIPActions=function(e){return{[n.ActionId.PipSource]:{name:"UpStream Key:Set Pip Source",options:[{type:"dropdown",label:"PIP Source",id:"KeyFill",choices:(0,i.getChoices)(s.ActionType.PipSource),default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipSource,s.ReqType.Set,[(0,r.getOptNumber)(e,"KeyFill")])}},[n.ActionId.PipSize]:{name:"UpStream Key:Set PIP Size",options:[{type:"dropdown",label:"Size",id:"PipSize",choices:a.KeyResizeSizeChoices,default:0}],callback:async e=>{let t=0;const o=a.KeyResizeSizeChoices.find((t=>t.id===e.options.PipSize));null!=o&&(t=Number(o.id)),await(0,c.sendCommand)(n.ActionId.PipSize,s.ReqType.Set,[t])}},[n.ActionId.PipXPosition]:{name:"UpStream Key:Set PIP X Position",options:[{type:"number",label:"X Position",id:"PipXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipXPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipXPosition")])}},[n.ActionId.PipYPosition]:{name:"UpStream Key:Set PIP Y Position",options:[{type:"number",label:"Y Position",id:"PipYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipYPosition,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipYPosition")])}},[n.ActionId.PipMaskEnable]:{name:"UpStream Key:Set PIP Mask Enable",options:[{type:"dropdown",label:"Mask Enable",id:"PipMaskEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipMaskEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipMaskEnable")])}},[n.ActionId.PipMaskHStart]:{name:"UpStream Key:Set PIP Mask H Start",options:[{type:"number",label:"H Start",id:"PipMaskHStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipMaskHStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipMaskHStart")])}},[n.ActionId.PipMaskVStart]:{name:"UpStream Key:Set Pip Mask V Start",options:[{type:"number",label:"V Start",id:"PipMaskVStart",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipMaskVStart,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipMaskVStart")])}},[n.ActionId.PipMaskHEnd]:{name:"UpStream Key:Set Pip Mask H End",options:[{type:"number",label:"H End",id:"PipMaskHEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipMaskHEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipMaskHEnd")])}},[n.ActionId.PipMaskVEnd]:{name:"UpStream Key:Set Pip Mask V End",options:[{type:"number",label:"V End",id:"PipMaskVEnd",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipMaskVEnd,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipMaskVEnd")])}},[n.ActionId.PipBorderEnable]:{name:"UpStream Key:Set Pip Border Enable",options:[{type:"dropdown",label:"Enable",id:"PipBorderEnable",choices:a.SwitchChoices,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipBorderEnable,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipBorderEnable")])}},[n.ActionId.PipBorderWidth]:{name:"UpStream Key:Set Pip Border Width",options:[{type:"number",label:"Width",id:"PipBorderWidth",min:0,max:31,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipBorderWidth,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipBorderWidth")])}},[n.ActionId.PipBorderHue]:{name:"UpStream Key:Set Pip Color Hue",options:[{type:"number",label:"Hue",id:"PipBorderHue",min:0,max:359,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipBorderHue,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipBorderHue")])}},[n.ActionId.PipBorderSaturation]:{name:"UpStream Key:Set Pip Color Saturation",options:[{type:"number",label:"Saturation",id:"PipBorderSaturation",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipBorderSaturation,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipBorderSaturation")])}},[n.ActionId.PipBorderBrightness]:{name:"UpStream Key:Set Pip Color Brightness",options:[{type:"number",label:"Brightness",id:"PipBorderBrightness",min:0,max:100,default:0}],callback:async e=>{await(0,c.sendCommand)(n.ActionId.PipBorderBrightness,s.ReqType.Set,[(0,r.getOptNumber)(e,"PipBorderBrightness")])}}}};const n=o(6173),r=o(3472),i=o(878),a=o(7643),s=o(4796),c=o(7956)},1340:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e={};for(const t of c)"BKGD"!=t.label&&"Key"===t.label&&(e[`keys_Next_Air_${t.id}`]={category:"Keys On Air",name:`Toggle upstream KEY ${t.label} OnAir`,type:"button",style:{text:`${t.label}`,size:l,color:(0,i.combineRgb)(255,255,255),bgcolor:(0,i.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeyOnAir,options:{KeyOnAir:1,DSKOnAir:1},style:{bgcolor:(0,i.combineRgb)(255,255,0),color:(0,i.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:n.ActionId.KeyOnAir,options:{KeyOnAir:2,DSKOnAir:2}}],up:[]}]});e.USKOnPvw={category:"Keys On Air",name:"Toggle USK on preview",type:"button",style:{text:"USK on PVW",size:l,color:(0,i.combineRgb)(255,255,255),bgcolor:(0,i.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeyOnPvw,options:{KeyOnAir:1},style:{bgcolor:(0,i.combineRgb)(0,255,0),color:(0,i.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:n.ActionId.USKOnPreview,options:{USKPvwState:0}}],up:[]}]};const t=(0,s.getChoices)(a.ActionType.LumaKeySourceKey);for(const o of t){let a=Number(o.id)+1;a===t.length&&(a=0),e[`UpStreamKeylumakeySourceAndKey_${o.id}`]={category:"lumakey",name:`Upstream key: Set lumakey Source ${o.label}`,type:"button",style:{text:`${o.label}`,size:"24",color:(0,i.combineRgb)(255,255,255),bgcolor:(0,i.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeySourceFill,options:{USKKeyType:0,USKSourceFill:o.id},style:{bgcolor:(0,i.combineRgb)(255,0,0),color:(0,i.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:n.ActionId.UpStreamKeyFillKeyType,options:{FillSource:o.id,KeySource:a}}],up:[]}]}}return e};const n=o(6173),r=o(7276),i=o(6278),a=o(4796),s=o(878),c=o(7643).KeySwitchChoices,l="18"},153:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return{UpstreamKeyer:{transitionKey:{BKGD:!1,DSK:!1,M_Key:!1,KeyOnAir:!1,DSKOnAir:!1},PvwOnAir:!1,Tied:!1,OnAir:!1,UpStreamKeyType:0,ArrayKeySourceFill:[]}}},t.sync=async function(){await(0,r.sendCommand)(n.ActionId.KeyOnAir,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.UpStreamKeyType,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.LumaKeySourceFill,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.ChromaKeyFill,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.KeyPatternSourceFill,i.ReqType.Get),await(0,r.sendCommand)(n.ActionId.PipSource,i.ReqType.Get)};const n=o(6173),r=o(7956),i=o(4796)},7643:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsOutSourceChoices=t.SettingsOutSourceParamChoices=t.SettingsOutFormatChoices=t.SettingsAuxSourceChoices=t.SettingsColorChoices=t.SettingsMicInputChoices=t.SettingsInputWindowLayoutChoices=t.SettingsMvLayoutChoices=t.SettingsMvMeterChoices=t.SettingsUMDSrcChoices=t.StreamingChoices=t.OtherAudioSourcesEnableChoices=t.AudioSourcesEnableChoices=t.OtherAudioSourcesChoices=t.AudioInputSourcesChoices=t.AudioMicChoices=t.KeyResizeSizeChoices=t.UpStreamKeyTypeChoices=t.SuperSourceBorderChoices=t.SuperSourceMaskChoices=t.SuperSourceStyleChoices=t.ColorSwitchChoices=t.KeySwitchChoices=t.WipeDirectionChoices=t.SwitchChoices=t.TransitionStyleChoice=t.OtherDipSourceModels=t.OtherDSKSourceModels=t.OtherSourceModels=t.SourceModels=void 0;const n=o(4796);t.SourceModels=[{inputId:0,longName:"Input1",shortName:"In1"},{inputId:1,longName:"Input2",shortName:"In2"},{inputId:2,longName:"Input3",shortName:"In3"},{inputId:3,longName:"Input4",shortName:"In4"}],t.OtherSourceModels=[{inputId:4,longName:"Aux",shortName:"Aux"},{inputId:5,longName:"S/SRC",shortName:"SSRC"},{inputId:6,longName:"Still1",shortName:"STL1"},{inputId:7,longName:"Still2",shortName:"STL2"}],t.OtherDSKSourceModels=[{inputId:4,longName:"Aux",shortName:"Aux"},{inputId:5,longName:"Still1",shortName:"STL1"},{inputId:6,longName:"Still1 Key",shortName:"STL1 Key"},{inputId:7,longName:"Still2",shortName:"STL2"},{inputId:8,longName:"Still2 Key",shortName:"STL2 Key"},{inputId:9,longName:"Color1",shortName:"Col1"},{inputId:10,longName:"Color2",shortName:"Col2"},{inputId:11,longName:"Color Bar",shortName:"Bar"},{inputId:12,longName:"Black",shortName:"BLK"}],t.OtherDipSourceModels=[{inputId:4,longName:"Aux",shortName:"Aux"},{inputId:5,longName:"Black",shortName:"BLK"},{inputId:6,longName:"Still1",shortName:"STL1"},{inputId:7,longName:"Still2",shortName:"STL2"},{inputId:8,longName:"Color1",shortName:"Col1"},{inputId:9,longName:"Color2",shortName:"Col2"},{inputId:10,longName:"Color Bar",shortName:"Bar"}],t.TransitionStyleChoice=[{id:n.TransitionStyle.MIX,label:"MIX"},{id:n.TransitionStyle.DIP,label:"DIP"},{id:n.TransitionStyle.WIPE,label:"WIPE"}],t.SwitchChoices=[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Toggle"}],t.WipeDirectionChoices=[{id:0,label:"Normal"},{id:1,label:"Inverse"}],t.KeySwitchChoices=[{id:0,label:"Key"},{id:1,label:"DSK"},{id:2,label:"BKGD"}],t.ColorSwitchChoices=[{id:0,label:"Color1"},{id:1,label:"Color2"}],t.SuperSourceStyleChoices=[{id:0,label:"zoom out"},{id:1,label:"crop-zoom out"},{id:2,label:"zoom out-crop"},{id:3,label:"crop"}],t.SuperSourceMaskChoices=[{id:0,label:"mask1"},{id:1,label:"mask2"}],t.SuperSourceBorderChoices=[{id:0,label:"border1"},{id:1,label:"border2"}],t.UpStreamKeyTypeChoices=[{id:0,label:"Luma Key"},{id:1,label:"Chroma Key"},{id:2,label:"Pattern"},{id:3,label:"PIP"}],t.KeyResizeSizeChoices=[{id:0,label:"0.25"},{id:1,label:"0.33"},{id:2,label:"0.50"}],t.AudioMicChoices=[{id:0,label:"mic1"},{id:1,label:"mic2"}],t.AudioInputSourcesChoices=[{id:2,label:"in1"},{id:3,label:"in2"},{id:4,label:"in3"},{id:5,label:"in4"},{id:6,label:"aux"}],t.OtherAudioSourcesChoices=[{id:7,label:"pgm"}],t.AudioSourcesEnableChoices=[{id:0,label:"off"},{id:1,label:"on"}],t.OtherAudioSourcesEnableChoices=[{id:2,label:"afv"}],t.StreamingChoices=[{id:0,label:"Stream1"},{id:1,label:"Stream2"},{id:2,label:"Stream3"}],t.SettingsUMDSrcChoices=[{id:0,label:"pgm"},{id:1,label:"pvw"},{id:2,label:"in1"},{id:3,label:"in2"},{id:4,label:"in3"},{id:5,label:"in4"},{id:6,label:"aux"},{id:7,label:"still 1"},{id:8,label:"still 2"}],t.SettingsMvMeterChoices=[{id:0,label:"pgm"},{id:1,label:"in1"},{id:2,label:"in2"},{id:3,label:"in3"},{id:4,label:"in4"},{id:5,label:"aux"}],t.SettingsMvLayoutChoices=[{id:0,label:"PGM|PVW"},{id:1,label:"PVW|PGM"}],t.SettingsInputWindowLayoutChoices=[{id:0,label:"Style 1"},{id:1,label:"Style 2"}],t.SettingsMicInputChoices=[{id:0,label:"mic+power"},{id:1,label:"mic"},{id:2,label:"line"}],t.SettingsColorChoices=[{id:0,label:"auto"},{id:1,label:"rgb full"},{id:2,label:"rgb limit"},{id:3,label:"ycbcr422 full"},{id:4,label:"ycbcr422 limit"},{id:5,label:"ycbcr444 full"},{id:6,label:"ycbcr444 limit"}],t.SettingsAuxSourceChoices=[{id:0,label:"sd card"},{id:1,label:"usb camera"},{id:2,label:"ndi"}],t.SettingsOutFormatChoices=[{id:0,label:"1080p23.98"},{id:1,label:"1080p24"},{id:2,label:"1080p25"},{id:3,label:"1080p29.97"},{id:4,label:"1080p30"},{id:5,label:"1080p50"},{id:6,label:"1080p59.94"},{id:7,label:"1080p60"}],t.SettingsOutSourceParamChoices=[{id:0,label:"HDMI1"},{id:1,label:"HDMI2"},{id:2,label:"UVC"}],t.SettingsOutSourceChoices=[{id:4,label:"aux"},{id:5,label:"pgm"},{id:6,label:"pvw"},{id:7,label:"multiview"}]},7930:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecAuto=void 0;const n=o(6996),r=o(4796);t.ModelSpecAuto={id:n.MODEL_AUTO_DETECT,label:"Auto Detect",outputs:(0,n.generateOutputs)("Aux/Output",3),inputs:[{id:0,longName:"Input1",shortName:"In1",portType:r.PortType.Unknown},{id:1,longName:"Input2",shortName:"In2",portType:r.PortType.Unknown},{id:2,longName:"Input3",shortName:"In3",portType:r.PortType.Unknown},{id:3,longName:"Input4",shortName:"In4",portType:r.PortType.Unknown}]}},3868:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecDeck=void 0;const n=o(6996),r=o(4796);t.ModelSpecDeck={id:r.Model.Deck,label:"Deck",outputs:[...(0,n.generateOutputs)("Output",1)],inputs:[{id:0,longName:"Input1",shortName:"In1",portType:r.PortType.HDMI},{id:1,longName:"Input2",shortName:"In2",portType:r.PortType.HDMI},{id:2,longName:"Input3",shortName:"In3",portType:r.PortType.HDMI},{id:3,longName:"Input4",shortName:"In4",portType:r.PortType.HDMI}]}},8991:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSpecDuet=void 0;const n=o(6996),r=o(4796);t.ModelSpecDuet={id:r.Model.Duet,label:"Duet",outputs:[...(0,n.generateOutputs)("Output",1)],inputs:[{id:0,longName:"Input2",shortName:"In1",portType:r.PortType.SDI|r.PortType.HDMI},{id:1,longName:"Input2",shortName:"In2",portType:r.PortType.SDI|r.PortType.HDMI},{id:2,longName:"Input3",shortName:"In3",portType:r.PortType.SDI|r.PortType.HDMI},{id:3,longName:"Input4",shortName:"In4",portType:r.PortType.SDI|r.PortType.HDMI}]}},2317:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_MODEL_CHOICES=t.ALL_MODELS=void 0,t.GetModelSpec=function(e){return t.ALL_MODELS.find((t=>t.id===e))},t.GetAutoDetectModel=function(){return n.ModelSpecAuto};const n=o(7930),r=o(3868),i=o(8991);t.ALL_MODELS=[n.ModelSpecAuto,r.ModelSpecDeck,i.ModelSpecDuet],t.ALL_MODEL_CHOICES=t.ALL_MODELS.map((({id:e,label:t})=>({id:e,label:t})))},6996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODEL_AUTO_DETECT=void 0,t.generateOutputs=function(e,t){const o=[];for(let n=0;n<t;n++)o.push({id:n,name:`${e} ${n+1}`});return o},t.generateInputs=function(e,t){const o=[];for(let n=0;n<t;n++)o.push({id:n,name:`${e} ${n+1}`});return o},t.MODEL_AUTO_DETECT=0},6450:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presets=function(){return{...n.MixEffectPresets.create(),...r.StreamingPresets.create(),...i.LivePresets.create(),...a.AudioMixerPresets.create(),...s.DownstreamKeyerPresets.create(),...c.MacroPresets.create(),...l.SuperSourcePresets.create(),...d.PlaybackPresets.create(),...u.UpstreamKeyerPresets.create()}};const n=o(1956),r=o(8427),i=o(7047),a=o(4718),s=o(7467),c=o(8627),l=o(141),d=o(208),u=o(9528)},6519:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Create=function(){return{...n.MixEffectState.create(),...r.StreamingState.create(),...i.LiveState.create(),...a.StillGeneratorState.create(),...s.PlaybackState.create(),...c.RecordState.create(),...l.SuperSourceState.create(),...d.AudioMixerState.create(),...u.DownstreamKeyerState.create(),...p.SettingsState.create(),...b.MacroState.create(),...y.UpstreamKeyerState.create(),infos:{protocolVersion:"1.0",deviceType:0},selectOutputs:{}}};const n=o(1956),r=o(8427),i=o(7047),a=o(9102),s=o(208),c=o(4160),l=o(141),d=o(4718),u=o(7467),p=o(7268),b=o(8627),y=o(9528)},3472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptNumber=function(e,t,o){const n=e.options[t];if(void 0!==o&&void 0===n)return o;const r=Number(n);if(isNaN(r))throw new Error(`Invalid option '${t}'`);return r},t.getOptString=function(e,t,o){const n=e.options[t];if(void 0!==o&&void 0===n)return o;const r=String(n);if("string"!=typeof n)throw new Error(`Invalid option '${t}'`);return r}},3911:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variables=function(e){const t=[...i.PlaybackVariables.create(e),...a.RecordVariables.create(e)];t.push({name:"IP address of GoStreamDeck",variableId:"device_ip"});const o=(0,r.getChoices)(n.ActionType.Preview);for(let e=0;e<o.length;e++)t.push({name:`Id of input_${e+1}`,variableId:`pre${e+1}_input_id`});return t},t.updateVariables=function(e){const t={...i.PlaybackVariables.getValues(e),...a.RecordVariables.getValues(e)};e.setVariableValues(t)};const n=o(4796),r=o(878),i=o(208),a=o(4160)},7169:(e,t,o)=>{"use strict";const n=o(2017);n.code='require("ajv/dist/runtime/equal").default',t.A=n},6284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var o={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},r=function(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=Math.pow(10,t)),Math.round(o*e)/o+0},i=function(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=1),e>o?o:e>t?e:t},a=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},s=function(e){return{r:i(e.r,0,255),g:i(e.g,0,255),b:i(e.b,0,255),a:i(e.a)}},c=function(e){return{r:r(e.r),g:r(e.g),b:r(e.b),a:r(e.a,3)}},l=/^#([0-9a-f]{3,8})$/i,d=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},u=function(e){var t=e.r,o=e.g,n=e.b,r=e.a,i=Math.max(t,o,n),a=i-Math.min(t,o,n),s=a?i===t?(o-n)/a:i===o?2+(n-t)/a:4+(t-o)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:r}},p=function(e){var t=e.h,o=e.s,n=e.v,r=e.a;t=t/360*6,o/=100,n/=100;var i=Math.floor(t),a=n*(1-o),s=n*(1-(t-i)*o),c=n*(1-(1-t+i)*o),l=i%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l],a:r}},b=function(e){return{h:a(e.h),s:i(e.s,0,100),l:i(e.l,0,100),a:i(e.a)}},y=function(e){return{h:r(e.h),s:r(e.s),l:r(e.l),a:r(e.a,3)}},m=function(e){return p((o=(t=e).s,{h:t.h,s:(o*=((n=t.l)<50?n:100-n)/100)>0?2*o/(n+o)*100:0,v:n+o,a:t.a}));var t,o,n},f=function(e){return{h:(t=u(e)).h,s:(r=(200-(o=t.s))*(n=t.v)/100)>0&&r<200?o*n/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,o,n,r},S=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,h=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k={string:[[function(e){var t=l.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?r(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?r(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=g.exec(e)||I.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:s({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=S.exec(e)||h.exec(e);if(!t)return null;var n,r,i=b({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(o[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(i)},"hsl"]],object:[[function(e){var t=e.r,o=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return n(t)&&n(o)&&n(r)?s({r:Number(t),g:Number(o),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,o=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!n(t)||!n(o)||!n(r))return null;var s=b({h:Number(t),s:Number(o),l:Number(r),a:Number(a)});return m(s)},"hsl"],[function(e){var t=e.h,o=e.s,r=e.v,s=e.a,c=void 0===s?1:s;if(!n(t)||!n(o)||!n(r))return null;var l=function(e){return{h:a(e.h),s:i(e.s,0,100),v:i(e.v,0,100),a:i(e.a)}}({h:Number(t),s:Number(o),v:Number(r),a:Number(c)});return p(l)},"hsv"]]},v=function(e,t){for(var o=0;o<t.length;o++){var n=t[o][0](e);if(n)return[n,t[o][1]]}return[null,void 0]},A=function(e){return"string"==typeof e?v(e.trim(),k.string):"object"==typeof e&&null!==e?v(e,k.object):[null,void 0]},P=function(e,t){var o=f(e);return{h:o.h,s:i(o.s+100*t,0,100),l:o.l,a:o.a}},w=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C=function(e,t){var o=f(e);return{h:o.h,s:o.s,l:i(o.l+100*t,0,100),a:o.a}},_=function(){function e(e){this.parsed=A(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return r(w(this.rgba),2)},e.prototype.isDark=function(){return w(this.rgba)<.5},e.prototype.isLight=function(){return w(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,o=e.g,n=e.b,a=(i=e.a)<1?d(r(255*i)):"","#"+d(t)+d(o)+d(n)+a;var e,t,o,n,i,a},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,o=e.g,n=e.b,(r=e.a)<1?"rgba("+t+", "+o+", "+n+", "+r+")":"rgb("+t+", "+o+", "+n+")";var e,t,o,n,r},e.prototype.toHsl=function(){return y(f(this.rgba))},e.prototype.toHslString=function(){return t=(e=y(f(this.rgba))).h,o=e.s,n=e.l,(r=e.a)<1?"hsla("+t+", "+o+"%, "+n+"%, "+r+")":"hsl("+t+", "+o+"%, "+n+"%)";var e,t,o,n,r},e.prototype.toHsv=function(){return e=u(this.rgba),{h:r(e.h),s:r(e.s),v:r(e.v),a:r(e.a,3)};var e},e.prototype.invert=function(){return M({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),M(P(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),M(P(this.rgba,-e))},e.prototype.grayscale=function(){return M(P(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),M(C(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),M(C(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?M({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):r(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=f(this.rgba);return"number"==typeof e?M({h:e,s:t.s,l:t.l,a:t.a}):r(t.h)},e.prototype.isEqual=function(e){return this.toHex()===M(e).toHex()},e}(),M=function(e){return e instanceof _?e:new _(e)},O=[];t.Colord=_,t.colord=M,t.extend=function(e){e.forEach((function(e){O.indexOf(e)<0&&(e(_,k),O.push(e))}))},t.getFormat=function(e){return A(e)[1]},t.random=function(){return new _({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},6022:e=>{!function(){"use strict";var t=[,function(e,t){function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var r=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=r,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var n,r,i=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,i=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw r}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1];return e[a]=s,e}),{})},t.isArguments=function(e){return null!=e&&r(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var i={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=i,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(i.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var o=Object.create(null),n=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},r=0;r<64;r++)o[n(r)]=r;var i=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],o=0;o<e;o++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},a={encode:function(e){if("string"==typeof e){var t=e;e=i(t.length);for(var o=0;o<t.length;o++){var r=t.charCodeAt(o);if(r>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[o]=r}}for(var a=[],s=null,c=null,l=null,d=null,u=0;u<e.length;u++)switch(u%3){case 0:s=e[u]>>2&63,c=(3&e[u])<<4;break;case 1:c|=e[u]>>4&15,l=(15&e[u])<<2;break;case 2:l|=e[u]>>6&3,d=63&e[u],a.push(n(s)),a.push(n(c)),a.push(n(l)),a.push(n(d)),s=null,c=null,l=null,d=null}return null!=s&&(a.push(n(s)),a.push(n(c)),null==l?a.push("="):a.push(n(l)),null==d&&a.push("=")),a.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var n,r=i(t),a=null,s=null,c=null,l=0,d=0;d<e.length;d++){var u="="===(n=e.charAt(d))?-1:o[n];switch(d%4){case 0:if(u<0)throw new Error("invalid base64 string");a=u<<2;break;case 1:if(u<0)throw new Error("invalid base64 string");a|=u>>4,r[l++]=a,s=(15&u)<<4;break;case 2:u>=0&&(s|=u>>2,r[l++]=s,c=(3&u)<<6);break;case 3:u>=0&&(r[l++]=c|u)}}return r},newBinary:i};t.Base64=a},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function e(t,r,i,a,s){var c=r[t];switch(o(c)){case"string":return n(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var l,d=a+i,u=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,b=0;b<p;b+=1)u[b]=e(b,c,i,d,s)||"null";return l=0===u.length?"[]":d?"[\n"+d+u.join(",\n"+d)+"\n"+a+"]":"["+u.join(",")+"]"}var y=Object.keys(c);return s&&(y=y.sort()),y.forEach((function(t){(l=e(t,c,i,d,s))&&u.push(n(t)+(d?": ":":")+l)})),l=0===u.length?"{}":d?"{\n"+d+u.join(",\n"+d)+"\n"+a+"}":"{"+u.join(",")+"}"}};t.default=function(e,t){var o=Object.assign({indent:"",canonical:!1},t);if(!0===o.indent)o.indent="  ";else if("number"==typeof o.indent){for(var n="",i=0;i<o.indent;i++)n+=" ";o.indent=n}return r("",{"":e},o.indent,"",o.canonical)},e.exports=t.default}],o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,n),i.exports}var r={};!function(){var e=r,t=n(2).Base64,o=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var i=n(1),a={};e.EJSON=a;var s=new Map;a.addType=function(e,t){if(s.has(e))throw new Error("Type ".concat(e," already present"));s.set(e,t)};var c=[{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$date")&&1===(0,i.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$regexp")&&(0,i.hasOwn)(e,"$flags")&&2===(0,i.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$InfNaN")&&1===(0,i.lengthOf)(e)},matchObject:i.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$binary")&&1===(0,i.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,i.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$escape")&&1===(0,i.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var o=(0,i.lengthOf)(e);1!==o&&2!==o||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,i.keysOf)(e).forEach((function(o){t[o]=a.toJSONValue(e[o])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,i.keysOf)(e.$escape).forEach((function(o){t[o]=a.fromJSONValue(e.$escape[o])})),t}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$type")&&(0,i.hasOwn)(e,"$value")&&2===(0,i.lengthOf)(e)},matchObject:function(e){return a._isCustomType(e)},toJSONValue:function(e){var t=o._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!s.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=s.get(t);return o._noYieldsAllowed((function(){return n(e.$value)}))}}];a._isCustomType=function(e){return e&&(0,i.isFunction)(e.toJSONValue)&&(0,i.isFunction)(e.typeName)&&s.has(e.typeName())},a._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:(0,i.convertMapToObject)(s)},a._getConverters=function(){return c};var l=function(e){for(var t=0;t<c.length;t++){var o=c[t];if(o.matchObject(e))return o.toJSONValue(e)}},d=function e(t){if(null===t)return null;var o=l(t);return void 0!==o?o:(0,i.isObject)(t)?((0,i.keysOf)(t).forEach((function(o){var n=t[o];if((0,i.isObject)(n)||void 0===n||(0,i.isInfOrNaN)(n)){var r=l(n);r?t[o]=r:e(n)}})),t):t};a._adjustTypesToJSONValue=d,a.toJSONValue=function(e){var t=l(e);if(void 0!==t)return t;var o=e;return(0,i.isObject)(e)&&(o=a.clone(e),d(o)),o};var u=function(e){if((0,i.isObject)(e)&&null!==e){var t=(0,i.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var o=0;o<c.length;o++){var n=c[o];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var o=u(t);return o!==t?o:(0,i.isObject)(t)?((0,i.keysOf)(t).forEach((function(o){var n=t[o];if((0,i.isObject)(n)){var r=u(n);if(n!==r)return void(t[o]=r);e(n)}})),t):t};a._adjustTypesFromJSONValue=p,a.fromJSONValue=function(e){var t=u(e);return t===e&&(0,i.isObject)(e)&&(t=a.clone(e),p(t)),t},a.stringify=(0,i.handleError)((function(e,t){var o=a.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(o,t):JSON.stringify(o)})),a.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(e))},a.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},a.equals=function(e,t,o){var n,r=!(!o||!o.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,i.isObject)(e)||!(0,i.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(a.isBinary(e)&&a.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,i.isFunction)(e.equals))return e.equals(t,o);if((0,i.isFunction)(t.equals))return t.equals(e,o);var s,c=Array.isArray(e),l=Array.isArray(t);if(c!==l)return!1;if(c&&l){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!a.equals(e[n],t[n],o))return!1;return!0}switch(a._isCustomType(e)+a._isCustomType(t)){case 1:return!1;case 2:return a.equals(a.toJSONValue(e),a.toJSONValue(t))}var d=(0,i.keysOf)(e),u=(0,i.keysOf)(t);return r?(n=0,s=d.every((function(r){return!(n>=u.length||r!==u[n]||!a.equals(e[r],t[u[n]],o)||(n++,0))}))):(n=0,s=d.every((function(r){return!!(0,i.hasOwn)(t,r)&&!!a.equals(e[r],t[r],o)&&(n++,!0)}))),s&&n===u.length},a.clone=function(e){var t;if(!(0,i.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(a.isBinary(e)){t=a.newBinary(e.length);for(var o=0;o<e.length;o++)t[o]=e[o];return t}return Array.isArray(e)?e.map(a.clone):(0,i.isArguments)(e)?Array.from(e).map(a.clone):(0,i.isFunction)(e.clone)?e.clone():a._isCustomType(e)?a.fromJSONValue(a.clone(a.toJSONValue(e)),!0):(t={},(0,i.keysOf)(e).forEach((function(o){t[o]=a.clone(e[o])})),t)},a.newBinary=t.newBinary}(),e.exports=r.EJSON}()},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,o="~";function n(){}function r(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function i(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||e,a),c=o?o+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(o?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,i),!0;case 6:return d.fn.call(d.context,t,n,r,i,a),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,b=d.length;for(l=0;l<b;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,r);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,o){return i(this,e,t,o,!1)},s.prototype.once=function(e,t,o){return i(this,e,t,o,!0)},s.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||a(this,i);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||r&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,e.exports=s},2017:e=>{"use strict";e.exports=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var n,r,i;if(Array.isArray(t)){if((n=t.length)!=o.length)return!1;for(r=n;0!=r--;)if(!e(t[r],o[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(o,i[r]))return!1;for(r=n;0!=r--;){var a=i[r];if(!e(t[a],o[a]))return!1}return!0}return t!=t&&o!=o}},4865:e=>{"use strict";const t=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const i=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!o(i,a)&&r||Object.defineProperty(e,n,a)},o=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,r=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,o,{ignoreNonConfigurable:a=!1}={})=>{const{name:s}=e;for(const n of Reflect.ownKeys(o))t(e,o,n,a);return((e,t)=>{const o=Object.getPrototypeOf(t);o!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,o)})(e,o),((e,t,o)=>{const a=""===o?"":`with ${o.trim()}() `,s=n.bind(null,a,t.toString());Object.defineProperty(s,"name",i),Object.defineProperty(e,"toString",{...r,value:s})})(e,o,s),e}},4617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},3290:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(6368),r=o(7685),i=o(4774),a=()=>{},s=new r.TimeoutError;t.default=class extends n{constructor(e){var t,o,n,r;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=a,this._resolveIdle=a,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(o=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==o?o:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(r=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==r?r:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=a,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=a,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((o,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(s)}));o(await i)}catch(e){n(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},9998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){let n=0,r=e.length;for(;r>0;){const i=r/2|0;let a=n+i;o(e[a],t)<=0?(n=++a,r-=i+1):r=i}return n}},4774:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(9998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const o={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(o);const r=n.default(this._queue,o,((e,t)=>t.priority-e.priority));this._queue.splice(r,0,o)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},6368:e=>{"use strict";var t=Object.prototype.hasOwnProperty,o="~";function n(){}function r(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function i(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||e,a),c=o?o+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(o?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,i),!0;case 6:return d.fn.call(d.context,t,n,r,i,a),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,b=d.length;for(l=0;l<b;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,r);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,o){return i(this,e,t,o,!1)},s.prototype.once=function(e,t,o){return i(this,e,t,o,!0)},s.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||a(this,i);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||r&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,e.exports=s},7685:(e,t,o)=>{"use strict";const n=o(4617);class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=(e,t,o)=>new Promise(((i,a)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void i(e);const s=setTimeout((()=>{if("function"==typeof o){try{i(o())}catch(e){a(e)}return}const n=o instanceof Error?o:new r("string"==typeof o?o:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),a(n)}),t);n(e.then(i,a),(()=>{clearTimeout(s)}))}));e.exports=i,e.exports.default=i,e.exports.TimeoutError=r},181:e=>{"use strict";e.exports=require("buffer")},7194:e=>{"use strict";e.exports=require("dgram")},1943:e=>{"use strict";e.exports=require("fs/promises")},9278:e=>{"use strict";e.exports=require("net")},6928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4326:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(d)throw new Error("runEntrypoint can only be called once");if(d=!0,t||(t=[]),!Array.isArray(t))throw new Error("upgradeScripts must be an array");for(const e of t)if("function"!=typeof e)throw new Error("upgradeScripts must be an array of functions");const o=process.env.MODULE_MANIFEST;if(!o)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await i.default.readFile(o),u=JSON.parse(n.toString());if(u.runtime?.api!==r.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!u.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let p=u.runtime.apiVersion;if("0.0.0"===p)try{const e=await i.default.readFile(c.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(p=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const b=process.env.CONNECTION_ID;if("string"!=typeof b||!b)throw new Error("Module initialise is missing CONNECTION_ID");const y=process.env.VERIFICATION_TOKEN;if("string"!=typeof y||!y)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const m=new s.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{m.receivedMessage(e)})),l=new e((0,a.literal)({id:b,upgradeScripts:t,_isInstanceBaseProps:!0})),m.sendWithCb("register",{apiVersion:p,connectionId:b,verificationToken:y}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))};const n=o(1635),r=o(9967),i=n.__importDefault(o(1943)),a=o(360),s=o(4044),c=n.__importDefault(o(6928));let l,d=!1},6160:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var n=o(8895);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return n.TCPHelper}});var r=o(1118);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return r.TelnetHelper}});var i=o(6259);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return i.UDPHelper}})},8895:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=o(1635).__importDefault(o(9278)),r=o(228),i=o(1400);class a extends r.EventEmitter{#e;#t;_socket;#o;#n=!1;#r=!1;#i=!1;#a;#s;#c;get isConnected(){return this.#n}get isConnecting(){return this.#r}get isDestroyed(){return this.#i}constructor(e,t,o){super(),this.#e=e,this.#t=t,this.#o={reconnect_interval:2e3,reconnect:!0,...o},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#r=!1,this.#n=!1,this.#o.reconnect&&this.#l(),this.#d(i.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#n=!0,this.#r=!1,this.#d(i.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#n=!1,this.#d(i.InstanceStatus.Disconnected),!this.#r&&this.#o.reconnect&&this.#l(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>{this.#i||this.connect()})),this.#c=setTimeout((()=>{this.#c=void 0,this.#i||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#i)throw new Error("Cannot connect destroyed socket");return!this.#r&&(this.#r=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#i||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#n)return!1;try{return new Promise(((t,o)=>{this._socket.write(e,(e=>{e?o(e):t(!0)}))}))}catch(e){this.#n=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#d(i.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#i=!0,void 0!==this.#s&&(clearTimeout(this.#s),this.#s=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#l(){void 0!==this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>{this.#s=void 0,this.#d(i.InstanceStatus.Connecting),this.connect()}),this.#o.reconnect_interval)}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.TCPHelper=a},1118:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=o(1635).__importDefault(o(228)),r=o(2203),i=o(8895);class a extends n.default{#u;#p;#c;get isConnected(){return this.#u.isConnected}get isConnecting(){return this.#u.isConnecting}get isDestroyed(){return this.#u.isDestroyed}constructor(e,t,o){super(),this.#u=new i.TCPHelper(e,t,o),this.#p=new s,this.#u._socket.pipe(this.#p),this.#u.on("connect",(()=>this.emit("connect"))),this.#u.on("end",(()=>this.emit("end"))),this.#u.on("error",(e=>this.emit("error",e))),this.#u.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#p.on("iac",((e,t)=>this.emit("iac",e,t))),this.#p.on("sb",(e=>this.emit("sb",e))),this.#p.on("data",(e=>this.emit("data",e))),this.#p.on("drain",(()=>this.emit("drain"))),this.#c=setTimeout((()=>{this.#c=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#u.connect()}async send(e){return this.#u.send(e)}destroy(){this.#u.destroy(),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#p.removeAllListeners(),this.#p.destroy()}}t.TelnetHelper=a;class s extends r.Transform{#b;#y;#m;constructor(e){super(e),this.#b=Buffer.alloc(0),this.#y=Buffer.alloc(0),this.#m=0}_transform(e,t,o){for(let t=0;t<e.length;++t)this.#f(e[t]);const n=this.#S();n.length&&this.push(n),o()}#f(e){if(0===this.#m){if(255===e)return void(this.#m=255);this.#b=Buffer.concat([this.#b,Buffer.from([e])])}else if(255===this.#m)switch(e){case 250:case 251:case 252:case 253:case 254:this.#m=e;break;default:this.#m=0}else{if(this.#m>=251&&this.#m<=254){let t;switch(this.#m){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#m=0)}if(250===this.#m){if(240===e)return this.emit("sb",this.#y),this.#m=0,void(this.#y=Buffer.alloc(0));this.#y=Buffer.concat([this.#y,Buffer.from([e])])}}}#S(){const e=this.#b;return this.#b=Buffer.alloc(0),e}}},6259:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=o(1635).__importDefault(o(7194)),r=o(228),i=o(1400);class a extends r.EventEmitter{#e;#t;#h;#o;#i=!1;#a;#c;get isDestroyed(){return this.#i}constructor(e,t,o){super(),this.#e=e,this.#t=t,this.#o={...o},this.#h=n.default.createSocket("udp4");try{this.#h.bind(this.#o.bind_port||0,this.#o.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#o.bind_ip||"0.0.0.0"}:${this.#o.bind_port||0}`)}void 0!==this.#o.ttl&&this.#h.setTTL(this.#o.ttl),void 0!==this.#o.multicast_ttl&&this.#h.setMulticastTTL(this.#o.multicast_ttl),this.#h.on("error",(e=>{this.#d(i.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#h.on("listening",(()=>{this.#o.broadcast&&this.#h.setBroadcast(!0),this.#o.multicast_interface&&this.#h.setMulticastInterface(this.#o.multicast_interface),this.#d(i.InstanceStatus.Ok),this.emit("listening")})),this.#h.on("message",((e,t)=>this.emit("data",e,t))),this.#c=setTimeout((()=>{this.#i||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#i)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,o)=>{this.#h.send(e,this.#t,this.#e,(e=>{e?o(e):t()}))}))}destroy(){this.#i=!0,void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#h.removeAllListeners(),this.#h.close(),this.removeAllListeners()}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.UDPHelper=a},4044:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=o(1635),r=o(360),i=n.__importDefault(o(6022));t.IpcWrapper=class{#g;#I;#k;#v=1;#A=new Map;constructor(e,t,o){this.#g=e,this.#I=t,this.#k=o}async sendWithCb(e,t,o,n=0){n<=0&&(n=this.#k);const r={timeout:void 0,resolve:()=>null,reject:()=>null},a=new Promise(((e,t)=>{r.resolve=e,r.reject=t}));this.#v>268435456&&(this.#v=1);const s=this.#v++;this.#A.set(s,r),this.#I({direction:"call",name:String(e),payload:i.default.stringify(t),callbackId:s});const c=new Error("Call timed out");return r.timeout=setTimeout((()=>{r.reject(o?o():c),this.#A.delete(s)}),n),a}sendWithNoCb(e,t){this.#I({direction:"call",name:String(e),payload:i.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#g[e.name];if(!t)return void(e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:i.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?i.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!0,payload:i.default.stringify(t)})}),(t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):i.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#A.get(e.callbackId);if(this.#A.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const o=e.payload?i.default.parse(e.payload):void 0;if(e.success)t.resolve(o);else{let e=o;o&&"object"==typeof o&&"message"in o&&(e=new Error(o.message),o.stack&&(e.stack=o.stack)),t.reject(e)}break}default:(0,r.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},9967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},6278:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const n=o(1635);n.__exportStar(o(9077),t),n.__exportStar(o(2018),t),n.__exportStar(o(4581),t);var r=o(360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return r.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return r.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return r.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return r.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return r.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return r.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return r.assertNever}}),n.__exportStar(o(6160),t);var i=o(4326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return i.runEntrypoint}})},4289:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=o(2593);function r(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#P;#w;#C;#_=new Map;#M=new Map;constructor(e,t,o){this.#P=e,this.#w=t,this.#C=o}async handleExecuteAction(e){const t=this.#_.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},o)}handleUpdateActions(e){for(const[t,o]of Object.entries(e)){const e=this.#M.get(t);if(e){const t=this.#_.get(e.actionId);if(t?.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(r(e),o)).catch((t=>{this.#C("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!o||o.disabled)this.#M.delete(t);else{this.#M.set(t,o);const e=this.#_.get(o.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#P({text:e,controlId:o.controlId,actionInstanceId:o.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(r(o),t)).catch((e=>{this.#C("error",`Action subscribe failed: ${JSON.stringify(o)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#_.get(e.action.actionId);if(t&&t.learn){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},o)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#_.clear();for(const[o,r]of Object.entries(e))r&&(t.push({id:o,name:r.name,description:r.description,options:(0,n.serializeIsVisibleFn)(r.options),hasLearn:!!r.learn,learnTimeout:r.learnTimeout}),this.#_.set(o,r));this.#w({actions:t})}_getAllActions(){return Array.from(this.#M.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#M.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.actionId))));for(const e of t){const t=this.#_.get(e.actionId);if(t?.subscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(r(e),o)).catch((t=>{this.#C("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#M.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.actionId))));for(const e of t){const t=this.#_.get(e.actionId);if(t&&t.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(r(e),o)).catch((t=>{this.#C("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},2593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},8039:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=o(1635),r=o(2593),i=n.__importDefault(o(7e3));function a(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#P;#O;#T;#C;#R=new Map;#K=new Map;#E=new Map;#F=new Map;#x;get parseVariablesContext(){return this.#x}constructor(e,t,o,n){this.#P=e,this.#O=t,this.#T=o,this.#C=n}getDefinitionIds(){return Array.from(this.#R.keys())}getInstanceIds(){return Array.from(this.#K.keys())}handleUpdateFeedbacks(e){for(const[t,o]of Object.entries(e)){const e=this.#K.get(t);if(e){const t=this.#R.get(e.feedbackId);if(t?.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(a(t.type,e),o)).catch((t=>{this.#C("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!o||o.disabled)this.#K.delete(t);else{this.#K.set(t,{...o,referencedVariables:null});const e=this.#R.get(o.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#P({text:e,controlId:o.controlId,actionInstanceId:void 0,feedbackInstanceId:o.id})).text};Promise.resolve(e.subscribe(a(e.type,o),t)).catch((e=>{this.#C("error",`Feedback subscribe failed: ${JSON.stringify(o)} - ${e?.message??e} ${e?.stack}`)}))}this.#D(t)}}}async handleLearnFeedback(e){const t=this.#R.get(e.feedback.feedbackId);if(t&&t.learn){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},o)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#F.values())for(const o of e.variablesIds)t.changedVariables.add(o);const o=new Set;for(const e of this.#K.values())if(!this.#F.has(e.id)&&e.referencedVariables)for(const n of e.referencedVariables)if(t.has(n)){o.add(e.id);break}for(const e of o)setImmediate((()=>{this.#D(e)}))}#D(e){const t=this.#F.get(e);if(t)return void(t.needsRecheck=!0);const o=this.#K.get(e);if(!o)return;const n=o,r={needsRecheck:!1,changedVariables:new Set};this.#F.set(e,r),Promise.resolve().then((async()=>{const t=this.#R.get(n.feedbackId);let o;const r=new Set;if(t){this.#x=`Feedback ${n.feedbackId} (${e})`;const i={parseVariablesInString:async t=>{const o=await this.#P({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(o.variableIds&&o.variableIds.length)for(const e of o.variableIds)r.add(e);return o.text}};o="boolean"===t.type?t.callback({...a("boolean",n),type:"boolean"},i):t.callback({...a("advanced",n),type:"advanced",image:n.image},i),this.#x=void 0}const i=await o;this.#E.set(e,{id:e,controlId:n.controlId,value:i}),this.#N(),n.referencedVariables=r.size>0?Array.from(r):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#x=void 0,this.#F.delete(e);let t=!1;if(n.referencedVariables)for(const e of n.referencedVariables)if(r.changedVariables.has(e)){t=!0;break}(t||r.needsRecheck)&&setImmediate((()=>{this.#D(e)}))}))}#N=(0,i.default)((()=>{const e=this.#E;this.#E=new Map,e.size>0&&this.#O({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#R.clear();for(const[o,n]of Object.entries(e))n&&(t.push({id:o,name:n.name,description:n.description,options:(0,r.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"boolean"===n.type?n.defaultStyle:void 0,hasLearn:!!n.learn,learnTimeout:n.learnTimeout,showInvert:"boolean"===n.type&&n.showInvert}),this.#R.set(o,n));this.#T({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,o]of this.#K.entries())this.#R.get(o.feedbackId)&&(0===t.size||t.has(o.feedbackId))&&this.#D(e)}checkFeedbacksById(e){for(const t of e)this.#D(t)}_getAllFeedbacks(){return Array.from(this.#K.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#K.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.feedbackId))));for(const e of t){const t=this.#R.get(e.feedbackId);if(t?.subscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(a(t.type,e),o)).catch((t=>{this.#C("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#K.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.feedbackId))));for(const e of t){const t=this.#R.get(e.feedbackId);if(t&&t.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(a(t.type,e),o)).catch((t=>{this.#C("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},1706:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=function(e,t,o,i,a,s){const c=new Map,l=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??o;t&&"number"==typeof e&&l(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??o;e&&"number"==typeof t&&l(t).feedbacks.push(e.id)}if(!s)for(let e=o??-1;e<i.length;e++)l(e).config=!0;const d={},u={};let p;if(c.size>0){const s=Array.from(c.keys()).sort(),l=Math.min(...s,o??-1)+1,b=[],y=[],m=i.length;for(let o=l;o<m;o++){const s=c.get(o-1);s&&(b.push(...s.actions),y.push(...s.feedbacks));const l=!!s?.config;if(!l&&0===b.length&&0===y.length)continue;const m=p??a,f=(0,i[o])({currentConfig:r(m)},{config:l?m:null,actions:b.map((t=>{const o=e[t];if(o)return(0,n.literal)({id:o.id,controlId:o.controlId,actionId:o.actionId,options:void 0!==o.options?r(o.options):{}})})).filter((e=>!!e)),feedbacks:y.map((e=>{const o=t[e];if(o)return(0,n.literal)({id:o.id,controlId:o.controlId,feedbackId:o.feedbackId,options:void 0!==o.options?r(o.options):{},isInverted:o.isInverted})})).filter((e=>!!e))});l&&f.updatedConfig&&(p=f.updatedConfig);for(const t of f.updatedActions)if(t){const o=e[t.id];o&&(o.actionId=t.actionId,o.options=t.options,u[t.id]=o)}for(const e of f.updatedFeedbacks)if(e){const o=t[e.id];o&&(o.feedbackId=e.feedbackId,o.options=e.options,d[e.id]={...o,style:d[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,o]of Object.entries(e))u[t]||"number"!=typeof o?.upgradeIndex||(u[t]=o);for(const[e,o]of Object.entries(t))d[e]||"number"!=typeof o?.upgradeIndex||(d[e]=o)}return{updatedActions:u,updatedFeedbacks:d,updatedConfig:p}};const n=o(360);function r(e){return JSON.parse(JSON.stringify(e))}},9077:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=function(e){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'");if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}};const n=o(1635).__importDefault(o(7281))},3730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1649:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=o(1635),r=o(360),i=n.__importDefault(o(3290)),a=o(2593),s=o(1706),c=o(8039),l=o(4044),d=o(4289),u=o(2365);t.InstanceBase=class{#j;#B;id;#q=new i.default({concurrency:1});#V=!1;#L=!1;#U={};#z;#H;#W=new Map;#$=new Map;#G=new Map;#o;#Y;get instanceOptions(){return this.#o}get label(){return this.#Y}constructor(e){if(!(0,a.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#o={disableVariableValidation:!1},this.#j=new l.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#j.receivedMessage(e)})),this.#z=new d.ActionManager((async e=>this.#j.sendWithCb("parseVariablesInString",e)),(e=>this.#j.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#H=new c.FeedbackManager((async e=>this.#j.sendWithCb("parseVariablesInString",e)),(e=>this.#j.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#j.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#B=e.upgradeScripts,this.id=e.id,this.#Y=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#q.add((async()=>{if(this.#V)throw new Error("Already initialized");const t=e.actions,o=e.feedbacks;if(this.#U=e.config,this.#Y=e.label,e.isFirstInit){const t={},o=this.getConfigFields();for(const e of o)"default"in e&&(t[e.id]=e.default);this.#U=t,this.saveConfig(this.#U),e.lastUpgradeIndex=this.#B.length-1}const{updatedActions:n,updatedFeedbacks:r,updatedConfig:i}=(0,s.runThroughUpgradeScripts)(t,o,e.lastUpgradeIndex,this.#B,this.#U,!1);this.#U=i??this.#U;const a=this.#j.sendWithCb("upgradedItems",{updatedActions:n,updatedFeedbacks:r});try{await this.init(this.#U,!!e.isFirstInit),this.#V=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await a}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:o},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#B.length-1,updatedConfig:this.#U}}))}async _handleDestroy(){await this.#q.add((async()=>{if(!this.#V)throw new Error("Not initialized");await this.destroy(),this.#V=!1}))}async _handleConfigUpdateAndLabel(e){await this.#q.add((async()=>{if(!this.#V)throw new Error("Not initialized");this.#Y=e.label,this.#U=e.config,await this.configUpdated(this.#U)}))}async _handleExecuteAction(e){return this.#z.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)({},e.feedbacks,null,this.#B,this.#U,!0);this.#j.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#H.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)(e.actions,{},null,this.#B,this.#U,!0);this.#j.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#z.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,a.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#z.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#H.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#L)return}else if(!this.#L)return;if(!this.handleStartStopRecordActions)throw this.#L=!1,new Error("Recording actions is not supported by this module!");this.#L=e.recording,this.handleStartStopRecordActions(this.#L)}async _handleVariablesChanged(e){this.#H.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#W.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#W.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#U=e,this.#j.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#z.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#H.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[o,n]of Object.entries(e))n&&t.push({...n,id:o});this.#j.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],o=[];this.#$.clear();for(const n of e)t.push({id:n.variableId,name:n.name}),this.#$.set(n.variableId,n),this.#G.has(n.variableId)||(this.#G.set(n.variableId,""),o.push({id:n.variableId,value:""}));if(!this.#o.disableVariableValidation){const e=new Set(this.#$.keys());for(const t of this.#G.keys())e.has(t)||(this.#G.delete(t),o.push({id:t,value:void 0}))}this.#j.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:o})}setVariableValues(e){const t=[];for(const[o,n]of Object.entries(e))this.#o.disableVariableValidation?(void 0===n?this.#G.delete(o):this.#G.set(o,n),t.push({id:o,value:n})):this.#$.has(o)?(this.#G.set(o,n??""),t.push({id:o,value:n??""})):t.push({id:o,value:void 0});this.#j.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#G.get(e)}async parseVariablesInString(e){const t=this.#H.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#j.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#H.checkFeedbacks(e)}checkFeedbacksById(...e){this.#H.checkFeedbacksById(e)}_getAllActions(){return this.#z._getAllActions()}subscribeActions(...e){this.#z.subscribeActions(e)}unsubscribeActions(...e){this.#z.unsubscribeActions(e)}_getAllFeedbacks(){return this.#H._getAllFeedbacks()}subscribeFeedbacks(...e){this.#H.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#H.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#L)throw new Error("Not currently recording actions");this.#j.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}setCustomVariableValue(e,t){this.#j.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,o,n){this.#j.sendWithNoCb("send-osc",(0,r.literal)({host:e,port:t,path:o,args:n}))}updateStatus(e,t){this.#j.sendWithNoCb("set-status",(0,r.literal)({status:e,message:t??null}))}log(e,t){this.#j.sendWithNoCb("log-message",(0,r.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const o="string"==typeof e?{type:e}:e,n=new u.SharedUdpSocketImpl(this.#j,this.#W,o);return t&&n.on("message",t),n}}},7386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1400:(e,t)=>{"use strict";var o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning",e.AuthenticationFailure="authentication_failure"}(o||(t.InstanceStatus=o={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(n||(t.Regex=n={}))},8983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2018:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(1635);n.__exportStar(o(3730),t),n.__exportStar(o(1649),t),n.__exportStar(o(7386),t),n.__exportStar(o(1400),t),n.__exportStar(o(8983),t),n.__exportStar(o(8104),t),n.__exportStar(o(3258),t),n.__exportStar(o(131),t),n.__exportStar(o(3371),t),n.__exportStar(o(9786),t),n.__exportStar(o(6132),t)},3258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2365:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const n=o(1635).__importDefault(o(228)),r=o(360);class i extends n.default{#j;#J;#o;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#m&&"object"==typeof this.#m?this.#m:void 0}#m="pending";constructor(e,t,o){super(),this.#j=e,this.#J=t,this.#o={...o}}bind(e,t,o){if(this.#m&&"object"==typeof this.#m)throw new Error("Socket is already bound");switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,r.assertNever)(this.#m),new Error("Invalid socket state")}this.#m="binding",o&&this.on("listening",o),this.#j.sendWithCb("sharedUdpSocketJoin",{family:this.#o.type,portNumber:e}).then((t=>{this.#m={portNumber:e,handleId:t},this.#J.set(t,this),this.emit("listening")}),(e=>{this.#m="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#m&&"object"==typeof this.#m);else switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,r.assertNever)(this.#m),new Error("Invalid socket state")}const t=this.#m.handleId;this.#m="closed",e&&this.on("close",e),this.#j.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#J.delete(t),this.emit("close")}),(e=>{this.#J.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,o,n,r,i){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof o){if("number"!=typeof n||"string"!=typeof r)throw new Error("Invalid arguments");if(void 0!==i&&"number"!=typeof i)throw new Error("Invalid arguments");const a=this.#Q(e,t,o);this.#X(a,n,r,i)}else{if("string"!=typeof o)throw new Error("Invalid arguments");{if(void 0!==n&&"function"!=typeof n)throw new Error("Invalid arguments");const r=this.#Q(e,0,void 0);this.#X(r,t,o,n)}}}#Q(e,t,o){let n;if("string"==typeof e)n=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))n=e;else{if(Array.isArray(e))return Buffer.from(e);n=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return n.subarray(t,void 0!==o?o+t:void 0)}#X(e,t,o,n){if(!this.#m||"object"!=typeof this.#m)throw new Error("Socket is not open");this.#j.sendWithCb("sharedUdpSocketSend",{handleId:this.#m.handleId,message:e,address:o,port:t}).then((()=>{n?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#m="fatalError";const t=this.boundState;t&&this.#J.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=i},3371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyUpgradeScript=void 0,t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,o)=>{const n=[];for(const t of o.feedbacks){let o=e[t.feedbackId];if(!0===o&&(o={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),o){t.style||(t.style={});for(const[e,r]of Object.entries(o))void 0!==t.options[e]&&(t.style[r]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,o)=>{const n=[];for(const t of o.feedbacks){const o=e[t.feedbackId];if("string"!=typeof o)continue;const r=t.options[o];void 0!==r&&(delete t.options[o],t.isInverted="true"===r||!0===r||Number(r)>0,n.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]})},6132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},360:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,o,n){let r=(255&e)<<16|(255&t)<<8|255&o;return n&&n>=0&&n<1&&(r+=16777216*Math.round(255*(1-n))),r},t.splitRgb=r,t.splitHsl=function(e){const t=r(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=r(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=r(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()};const n=o(6284);function r(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,n.colord)(e).isValid()){const t=(0,n.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}},7281:(e,t,o)=>{"use strict";e.exports=c,e.exports.default=c;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18 or node22",enum:["node18","node22"]},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{oneOf:[{$ref:"#/definitions/bonjourQuery"},{type:"array",items:{$ref:"#/definitions/bonjourQuery"}}]}},additionalProperties:!1}},additionalProperties:!1,required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"],definitions:{bonjourQuery:{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1}}},r={type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1},i=Object.prototype.hasOwnProperty,a=o(7169).A,s=new RegExp("","u");function c(e,{instancePath:t="",parentData:o,parentDataProperty:l,rootData:d=e}={}){let u=null,p=0;if(0===p){if(!e||"object"!=typeof e||Array.isArray(e))return c.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let o;if(void 0===e.id&&(o="id")||void 0===e.name&&(o="name")||void 0===e.shortname&&(o="shortname")||void 0===e.description&&(o="description")||void 0===e.version&&(o="version")||void 0===e.license&&(o="license")||void 0===e.repository&&(o="repository")||void 0===e.bugs&&(o="bugs")||void 0===e.maintainers&&(o="maintainers")||void 0===e.legacyIds&&(o="legacyIds")||void 0===e.runtime&&(o="runtime")||void 0===e.manufacturer&&(o="manufacturer")||void 0===e.products&&(o="products")||void 0===e.keywords&&(o="keywords"))return c.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"}],!1;{const o=p;for(const o in e)if(!i.call(n.properties,o))return c.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"}],!1;if(o===p){if(void 0!==e.$schema){const o=p;if("string"!=typeof e.$schema)return c.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=o===p}else b=!0;if(b){if(void 0!==e.id){const o=p;if("string"!=typeof e.id)return c.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.name){const o=p;if("string"!=typeof e.name)return c.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.shortname){const o=p;if("string"!=typeof e.shortname)return c.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.description){const o=p;if("string"!=typeof e.description)return c.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.version){const o=p;if("string"!=typeof e.version)return c.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.license){const o=p;if("string"!=typeof e.license)return c.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.repository){const o=p;if("string"!=typeof e.repository)return c.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.bugs){const o=p;if("string"!=typeof e.bugs)return c.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.maintainers){let o=e.maintainers;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var y=!0;const e=o.length;for(let n=0;n<e;n++){let e=o[n];const r=p;if(p===r){if(!e||"object"!=typeof e||Array.isArray(e))return c.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let o;if(void 0===e.name&&(o="name"))return c.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"}],!1;if(void 0!==e.name){const o=p;if("string"!=typeof e.name)return c.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=o===p}else m=!0;if(m){if(void 0!==e.email){const o=p;if("string"!=typeof e.email)return c.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=o===p}else m=!0;if(m)if(void 0!==e.github){const o=p;if("string"!=typeof e.github)return c.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=o===p}else m=!0}}}if(!(y=r===p))break}if(y){let e,n=o.length;if(n>1)for(;n--;)for(e=n;e--;)if(a(o[n],o[e]))return c.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}b=n===p}else b=!0;if(b){if(void 0!==e.legacyIds){let o=e.legacyIds;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var f=!0;const e=o.length;for(let n=0;n<e;n++){const e=p;if("string"!=typeof o[n])return c.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(f=e===p))break}if(f){let e,n=o.length;if(n>1){const r={};for(;n--;){let i=o[n];if("string"==typeof i){if("number"==typeof r[i])return e=r[i],c.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;r[i]=n}}}}}}b=n===p}else b=!0;if(b){if(void 0!==e.runtime){let o=e.runtime;const r=p;if(p===r){if(!o||"object"!=typeof o||Array.isArray(o))return c.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===o.type&&(e="type")||void 0===o.api&&(e="api")||void 0===o.apiVersion&&(e="apiVersion")||void 0===o.entrypoint&&(e="entrypoint"))return c.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==o.type){let e=o.type;const r=p;if("string"!=typeof e)return c.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("node18"!==e&&"node22"!==e)return c.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var S=r===p}else S=!0;if(S){if(void 0!==o.api){let e=o.api;const r=p;if("string"!=typeof e)return c.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return c.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;S=r===p}else S=!0;if(S){if(void 0!==o.apiVersion){const e=p;if("string"!=typeof o.apiVersion)return c.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S=e===p}else S=!0;if(S)if(void 0!==o.entrypoint){const e=p;if("string"!=typeof o.entrypoint)return c.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S=e===p}else S=!0}}}}b=r===p}else b=!0;if(b){if(void 0!==e.manufacturer){const o=p;if("string"!=typeof e.manufacturer)return c.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.products){let o=e.products;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(o.length<1)return c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var h=!0;const e=o.length;for(let n=0;n<e;n++){const e=p;if("string"!=typeof o[n])return c.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=e===p))break}if(h){let e,n=o.length;if(n>1){const r={};for(;n--;){let i=o[n];if("string"==typeof i){if("number"==typeof r[i])return e=r[i],c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;r[i]=n}}}}}}b=n===p}else b=!0;if(b){if(void 0!==e.keywords){let o=e.keywords;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var g=!0;const e=o.length;for(let n=0;n<e;n++){const e=p;if("string"!=typeof o[n])return c.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(g=e===p))break}if(g){let e,n=o.length;if(n>1){const r={};for(;n--;){let i=o[n];if("string"==typeof i){if("number"==typeof r[i])return e=r[i],c.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;r[i]=n}}}}}}b=n===p}else b=!0;if(b)if(void 0!==e.bonjourQueries){let o=e.bonjourQueries;const n=p;if(p===n){if(!o||"object"!=typeof o||Array.isArray(o))return c.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=p;for(const e in o)if(!s.test(e))return c.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===p)for(const e in o)if(s.test(e)){let n=o[e];const i=p,a=p;let l=!1,d=null;const b=p;if(p==p)if(n&&"object"==typeof n&&!Array.isArray(n)){let o;if(void 0===n.type&&(o="type")||void 0===n.protocol&&(o="protocol")){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"};null===u?u=[n]:u.push(n),p++}else{const o=p;for(const o in n)if("type"!==o&&"protocol"!==o&&"txt"!==o){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"};null===u?u=[n]:u.push(n),p++;break}if(o===p){if(void 0!==n.type){const o=p;if("string"!=typeof n.type){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}var I=o===p}else I=!0;if(I){if(void 0!==n.protocol){let o=n.protocol;const i=p;if("string"!=typeof o){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}if("tcp"!==o&&"udp"!==o){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:r.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===u?u=[o]:u.push(o),p++}I=i===p}else I=!0;if(I)if(void 0!==n.txt){let o=n.txt;const r=p;if(p===r)if(o&&"object"==typeof o&&!Array.isArray(o)){const n=p;for(const n in o)if(!s.test(n)){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===u?u=[o]:u.push(o),p++;break}if(n===p)for(const n in o)if(s.test(n)){const r=p;if("string"!=typeof o[n]){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}if(r!==p)break}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}I=r===p}else I=!0}}}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}b===p&&(l=!0,d=0);const y=p;if(p===y)if(Array.isArray(n)){const o=n.length;for(let i=0;i<o;i++){let o=n[i];const a=p;if(p==p)if(o&&"object"==typeof o&&!Array.isArray(o)){let n;if(void 0===o.type&&(n="type")||void 0===o.protocol&&(n="protocol")){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i,schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"};null===u?u=[o]:u.push(o),p++}else{const n=p;for(const n in o)if("type"!==n&&"protocol"!==n&&"txt"!==n){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i,schemaPath:"#/definitions/bonjourQuery/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===u?u=[o]:u.push(o),p++;break}if(n===p){if(void 0!==o.type){const n=p;if("string"!=typeof o.type){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}var k=n===p}else k=!0;if(k){if(void 0!==o.protocol){let n=o.protocol;const a=p;if("string"!=typeof n){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}if("tcp"!==n&&"udp"!==n){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:r.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===u?u=[o]:u.push(o),p++}k=a===p}else k=!0;if(k)if(void 0!==o.txt){let n=o.txt;const r=p;if(p===r)if(n&&"object"==typeof n&&!Array.isArray(n)){const o=p;for(const o in n)if(!s.test(o)){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"};null===u?u=[n]:u.push(n),p++;break}if(o===p)for(const o in n)if(s.test(o)){const r=p;if("string"!=typeof n[o]){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i+"/txt/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[n]:u.push(n),p++}if(r!==p)break}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}k=r===p}else k=!0}}}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i,schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}if(a!==p)break}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===u?u=[o]:u.push(o),p++}var v;if((v=y===p)&&l?(l=!1,d=[d,1]):v&&(l=!0,d=1),!l){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return null===u?u=[o]:u.push(o),p++,c.errors=u,!1}if(p=a,null!==u&&(a?u.length=a:u=null),i!==p)break}}}b=n===p}else b=!0}}}}}}}}}}}}}}}}}}return c.errors=u,0===p}},7e3:(e,t,o)=>{"use strict";const n=o(4865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:o=0,maxWait:r=0,before:i=!1,after:a=!0}=t;if(!i&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,c,l;const d=function(...t){const n=this,d=i&&!s;return clearTimeout(s),s=setTimeout((()=>{s=void 0,c&&(clearTimeout(c),c=void 0),a&&(l=e.apply(n,t))}),o),r>0&&!c&&a&&(c=setTimeout((()=>{c=void 0,s&&(clearTimeout(s),s=void 0),l=e.apply(n,t)}),r)),d&&(l=e.apply(n,t)),l};return n(d,e),d.cancel=()=>{s&&(clearTimeout(s),s=void 0),c&&(clearTimeout(c),c=void 0)},d}},2096:(e,t,o)=>{const n=o(918).default;e.exports=n,e.exports.default=n},484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),t.default=(e,t)=>{let n=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++)n=65535&(o[255&(n^e[t])]^n>>8);return n}},918:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(484)),i=n(o(7327));t.default=(0,i.default)("crc-16-modbus",r.default)},4422:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(181);t.default=(e,t)=>n.Buffer.from(e,t)},7327:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(4422));t.default=function(e,t){const o=(e,o)=>t((0,r.default)(e),o)>>>0;return o.signed=(e,o)=>t((0,r.default)(e),o),o.unsigned=o,o.model=e,o}},1635:(e,t,o)=>{"use strict";o.r(t),o.d(t,{__addDisposableResource:()=>x,__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>P,__asyncValues:()=>C,__await:()=>A,__awaiter:()=>y,__classPrivateFieldGet:()=>K,__classPrivateFieldIn:()=>F,__classPrivateFieldSet:()=>E,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>N,__esDecorate:()=>l,__exportStar:()=>S,__extends:()=>r,__generator:()=>m,__importDefault:()=>R,__importStar:()=>T,__makeTemplateObject:()=>_,__metadata:()=>b,__param:()=>c,__propKey:()=>u,__read:()=>g,__rest:()=>a,__rewriteRelativeImportExtension:()=>j,__runInitializers:()=>d,__setFunctionName:()=>p,__spread:()=>I,__spreadArray:()=>v,__spreadArrays:()=>k,__values:()=>h,default:()=>B});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var i=function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};function a(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}function s(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}function c(e,t){return function(o,n){t(o,n,e)}}function l(e,t,o,n,r,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p=!1,b=o.length-1;b>=0;b--){var y={};for(var m in n)y[m]="access"===m?{}:n[m];for(var m in n.access)y.access[m]=n.access[m];y.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var f=(0,o[b])("accessor"===c?{get:u.get,set:u.set}:u[l],y);if("accessor"===c){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(s=a(f.get))&&(u.get=s),(s=a(f.set))&&(u.set=s),(s=a(f.init))&&r.unshift(s)}else(s=a(f))&&("field"===c?r.unshift(s):u[l]=s)}d&&Object.defineProperty(d,n.name,u),p=!0}function d(e,t,o){for(var n=arguments.length>2,r=0;r<t.length;r++)o=n?t[r].call(e,o):t[r].call(e);return n?o:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,o){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:o?"".concat(o," ",t):t})}function b(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function y(e,t,o,n){return new(o||(o=Promise))((function(r,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function m(e,t){var o,n,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(o=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{o=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var f=Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]};function S(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||f(t,e,o)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],n=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function k(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n}function v(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function P(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=o.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){r[e]&&(n[e]=function(t){return new Promise((function(o,n){i.push([e,t,o,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{(o=r[e](t)).value instanceof A?Promise.resolve(o.value.v).then(c,l):d(i[0][2],o)}catch(e){d(i[0][3],e)}var o}function c(e){s("next",e)}function l(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,o;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,r){t[n]=e[n]?function(t){return(o=!o)?{value:A(e[n](t)),done:!1}:r?r(t):t}:r}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(t){return new Promise((function(n,r){!function(e,t,o,n){Promise.resolve(n).then((function(t){e({value:t,done:o})}),t)}(n,r,(t=e[o](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var M=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},O=function(e){return O=Object.getOwnPropertyNames||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[t.length]=o);return t},O(e)};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=O(e),n=0;n<o.length;n++)"default"!==o[n]&&f(t,e,o[n]);return M(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function K(e,t,o,n){if("a"===o&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?n:"a"===o?n.call(e):n?n.value:t.get(e)}function E(e,t,o,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,o):r?r.value=o:t.set(e,o),o}function F(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function x(e,t,o){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],o&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:o})}else o&&e.stack.push({async:!0});return t}var D="function"==typeof SuppressedError?SuppressedError:function(e,t,o){var n=new Error(o);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function N(e){function t(t){e.error=e.hasError?new D(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var o,n=0;return function r(){for(;o=e.stack.pop();)try{if(!o.async&&1===n)return n=0,e.stack.push(o),Promise.resolve().then(r);if(o.dispose){var i=o.dispose.call(o.value);if(o.async)return n|=2,Promise.resolve(i).then(r,(function(e){return t(e),r()}))}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function j(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,o,n,r,i){return o?t?".jsx":".js":!n||r&&i?n+r+"."+i.toLowerCase()+"js":e})):e}const B={__extends:r,__assign:i,__rest:a,__decorate:s,__param:c,__esDecorate:l,__runInitializers:d,__propKey:u,__setFunctionName:p,__metadata:b,__awaiter:y,__generator:m,__createBinding:f,__exportStar:S,__values:h,__read:g,__spread:I,__spreadArrays:k,__spreadArray:v,__await:A,__asyncGenerator:P,__asyncDelegator:w,__asyncValues:C,__makeTemplateObject:_,__importStar:T,__importDefault:R,__classPrivateFieldGet:K,__classPrivateFieldSet:E,__classPrivateFieldIn:F,__addDisposableResource:x,__disposeResources:N,__rewriteRelativeImportExtension:j}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=o(6278),t=o(7206),n=o(3062),r=o(701);class i extends e.InstanceBase{config;gostream;states;async init(t){this.config=t,this.log("debug","Initializing module"),this.updateStatus(e.InstanceStatus.Disconnected),this.saveConfig(this.config),this.gostream=new n.GoStream(this),this.initConnection(),this.init_variables(),this.init_actions(),this.init_feedbacks(),this.init_presets(),this.checkFeedbacks()}async destroy(){this.gostream.disconnectSocket(),this.updateStatus(e.InstanceStatus.Disconnected),this.log("debug","destroy "+this.id)}getConfigFields(){return(0,t.GetConfigFields)()}async configUpdated(t){this.config=t,this.gostream.disconnectSocket(),this.updateStatus(e.InstanceStatus.Disconnected),this.gostream=new n.GoStream(this),this.initConnection(),this.init_variables(),this.init_actions(),this.init_feedbacks(),this.init_presets(),this.checkFeedbacks()}initConnection(){this.log("debug","Initializing connection"),this.gostream.connect()}init_variables(){this.log("debug","Initializing variables"),this.setVariableDefinitions(this.gostream.getVariables(this))}init_actions(){this.log("debug","Initializing actions"),this.setActionDefinitions((0,r.GetActionsList)(this))}init_feedbacks(){this.log("debug","Initializing feedbacks"),this.setFeedbackDefinitions(this.gostream.getFeedbacks(this))}init_presets(){this.log("debug","Initializing presets"),this.setPresetDefinitions(this.gostream.getPresets())}}(0,e.runEntrypoint)(i,[])})()})();