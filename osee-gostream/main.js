(()=>{var e={3062:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoStream=void 0;const n=o(3911),i=o(4134),r=o(6450),a=o(6519),s=o(7956);t.GoStream=class{instance;connection;constructor(e){this.instance=e,this.instance.states=(0,a.create)(e.model),this.connection=null}getVariables(){return(0,n.variables)(this.instance)}getFeedbacks(){return(0,i.feedbacks)(this.instance)}getPresets(){return(0,r.presets)(this.instance)}connect(){(0,s.connect)(this.instance)}disconnectSocket(){(0,s.disconnectSocket)()}}},701:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetActionsList=function(e){return{...i.MixEffectActions.create(e.model,e.states.MixEffect),...n.SuperSourceActions.create(e.model,e.states.SuperSource),...r.StreamingActions.create(e.model,e.states.Streaming),...a.RecordActions.create(e.model,e.states.Record),...s.StillGeneratorActions.create(e.model,e.states.StillGenerator),...c.PlaybackActions.create(e.model,e.states.Playback),...l.AudioMixerActions.create(e.model,e.states.AudioMixer),...d.ColorBackActions.create(e.model,e.states.ColorBack),...u.DownstreamKeyerActions.create(e.model,e.states.DownstreamKeyer),...p.SettingsActions.create(e.model,e.states.Settings),...b.MacroActions.create(e.model,e.states.Macros),...y.UpstreamKeyerActions.create(e.model,e.states.UpstreamKeyer)}};const n=o(141),i=o(1956),r=o(8427),a=o(4160),s=o(9102),c=o(208),l=o(4718),d=o(4483),u=o(7467),p=o(7268),b=o(8627),y=o(9528)},7206:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetConfigFields=function(){return[{label:"Information",id:"info",type:"static-text",value:"This module controls a GoStream device over IP protocol",width:12},{id:"bonjourDevices",type:"bonjour-device",label:"Device",width:6},{type:"dropdown",id:"modelId",label:"Model",width:6,choices:i.ALL_MODEL_CHOICES,default:r.MODEL_AUTO_DETECT,isVisible:e=>!e.bonjourDevices},{label:"Target IP",id:"host",type:"textinput",default:"192.168.1.80",width:6,required:!0,regex:n.Regex.IP,tooltip:"GoSteamDeck address",isVisible:e=>!e.bonjourDevices}]};const n=o(6278),i=o(2317),r=o(6996)},7956:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProType=t.HEAD2=t.HEAD1=void 0,t.valueAsBoolean=function(e){return"number"==typeof e&&1===e},t.connect=function(e){null!==h&&h.destroy(),e.updateStatus(i.InstanceStatus.Connecting);const t=e.config.bonjourDevices?e.config.bonjourDevices.split(":")[0]:e.config.host;h=new i.TCPHelper(t,k),h.on("status_change",((t,o)=>{e.updateStatus(t,o),e.log("debug","Status Changed to "+t+(null!=o?": "+o:""))})),h.on("connect",(()=>{e.updateStatus(i.InstanceStatus.Ok),e.log("debug","Socket connected"),w(e.model).catch((t=>{e.log("error","Error while syncing data "+t)})).then((()=>{e.log("debug","State data synced OK!")}),(()=>{e.log("debug","No handler defined to reconnect")})).catch((()=>{}))})),h.on("error",(t=>{e.updateStatus(i.InstanceStatus.ConnectionFailure,"Connection error"),e.log("debug","Socket connect error: "+t)})),h.on("drain",(()=>{e.log("debug","Socket drain")})),h.on("end",(()=>{e.updateStatus(i.InstanceStatus.Disconnected,"Disconnecting"),e.log("debug","Socket Disconnecting"),h?.destroy()})),h.on("data",(t=>{const o=v(t);!function(e,t){let o=!1;t.forEach((t=>{s.MixEffectState.update(e.states.MixEffect,t)&&(o=!0),c.PlaybackState.update(e.states.Playback,t)&&(o=!0),l.RecordState.update(e.states.Record,t)&&(o=!0),d.StillGeneratorState.update(e.states.StillGenerator,t)&&(o=!0),u.StreamingState.update(e.states.Streaming,t)&&(o=!0),p.SuperSourceState.update(e.states.SuperSource,t)&&(o=!0),b.AudioMixerState.update(e.states.AudioMixer,t)&&(o=!0),y.DownstreamKeyerState.update(e.states.DownstreamKeyer,t)&&(o=!0),m.SettingsState.update(e.states.Settings,t)&&(o=!0),f.MacroState.update(e.states.Macro,t)&&(o=!0),S.UpstreamKeyerState.update(e.states.UpstreamKeyer,t)&&(o=!0)})),o&&(e.init_actions(),e.init_feedbacks()),e.checkFeedbacks(),(0,a.updateVariables)(e)}(e,o)}))},t.handleGoStreamPacket=v,t.ReqStateData=w,t.disconnectSocket=function(){null!==h&&h.destroy()},t.sendCommands=async function(e){if(null!==h){const t=[];return e.forEach((e=>{const o=JSON.stringify(e),n=Buffer.from(o,"utf-8");t.push(C(n))})),h.send(Buffer.concat(t))}return!1},t.sendCommand=async function(e,t,o){if(null!==h){const n={id:e,type:t,value:o},i=JSON.stringify(n),r=C(Buffer.from(i,"utf-8"));return h.send(r)}return!1};const i=o(6278),r=n(o(2096)),a=o(3911),s=o(1956),c=o(208),l=o(4160),d=o(9102),u=o(8427),p=o(141),b=o(4718),y=o(7467),m=o(7268),f=o(8627),S=o(9528);t.HEAD1=235,t.HEAD2=166,t.ProType=0;let h=null,g=null;const I=5,A=new Uint8Array([t.HEAD1,t.HEAD2]),k=19010;function v(e){const t=[];let o=e.indexOf(A);if(0!==o){if(null==g)return console.error("packet data out of order, dropping packet!"),[];{const n=o>0?o:e.length,i=Buffer.alloc(g.length+n,g);if(e.subarray(0,n).copy(i,g.length),o>0)t.push(P(i)),g=null;else if(o<0)return i.readUInt16LE(3)+5===i.length?(t.push(P(i)),g=null):g=Buffer.from(i),t}}for(;o>=0;){const n=e.readUInt16LE(o+3),i=e.subarray(o,o+I+n);if(o+I+n>e.length){g=Buffer.alloc(e.length-o,e.subarray(o));break}t.push(P(i)),o=e.indexOf(A,o+I+n)}return t}function P(e){const o=function(e){if(0==e.length)throw new Error("recv null");if(e[0]!=t.HEAD1||e[1]!=t.HEAD2)throw new Error("recv head error");if(e.readInt16LE(3)!=e.length-5)throw console.log("Recv Error:"+e.toString("hex").match(/.{1,2}/g)?.join(" ")),new Error("recv data length error");if(!function(e){const t=e.length-2;return e.readUInt16LE(t)===(0,r.default)(e.subarray(0,t))}(e))throw new Error("recv data crc error");return e.subarray(5,e.length-2)}(e).toString("utf8");return JSON.parse(o)}async function w(e){return!!e&&(await s.MixEffectState.sync(e),await c.PlaybackState.sync(e),await l.RecordState.sync(e),await d.StillGeneratorState.sync(e),await u.StreamingState.sync(e),await b.AudioMixerState.sync(e),await y.DownstreamKeyerState.sync(e),await f.MacroState.sync(e),await p.SuperSourceState.sync(e),await S.UpstreamKeyerState.sync(e),await m.SettingsState.sync(e),!1)}function C(e){const o=e.length+7,n=Buffer.alloc(o);return n[0]=t.HEAD1,n[1]=t.HEAD2,n[2]=t.ProType,n.writeUInt16LE(o-5,3),null!=e&&e.copy(n,5,0,e.length),n.writeUInt16LE((0,r.default)(n.subarray(0,o-2)),n.length-2),n}},4796:(e,t)=>{"use strict";var o,n,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionStyle=t.SourceType=t.ActionType=t.ReqType=t.PortCaps=t.PortType=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.SDI=1]="SDI",e[e.HDMI=2]="HDMI",e[e.Internal=4]="Internal",e[e.Other=8]="Other",e[e.Aux=16]="Aux",e[e.UVC=32]="UVC",e[e.Mic=64]="Mic",e[e.External=35]="External",e[e.All=63]="All"}(o||(t.PortType=o={})),function(e){e[e.NoCaps=0]="NoCaps",e[e.Renameable=1]="Renameable",e[e.Audio=2]="Audio",e[e.Colorspace=4]="Colorspace"}(n||(t.PortCaps=n={})),function(e){e.Get="get",e.Set="set",e.Push="pus"}(i||(t.ReqType=i={})),function(e){e.Unknown="Unknown",e.Heart="Heart",e.Program="Program",e.Preview="Preview",e.TransitionStyle="TransitionStyle",e.TransitionDipSource="5",e.TransitionWipeFillSource="6",e.DskSourceFill="7",e.SuperSourceSource="8",e.LumaKeySourceKey="9",e.ChromaKeySourceKey="10",e.KeyPatternSourceKey="11",e.PipSource="12",e.AudioFader="13",e.AudioMonitorSource="14",e.SettingsoutSource="15",e.AudioEnable="16",e.AudioEnableSource="17"}(r||(t.ActionType=r={})),t.SourceType={Input1:"Input1",Input2:"Input2",Input3:"Input3",Input4:"Input4",Aux:"Aux"},t.TransitionStyle={MIX:0,DIP:1,WIPE:2}},4134:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feedbacks=function(e){return{...p.UpstreamKeyerFeedbacks.create(e.model,e.states.UpstreamKeyer),...a.RecordFeedbacks.create(e.model,e.states.Record),...n.SuperSourceFeedbacks.create(e.model,e.states.SuperSource),...i.MixEffectFeedbacks.create(e.model,e.states.MixEffect),...r.StreamingFeedbacks.create(e.model,e.states.Streaming),...s.StillGeneratorFeedbacks.create(e.model,e.states.StillGenerator),...c.DownstreamKeyerFeedbacks.create(e.model,e.states.DownstreamKeyer),...l.MacroFeedbacks.create(e.model,e.states.Macro),...d.PlaybackFeedbacks.create(e.model,e.states.Playback),...u.SettingsFeedbacks.create(e.model,e.states.Settings),...b.AudioMixerFeedbacks.create(e.model,e.states.AudioMixer)}};const n=o(141),i=o(1956),r=o(8427),a=o(4160),s=o(9102),c=o(7467),l=o(8627),d=o(208),u=o(7268),p=o(9528),b=o(4718)},6695:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.AudioTransition="audioTransition",e.AudioFader="audioFader",e.AudioBalance="audioBalance",e.AudioInput="audioInput",e.AudioEnable="audioEnable",e.AudioEnable1="audioEnable1",e.AudioDelay="audioDelay",e.AudioMonitorLevel="audioMonitorLevel",e.AudioMonitorSource="audioMonitorSource"}(o||(t.ActionId=o={}))},1741:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.AudioTransition]:{name:"Audio Mixer:Set audio fade in and out switch",options:[{type:"dropdown",label:"Enable",id:"AudioTrans",choices:c.SwitchChoices,default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"AudioTrans");let s=0;2===o?(s=!0===t.transitionEnabled?0:1,await(0,a.sendCommand)(n.ActionId.AudioTransition,r.ReqType.Set,[s])):await(0,a.sendCommand)(n.ActionId.AudioTransition,r.ReqType.Set,[o])}},[n.ActionId.AudioFader]:{name:"Audio Mixer:Set Audio Fader",options:[{type:"dropdown",label:"Source",id:"ASource",choices:e.getChoices(r.ActionType.AudioFader),default:0},{type:"number",label:"Fader",id:"AudioFader",min:-75,max:10,step:.5,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioFader,r.ReqType.Set,[(0,i.getOptNumber)(e,"ASource"),(0,i.getOptNumber)(e,"AudioFader")])}},[n.ActionId.AudioBalance]:{name:"Audio Mixer:Set Audio Balance",options:[{type:"dropdown",label:"Source",id:"ASource",choices:e.getChoices(r.ActionType.AudioEnableSource),default:0},{type:"number",label:"Balance",id:"AudioBalance",min:-40,max:40,step:.5,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioBalance,r.ReqType.Set,[(0,i.getOptNumber)(e,"ASource"),(0,i.getOptNumber)(e,"AudioBalance")])}},[n.ActionId.AudioInput]:{name:"Audio Mixer:Set Audio Input",options:[{type:"dropdown",label:"Source",id:"ASource",choices:e.getChoices(r.ActionType.AudioEnableSource),default:0},{type:"number",label:"Input",id:"AudioInput",min:-75,max:6,step:.5,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioInput,r.ReqType.Set,[(0,i.getOptNumber)(e,"ASource"),(0,i.getOptNumber)(e,"AudioInput")])}},[n.ActionId.AudioEnable]:{name:"Deprecated (Mic) - Use Audio Mixer: Set Audio Enable",options:[{type:"dropdown",label:"Source",id:"ASource",choices:c.AudioMicChoices,default:0},{type:"dropdown",label:"Enable",id:"AudioEnable",choices:[{id:0,label:"off"},{id:1,label:"on"},{id:2,label:"Toggle"}],default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"ASource");let c=(0,i.getOptNumber)(e,"AudioEnable");2===c&&(c=s.AudioState.Off,t.state[o]===s.AudioState.Off&&(c=s.AudioState.On)),await(0,a.sendCommand)(n.ActionId.AudioEnable,r.ReqType.Set,[o,c])}},[n.ActionId.AudioEnable1]:{name:"Audio Mixer:Set Audio Enable",options:[{type:"dropdown",label:"Source",id:"ASource",choices:c.AudioMicChoices.concat(c.AudioInputSourcesChoices),default:0},{type:"dropdown",label:"Enable",id:"MicEnable",choices:[{id:0,label:"off"},{id:1,label:"on"},{id:4,label:"Toggle on/off"}],default:0,isVisibleData:c.AudioMicChoices.map((e=>e.id)),isVisible:(e,t)=>t.includes(Number(e.ASource))},{type:"dropdown",label:"Enable",id:"AudioEnable",choices:[{id:0,label:"off"},{id:1,label:"on"},{id:2,label:"afv"},{id:3,label:"Toggle All"},{id:4,label:"Toggle on/off"}],default:0,isVisibleData:c.AudioMicChoices.map((e=>e.id)),isVisible:(e,t)=>!t.includes(Number(e.ASource))}],callback:async e=>{const o=(0,i.getOptNumber)(e,"ASource");let l=0;l=c.AudioMicChoices.map((e=>e.id)).includes(o)?(0,i.getOptNumber)(e,"MicEnable"):(0,i.getOptNumber)(e,"AudioEnable");let d=l;if(l>=3){const e=3===l;d=s.AudioState.Off,t.state[o]===s.AudioState.Off?d=s.AudioState.On:e&&t.state[o]===s.AudioState.On&&(d=s.AudioState.AFV)}await(0,a.sendCommand)(n.ActionId.AudioEnable,r.ReqType.Set,[o,d])},learn:async e=>{const o=c.AudioMicChoices.map((e=>e.id)),n=Number(e.options.ASource);if(null!=n&&!isNaN(n))return o.includes(n)?e.options.MicEnable=t.state[n]:e.options.AudioEnable=t.state[n],e.options}},[n.ActionId.AudioDelay]:{name:"Audio Mixer:Set Audio Delay",options:[{type:"dropdown",label:"Source",id:"ASource",choices:c.AudioMicChoices,default:0},{type:"number",label:"Delay",id:"AudioDelay",min:0,max:170,step:10,range:!0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioDelay,r.ReqType.Set,[(0,i.getOptNumber)(e,"ASource"),(0,i.getOptNumber)(e,"AudioDelay")])}},[n.ActionId.AudioMonitorLevel]:{name:"Audio Mixer:Set Monitor Level",options:[{type:"number",label:"Level",id:"AudioLevel",min:-31,max:0,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioMonitorLevel,r.ReqType.Set,[(0,i.getOptNumber)(e,"AudioLevel")])}},[n.ActionId.AudioMonitorSource]:{name:"Audio Mixer:Set Monitor Source",options:[{type:"dropdown",label:"Source",id:"AudioSource",choices:e.getChoices(r.ActionType.AudioMonitorSource),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AudioMonitorSource,r.ReqType.Set,[(0,i.getOptNumber)(e,"AudioSource")])}}}};const n=o(6695),i=o(3472),r=o(4796),a=o(7956),s=o(6807),c=o(7643)},3794:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.AudioEnable="audioEnable",e.AudioTransition="audioTransition",e.AudioMonitorSource="audioMonitorSource"}(o||(t.FeedbackId=o={}))},9814:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[i.FeedbackId.AudioEnable]:{type:"boolean",name:"Audio Mixer: Set Audio Enabled",description:"If audio source is enabled change style of button",options:[{type:"dropdown",label:"Source",id:"ASource",choices:e.getChoices(r.ActionType.AudioEnableSource),default:0},{type:"dropdown",label:"Enable",id:"AudioEnable",choices:e.getChoices(r.ActionType.AudioEnable),default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.ASource),n=e.options.AudioEnable;return t.state[o]===n}},[i.FeedbackId.AudioTransition]:{type:"boolean",name:"Audio Mixer: Set AudioTransition\tEnable",description:"If you turn on AudioTransition, change style of the button",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>t.transitionEnabled},[i.FeedbackId.AudioMonitorSource]:{type:"boolean",name:"Audio Mixer: Set Monitor Source",description:"If monitor (headphone) is set to selected value, change the button style",options:[{type:"dropdown",label:"Source",id:"AudioSource",choices:e.getChoices(r.ActionType.AudioMonitorSource),default:e.getChoices(r.ActionType.AudioMonitorSource)[0].id}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>t.monitorSource===Number(e.options.AudioSource),learn:e=>({...e.options,AudioSource:t.monitorSource})}}};const n=o(6278),i=o(3794),r=o(4796)},4718:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMixerVariables=t.AudioMixerFeedbacks=t.AudioMixerPresets=t.AudioMixerState=t.AudioMixerActions=void 0,t.AudioMixerActions=r(o(1741)),t.AudioMixerState=r(o(6807)),t.AudioMixerPresets=r(o(1538)),t.AudioMixerFeedbacks=r(o(9814)),t.AudioMixerVariables=r(o(6215))},1538:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};t.AudioMixer_Trans={category:"AudioMixer",name:"Audio Mixer: Set AudioTransition Enable",type:"button",style:{text:"AudioFade",size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.AudioTransition,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.AudioTransition,options:{AudioTrans:2}}],up:[]}]};for(const e of a.AudioMicChoices)t[`AudioMixer_Enable_${e.id}`]={category:"AudioMixer",name:`Audio Mixer: Set Audio ${e.label} Enable`,type:"button",style:{text:`${e.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.AudioEnable,options:{AudioEnable:1,ASource:e.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.AudioEnable,options:{ASource:e.id,AudioEnable:2}}],up:[]}]};for(const e of a.AudioInputSourcesChoices)t[`AudioMixer_Enable_${e.id}`]={category:"AudioMixer",name:`Audio Mixer: Set Audio ${e.label} Enable`,type:"button",style:{text:`${e.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.AudioEnable,options:{ASource:e.id,AudioEnable:0},style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:r.FeedbackId.AudioEnable,options:{ASource:e.id,AudioEnable:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:r.FeedbackId.AudioEnable,options:{ASource:e.id,AudioEnable:2},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.AudioEnable1,options:{ASource:e.id,AudioEnable:3}}],up:[]}]};return t};const n=o(6278),i=o(6695),r=o(3794),a=o(7643),s="18"},6807:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioState=void 0,t.create=function(e){const t=e.inputs.filter((e=>e.caps&r.PortCaps.Audio)).length;return{model:e,transitionEnabled:!1,state:Array(t),monitorSource:0}},t.sync=async function(e){const t=e.inputs.filter((e=>e.caps&r.PortCaps.Audio)).length,o=[{id:n.ActionId.AudioTransition,type:r.ReqType.Get},...(0,a.Range)(t).map((e=>({id:n.ActionId.AudioEnable,type:r.ReqType.Get,value:[e]}))),{id:n.ActionId.AudioMonitorSource,type:r.ReqType.Get}];return await(0,i.sendCommands)(o)},t.update=function(e,t){if(!t.value)return!1;switch(t.id){case n.ActionId.AudioTransition:e.transitionEnabled=1===t.value[0];break;case n.ActionId.AudioEnable:{const o=t.value[0],n=t.value[1];e.state[o]=n;break}case n.ActionId.AudioMonitorSource:e.monitorSource=Number(t.value[0])}return!1};const n=o(6695),i=o(7956),r=o(4796),a=o(3472);var s;!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.AFV=2]="AFV"}(s||(t.AudioState=s={}))},3265:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.AudioEnabled="AudioEnabled",e.HeadphoneSource="AudioHeadphoneSource"}(o||(t.VariableId=o={}))},6215:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Audio Sources Enabled",variableId:n.VariableId.AudioEnabled},{name:"Audio: Headphones Source",variableId:n.VariableId.HeadphoneSource}]},t.getValues=function(e){const t={},o=e.model.getChoices(i.ActionType.AudioEnableSource).filter(((t,o)=>e.state[o])).map((e=>e.label.toLowerCase())),r=Array.from(e.model.getChoices(i.ActionType.AudioMonitorSource)).sort(((e,t)=>Number(e.id)-Number(t.id))).map((e=>e.label));return t[n.VariableId.AudioEnabled]=o.join(", "),t[n.VariableId.HeadphoneSource]=r[e.monitorSource],t};const n=o(3265),i=o(4796)},2740:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.ColorHue="colorHue",e.ColorSaturation="colorSaturation",e.ColorBrightness="colorBrightness"}(o||(t.ActionId=o={}))},2528:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.ColorHue]:{name:"Color Back:Set Color Hue",options:[{type:"dropdown",label:"Color:",id:"ColorHub1",choices:r.ColorSwitchChoices,default:0},{type:"number",label:"Hue",id:"ColorHub2",default:82,min:0,max:359}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ColorHue,a.ReqType.Set,[(0,i.getOptNumber)(e,"ColorHub1"),(0,i.getOptNumber)(e,"ColorHub2")])}},[n.ActionId.ColorSaturation]:{name:"Color Back:Set Color Saturation",options:[{type:"dropdown",label:"Color:",id:"ColorSaturation1",choices:r.ColorSwitchChoices,default:0},{type:"number",label:"Saturation",id:"ColorSaturation2",default:100,min:0,max:100}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ColorSaturation,a.ReqType.Set,[(0,i.getOptNumber)(e,"ColorSaturation1"),(0,i.getOptNumber)(e,"ColorSaturation2")])}},[n.ActionId.ColorBrightness]:{name:"Color Back:Set Color Brightness",options:[{type:"dropdown",label:"Color:",id:"ColorBrightness1",choices:r.ColorSwitchChoices,default:0},{type:"number",label:"Brightness",id:"ColorBrightness2",default:70,min:0,max:100}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ColorBrightness,a.ReqType.Set,[(0,i.getOptNumber)(e,"ColorBrightness1"),(0,i.getOptNumber)(e,"ColorBrightness2")])}}}};const n=o(2740),i=o(3472),r=o(7643),a=o(4796),s=o(7956)},4483:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorBackState=t.ColorBackActions=void 0,t.ColorBackActions=r(o(2528)),t.ColorBackState=r(o(3862))},3862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{}},t.sync=async function(e){return!0},t.update=function(e,t){return!1}},9580:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.DskSourceFill="dskSourceFill",e.DskSourceFillKey="dskSourceFillKey",e.DskSourceKey="dskSourceKey",e.DskMaskEnable="dskMaskEnable",e.DskMaskHStart="dskMaskHStart",e.DskMaskVStart="dskMaskVStart",e.DskMaskHEnd="dskMaskHEnd",e.DskMaskVEnd="dskMaskVEnd",e.DskSetMaskProperties="dskSetMaskProperties",e.DskControlShapedKey="dskControlShapedKey",e.DskControlClip="dskControlClip",e.DskControlGain="dskControlGain",e.DskControlInvert="dskControlInvert",e.DskRate="dskRate"}(o||(t.ActionId=o={}))},8088:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.DskSourceFillKey]:{name:c("Set source and key"),options:[{type:"dropdown",label:"Fill",id:"DSKFill",choices:e.FillKeySources().map((e=>({id:e.id,label:e.name}))),default:0},{type:"dropdown",label:"Key",id:"DSKKey",choices:e.FillKeySources().map((e=>({id:e.id,label:e.name}))),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.DskSourceFillKey,a.ReqType.Set,[(0,i.getOptNumber)(e,"DSKFill"),(0,i.getOptNumber)(e,"DSKKey")])}},[n.ActionId.DskSourceFill]:{name:c("Set fill source"),options:[{type:"dropdown",label:"DSK Fill",id:"DSKFill",choices:e.FillKeySources().map((e=>({id:e.id,label:e.name}))),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.DskSourceFill,a.ReqType.Set,[(0,i.getOptNumber)(e,"DSKFill")])}},[n.ActionId.DskSourceKey]:{name:c("Set key"),options:[{type:"dropdown",label:"DSK Key",id:"DSKKey",choices:e.FillKeySources().map((e=>({id:e.id,label:e.name}))),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.DskSourceKey,a.ReqType.Set,[(0,i.getOptNumber)(e,"DSKKey")])}},[n.ActionId.DskSetMaskProperties]:{name:c("Set mask properties"),options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"hMaskStart",label:"hMaskStart"},{id:"hMaskEnd",label:"hMaskEnd"},{id:"vMaskStart",label:"vMaskStart"},{id:"vMaskEnd",label:"vMaskEnd"}],minSelection:1,default:["enable","hMaskStart","hMaskEnd","vMaskStart","vMaskEnd"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:r.SwitchChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"number",label:"H Start",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("hMaskStart")},{type:"number",label:"H End",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("hMaskEnd")},{type:"number",label:"V Start",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("vMaskStart")},{type:"number",label:"V End",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("vMaskEnd")}],callback:async e=>{const o=e.options.props,r=[];if(o.includes("enable")){const o=(0,i.getOptNumber)(e,"maskEnable");let s=0;2===o?(s=!0===t.mask.enabled?0:1,r.push({id:n.ActionId.DskMaskEnable,type:a.ReqType.Set,value:[s]})):r.push({id:n.ActionId.DskMaskEnable,type:a.ReqType.Set,value:[o]})}o.includes("hMaskStart")&&r.push({id:n.ActionId.DskMaskHStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHStart")]}),o.includes("hMaskEnd")&&r.push({id:n.ActionId.DskMaskHEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHEnd")]}),o.includes("vMaskStart")&&r.push({id:n.ActionId.DskMaskVStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVStart")]}),o.includes("vMaskEnd")&&r.push({id:n.ActionId.DskMaskVEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVEnd")]}),r.length>0&&await(0,s.sendCommands)(r)}},[n.ActionId.DskControlShapedKey]:{name:c("Set shaped key"),options:[{type:"dropdown",label:"Shaped Key",id:"ShapedKey",default:0,choices:r.SwitchChoices}],callback:async e=>{const o=(0,i.getOptNumber)(e,"ShapedKey");let r=0;2===o?(r=!0===t.control.shapedKey?0:1,await(0,s.sendCommand)(n.ActionId.DskControlShapedKey,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.DskControlShapedKey,a.ReqType.Set,[o])}},[n.ActionId.DskControlClip]:{name:c("Set clip"),options:[{type:"number",label:"Clip",id:"Clip",default:15,min:0,max:100}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.DskControlClip,a.ReqType.Set,[(0,i.getOptNumber)(e,"Clip")])}},[n.ActionId.DskControlGain]:{name:c("Set gain"),options:[{type:"number",label:"Gain",id:"Gain",default:50,min:0,max:100}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.DskControlGain,a.ReqType.Set,[(0,i.getOptNumber)(e,"Gain")])}},[n.ActionId.DskControlInvert]:{name:c("Set invert"),options:[{type:"dropdown",label:"Invert",id:"Invert",default:0,choices:r.SwitchChoices}],callback:async e=>{const o=(0,i.getOptNumber)(e,"Invert");let r=0;2===o?(r=!0===t.control.invert?0:1,await(0,s.sendCommand)(n.ActionId.DskControlInvert,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.DskControlInvert,a.ReqType.Set,[o])}},[n.ActionId.DskRate]:{name:c("Set rate"),options:[{type:"number",label:"dskRate",id:"dskRate",default:0,min:.5,max:8,range:!0,step:.5}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.DskRate,a.ReqType.Set,[(0,i.getOptNumber)(e,"dskRate")])}}}};const n=o(9580),i=o(3472),r=o(7643),a=o(4796),s=o(7956);function c(e){return"DownstreamKeyer: "+e}},5997:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.DskSourceFillKey="dskSourceFillKey",e.DskMaskEnable="dskMaskEnable",e.DskMaskHStart="dskMaskHStart",e.DskMaskVStart="dskMaskVStart",e.DskMaskHEnd="dskMaskHEnd",e.DskMaskVEnd="dskMaskVEnd",e.DskControlShapedKey="dskControlShapedKey",e.DskControlClip="dskControlClip",e.DskControlGain="dskControlGain",e.DskControlInvert="dskControlInvert",e.DskRate="dskRate"}(o||(t.FeedbackId=o={}))},9539:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.FeedbackId.DskSourceFillKey]:{type:"boolean",name:a("fill or key source"),description:"Change style of button depending on DSK fill or key source",options:[{type:"dropdown",label:"Type",id:"TypeID",choices:[{id:0,label:"Key"},{id:1,label:"Fill"}],default:0},{type:"dropdown",label:"Source",id:"DSKSource",choices:e.getChoices(r.ActionType.DskSourceFill),default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.TypeID),n=Number(e.options.DSKSource);return 0===o?t.source.key===n:t.source.fill===n},learn:e=>{const o=Number(e.options.TypeID);return{...e.options,DSKSource:0===o?t.source.key:t.source.fill}}},[n.FeedbackId.DskMaskEnable]:{type:"boolean",name:a("mask enabled"),description:"Change style of button when mask is enabled",options:[],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:()=>t.mask.enabled},[n.FeedbackId.DskMaskHStart]:{type:"boolean",name:a("mask horizontal start"),description:"Change style of button depending on horizontal start value of mask",options:[{type:"number",label:"H Start",id:"HStart",default:0,min:0,max:100}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.HStart);return t.mask.hStart===o},learn:e=>({...e.options,HStart:t.mask.hStart})},[n.FeedbackId.DskMaskVStart]:{type:"boolean",name:a("mask vertical start"),description:"Change style of button depending on vertical start value of mask",options:[{type:"number",label:"V Start",id:"VStart",default:0,min:0,max:100}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.VStart);return t.mask.vStart===o},learn:e=>({...e.options,VStart:t.mask.vStart})},[n.FeedbackId.DskMaskHEnd]:{type:"boolean",name:a("mask horizontal end"),description:"Change style of button depending on horizontal end value of mask",options:[{type:"number",label:"H End",id:"HEnd",default:100,min:0,max:100}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.HEnd);return t.mask.hEnd===o},learn:e=>({...e.options,HEnd:t.mask.hEnd})},[n.FeedbackId.DskMaskVEnd]:{type:"boolean",name:a("mask vertical end"),description:"Change style of button depending on vertical end value of mask",options:[{type:"number",label:"V End",id:"VEnd",default:100,min:0,max:100}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.VEnd);return t.mask.vEnd===o},learn:e=>({...e.options,VEnd:t.mask.vEnd})},[n.FeedbackId.DskControlShapedKey]:{type:"boolean",name:a("shaped key enabled"),description:"Change style of button if shaped key is enabled",options:[],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:()=>t.control.shapedKey},[n.FeedbackId.DskControlInvert]:{type:"boolean",name:a("shaped key invert"),description:"Change style of button depending on status of shaped key invert",options:[{type:"dropdown",label:"Shaped key invert status",id:"skeyinvEnabled",choices:[{id:0,label:"disabled"},{id:1,label:"enabled"}],default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Boolean(e.options.skeyinvEnabled);return t.control.invert===o},learn:e=>({...e.options,skeyinvEnabled:t.control.invert})},[n.FeedbackId.DskControlClip]:{type:"boolean",name:a("shaped key clip"),description:"Change style of button depending on clip value of shaped key",options:[{type:"number",label:"Clip",id:"Clip",default:15,min:0,max:100}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.Clip);return t.control.clip===o},learn:e=>({...e.options,Clip:t.control.clip})},[n.FeedbackId.DskControlGain]:{type:"boolean",name:a("shaped key gain"),description:"Change style of button depending on gain value of shaped key",options:[{type:"number",label:"Gain",id:"Gain",default:50,min:0,max:100}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.Gain);return t.control.gain===o},learn:e=>({...e.options,Gain:t.control.gain})},[n.FeedbackId.DskRate]:{type:"boolean",name:a("rate"),description:"Change style of button depending on rate value",options:[{type:"number",label:"Rate",id:"Rate",default:1,min:.5,max:8,step:.5}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.Rate);return t.rate.rate===o},learn:e=>({...e.options,Rate:t.rate.rate})}}};const n=o(5997),i=o(6278),r=o(4796);function a(e){return"DownstreamKeyer: "+e}},7467:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DownstreamKeyerFeedbacks=t.DownstreamKeyerPresets=t.DownstreamKeyerState=t.DownstreamKeyerActions=void 0,t.DownstreamKeyerActions=r(o(8088)),t.DownstreamKeyerState=r(o(9598)),t.DownstreamKeyerPresets=r(o(243)),t.DownstreamKeyerFeedbacks=r(o(9539))},243:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},o=e.getChoices(a.ActionType.DskSourceFill);for(const e of o){let a=Number(e.id)+1;a===o.length&&(a=0),t[`DskFillKey_${e.id}`]={category:"DSK",name:`DSK Source Fill And Key ${e.label}`,type:"button",style:{text:`${e.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.DskSourceFillKey,options:{TypeID:1,DSKSource:e.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.DskSourceFillKey,options:{DSKFill:e.id,DSKKey:a}}],up:[]}]}}return t};const n=o(6278),i=o(9580),r=o(5997),a=o(4796),s="18"},9598:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{source:{fill:7,key:8},mask:{enabled:!1,hStart:0,vStart:0,hEnd:100,vEnd:100},control:{shapedKey:!1,clip:15,gain:50,invert:!1},rate:{rate:1}}},t.sync=async function(e){const t=[{id:n.ActionId.DskSourceFill,type:r.ReqType.Get},{id:n.ActionId.DskSourceKey,type:r.ReqType.Get},{id:n.ActionId.DskMaskEnable,type:r.ReqType.Get},{id:n.ActionId.DskMaskHStart,type:r.ReqType.Get},{id:n.ActionId.DskMaskVStart,type:r.ReqType.Get},{id:n.ActionId.DskMaskHEnd,type:r.ReqType.Get},{id:n.ActionId.DskMaskVEnd,type:r.ReqType.Get},{id:n.ActionId.DskControlShapedKey,type:r.ReqType.Get},{id:n.ActionId.DskControlClip,type:r.ReqType.Get},{id:n.ActionId.DskControlGain,type:r.ReqType.Get},{id:n.ActionId.DskControlInvert,type:r.ReqType.Get},{id:n.ActionId.DskRate,type:r.ReqType.Get}];return await(0,i.sendCommands)(t)},t.update=function(e,t){switch(t.id){case n.ActionId.DskSourceFill:e.source.fill=Number(t.value[0]);break;case n.ActionId.DskSourceKey:e.source.key=Number(t.value[0]);break;case n.ActionId.DskControlInvert:e.control.invert=Boolean(t.value[0]);break;case n.ActionId.DskControlClip:e.control.clip=Number(t.value[0]);break;case n.ActionId.DskControlGain:e.control.gain=Number(t.value[0]);break;case n.ActionId.DskMaskEnable:e.mask.enabled=Boolean(t.value[0]);break;case n.ActionId.DskControlShapedKey:e.control.shapedKey=Boolean(t.value[0]);break;case n.ActionId.DskMaskHEnd:e.mask.hEnd=Number(t.value[0]);break;case n.ActionId.DskMaskVEnd:e.mask.vEnd=Number(t.value[0]);break;case n.ActionId.DskMaskHStart:e.mask.hStart=Number(t.value[0]);break;case n.ActionId.DskMaskVStart:e.mask.vStart=Number(t.value[0]);break;case n.ActionId.DskRate:e.rate.rate=Number(t.value[0])}return!1};const n=o(9580),i=o(7956),r=o(4796)},7396:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.MacroRecord="macroRecord",e.MacroInfo="macroInfo",e.GetMacroInfoAll="getMacroInfoAll",e.MacroRun="macroRun",e.RemoveMacro="removeMacro",e.MacroSleep="macroSleep"}(o||(t.ActionId=o={}))},4176:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.MacroRecord]:{name:"Macro:Set Start Record",options:[{type:"dropdown",label:"Status",id:"StatusId",choices:[{id:0,label:"start"},{id:1,label:"stop"}],default:0},{type:"dropdown",label:"Macro",id:"MacroIndex",choices:e.getChoicesByMacro(),default:0},{type:"textinput",label:"Name",id:"MacroName",default:"",required:!0},{type:"textinput",label:"Remark",id:"MacroRemark",default:"",required:!0}],callback:async e=>{await(0,r.sendCommand)(n.ActionId.MacroRecord,i.ReqType.Set,[(0,a.getOptNumber)(e,"StatusId"),(0,a.getOptNumber)(e,"MacroIndex"),(0,a.getOptString)(e,"MacroName"),(0,a.getOptString)(e,"MacroRemark")])}},[n.ActionId.MacroInfo]:{name:"Macro:Change Detail",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:e.getChoicesByMacro(),default:0},{type:"textinput",label:"Name",id:"MacroName",default:"",required:!0},{type:"textinput",label:"Remark",id:"MacroRemark",default:"",required:!0}],callback:async e=>{await(0,r.sendCommand)(n.ActionId.MacroInfo,i.ReqType.Set,[(0,a.getOptNumber)(e,"MacroIndex"),(0,a.getOptString)(e,"MacroName"),(0,a.getOptString)(e,"MacroRemark")])}},[n.ActionId.RemoveMacro]:{name:"Macro:Delete Macro",options:[{type:"dropdown",label:"Macro",id:"MacroIndex",choices:e.getChoicesByMacro(),default:0}],callback:async e=>{await(0,r.sendCommand)(n.ActionId.RemoveMacro,i.ReqType.Set,[(0,a.getOptNumber)(e,"MacroIndex")])}},[n.ActionId.MacroRun]:{name:"Macro:Start Run",options:[{type:"dropdown",label:"Status",id:"StatusID",choices:[{id:1,label:"start"},{id:0,label:"stop"}],default:0},{type:"dropdown",label:"Location",id:"MacroIndex",choices:e.getChoicesByMacro(),default:0}],callback:async e=>{await(0,r.sendCommand)(n.ActionId.MacroRun,i.ReqType.Set,[(0,a.getOptNumber)(e,"StatusID"),(0,a.getOptNumber)(e,"MacroIndex")])}},[n.ActionId.MacroSleep]:{name:"Macro:Macro Sleep",options:[{type:"textinput",label:"Sleep",id:"MacroSleep",default:"500",regex:s.Regex.NUMBER,required:!0}],callback:async e=>{await(0,r.sendCommand)(n.ActionId.MacroSleep,i.ReqType.Set,[(0,a.getOptNumber)(e,"MacroSleep")])}}}};const n=o(7396),i=o(4796),r=o(7956),a=o(3472),s=o(6278)},5413:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Macro="macro"}(o||(t.FeedbackId=o={}))},9147:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacroFeedbackType=void 0,t.create=function(e,o){return{[i.FeedbackId.Macro]:{type:"boolean",name:"Macro: State",description:"If the specified macro is running, change style of the button",options:[{type:"dropdown",label:"Macro Number (1-100)",id:"MacroIndex",default:1,choices:e.getChoicesByMacro()},{type:"dropdown",label:"State",id:"state",default:t.MacroFeedbackType.IsWaiting,choices:[{id:t.MacroFeedbackType.IsRunning,label:"Is Running"},{id:t.MacroFeedbackType.IsWaiting,label:"Is Waiting"},{id:t.MacroFeedbackType.IsRecording,label:"Is Recording"},{id:t.MacroFeedbackType.IsUsed,label:"Is Used"}]}],defaultStyle:{color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(238,238,0)},callback:e=>{const n=Number(e.options.MacroIndex);if(!isNaN(n)){const i=e.options.state,r=o.macros.find((e=>e?.index===n));switch(i){case t.MacroFeedbackType.IsUsed:return!!r?.used;case t.MacroFeedbackType.IsRecording:return!!r?.recording;case t.MacroFeedbackType.IsRunning:return!!r?.running;case t.MacroFeedbackType.IsWaiting:return!!r?.waiting}}return!1}}}};const n=o(6278),i=o(5413);t.MacroFeedbackType={IsRunning:"isRunning",IsWaiting:"isWaiting",IsRecording:"isRecording",IsUsed:"isUsed"}},8627:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MacroFeedbacks=t.MacroPresets=t.MacroState=t.MacroActions=void 0,t.MacroActions=r(o(4176)),t.MacroState=r(o(5190)),t.MacroPresets=r(o(9931)),t.MacroFeedbacks=r(o(9147))},9931:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};for(let e=0;e<100;e++)t[`macro_run_${e}`]={category:"MACROS",name:`Run button for macro ${e+1}`,type:"button",style:{text:`macro${e+1}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsUsed},style:{bgcolor:(0,n.combineRgb)(0,0,238),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:r.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsRunning},style:{bgcolor:(0,n.combineRgb)(0,238,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:r.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsWaiting},style:{bgcolor:(0,n.combineRgb)(238,238,0),color:(0,n.combineRgb)(255,255,255)}},{feedbackId:r.FeedbackId.Macro,options:{MacroIndex:e,state:a.MacroFeedbackType.IsRecording},style:{bgcolor:(0,n.combineRgb)(238,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.MacroRun,options:{StatusID:1,MacroIndex:e}}],up:[]}]};return t};const n=o(6278),i=o(7396),r=o(5413),a=o(9147),s="14"},5190:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{macros:[]}},t.sync=async function(e){return await(0,i.sendCommand)(n.ActionId.GetMacroInfoAll,r.ReqType.Get)},t.update=function(e,t){switch(t.id){case n.ActionId.MacroInfo:{const o={index:Number(t.value[0]),name:String(t.value[1]),description:String(t.value[2]),used:!0,waiting:!1,recording:!1,running:!1};return e.macros.push(o),!0}case n.ActionId.MacroRun:{const o=Number(t.value[1]),n=Number(t.value[0]),i=e.macros.find((e=>e?.index===o));void 0!==i&&(i.running=1===n);break}case n.ActionId.MacroRecord:{const o=Number(t.value[1]),n=Boolean(t.value[0]),i=e.macros.find((e=>e?.index===o));void 0!==i?i.recording=n:e.macros.push({name:"",description:"",recording:n,used:!0,running:!1,waiting:!1,index:o});break}}return!1};const n=o(7396),i=o(7956),r=o(4796)},7625:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PgmIndex="pgmIndex",e.PvwIndex="pvwIndex",e.CutTransition="cutTransition",e.AutoTransition="autoTransition",e.FTB="ftb",e.FtbAudioAFV="ftbAudioAFV",e.FtbRate="ftbRate",e.Prev="prev",e.TransitionIndex="transitionIndex",e.TransitionRate="transitionRate",e.TransitionDipSource="transitionDipSource",e.TransitionWipePattern="transitionWipePattern",e.TransitionWipeXPosition="transitionWipeXPosition",e.TransitionWipeYPosition="transitionWipeYPosition",e.TransitionWipeDirection="transitionWipeDirection",e.TransitionWipeSymmetry="transitionWipeSymmetry",e.TransitionWipeSoftness="transitionWipeSoftness",e.TransitionWipeBorder="transitionWipeBorder",e.TransitionWipeFillSource="transitionWipeFillSource",e.NextTransitionButtons="transitionSource",e.OnAirButtons="onAirButtons",e.KeyOnAir="keyOnAir",e.DskOnAir="dskOnAir"}(o||(t.ActionId=o={}))},7167:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.PgmIndex]:{name:c("Set PGM Source"),options:[{type:"dropdown",label:"Source",id:"Source",default:0,choices:e.InputSources().map((e=>({id:e.id,label:e.name})))}],callback:async e=>{const t=(0,i.getOptNumber)(e,"Source");await(0,a.sendCommand)(n.ActionId.PgmIndex,r.ReqType.Set,[t])}},[n.ActionId.PvwIndex]:{name:c("Set PVW Source"),options:[{type:"dropdown",label:"Source",id:"Source",default:0,choices:e.InputSources().map((e=>({id:e.id,label:e.name})))}],callback:async e=>{const t=(0,i.getOptNumber)(e,"Source");await(0,a.sendCommand)(n.ActionId.PvwIndex,r.ReqType.Set,[t])}},[n.ActionId.CutTransition]:{name:c("Perform CUT transition"),options:[],callback:async()=>{await(0,a.sendCommand)(n.ActionId.CutTransition,r.ReqType.Set)}},[n.ActionId.AutoTransition]:{name:c("Perform AUTO transition"),options:[],callback:async()=>{await(0,a.sendCommand)(n.ActionId.AutoTransition,r.ReqType.Set)}},[n.ActionId.FTB]:{name:c("Perform FTB Transition"),options:[],callback:async()=>{await(0,a.sendCommand)(n.ActionId.FTB,r.ReqType.Set)}},[n.ActionId.FtbAudioAFV]:{name:c("Perform FTB Transition,Audio follows video and pops in"),options:[{type:"dropdown",label:"FTB Audio AFV",id:"FtbAudioAFV",default:0,choices:s.SwitchChoices}],callback:async e=>{const o=(0,i.getOptNumber)(e,"FtbAudioAFV");let s=0;2===o?(s=!0===t.fadeToBlack.AFV?0:1,await(0,a.sendCommand)(n.ActionId.FtbAudioAFV,r.ReqType.Set,[s])):await(0,a.sendCommand)(n.ActionId.FtbAudioAFV,r.ReqType.Set,[o])}},[n.ActionId.FtbRate]:{name:c("Set rate of FTB"),options:[{type:"number",label:"FTB Rate(s)",id:"FtbRate",default:2,min:.5,max:8,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.FtbRate,r.ReqType.Set,[(0,i.getOptNumber)(e,"FtbRate")])}},[n.ActionId.Prev]:{name:c("Preview Button"),options:[{type:"dropdown",label:"PREV",id:"prevEnable",default:2,choices:s.SwitchChoices}],callback:async e=>{const o=(0,i.getOptNumber)(e,"prevEnable");let s=0;2===o?(s=!0===t.selectTransitionStyle.PrevState?0:1,await(0,a.sendCommand)(n.ActionId.Prev,r.ReqType.Set,[s])):await(0,a.sendCommand)(n.ActionId.Prev,r.ReqType.Set,[o])}},[n.ActionId.TransitionIndex]:{name:c("Set transition style/pattern"),options:[{type:"dropdown",label:"Transition Style",id:"TransitionStyle",default:r.TransitionStyle.MIX,choices:s.TransitionStyleChoice}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionIndex,r.ReqType.Set,[(0,i.getOptNumber)(e,"TransitionStyle")])}},[n.ActionId.TransitionRate]:{name:c("Change transition rate"),options:[{type:"dropdown",label:"Transition Style",id:"TransitionStyle",default:r.TransitionStyle.MIX,choices:s.TransitionStyleChoice},{type:"number",label:"Transition Rate",id:"TransitionRate",default:2,min:.5,max:8,step:.5,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionRate,r.ReqType.Set,[(0,i.getOptNumber)(e,"TransitionStyle"),(0,i.getOptNumber)(e,"TransitionRate")])}},[n.ActionId.TransitionDipSource]:{name:c("Change transition dip source"),options:[{type:"dropdown",label:"Change Dip Source",id:"TransitionDipSource",default:0,choices:e.getChoices(r.ActionType.TransitionDipSource)}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionDipSource,r.ReqType.Set,[(0,i.getOptNumber)(e,"TransitionDipSource")])}},[n.ActionId.TransitionWipePattern]:{name:c("Change transition wipe pattern"),options:[{type:"number",label:"Wipe Pattern",id:"WipePatternID",min:0,max:17,default:0,range:!0,step:1}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipePattern,r.ReqType.Set,[(0,i.getOptNumber)(e,"WipePatternID")])}},[n.ActionId.TransitionWipeXPosition]:{name:c("Change transition wipe X position"),options:[{type:"number",label:"X Position",id:"XPosition",default:0,min:-16,max:16,step:.2,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeXPosition,r.ReqType.Set,[(0,i.getOptNumber)(e,"XPosition")])}},[n.ActionId.TransitionWipeYPosition]:{name:c("Change transition wipe Y position"),options:[{type:"number",label:"Y Position",id:"YPosition",default:0,min:-9,max:9,step:.2,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeYPosition,r.ReqType.Set,[(0,i.getOptNumber)(e,"YPosition")])}},[n.ActionId.TransitionWipeDirection]:{name:c("Change transition wipe style direction"),options:[{type:"dropdown",label:"Change Wipe Style Direction",id:"WipeDirection",default:0,choices:s.WipeDirectionChoices}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeDirection,r.ReqType.Set,[(0,i.getOptNumber)(e,"WipeDirection")])}},[n.ActionId.TransitionWipeSymmetry]:{name:c("Change transition wipe style symmetry"),options:[{type:"number",label:"Symmetry",id:"WipeSymmetry",default:50,min:0,max:100,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeSymmetry,r.ReqType.Set,[(0,i.getOptNumber)(e,"WipeSymmetry")])}},[n.ActionId.TransitionWipeSoftness]:{name:c("Change transition wipe style softness"),options:[{type:"number",label:"Softness",id:"WipeSoftness",default:0,min:0,max:100,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeSoftness,r.ReqType.Set,[(0,i.getOptNumber)(e,"WipeSoftness")])}},[n.ActionId.TransitionWipeBorder]:{name:c("Change transitions wipe style border"),options:[{type:"number",label:"Border",id:"WipeBorder",default:0,min:0,max:100,range:!0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeBorder,r.ReqType.Set,[(0,i.getOptNumber)(e,"WipeBorder")])}},[n.ActionId.TransitionWipeFillSource]:{name:c("Change transition wipe style fill source"),options:[{type:"dropdown",label:"Fill Source",id:"WipeFillSource",default:0,choices:e.getChoices(r.ActionType.TransitionWipeFillSource)}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.TransitionWipeFillSource,r.ReqType.Set,[(0,i.getOptNumber)(e,"WipeFillSource")])}},[n.ActionId.NextTransitionButtons]:{name:c('Set "Next Transition" Button (KEY, DSK, or BKGD)'),description:'Set a button in the Next Transition group: On/Off/Toggle is the normal "Tie" behavior: its effect on PVW depends on the state of "On Air". The last two options ensure that the key is On/Off PVW regardless of the state of "On Air"',options:[{type:"dropdown",label:"Layer",id:"KeyButton",choices:t.nextTState.getChoices(!0),default:t.nextTState.getDefaultChoice()},{type:"dropdown",label:"Action",id:"ButtonAction",choices:[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Toggle"},{id:3,label:"Off PVW"},{id:4,label:"On PVW"}],default:0,isVisible:e=>"BKGD"!=e.KeyButton},{type:"dropdown",label:"Action",id:"BKGDAction",choices:[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Toggle"}],default:0,isVisible:e=>"BKGD"===e.KeyButton}],callback:async e=>{const o=(0,i.getOptString)(e,"KeyButton");let s=0;const c=t.nextTState.copy();s="BKGD"===e.options.KeyButton?(0,i.getOptNumber)(e,"BKGDAction"):(0,i.getOptNumber)(e,"ButtonAction"),isNaN(s)||void 0===s||s<0||s>4?console.log("Next Transition:Tie key to next transition - Unknown ButtonAction: "+e.options.operation):void 0!==o&&t.nextTState.isChoiceValid(o,!0)?(0===s?c[o]=!1:1===s?c[o]=!0:2===s?c[o]=!c[o]:c.getOnAirStatus(o)?c[o]=3===s:c[o]=4===s,await(0,a.sendCommand)(n.ActionId.NextTransitionButtons,r.ReqType.Set,[c.pack()])):console.log("Next Transition:Tie key to next transition - Unknown KeyButton: "+e.options.KeyButton)}},[n.ActionId.OnAirButtons]:{name:c('Set "On Air" Button (KEY or DSK)'),description:'Set an "On Air" button. On/Off/Toggle is the "normal" behavior, showing/hiding in PGM and flipping the visibility in PVW. The last three options ensure that the action affects PGM only (although PVW may flicker)',options:[{type:"dropdown",label:"Layer",id:"KeyButton",choices:t.nextTState.getChoices(!0),default:t.nextTState.getDefaultChoice()},{type:"dropdown",label:"Action",id:"ButtonAction",choices:[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Toggle"},{id:3,label:"Off PGM only"},{id:4,label:"On PGM only"},{id:5,label:"Toggle PGM only"}],default:0}],callback:async e=>{const o=(0,i.getOptString)(e,"KeyButton"),s=(0,i.getOptNumber)(e,"ButtonAction"),c=t.nextTState.copy();if(isNaN(s)||void 0===s||s<0||s>5)return void console.log("Next Transition:Key On Air - Unknown ButtonAction: "+e.options.operation);if(void 0===o||!t.nextTState.isChoiceValid(o,!1))return void console.log("Next Transition:Key On Air - Unknown KeyButton: "+e.options.KeyButton);0===s||3==s?c.setOnAirStatus(o,!1):1===s||4==s?c.setOnAirStatus(o,!0):2!==s&&5!=s||c.setOnAirStatus(o,!c.getOnAirStatus(o));const l=[c.getOnAirCommand(o)];s>=3&&c.getOnAirStatus(o)!=t.nextTState.getOnAirStatus(o)&&(c[o]=!c[o],l.push({id:n.ActionId.NextTransitionButtons,type:r.ReqType.Set,value:[c.pack()]})),await(0,a.sendCommands)(l)}}}};const n=o(7625),i=o(3472),r=o(4796),a=o(7956),s=o(7643);function c(e){return"MixEffect: "+e}},5840:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PreviewBG="preview_bg",e.PreviewBG2="preview_bg_2",e.PreviewBG3="preview_bg_3",e.PreviewBG4="preview_bg_4",e.ProgramBG="program_bg",e.ProgramBG2="program_bg_2",e.ProgramBG3="program_bg_3",e.ProgramBG4="program_bg_4",e.TransitionStyle="TransitionStyle",e.InTransition="inTransition",e.Cut="cut",e.Prev="prev",e.TransitionRate="transitionRate",e.FadeToBlackIsBlack="fadeToBlackIsBlack",e.FadeToBlackRate="fadeToBlackRate",e.FTBAFV="FTBAFV",e.KeysVisibility="transitionSource"}(o||(t.FeedbackId=o={}))},8380:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[a.FeedbackId.PreviewBG]:{type:"boolean",name:c("Preview (PVW) source"),description:"If the input specified is selected in preview, change style of the button",defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(0,204,0)},options:[{type:"dropdown",label:"Source",id:"Source",default:0,choices:e.InputSources().map((e=>({id:e.id,label:e.name})))}],callback:e=>t.PvwSrc===e.options.Source},[a.FeedbackId.ProgramBG]:{type:"boolean",name:c("Program (PGM) source"),description:"If the input specified is selected in program (PGM), change style of the button",defaultStyle:{color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(204,0,0)},options:[{type:"dropdown",label:"Source",id:"Source",default:0,choices:e.InputSources().map((e=>({id:e.id,label:e.name})))}],callback:e=>t.PgmSrc===e.options.Source},[a.FeedbackId.KeysVisibility]:{type:"boolean",name:c('"Next Transition" / "On Air" state (KEY, DSK, BKGD)'),description:'Change button style based on state of "next transition" (KEY, DSK, BKGD). The first options refers to the button states; the last one refers to the actual visibility PVW, which depends on two button-states',options:[{type:"dropdown",label:"Layer",id:"KeyButton",choices:t.nextTState.getChoices(!0),default:t.nextTState.getDefaultChoice()},{type:"dropdown",label:"Status",id:"LayerState",choices:[{id:0,label:"Next Transition Button On"},{id:2,label:"On Air"},{id:3,label:"Showing in PVW"}],default:0,isVisible:e=>"BKGD"!=e.KeyButton}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=(0,i.getOptString)(e,"KeyButton"),n=(0,i.getOptNumber)(e,"LayerState");return 1===n?!t.nextTState[o]:0===n?t.nextTState[o]:3===n?t.nextTState[o]!=t.nextTState.getOnAirStatus(o):2===n?t.nextTState.getOnAirStatus(o):void console.log("Feedback: Next Transition state received illegal option: "+n)}},[a.FeedbackId.InTransition]:{type:"boolean",name:c("Transition is Active/Running"),description:"If the specified transition is active, change style of the button",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>!!t.transitionPosition.inTransition},[a.FeedbackId.Prev]:{type:"boolean",name:c("Prev transition Active/Running"),description:"If the PREV is active, change style of the button",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>t.selectTransitionStyle.PrevState},[a.FeedbackId.TransitionStyle]:{type:"boolean",name:c("Transition style"),description:"If the specified transition style is active, change style of the button",options:[{type:"dropdown",label:"TransitionStyle",id:"TransitionStyle",default:r.TransitionStyle.MIX,choices:s.TransitionStyleChoice}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>t.selectTransitionStyle?.style===e.options.TransitionStyle},[a.FeedbackId.TransitionRate]:{type:"boolean",name:c("Transition rate"),description:"If the specified transition rate is active, change style of the button",options:[{type:"dropdown",label:"Transition Style",id:"TransitionStyle",default:r.TransitionStyle.MIX,choices:s.TransitionStyleChoice},{type:"number",label:"Transition Rate",id:"TransitionRate",default:2,min:.5,max:8,step:.5,range:!0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=t.selectTransitionStyle;if(o?.style===e.options.TransitionStyle){const t=Number(e.options.TransitionStyle),n=Number(e.options.TransitionRate);switch(t){case 0:return o?.mixrate===n;case 1:return o?.diprate===n;case 2:return o?.wiperate===n;default:return!1}}return!1},learn:e=>{const o=t.selectTransitionStyle;if(o?.style===e.options.TransitionStyle)switch(Number(e.options.TransitionStyle)){case 0:return{...e.options,TransitionRate:o?.mixrate};case 1:return{...e.options,TransitionRate:o?.diprate};case 2:return{...e.options,TransitionRate:o?.wiperate};default:return}}}}};const n=o(6278),i=o(3472),r=o(4796),a=o(5840),s=o(7643);function c(e){return"MixEffect: "+e}},1956:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MixEffectVariables=t.MixEffectState=t.MixEffectPresets=t.MixEffectFeedbacks=t.MixEffectActions=void 0,t.MixEffectActions=r(o(7167)),t.MixEffectFeedbacks=r(o(8380)),t.MixEffectPresets=r(o(7064)),t.MixEffectState=r(o(9413)),t.MixEffectVariables=r(o(6777))},7064:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},o=e.InputSources().map((e=>({id:e.id,label:e.name})));for(const e of o)t[`Preview_${e.id}`]={type:"button",category:"Preview",name:`Preview button for ${e.label}`,style:{pngalignment:"center:center",text:`${e.label}`,alignment:"center:center",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PvwIndex,options:{Source:e.id}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PreviewBG,options:{Source:e.id},style:{bgcolor:(0,n.combineRgb)(0,255,0),color:(0,n.combineRgb)(255,255,255)}}]},t[`Program_${e.id}`]={type:"button",category:"Program",name:`Program button for ${e.label}`,style:{pngalignment:"center:center",text:`${e.label}`,alignment:"center:center",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PgmIndex,options:{Source:e.id}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.ProgramBG,options:{Source:e.id},style:{bgcolor:(0,n.combineRgb)(0,255,0),color:(0,n.combineRgb)(255,255,255)}}]};t.transition_cut={category:"Transitions",name:"CUT",type:"button",style:{text:"CUT",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:i.ActionId.CutTransition,options:{}}],up:[]}]},t.transition_auto={category:"Transitions",name:"AUTO",type:"button",style:{text:"AUTO",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.InTransition,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.AutoTransition,options:{}}],up:[]}]};const a=s.TransitionStyleChoice;for(const e of a){t[`transition_style_${e.id}`]={category:"Transitions",name:`Transition: Change Transition style to ${e.label}`,type:"button",style:{text:`Transition\n style to \n${e.label}`,size:"14",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.TransitionStyle,options:{TransitionStyle:e.id},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.TransitionIndex,options:{TransitionStyle:e.id}}],up:[]}]};for(const o of l)t[`transition_rate_${e.id}_${o}`]={category:"Transitions",name:`Transition: ${e.label} rate ${o}`,type:"button",style:{text:`${e.label}\n rate to \n${o}s`,size:"14",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.TransitionRate,options:{TransitionStyle:e.id,TransitionRate:o},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.TransitionRate,options:{TransitionStyle:e.id,TransitionRate:o}}],up:[]}]}}t.transition_Prev={category:"Transitions",name:"Transition:PREV",type:"button",style:{text:"PREV",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.Prev,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.Prev,options:{prevEnable:2}}],up:[]}]},t.ftb_AFV={category:"Fade to black",name:"FTB:Audio Follow Video Enable",type:"button",style:{text:"AFV",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:i.ActionId.FtbAudioAFV,options:{FtbAudioAFV:2}}],up:[]}]},t.ftb_auto={category:"Fade to black",name:"Autofade",type:"button",style:{text:"FTB",size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:i.ActionId.FTB,options:{}}],up:[]}]};for(const e of l)t[`ftb_rate_${e}`]={category:"Fade to black",name:`Rate ${e}`,type:"button",style:{text:`Rate ${e}`,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[],steps:[{down:[{actionId:i.ActionId.FtbRate,options:{FtbRate:e}}],up:[]}]};for(const e of c.getChoices(!1))t[`keys_Next_Air_${e.id}`]={category:"Keys On Air",name:`Toggle ${e.label} On Air`,type:"button",style:{text:`${e.label} On Air`,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeysVisibility,options:{KeyButton:e.id,LayerState:2},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.OnAirButtons,options:{KeyButton:e.id,ButtonAction:2}}],up:[]}]};for(const e of c.getChoices(!1))for(const o of[3,4]){const a=3===o?"off":"on";t[`keys_${a}_PVW_${e.id}`]={category:"Keys On PVW",name:`Show ${e.label} ${a} preview`,type:"button",style:{text:`${e.label} ${a} PVW`,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeysVisibility,options:{KeyButton:e.id,LayerState:3},style:{bgcolor:3===o?(0,n.combineRgb)(180,0,180):(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)},isInverted:3===o}],steps:[{down:[{actionId:i.ActionId.NextTransitionButtons,options:{KeyButton:e.id,ButtonAction:o,BKGDAction:o}}],up:[]}]}}for(const e of c.getChoices(!0))t[`keys_Next_Trans_${e.id}`]={category:"Keys Next Transition",name:`Toggle ${e.label} (Next Transition)`,type:"button",style:{text:`${e.label}`,size:d,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.KeysVisibility,options:{KeyButton:e.id,LayerState:0},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.NextTransitionButtons,options:{KeyButton:e.id,ButtonAction:2,BKGDAction:2}}],up:[]}]};return t};const n=o(6278),i=o(7625),r=o(5840),a=o(9413),s=o(7643),c=new a.nextTransitionState,l=[.5,1,1.5,2,2.5,3],d="18"},9413:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextTransitionState=void 0,t.create=function(e){return{model:e,PvwSrc:0,PgmSrc:0,transitionPosition:{inTransition:!1,handlePosition:0},fadeToBlack:{inTransition:!1,isFullyBlack:!1,AFV:!1,rate:0},selectTransitionStyle:{PrevState:!1,style:0,mixrate:0,diprate:0,wiperate:0},pvwOnAir:!1,tied:!1,nextTState:new a}},t.sync=async function(e){const t=[{id:n.ActionId.KeyOnAir,type:r.ReqType.Get},{id:n.ActionId.DskOnAir,type:r.ReqType.Get},{id:n.ActionId.PgmIndex,type:r.ReqType.Get},{id:n.ActionId.PvwIndex,type:r.ReqType.Get},{id:n.ActionId.AutoTransition,type:r.ReqType.Get},{id:n.ActionId.Prev,type:r.ReqType.Get},{id:n.ActionId.FTB,type:r.ReqType.Get},{id:n.ActionId.FtbRate,type:r.ReqType.Get},{id:n.ActionId.FtbAudioAFV,type:r.ReqType.Get},{id:n.ActionId.TransitionIndex,type:r.ReqType.Get},{id:n.ActionId.NextTransitionButtons,type:r.ReqType.Get}];for(let o=0;o<e.transitionTypes;o++)t.push({id:n.ActionId.TransitionRate,type:r.ReqType.Get,value:[o]});return await(0,i.sendCommands)(t)},t.update=function(e,t){switch(t.id){case n.ActionId.PvwIndex:e.PvwSrc=Number(t.value[0]);break;case n.ActionId.PgmIndex:e.PgmSrc=Number(t.value[0]);break;case n.ActionId.KeyOnAir:e.nextTState.keyOnAir=Boolean(t.value[0]);break;case n.ActionId.DskOnAir:e.nextTState.dskOnAir=Boolean(t.value[0]);break;case n.ActionId.AutoTransition:e.transitionPosition.inTransition=1===t.value[0];break;case n.ActionId.FTB:{const o=Number(t.value[0]);0===o?(e.fadeToBlack.isFullyBlack=!1,e.fadeToBlack.inTransition=!1):1===o?(e.fadeToBlack.inTransition=!1,e.fadeToBlack.isFullyBlack=!0):2===o&&(e.fadeToBlack.inTransition=!0);break}case n.ActionId.FtbAudioAFV:e.fadeToBlack.AFV=Boolean(t.value[0]);break;case n.ActionId.FtbRate:e.fadeToBlack.rate=Number(t.value[0]);break;case n.ActionId.Prev:e.selectTransitionStyle.PrevState=Boolean(t.value[0]);break;case n.ActionId.TransitionIndex:{const o=Number(t.value[0]);e.selectTransitionStyle.style=o;break}case n.ActionId.TransitionRate:{const o=Number(t.value[0]),n=Number(t.value[1]);0===o?e.selectTransitionStyle.mixrate=n:1===o?e.selectTransitionStyle.diprate=n:2===o&&(e.selectTransitionStyle.wiperate=n);break}case n.ActionId.NextTransitionButtons:e.nextTState.unpackNTState(Number(t.value[0]))}return!1};const n=o(7625),i=o(7956),r=o(4796);class a{static bitmask={KEY_bit:1,DSK_bit:2,BKGD_bit:4};BKGD=!1;DSK=!1;KEY=!1;keyOnAir=!1;dskOnAir=!1;getChoices(e=!0){const t=["KEY","DSK"];return e&&t.push("BKGD"),t.map((e=>({id:e,label:e})))}getDefaultChoice(){return"KEY"}isChoiceValid(e,t=!0){const o=["KEY","DSK"];return t&&o.push("BKGD"),o.includes(e)}getOnAirStatus(e){return"KEY"==e.toUpperCase()?this.keyOnAir:this.dskOnAir}setOnAirStatus(e,t){"KEY"==e.toUpperCase()?this.keyOnAir=t:this.dskOnAir=t}getOnAirCommand(e){switch(e){case"KEY":return{id:n.ActionId.KeyOnAir,type:r.ReqType.Set,value:[this.keyOnAir?1:0]};case"DSK":return{id:n.ActionId.DskOnAir,type:r.ReqType.Set,value:[this.dskOnAir?1:0]};default:console.log("getOnAirCommand called with illegal argument: "+e)}}pack(){this.KEY||this.DSK||(this.BKGD=!0);let e=0;return e+=this.KEY?a.bitmask.KEY_bit:0,e+=this.DSK?a.bitmask.DSK_bit:0,e+=this.BKGD?a.bitmask.BKGD_bit:0,e}unpackNTState(e){this.BKGD=!!(e&a.bitmask.BKGD_bit),this.DSK=!!(e&a.bitmask.DSK_bit),this.KEY=!!(e&a.bitmask.KEY_bit)}copy(){return Object.assign(new a,this)}}t.nextTransitionState=a},6883:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.PVW_Source="PreviewSource",e.PGM_Source="ProgramSource",e.TransitionStyle="AutoTransitionStyle"}(o||(t.VariableId=o={}))},6777:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Preview Source",variableId:n.VariableId.PVW_Source},{name:"Program Source",variableId:n.VariableId.PGM_Source},{name:"Auto-transition Style",variableId:n.VariableId.TransitionStyle}]},t.getValues=function(e){const t={},o=e.model.InputSources().map((e=>e.name.toLowerCase())),r=i.TransitionStyleChoice.map((e=>e.label));return t[n.VariableId.PVW_Source]=o[e.PvwSrc],t[n.VariableId.PGM_Source]=o[e.PgmSrc],t[n.VariableId.TransitionStyle]=r[e.selectTransitionStyle.style],t};const n=o(6883),i=o(7643)},7637:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.PlayModeRepeatPause="playModeRepeatPause",e.PlaybackMode="playbackMode",e.PlaybackRepeat="playbackRepeat",e.PlaybackPause="playbackPause",e.PlaybackBar="playbackBar",e.PlayFile="playFile",e.PlaybackList="playbackList"}(o||(t.ActionId=o={}))},6107:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.PlayModeRepeatPause]:{name:"Playback:Set playback Info",options:[{type:"dropdown",label:"Mode",id:"ModeID",choices:[{id:0,label:"play in one group"},{id:1,label:"play cross groups"}],default:0},{type:"dropdown",label:"repeat",id:"repeatId",choices:[{id:0,label:"Off"},{id:1,label:"On"}],default:2},{type:"dropdown",label:"pause",id:"pauseId",choices:[{id:0,label:"stop"},{id:1,label:"start"},{id:2,label:"Toggle"}],default:2}],callback:async e=>{const o=(0,i.getOptNumber)(e,"pauseId");let r=0;2===o?(r=!0===t.Pause?0:1,await(0,s.sendCommand)(n.ActionId.PlayModeRepeatPause,a.ReqType.Set,[(0,i.getOptNumber)(e,"ModeID"),(0,i.getOptNumber)(e,"repeatId"),r])):await(0,s.sendCommand)(n.ActionId.PlayModeRepeatPause,a.ReqType.Set,[(0,i.getOptNumber)(e,"ModeID"),(0,i.getOptNumber)(e,"repeatId"),o])}},[n.ActionId.PlaybackMode]:{name:"Playback:Set playback Mode",options:[{type:"dropdown",label:"Mode",id:"ModeID",choices:[{id:0,label:"play in one group"},{id:1,label:"play cross groups"}],default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PlaybackMode,a.ReqType.Set,[(0,i.getOptNumber)(e,"ModeID")])}},[n.ActionId.PlayFile]:{name:"Playback:Set selected file",options:[{type:"dropdown",label:"PlayFile",id:"PlayFileID",choices:t.FileList.map(((e,t)=>({id:t,label:e}))),default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"PlayFileID");await(0,s.sendCommand)(n.ActionId.PlayFile,a.ReqType.Set,[t.FileList[o]])}},[n.ActionId.PlaybackRepeat]:{name:"Playback:Set playback Repeat",options:[{type:"dropdown",label:"Enable",id:"EnableID",choices:r.SwitchChoices,default:2}],callback:async e=>{const o=(0,i.getOptNumber)(e,"EnableID");let r=0;2===o?(r=!0===t.Repeat?0:1,await(0,s.sendCommand)(n.ActionId.PlaybackRepeat,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.PlaybackRepeat,a.ReqType.Set,[o])}},[n.ActionId.PlaybackPause]:{name:"Playback:Set playback Pause",options:[{type:"dropdown",label:"Enable",id:"EnableID",choices:[{id:0,label:"stop"},{id:1,label:"start"},{id:2,label:"Toggle"}],default:2}],callback:async e=>{const o=(0,i.getOptNumber)(e,"EnableID");let r=0;2===o?(r=!0===t.Pause?0:1,await(0,s.sendCommand)(n.ActionId.PlaybackPause,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.PlaybackPause,a.ReqType.Set,[o])}},[n.ActionId.PlaybackBar]:{name:"Playback:Set playback Bar",options:[{type:"dropdown",label:"Enable",id:"EnableID",choices:r.SwitchChoices,default:2}],callback:async e=>{const o=(0,i.getOptNumber)(e,"EnableID");let r=0;2===o?(r=!0===t.Bar?0:1,await(0,s.sendCommand)(n.ActionId.PlaybackBar,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.PlaybackBar,a.ReqType.Set,[o])}}}};const n=o(7637),i=o(3472),r=o(7643),a=o(4796),s=o(7956)},9172:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.PlaybackMode="playbackMode",e.PlaybackRepeat="playbackRepeat",e.PlaybackPause="playbackPause",e.PlaybackBar="playbackBar",e.PlayFile="playFile"}(o||(t.FeedbackId=o={}))},3376:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.FeedbackId.PlaybackMode]:{type:"boolean",name:"Playback: Set Playback Mode",description:"If you turn on Playback Mode, change style of the button",options:[{type:"dropdown",label:"Mode",id:"ModeID",choices:[{id:0,label:"play in one group"},{id:1,label:"play cross groups"}],default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>e.options.ModeID===t.Mode},[n.FeedbackId.PlaybackRepeat]:{type:"boolean",name:"Playback: Set Playback Repeat",description:"If you turn on Playback Repeat, change style of the button",options:[],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:()=>t.Repeat},[n.FeedbackId.PlaybackPause]:{type:"boolean",name:"Playback: Set Playback Pause",description:"If you turn on Playback Pause, change style of the button",options:[],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:()=>t.Pause},[n.FeedbackId.PlaybackBar]:{type:"boolean",name:"Playback: Set Playback Bar",description:"If you turn on Playback Bar, change style of the button",options:[],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:()=>t.Bar},[n.FeedbackId.PlayFile]:{type:"boolean",name:"PlayFile: feedback based on current loaded video file",description:"Change style of button if video file is loaded",options:[{type:"dropdown",label:"Video file",id:"PlayFileID",choices:t.FileList.map(((e,t)=>({id:t,label:e}))),default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>e.options.PlayFileID===t.File}}};const n=o(9172),i=o(6278)},208:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackVariables=t.PlaybackPresets=t.PlaybackFeedbacks=t.PlaybackState=t.PlaybackActions=void 0,t.PlaybackActions=r(o(6107)),t.PlaybackState=r(o(5473)),t.PlaybackFeedbacks=r(o(3376)),t.PlaybackPresets=r(o(4004)),t.PlaybackVariables=r(o(1669))},4004:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};return t.PlayMode_0={type:"button",category:"Playback",name:"Set Playback mode",style:{text:"Play in one group",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PlaybackMode,options:{ModeID:0}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PlaybackMode,options:{ModeID:0},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},t.PlayMode_1={type:"button",category:"Playback",name:"Set Playback mode",style:{text:"Play cross group",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PlaybackMode,options:{ModeID:1}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PlaybackMode,options:{ModeID:1},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},t.PlayMode_Repeat_1={type:"button",category:"Playback",name:"Set Playback Repeat",style:{text:"Repeat",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PlaybackRepeat,options:{EnableID:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PlaybackRepeat,options:{},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},t.PlayMode_Play_Pause_Toggle={type:"button",category:"Playback",name:"Play/Pause video",style:{text:"Play",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PlaybackPause,options:{EnableID:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PlaybackPause,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255),text:"Pause"}},{feedbackId:r.FeedbackId.PlaybackPause,options:{},isInverted:!0,style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255),text:"Play"}}]},t.PlayMode_Bar_1={type:"button",category:"Playback",name:"Set Playback Bar",style:{text:"Bar",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PlaybackBar,options:{EnableID:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PlaybackBar,options:{},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]},t.PlayModeRepeatPause_0={type:"button",category:"Playback",name:"Play/pause repeat",style:{text:"Play repeat",size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.PlayModeRepeatPause,options:{ModeID:0,repeatId:1,pauseId:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.PlaybackPause,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255),text:"Pause"}},{feedbackId:r.FeedbackId.PlaybackPause,options:{},isInverted:!0,style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255),text:"Play repeat"}}]},t};const n=o(6278),i=o(7637),r=o(9172),a="18"},5473:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{Mode:0,Repeat:!1,Pause:!1,Bar:!1,File:0,FileList:[]}},t.sync=async function(e){const t=[{id:n.ActionId.PlaybackMode,type:r.ReqType.Get},{id:n.ActionId.PlaybackRepeat,type:r.ReqType.Get},{id:n.ActionId.PlaybackPause,type:r.ReqType.Get},{id:n.ActionId.PlaybackBar,type:r.ReqType.Get},{id:n.ActionId.PlaybackList,type:r.ReqType.Get}];return await(0,i.sendCommands)(t)},t.update=function(e,t){switch(t.id){case n.ActionId.PlaybackMode:e.Mode=Number(t.value[0]);break;case n.ActionId.PlaybackRepeat:e.Repeat=Boolean(t.value[0]);break;case n.ActionId.PlaybackPause:e.Pause=Boolean(t.value[0]);break;case n.ActionId.PlaybackBar:e.Bar=Boolean(t.value[0]);break;case n.ActionId.PlayFile:e.File=e.FileList.indexOf(String(t.value[0]));break;case n.ActionId.PlaybackList:return e.FileList="value"in t?t.value:[],!0}return!1};const n=o(7637),i=o(7956),r=o(4796)},4111:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.PlayState="PlayState",e.PlayFile="PlayFile"}(o||(t.VariableId=o={}))},1669:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Play State of PlayBack",variableId:n.VariableId.PlayState},{name:"Loaded video file",variableId:n.VariableId.PlayFile}]},t.getValues=function(e){const t={};return t[n.VariableId.PlayState]=e.Pause?"Play":"Pause",t[n.VariableId.PlayFile]=e.FileList[e.File],t};const n=o(4111)},9333:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.Record="record",e.RecordTime="recordTime",e.RecordFileName="recordFileName",e.RecordQuality="recordQuality"}(o||(t.ActionId=o={}))},283:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.Record]:{name:"Record:Start or Stop Recording",options:[{type:"dropdown",label:"Record",id:"Record",choices:[{id:"0",label:"Stop"},{id:"1",label:"Start"},{id:"2",label:"Toggle"}],default:0}],callback:async e=>{let o=(0,i.getOptNumber)(e,"Record");2===o&&(o=!0===t.isRecording?0:1),await t.setRecordState(Boolean(o))}},[n.ActionId.RecordFileName]:{name:"Record:Set FileName",options:[{type:"textinput",label:"FileName",id:"RecordFileName",required:!0,default:"",useVariables:!0},{type:"checkbox",label:"Update ONLY IF not recording",id:"SafeMode",default:!0}],callback:async(e,o)=>{if(e.options.SafeMode&&t.isRecording)return;const n=(0,i.getOptString)(e,"RecordFileName"),r=await o.parseVariablesInString(n);await t.setRecordFilename(r)}},[n.ActionId.RecordQuality]:{name:"Record:Set Quality",options:[{type:"dropdown",label:"Quality",id:"Quality",...(0,i.makeChoices)(t.qualityValues())}],callback:async e=>{await t.setRecordingQuality((0,i.getOptString)(e,"Quality"))}}}};const n=o(9333),i=o(3472)},4484:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Record="record",e.Quality="recordQuality",e.mediaAbsent="recordMediaPresent"}(o||(t.FeedbackId=o={}))},9008:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[i.FeedbackId.Record]:{type:"boolean",name:"Record:Recording status",description:"If GoStream is recording, change style of the button",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>t.isRecording},[i.FeedbackId.Quality]:{type:"boolean",name:"Record:Quality",description:"The recording quality (high...low)",options:[{type:"dropdown",label:"Quality",id:"Quality",...(0,r.makeChoices)(t.qualityValues())}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>t.quality===(0,r.getOptString)(e,"Quality")},[i.FeedbackId.mediaAbsent]:{type:"boolean",name:"Record:Storage media absent (SD/SSD)",description:"If storage media are absent (SD or SSD), change style of the button",options:[],defaultStyle:{color:(0,n.combineRgb)(110,110,110),bgcolor:(0,n.combineRgb)(72,72,72)},callback:()=>!t.storageMediaPresent}}};const n=o(6278),i=o(4484),r=o(3472)},4160:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RecordVariables=t.RecordFeedbacks=t.RecordPresets=t.RecordState=t.RecordActions=void 0,t.RecordActions=r(o(283)),t.RecordState=r(o(7345)),t.RecordPresets=r(o(8564)),t.RecordFeedbacks=r(o(9008)),t.RecordVariables=r(o(677))},8564:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};t.Record_0={type:"button",category:"Record",name:"Start/Stop Recording",style:{text:"Record",size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0),png64:c},steps:[{down:[{actionId:i.ActionId.Record,options:{Record:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.Record,options:{},style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255),text:"$(gostreamdeck:record_duration_hm)",png64:l}},{feedbackId:r.FeedbackId.mediaAbsent,options:{},style:{bgcolor:(0,n.combineRgb)(110,110,110),color:(0,n.combineRgb)(255,255,64),text:"Insert SD/SSD"}}]},t.Record_1={type:"button",category:"Record",name:"Start/Stop recording with current timestamp in the filename",style:{text:"Name & Record",size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0),png64:c},steps:[{down:[{actionId:i.ActionId.RecordFileName,options:{RecordFileName:"GSD_$(internal:date_iso)_$(internal:time_hms)",SafeMode:!0}},{actionId:i.ActionId.Record,delay:100,options:{Record:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.Record,options:{},style:{bgcolor:(0,n.combineRgb)(0,0,0),color:(0,n.combineRgb)(255,255,255),text:"$(gostreamdeck:record_duration_hm)",png64:l}},{feedbackId:r.FeedbackId.mediaAbsent,options:{},style:{bgcolor:(0,n.combineRgb)(110,110,110),color:(0,n.combineRgb)(255,255,64),text:"Insert SD/SSD"}}]},t.Record_FileName={type:"button",category:"Record",name:"Set recorded filename to include the current time",style:{text:"Update Record Filename",size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.RecordFileName,options:{RecordFileName:"GSD_$(internal:date_iso)_$(internal:time_hms)",SafeMode:!0}}],up:[]}],feedbacks:[]};for(const e of["high","good","medium","low"])t[`Record_Quality_${e}`]={type:"button",category:"Record",name:`Set recording quality to ${e}`,style:{text:`Rec Quality ${e}`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.RecordQuality,options:{Quality:e}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.Quality,options:{Quality:e},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]};return t.Record_Quality_Status={type:"button",category:"Record",name:"Rec Quality: Show Status",style:{text:`Rec Quality is: $(gostreamdeck:${a.VariableId.RecordQuality})`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[],up:[]}],feedbacks:[]},t};const n=o(6278),i=o(9333),r=o(4484),a=o(4623),s="14",c="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",l="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\nwDQMj9xT+KfNgAAAABJRU5ErkJggg=="},7345:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordStateT=void 0,t.sync=a,t.update=function(e,t){let o,n;switch(t.id){case r.Record:e.isRecording=Boolean(t.value[0]);break;case r.RecordTime:e.recordTime=String(t.value[0]);break;case r.BuildInfo:if(o=e.fwVersion,e.fwVersion=parseInt("0x"+String(t.value[0])),o!=e.fwVersion)return a(e.model),!0;break;case r.RecordQuality:n=e.decodeRecordingQuality(t.value),null!=n&&(e.quality=n);break;case r.RecordFreeSpace:e.freeSpace=String(t.value[0]);break;case r.RecordFreeTime:e.freeTime=String(t.value[0]);break;case r.RecordFree:e.freeSpaceTime=String(t.value[0]);break;case r.RecordMediaPresent:e.storageMediaPresent=Boolean(t.value[0])}return!1};const n=o(7956),i=o(4796);var r;async function a(e){const t=[{id:r.Record,type:i.ReqType.Get},{id:r.RecordQuality,type:i.ReqType.Get,value:[0]},{id:r.RecordFreeSpace,type:i.ReqType.Get,value:[0]},{id:r.RecordFreeTime,type:i.ReqType.Get,value:[0]},{id:r.RecordFree,type:i.ReqType.Get,value:[0]},{id:r.RecordMediaPresent,type:i.ReqType.Get,value:[0]}];return(0,n.sendCommands)(t)}!function(e){e.Record="record",e.RecordTime="recordTime",e.RecordFileName="recordFileName",e.RecordQuality="quality",e.RecordFreeSpace="sdFreeSpace",e.RecordFreeTime="sdFreeTime",e.RecordFree="sdFree",e.RecordMediaPresent="sdCardStatus",e.BuildInfo="buildInfo"}(r||(r={})),t.RecordStateT=class{model;isRecording=!1;recordTime="";fwVersion;quality;freeSpace;freeTime;freeSpaceTime;storageMediaPresent=!1;constructor(e){this.model=e}async setRecordState(e){return(0,n.sendCommand)(r.Record,i.ReqType.Set,[e?1:0])}async setRecordFilename(e){return(0,n.sendCommand)(r.RecordFileName,i.ReqType.Set,[e.replaceAll(/[\\/:*?"<>|]/g,"_")])}qualityValues(e=!1){return this.fwVersion&&this.fwVersion<=191247664?["high","medium","low"]:["high","good","medium","low"]}async setRecordingQuality(e){return(0,n.sendCommand)(r.RecordQuality,i.ReqType.Set,[0,this.qualityValues(!0).indexOf(e)])}decodeRecordingQuality(e){if(0===e[0]&&2===e.length)return this.qualityValues(!0)[e[1]]}}},4623:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.RecordDuration="record_duration_hm",e.RecordQuality="record_quality",e.RecordFreeSpace="record_free_space",e.RecordFreeTime="record_free_time",e.RecordFree="record_free_spacetime",e.RecordMediaPresent="record_SD_SSD_present"}(o||(t.VariableId=o={}))},677:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Recording duration (hh:mm)",variableId:n.VariableId.RecordDuration},{name:"Recording quality",variableId:n.VariableId.RecordQuality},{name:"Recording: free space",variableId:n.VariableId.RecordFreeSpace},{name:"Recording: free time (hh:mm:ss)",variableId:n.VariableId.RecordFreeTime},{name:"Recording free space and time",variableId:n.VariableId.RecordFree},{name:"Recoding media present (SD or SSD)",variableId:n.VariableId.RecordMediaPresent}]},t.getValues=function(e){const t={};return t[n.VariableId.RecordDuration]=e.recordTime,t[n.VariableId.RecordQuality]=e.quality,t[n.VariableId.RecordFreeSpace]=e.freeSpace,t[n.VariableId.RecordFreeTime]=e.freeTime,t[n.VariableId.RecordFree]=e.freeSpaceTime,t[n.VariableId.RecordMediaPresent]=e.storageMediaPresent,t};const n=o(4623)},4073:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.SrcName="srcName",e.MvMeter="mvMeter",e.MvLayout="mvLayout",e.InputWindowLayout="inputWindowLayout",e.Marker="marker",e.MicInput="micInput",e.SrcSelection="srcSelection",e.AuxSource="auxSource",e.OutFormat="outFormat",e.OutputColorSpace="outputColorSpace",e.OutSource="outSource",e.NetworkProtocol="networkProtocol",e.NetworkIpAddress="networkIpAddress",e.NetworkSubnetMask="networkSubnetMask",e.NetworkGateway="networkGateway",e.NetworkPrimaryDNS="networkPrimaryDNS",e.NetworkSecondaryDNS="networkSecondaryDNS",e.Panel="panel",e.SdFormat="sdFormat",e.SystemReset="systemReset",e.LiveStatus="liveStatus",e.LiveInfo="liveInfo",e.GetSrcSelectionList="getSrcSelectionList",e.Version="version",e.BuildInfo="buildInfo",e.DeviceId="deviceId",e.DeviceName="deviceName",e.NDIConnect="NDIConnect",e.NDIList="NDIList"}(o||(t.ActionId=o={}))},5151:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.SrcName]:{name:"Settings:Set SrcName",options:[{type:"dropdown",label:"Src",id:"SrcID",choices:s.SettingsUMDSrcChoices,default:0},{type:"textinput",label:"Src Name",id:"SrcName",required:!0,default:""}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.SrcName,r.ReqType.Set,[(0,i.getOptNumber)(e,"SrcID"),(0,i.getOptString)(e,"SrcName")])}},[n.ActionId.MvMeter]:{name:"Settings:Set Mv Meter",options:[{type:"dropdown",label:"Src",id:"SrcID",choices:s.SettingsMvMeterChoices,default:0},{type:"dropdown",label:"Mv Meter Enable",id:"MvMeterEnable",choices:s.SwitchChoices,default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"SrcID");let s=(0,i.getOptNumber)(e,"MvMeterEnable");2===s&&(s=1===t.mvMeter[o]?0:1),await(0,a.sendCommand)(n.ActionId.MvMeter,r.ReqType.Set,[o,s])}},[n.ActionId.MvLayout]:{name:"Settings:Set Mv Layout",options:[{type:"dropdown",label:"Layout",id:"MvLayout",choices:s.SettingsMvLayoutChoices,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.MvLayout,r.ReqType.Set,[(0,i.getOptNumber)(e,"MvLayout")])}},[n.ActionId.InputWindowLayout]:{name:" Settings: Set Input Window Mv Layout",options:[{type:"dropdown",label:"style",id:"StyleId",choices:s.SettingsInputWindowLayoutChoices,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.InputWindowLayout,r.ReqType.Set,[(0,i.getOptNumber)(e,"StyleId")])}},[n.ActionId.Marker]:{name:"Settings: Set Marker",options:[{type:"dropdown",label:"marker",id:"Marker",choices:s.SwitchChoices,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.Marker,r.ReqType.Set,[(0,i.getOptNumber)(e,"Marker")])}},[n.ActionId.MicInput]:{name:"Settings: Mic Input",options:[{type:"dropdown",label:"mic",id:"micid",choices:s.AudioMicChoices,default:0},{type:"dropdown",label:"Input type",id:"MicInput1",choices:s.SettingsMic1InputChoices,default:0,isVisible:e=>0===e.micid},{type:"dropdown",label:"Input type",id:"MicInput2",choices:s.SettingsMic2InputChoices,default:0,isVisible:e=>1===e.micid}],callback:async e=>{let t=(0,i.getOptNumber)(e,"MicInput1");1===e.options.micid&&(t=(0,i.getOptNumber)(e,"MicInput2")),await(0,a.sendCommand)(n.ActionId.MicInput,r.ReqType.Set,[(0,i.getOptNumber)(e,"micid"),t])}},[n.ActionId.SrcSelection]:{name:"Settings: Src Selection",options:[{type:"dropdown",label:"Src",id:"Srcid",choices:(0,c.getInputs)(e,r.PortType.External).map(((e,t)=>({id:t,label:e.longName}))),default:"0"},{type:"dropdown",label:"Selection",id:"SrcSelection",choices:t.sourceSelectionList.map(((e,t)=>({id:t,label:e}))),default:"0"}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.SrcSelection,r.ReqType.Set,[(0,i.getOptNumber)(e,"Srcid"),(0,i.getOptNumber)(e,"SrcSelection")])}},[n.ActionId.AuxSource]:{name:"Settings: Aux Source",options:[{type:"dropdown",label:"Aux Source",id:"auxSourceID",choices:s.SettingsAuxSourceChoices,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.AuxSource,r.ReqType.Set,[(0,i.getOptNumber)(e,"auxSourceID")])}},[n.ActionId.OutFormat]:{name:"Settings: Out Format",options:[{type:"dropdown",label:"OutFormat",id:"OutFormat",choices:s.SettingsOutFormatChoices,default:0}],callback:async e=>{t.outputFormat=-1,await(0,a.sendCommand)(n.ActionId.OutFormat,r.ReqType.Set,[(0,i.getOptNumber)(e,"OutFormat")]),setTimeout((()=>{(0,a.sendCommand)(n.ActionId.OutFormat,r.ReqType.Get)}),2e3)}},[n.ActionId.OutputColorSpace]:{name:"Settings: Output ColorSpace",options:[{type:"dropdown",label:"Out",id:"OutId",choices:e.outputs.filter((e=>e.caps&r.PortCaps.Colorspace)).map(((e,t)=>({id:t,label:e.longName}))),default:0},{type:"dropdown",label:"ColorSpace",id:"OutputColorSpace",choices:s.SettingsColorChoices,default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.OutputColorSpace,r.ReqType.Set,[(0,i.getOptNumber)(e,"OutId"),(0,i.getOptNumber)(e,"OutputColorSpace")])}},[n.ActionId.OutSource]:{name:"Settings:Out Source",options:[{type:"dropdown",label:"Out",id:"OutId",choices:e.outputPorts.map((e=>({id:e.id,label:e.name}))),default:0},{type:"dropdown",label:"OutSource",id:"OutSource",choices:e.OutputSources().map((e=>({id:e.id,label:e.name}))),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.OutSource,r.ReqType.Set,[(0,i.getOptNumber)(e,"OutId"),(0,i.getOptNumber)(e,"OutSource")])}},[n.ActionId.NDIConnect]:{name:"Settings: Select NDI source",options:[{type:"dropdown",label:"Source name",id:"sourceId",choices:0==t.ndiSources.length?[{id:-1,label:"No sources found"}]:t.ndiSources.map(((e,t)=>({id:t,label:e.name}))),default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"sourceId");-1!==o&&await(0,a.sendCommand)(n.ActionId.NDIConnect,r.ReqType.Set,[t.ndiSources[o].name,t.ndiSources[o].address])}}}};const n=o(4073),i=o(3472),r=o(4796),a=o(7956),s=o(7643),c=o(2317)},2304:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.InputWindowLayout="inputWindowLayout",e.SrcSelection="srcSelection",e.OutputColorSpace="outputColorSpace",e.OutputFormat="outFormat",e.MicInput="micInput",e.MvLayout="mvLayout",e.SettingOutSource="settingOutSource",e.AuxBG="auxBG",e.NDIConnect="NDIConnect"}(o||(t.FeedbackId=o={}))},4108:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.FeedbackId.InputWindowLayout]:{type:"boolean",name:"Settings:Input Window Mv Layout",description:"Update style based on input window mv layout style",options:[{type:"dropdown",label:"Type:",id:"StyleID",choices:r.SettingsInputWindowLayoutChoices,default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(0,255,0)},callback:e=>t.inputWindowLayout===e.options.StyleID,learn:()=>({StyleID:t.inputWindowLayout})},[n.FeedbackId.SettingOutSource]:{type:"boolean",name:"Setting: Set Out Source",description:"If the input specified is selected in the OutSource specified, change style of the button",options:[{type:"dropdown",label:"Out",id:"OutId",choices:e.outputPorts.map((e=>({id:e.id,label:e.name}))),default:0},{type:"dropdown",label:"OutSource",id:"OutSource",choices:e.OutputSources().map((e=>({id:e.id,label:e.name}))),default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=e.options.OutId,n=e.options.OutSource;return t.outSource[o]===n},learn:e=>{const o=e.options.OutId;return{...e.options,OutSource:t.outSource[o]}}},[n.FeedbackId.OutputColorSpace]:{type:"boolean",name:"Setting: Output color space",description:"If the colorspace of specified output is the selected, change style of the button",options:[{type:"dropdown",label:"Output",id:"OutputId",choices:e.outputs.filter((e=>e.caps&a.PortCaps.Colorspace)).map(((e,t)=>({id:t,label:e.longName}))),default:0},{type:"dropdown",label:"ColorSpace",id:"OutputColorSpaceId",choices:r.SettingsColorChoices,default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(0,255,0)},callback:e=>t.outputColorSpace[Number(e.options.OutputId)]===e.options.OutputColorSpaceId,learn:e=>({...e.options,OutputColorSpaceId:t.outputColorSpace[Number(e.options.OutputId)]})},[n.FeedbackId.OutputFormat]:{type:"boolean",name:"Setting: Out format",description:"If the out format is matching, change style of the button",options:[{type:"dropdown",label:"Format",id:"OutputFormatId",choices:r.SettingsOutFormatChoices,default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(0,255,0)},callback:e=>t.outputFormat===e.options.OutputFormatId,learn:()=>({OutputFormatId:t.outputFormat})},[n.FeedbackId.MvLayout]:{type:"boolean",name:"Setting: Mv layout",description:"If the mv layout is matching, change style of the button",options:[{type:"dropdown",label:"Layout",id:"MvLayoutId",choices:r.SettingsMvLayoutChoices,default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(0,255,0)},callback:e=>t.mvLayout===e.options.MvLayoutId,learn:()=>({MvLayoutId:t.mvLayout})},[n.FeedbackId.SrcSelection]:{type:"boolean",name:"Setting: Src selection",description:"If the source selection format is matching, change style of the button",options:[{type:"dropdown",label:"Src",id:"srcId",choices:(0,s.getInputs)(e,a.PortType.External).map(((e,t)=>({id:t,label:e.longName}))),default:"0"},{type:"dropdown",label:"Selection",id:"srcSelectionId",choices:t.sourceSelectionList.map(((e,t)=>({id:t,label:e}))),default:"0"}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(0,255,0)},callback:e=>t.sourceSelection[Number(e.options.srcId)]===e.options.srcSelectionId,learn:e=>({...e.options,srcSelectionId:t.sourceSelection})},[n.FeedbackId.MicInput]:{type:"boolean",name:"Setting: Mic input",description:"If the mic input for selected mic is matching, change style of the button",options:[{type:"dropdown",label:"mic",id:"micId",choices:r.AudioMicChoices,default:0},{type:"dropdown",label:"Input type",id:"MicInput1",choices:r.SettingsMic1InputChoices,default:0,isVisible:e=>0===e.micId},{type:"dropdown",label:"Input type",id:"MicInput2",choices:r.SettingsMic2InputChoices,default:0,isVisible:e=>1===e.micId}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(0,255,0)},callback:e=>{const o=Number(e.options.micId);let n=Number(e.options.MicInput1);return 1===o&&(n=Number(e.options.MicInput2)),t.micInput[o]===n},learn:e=>({...e.options,micInputId:t.micInput[Number(e.options.micId)]})},[n.FeedbackId.AuxBG]:{type:"boolean",name:"Aux: Source",description:"If the input specified is selected in the aux bus specified, change style of the button",options:[{type:"dropdown",label:"Aux Source",id:"auxSourceID",choices:r.SettingsAuxSourceChoices,default:0}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>t.auxSource===Number(e.options.auxSourceID),learn:e=>{const o=t.auxSource;return void 0!==o?{...e.options,auxSourceID:o}:void 0}},[n.FeedbackId.NDIConnect]:{type:"boolean",name:"Aux: Connected NDI source",description:"If the input specified is connected to NDI, change style of the button",options:[{type:"dropdown",label:"NDI Source",id:"ndiSourceName",choices:0==t.ndiSources.length?[{id:-1,label:"No sources found"}]:t.ndiSources.map((e=>({id:e.name,label:e.name+" ["+e.address+"]"}))),default:0==t.ndiSources.length?-1:t.ndiSources[0].name}],defaultStyle:{color:(0,i.combineRgb)(0,0,0),bgcolor:(0,i.combineRgb)(255,255,0)},callback:e=>{const o=e.options.ndiSourceName;if(-1===o)return!1;const n=t.ndiSources.find((e=>e.name===o));return!!n&&t.connectedNdiSource.name===n.name&&t.connectedNdiSource.address===n.address},learn:e=>{const o=t.connectedNdiSource;return void 0!==o?{...e.options,ndiSourceName:o.name}:void 0}}}};const n=o(2304),i=o(6278),r=o(7643),a=o(4796),s=o(2317)},7268:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPresets=t.SettingsVariables=t.SettingsFeedbacks=t.SettingsState=t.SettingsActions=void 0,t.SettingsActions=r(o(5151)),t.SettingsState=r(o(6597)),t.SettingsFeedbacks=r(o(4108)),t.SettingsVariables=r(o(2377)),t.SettingsPresets=r(o(6680))},6680:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};for(const e of a.SettingsAuxSourceChoices)t[`aux_${e.id}`]={category:"AUX Sources",name:`AUX ${e.id} button for ${e.label}`,type:"button",style:{text:`${e.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.AuxBG,options:{auxSourceID:e.id},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}],steps:[{down:[{actionId:i.ActionId.AuxSource,options:{auxSourceID:e.id}}],up:[]}]};for(const o of e.outputPorts)for(const a of e.OutputSources())t["outSource_"+o.name+"_source_"+a.name]={category:"Settings",name:"Settings "+o.name+" OutSource "+a.name,type:"button",style:{text:"Send "+a.name+" to "+o.name,size:"14",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.SettingOutSource,options:{OutId:o.id,OutSource:a.id},style:{color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(255,0,0)}}],steps:[{down:[{actionId:i.ActionId.OutSource,options:{OutId:o.id,OutSource:a.id}}],up:[]}]};for(const e of a.SettingsOutFormatChoices)t[`OutPutFormat_${e.label}`]={category:"Settings",name:`Output Format ${e.label}`,type:"button",style:{text:`Output ${e.label}`,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.OutputFormat,options:{OutputFormatId:e.id},style:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)}}],steps:[{down:[{actionId:i.ActionId.OutFormat,options:{OutFormat:e.id}}],up:[]}]};return t};const n=o(6278),i=o(4073),r=o(2304),a=o(7643),s="18"},6597:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t=e.inputs.filter((e=>e.type&r.PortType.Mic)).length,o=e.inputs.filter((e=>e.caps&r.PortCaps.Renameable)).length,n=e.inputs.filter((e=>e.caps&r.PortCaps.Audio)).length,i=e.outputs.filter((e=>e.caps&r.PortCaps.Colorspace)).length,a=e.inputs.filter((e=>e.type&(r.PortType.HDMI|r.PortType.SDI))).length;return{auxSource:0,inputWindowLayout:0,mvMeter:Array(n),outSource:Array(e.outputs.length),outputColorSpace:Array(i),outputFormat:0,micInput:Array(t),mvLayout:0,sourceSelection:Array(a),sourceSelectionList:["Loading"],sourceName:new Array(o),version:"",buildInfo:"",deviceId:"",deviceName:"",ndiSources:[],connectedNdiSource:{name:"",address:""}}},t.sync=async function(e){const t=e.inputs.filter((e=>e.type&r.PortType.Mic)).length,o=e.inputs.filter((e=>e.caps&r.PortCaps.Renameable)).length,s=e.inputs.filter((e=>e.type&(r.PortType.HDMI|r.PortType.SDI)&&e.caps&r.PortCaps.Audio)).length,c=e.inputs.filter((e=>e.type&(r.PortType.HDMI|r.PortType.SDI))).length,l=[{id:n.ActionId.AuxSource,type:r.ReqType.Get},...(0,a.Range)(e.outputs.length).map((e=>({id:n.ActionId.OutSource,type:r.ReqType.Get,value:[e]}))),{id:n.ActionId.InputWindowLayout,type:r.ReqType.Get},...(0,a.Range)(s).map((e=>({id:n.ActionId.MvMeter,type:r.ReqType.Get,value:[e]}))),{id:n.ActionId.OutputColorSpace,type:r.ReqType.Get},{id:n.ActionId.OutFormat,type:r.ReqType.Get},{id:n.ActionId.MvLayout,type:r.ReqType.Get},...(0,a.Range)(t).map((e=>({id:n.ActionId.MicInput,type:r.ReqType.Get,value:[e]}))),...(0,a.Range)(o).map((e=>({id:n.ActionId.SrcName,type:r.ReqType.Get,value:[e]}))),...(0,a.Range)(c).map((e=>({id:n.ActionId.SrcSelection,type:r.ReqType.Get,value:[e]}))),{id:n.ActionId.GetSrcSelectionList,type:r.ReqType.Get},{id:n.ActionId.Version,type:r.ReqType.Get},{id:n.ActionId.BuildInfo,type:r.ReqType.Get},{id:n.ActionId.DeviceId,type:r.ReqType.Get},{id:n.ActionId.DeviceName,type:r.ReqType.Get}];return(0,i.sendCommands)(l)},t.update=function(e,t){switch(t.id){case n.ActionId.AuxSource:e.auxSource=Number(t.value[0]),2==e.auxSource?s=setInterval((()=>{(0,i.sendCommand)(n.ActionId.NDIList,r.ReqType.Get).catch((e=>{console.log("Unexpected NDI sync error",e)})).then((e=>{})).catch((e=>{}))}),c):clearInterval(s);break;case n.ActionId.InputWindowLayout:e.inputWindowLayout=Number(t.value[0]);break;case n.ActionId.MvMeter:e.mvMeter[Number(t.value[0])]=Number(t.value[1]);break;case n.ActionId.OutSource:e.outSource[Number(t.value[0])]=Number(t.value[1]);break;case n.ActionId.OutputColorSpace:e.outputColorSpace[Number(t.value[0])]=Number(t.value[1]);break;case n.ActionId.OutFormat:e.outputFormat=Number(t.value[0]);break;case n.ActionId.MicInput:e.micInput[Number(t.value[0])]=Number(t.value[1]);break;case n.ActionId.MvLayout:e.mvLayout=Number(t.value[0]);break;case n.ActionId.SrcSelection:e.sourceSelection[Number(t.value[0])]=Number(t.value[1]);break;case n.ActionId.SrcName:e.sourceName[Number(t.value[0])]=String(t.value[1]);break;case n.ActionId.GetSrcSelectionList:return e.sourceSelectionList=t.value,!0;case n.ActionId.Version:e.version=String(t.value[0]);break;case n.ActionId.BuildInfo:e.buildInfo=String(t.value[0]);break;case n.ActionId.DeviceId:e.deviceId=String(t.value[0]);break;case n.ActionId.DeviceName:e.deviceName=String(t.value[0]);break;case n.ActionId.NDIConnect:e.connectedNdiSource={name:String(t.value[0]),address:String(t.value[1])};break;case n.ActionId.NDIList:{if(!t.value)return e.ndiSources=[],!0;const o=t.value,n=[];for(let e=0;e<o.length;e+=2)n.push({name:String(o[e]),address:String(o[e+1])});return n.sort(((e,t)=>e.name<t.name?-1:1)),e.ndiSources=n,!0}}return!1};const n=o(4073),i=o(7956),r=o(4796),a=o(3472);let s;const c=5e3},2377:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t=[];for(let e=0;e<9;e++)t.push({name:`SrcId ${e} name`,variableId:`SrcId${e}_name`});return t.push({name:"version",variableId:"version"}),t.push({name:"build",variableId:"buildInfo"}),t.push({name:"device id",variableId:"deviceId"}),t.push({name:"device name",variableId:"deviceName"}),t.push({name:"connected NDI source name",variableId:"connectedNDISource_name"}),t.push({name:"connected NDI source address",variableId:"connectedNDISource_address"}),t},t.getValues=function(e){const t={};for(let o=0;o<9;o++)t[`SrcId${o}_name`]=e.sourceName[o];return t.version=e.version,t.buildInfo=e.buildInfo,t.deviceId=e.deviceId,t.deviceName=e.deviceName,t.connectedNDISource_name=e.connectedNdiSource.name,t.connectedNDISource_address=e.connectedNdiSource.address,t}},7303:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.StillSelection="stillSelection",e.StillRemove="stillRemove",e.StillLoadIndex="stillLoadIndex",e.StillLoadImage="stillLoadImage"}(o||(t.ActionId=o={}))},3277:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.StillSelection]:{name:"Still:Select pic index",options:[{type:"dropdown",label:"Still",id:"StillIndex",choices:[{id:0,label:"Still1"},{id:1,label:"Still2"}],default:0},{type:"dropdown",label:"Pic index (0-31)",id:"PicIndex",choices:e.getChoicesByStill(),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.StillSelection,r.ReqType.Set,[(0,i.getOptNumber)(e,"StillIndex"),(0,i.getOptNumber)(e,"PicIndex")])}}}};const n=o(7303),i=o(3472),r=o(4796),a=o(7956)},3314:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.Still="still"}(o||(t.FeedbackId=o={}))},2998:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[i.FeedbackId.Still]:{type:"boolean",name:"Still: Select pic index",description:"",options:[{type:"dropdown",label:"Still",id:"StillIndex",choices:[{id:0,label:"Still1"},{id:1,label:"Still2"}],default:0},{type:"dropdown",label:"Pic index (0-32)",id:"PicIndex",default:0,choices:e.getChoicesByStill()}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.StillIndex),n=Number(e.options.PicIndex);return t.slots[o]==n}}}};const n=o(6278),i=o(3314)},9102:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StillGeneratorPresets=t.StillGeneratorState=t.StillGeneratorFeedbacks=t.StillGeneratorActions=void 0,t.StillGeneratorActions=r(o(3277)),t.StillGeneratorFeedbacks=r(o(2998)),t.StillGeneratorState=r(o(6711)),t.StillGeneratorPresets=r(o(3682))},3682:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};for(const e of[0,1])for(let o=0;o<32;o++)t[`Still_Selection_${e}_${o}`]={category:"Still",name:`Still: Select pic index ${o} to still ${e}`,type:"button",style:{text:`Still\n${e}:${o}`,size:a,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.Still,options:{StillIndex:e,PicIndex:o},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.StillSelection,options:{StillIndex:e,PicIndex:o}}],up:[]}]};return t};const n=o(6278),i=o(7303),r=o(3314),a="18"},6711:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{slots:Array(e.stillSlots)}},t.sync=async function(e){const t=[...(0,a.Range)(e.stillSlots).map((e=>({id:n.ActionId.StillSelection,type:r.ReqType.Get,value:[e]})))];return await(0,i.sendCommands)(t)},t.update=function(e,t){return t.id===n.ActionId.StillSelection&&(e.slots[Number(t.value[0])]=Number(t.value[1]),!0)};const n=o(7303),i=o(7956),r=o(4796),a=o(3472)},380:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.StreamOutput="streamOutput",e.StreamPlatform="streamPlatform",e.StreamServer="streamServer",e.StreamProfile="streamProfile",e.StreamKey="streamKey",e.Live="live",e.LiveInfo="liveInfo",e.StreamProfileAll="getStreamProfileAll",e.StreamQuality="streamQuality"}(o||(t.ActionId=o={}))},4680:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveStatus=void 0,t.create=function(e,t){return{[n.ActionId.StreamOutput]:{name:"Streaming: Enable stream",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:r.StreamingChoices,default:0},{type:"dropdown",label:"Enable",id:"EnableId",choices:r.SwitchChoices,default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"StreamID"),r=(0,i.getOptNumber)(e,"EnableId");if(2===r){const e=t.streamInfo[o].enabled?0:1;await(0,s.sendCommand)(n.ActionId.StreamOutput,a.ReqType.Set,[o,e])}else await(0,s.sendCommand)(n.ActionId.StreamOutput,a.ReqType.Set,[o,r])}},[n.ActionId.StreamPlatform]:{name:"Streaming: Set platform",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:r.StreamingChoices,default:0},{type:"dropdown",label:"Platform",id:"PlatformId",choices:t.platforms.map((e=>({id:e.name,label:e.name}))),default:t.platforms[0]?.name},...(o=t.platforms,o.map((e=>({type:"dropdown",label:"Server",id:"ServerId_"+e.name,choices:e.servers.map((e=>({id:e,label:e}))),default:e.servers[0],isVisible:(e,t)=>e.PlatformId===t.PlatformId,isVisibleData:{PlatformId:e.name}}))))],callback:async e=>{const t=(0,i.getOptNumber)(e,"StreamID"),o=(0,i.getOptString)(e,"PlatformId");await(0,s.sendCommand)(n.ActionId.StreamPlatform,a.ReqType.Set,[t,o]),await(0,s.sendCommand)(n.ActionId.StreamServer,a.ReqType.Set,[t,e.options["ServerId_"+o]])}},[n.ActionId.StreamKey]:{name:"Streaming: Set stream Key",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:r.StreamingChoices,default:0},{type:"textinput",label:"Stream key",id:"KeyId",default:"",required:!0}],callback:async e=>{const t=(0,i.getOptNumber)(e,"StreamID"),o=(0,i.getOptString)(e,"KeyId");await(0,s.sendCommand)(n.ActionId.StreamKey,a.ReqType.Set,[t,o])}},[n.ActionId.Live]:{name:"Live:Set Start or Stop Live",options:[{type:"dropdown",label:"Enable",id:"LiveEnable",choices:[{id:0,label:"Stop"},{id:1,label:"Start"},{id:2,label:"Toggle"}],default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"LiveEnable");let r=0;2===o?(r=t.status===c.Off?1:0,await(0,s.sendCommand)(n.ActionId.Live,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.Live,a.ReqType.Set,[o])}},[n.ActionId.StreamQuality]:{name:"Set quality of the stream",options:[{type:"dropdown",label:"Quality",id:"Quality",choices:e.StreamQualityChoices(),default:0}],callback:async e=>{await(0,s.sendCommand)("quality",a.ReqType.Set,[1,(0,i.getOptNumber)(e,"Quality")])}}};var o};const n=o(380),i=o(3472),r=o(7643),a=o(4796),s=o(7956);var c;!function(e){e[e.Off=0]="Off",e[e.OnAir=1]="OnAir",e[e.Abnormal=2]="Abnormal"}(c||(t.LiveStatus=c={}))},1085:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.StreamOutput="streamOutput",e.LiveInfo="liveInfo",e.StreamQuality="streamQuality"}(o||(t.FeedbackId=o={}))},8963:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[i.FeedbackId.StreamOutput]:{type:"boolean",name:"Streaming: Set Stream Enable",description:"If you turn on Stream Enable, change style of the button",options:[{type:"dropdown",label:"Stream",id:"StreamID",choices:r.StreamingChoices,default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>t.streamInfo[Number(e.options.StreamID)].enabled},[i.FeedbackId.LiveInfo]:{type:"boolean",name:"Live: Set Live Start or Stop",description:"If you turn on Live Start, change style of the button",options:[{type:"dropdown",label:"states",id:"statesId",choices:[{id:0,label:"off"},{id:1,label:"on air"},{id:2,label:"abnormal"}],default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>t.status===e.options.statesId},[i.FeedbackId.StreamQuality]:{type:"boolean",name:"Streaming: quality",description:"change style of the button if streaming quality matches feedback",options:[{type:"dropdown",label:"Quality",id:"Quality",choices:e.StreamQualityChoices(),default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:o=>{const n=Number(o.options.Quality);return t.quality===Number(e.RecordQualityChoices()[n].id)}}}};const n=o(6278),i=o(1085),r=o(7643)},8427:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingVariables=t.StreamingFeedbacks=t.StreamingPresets=t.StreamingState=t.StreamingActions=void 0,t.StreamingActions=r(o(4680)),t.StreamingState=r(o(2462)),t.StreamingPresets=r(o(3315)),t.StreamingFeedbacks=r(o(8963)),t.StreamingVariables=r(o(7114))},3315:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};for(const e of a.StreamingChoices)t[`StreamingSwitch_${e.id}`]={type:"button",category:"Streaming",name:"Push Streaming",style:{text:`${e.label}`,size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.StreamOutput,options:{StreamID:e.id,EnableId:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.StreamOutput,options:{StreamID:e.id},style:{bgcolor:(0,n.combineRgb)(255,255,0),color:(0,n.combineRgb)(0,0,0)}}]};return t.Live_0={type:"button",category:"Live",name:"Live",style:{text:"Live",size:s,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},steps:[{down:[{actionId:i.ActionId.Live,options:{LiveEnable:2}}],up:[]}],feedbacks:[{feedbackId:r.FeedbackId.LiveInfo,options:{statesId:1},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(0,0,0)}}]},t};const n=o(6278),i=o(380),r=o(1085),a=o(7643),s="18"},2462:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{status:a.LiveStatus.Off,streamInfo:[{enabled:!1,status:a.LiveStatus.Off,platform:""},{enabled:!1,status:a.LiveStatus.Off,platform:""},{enabled:!1,status:a.LiveStatus.Off,platform:""}],platforms:[{name:"Loading",servers:["Loading"]}],quality:0}},t.sync=async function(e){const t=[{id:n.ActionId.StreamOutput,type:r.ReqType.Get,value:[0]},{id:n.ActionId.StreamOutput,type:r.ReqType.Get,value:[1]},{id:n.ActionId.StreamOutput,type:r.ReqType.Get,value:[2]},{id:n.ActionId.StreamPlatform,type:r.ReqType.Get,value:[0]},{id:n.ActionId.StreamPlatform,type:r.ReqType.Get,value:[1]},{id:n.ActionId.StreamPlatform,type:r.ReqType.Get,value:[2]},{id:n.ActionId.StreamServer,type:r.ReqType.Get,value:[0]},{id:n.ActionId.StreamServer,type:r.ReqType.Get,value:[1]},{id:n.ActionId.StreamServer,type:r.ReqType.Get,value:[2]},{id:n.ActionId.StreamKey,type:r.ReqType.Get,value:[0]},{id:n.ActionId.StreamKey,type:r.ReqType.Get,value:[1]},{id:n.ActionId.StreamKey,type:r.ReqType.Get,value:[2]},{id:n.ActionId.Live,type:r.ReqType.Get},{id:n.ActionId.LiveInfo,type:r.ReqType.Get,value:[0]},{id:n.ActionId.LiveInfo,type:r.ReqType.Get,value:[1]},{id:n.ActionId.LiveInfo,type:r.ReqType.Get,value:[2]},{id:n.ActionId.Live,type:r.ReqType.Get},{id:n.ActionId.StreamProfileAll,type:r.ReqType.Get},{id:"quality",type:r.ReqType.Get,value:[1]}];return await(0,i.sendCommands)(t)},t.update=function(e,t){switch(t.id){case n.ActionId.StreamOutput:e.streamInfo[Number(t.value[0])].enabled=Boolean(t.value[1]);break;case n.ActionId.Live:e.status=Number(t.value[0]);break;case n.ActionId.LiveInfo:e.streamInfo[Number(t.value[0])].status=Number(t.value[1]);break;case n.ActionId.StreamProfile:{const o=t.value,n=o.shift(),i=[];return o.forEach((e=>i.push(e))),e.platforms.push({name:n,servers:i}),!0}case n.ActionId.StreamPlatform:return e.streamInfo[Number(t.value[0])].platform=String(t.value[1]),!0;case"quality":1==t.value[0]&&(e.quality=Number(t.value[1]))}return!1};const n=o(380),i=o(7956),r=o(4796),a=o(4680)},7114:(e,t)=>{"use strict";function o(e){return"Stream_"+e.toString()+"_state"}function n(e){const t=[];for(let n=0;n<e.streams;n++)t.push({name:"Stream "+(n+1).toString()+" state",variableId:o(n+1)});return t}function i(e){return 0===e?"Off":1===e?"OnAir":"Abnormal"}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[...n(e)]},t.getValues=function(e){const t={};for(let n=0;n<e.streamInfo.length;n++)t[o(n+1)]=i(e.streamInfo[n].status);return t}},4218:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.SuperSourceEnable="superSourceEnable",e.SuperSourceSource="superSourceSource",e.SuperSourceSource1="superSourceSource1",e.SuperSourceSource2="superSourceSource2",e.SuperSourceBackground="superSourceBackground",e.SuperSourceControlStyle="superSourceControlStyle",e.SuperSourceControlYPosition="superSourceControlYPosition",e.SuperSourceMaskEnable="superSourceMaskEnable",e.SuperSourceMaskHStart="superSourceMaskHStart",e.SuperSourceMaskVStart="superSourceMaskVStart",e.SuperSourceMaskHEnd="superSourceMaskHEnd",e.SuperSourceMaskVEnd="superSourceMaskVEnd",e.SuperSourceBorderWidth="superSourceBorderWidth",e.SuperSourceBorderHue="superSourceBorderHue",e.SuperSourceBorderSaturation="superSourceBorderSaturation",e.SuperSourceBorderBrightness="superSourceBorderBrightness",e.SuperSourceSetMaskProperties="superSourceSetMaskProperties"}(o||(t.ActionId=o={}))},9182:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.SuperSourceEnable]:{name:"Super Source:Super Source Enable",options:[{type:"dropdown",label:"Enable:",id:"SuperSourceEnable",choices:r.SwitchChoices,default:0}],callback:async e=>{const o=(0,i.getOptNumber)(e,"SuperSourceEnable");let r=0;2===o?(r=!0===t.enable?0:1,await(0,s.sendCommand)(n.ActionId.SuperSourceEnable,a.ReqType.Set,[r])):await(0,s.sendCommand)(n.ActionId.SuperSourceEnable,a.ReqType.Set,[o])}},[n.ActionId.SuperSourceSource]:{name:"Super Source: Set SuperSource Source",options:[{type:"dropdown",label:"Super Source",id:"typeid",choices:r.SuperSourceChoices,default:0},{type:"dropdown",label:"Source",id:"SourceID",choices:e.getChoices(a.ActionType.SuperSourceSource),default:0}],callback:async e=>{const t=Number(e.options.typeid),o=Number(e.options.SourceID);0===t?await(0,s.sendCommand)(n.ActionId.SuperSourceSource1,a.ReqType.Set,[o]):1===t?await(0,s.sendCommand)(n.ActionId.SuperSourceSource2,a.ReqType.Set,[o]):2===t&&await(0,s.sendCommand)(n.ActionId.SuperSourceBackground,a.ReqType.Set,[o])}},[n.ActionId.SuperSourceControlStyle]:{name:"Super Source:Super Source Style",options:[{type:"dropdown",label:"SuperSource Style:",id:"SuperSourceStyle",choices:r.SuperSourceStyleChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SuperSourceControlStyle,a.ReqType.Set,[(0,i.getOptNumber)(e,"SuperSourceStyle")])}},[n.ActionId.SuperSourceControlYPosition]:{name:"Super Source:Super Source Y Position",options:[{type:"number",label:"Y Position:",id:"superSourceYPosition",min:0,max:100,default:50}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SuperSourceControlYPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"superSourceYPosition")])}},[n.ActionId.SuperSourceSetMaskProperties]:{name:"Super Source: set mask properties",options:[{type:"dropdown",label:"Mask",id:"SuperSourceMask",choices:r.SuperSourceMaskChoices,default:0},{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"hMaskStart",label:"hMaskStart"},{id:"hMaskEnd",label:"hMaskEnd"},{id:"vMaskStart",label:"vMaskStart"},{id:"vMaskEnd",label:"vMaskEnd"}],minSelection:1,default:["enable","hMaskStart","hMaskEnd","vMaskStart","vMaskEnd"]},{type:"dropdown",label:"Mask Enable",id:"SuperSourceMaskEnable",choices:r.SwitchChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"number",label:"H Start",id:"SuperSourceMaskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("hMaskStart")},{type:"number",label:"H End",id:"SuperSourceMaskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("hMaskEnd")},{type:"number",label:"V Start",id:"SuperSourceMaskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("vMaskStart")},{type:"number",label:"V End",id:"SuperSourceMaskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("vMaskEnd")}],callback:async e=>{const o=e.options.props,r=[],c=(0,i.getOptNumber)(e,"SuperSourceMask");if(o.includes("enable")){let o=(0,i.getOptNumber)(e,"SuperSourceMaskEnable");2===o&&(o=t.maskEnable[c]?0:1),r.push({id:n.ActionId.SuperSourceMaskEnable,type:a.ReqType.Set,value:[c,o]})}o.includes("hMaskStart")&&r.push({id:n.ActionId.SuperSourceMaskHStart,type:a.ReqType.Set,value:[c,(0,i.getOptNumber)(e,"SuperSourceMaskHStart")]}),o.includes("hMaskEnd")&&r.push({id:n.ActionId.SuperSourceMaskHEnd,type:a.ReqType.Set,value:[c,(0,i.getOptNumber)(e,"SuperSourceMaskHEnd")]}),o.includes("vMaskStart")&&r.push({id:n.ActionId.SuperSourceMaskVStart,type:a.ReqType.Set,value:[c,(0,i.getOptNumber)(e,"SuperSourceMaskVStart")]}),o.includes("vMaskEnd")&&r.push({id:n.ActionId.SuperSourceMaskVEnd,type:a.ReqType.Set,value:[c,(0,i.getOptNumber)(e,"SuperSourceMaskVEnd")]}),r.length>0&&await(0,s.sendCommands)(r)}},[n.ActionId.SuperSourceBorderWidth]:{name:"Super Source:Super Source Border Width",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:r.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Width",id:"SuperSourceBorderWidth",min:0,max:10,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SuperSourceBorderWidth,a.ReqType.Set,[(0,i.getOptNumber)(e,"SuperSourceBorder"),(0,i.getOptNumber)(e,"SuperSourceBorderWidth")])}},[n.ActionId.SuperSourceBorderHue]:{name:"Super Source:Super Source Border Hue",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:r.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Hue",id:"SuperSourceBorderHue",min:0,max:359,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SuperSourceBorderHue,a.ReqType.Set,[(0,i.getOptNumber)(e,"SuperSourceBorder"),(0,i.getOptNumber)(e,"SuperSourceBorderHue")])}},[n.ActionId.SuperSourceBorderSaturation]:{name:"Super Source:Super Source Border Saturation",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:r.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Saturation",id:"SuperSourceBorderSaturation",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SuperSourceBorderSaturation,a.ReqType.Set,[(0,i.getOptNumber)(e,"SuperSourceBorder"),(0,i.getOptNumber)(e,"SuperSourceBorderSaturation")])}},[n.ActionId.SuperSourceBorderBrightness]:{name:"Super Source:Super Source Border Brightness",options:[{type:"dropdown",label:"Border",id:"SuperSourceBorder",choices:r.SuperSourceBorderChoices,default:0},{type:"number",label:"Border Brightness",id:"SuperSourceBrightness",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.SuperSourceBorderBrightness,a.ReqType.Set,[(0,i.getOptNumber)(e,"SuperSourceBorder"),(0,i.getOptNumber)(e,"SuperSourceBrightness")])}}}};const n=o(4218),i=o(3472),r=o(7643),a=o(4796),s=o(7956)},9183:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.SuperSourceEnable="superSourceEnable",e.SuperSourceSelect="superSourceSelect",e.SuperSourceControlStyle="superSourceControlStyle",e.SuperSourceMask="superSourceMask",e.SuperSourceYPosition="superSourceControlYPosition"}(o||(t.FeedbackId=o={}))},229:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[r.FeedbackId.SuperSourceEnable]:{type:"boolean",name:"SuperSource: Set Super Source Enable",description:"If you turn on Super Source, change style of the button",options:[],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:()=>t.enable},[r.FeedbackId.SuperSourceSelect]:{type:"boolean",name:"SuperSource: Set SuperSource Source",description:"If you Select SuperSource, change style of the button",options:[{type:"dropdown",label:"Super Source",id:"typeid",choices:a.SuperSourceChoices,default:0},{type:"dropdown",label:"Source",id:"SourceID",choices:e.getChoices(i.ActionType.SuperSourceSource),default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.typeid),n=Number(e.options.SourceID);return 0===o?t.source1===n:1===o?t.source2===n:2===o&&t.background===n}},[r.FeedbackId.SuperSourceControlStyle]:{type:"boolean",name:"SuperSource: Set SuperSource ControlStyle",description:"If you Select SuperSource, change style of the button",options:[{type:"dropdown",label:"style",id:"styleid",choices:a.SuperSourceStyleChoices,default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>t.controlStyle===e.options.styleid},[r.FeedbackId.SuperSourceMask]:{type:"boolean",name:"SuperSource: Set SuperSource Mask",description:"If you Select SuperSource, change style of the button",options:[{type:"dropdown",label:"Type",id:"typeid",choices:[{id:0,label:"mask 1"},{id:1,label:"mask 2"}],default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.typeid);return t.maskEnable[o]}},[r.FeedbackId.SuperSourceYPosition]:{type:"boolean",name:"Super Source: Super Source Y Position",description:"Change style of button based on Super Source Y Position",options:[{type:"number",label:"Y Position (%)",id:"superSourceYPosition",min:0,max:100,default:50}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.superSourceYPosition);return t.controlYPosition===o}}}};const n=o(6278),i=o(4796),r=o(9183),a=o(7643)},141:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SuperSourceVariables=t.SuperSourcePresets=t.SuperSourceState=t.SuperSourceFeedbacks=t.SuperSourceActions=void 0,t.SuperSourceActions=r(o(9182)),t.SuperSourceFeedbacks=r(o(229)),t.SuperSourceState=r(o(2256)),t.SuperSourcePresets=r(o(3637)),t.SuperSourceVariables=r(o(1368))},3637:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={};t.SuperSource_Enable={category:"SuperSource",name:"SuperSource Enable",type:"button",style:{text:"SS Enable",size:c,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.SuperSourceEnable,options:{},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.SuperSourceEnable,options:{SuperSourceEnable:2}}],up:[]}]};const o=e.getChoices(a.ActionType.SuperSourceSource);for(const e of o)t[`SuperSource_Source1_${e.id}`]={category:"SuperSource",name:`Set source of SuperSource1 to ${e.label}`,type:"button",style:{text:`${e.label} to SS1`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.SuperSourceSelect,options:{typeid:0,SourceID:e.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.SuperSourceSource,options:{typeid:0,SourceID:e.id}}],up:[]}]};for(const e of o)t[`SuperSource_Source2_${e.id}`]={category:"SuperSource",name:`Set source of SuperSource2 to ${e.label}`,type:"button",style:{text:`${e.label} to SS2`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.SuperSourceSelect,options:{typeid:1,SourceID:e.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.SuperSourceSource,options:{typeId:1,SourceID:e.id}}],up:[]}]};for(const e of o)t[`SuperSource_bg_${e.id}`]={category:"SuperSource",name:`Set SuperSource background source to ${e.label}`,type:"button",style:{text:`${e.label} to SSBG`,size:"auto",color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0)},feedbacks:[{feedbackId:r.FeedbackId.SuperSourceSelect,options:{typeid:2,SourceID:e.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.SuperSourceSource,options:{typeid:2,SourceID:e.id}}],up:[]}]};const l=s.SuperSourceStyleChoices,d=["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"];for(const e of l)t[`SuperSource_style_${e.id}`]={category:"SuperSource",name:`SuperSource style ${e.label}`,type:"button",style:{text:"",size:"auto",show_topbar:!1,color:(0,n.combineRgb)(255,255,255),bgcolor:(0,n.combineRgb)(0,0,0),png64:d[e.id]},feedbacks:[{feedbackId:r.FeedbackId.SuperSourceControlStyle,options:{styleid:e.id},style:{bgcolor:(0,n.combineRgb)(255,0,0),color:(0,n.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:i.ActionId.SuperSourceControlStyle,options:{SuperSourceStyle:e.id}}],up:[]}]};return t};const n=o(6278),i=o(4218),r=o(9183),a=o(4796),s=o(7643),c="18"},2256:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{model:e,enable:!1,source1:0,source2:0,background:0,controlStyle:0,controlYPosition:0,maskEnable:[!1,!1]}},t.sync=async function(e){const t=[{id:n.ActionId.SuperSourceEnable,type:r.ReqType.Get},{id:n.ActionId.SuperSourceSource1,type:r.ReqType.Get},{id:n.ActionId.SuperSourceSource2,type:r.ReqType.Get},{id:n.ActionId.SuperSourceBackground,type:r.ReqType.Get},{id:n.ActionId.SuperSourceControlStyle,type:r.ReqType.Get},{id:n.ActionId.SuperSourceMaskEnable,type:r.ReqType.Get},{id:n.ActionId.SuperSourceBorderBrightness,type:r.ReqType.Get},{id:n.ActionId.SuperSourceBorderHue,type:r.ReqType.Get},{id:n.ActionId.SuperSourceBorderSaturation,type:r.ReqType.Get},{id:n.ActionId.SuperSourceBorderWidth,type:r.ReqType.Get},{id:n.ActionId.SuperSourceControlYPosition,type:r.ReqType.Get},{id:n.ActionId.SuperSourceMaskHEnd,type:r.ReqType.Get},{id:n.ActionId.SuperSourceMaskHStart,type:r.ReqType.Get},{id:n.ActionId.SuperSourceMaskVEnd,type:r.ReqType.Get},{id:n.ActionId.SuperSourceMaskVStart,type:r.ReqType.Get}];return await(0,i.sendCommands)(t)},t.update=function(e,t){switch(t.id){case n.ActionId.SuperSourceBorderBrightness:return!0;case n.ActionId.SuperSourceBorderHue:case n.ActionId.SuperSourceBorderSaturation:case n.ActionId.SuperSourceBorderWidth:break;case n.ActionId.SuperSourceControlStyle:e.controlStyle=Number(t.value[0]);break;case n.ActionId.SuperSourceControlYPosition:e.controlYPosition=Number(t.value[0]);break;case n.ActionId.SuperSourceEnable:e.enable=Boolean(t.value[0]);break;case n.ActionId.SuperSourceMaskEnable:e.maskEnable[t.value[0]]=Boolean(t.value[1]);break;case n.ActionId.SuperSourceMaskHEnd:case n.ActionId.SuperSourceMaskHStart:case n.ActionId.SuperSourceMaskVEnd:case n.ActionId.SuperSourceMaskVStart:break;case n.ActionId.SuperSourceSource1:e.source1=Number(t.value[0]);break;case n.ActionId.SuperSourceSource2:e.source2=Number(t.value[0]);break;case n.ActionId.SuperSourceBackground:e.background=Number(t.value[0])}return!1};const n=o(4218),i=o(7956),r=o(4796)},7724:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.SuperSourceSrc1="SuperSource_Source1",e.SuperSourceSrc2="SuperSource_Source2",e.SuperSourceBG="SuperSource_BG",e.SuperSourceSourceStyle="SuperSource_Style"}(o||(t.VariableId=o={}))},1368:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"SuperSource Source 1",variableId:n.VariableId.SuperSourceSrc1},{name:"SuperSource Source 2",variableId:n.VariableId.SuperSourceSrc2},{name:"SuperSource Background",variableId:n.VariableId.SuperSourceBG},{name:"SuperSource Style",variableId:n.VariableId.SuperSourceSourceStyle}]},t.getValues=function(e){const t={},o=i.SourceModels.concat(i.OtherDSKSourceModels).map((e=>e.shortName.toLowerCase())),r=i.SuperSourceStyleChoices.map((e=>e.label));return t[n.VariableId.SuperSourceSrc1]=o[e.source1],t[n.VariableId.SuperSourceSrc2]=o[e.source2],t[n.VariableId.SuperSourceBG]=o[e.background],t[n.VariableId.SuperSourceSourceStyle]=r[e.controlStyle],t};const n=o(7724),i=o(7643)},6173:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionId=void 0,function(e){e.UpStreamKeyFillKeyType="upStreamKeyFillKeyType",e.UpStreamKeyType="upStreamKeyType",e.LumaKeySourceFill="lumaKeySourceFill",e.LumaKeySourceKey="lumaKeySourceKey",e.LumaKeySetMaskProperties="lumaKeySetMaskProperties",e.LumaKeyMaskEnable="lumaKeyMaskEnable",e.LumaKeyMaskHStart="lumaKeyMaskHStart",e.LumaKeyMaskVStart="lumaKeyMaskVStart",e.LumaKeyMaskHEnd="lumaKeyMaskHEnd",e.LumaKeyMaskVEnd="lumaKeyMaskVEnd",e.LumaKeyControlShapedKey="lumaKeyControlShapedKey",e.LumaKeyControlClip="lumaKeyControlClip",e.LumaKeyControlGain="lumaKeyControlGain",e.LumaKeyControlInvert="lumaKeyControlInvert",e.LumaKeyResizeEnable="lumaKeyResizeEnable",e.LumaKeyResizeSize="lumaKeyResizeSize",e.LumaKeyResizeXPosition="lumaKeyResizeXPosition",e.LumaKeyResizeYPosition="lumaKeyResizeYPosition",e.ChromaKeyFill="chromaKeyFill",e.ChromaKeySetMaskProperties="chromaKeySetMaskProperties",e.ChromaKeyMaskEnable="chromaKeyMaskEnable",e.ChromaKeyMaskHStart="chromaKeyMaskHStart",e.ChromaKeyMaskVStart="chromaKeyMaskVStart",e.ChromaKeyMaskHEnd="chromaKeyMaskHEnd",e.ChromaKeyMaskVEnd="chromaKeyMaskVEnd",e.ChromaKeyResizeEnable="chromaKeyResizeEnable",e.ChromaKeyResizeSize="chromaKeyResizeSize",e.ChromaKeyResizeXPosition="chromaKeyResizeXPosition",e.ChromaKeyResizeYPosition="chromaKeyResizeYPosition",e.ChromaKeyControlSMPXPosition="chromaKeyControlSMPXPosition",e.ChromaKeyControlSMPYPosition="chromaKeyControlSMPYPosition",e.ChromaKeyControlSample="chromaKeyControlSample",e.ChromaKeyControlColor="chromaKeyControlColor",e.ChromaKeyControlForeground="chromaKeyControlForeground",e.ChromaKeyControlBackground="chromaKeyControlBackground",e.ChromaKeyControlKeyEdge="chromaKeyControlKeyEdge",e.KeyPatternSourceFill="keyPatternSourceFill",e.KeyPatternWipePattern="keyPatternWipePattern",e.KeyPatternWipeSize="keyPatternWipeSize",e.KeyPatternWipeXPosition="keyPatternWipeXPosition",e.KeyPatternWipeYPosition="keyPatternWipeYPosition",e.KeyPatternWipeSymmetry="keyPatternWipeSymmetry",e.KeyPatternWipeSoftness="keyPatternWipeSoftness",e.KeyPatternSetMaskProperties="keyPatternSetMaskProperties",e.KeyPatternMaskEnable="keyPatternMaskEnable",e.KeyPatternMaskHStart="keyPatternMaskHStart",e.KeyPatternMaskVStart="keyPatternMaskVStart",e.KeyPatternMaskHEnd="keyPatternMaskHEnd",e.KeyPatternMaskVEnd="keyPatternMaskVEnd",e.KeyPatternResizeEnable="keyPatternResizeEnable",e.KeyPatternResizeSize="keyPatternResizeSize",e.KeyPatternResizeXPosition="keyPatternResizeXPosition",e.KeyPatternResizeYPosition="keyPatternResizeYPosition",e.PipSource="pipSource",e.PipSize="pipSize",e.PipXPosition="pipXPosition",e.PipYPosition="pipYPosition",e.PipSetMaskProperties="pipSetMaskProperties",e.PipMaskEnable="pipMaskEnable",e.PipMaskHStart="pipMaskHStart",e.PipMaskVStart="pipMaskVStart",e.PipMaskHEnd="pipMaskHEnd",e.PipMaskVEnd="pipMaskVEnd",e.PipBorderEnable="pipBorderEnable",e.PipBorderWidth="pipBorderWidth",e.PipBorderHue="pipBorderHue",e.PipBorderSaturation="pipBorderSaturation",e.PipBorderBrightness="pipBorderBrightness"}(o||(t.ActionId=o={}))},1539:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[n.ActionId.UpStreamKeyFillKeyType]:{name:"UpStream Key:Set inputs",options:[{type:"dropdown",label:"Fill Source",id:"FillSource",choices:e.getChoices(r.ActionType.LumaKeySourceKey),default:0},{type:"dropdown",label:"Key Source",id:"KeySource",choices:e.getChoices(r.ActionType.LumaKeySourceKey),default:0}],callback:async e=>{await(0,a.sendCommand)(n.ActionId.UpStreamKeyFillKeyType,r.ReqType.Set,[t.encodeKeyType(),(0,i.getOptNumber)(e,"FillSource"),(0,i.getOptNumber)(e,"KeySource")])}},[n.ActionId.UpStreamKeyType]:{name:"UpStream Key:Set Key Type",options:[{type:"dropdown",label:"Key Type:",id:"USKType",...(0,i.makeChoices)(t.keyTypes())}],callback:async e=>{const o=(0,i.getOptString)(e,"USKType");let s=Number(o);isNaN(s)&&(s=t.encodeKeyType(o)),await(0,a.sendCommand)(n.ActionId.UpStreamKeyType,r.ReqType.Set,[s])}},...(0,s.createLumaKeyActions)(e,t),...(0,c.createChromaKeyActions)(e,t),...(0,l.createKeyPatternActions)(e,t),...(0,d.createPIPActions)(e,t)}};const n=o(6173),i=o(3472),r=o(4796),a=o(7956),s=o(6545),c=o(1164),l=o(1034),d=o(9080)},7276:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackId=void 0,function(e){e.UpStreamKeyType="upStreamKeyType",e.KeySourceFill="keySourceFill",e.KeyPatternSourceFill="keyPatternSourceFill",e.PipSource="pipSource",e.PipSize="pipSize",e.PipXPosition="pipXPosition",e.PipYPosition="pipYPosition",e.KeyPatternResizeSize="keyPatternResizeSize",e.KeyPatternResizeXPosition="keyPatternResizeXPosition",e.KeyPatternResizeYPosition="keyPatternResizeYPosition"}(o||(t.FeedbackId=o={}))},8248:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){return{[r.FeedbackId.KeySourceFill]:{type:"boolean",name:"USK: Source Fill",description:"Set the special effect UpStream Key Source Fill",options:[{type:"dropdown",label:"Key Type:",id:"USKKeyType",choices:a.UpStreamKeyTypeChoices,default:0},{type:"dropdown",label:"Source Fill:",id:"USKSourceFill",choices:e.getChoices(i.ActionType.KeyPatternSourceKey),default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.USKKeyType);return t.keyInfo[o].sources[s.USKKeySourceType.Fill]===Number(e.options.USKSourceFill)}},[r.FeedbackId.UpStreamKeyType]:{type:"boolean",name:"USK: Set type",description:"Change style of the button if selected keyType is currently active",options:[{type:"dropdown",label:"Type",id:"USKType",...(0,c.makeChoices)(t.keyTypes())}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{let o=(0,c.getOptString)(e,"USKType");const n=Number(o);return isNaN(n)||(o=t.decodeKeyType(n)),t.UpStreamKeyType===o}},[r.FeedbackId.PipSize]:{type:"boolean",name:"USK: PIP Size",description:"Change style of button based on pip size",options:[{type:"dropdown",label:"Size",id:"pipSizeId",...(0,c.makeChoices)(t.keyScalingSizes())}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=(0,c.getOptNumber)(e,"pipSizeId");return t.keyInfo[s.USKKeyTypes.Pip].size===o},learn:e=>({...e.options,pipSizeId:t.keyInfo[s.USKKeyTypes.Pip].size})},[r.FeedbackId.PipXPosition]:{type:"boolean",name:"USK: PIP X position",description:"Change style of button based on pip x position",options:[{type:"number",label:"X Position",id:"pipXPosId",min:-16,max:16,step:.2,default:0,range:!0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.pipXPosId);return t.keyInfo[s.USKKeyTypes.Pip].xPosition===o}},[r.FeedbackId.PipYPosition]:{type:"boolean",name:"USK: PIP Y position",description:"Change style of button based on pip y position",options:[{type:"number",label:"Y Position",id:"pipYPosId",min:-9,max:9,step:.2,default:0,range:!0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.pipYPosId);return t.keyInfo[s.USKKeyTypes.Pip].yPosition===o}},[r.FeedbackId.KeyPatternResizeXPosition]:{type:"boolean",name:"USK: Key Pattern X position",description:"Change style of button based on key pattern x position",options:[{type:"number",label:"X Position",id:"keyPatternResizeXId",min:-16,max:16,step:.2,default:0,range:!0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.keyPatternResizeXId);return t.keyInfo[s.USKKeyTypes.KeyPattern].xPosition===o}},[r.FeedbackId.KeyPatternResizeYPosition]:{type:"boolean",name:"USK: Key Pattern Y position",description:"Change style of button based on key pattern y position",options:[{type:"number",label:"Y Position",id:"keyPatternResizeYId",min:-9,max:9,step:.2,default:0,range:!0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.keyPatternResizeYId);return t.keyInfo[s.USKKeyTypes.KeyPattern].yPosition===o}},[r.FeedbackId.KeyPatternResizeSize]:{type:"boolean",name:"USK: Key Pattern Resize Size",description:"Change style of button based on key pattern resize size",options:[{type:"dropdown",label:"Size",id:"keyPatternResizeSizeId",choices:a.KeyResizeSizeChoices,default:0}],defaultStyle:{color:(0,n.combineRgb)(0,0,0),bgcolor:(0,n.combineRgb)(255,255,0)},callback:e=>{const o=Number(e.options.keyPatternResizeSizeId);return t.keyInfo[s.USKKeyTypes.KeyPattern].size===o}}}};const n=o(6278),i=o(4796),r=o(7276),a=o(7643),s=o(153),c=o(3472)},9528:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UpstreamKeyerVariables=t.UpstreamKeyerFeedbacks=t.UpstreamKeyerPresets=t.UpstreamKeyerState=t.UpstreamKeyerActions=void 0,t.UpstreamKeyerActions=r(o(1539)),t.UpstreamKeyerState=r(o(153)),t.UpstreamKeyerPresets=r(o(1340)),t.UpstreamKeyerFeedbacks=r(o(8248)),t.UpstreamKeyerVariables=r(o(893))},1164:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChromaKeyActions=function(e,t){return{[n.ActionId.ChromaKeyFill]:{name:"UpStream Key:Set Chroma Key Source Fill",options:[{type:"dropdown",label:"Source Fill",id:"KeyFill",choices:e.getChoices(a.ActionType.ChromaKeySourceKey),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyFill,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyFill")])}},[n.ActionId.ChromaKeySetMaskProperties]:{name:"UpStream Key: Set chroma mask properties",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"hMaskStart",label:"hMaskStart"},{id:"hMaskEnd",label:"hMaskEnd"},{id:"vMaskStart",label:"vMaskStart"},{id:"vMaskEnd",label:"vMaskEnd"}],minSelection:1,default:["enable","hMaskStart","hMaskEnd","vMaskStart","vMaskEnd"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:r.SwitchChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"number",label:"H Start",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("hMaskStart")},{type:"number",label:"H End",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("hMaskEnd")},{type:"number",label:"V Start",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("vMaskStart")},{type:"number",label:"V End",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("vMaskEnd")}],callback:async e=>{const o=e.options.props,r=[];if(o.includes("enable")){let o=(0,i.getOptNumber)(e,"maskEnable");2===o&&(o=t.keyInfo[c.USKKeyTypes.Chroma].mask.enabled?0:1),r.push({id:n.ActionId.ChromaKeyMaskEnable,type:a.ReqType.Set,value:[o]})}o.includes("hMaskStart")&&r.push({id:n.ActionId.ChromaKeyMaskHStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHStart")]}),o.includes("hMaskEnd")&&r.push({id:n.ActionId.ChromaKeyMaskHEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHEnd")]}),o.includes("vMaskStart")&&r.push({id:n.ActionId.ChromaKeyMaskVStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVStart")]}),o.includes("vMaskEnd")&&r.push({id:n.ActionId.ChromaKeyMaskVEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVEnd")]}),r.length>0&&await(0,s.sendCommands)(r)}},[n.ActionId.ChromaKeyResizeEnable]:{name:"UpStream Key:Set Chroma Key Resize Enable",options:[{type:"dropdown",label:"Enable",id:"ChromaKeyResizeEnable",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyResizeEnable,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyResizeEnable")])}},[n.ActionId.ChromaKeyResizeSize]:{name:"UpStream Key:Set Chroma Key Resize Size",options:[{type:"dropdown",label:"Size",id:"ChromaKeyResizeSize",choices:r.KeyResizeSizeChoices,default:0}],callback:async e=>{let t=.25;const o=r.KeyResizeSizeChoices.find((t=>t.id===e.options.ChromaKeyResizeSize));null!=o&&(t=Number(o.id)),await(0,s.sendCommand)(n.ActionId.ChromaKeyResizeSize,a.ReqType.Set,[t])}},[n.ActionId.ChromaKeyResizeXPosition]:{name:"UpStream Key:Set Chroma Key X Position",options:[{type:"number",label:"X Position",id:"ChromaKeyResizeXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyResizeXPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyResizeXPosition")])}},[n.ActionId.ChromaKeyResizeYPosition]:{name:"UpStream Key:Set Chroma Key Y Position",options:[{type:"number",label:"Y Position",id:"ChromaKeyResizeYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyResizeYPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyResizeYPosition")])}},[n.ActionId.ChromaKeyControlSMPXPosition]:{name:"UpStream Key:Set Chroma Key SMP X Position",options:[{type:"number",label:"SMP X Position",id:"ChromaKeyControlSMPXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyControlSMPXPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyControlSMPXPosition")])}},[n.ActionId.ChromaKeyControlSMPYPosition]:{name:"UpStream Key:Set Chroma Key SMP Y Position",options:[{type:"number",label:"SMP Y Position",id:"ChromaKeyControlSMPYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyControlSMPYPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyControlSMPYPosition")])}},[n.ActionId.ChromaKeyControlSample]:{name:"UpStream Key:Set Chroma Key Control Sample Enable",options:[{type:"dropdown",label:"Sample Enable",id:"ChromaKeyControlSample",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyControlSample,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyControlSample")])}},[n.ActionId.ChromaKeyControlColor]:{name:"UpStream Key:Set Chroma Key Control Color",options:[{type:"colorpicker",label:"Control Color",id:"ChromaKeyControlColor",default:0}],callback:async()=>{}},[n.ActionId.ChromaKeyControlForeground]:{name:"UpStream Key:Set Chroma Key Foreground",options:[{type:"number",label:"Foreground",id:"ChromaKeyControlForeground",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyControlForeground,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyControlForeground")])}},[n.ActionId.ChromaKeyControlBackground]:{name:"UpStream Key:Set Chroma Key Background",options:[{type:"number",label:"Background",id:"ChromaKeyControlBackground",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyControlBackground,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyControlBackground")])}},[n.ActionId.ChromaKeyControlKeyEdge]:{name:"UpStream Key:Set Chroma Key Edge",options:[{type:"number",label:"Key Edge",id:"ChromaKeyControlKeyEdge",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.ChromaKeyControlKeyEdge,a.ReqType.Set,[(0,i.getOptNumber)(e,"ChromaKeyControlKeyEdge")])}}}};const n=o(6173),i=o(3472),r=o(7643),a=o(4796),s=o(7956),c=o(153)},1034:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createKeyPatternActions=function(e,t){const[o,l]=e.OutputDimensions(),d=Number(o)/2,u=Number(l)/2,p=e.PixelResolution(),b=Number(l)/Number(p)*5;return{[n.ActionId.KeyPatternSourceFill]:{name:"UpStream Key:Set Key Pattern Source Fill",options:[{type:"dropdown",label:"Source Fill",id:"KeyFill",choices:e.getChoices(a.ActionType.KeyPatternSourceKey),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternSourceFill,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyFill")])}},[n.ActionId.KeyPatternWipePattern]:{name:"UpStream Key:Set Key Pattern Wipe Pattern",options:[{type:"number",label:"Wipe Pattern",id:"KeyPatternWipePattern",min:0,max:17,default:0,range:!0,step:1}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternWipePattern,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternWipePattern")])}},[n.ActionId.KeyPatternWipeSize]:{name:"UpStream Key:Set Key Pattern Wipe Size",options:[{type:"number",label:"Wipe Size",id:"KeyPatternWipeSize",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternWipeSize,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternWipeSize")])}},[n.ActionId.KeyPatternWipeXPosition]:{name:"UpStream Key:Set Key Pattern wipe X Position",options:[{type:"dropdown",label:"Type",id:"operation",choices:[{id:0,label:"Absolute"},{id:1,label:"Relative"},{id:2,label:"Snap to Left Edge"},{id:3,label:"Snap to Right Edge"}],default:0},{type:"number",label:"X Position",id:"KeyPatternWipeXPosition",min:-d,max:d,step:.2,default:0,range:!0,isVisible:e=>!Object.keys(e).includes("operation")||0===e.operation},{type:"textinput",label:"X Position",id:"KeyPatternWipeXPositionRel",useVariables:!0,isVisible:e=>1===e.operation}],callback:async(e,o)=>{let r=0,l=0;if(Object.keys(e.options).includes("operation")&&(l=(0,i.getOptNumber)(e,"operation")),0==l)r=(0,i.getOptNumber)(e,"KeyPatternWipeXPosition");else{let n;const a=t.keyInfo[c.USKKeyTypes.KeyPattern].wipe.pos.x,s=t.keyInfo[c.USKKeyTypes.KeyPattern].wipe.size;n=2===l?"LEFT":3===l?"RIGHT":await o.parseVariablesInString((0,i.getOptString)(e,"KeyPatternWipeXPositionRel"));let u=0;switch(n.toUpperCase()){case"LEFT":r=d*(1-s)+b;break;case"RIGHT":r=-d*(1-s)-b;break;default:u=Number(n),r=Math.min(d,Math.max(-d,u+a))}}await(0,s.sendCommand)(n.ActionId.KeyPatternWipeXPosition,a.ReqType.Set,[r])},learn:e=>({...e.options,operation:0,KeyPatternWipeXPosition:t.keyInfo[c.USKKeyTypes.KeyPattern].wipe.pos.x})},[n.ActionId.KeyPatternWipeYPosition]:{name:"UpStream Key:Set Key Pattern wipe Y Position",options:[{type:"dropdown",label:"Type",id:"operation",choices:[{id:0,label:"Absolute"},{id:1,label:"Relative"},{id:2,label:"Snap to Top Edge"},{id:3,label:"Snap to Bottom Edge"}],default:0},{type:"number",label:"Y Position",id:"KeyPatternWipeYPosition",min:-u,max:u,step:.2,default:0,range:!0,isVisible:e=>!Object.keys(e).includes("operation")||0===e.operation},{type:"textinput",label:"Y Position",id:"KeyPatternWipeYPositionRel",useVariables:!0,isVisible:e=>1===e.operation}],callback:async(e,o)=>{let r=0,l=0;if(Object.keys(e.options).includes("operation")&&(l=(0,i.getOptNumber)(e,"operation")),0===l)r=(0,i.getOptNumber)(e,"KeyPatternWipeYPosition");else{let n;const a=t.keyInfo[c.USKKeyTypes.KeyPattern].wipe.pos.y,s=t.keyInfo[c.USKKeyTypes.KeyPattern].wipe.size;let d=0;switch(n=2===l?"TOP":3===l?"BOTTOM":await o.parseVariablesInString((0,i.getOptString)(e,"KeyPatternWipeYPositionRel")),n.toUpperCase()){case"TOP":r=+u*(1-s)+b;break;case"BOTTOM":r=-u*(1-s)-b;break;default:d=Number(n),r=Math.min(9,Math.max(-9,d+a))}}await(0,s.sendCommand)(n.ActionId.KeyPatternWipeYPosition,a.ReqType.Set,[r])},learn:e=>({...e.options,operation:0,KeyPatternWipeYPosition:t.keyInfo[c.USKKeyTypes.KeyPattern].wipe.pos.y})},[n.ActionId.KeyPatternWipeSymmetry]:{name:"UpStream Key:Set Key Pattern Symmetry",options:[{type:"number",label:"Symmetry",id:"KeyPatternWipeSymmetry",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternWipeSymmetry,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternWipeSymmetry")])}},[n.ActionId.KeyPatternWipeSoftness]:{name:"UpStream Key:Set Key Pattern Softness",options:[{type:"number",label:"Softness",id:"KeyPatternWipeSoftness",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternWipeSoftness,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternWipeSoftness")])}},[n.ActionId.KeyPatternSetMaskProperties]:{name:"UpStream Key: Set keypattern mask properties",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"hMaskStart",label:"hMaskStart"},{id:"hMaskEnd",label:"hMaskEnd"},{id:"vMaskStart",label:"vMaskStart"},{id:"vMaskEnd",label:"vMaskEnd"}],minSelection:1,default:["enable","hMaskStart","hMaskEnd","vMaskStart","vMaskEnd"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:r.SwitchChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"number",label:"H Start",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("hMaskStart")},{type:"number",label:"H End",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("hMaskEnd")},{type:"number",label:"V Start",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("vMaskStart")},{type:"number",label:"V End",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("vMaskEnd")}],callback:async e=>{const o=e.options.props,r=[];if(o.includes("enable")){let o=(0,i.getOptNumber)(e,"maskEnable");2===o&&(o=t.keyInfo[c.USKKeyTypes.KeyPattern].mask.enabled?0:1),r.push({id:n.ActionId.KeyPatternMaskEnable,type:a.ReqType.Set,value:[o]})}o.includes("hMaskStart")&&r.push({id:n.ActionId.KeyPatternMaskHStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHStart")]}),o.includes("hMaskEnd")&&r.push({id:n.ActionId.KeyPatternMaskHEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHEnd")]}),o.includes("vMaskStart")&&r.push({id:n.ActionId.KeyPatternMaskVStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVStart")]}),o.includes("vMaskEnd")&&r.push({id:n.ActionId.KeyPatternMaskVEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVEnd")]}),r.length>0&&await(0,s.sendCommands)(r)}},[n.ActionId.KeyPatternResizeEnable]:{name:"UpStream Key:Set Key Pattern Resize Enable",options:[{type:"dropdown",label:"Enable",id:"KeyPatternResizeEnable",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternResizeEnable,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternResizeEnable")])}},[n.ActionId.KeyPatternResizeSize]:{name:"UpStream Key:Set Key Pattern Resize Size",options:[{type:"dropdown",label:"Size",id:"KeyPatternResizeSize",choices:r.KeyResizeSizeChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternResizeSize,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternResizeSize")])}},[n.ActionId.KeyPatternResizeXPosition]:{name:"UpStream Key:Set Key Pattern Resize X Position",options:[{type:"number",label:"X Position",id:"KeyPatternResizeXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternResizeXPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternResizeXPosition")])}},[n.ActionId.KeyPatternResizeYPosition]:{name:"UpStream Key:Set Key Pattern Resize Y Position",options:[{type:"number",label:"Y Position",id:"KeyPatternResizeYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.KeyPatternResizeYPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyPatternResizeYPosition")])}}}};const n=o(6173),i=o(3472),r=o(7643),a=o(4796),s=o(7956),c=o(153)},6545:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLumaKeyActions=function(e,t){return{[n.ActionId.LumaKeySourceFill]:{name:"UpStream Key:Set Luma Key Source Fill",options:[{type:"dropdown",label:"Source Fill",id:"KeyFill",choices:e.getChoices(a.ActionType.LumaKeySourceKey),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeySourceFill,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyFill")])}},[n.ActionId.LumaKeySourceKey]:{name:"UpStream Key:Set Luma Key Source Key",options:[{type:"dropdown",label:"Key",id:"LumaKeySourceKey",choices:e.getChoices(a.ActionType.LumaKeySourceKey),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeySourceKey,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeySourceKey")])}},[n.ActionId.LumaKeySetMaskProperties]:{name:"UpStream Key: Set luma mask properties",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"hMaskStart",label:"hMaskStart"},{id:"hMaskEnd",label:"hMaskEnd"},{id:"vMaskStart",label:"vMaskStart"},{id:"vMaskEnd",label:"vMaskEnd"}],minSelection:1,default:["enable","hMaskStart","hMaskEnd","vMaskStart","vMaskEnd"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:r.SwitchChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"number",label:"H Start",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("hMaskStart")},{type:"number",label:"H End",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("hMaskEnd")},{type:"number",label:"V Start",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("vMaskStart")},{type:"number",label:"V End",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("vMaskEnd")}],callback:async e=>{const o=e.options.props,r=[];if(o.includes("enable")){let o=(0,i.getOptNumber)(e,"maskEnable");2===o&&(o=t.keyInfo[c.USKKeyTypes.Luma].mask.enabled?0:1),r.push({id:n.ActionId.LumaKeyMaskEnable,type:a.ReqType.Set,value:[o]})}o.includes("hMaskStart")&&r.push({id:n.ActionId.LumaKeyMaskHStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHStart")]}),o.includes("hMaskEnd")&&r.push({id:n.ActionId.LumaKeyMaskHEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHEnd")]}),o.includes("vMaskStart")&&r.push({id:n.ActionId.LumaKeyMaskVStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVStart")]}),o.includes("vMaskEnd")&&r.push({id:n.ActionId.LumaKeyMaskVEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVEnd")]}),r.length>0&&await(0,s.sendCommands)(r)}},[n.ActionId.LumaKeyControlShapedKey]:{name:"UpStream Key:Set Luma Key Control ShapedKey",options:[{type:"dropdown",label:"ShapedKey",id:"LumaKeyControlShapedKey",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyControlShapedKey,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyControlShapedKey")])}},[n.ActionId.LumaKeyControlClip]:{name:"UpStream Key:Set Luma Key Control Clip",options:[{type:"number",label:"Clip",id:"LumaKeyControlClip",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyControlClip,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyControlClip")])}},[n.ActionId.LumaKeyControlGain]:{name:"UpStream Key:Set Luma Key Control Gain",options:[{type:"number",label:"Gain",id:"LumaKeyControlGain",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyControlGain,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyControlGain")])}},[n.ActionId.LumaKeyControlInvert]:{name:"UpStream Key:Set Luma Key Control Invert",options:[{type:"dropdown",label:"Invert",id:"LumaKeyControlInvert",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyControlInvert,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyControlInvert")])}},[n.ActionId.LumaKeyResizeEnable]:{name:"UpStream Key:Set Luma Key Resize Enable",options:[{type:"dropdown",label:"Enable",id:"LumaKeyResizeEnable",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyResizeEnable,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyResizeEnable")])}},[n.ActionId.LumaKeyResizeSize]:{name:"UpStream Key:Set Luma Key Resize Size",options:[{type:"dropdown",label:"Size",id:"LumaKeyResizeSize",choices:r.KeyResizeSizeChoices,default:0}],callback:async e=>{let t=.25;const o=r.KeyResizeSizeChoices.find((t=>t.id===e.options.LumaKeyResizeSize));null!=o&&(t=Number(o.id)),await(0,s.sendCommand)(n.ActionId.LumaKeyResizeSize,a.ReqType.Set,[t])}},[n.ActionId.LumaKeyResizeXPosition]:{name:"UpStream Key:Set Luma Key X Position",options:[{type:"number",label:"X Position",id:"LumaKeyResizeXPosition",min:-16,max:16,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyResizeXPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyResizeXPosition")])}},[n.ActionId.LumaKeyResizeYPosition]:{name:"UpStream Key:Set Luma Key Y Position",options:[{type:"number",label:"Y Position",id:"LumaKeyResizeYPosition",min:-9,max:9,step:.2,default:0,range:!0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.LumaKeyResizeYPosition,a.ReqType.Set,[(0,i.getOptNumber)(e,"LumaKeyResizeYPosition")])}}}};const n=o(6173),i=o(3472),r=o(7643),a=o(4796),s=o(7956),c=o(153)},9080:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPIPActions=function(e,t){return{[n.ActionId.PipSource]:{name:"UpStream Key:Set Pip Source",options:[{type:"dropdown",label:"PIP Source",id:"KeyFill",choices:e.getChoices(a.ActionType.PipSource),default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PipSource,a.ReqType.Set,[(0,i.getOptNumber)(e,"KeyFill")])}},[n.ActionId.PipSize]:{name:"UpStream Key:Set PIP Size",options:[{type:"dropdown",label:"Size",id:"PipSize",...(0,i.makeChoices)(t.keyScalingSizes())}],callback:async e=>{const o=(0,i.getOptNumber)(e,"PipSize");if(Number.isInteger(o)){const t=r.KeyResizeSizeChoices.find((t=>t.id===e.options.PipSize));if(null!=t){const e=Number(t.id);await(0,s.sendCommand)(n.ActionId.PipSize,a.ReqType.Set,[e])}}else await(0,s.sendCommand)(n.ActionId.PipSize,a.ReqType.Set,[t.encodeKeyScalingSize(o)])}},[n.ActionId.PipXPosition]:{name:"UpStream Key:Set PIP X Position",options:[{type:"dropdown",label:"Type",id:"operation",choices:[{id:0,label:"Absolute"},{id:1,label:"Relative"},{id:2,label:"Snap to Left Edge"},{id:3,label:"Snap to Right Edge"}],default:0},{type:"number",label:"X Position",id:"PipXPosition",min:-l,max:l,step:.2,default:0,range:!0,isVisible:e=>!Object.keys(e).includes("operation")||0===e.operation},{type:"textinput",label:"X Position",id:"PipXPositionRel",useVariables:!0,isVisible:e=>1===e.operation}],callback:async(e,o)=>{let r=0,d=0;if(Object.keys(e.options).includes("operation")&&(d=(0,i.getOptNumber)(e,"operation")),0==d)r=(0,i.getOptNumber)(e,"PipXPosition");else{let n;const a=t.keyInfo[c.USKKeyTypes.Pip].xPosition,s=t.keyInfo[c.USKKeyTypes.Pip].size;n=2===d?"LEFT":3===d?"RIGHT":await o.parseVariablesInString((0,i.getOptString)(e,"PipXPositionRel"));let p=0;switch(n.toUpperCase()){case"LEFT":r=-l*(1-s)+u;break;case"RIGHT":r=l*(1-s)-u;break;default:p=Number(n),r=Math.min(l,Math.max(-l,p+a))}}await(0,s.sendCommand)(n.ActionId.PipXPosition,a.ReqType.Set,[r])},learn:e=>({...e.options,operation:0,PipXPosition:t.keyInfo[c.USKKeyTypes.Pip].xPosition})},[n.ActionId.PipYPosition]:{name:"UpStream Key:Set PIP Y Position",options:[{type:"dropdown",label:"Type",id:"operation",choices:[{id:0,label:"Absolute"},{id:1,label:"Relative"},{id:2,label:"Snap to Top Edge"},{id:3,label:"Snap to Bottom Edge"}],default:0},{type:"number",label:"Y Position",id:"PipYPosition",min:-d,max:d,step:.2,default:0,range:!0,isVisible:e=>!Object.keys(e).includes("operation")||0===e.operation},{type:"textinput",label:"Y Position",id:"PipYPositionRel",useVariables:!0,isVisible:e=>1===e.operation}],callback:async(e,o)=>{let r=0,l=0;if(Object.keys(e.options).includes("operation")&&(l=(0,i.getOptNumber)(e,"operation")),0===l)r=(0,i.getOptNumber)(e,"PipYPosition");else{let n;const a=t.keyInfo[c.USKKeyTypes.Pip].yPosition,s=t.keyInfo[c.USKKeyTypes.Pip].size;let p=0;switch(n=2===l?"TOP":3===l?"BOTTOM":await o.parseVariablesInString((0,i.getOptString)(e,"PipYPositionRel")),n.toUpperCase()){case"TOP":r=-d*(1-s)+u;break;case"BOTTOM":r=d*(1-s)-u;break;default:p=Number(n),r=Math.min(9,Math.max(-9,p+a))}}await(0,s.sendCommand)(n.ActionId.PipYPosition,a.ReqType.Set,[r])},learn:e=>({...e.options,operation:0,PipYPosition:t.keyInfo[c.USKKeyTypes.Pip].yPosition})},[n.ActionId.PipSetMaskProperties]:{name:"UpStream Key: Set PIP mask properties",options:[{id:"props",type:"multidropdown",label:"Select properties",choices:[{id:"enable",label:"enable"},{id:"hMaskStart",label:"hMaskStart"},{id:"hMaskEnd",label:"hMaskEnd"},{id:"vMaskStart",label:"vMaskStart"},{id:"vMaskEnd",label:"vMaskEnd"}],minSelection:1,default:["enable","hMaskStart","hMaskEnd","vMaskStart","vMaskEnd"]},{type:"dropdown",label:"Mask Enable",id:"maskEnable",choices:r.SwitchChoices,default:0,isVisible:e=>e.props.includes("enable")},{type:"number",label:"H Start",id:"maskHStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("hMaskStart")},{type:"number",label:"H End",id:"maskHEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("hMaskEnd")},{type:"number",label:"V Start",id:"maskVStart",min:0,max:100,default:0,isVisible:e=>e.props.includes("vMaskStart")},{type:"number",label:"V End",id:"maskVEnd",min:0,max:100,default:100,isVisible:e=>e.props.includes("vMaskEnd")}],callback:async e=>{const o=e.options.props,r=[];if(o.includes("enable")){let o=(0,i.getOptNumber)(e,"maskEnable");2===o&&(o=t.keyInfo[c.USKKeyTypes.Pip].mask.enabled?0:1),r.push({id:n.ActionId.PipMaskEnable,type:a.ReqType.Set,value:[o]})}o.includes("hMaskStart")&&r.push({id:n.ActionId.PipMaskHStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHStart")]}),o.includes("hMaskEnd")&&r.push({id:n.ActionId.PipMaskHEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskHEnd")]}),o.includes("vMaskStart")&&r.push({id:n.ActionId.PipMaskVStart,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVStart")]}),o.includes("vMaskEnd")&&r.push({id:n.ActionId.PipMaskVEnd,type:a.ReqType.Set,value:[(0,i.getOptNumber)(e,"maskVEnd")]}),r.length>0&&await(0,s.sendCommands)(r)}},[n.ActionId.PipBorderEnable]:{name:"UpStream Key:Set Pip Border Enable",options:[{type:"dropdown",label:"Enable",id:"PipBorderEnable",choices:r.SwitchChoices,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PipBorderEnable,a.ReqType.Set,[(0,i.getOptNumber)(e,"PipBorderEnable")])}},[n.ActionId.PipBorderWidth]:{name:"UpStream Key:Set Pip Border Width",options:[{type:"number",label:"Width",id:"PipBorderWidth",min:0,max:31,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PipBorderWidth,a.ReqType.Set,[(0,i.getOptNumber)(e,"PipBorderWidth")])}},[n.ActionId.PipBorderHue]:{name:"UpStream Key:Set Pip Color Hue",options:[{type:"number",label:"Hue",id:"PipBorderHue",min:0,max:359,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PipBorderHue,a.ReqType.Set,[(0,i.getOptNumber)(e,"PipBorderHue")])}},[n.ActionId.PipBorderSaturation]:{name:"UpStream Key:Set Pip Color Saturation",options:[{type:"number",label:"Saturation",id:"PipBorderSaturation",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PipBorderSaturation,a.ReqType.Set,[(0,i.getOptNumber)(e,"PipBorderSaturation")])}},[n.ActionId.PipBorderBrightness]:{name:"UpStream Key:Set Pip Color Brightness",options:[{type:"number",label:"Brightness",id:"PipBorderBrightness",min:0,max:100,default:0}],callback:async e=>{await(0,s.sendCommand)(n.ActionId.PipBorderBrightness,a.ReqType.Set,[(0,i.getOptNumber)(e,"PipBorderBrightness")])}}}};const n=o(6173),i=o(3472),r=o(7643),a=o(4796),s=o(7956),c=o(153),l=16,d=9,u=2*d/1080*5},1340:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){const t={},o=e.getChoices(d.ActionType.LumaKeySourceKey);for(const e of o){let n=Number(e.id)+1;n===o.length&&(n=0),t[`UpStreamKeylumakeySourceAndKey_${e.id}`]={category:"USK: lumakey",name:`Set source ${e.label}`,type:"button",style:{text:`${e.label}`,size:"24",color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0)},feedbacks:[{feedbackId:c.FeedbackId.KeySourceFill,options:{USKKeyType:0,USKSourceFill:e.id},style:{bgcolor:(0,l.combineRgb)(255,0,0),color:(0,l.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:a.ActionId.UpStreamKeyFillKeyType,options:{FillSource:e.id,KeySource:n}}],up:[]}]},t[`UpStreamKeyChromaFillSource_${e.id}`]={category:"USK: chromakey",name:`Set fill source ${e.label}`,type:"button",style:{text:`Chroma fill\\n${e.label}`,size:"14",color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0)},feedbacks:[{feedbackId:c.FeedbackId.KeySourceFill,options:{USKKeyType:1,USKSourceFill:e.id},style:{bgcolor:(0,l.combineRgb)(255,0,0),color:(0,l.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,headline:"First change upstream key type to Chroma",options:{USKType:"Chroma Key"}},{actionId:a.ActionId.UpStreamKeyFillKeyType,headline:"then after a short delay set the fillsource",delay:200,options:{FillSource:e.id,KeySource:e.id}}],up:[]}]},t[`UpStreamKeyKeyPatternFillSource_${e.id}`]={category:"USK: keypattern",name:`Set fill source ${e.label}`,type:"button",style:{text:`Keypattern fill\\n${e.label}`,size:"14",color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0)},feedbacks:[{feedbackId:c.FeedbackId.KeySourceFill,options:{USKKeyType:2,USKSourceFill:e.id},style:{bgcolor:(0,l.combineRgb)(255,0,0),color:(0,l.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,headline:"First change upstream key type to keypattern",options:{USKType:"Key Pattern"}},{actionId:a.ActionId.UpStreamKeyFillKeyType,headline:"then after a short delay set the fillsource",delay:200,options:{FillSource:e.id,KeySource:e.id}}],up:[]}]},t[`UpStreamKeyPIPFillSource_${e.id}`]={category:"USK: PIP",name:`Set fill source ${e.label}`,type:"button",style:{text:`Pip fill\\n${e.label}`,size:"14",color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0)},feedbacks:[{feedbackId:c.FeedbackId.KeySourceFill,options:{USKKeyType:3,USKSourceFill:e.id},style:{bgcolor:(0,l.combineRgb)(255,0,0),color:(0,l.combineRgb)(255,255,255)}}],steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,headline:"First change upstream key type to pip",options:{USKType:"PIP"}},{actionId:a.ActionId.UpStreamKeyFillKeyType,headline:"then after a short delay set the fillsource",delay:200,options:{FillSource:e.id,KeySource:e.id}}],up:[]}]}}t.PIP_upper_left={category:"USK: PIP",name:"PIP on air: Upper left corner",type:"button",style:{color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0),show_topbar:!1,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVR4nO3aQQqDMAAAQS3+/8vppaW2KAv2oMjMRfQUlkSIcR5jTOx7nD2AqxMoCBQECgIFgYJAQaAgUBAoCBQECgIFgYJAYXldfRTaNi/rm9OGcU1jmj4z6OvhQbcM7B0UBAoCBYGCQEGgIFAQKAgUBAq/W41bbhf+YQYFgYJAQaAgUBAoCBQECgIFgYJAQaAgUBAoCBQECgIFgYJAQaAgUBAoCBQECgKF9cmqX4E3vAM5ct5hiQWBgkBBoCBQECgIFAQKAgWBgkBBoCBQECgIFJ6smgeakSiJdAAAAABJRU5ErkJggg=="},steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,options:{USKType:"PIP"}},{actionId:a.ActionId.PipSize,options:{PipSize:.25}},{actionId:a.ActionId.PipXPosition,options:{operation:0,PipXPosition:-11.8}},{actionId:a.ActionId.PipYPosition,options:{operation:0,PipYPosition:-6.6}},{actionId:s.ActionId.OnAirButtons,options:{KeyButton:"KEY",ButtonAction:1}}],up:[]}]},t.PIP_upper_right={category:"USK: PIP",name:"PIP on air: Upper right corner",type:"button",style:{color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0),show_topbar:!1,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVR4nO3auwqDMABA0Vj8/19Olz4clDu0oMg5i7iFSxKIZplzDo49zh7A1QkUBAoCBYGCQEGgIFAQKAgUBAoCBYGCQEGgsL6ePgrtW9bty2nDuKY5xncG3dEvq+IzWexBQaAgUBAoCBQECgIFgYJAQaBw56PGX86WZlAQKAgUBAoCBYGCQEGgIFAQKAgUBAoCBYGCQEGgIFAQKAgUBAoCBYGCQEGgIFDY/ll1FXjHO5ArwAcssSBQECgIFAQKAgWBgkBBoCBQECgIFAQKAgWBwhPfvweaF9Ol9gAAAABJRU5ErkJggg=="},steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,options:{USKType:"PIP"}},{actionId:a.ActionId.PipSize,options:{PipSize:.25}},{actionId:a.ActionId.PipXPosition,options:{operation:0,PipXPosition:11.8}},{actionId:a.ActionId.PipYPosition,options:{operation:0,PipYPosition:-6.6}},{actionId:s.ActionId.OnAirButtons,options:{KeyButton:"KEY",ButtonAction:1}}],up:[]}]},t.PIP_lower_left={category:"USK: PIP",name:"PIP on air: Lower left corner",type:"button",style:{color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0),show_topbar:!1,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVR4nO3aMQqEMAAAwXj4/y/nmjsQUbawUGSmkXRhiYEYlznn4Nzn7gk8nUBBoCBQECgIFAQKAgWBgkBBoCBQECgIFAQK6+/po9CxZd0ObpvGM80xvGJJoCBQECgIFAQKAgWBgkBBoCBQECgIFAQKAgWBgkBBoCBQECgIFAQKAgWBgkBh3Y2vXEG/8mbWCgoCBYGCQEGgIFAQKAgUBAoChf1R45XHhSu2gfwKfOAfyMo5YQ8KAgWBgkBBoCBQECgIFAQKAgWBgkBBoCBQECh8AeTKB5pOGd6uAAAAAElFTkSuQmCC"},steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,options:{USKType:"PIP"}},{actionId:a.ActionId.PipSize,options:{PipSize:.25}},{actionId:a.ActionId.PipXPosition,options:{operation:0,PipXPosition:-11.8}},{actionId:a.ActionId.PipYPosition,options:{operation:0,PipYPosition:6.6}},{actionId:s.ActionId.OnAirButtons,options:{KeyButton:"KEY",ButtonAction:1}}],up:[]}]},t.PIP_lower_right={category:"USK: PIP",name:"PIP on air: Lower right corner",type:"button",style:{color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0),show_topbar:!1,png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVR4nO3aMQqDQBRAQQ17/ytvmhgslFckoAkzjQgWy0MF3b/OORfOPa5ewN0JFAQKAgWBgkBBoCBQECgIFAQKAgWBgkBBoDBeRz+Fjq1jf3LZMu5pLotHLAkUBAoCBYGCQEGgIFAQKAgUBAoCBYGCQEGgIFAQKAgUBAoCBYGCQEGgIFAQKIy+5Gd9sp3+3mV2BwWBgkBBoCBQECgIFAQKAgWBwj9/anxlKHUfyCjwgS2QEeAT3kFBoCBQECgIFAQKAgWBgkBBoCBQECgIFAQKAoUnF/4HmoKO4UMAAAAASUVORK5CYII="},steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,options:{USKType:"PIP"}},{actionId:a.ActionId.PipSize,options:{PipSize:.25}},{actionId:a.ActionId.PipXPosition,options:{operation:0,PipXPosition:11.8}},{actionId:a.ActionId.PipYPosition,options:{operation:0,PipYPosition:6.6}},{actionId:s.ActionId.OnAirButtons,options:{KeyButton:"KEY",ButtonAction:1}}],up:[]}]};for(const e of[.25,.33,.5]){const o=100*e;t[`PIP_${e}`]={category:"USK: PIP",name:`Set PIP size to ${o}%`,type:"button",style:{text:`PIP ${o}%`,color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0)},steps:[{down:[{actionId:a.ActionId.UpStreamKeyType,options:{USKType:"PIP"}},{actionId:a.ActionId.PipSize,options:{PipSize:e}}],up:[]}],feedbacks:[{feedbackId:c.FeedbackId.PipSize,options:{pipSizeId:e},style:{bgcolor:(0,l.combineRgb)(255,255,0),color:(0,l.combineRgb)(0,0,0)}}]}}for(const e of u){let o=e.h<0?2:e.h>0?3:0,n=e.v<0?2:e.v>0?3:0;e.h!=e.v&&(0===e.h&&(o=1),0===e.v&&(n=1)),t[`PIP_Rel_${e.text}`]={category:"USK: PIP",name:"Move PIP window in direction of arrow; long press to snap to edge(s)",type:"button",style:{text:e.text,color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0),show_topbar:!1},steps:[{down:[],up:[{actionId:a.ActionId.PipXPosition,options:{operation:1,PipXPositionRel:e.h}},{actionId:a.ActionId.PipYPosition,options:{operation:1,PipYPositionRel:e.v}}],500:{options:{runWhileHeld:!0},actions:[{actionId:a.ActionId.PipXPosition,options:{operation:o,PipXPosition:0,PipXPositionRel:0}},{actionId:a.ActionId.PipYPosition,options:{operation:n,PipYPosition:0,PipYPositionRel:0}}]}}],feedbacks:[]},t[`Pattern_Rel_${e.text}`]={category:"USK: keypattern",name:'Move Key Pattern "wipe position" in direction of arrow',type:"button",style:{text:e.text,color:(0,l.combineRgb)(255,255,255),bgcolor:(0,l.combineRgb)(0,0,0),show_topbar:!1},steps:[{down:[],up:[{actionId:a.ActionId.KeyPatternWipeXPosition,options:{operation:1,KeyPatternWipeXPositionRel:e.h}},{actionId:a.ActionId.KeyPatternWipeYPosition,options:{operation:1,KeyPatternWipeYPositionRel:e.v}}],500:{options:{runWhileHeld:!0},actions:[{actionId:a.ActionId.KeyPatternWipeXPosition,options:{operation:o,KeyPatternWipeXPosition:0,KeyPatternWipeXPositionRel:0}},{actionId:a.ActionId.KeyPatternWipeYPosition,options:{operation:n,KeyPatternWipeYPosition:0,KeyPatternWipeYPositionRel:0}}]}}],feedbacks:[]}}return t};const a=o(6173),s=r(o(7625)),c=o(7276),l=o(6278),d=o(4796),u=[{text:"",h:-.2,v:-.2},{text:"",h:0,v:-.2},{text:"",h:.2,v:-.2},{text:"",h:-.2,v:0},{text:"",h:0,v:0},{text:"",h:.2,v:0},{text:"",h:-.2,v:.2},{text:"",h:0,v:.2},{text:"",h:.2,v:.2}]},153:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpstreamKeyerStateT=t.WipePattern=t.USKKeySourceType=t.USKKeyTypes=void 0,t.sync=async function(e){const t=[{id:n.ActionId.UpStreamKeyType,type:r.ReqType.Get},{id:n.ActionId.LumaKeySourceFill,type:r.ReqType.Get},{id:n.ActionId.LumaKeyResizeEnable,type:r.ReqType.Get},{id:n.ActionId.LumaKeyResizeSize,type:r.ReqType.Get},{id:n.ActionId.LumaKeyResizeXPosition,type:r.ReqType.Get},{id:n.ActionId.LumaKeyResizeYPosition,type:r.ReqType.Get},{id:n.ActionId.LumaKeyMaskEnable,type:r.ReqType.Get},{id:n.ActionId.LumaKeyMaskHStart,type:r.ReqType.Get},{id:n.ActionId.LumaKeyMaskHEnd,type:r.ReqType.Get},{id:n.ActionId.LumaKeyMaskVStart,type:r.ReqType.Get},{id:n.ActionId.LumaKeyMaskVEnd,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyFill,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyResizeEnable,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyResizeSize,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyResizeXPosition,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyResizeYPosition,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyMaskEnable,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyMaskHStart,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyMaskHEnd,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyMaskVStart,type:r.ReqType.Get},{id:n.ActionId.ChromaKeyMaskVEnd,type:r.ReqType.Get},{id:n.ActionId.KeyPatternSourceFill,type:r.ReqType.Get},{id:n.ActionId.KeyPatternResizeEnable,type:r.ReqType.Get},{id:n.ActionId.KeyPatternResizeSize,type:r.ReqType.Get},{id:n.ActionId.KeyPatternResizeXPosition,type:r.ReqType.Get},{id:n.ActionId.KeyPatternResizeYPosition,type:r.ReqType.Get},{id:n.ActionId.KeyPatternWipeXPosition,type:r.ReqType.Get},{id:n.ActionId.KeyPatternWipeYPosition,type:r.ReqType.Get},{id:n.ActionId.KeyPatternWipeSize,type:r.ReqType.Get},{id:n.ActionId.KeyPatternWipePattern,type:r.ReqType.Get},{id:n.ActionId.KeyPatternWipeSymmetry,type:r.ReqType.Get},{id:n.ActionId.KeyPatternWipeSoftness,type:r.ReqType.Get},{id:n.ActionId.KeyPatternMaskEnable,type:r.ReqType.Get},{id:n.ActionId.KeyPatternMaskHStart,type:r.ReqType.Get},{id:n.ActionId.KeyPatternMaskHEnd,type:r.ReqType.Get},{id:n.ActionId.KeyPatternMaskVStart,type:r.ReqType.Get},{id:n.ActionId.KeyPatternMaskVEnd,type:r.ReqType.Get},{id:n.ActionId.PipSource,type:r.ReqType.Get},{id:n.ActionId.PipSize,type:r.ReqType.Get},{id:n.ActionId.PipXPosition,type:r.ReqType.Get},{id:n.ActionId.PipYPosition,type:r.ReqType.Get},{id:n.ActionId.PipMaskEnable,type:r.ReqType.Get},{id:n.ActionId.PipMaskHStart,type:r.ReqType.Get},{id:n.ActionId.PipMaskHEnd,type:r.ReqType.Get},{id:n.ActionId.PipMaskVStart,type:r.ReqType.Get},{id:n.ActionId.PipMaskVEnd,type:r.ReqType.Get}];return(0,i.sendCommands)(t)},t.update=function(e,t){switch(t.id){case n.ActionId.UpStreamKeyType:e.UpStreamKeyType=e.decodeKeyType(Number(t.value[0]));break;case n.ActionId.LumaKeySourceFill:e.keyInfo[a.Luma].sources[s.Fill]=Number(t.value[0]);break;case n.ActionId.LumaKeySourceKey:e.keyInfo[a.Luma].sources[s.Key]=Number(t.value[0]);break;case n.ActionId.LumaKeyResizeEnable:e.keyInfo[a.Luma].enabled=Boolean(t.value[0]);break;case n.ActionId.LumaKeyResizeSize:e.keyInfo[a.Luma].size=Number(t.value[0]);break;case n.ActionId.LumaKeyResizeXPosition:e.keyInfo[a.Luma].xPosition=Number(t.value[0]);break;case n.ActionId.LumaKeyResizeYPosition:e.keyInfo[a.Luma].yPosition=Number(t.value[0]);break;case n.ActionId.LumaKeyMaskEnable:e.keyInfo[a.Luma].mask.enabled=Boolean(t.value[0]);break;case n.ActionId.LumaKeyMaskHStart:e.keyInfo[a.Luma].mask.hStart=Number(t.value[0]);break;case n.ActionId.LumaKeyMaskHEnd:e.keyInfo[a.Luma].mask.hEnd=Number(t.value[0]);break;case n.ActionId.LumaKeyMaskVStart:e.keyInfo[a.Luma].mask.vStart=Number(t.value[0]);break;case n.ActionId.LumaKeyMaskVEnd:e.keyInfo[a.Luma].mask.vEnd=Number(t.value[0]);break;case n.ActionId.ChromaKeyFill:e.keyInfo[a.Chroma].sources[s.Fill]=Number(t.value[0]);break;case n.ActionId.ChromaKeyResizeEnable:e.keyInfo[a.Chroma].enabled=Boolean(t.value[0]);break;case n.ActionId.ChromaKeyResizeSize:e.keyInfo[a.Chroma].size=Number(t.value[0]);break;case n.ActionId.ChromaKeyResizeXPosition:e.keyInfo[a.Chroma].xPosition=Number(t.value[0]);break;case n.ActionId.ChromaKeyResizeYPosition:e.keyInfo[a.Chroma].yPosition=Number(t.value[0]);break;case n.ActionId.ChromaKeyMaskEnable:e.keyInfo[a.Chroma].mask.enabled=Boolean(t.value[0]);break;case n.ActionId.ChromaKeyMaskHStart:e.keyInfo[a.Chroma].mask.hStart=Number(t.value[0]);break;case n.ActionId.ChromaKeyMaskHEnd:e.keyInfo[a.Chroma].mask.hEnd=Number(t.value[0]);break;case n.ActionId.ChromaKeyMaskVStart:e.keyInfo[a.Chroma].mask.vStart=Number(t.value[0]);break;case n.ActionId.ChromaKeyMaskVEnd:e.keyInfo[a.Chroma].mask.vEnd=Number(t.value[0]);break;case n.ActionId.KeyPatternSourceFill:e.keyInfo[a.KeyPattern].sources[s.Fill]=Number(t.value[0]);break;case n.ActionId.KeyPatternResizeEnable:e.keyInfo[a.KeyPattern].enabled=Boolean(t.value[0]);break;case n.ActionId.KeyPatternResizeSize:e.keyInfo[a.KeyPattern].size=Number(t.value[0]);break;case n.ActionId.KeyPatternResizeXPosition:e.keyInfo[a.KeyPattern].xPosition=Number(t.value[0]);break;case n.ActionId.KeyPatternResizeYPosition:e.keyInfo[a.KeyPattern].yPosition=Number(t.value[0]);break;case n.ActionId.KeyPatternWipeXPosition:e.keyInfo[a.KeyPattern].wipe.pos.x=Number(t.value[0]);break;case n.ActionId.KeyPatternWipeYPosition:e.keyInfo[a.KeyPattern].wipe.pos.y=Number(t.value[0]);break;case n.ActionId.KeyPatternWipeSize:e.keyInfo[a.KeyPattern].wipe.size=Number(t.value[0]);break;case n.ActionId.KeyPatternWipePattern:e.keyInfo[a.KeyPattern].wipe.pattern=Number(t.value[0]);break;case n.ActionId.KeyPatternWipeSymmetry:e.keyInfo[a.KeyPattern].wipe.symmetry=Number(t.value[0]);break;case n.ActionId.KeyPatternWipeSoftness:e.keyInfo[a.KeyPattern].wipe.softness=Number(t.value[0]);break;case n.ActionId.KeyPatternMaskEnable:e.keyInfo[a.KeyPattern].mask.enabled=Boolean(t.value[0]);break;case n.ActionId.KeyPatternMaskHStart:e.keyInfo[a.KeyPattern].mask.hStart=Number(t.value[0]);break;case n.ActionId.KeyPatternMaskHEnd:e.keyInfo[a.KeyPattern].mask.hEnd=Number(t.value[0]);break;case n.ActionId.KeyPatternMaskVStart:e.keyInfo[a.KeyPattern].mask.vStart=Number(t.value[0]);break;case n.ActionId.KeyPatternMaskVEnd:e.keyInfo[a.KeyPattern].mask.vEnd=Number(t.value[0]);break;case n.ActionId.PipSource:e.keyInfo[a.Pip].sources[s.Fill]=Number(t.value[0]);break;case n.ActionId.PipSize:e.keyInfo[a.Pip].size=e.decodeKeyScalingSize(Number(t.value[0]));break;case n.ActionId.PipXPosition:e.keyInfo[a.Pip].xPosition=Number(t.value[0]);break;case n.ActionId.PipYPosition:e.keyInfo[a.Pip].yPosition=Number(t.value[0]);break;case n.ActionId.PipMaskEnable:e.keyInfo[a.Pip].mask.enabled=Boolean(t.value[0]);break;case n.ActionId.PipMaskHStart:e.keyInfo[a.Pip].mask.hStart=Number(t.value[0]);break;case n.ActionId.PipMaskHEnd:e.keyInfo[a.Pip].mask.hEnd=Number(t.value[0]);break;case n.ActionId.PipMaskVStart:e.keyInfo[a.Pip].mask.vStart=Number(t.value[0]);break;case n.ActionId.PipMaskVEnd:e.keyInfo[a.Pip].mask.vEnd=Number(t.value[0])}return!1};const n=o(6173),i=o(7956),r=o(4796);var a,s,c;!function(e){e[e.Luma=0]="Luma",e[e.Chroma=1]="Chroma",e[e.KeyPattern=2]="KeyPattern",e[e.Pip=3]="Pip"}(a||(t.USKKeyTypes=a={})),function(e){e[e.Key=0]="Key",e[e.Fill=1]="Fill"}(s||(t.USKKeySourceType=s={})),function(e){e[e.Horizontal_LeftToRight=0]="Horizontal_LeftToRight",e[e.Vertical_UpToDown=1]="Vertical_UpToDown",e[e.Horizontal_RightToLeft=2]="Horizontal_RightToLeft",e[e.Vertical_DownToUp=3]="Vertical_DownToUp",e[e.Surround=4]="Surround",e[e.Rectangle=5]="Rectangle",e[e.Diamond=6]="Diamond",e[e.Circle=7]="Circle",e[e.Rectangle_FromTopLeft=8]="Rectangle_FromTopLeft",e[e.Rectangle_FromTopRight=9]="Rectangle_FromTopRight",e[e.Rectangle_FromBottomRight=10]="Rectangle_FromBottomRight",e[e.Rectangle_FromBottomLeft=11]="Rectangle_FromBottomLeft",e[e.Rectangle_FromTopCenter=12]="Rectangle_FromTopCenter",e[e.Rectangle_FromRightCenter=13]="Rectangle_FromRightCenter",e[e.Rectangle_FromBottomCenter=14]="Rectangle_FromBottomCenter",e[e.Rectangle_FromLeftCenter=15]="Rectangle_FromLeftCenter",e[e.Diagonal_LeftToRight=16]="Diagonal_LeftToRight",e[e.Diagonal_RightToLeft=17]="Diagonal_RightToLeft"}(c||(t.WipePattern=c={})),t.UpstreamKeyerStateT=class{model;UpStreamKeyType;keyInfo;constructor(e){this.model=e,this.UpStreamKeyType=this.keyTypes()[0],this.keyInfo=[{enabled:!1,sources:[0,0],size:0,xPosition:0,yPosition:0,mask:{enabled:!1,hStart:0,hEnd:100,vStart:100,vEnd:100}},{enabled:!1,sources:[0,0],size:0,xPosition:0,yPosition:0,mask:{enabled:!1,hStart:0,hEnd:100,vStart:100,vEnd:100}},{enabled:!1,sources:[0,0],size:0,xPosition:0,yPosition:0,mask:{enabled:!1,hStart:0,hEnd:100,vStart:100,vEnd:100},wipe:{pattern:c.Horizontal_LeftToRight,size:100,pos:{x:0,y:0},symmetry:100,softness:0}},{enabled:!1,sources:[0,0],size:0,xPosition:0,yPosition:0,mask:{enabled:!1,hStart:0,hEnd:100,vStart:100,vEnd:100}}]}keyScalingSizes(e=!1){return[.25,.33,.5]}encodeKeyScalingSize(e){return this.keyScalingSizes(!0).indexOf(e)}decodeKeyScalingSize(e){return this.keyScalingSizes(!0)[e]}keyTypes(e=!1,t=!1){return t?["Luma","Chrom","Pattn","PiP"]:["Luma Key","Chroma Key","Key Pattern","PIP"]}encodeKeyType(e=this.UpStreamKeyType){return this.keyTypes(!0).indexOf(e)}decodeKeyType(e){return this.keyTypes(!0)[e]}}},3239:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VariableId=void 0,function(e){e.KeyTypeVar="key_type",e.KeyTypeVar_short="key_type_short",e.PIPFillSource="key_PiP_Fill_Src",e.LumaFillSource="key_Luma_Fill_Src",e.ChromaFillSource="key_Chroma_Fill_Src",e.PatternFillSource="key_Pattern_Fill_Src",e.USKFillSource="key_Fill_Src",e.PIPSize="key_PiP_Size"}(o||(t.VariableId=o={}))},893:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return[{name:"Current (USK) Key Type",variableId:n.VariableId.KeyTypeVar},{name:"Current (USK) Key Type abbrev.",variableId:n.VariableId.KeyTypeVar_short},{name:"PiP Source",variableId:n.VariableId.PIPFillSource},{name:"Luma key fill Source",variableId:n.VariableId.LumaFillSource},{name:"Chroma key Source",variableId:n.VariableId.ChromaFillSource},{name:"Pattern Source",variableId:n.VariableId.PatternFillSource},{name:"Current (USK) Key Fill Source",variableId:n.VariableId.USKFillSource},{name:"PiP Size",variableId:n.VariableId.PIPSize}]},t.getValues=function(e){const t={},o=i.SourceModels.concat(i.OtherDSKSourceModels).map((e=>e.shortName.toLowerCase())),a=t=>e.keyInfo[t].sources[r.USKKeySourceType.Fill];return t[n.VariableId.KeyTypeVar]=e.UpStreamKeyType,t[n.VariableId.KeyTypeVar_short]=function(e){const t=e.UpStreamKeyType,o=e.keyTypes(!0,!1);return e.keyTypes(!0,!0)[o.indexOf(t)]}(e),t[n.VariableId.PIPSize]=String(e.keyInfo[r.USKKeyTypes.Pip].size),t[n.VariableId.PIPFillSource]=o[a(r.USKKeyTypes.Pip)],t[n.VariableId.LumaFillSource]=o[a(r.USKKeyTypes.Luma)],t[n.VariableId.ChromaFillSource]=o[a(r.USKKeyTypes.Chroma)],t[n.VariableId.PatternFillSource]=o[a(r.USKKeyTypes.KeyPattern)],t[n.VariableId.USKFillSource]=o[a(e.encodeKeyType())],t};const n=o(3239),i=o(7643),r=o(153)},7643:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsOutSourceChoices=t.SettingsOutSourceParamChoices=t.SettingsOutFormatChoices=t.SettingsAuxSourceChoices=t.SettingsColorChoices=t.SettingsMic2InputChoices=t.SettingsMic1InputChoices=t.SettingsInputWindowLayoutChoices=t.SettingsMvLayoutChoices=t.SettingsMvMeterChoices=t.SettingsUMDSrcChoices=t.StreamingChoices=t.HeadphoneSourceChoices=t.OtherAudioSourcesEnableChoices=t.AudioSourcesEnableChoices=t.AudioInputSourcesChoices=t.AudioMicChoices=t.KeyResizeSizeChoices=t.UpStreamKeyTypeChoices=t.SuperSourceBorderChoices=t.SuperSourceMaskChoices=t.SuperSourceStyleChoices=t.ColorSwitchChoices=t.SuperSourceChoices=t.WipeDirectionChoices=t.SwitchChoices=t.TransitionStyleChoice=t.OtherDipSourceModels=t.OtherDSKSourceModels=t.OtherSourceModels=t.SourceModels=void 0;const n=o(4796);t.SourceModels=[{inputId:0,longName:"Input1",shortName:"In1"},{inputId:1,longName:"Input2",shortName:"In2"},{inputId:2,longName:"Input3",shortName:"In3"},{inputId:3,longName:"Input4",shortName:"In4"}],t.OtherSourceModels=[{inputId:4,longName:"Aux",shortName:"Aux"},{inputId:5,longName:"S/SRC",shortName:"SSRC"},{inputId:6,longName:"Still1",shortName:"STL1"},{inputId:7,longName:"Still2",shortName:"STL2"}],t.OtherDSKSourceModels=[{inputId:4,longName:"Aux",shortName:"Aux"},{inputId:5,longName:"Still1",shortName:"STL1"},{inputId:6,longName:"Still1 Key",shortName:"STL1 Key"},{inputId:7,longName:"Still2",shortName:"STL2"},{inputId:8,longName:"Still2 Key",shortName:"STL2 Key"},{inputId:9,longName:"Color1",shortName:"Col1"},{inputId:10,longName:"Color2",shortName:"Col2"},{inputId:11,longName:"Color Bar",shortName:"Bar"},{inputId:12,longName:"Black",shortName:"BLK"}],t.OtherDipSourceModels=[{inputId:4,longName:"Aux",shortName:"Aux"},{inputId:5,longName:"Black",shortName:"BLK"},{inputId:6,longName:"Still1",shortName:"STL1"},{inputId:7,longName:"Still2",shortName:"STL2"},{inputId:8,longName:"Color1",shortName:"Col1"},{inputId:9,longName:"Color2",shortName:"Col2"},{inputId:10,longName:"Color Bar",shortName:"Bar"}],t.TransitionStyleChoice=[{id:n.TransitionStyle.MIX,label:"MIX"},{id:n.TransitionStyle.DIP,label:"DIP"},{id:n.TransitionStyle.WIPE,label:"WIPE"}],t.SwitchChoices=[{id:0,label:"Off"},{id:1,label:"On"},{id:2,label:"Toggle"}],t.WipeDirectionChoices=[{id:0,label:"Normal"},{id:1,label:"Inverse"}],t.SuperSourceChoices=[{id:0,label:"Source 1"},{id:1,label:"Source 2"},{id:2,label:"Background"}],t.ColorSwitchChoices=[{id:0,label:"Color1"},{id:1,label:"Color2"}],t.SuperSourceStyleChoices=[{id:0,label:"zoom out"},{id:1,label:"crop-zoom out"},{id:2,label:"zoom out-crop"},{id:3,label:"crop"}],t.SuperSourceMaskChoices=[{id:0,label:"mask1"},{id:1,label:"mask2"}],t.SuperSourceBorderChoices=[{id:0,label:"border1"},{id:1,label:"border2"}],t.UpStreamKeyTypeChoices=[{id:0,label:"Luma Key"},{id:1,label:"Chroma Key"},{id:2,label:"Pattern"},{id:3,label:"PIP"}],t.KeyResizeSizeChoices=[{id:0,label:"0.25"},{id:1,label:"0.33"},{id:2,label:"0.50"}],t.AudioMicChoices=[{id:0,label:"mic1"},{id:1,label:"mic2"}],t.AudioInputSourcesChoices=[{id:2,label:"in1"},{id:3,label:"in2"},{id:4,label:"in3"},{id:5,label:"in4"},{id:6,label:"aux"}],t.AudioSourcesEnableChoices=[{id:0,label:"off"},{id:1,label:"on"}],t.OtherAudioSourcesEnableChoices=[{id:2,label:"afv"}],t.HeadphoneSourceChoices=[{id:5,label:"mic1"},{id:6,label:"mic2"},{id:0,label:"in1"},{id:1,label:"in2"},{id:2,label:"in3"},{id:3,label:"in4"},{id:4,label:"aux"},{id:7,label:"pgm"}],t.StreamingChoices=[{id:0,label:"Stream1"},{id:1,label:"Stream2"},{id:2,label:"Stream3"}],t.SettingsUMDSrcChoices=[{id:0,label:"pgm"},{id:1,label:"pvw"},{id:2,label:"in1"},{id:3,label:"in2"},{id:4,label:"in3"},{id:5,label:"in4"},{id:6,label:"aux"},{id:7,label:"still 1"},{id:8,label:"still 2"}],t.SettingsMvMeterChoices=[{id:0,label:"pgm"},{id:1,label:"in1"},{id:2,label:"in2"},{id:3,label:"in3"},{id:4,label:"in4"},{id:5,label:"aux"}],t.SettingsMvLayoutChoices=[{id:0,label:"PVW|PGM"},{id:1,label:"PGM|PVW"}],t.SettingsInputWindowLayoutChoices=[{id:0,label:"Style 1"},{id:1,label:"Style 2"}],t.SettingsMic1InputChoices=[{id:0,label:"Mic+power"},{id:1,label:"Mic"},{id:2,label:"Line"}],t.SettingsMic2InputChoices=[{id:0,label:"Mic"},{id:1,label:"Line"}],t.SettingsColorChoices=[{id:0,label:"HDMI Auto"},{id:1,label:"HDMI RGB Full"},{id:2,label:"HDMI RGB Limit"},{id:3,label:"HDMI YC422 Full"},{id:4,label:"HDMI YC422 Limit"},{id:5,label:"HDMI YC444 Full"},{id:6,label:"HDMI YC444 Limit"}],t.SettingsAuxSourceChoices=[{id:0,label:"Player"},{id:1,label:"USB Camera"},{id:2,label:"NDI"}],t.SettingsOutFormatChoices=[{id:0,label:"1080p23.98"},{id:1,label:"1080p24"},{id:2,label:"1080p25"},{id:3,label:"1080p29.97"},{id:4,label:"1080p30"},{id:5,label:"1080p50"},{id:6,label:"1080p59.94"},{id:7,label:"1080p60"}],t.SettingsOutSourceParamChoices=[{id:0,label:"HDMI1"},{id:1,label:"HDMI2"},{id:2,label:"UVC"}],t.SettingsOutSourceChoices=[{id:4,label:"aux"},{id:5,label:"pgm"},{id:6,label:"pvw"},{id:7,label:"multiview"}]},7930:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoModel=void 0;const n=o(6996);class i extends n.GoStreamModel{constructor(){super(),this.id=n.MODEL_AUTO_DETECT,this.label="Auto Detect",this.outputs=[],this.inputs=[],this.streams=0,this.transitionTypes=0,this.stillSlots=0}}t.AutoModel=i},3868:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoStreamDeck=void 0;const n=o(6996),i=o(4796);class r extends n.GoStreamModel{constructor(){super(),this.id=n.Model.Deck,this.label="Deck",this.outputs=[...(0,n.generatePorts)("Output","Out",i.PortType.HDMI,i.PortCaps.Colorspace,2),{id:2,longName:"UVC",shortName:"UVC",type:i.PortType.Other,caps:i.PortCaps.NoCaps}],this.inputs=[{id:0,longName:"Program",shortName:"PGM",type:i.PortType.Internal,caps:i.PortCaps.Renameable|i.PortCaps.Audio},{id:1,longName:"Preview",shortName:"Pvw",type:i.PortType.Internal,caps:i.PortCaps.Renameable},...(0,n.generatePorts)("Input","In",i.PortType.HDMI,i.PortCaps.Renameable|i.PortCaps.Audio,4),{id:4,longName:"Aux",shortName:"Aux",type:i.PortType.Aux,caps:i.PortCaps.Renameable|i.PortCaps.Audio},{id:5,longName:"S/SRC",shortName:"SSRC",type:i.PortType.Internal,caps:i.PortCaps.NoCaps},...(0,n.generatePorts)("Still","STL",i.PortType.Internal,i.PortCaps.Renameable,2,6),...(0,n.generatePorts)("Mic","Mic",i.PortType.Mic,i.PortCaps.NoCaps,2)],this.streams=3,this.transitionTypes=3,this.stillSlots=2}}t.GoStreamDeck=r},8991:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoStreamDuet=void 0;const n=o(6996),i=o(4796);class r extends n.GoStreamModel{constructor(){super(),this.id=n.Model.Duet,this.label="Duet",this.outputs=[...(0,n.generatePorts)("Output","Out",i.PortType.HDMI,i.PortCaps.Colorspace,2),{id:2,longName:"UVC",shortName:"UVC",type:i.PortType.Other,caps:i.PortCaps.NoCaps}],this.inputs=[{id:0,longName:"Program",shortName:"PGM",type:i.PortType.Internal,caps:i.PortCaps.Renameable|i.PortCaps.Audio},{id:1,longName:"Preview",shortName:"Pvw",type:i.PortType.Internal,caps:i.PortCaps.Renameable},...(0,n.generatePorts)("Input","In",i.PortType.External,i.PortCaps.Renameable|i.PortCaps.Audio,4,2),{id:6,longName:"Aux",shortName:"Aux",type:i.PortType.Aux,caps:i.PortCaps.Renameable|i.PortCaps.Audio},{id:7,longName:"S/SRC",shortName:"S/SRC",type:i.PortType.Internal,caps:i.PortCaps.NoCaps},...(0,n.generatePorts)("Still","STL",i.PortType.Internal,i.PortCaps.Renameable,2,8),...(0,n.generatePorts)("Mic","Mic",i.PortType.Mic,i.PortCaps.Audio,2)],this.streams=3,this.transitionTypes=3,this.stillSlots=2}}t.GoStreamDuet=r},2317:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsColorChoices=t.ALL_MODEL_CHOICES=t.ALL_MODELS=void 0,t.GetModelSpec=function(e){return t.ALL_MODELS.find((t=>t.id===e))},t.GetAutoDetectModel=function(){return t.ALL_MODELS[0]},t.getInputChoices=function(e,t){const o=[],n=t||a.PortType.All;return e.inputs.forEach((e=>{e.type&n&&o.push({id:e.id,label:e.longName})})),o},t.getInputs=function(e,t){const o=t||a.PortType.All;return e.inputs.filter((e=>e.type&o))},t.getOutputChoices=function(e,t){const o=[],n=t||a.PortType.All;return e.outputs.forEach((e=>{e.type&n&&o.push({id:e.id,label:e.longName})})),o},t.getColorChoices=function(e){const t=[],o=["Auto","RGB Full","RGB Limit","YCbCr422 Full","YCbCr422 Limit","YCbCr444 Full","YCbCr444 Limit"];e.inputs[0].type|a.PortType.SDI&&t.push({id:0,label:"SDI"});const n=t.length;if(e.inputs[0].type|a.PortType.HDMI){const e=o.map(((e,t)=>({id:t+n,label:"HDMI "+e})));t.push(...e)}return t};const n=o(7930),i=o(3868),r=o(8991),a=o(4796);t.ALL_MODELS=[new n.AutoModel,new i.GoStreamDeck,new r.GoStreamDuet],t.ALL_MODEL_CHOICES=t.ALL_MODELS.map((({id:e,label:t})=>({id:e,label:t}))),t.SettingsColorChoices=[]},6996:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoStreamModel=t.MODEL_AUTO_DETECT=t.Model=void 0,t.SourcesToChoices=a,t.generatePorts=function(e,t,o,n,i,r){const a=[],s=r||0;for(let r=0;r<i;r++)a.push({id:s+r,longName:`${e} ${r+1}`,shortName:`${t} ${r+1}`,type:o,caps:n});return a};const n=o(4796),i=o(7643);var r;function a(e){return e.map((e=>({id:e.inputId,label:e.longName})))}!function(e){e.Unknown="Unknown",e.Deck="GOSECK",e.Duet="GOSUET"}(r||(t.Model=r={})),t.MODEL_AUTO_DETECT=r.Unknown,t.GoStreamModel=class{id;label;outputs;inputs;streams;transitionTypes;stillSlots;outputPorts;constructor(){this.id=r.Unknown,this.label="",this.outputs=[],this.inputs=[],this.streams=0,this.transitionTypes=0,this.stillSlots=0,this.outputPorts=[{id:0,name:"HDMI 1"},{id:1,name:"HDMI 2"},{id:2,name:"UVC"}]}getChoices(e){switch(e){default:case n.ActionType.Program:case n.ActionType.Preview:{const e=i.SourceModels,t=i.OtherSourceModels;return a(e.concat(t))}case n.ActionType.TransitionDipSource:case n.ActionType.TransitionWipeFillSource:{const e=i.SourceModels,t=i.OtherDipSourceModels;return a(e.concat(t))}case n.ActionType.DskSourceFill:case n.ActionType.SuperSourceSource:case n.ActionType.LumaKeySourceKey:case n.ActionType.ChromaKeySourceKey:case n.ActionType.KeyPatternSourceKey:case n.ActionType.PipSource:{const e=i.SourceModels,t=i.OtherDSKSourceModels;return a(e.concat(t))}case n.ActionType.AudioEnableSource:return i.AudioMicChoices.concat(i.AudioInputSourcesChoices);case n.ActionType.AudioFader:case n.ActionType.AudioMonitorSource:return i.HeadphoneSourceChoices;case n.ActionType.AudioEnable:{const e=i.AudioSourcesEnableChoices,t=i.OtherAudioSourcesEnableChoices;return e.concat(t)}case n.ActionType.SettingsoutSource:return a(i.SourceModels).concat(i.SettingsOutSourceChoices)}return[]}getChoicesByAudioSourceType(e){const t=i.AudioSourcesEnableChoices;switch(e){case 0:case 1:return t;case 2:case 3:case 4:case 5:case 6:{const e=i.OtherAudioSourcesEnableChoices;return t.concat(e)}default:return i.AudioSourcesEnableChoices}}getChoicesByMacro(){const e=[];for(let t=0;t<100;t++)e.push({id:t,label:"Macro"+(t+1).toString()});return e}getChoicesByStill(){const e=[];for(let t=0;t<=31;t++)e.push({id:t,label:"Pic"+t.toString()});return e}SourcesToChoices(e){return e.map((e=>({id:e.inputId,label:e.longName})))}InputSources(){return[{id:0,name:"In 1"},{id:1,name:"In 2"},{id:2,name:"In 3"},{id:3,name:"In 4"},{id:4,name:"Aux"},{id:5,name:"S/SRC"},{id:6,name:"Still 1"},{id:7,name:"Still 2"}]}OutputSources(){return[{id:0,name:"In 1"},{id:1,name:"In 2"},{id:2,name:"In 3"},{id:3,name:"In 4"},{id:4,name:"Aux"},{id:5,name:"PGM"},{id:6,name:"PVW"},{id:7,name:"Multiview"}]}FillKeySources(){return[{id:0,name:"In 1"},{id:1,name:"In 2"},{id:2,name:"In 3"},{id:3,name:"In 4"},{id:4,name:"Aux"},{id:5,name:"Still 1"},{id:6,name:"Still 1 Key"},{id:7,name:"Still 2"},{id:8,name:"Still 2 Key"},{id:9,name:"Color 1"},{id:10,name:"Color 2"},{id:11,name:"Color Bar"},{id:12,name:"Black"}]}StreamQualityChoices(){return[{id:"0",label:"high"},{id:"1",label:"medium"},{id:"2",label:"low"}]}RecordQualityChoices(){return[{id:"0",label:"high"},{id:"1",label:"medium"},{id:"2",label:"low"}]}OutputDimensions(){return[32,18]}PixelResolution(){return 1080}}},6450:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presets=function(e){return{...n.MixEffectPresets.create(e.model),...i.StreamingPresets.create(e.model),...r.AudioMixerPresets.create(e.model),...a.DownstreamKeyerPresets.create(e.model),...s.MacroPresets.create(e.model),...c.SuperSourcePresets.create(e.model),...l.PlaybackPresets.create(e.model),...d.RecordPresets.create(e.model),...u.UpstreamKeyerPresets.create(e.model),...p.SettingsPresets.create(e.model),...b.StillGeneratorPresets.create(e.model)}};const n=o(1956),i=o(8427),r=o(4718),a=o(7467),s=o(8627),c=o(141),l=o(208),d=o(4160),u=o(9528),p=o(7268),b=o(9102)},6519:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return{MixEffect:n.MixEffectState.create(e),Streaming:i.StreamingState.create(e),StillGenerator:r.StillGeneratorState.create(e),Playback:a.PlaybackState.create(e),Record:new s.RecordState.RecordStateT(e),SuperSource:c.SuperSourceState.create(e),AudioMixer:l.AudioMixerState.create(e),DownstreamKeyer:d.DownstreamKeyerState.create(e),Settings:u.SettingsState.create(e),Macro:p.MacroState.create(e),UpstreamKeyer:new b.UpstreamKeyerState.UpstreamKeyerStateT(e),ColorBack:y.ColorBackState.create(e),infos:{protocolVersion:"1.0",deviceType:0},selectOutputs:{}}};const n=o(1956),i=o(8427),r=o(9102),a=o(208),s=o(4160),c=o(141),l=o(4718),d=o(7467),u=o(7268),p=o(8627),b=o(9528),y=o(4483)},2398:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UpgradeScriptList=void 0,t.ModuleUpgrader=p;const a=o(6278),s=r(o(8619)),c=r(o(3199)),l=o(3069),d=o(673),u=()=>!1;function p(e=u,t=u,o=u){return(n,i)=>({updatedActions:i.actions.filter(e),updatedConfig:o(i.config)?i.config:null,updatedFeedbacks:i.feedbacks.filter(t)})}t.UpgradeScriptList=[a.EmptyUpgradeScript,c.getScripts,s.getScripts,p(l.tryUpdateNTAction,l.tryUpdateNTFeedback),c.getScripts,p(d.upgradeActionToV1_5,d.upgradeFeedbackToV1_5)]},673:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeActionToV1_5=function(e){const{actionId:t,options:a}=e;let s;switch(t){case o.UpStreamKeyType.toString():if(s=e.options.USKType,Number.isInteger(s))return e.options.USKType=i[s],!0;break;case o.PipSize.toString():if(s=e.options.PipSize,Number.isInteger(s)&&s<=2)return e.options.PipSize=n[s],!0;break;case o.PipXPosition.toString():case o.PipYPosition.toString():if(!("operation"in a))return e.options.operation=0,!0;break;case o.RecordQuality.toString():if(s=Number(e.options.Quality),!Number.isNaN(s))return e.options.Quality=r[s],!0;break;default:return!1}return!1},t.upgradeFeedbackToV1_5=function(e){const{feedbackId:t}=e;let n;switch(t){case o.UpStreamKeyType.toString():if(n=e.options.USKType,Number.isInteger(n))return e.options.USKType=i[n],!0;break;case o.PipSize.toString():case o.PipXPosition.toString():case o.PipYPosition.toString():case o.RecordQuality.toString():break;default:return!1}return!1},function(e){e.UpStreamKeyType="upStreamKeyType",e.PipSize="pipSize",e.PipXPosition="pipXPosition",e.PipYPosition="pipYPosition",e.RecordQuality="recordQuality"}(o||(o={}));const n=[.25,.33,.5],i=["Luma Key","Chroma Key","Key Pattern","PIP"],r=["high","good","medium","low"]},3069:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryUpdateNTAction=function(e){const{actionId:t,options:o}=e,i=[2,0,0,0,3,4];let a;switch(t){case"transitionSource":return!!Object.keys(o).includes("KeySwitch")&&(e.actionId=n.ActionId.NextTransitionButtons,a=r[String(o.KeySwitch)],e.options={KeyButton:a,ButtonAction:1,BKGDAction:1},!0);case"transitionSourceBG":return e.actionId=n.ActionId.NextTransitionButtons,e.options={KeyButton:"BKGD",ButtonAction:0,BKGDAction:o.Background?1:0},!0;case"uskOnPreview":return e.actionId=n.ActionId.NextTransitionButtons,e.options={KeyButton:"KEY",ButtonAction:i[Number(o.USKPvwState)],BKGDAction:1},!0;case"keyOnAir":return e.actionId=n.ActionId.OnAirButtons,e.options={KeyButton:"KEY",ButtonAction:o.KeyOnAir},!0;case"dskOnAir":return e.actionId=n.ActionId.OnAirButtons,e.options={KeyButton:"DSK",ButtonAction:o.DSKOnAir},!0;default:return!1}},t.tryUpdateNTFeedback=function(e){const{feedbackId:t,options:o}=e;switch(t){case"transitionSource":return!!Object.keys(o).includes("KeyTied")&&(e.feedbackId=i.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:o.KeyTied},!0);case"transitionSelection":return e.feedbackId=i.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:0},!0;case"transitionKeySwitch":return e.feedbackId=i.FeedbackId.KeysVisibility,e.options={KeyButton:r[String(o.KeySwitch)],LayerState:0},!0;case"keyOnAir":return e.feedbackId=i.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:2},e.isInverted=0==o.KeyOnAir,!0;case"dskOnAir":return e.feedbackId=i.FeedbackId.KeysVisibility,e.options={KeyButton:"DSK",LayerState:2},e.isInverted=0==o.DSKOnAir,!0;case"keyOnPvw":return e.feedbackId=i.FeedbackId.KeysVisibility,e.options={KeyButton:"KEY",LayerState:3},e.isInverted=0==o.KeyOnAir,!0;default:return!1}};const n=o(7625),i=o(5840),r={0:"KEY",1:"DSK",2:"BKGD"}},8619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScripts=function(e,t){const n={updatedActions:[],updatedConfig:null,updatedFeedbacks:[]},i=t.actions;for(const e of i)if(o.includes(e.actionId)){const t=e.actionId,o={SuperSourceMask:e.options.SuperSourceMask,props:[]},i=[];"superSourceMaskEnable"===t&&(i.push("enable"),o.SuperSourceMaskEnable=e.options.SuperSourceMaskEnable),"superSourceMaskHStart"===t&&(i.push("hMaskStart"),o.SuperSourceMaskHStart=e.options.SuperSourceMaskHStart),"superSourceMaskHEnd"===t&&(i.push("hMaskEnd"),o.SuperSourceMaskHEnd=e.options.SuperSourceMaskHEnd),"superSourceMaskVStart"===t&&(i.push("vMaskStart"),o.SuperSourceMaskVStart=e.options.SuperSourceMaskVStart),"superSourceMaskVEnd"===t&&(i.push("vMaskEnd"),o.SuperSourceMaskVEnd=e.options.SuperSourceMaskVEnd),e.actionId="superSourceSetMaskProperties",e.options=o,e.options.props=i,n.updatedActions.push(e)}return n};const o=["superSourceMaskEnable","superSourceMaskHStart","superSourceMaskVStart","superSourceMaskHEnd","superSourceMaskVEnd"]},3199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScripts=function(e,t){const n={updatedActions:[],updatedConfig:null,updatedFeedbacks:[]},i=t.actions;for(const e of i)if("keyPatternWipeXPosition"===e.actionId){const t={id:e.id,controlId:e.controlId,actionId:e.actionId,options:{operation:0,KeyPatternWipeXPosition:e.options.KeyPatternWipeXPosition}};n.updatedActions.push(t)}else if("keyPatternWipeYPosition"===e.actionId){const t={id:e.id,controlId:e.controlId,actionId:e.actionId,options:{operation:0,KeyPatternWipeYPosition:e.options.KeyPatternWipeYPosition}};n.updatedActions.push(t)}else if("quality"===e.actionId){const t={id:e.id,controlId:e.controlId,actionId:0===e.options.TypeID?"recordQuality":"streamQuality",options:{Quality:e.options.Quality}};n.updatedActions.push(t)}else if(o.includes(e.actionId)){const t=String(e.actionId[0]).toUpperCase()+String(e.actionId).slice(1),o={props:[]},i=[];if(t.endsWith("MaskEnable")&&(i.push("enable"),o.maskEnable=e.options[t]),t.endsWith("MaskHStart")){i.push("hMaskStart");let n=e.options[t];"DskMaskHStart"==t&&(n=e.options.HStart),o.maskHStart=n}if(t.endsWith("MaskHEnd")){i.push("hMaskEnd");let n=e.options[t];"DskMaskHEnd"==t&&(n=e.options.HEnd),o.maskHEnd=n}if(t.endsWith("MaskVStart")){i.push("vMaskStart");let n=e.options[t];"DskMaskVStart"==t&&(n=e.options.VStart),o.maskVStart=n}if(t.endsWith("MaskVEnd")){i.push("vMaskEnd");let n=e.options[t];"DskMaskVEnd"==t&&(n=e.options.VEnd),o.maskVEnd=n}const r=e.actionId.substring(0,e.actionId.indexOf("Mask"));e.actionId=r+"SetMaskProperties",e.options=o,e.options.props=i,n.updatedActions.push(e)}const r=t.feedbacks;for(const e of r)"dskMaskEnable"===e.feedbackId?e.options.maskEnabled||(e.isInverted=!0):"dskControlShapedKey"===e.feedbackId&&(e.options.skeyEnabled||(e.isInverted=!0)),n.updatedFeedbacks.push(e);return n};const o=["pipMaskEnable","pipMaskHStart","pipMaskVStart","pipMaskHEnd","pipMaskVEnd","chromaKeyMaskEnable","chromaKeyMaskHStart","chromaKeyMaskVStart","chromaKeyMaskHEnd","chromaKeyMaskVEnd","lumaKeyMaskEnable","lumaKeyMaskHStart","lumaKeyMaskVStart","lumaKeyMaskHEnd","lumaKeyMaskVEnd","keyPatternMaskEnable","keyPatternMaskHStart","keyPatternMaskVStart","keyPatternMaskHEnd","keyPatternMaskVEnd","dskMaskEnable","dskMaskHStart","dskMaskVStart","dskMaskHEnd","dskMaskVEnd"]},3472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptNumber=function(e,t,o){const n=e.options[t];if(void 0!==o&&void 0===n)return o;const i=Number(n);if(isNaN(i))throw new Error(`Invalid option '${t}'`);return i},t.getOptString=function(e,t,o){const n=e.options[t];if(void 0!==o&&void 0===n)return o;const i=String(n);if("string"!=typeof i)throw new Error(`Invalid option '${t}'`);return i},t.Range=function(e){return[...Array(e).keys()]},t.makeChoices=function(e){return{choices:e.map((e=>({id:e,label:String(e)}))),default:e[0]}}},3911:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variables=function(e){const t=[...n.AudioMixerVariables.create(e.model),...i.MixEffectVariables.create(e.model),...r.PlaybackVariables.create(e.model),...a.RecordVariables.create(e.model),...s.StreamingVariables.create(e.model),...c.SettingsVariables.create(e.model),...l.SuperSourceVariables.create(e.model),...d.UpstreamKeyerVariables.create(e.model)];return t.push({name:"IP address of GoStreamDeck",variableId:"device_ip"}),t},t.updateVariables=function(e){const t={...n.AudioMixerVariables.getValues(e.states.AudioMixer),...i.MixEffectVariables.getValues(e.states.MixEffect),...r.PlaybackVariables.getValues(e.states.Playback),...a.RecordVariables.getValues(e.states.Record),...s.StreamingVariables.getValues(e.states.Streaming),...c.SettingsVariables.getValues(e.states.Settings),...l.SuperSourceVariables.getValues(e.states.SuperSource),...d.UpstreamKeyerVariables.getValues(e.states.UpstreamKeyer)};e.setVariableValues(t)};const n=o(4718),i=o(1956),r=o(208),a=o(4160),s=o(8427),c=o(7268),l=o(141),d=o(9528)},7169:(e,t,o)=>{"use strict";const n=o(2017);n.code='require("ajv/dist/runtime/equal").default',t.A=n},6284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var o={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},i=function(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=Math.pow(10,t)),Math.round(o*e)/o+0},r=function(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=1),e>o?o:e>t?e:t},a=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},s=function(e){return{r:r(e.r,0,255),g:r(e.g,0,255),b:r(e.b,0,255),a:r(e.a)}},c=function(e){return{r:i(e.r),g:i(e.g),b:i(e.b),a:i(e.a,3)}},l=/^#([0-9a-f]{3,8})$/i,d=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},u=function(e){var t=e.r,o=e.g,n=e.b,i=e.a,r=Math.max(t,o,n),a=r-Math.min(t,o,n),s=a?r===t?(o-n)/a:r===o?2+(n-t)/a:4+(t-o)/a:0;return{h:60*(s<0?s+6:s),s:r?a/r*100:0,v:r/255*100,a:i}},p=function(e){var t=e.h,o=e.s,n=e.v,i=e.a;t=t/360*6,o/=100,n/=100;var r=Math.floor(t),a=n*(1-o),s=n*(1-(t-r)*o),c=n*(1-(1-t+r)*o),l=r%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l],a:i}},b=function(e){return{h:a(e.h),s:r(e.s,0,100),l:r(e.l,0,100),a:r(e.a)}},y=function(e){return{h:i(e.h),s:i(e.s),l:i(e.l),a:i(e.a,3)}},m=function(e){return p((o=(t=e).s,{h:t.h,s:(o*=((n=t.l)<50?n:100-n)/100)>0?2*o/(n+o)*100:0,v:n+o,a:t.a}));var t,o,n},f=function(e){return{h:(t=u(e)).h,s:(i=(200-(o=t.s))*(n=t.v)/100)>0&&i<200?o*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,o,n,i},S=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,h=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,A={string:[[function(e){var t=l.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?i(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?i(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=g.exec(e)||I.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:s({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=S.exec(e)||h.exec(e);if(!t)return null;var n,i,r=b({h:(n=t[1],i=t[2],void 0===i&&(i="deg"),Number(n)*(o[i]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(r)},"hsl"]],object:[[function(e){var t=e.r,o=e.g,i=e.b,r=e.a,a=void 0===r?1:r;return n(t)&&n(o)&&n(i)?s({r:Number(t),g:Number(o),b:Number(i),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,o=e.s,i=e.l,r=e.a,a=void 0===r?1:r;if(!n(t)||!n(o)||!n(i))return null;var s=b({h:Number(t),s:Number(o),l:Number(i),a:Number(a)});return m(s)},"hsl"],[function(e){var t=e.h,o=e.s,i=e.v,s=e.a,c=void 0===s?1:s;if(!n(t)||!n(o)||!n(i))return null;var l=function(e){return{h:a(e.h),s:r(e.s,0,100),v:r(e.v,0,100),a:r(e.a)}}({h:Number(t),s:Number(o),v:Number(i),a:Number(c)});return p(l)},"hsv"]]},k=function(e,t){for(var o=0;o<t.length;o++){var n=t[o][0](e);if(n)return[n,t[o][1]]}return[null,void 0]},v=function(e){return"string"==typeof e?k(e.trim(),A.string):"object"==typeof e&&null!==e?k(e,A.object):[null,void 0]},P=function(e,t){var o=f(e);return{h:o.h,s:r(o.s+100*t,0,100),l:o.l,a:o.a}},w=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C=function(e,t){var o=f(e);return{h:o.h,s:o.s,l:r(o.l+100*t,0,100),a:o.a}},R=function(){function e(e){this.parsed=v(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return i(w(this.rgba),2)},e.prototype.isDark=function(){return w(this.rgba)<.5},e.prototype.isLight=function(){return w(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,o=e.g,n=e.b,a=(r=e.a)<1?d(i(255*r)):"","#"+d(t)+d(o)+d(n)+a;var e,t,o,n,r,a},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,o=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+o+", "+n+", "+i+")":"rgb("+t+", "+o+", "+n+")";var e,t,o,n,i},e.prototype.toHsl=function(){return y(f(this.rgba))},e.prototype.toHslString=function(){return t=(e=y(f(this.rgba))).h,o=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+o+"%, "+n+"%, "+i+")":"hsl("+t+", "+o+"%, "+n+"%)";var e,t,o,n,i},e.prototype.toHsv=function(){return e=u(this.rgba),{h:i(e.h),s:i(e.s),v:i(e.v),a:i(e.a,3)};var e},e.prototype.invert=function(){return M({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),M(P(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),M(P(this.rgba,-e))},e.prototype.grayscale=function(){return M(P(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),M(C(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),M(C(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?M({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):i(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=f(this.rgba);return"number"==typeof e?M({h:e,s:t.s,l:t.l,a:t.a}):i(t.h)},e.prototype.isEqual=function(e){return this.toHex()===M(e).toHex()},e}(),M=function(e){return e instanceof R?e:new R(e)},T=[];t.Colord=R,t.colord=M,t.extend=function(e){e.forEach((function(e){T.indexOf(e)<0&&(e(R,A),T.push(e))}))},t.getFormat=function(e){return v(e)[1]},t.random=function(){return new R({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},6022:e=>{!function(){"use strict";var t=[,function(e,t){function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=i,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var n,i,r=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,i,r=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw i}}return r}}(n,i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],s=r[1];return e[a]=s,e}),{})},t.isArguments=function(e){return null!=e&&i(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var r={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=r,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(r.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var o=Object.create(null),n=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},i=0;i<64;i++)o[n(i)]=i;var r=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],o=0;o<e;o++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},a={encode:function(e){if("string"==typeof e){var t=e;e=r(t.length);for(var o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[o]=i}}for(var a=[],s=null,c=null,l=null,d=null,u=0;u<e.length;u++)switch(u%3){case 0:s=e[u]>>2&63,c=(3&e[u])<<4;break;case 1:c|=e[u]>>4&15,l=(15&e[u])<<2;break;case 2:l|=e[u]>>6&3,d=63&e[u],a.push(n(s)),a.push(n(c)),a.push(n(l)),a.push(n(d)),s=null,c=null,l=null,d=null}return null!=s&&(a.push(n(s)),a.push(n(c)),null==l?a.push("="):a.push(n(l)),null==d&&a.push("=")),a.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var n,i=r(t),a=null,s=null,c=null,l=0,d=0;d<e.length;d++){var u="="===(n=e.charAt(d))?-1:o[n];switch(d%4){case 0:if(u<0)throw new Error("invalid base64 string");a=u<<2;break;case 1:if(u<0)throw new Error("invalid base64 string");a|=u>>4,i[l++]=a,s=(15&u)<<4;break;case 2:u>=0&&(s|=u>>2,i[l++]=s,c=(3&u)<<6);break;case 3:u>=0&&(i[l++]=c|u)}}return i},newBinary:r};t.Base64=a},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function e(t,i,r,a,s){var c=i[t];switch(o(c)){case"string":return n(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var l,d=a+r,u=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,b=0;b<p;b+=1)u[b]=e(b,c,r,d,s)||"null";return l=0===u.length?"[]":d?"[\n"+d+u.join(",\n"+d)+"\n"+a+"]":"["+u.join(",")+"]"}var y=Object.keys(c);return s&&(y=y.sort()),y.forEach((function(t){(l=e(t,c,r,d,s))&&u.push(n(t)+(d?": ":":")+l)})),l=0===u.length?"{}":d?"{\n"+d+u.join(",\n"+d)+"\n"+a+"}":"{"+u.join(",")+"}"}};t.default=function(e,t){var o=Object.assign({indent:"",canonical:!1},t);if(!0===o.indent)o.indent="  ";else if("number"==typeof o.indent){for(var n="",r=0;r<o.indent;r++)n+=" ";o.indent=n}return i("",{"":e},o.indent,"",o.canonical)},e.exports=t.default}],o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}var i={};!function(){var e=i,t=n(2).Base64,o=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var r=n(1),a={};e.EJSON=a;var s=new Map;a.addType=function(e,t){if(s.has(e))throw new Error("Type ".concat(e," already present"));s.set(e,t)};var c=[{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$date")&&1===(0,r.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$regexp")&&(0,r.hasOwn)(e,"$flags")&&2===(0,r.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$InfNaN")&&1===(0,r.lengthOf)(e)},matchObject:r.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$binary")&&1===(0,r.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,r.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$escape")&&1===(0,r.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var o=(0,r.lengthOf)(e);1!==o&&2!==o||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,r.keysOf)(e).forEach((function(o){t[o]=a.toJSONValue(e[o])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,r.keysOf)(e.$escape).forEach((function(o){t[o]=a.fromJSONValue(e.$escape[o])})),t}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$type")&&(0,r.hasOwn)(e,"$value")&&2===(0,r.lengthOf)(e)},matchObject:function(e){return a._isCustomType(e)},toJSONValue:function(e){var t=o._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!s.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=s.get(t);return o._noYieldsAllowed((function(){return n(e.$value)}))}}];a._isCustomType=function(e){return e&&(0,r.isFunction)(e.toJSONValue)&&(0,r.isFunction)(e.typeName)&&s.has(e.typeName())},a._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:(0,r.convertMapToObject)(s)},a._getConverters=function(){return c};var l=function(e){for(var t=0;t<c.length;t++){var o=c[t];if(o.matchObject(e))return o.toJSONValue(e)}},d=function e(t){if(null===t)return null;var o=l(t);return void 0!==o?o:(0,r.isObject)(t)?((0,r.keysOf)(t).forEach((function(o){var n=t[o];if((0,r.isObject)(n)||void 0===n||(0,r.isInfOrNaN)(n)){var i=l(n);i?t[o]=i:e(n)}})),t):t};a._adjustTypesToJSONValue=d,a.toJSONValue=function(e){var t=l(e);if(void 0!==t)return t;var o=e;return(0,r.isObject)(e)&&(o=a.clone(e),d(o)),o};var u=function(e){if((0,r.isObject)(e)&&null!==e){var t=(0,r.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var o=0;o<c.length;o++){var n=c[o];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var o=u(t);return o!==t?o:(0,r.isObject)(t)?((0,r.keysOf)(t).forEach((function(o){var n=t[o];if((0,r.isObject)(n)){var i=u(n);if(n!==i)return void(t[o]=i);e(n)}})),t):t};a._adjustTypesFromJSONValue=p,a.fromJSONValue=function(e){var t=u(e);return t===e&&(0,r.isObject)(e)&&(t=a.clone(e),p(t)),t},a.stringify=(0,r.handleError)((function(e,t){var o=a.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(o,t):JSON.stringify(o)})),a.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(e))},a.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},a.equals=function(e,t,o){var n,i=!(!o||!o.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,r.isObject)(e)||!(0,r.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(a.isBinary(e)&&a.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,r.isFunction)(e.equals))return e.equals(t,o);if((0,r.isFunction)(t.equals))return t.equals(e,o);var s,c=Array.isArray(e),l=Array.isArray(t);if(c!==l)return!1;if(c&&l){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!a.equals(e[n],t[n],o))return!1;return!0}switch(a._isCustomType(e)+a._isCustomType(t)){case 1:return!1;case 2:return a.equals(a.toJSONValue(e),a.toJSONValue(t))}var d=(0,r.keysOf)(e),u=(0,r.keysOf)(t);return i?(n=0,s=d.every((function(i){return!(n>=u.length||i!==u[n]||!a.equals(e[i],t[u[n]],o)||(n++,0))}))):(n=0,s=d.every((function(i){return!!(0,r.hasOwn)(t,i)&&!!a.equals(e[i],t[i],o)&&(n++,!0)}))),s&&n===u.length},a.clone=function(e){var t;if(!(0,r.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(a.isBinary(e)){t=a.newBinary(e.length);for(var o=0;o<e.length;o++)t[o]=e[o];return t}return Array.isArray(e)?e.map(a.clone):(0,r.isArguments)(e)?Array.from(e).map(a.clone):(0,r.isFunction)(e.clone)?e.clone():a._isCustomType(e)?a.fromJSONValue(a.clone(a.toJSONValue(e)),!0):(t={},(0,r.keysOf)(e).forEach((function(o){t[o]=a.clone(e[o])})),t)},a.newBinary=t.newBinary}(),e.exports=i.EJSON}()},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,o="~";function n(){}function i(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function r(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,r||e,a),c=o?o+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(o?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,a=new Array(r);i<r;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,r,a){var s=o?o+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,r),!0;case 6:return d.fn.call(d.context,t,n,i,r,a),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,b=d.length;for(l=0;l<b;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,i);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,o){return r(this,e,t,o,!1)},s.prototype.once=function(e,t,o){return r(this,e,t,o,!0)},s.prototype.removeListener=function(e,t,n,i){var r=o?o+e:e;if(!this._events[r])return this;if(!t)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[r]=1===l.length?l[0]:l:a(this,r)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,e.exports=s},2017:e=>{"use strict";e.exports=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var n,i,r;if(Array.isArray(t)){if((n=t.length)!=o.length)return!1;for(i=n;0!=i--;)if(!e(t[i],o[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,r[i]))return!1;for(i=n;0!=i--;){var a=r[i];if(!e(t[a],o[a]))return!1}return!0}return t!=t&&o!=o}},4865:e=>{"use strict";const t=(e,t,n,i)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const r=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!o(r,a)&&i||Object.defineProperty(e,n,a)},o=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),r=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,o,{ignoreNonConfigurable:a=!1}={})=>{const{name:s}=e;for(const n of Reflect.ownKeys(o))t(e,o,n,a);return((e,t)=>{const o=Object.getPrototypeOf(t);o!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,o)})(e,o),((e,t,o)=>{const a=""===o?"":`with ${o.trim()}() `,s=n.bind(null,a,t.toString());Object.defineProperty(s,"name",r),Object.defineProperty(e,"toString",{...i,value:s})})(e,o,s),e}},4617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},3290:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(6368),i=o(7685),r=o(4774),a=()=>{},s=new i.TimeoutError;t.default=class extends n{constructor(e){var t,o,n,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=a,this._resolveIdle=a,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:r.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(o=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==o?o:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=a,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=a,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((o,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const r=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(s)}));o(await r)}catch(e){n(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},9998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){let n=0,i=e.length;for(;i>0;){const r=i/2|0;let a=n+r;o(e[a],t)<=0?(n=++a,i-=r+1):i=r}return n}},4774:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(9998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const o={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(o);const i=n.default(this._queue,o,((e,t)=>t.priority-e.priority));this._queue.splice(i,0,o)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},6368:e=>{"use strict";var t=Object.prototype.hasOwnProperty,o="~";function n(){}function i(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function r(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,r||e,a),c=o?o+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(o?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,a=new Array(r);i<r;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,r,a){var s=o?o+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,r),!0;case 6:return d.fn.call(d.context,t,n,i,r,a),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,b=d.length;for(l=0;l<b;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,i);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,o){return r(this,e,t,o,!1)},s.prototype.once=function(e,t,o){return r(this,e,t,o,!0)},s.prototype.removeListener=function(e,t,n,i){var r=o?o+e:e;if(!this._events[r])return this;if(!t)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[r]=1===l.length?l[0]:l:a(this,r)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,e.exports=s},7685:(e,t,o)=>{"use strict";const n=o(4617);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const r=(e,t,o)=>new Promise(((r,a)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void r(e);const s=setTimeout((()=>{if("function"==typeof o){try{r(o())}catch(e){a(e)}return}const n=o instanceof Error?o:new i("string"==typeof o?o:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),a(n)}),t);n(e.then(r,a),(()=>{clearTimeout(s)}))}));e.exports=r,e.exports.default=r,e.exports.TimeoutError=i},181:e=>{"use strict";e.exports=require("buffer")},7194:e=>{"use strict";e.exports=require("dgram")},1943:e=>{"use strict";e.exports=require("fs/promises")},9278:e=>{"use strict";e.exports=require("net")},6928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4326:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(d)throw new Error("runEntrypoint can only be called once");if(d=!0,t||(t=[]),!Array.isArray(t))throw new Error("upgradeScripts must be an array");for(const e of t)if("function"!=typeof e)throw new Error("upgradeScripts must be an array of functions");const o=process.env.MODULE_MANIFEST;if(!o)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await r.default.readFile(o),u=JSON.parse(n.toString());if(u.runtime?.api!==i.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!u.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let p=u.runtime.apiVersion;if("0.0.0"===p)try{const e=await r.default.readFile(c.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(p=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const b=process.env.CONNECTION_ID;if("string"!=typeof b||!b)throw new Error("Module initialise is missing CONNECTION_ID");const y=process.env.VERIFICATION_TOKEN;if("string"!=typeof y||!y)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const m=new s.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{m.receivedMessage(e)})),l=new e((0,a.literal)({id:b,upgradeScripts:t,_isInstanceBaseProps:!0})),m.sendWithCb("register",{apiVersion:p,connectionId:b,verificationToken:y}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))};const n=o(1635),i=o(9967),r=n.__importDefault(o(1943)),a=o(360),s=o(4044),c=n.__importDefault(o(6928));let l,d=!1},6160:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var n=o(8895);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return n.TCPHelper}});var i=o(1118);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return i.TelnetHelper}});var r=o(6259);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return r.UDPHelper}})},8895:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=o(1635).__importDefault(o(9278)),i=o(228),r=o(1400);class a extends i.EventEmitter{#e;#t;_socket;#o;#n=!1;#i=!1;#r=!1;#a;#s;#c;get isConnected(){return this.#n}get isConnecting(){return this.#i}get isDestroyed(){return this.#r}constructor(e,t,o){super(),this.#e=e,this.#t=t,this.#o={reconnect_interval:2e3,reconnect:!0,...o},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#i=!1,this.#n=!1,this.#o.reconnect&&this.#l(),this.#d(r.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#n=!0,this.#i=!1,this.#d(r.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#n=!1,this.#d(r.InstanceStatus.Disconnected),!this.#i&&this.#o.reconnect&&this.#l(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>{this.#r||this.connect()})),this.#c=setTimeout((()=>{this.#c=void 0,this.#r||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#r)throw new Error("Cannot connect destroyed socket");return!this.#i&&(this.#i=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#r||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#n)return!1;try{return new Promise(((t,o)=>{this._socket.write(e,(e=>{e?o(e):t(!0)}))}))}catch(e){this.#n=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#d(r.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#r=!0,void 0!==this.#s&&(clearTimeout(this.#s),this.#s=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#l(){void 0!==this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>{this.#s=void 0,this.#d(r.InstanceStatus.Connecting),this.connect()}),this.#o.reconnect_interval)}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.TCPHelper=a},1118:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=o(1635).__importDefault(o(228)),i=o(2203),r=o(8895);class a extends n.default{#u;#p;#c;get isConnected(){return this.#u.isConnected}get isConnecting(){return this.#u.isConnecting}get isDestroyed(){return this.#u.isDestroyed}constructor(e,t,o){super(),this.#u=new r.TCPHelper(e,t,o),this.#p=new s,this.#u._socket.pipe(this.#p),this.#u.on("connect",(()=>this.emit("connect"))),this.#u.on("end",(()=>this.emit("end"))),this.#u.on("error",(e=>this.emit("error",e))),this.#u.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#p.on("iac",((e,t)=>this.emit("iac",e,t))),this.#p.on("sb",(e=>this.emit("sb",e))),this.#p.on("data",(e=>this.emit("data",e))),this.#p.on("drain",(()=>this.emit("drain"))),this.#c=setTimeout((()=>{this.#c=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#u.connect()}async send(e){return this.#u.send(e)}destroy(){this.#u.destroy(),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#p.removeAllListeners(),this.#p.destroy()}}t.TelnetHelper=a;class s extends i.Transform{#b;#y;#m;constructor(e){super(e),this.#b=Buffer.alloc(0),this.#y=Buffer.alloc(0),this.#m=0}_transform(e,t,o){for(let t=0;t<e.length;++t)this.#f(e[t]);const n=this.#S();n.length&&this.push(n),o()}#f(e){if(0===this.#m){if(255===e)return void(this.#m=255);this.#b=Buffer.concat([this.#b,Buffer.from([e])])}else if(255===this.#m)switch(e){case 250:case 251:case 252:case 253:case 254:this.#m=e;break;default:this.#m=0}else{if(this.#m>=251&&this.#m<=254){let t;switch(this.#m){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#m=0)}if(250===this.#m){if(240===e)return this.emit("sb",this.#y),this.#m=0,void(this.#y=Buffer.alloc(0));this.#y=Buffer.concat([this.#y,Buffer.from([e])])}}}#S(){const e=this.#b;return this.#b=Buffer.alloc(0),e}}},6259:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=o(1635).__importDefault(o(7194)),i=o(228),r=o(1400);class a extends i.EventEmitter{#e;#t;#h;#o;#r=!1;#a;#c;get isDestroyed(){return this.#r}constructor(e,t,o){super(),this.#e=e,this.#t=t,this.#o={...o},this.#h=n.default.createSocket("udp4");try{this.#h.bind(this.#o.bind_port||0,this.#o.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#o.bind_ip||"0.0.0.0"}:${this.#o.bind_port||0}`)}void 0!==this.#o.ttl&&this.#h.setTTL(this.#o.ttl),void 0!==this.#o.multicast_ttl&&this.#h.setMulticastTTL(this.#o.multicast_ttl),this.#h.on("error",(e=>{this.#d(r.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#h.on("listening",(()=>{this.#o.broadcast&&this.#h.setBroadcast(!0),this.#o.multicast_interface&&this.#h.setMulticastInterface(this.#o.multicast_interface),this.#d(r.InstanceStatus.Ok),this.emit("listening")})),this.#h.on("message",((e,t)=>this.emit("data",e,t))),this.#c=setTimeout((()=>{this.#r||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#r)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,o)=>{this.#h.send(e,this.#t,this.#e,(e=>{e?o(e):t()}))}))}destroy(){this.#r=!0,void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#h.removeAllListeners(),this.#h.close(),this.removeAllListeners()}#d(e,t){this.#a!=e&&(this.#a=e,this.emit("status_change",e,t))}}t.UDPHelper=a},4044:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=o(1635),i=o(360),r=n.__importDefault(o(6022));t.IpcWrapper=class{#g;#I;#A;#k=1;#v=new Map;constructor(e,t,o){this.#g=e,this.#I=t,this.#A=o}async sendWithCb(e,t,o,n=0){n<=0&&(n=this.#A);const i={timeout:void 0,resolve:()=>null,reject:()=>null},a=new Promise(((e,t)=>{i.resolve=e,i.reject=t}));this.#k>268435456&&(this.#k=1);const s=this.#k++;this.#v.set(s,i),this.#I({direction:"call",name:String(e),payload:r.default.stringify(t),callbackId:s});const c=new Error("Call timed out");return i.timeout=setTimeout((()=>{i.reject(o?o():c),this.#v.delete(s)}),n),a}sendWithNoCb(e,t){this.#I({direction:"call",name:String(e),payload:r.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#g[e.name];if(!t)return void(e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:r.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?r.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!0,payload:r.default.stringify(t)})}),(t=>{e.callbackId&&this.#I({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):r.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#v.get(e.callbackId);if(this.#v.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const o=e.payload?r.default.parse(e.payload):void 0;if(e.success)t.resolve(o);else{let e=o;o&&"object"==typeof o&&"message"in o&&(e=new Error(o.message),o.stack&&(e.stack=o.stack)),t.reject(e)}break}default:(0,i.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},9967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},6278:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const n=o(1635);n.__exportStar(o(9077),t),n.__exportStar(o(2018),t),n.__exportStar(o(4581),t);var i=o(360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return i.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return i.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return i.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return i.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return i.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return i.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return i.assertNever}}),n.__exportStar(o(6160),t);var r=o(4326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return r.runEntrypoint}})},4289:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=o(2593);function i(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#P;#w;#C;#R=new Map;#M=new Map;constructor(e,t,o){this.#P=e,this.#w=t,this.#C=o}async handleExecuteAction(e){const t=this.#R.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},o)}handleUpdateActions(e){for(const[t,o]of Object.entries(e)){const e=this.#M.get(t);if(e){const t=this.#R.get(e.actionId);if(t?.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(i(e),o)).catch((t=>{this.#C("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!o||o.disabled)this.#M.delete(t);else{this.#M.set(t,o);const e=this.#R.get(o.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#P({text:e,controlId:o.controlId,actionInstanceId:o.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(i(o),t)).catch((e=>{this.#C("error",`Action subscribe failed: ${JSON.stringify(o)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#R.get(e.action.actionId);if(t&&t.learn){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},o)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#R.clear();for(const[o,i]of Object.entries(e))i&&(t.push({id:o,name:i.name,description:i.description,options:(0,n.serializeIsVisibleFn)(i.options),hasLearn:!!i.learn,learnTimeout:i.learnTimeout}),this.#R.set(o,i));this.#w({actions:t})}_getAllActions(){return Array.from(this.#M.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#M.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.actionId))));for(const e of t){const t=this.#R.get(e.actionId);if(t?.subscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(i(e),o)).catch((t=>{this.#C("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#M.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.actionId))));for(const e of t){const t=this.#R.get(e.actionId);if(t&&t.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(i(e),o)).catch((t=>{this.#C("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},2593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},8039:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=o(1635),i=o(2593),r=n.__importDefault(o(7e3));function a(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#P;#T;#O;#C;#K=new Map;#E=new Map;#_=new Map;#N=new Map;#F;get parseVariablesContext(){return this.#F}constructor(e,t,o,n){this.#P=e,this.#T=t,this.#O=o,this.#C=n}getDefinitionIds(){return Array.from(this.#K.keys())}getInstanceIds(){return Array.from(this.#E.keys())}handleUpdateFeedbacks(e){for(const[t,o]of Object.entries(e)){const e=this.#E.get(t);if(e){const t=this.#K.get(e.feedbackId);if(t?.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(a(t.type,e),o)).catch((t=>{this.#C("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!o||o.disabled)this.#E.delete(t);else{this.#E.set(t,{...o,referencedVariables:null});const e=this.#K.get(o.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#P({text:e,controlId:o.controlId,actionInstanceId:void 0,feedbackInstanceId:o.id})).text};Promise.resolve(e.subscribe(a(e.type,o),t)).catch((e=>{this.#C("error",`Feedback subscribe failed: ${JSON.stringify(o)} - ${e?.message??e} ${e?.stack}`)}))}this.#x(t)}}}async handleLearnFeedback(e){const t=this.#K.get(e.feedback.feedbackId);if(t&&t.learn){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},o)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#N.values())for(const o of e.variablesIds)t.changedVariables.add(o);const o=new Set;for(const e of this.#E.values())if(!this.#N.has(e.id)&&e.referencedVariables)for(const n of e.referencedVariables)if(t.has(n)){o.add(e.id);break}for(const e of o)setImmediate((()=>{this.#x(e)}))}#x(e){const t=this.#N.get(e);if(t)return void(t.needsRecheck=!0);const o=this.#E.get(e);if(!o)return;const n=o,i={needsRecheck:!1,changedVariables:new Set};this.#N.set(e,i),Promise.resolve().then((async()=>{const t=this.#K.get(n.feedbackId);let o;const i=new Set;if(t){this.#F=`Feedback ${n.feedbackId} (${e})`;const r={parseVariablesInString:async t=>{const o=await this.#P({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(o.variableIds&&o.variableIds.length)for(const e of o.variableIds)i.add(e);return o.text}};o="boolean"===t.type?t.callback({...a("boolean",n),type:"boolean"},r):t.callback({...a("advanced",n),type:"advanced",image:n.image},r),this.#F=void 0}const r=await o;this.#_.set(e,{id:e,controlId:n.controlId,value:r}),this.#B(),n.referencedVariables=i.size>0?Array.from(i):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#F=void 0,this.#N.delete(e);let t=!1;if(n.referencedVariables)for(const e of n.referencedVariables)if(i.changedVariables.has(e)){t=!0;break}(t||i.needsRecheck)&&setImmediate((()=>{this.#x(e)}))}))}#B=(0,r.default)((()=>{const e=this.#_;this.#_=new Map,e.size>0&&this.#T({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#K.clear();for(const[o,n]of Object.entries(e))n&&(t.push({id:o,name:n.name,description:n.description,options:(0,i.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"boolean"===n.type?n.defaultStyle:void 0,hasLearn:!!n.learn,learnTimeout:n.learnTimeout,showInvert:"boolean"===n.type&&n.showInvert}),this.#K.set(o,n));this.#O({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,o]of this.#E.entries())this.#K.get(o.feedbackId)&&(0===t.size||t.has(o.feedbackId))&&this.#x(e)}checkFeedbacksById(e){for(const t of e)this.#x(t)}_getAllFeedbacks(){return Array.from(this.#E.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#E.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.feedbackId))));for(const e of t){const t=this.#K.get(e.feedbackId);if(t?.subscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(a(t.type,e),o)).catch((t=>{this.#C("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#E.values());const o=new Set(e);o.size&&(t=t.filter((e=>o.has(e.feedbackId))));for(const e of t){const t=this.#K.get(e.feedbackId);if(t&&t.unsubscribe){const o={parseVariablesInString:async t=>(await this.#P({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(a(t.type,e),o)).catch((t=>{this.#C("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},1706:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=function(e,t,o,r,a,s){const c=new Map,l=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??o;t&&"number"==typeof e&&l(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??o;e&&"number"==typeof t&&l(t).feedbacks.push(e.id)}if(!s)for(let e=o??-1;e<r.length;e++)l(e).config=!0;const d={},u={};let p;if(c.size>0){const s=Array.from(c.keys()).sort(),l=Math.min(...s,o??-1)+1,b=[],y=[],m=r.length;for(let o=l;o<m;o++){const s=c.get(o-1);s&&(b.push(...s.actions),y.push(...s.feedbacks));const l=!!s?.config;if(!l&&0===b.length&&0===y.length)continue;const m=p??a,f=(0,r[o])({currentConfig:i(m)},{config:l?m:null,actions:b.map((t=>{const o=e[t];if(o)return(0,n.literal)({id:o.id,controlId:o.controlId,actionId:o.actionId,options:void 0!==o.options?i(o.options):{}})})).filter((e=>!!e)),feedbacks:y.map((e=>{const o=t[e];if(o)return(0,n.literal)({id:o.id,controlId:o.controlId,feedbackId:o.feedbackId,options:void 0!==o.options?i(o.options):{},isInverted:o.isInverted})})).filter((e=>!!e))});l&&f.updatedConfig&&(p=f.updatedConfig);for(const t of f.updatedActions)if(t){const o=e[t.id];o&&(o.actionId=t.actionId,o.options=t.options,u[t.id]=o)}for(const e of f.updatedFeedbacks)if(e){const o=t[e.id];o&&(o.feedbackId=e.feedbackId,o.options=e.options,d[e.id]={...o,style:d[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,o]of Object.entries(e))u[t]||"number"!=typeof o?.upgradeIndex||(u[t]=o);for(const[e,o]of Object.entries(t))d[e]||"number"!=typeof o?.upgradeIndex||(d[e]=o)}return{updatedActions:u,updatedFeedbacks:d,updatedConfig:p}};const n=o(360);function i(e){return JSON.parse(JSON.stringify(e))}},9077:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=function(e){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'");if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}};const n=o(1635).__importDefault(o(7281))},3730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1649:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=o(1635),i=o(360),r=n.__importDefault(o(3290)),a=o(2593),s=o(1706),c=o(8039),l=o(4044),d=o(4289),u=o(2365);t.InstanceBase=class{#D;#V;id;#j=new r.default({concurrency:1});#q=!1;#L=!1;#U={};#z;#G;#H=new Map;#W=new Map;#Q=new Map;#o;#Y;get instanceOptions(){return this.#o}get label(){return this.#Y}constructor(e){if(!(0,a.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#o={disableVariableValidation:!1},this.#D=new l.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#D.receivedMessage(e)})),this.#z=new d.ActionManager((async e=>this.#D.sendWithCb("parseVariablesInString",e)),(e=>this.#D.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#G=new c.FeedbackManager((async e=>this.#D.sendWithCb("parseVariablesInString",e)),(e=>this.#D.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#D.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#V=e.upgradeScripts,this.id=e.id,this.#Y=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#j.add((async()=>{if(this.#q)throw new Error("Already initialized");const t=e.actions,o=e.feedbacks;if(this.#U=e.config,this.#Y=e.label,e.isFirstInit){const t={},o=this.getConfigFields();for(const e of o)"default"in e&&(t[e.id]=e.default);this.#U=t,this.saveConfig(this.#U),e.lastUpgradeIndex=this.#V.length-1}const{updatedActions:n,updatedFeedbacks:i,updatedConfig:r}=(0,s.runThroughUpgradeScripts)(t,o,e.lastUpgradeIndex,this.#V,this.#U,!1);this.#U=r??this.#U;const a=this.#D.sendWithCb("upgradedItems",{updatedActions:n,updatedFeedbacks:i});try{await this.init(this.#U,!!e.isFirstInit),this.#q=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await a}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:o},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#V.length-1,updatedConfig:this.#U}}))}async _handleDestroy(){await this.#j.add((async()=>{if(!this.#q)throw new Error("Not initialized");await this.destroy(),this.#q=!1}))}async _handleConfigUpdateAndLabel(e){await this.#j.add((async()=>{if(!this.#q)throw new Error("Not initialized");this.#Y=e.label,this.#U=e.config,await this.configUpdated(this.#U)}))}async _handleExecuteAction(e){return this.#z.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)({},e.feedbacks,null,this.#V,this.#U,!0);this.#D.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#G.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)(e.actions,{},null,this.#V,this.#U,!0);this.#D.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#z.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,a.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#z.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#G.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#L)return}else if(!this.#L)return;if(!this.handleStartStopRecordActions)throw this.#L=!1,new Error("Recording actions is not supported by this module!");this.#L=e.recording,this.handleStartStopRecordActions(this.#L)}async _handleVariablesChanged(e){this.#G.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#H.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#H.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#U=e,this.#D.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#z.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#G.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[o,n]of Object.entries(e))n&&t.push({...n,id:o});this.#D.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],o=[];this.#W.clear();for(const n of e)t.push({id:n.variableId,name:n.name}),this.#W.set(n.variableId,n),this.#Q.has(n.variableId)||(this.#Q.set(n.variableId,""),o.push({id:n.variableId,value:""}));if(!this.#o.disableVariableValidation){const e=new Set(this.#W.keys());for(const t of this.#Q.keys())e.has(t)||(this.#Q.delete(t),o.push({id:t,value:void 0}))}this.#D.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:o})}setVariableValues(e){const t=[];for(const[o,n]of Object.entries(e))this.#o.disableVariableValidation?(void 0===n?this.#Q.delete(o):this.#Q.set(o,n),t.push({id:o,value:n})):this.#W.has(o)?(this.#Q.set(o,n??""),t.push({id:o,value:n??""})):t.push({id:o,value:void 0});this.#D.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#Q.get(e)}async parseVariablesInString(e){const t=this.#G.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#D.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#G.checkFeedbacks(e)}checkFeedbacksById(...e){this.#G.checkFeedbacksById(e)}_getAllActions(){return this.#z._getAllActions()}subscribeActions(...e){this.#z.subscribeActions(e)}unsubscribeActions(...e){this.#z.unsubscribeActions(e)}_getAllFeedbacks(){return this.#G._getAllFeedbacks()}subscribeFeedbacks(...e){this.#G.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#G.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#L)throw new Error("Not currently recording actions");this.#D.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}setCustomVariableValue(e,t){this.#D.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,o,n){this.#D.sendWithNoCb("send-osc",(0,i.literal)({host:e,port:t,path:o,args:n}))}updateStatus(e,t){this.#D.sendWithNoCb("set-status",(0,i.literal)({status:e,message:t??null}))}log(e,t){this.#D.sendWithNoCb("log-message",(0,i.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const o="string"==typeof e?{type:e}:e,n=new u.SharedUdpSocketImpl(this.#D,this.#H,o);return t&&n.on("message",t),n}}},7386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1400:(e,t)=>{"use strict";var o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning",e.AuthenticationFailure="authentication_failure"}(o||(t.InstanceStatus=o={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(n||(t.Regex=n={}))},8983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2018:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(1635);n.__exportStar(o(3730),t),n.__exportStar(o(1649),t),n.__exportStar(o(7386),t),n.__exportStar(o(1400),t),n.__exportStar(o(8983),t),n.__exportStar(o(8104),t),n.__exportStar(o(3258),t),n.__exportStar(o(131),t),n.__exportStar(o(3371),t),n.__exportStar(o(9786),t),n.__exportStar(o(6132),t)},3258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2365:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const n=o(1635).__importDefault(o(228)),i=o(360);class r extends n.default{#D;#X;#o;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#m&&"object"==typeof this.#m?this.#m:void 0}#m="pending";constructor(e,t,o){super(),this.#D=e,this.#X=t,this.#o={...o}}bind(e,t,o){if(this.#m&&"object"==typeof this.#m)throw new Error("Socket is already bound");switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,i.assertNever)(this.#m),new Error("Invalid socket state")}this.#m="binding",o&&this.on("listening",o),this.#D.sendWithCb("sharedUdpSocketJoin",{family:this.#o.type,portNumber:e}).then((t=>{this.#m={portNumber:e,handleId:t},this.#X.set(t,this),this.emit("listening")}),(e=>{this.#m="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#m&&"object"==typeof this.#m);else switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,i.assertNever)(this.#m),new Error("Invalid socket state")}const t=this.#m.handleId;this.#m="closed",e&&this.on("close",e),this.#D.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#X.delete(t),this.emit("close")}),(e=>{this.#X.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,o,n,i,r){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof o){if("number"!=typeof n||"string"!=typeof i)throw new Error("Invalid arguments");if(void 0!==r&&"number"!=typeof r)throw new Error("Invalid arguments");const a=this.#J(e,t,o);this.#Z(a,n,i,r)}else{if("string"!=typeof o)throw new Error("Invalid arguments");{if(void 0!==n&&"function"!=typeof n)throw new Error("Invalid arguments");const i=this.#J(e,0,void 0);this.#Z(i,t,o,n)}}}#J(e,t,o){let n;if("string"==typeof e)n=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))n=e;else{if(Array.isArray(e))return Buffer.from(e);n=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return n.subarray(t,void 0!==o?o+t:void 0)}#Z(e,t,o,n){if(!this.#m||"object"!=typeof this.#m)throw new Error("Socket is not open");this.#D.sendWithCb("sharedUdpSocketSend",{handleId:this.#m.handleId,message:e,address:o,port:t}).then((()=>{n?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#m="fatalError";const t=this.boundState;t&&this.#X.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=r},3371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyUpgradeScript=void 0,t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,o)=>{const n=[];for(const t of o.feedbacks){let o=e[t.feedbackId];if(!0===o&&(o={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),o){t.style||(t.style={});for(const[e,i]of Object.entries(o))void 0!==t.options[e]&&(t.style[i]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,o)=>{const n=[];for(const t of o.feedbacks){const o=e[t.feedbackId];if("string"!=typeof o)continue;const i=t.options[o];void 0!==i&&(delete t.options[o],t.isInverted="true"===i||!0===i||Number(i)>0,n.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}},t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]})},6132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},360:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,o,n){let i=(255&e)<<16|(255&t)<<8|255&o;return n&&n>=0&&n<1&&(i+=16777216*Math.round(255*(1-n))),i},t.splitRgb=i,t.splitHsl=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()};const n=o(6284);function i(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,n.colord)(e).isValid()){const t=(0,n.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}},7281:(e,t,o)=>{"use strict";e.exports=c,e.exports.default=c;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18 or node22",enum:["node18","node22"]},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{oneOf:[{$ref:"#/definitions/bonjourQuery"},{type:"array",items:{$ref:"#/definitions/bonjourQuery"}}]}},additionalProperties:!1}},additionalProperties:!1,required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"],definitions:{bonjourQuery:{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1}}},i={type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1},r=Object.prototype.hasOwnProperty,a=o(7169).A,s=new RegExp("","u");function c(e,{instancePath:t="",parentData:o,parentDataProperty:l,rootData:d=e}={}){let u=null,p=0;if(0===p){if(!e||"object"!=typeof e||Array.isArray(e))return c.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let o;if(void 0===e.id&&(o="id")||void 0===e.name&&(o="name")||void 0===e.shortname&&(o="shortname")||void 0===e.description&&(o="description")||void 0===e.version&&(o="version")||void 0===e.license&&(o="license")||void 0===e.repository&&(o="repository")||void 0===e.bugs&&(o="bugs")||void 0===e.maintainers&&(o="maintainers")||void 0===e.legacyIds&&(o="legacyIds")||void 0===e.runtime&&(o="runtime")||void 0===e.manufacturer&&(o="manufacturer")||void 0===e.products&&(o="products")||void 0===e.keywords&&(o="keywords"))return c.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"}],!1;{const o=p;for(const o in e)if(!r.call(n.properties,o))return c.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"}],!1;if(o===p){if(void 0!==e.$schema){const o=p;if("string"!=typeof e.$schema)return c.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=o===p}else b=!0;if(b){if(void 0!==e.id){const o=p;if("string"!=typeof e.id)return c.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.name){const o=p;if("string"!=typeof e.name)return c.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.shortname){const o=p;if("string"!=typeof e.shortname)return c.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.description){const o=p;if("string"!=typeof e.description)return c.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.version){const o=p;if("string"!=typeof e.version)return c.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.license){const o=p;if("string"!=typeof e.license)return c.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.repository){const o=p;if("string"!=typeof e.repository)return c.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.bugs){const o=p;if("string"!=typeof e.bugs)return c.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.maintainers){let o=e.maintainers;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var y=!0;const e=o.length;for(let n=0;n<e;n++){let e=o[n];const i=p;if(p===i){if(!e||"object"!=typeof e||Array.isArray(e))return c.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let o;if(void 0===e.name&&(o="name"))return c.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"}],!1;if(void 0!==e.name){const o=p;if("string"!=typeof e.name)return c.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=o===p}else m=!0;if(m){if(void 0!==e.email){const o=p;if("string"!=typeof e.email)return c.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=o===p}else m=!0;if(m)if(void 0!==e.github){const o=p;if("string"!=typeof e.github)return c.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=o===p}else m=!0}}}if(!(y=i===p))break}if(y){let e,n=o.length;if(n>1)for(;n--;)for(e=n;e--;)if(a(o[n],o[e]))return c.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}b=n===p}else b=!0;if(b){if(void 0!==e.legacyIds){let o=e.legacyIds;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var f=!0;const e=o.length;for(let n=0;n<e;n++){const e=p;if("string"!=typeof o[n])return c.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(f=e===p))break}if(f){let e,n=o.length;if(n>1){const i={};for(;n--;){let r=o[n];if("string"==typeof r){if("number"==typeof i[r])return e=i[r],c.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[r]=n}}}}}}b=n===p}else b=!0;if(b){if(void 0!==e.runtime){let o=e.runtime;const i=p;if(p===i){if(!o||"object"!=typeof o||Array.isArray(o))return c.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===o.type&&(e="type")||void 0===o.api&&(e="api")||void 0===o.apiVersion&&(e="apiVersion")||void 0===o.entrypoint&&(e="entrypoint"))return c.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==o.type){let e=o.type;const i=p;if("string"!=typeof e)return c.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("node18"!==e&&"node22"!==e)return c.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var S=i===p}else S=!0;if(S){if(void 0!==o.api){let e=o.api;const i=p;if("string"!=typeof e)return c.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return c.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;S=i===p}else S=!0;if(S){if(void 0!==o.apiVersion){const e=p;if("string"!=typeof o.apiVersion)return c.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S=e===p}else S=!0;if(S)if(void 0!==o.entrypoint){const e=p;if("string"!=typeof o.entrypoint)return c.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S=e===p}else S=!0}}}}b=i===p}else b=!0;if(b){if(void 0!==e.manufacturer){const o=p;if("string"!=typeof e.manufacturer)return c.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=o===p}else b=!0;if(b){if(void 0!==e.products){let o=e.products;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(o.length<1)return c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var h=!0;const e=o.length;for(let n=0;n<e;n++){const e=p;if("string"!=typeof o[n])return c.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=e===p))break}if(h){let e,n=o.length;if(n>1){const i={};for(;n--;){let r=o[n];if("string"==typeof r){if("number"==typeof i[r])return e=i[r],c.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[r]=n}}}}}}b=n===p}else b=!0;if(b){if(void 0!==e.keywords){let o=e.keywords;const n=p;if(p===n){if(!Array.isArray(o))return c.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var g=!0;const e=o.length;for(let n=0;n<e;n++){const e=p;if("string"!=typeof o[n])return c.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(g=e===p))break}if(g){let e,n=o.length;if(n>1){const i={};for(;n--;){let r=o[n];if("string"==typeof r){if("number"==typeof i[r])return e=i[r],c.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[r]=n}}}}}}b=n===p}else b=!0;if(b)if(void 0!==e.bonjourQueries){let o=e.bonjourQueries;const n=p;if(p===n){if(!o||"object"!=typeof o||Array.isArray(o))return c.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=p;for(const e in o)if(!s.test(e))return c.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===p)for(const e in o)if(s.test(e)){let n=o[e];const r=p,a=p;let l=!1,d=null;const b=p;if(p==p)if(n&&"object"==typeof n&&!Array.isArray(n)){let o;if(void 0===n.type&&(o="type")||void 0===n.protocol&&(o="protocol")){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:o},message:"must have required property '"+o+"'"};null===u?u=[n]:u.push(n),p++}else{const o=p;for(const o in n)if("type"!==o&&"protocol"!==o&&"txt"!==o){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"};null===u?u=[n]:u.push(n),p++;break}if(o===p){if(void 0!==n.type){const o=p;if("string"!=typeof n.type){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}var I=o===p}else I=!0;if(I){if(void 0!==n.protocol){let o=n.protocol;const r=p;if("string"!=typeof o){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}if("tcp"!==o&&"udp"!==o){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:i.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===u?u=[o]:u.push(o),p++}I=r===p}else I=!0;if(I)if(void 0!==n.txt){let o=n.txt;const i=p;if(p===i)if(o&&"object"==typeof o&&!Array.isArray(o)){const n=p;for(const n in o)if(!s.test(n)){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===u?u=[o]:u.push(o),p++;break}if(n===p)for(const n in o)if(s.test(n)){const i=p;if("string"!=typeof o[n]){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}if(i!==p)break}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}I=i===p}else I=!0}}}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}b===p&&(l=!0,d=0);const y=p;if(p===y)if(Array.isArray(n)){const o=n.length;for(let r=0;r<o;r++){let o=n[r];const a=p;if(p==p)if(o&&"object"==typeof o&&!Array.isArray(o)){let n;if(void 0===o.type&&(n="type")||void 0===o.protocol&&(n="protocol")){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r,schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"};null===u?u=[o]:u.push(o),p++}else{const n=p;for(const n in o)if("type"!==n&&"protocol"!==n&&"txt"!==n){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r,schemaPath:"#/definitions/bonjourQuery/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===u?u=[o]:u.push(o),p++;break}if(n===p){if(void 0!==o.type){const n=p;if("string"!=typeof o.type){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}var A=n===p}else A=!0;if(A){if(void 0!==o.protocol){let n=o.protocol;const a=p;if("string"!=typeof n){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[o]:u.push(o),p++}if("tcp"!==n&&"udp"!==n){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:i.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===u?u=[o]:u.push(o),p++}A=a===p}else A=!0;if(A)if(void 0!==o.txt){let n=o.txt;const i=p;if(p===i)if(n&&"object"==typeof n&&!Array.isArray(n)){const o=p;for(const o in n)if(!s.test(o)){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"};null===u?u=[n]:u.push(n),p++;break}if(o===p)for(const o in n)if(s.test(o)){const i=p;if("string"!=typeof n[o]){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r+"/txt/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[n]:u.push(n),p++}if(i!==p)break}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}A=i===p}else A=!0}}}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+r,schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[o]:u.push(o),p++}if(a!==p)break}}else{const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===u?u=[o]:u.push(o),p++}var k;if((k=y===p)&&l?(l=!1,d=[d,1]):k&&(l=!0,d=1),!l){const o={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return null===u?u=[o]:u.push(o),p++,c.errors=u,!1}if(p=a,null!==u&&(a?u.length=a:u=null),r!==p)break}}}b=n===p}else b=!0}}}}}}}}}}}}}}}}}}return c.errors=u,0===p}},7e3:(e,t,o)=>{"use strict";const n=o(4865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:o=0,maxWait:i=0,before:r=!1,after:a=!0}=t;if(!r&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,c,l;const d=function(...t){const n=this,d=r&&!s;return clearTimeout(s),s=setTimeout((()=>{s=void 0,c&&(clearTimeout(c),c=void 0),a&&(l=e.apply(n,t))}),o),i>0&&!c&&a&&(c=setTimeout((()=>{c=void 0,s&&(clearTimeout(s),s=void 0),l=e.apply(n,t)}),i)),d&&(l=e.apply(n,t)),l};return n(d,e),d.cancel=()=>{s&&(clearTimeout(s),s=void 0),c&&(clearTimeout(c),c=void 0)},d}},2096:(e,t,o)=>{const n=o(918).default;e.exports=n,e.exports.default=n},484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),t.default=(e,t)=>{let n=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++)n=65535&(o[255&(n^e[t])]^n>>8);return n}},918:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(o(484)),r=n(o(7327));t.default=(0,r.default)("crc-16-modbus",i.default)},4422:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(181);t.default=(e,t)=>n.Buffer.from(e,t)},7327:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(o(4422));t.default=function(e,t){const o=(e,o)=>t((0,i.default)(e),o)>>>0;return o.signed=(e,o)=>t((0,i.default)(e),o),o.unsigned=o,o.model=e,o}},1635:(e,t,o)=>{"use strict";o.r(t),o.d(t,{__addDisposableResource:()=>F,__assign:()=>r,__asyncDelegator:()=>w,__asyncGenerator:()=>P,__asyncValues:()=>C,__await:()=>v,__awaiter:()=>y,__classPrivateFieldGet:()=>E,__classPrivateFieldIn:()=>N,__classPrivateFieldSet:()=>_,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>B,__esDecorate:()=>l,__exportStar:()=>S,__extends:()=>i,__generator:()=>m,__importDefault:()=>K,__importStar:()=>O,__makeTemplateObject:()=>R,__metadata:()=>b,__param:()=>c,__propKey:()=>u,__read:()=>g,__rest:()=>a,__rewriteRelativeImportExtension:()=>D,__runInitializers:()=>d,__setFunctionName:()=>p,__spread:()=>I,__spreadArray:()=>k,__spreadArrays:()=>A,__values:()=>h,default:()=>V});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var r=function(){return r=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function a(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}function s(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function c(e,t){return function(o,n){t(o,n,e)}}function l(e,t,o,n,i,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p=!1,b=o.length-1;b>=0;b--){var y={};for(var m in n)y[m]="access"===m?{}:n[m];for(var m in n.access)y.access[m]=n.access[m];y.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var f=(0,o[b])("accessor"===c?{get:u.get,set:u.set}:u[l],y);if("accessor"===c){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(s=a(f.get))&&(u.get=s),(s=a(f.set))&&(u.set=s),(s=a(f.init))&&i.unshift(s)}else(s=a(f))&&("field"===c?i.unshift(s):u[l]=s)}d&&Object.defineProperty(d,n.name,u),p=!0}function d(e,t,o){for(var n=arguments.length>2,i=0;i<t.length;i++)o=n?t[i].call(e,o):t[i].call(e);return n?o:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,o){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:o?"".concat(o," ",t):t})}function b(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function y(e,t,o,n){return new(o||(o=Promise))((function(i,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function m(e,t){var o,n,i,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(o=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,n=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(6===s[0]&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],n=0}finally{o=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var f=Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]};function S(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||f(t,e,o)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],n=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,i,r=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return a}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function A(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,i++)n[i]=r[a];return n}function k(e,t,o){if(o||2===arguments.length)for(var n,i=0,r=t.length;i<r;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function P(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=o.apply(e,t||[]),r=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){i[e]&&(n[e]=function(t){return new Promise((function(o,n){r.push([e,t,o,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{(o=i[e](t)).value instanceof v?Promise.resolve(o.value.v).then(c,l):d(r[0][2],o)}catch(e){d(r[0][3],e)}var o}function c(e){s("next",e)}function l(e){s("throw",e)}function d(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function w(e){var t,o;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(o=!o)?{value:v(e[n](t)),done:!1}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(t){return new Promise((function(n,i){!function(e,t,o,n){Promise.resolve(n).then((function(t){e({value:t,done:o})}),t)}(n,i,(t=e[o](t)).done,t.value)}))}}}function R(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var M=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},T=function(e){return T=Object.getOwnPropertyNames||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[t.length]=o);return t},T(e)};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=T(e),n=0;n<o.length;n++)"default"!==o[n]&&f(t,e,o[n]);return M(t,e),t}function K(e){return e&&e.__esModule?e:{default:e}}function E(e,t,o,n){if("a"===o&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?n:"a"===o?n.call(e):n?n.value:t.get(e)}function _(e,t,o,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,o):i?i.value=o:t.set(e,o),o}function N(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function F(e,t,o){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],o&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:o})}else o&&e.stack.push({async:!0});return t}var x="function"==typeof SuppressedError?SuppressedError:function(e,t,o){var n=new Error(o);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function B(e){function t(t){e.error=e.hasError?new x(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var o,n=0;return function i(){for(;o=e.stack.pop();)try{if(!o.async&&1===n)return n=0,e.stack.push(o),Promise.resolve().then(i);if(o.dispose){var r=o.dispose.call(o.value);if(o.async)return n|=2,Promise.resolve(r).then(i,(function(e){return t(e),i()}))}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function D(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,o,n,i,r){return o?t?".jsx":".js":!n||i&&r?n+i+"."+r.toLowerCase()+"js":e})):e}const V={__extends:i,__assign:r,__rest:a,__decorate:s,__param:c,__esDecorate:l,__runInitializers:d,__propKey:u,__setFunctionName:p,__metadata:b,__awaiter:y,__generator:m,__createBinding:f,__exportStar:S,__values:h,__read:g,__spread:I,__spreadArrays:A,__spreadArray:k,__await:v,__asyncGenerator:P,__asyncDelegator:w,__asyncValues:C,__makeTemplateObject:R,__importStar:O,__importDefault:K,__classPrivateFieldGet:E,__classPrivateFieldSet:_,__classPrivateFieldIn:N,__addDisposableResource:F,__disposeResources:B,__rewriteRelativeImportExtension:D}}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=o(6278),t=o(7206),n=o(3062),i=o(701),r=o(8991),a=o(2398);class s extends e.InstanceBase{config;gostream;states;model;async init(t){this.config=t,this.model=new r.GoStreamDuet,this.log("debug","Initializing module"),this.updateStatus(e.InstanceStatus.Disconnected),this.saveConfig(this.config),this.gostream=new n.GoStream(this),this.initConnection(),this.init_variables(),this.init_actions(),this.init_feedbacks(),this.init_presets(),this.checkFeedbacks()}async destroy(){this.gostream.disconnectSocket(),this.updateStatus(e.InstanceStatus.Disconnected),this.log("debug","destroy "+this.id)}getConfigFields(){return(0,t.GetConfigFields)()}async configUpdated(t){this.config=t,this.gostream.disconnectSocket(),this.updateStatus(e.InstanceStatus.Disconnected),this.gostream=new n.GoStream(this),this.initConnection(),this.init_variables(),this.init_actions(),this.init_feedbacks(),this.init_presets(),this.checkFeedbacks()}initConnection(){this.log("debug","Initializing connection"),this.gostream.connect()}init_variables(){this.log("debug","Initializing variables"),this.setVariableDefinitions(this.gostream.getVariables(this))}init_actions(){this.log("debug","Initializing actions"),this.setActionDefinitions((0,i.GetActionsList)(this))}init_feedbacks(){this.log("debug","Initializing feedbacks"),this.setFeedbackDefinitions(this.gostream.getFeedbacks(this))}init_presets(){this.log("debug","Initializing presets"),this.setPresetDefinitions(this.gostream.getPresets(this))}}(0,e.runEntrypoint)(s,[...a.UpgradeScriptList])})()})();