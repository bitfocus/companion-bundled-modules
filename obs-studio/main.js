(()=>{var e,t,n,r={35660:(e,t,n)=>{"use strict";const r=n(72144);r.code='require("ajv/dist/runtime/equal").default',t.c=r},81276:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var r=n(58988),o=function(){function e(){}return e.prototype.active=function(){return r.Y},e.prototype.with=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),s=n(71396),i=n(64324),a="context",c=new o,u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,s.UJ)(a,e,i.o.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,s.Ad)(a)||c},e.prototype.disable=function(){this._getContextManager().disable(),(0,s.mY)(a,i.o.instance())},e}()},64324:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(71396),o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("verbose",this._namespace,e)},e}();function s(e,t,n){var o=(0,r.Ad)("diag");if(o)return n.unshift(t),o[e].apply(o,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(n),!1))}var i=n(43e3),a=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=(0,r.Ad)("diag");if(o)return o[e].apply(o,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(t),!1))}}var t=this;t.setLogger=function(e,n){var o,s,a;if(void 0===n&&(n={logLevel:i.O.INFO}),e===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=c.stack)&&void 0!==o?o:c.message),!1}"number"==typeof n&&(n={logLevel:n});var u=(0,r.Ad)("diag"),l=function(e,t){function n(n,r){var o=t[n];return"function"==typeof o&&e>=r?o.bind(t):function(){}}return e<i.O.NONE?e=i.O.NONE:e>i.O.ALL&&(e=i.O.ALL),t=t||{},{error:n("error",i.O.ERROR),warn:n("warn",i.O.WARN),info:n("info",i.O.INFO),debug:n("debug",i.O.DEBUG),verbose:n("verbose",i.O.VERBOSE)}}(null!==(s=n.logLevel)&&void 0!==s?s:i.O.INFO,e);if(u&&!n.suppressOverrideMessage){var d=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),l.warn("Current logger will overwrite one already registered from "+d)}return(0,r.UJ)("diag",l,t,!0)},t.disable=function(){(0,r.mY)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},35106:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,y:()=>a});var r=n(64324),o=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=new e(this._entries);try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),a=i.next();!a.done;a=i.next()){var c=a.value;s._entries.delete(c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),s=Symbol("BaggageEntryMetadata"),i=r.o.instance();function a(e){return void 0===e&&(e={}),new o(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:s,toString:function(){return e}}}},49480:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=n(81276).e.getInstance()},58988:(e,t,n)=>{"use strict";function r(e){return Symbol.for(e)}n.d(t,{G:()=>r,Y:()=>o});var o=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var o=new e(n._currentContext);return o._currentContext.set(t,r),o},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}},14412:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r=n(64324).o.instance()},43e3:(e,t,n)=>{"use strict";var r;n.d(t,{O:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r||(r={}))},59232:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DiagConsoleLogger:()=>a,DiagLogLevel:()=>c.O,INVALID_SPANID:()=>I.yO,INVALID_SPAN_CONTEXT:()=>I.S_,INVALID_TRACEID:()=>I.k$,ProxyTracer:()=>d.G,ProxyTracerProvider:()=>p.i,ROOT_CONTEXT:()=>s.Y,SamplingDecision:()=>h.Y,SpanKind:()=>f.G,SpanStatusCode:()=>m.Y,TraceFlags:()=>_.s,ValueType:()=>r,baggageEntryMetadataFromString:()=>o.C,context:()=>R.G,createContextKey:()=>s.G,createNoopMeter:()=>u.c1,createTraceState:()=>v,default:()=>w,defaultTextMapGetter:()=>l.e,defaultTextMapSetter:()=>l.M,diag:()=>C.K,isSpanContextValid:()=>T.SY,isValidSpanId:()=>T.st,isValidTraceId:()=>T._Y,metrics:()=>A.G,propagation:()=>O.s,trace:()=>N.y});var r,o=n(35106),s=n(58988),i=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],a=function(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(console){var r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(var t=0;t<i.length;t++)this[i[t].n]=e(i[t].c)},c=n(43e3),u=n(50348);!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(r||(r={}));var l=n(97352),d=n(49552),p=n(30236),h=n(46728),f=n(83672),m=n(96568),_=n(92896),g="[_0-9a-z-*/]",S=new RegExp("^(?:[a-z]"+g+"{0,255}|[a-z0-9]"+g+"{0,240}@[a-z]"+g+"{0,13})$"),b=/^[ -~]{0,255}[!-~]$/,y=/,|=/,E=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var o=n.slice(0,r),s=n.slice(r+1,t.length);(function(e){return S.test(e)})(o)&&function(e){return b.test(e)&&!y.test(e)}(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function v(e){return new E(e)}var T=n(32256),I=n(61424),R=n(49480),C=n(14412),A=n(32056),O=n(5192),N=n(40688);const w={context:R.G,diag:C.K,metrics:A.G,propagation:O.s,trace:N.y}},71396:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>d,UJ:()=>l,mY:()=>p});var r="object"==typeof globalThis?globalThis:global,o="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,i=function(e){var t=new Set([e]),n=new Set,r=e.match(s);if(!r)return function(){return!1};var o=+r[1],i=+r[2],a=+r[3];if(null!=r[4])return function(t){return t===e};function c(e){return n.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(s);if(!r)return c(e);var l=+r[1],d=+r[2],p=+r[3];return null!=r[4]||o!==l?c(e):0===o?i===d&&a<=p?u(e):c(e):i<=d?u(e):c(e)}}(o),a=o.split(".")[0],c=Symbol.for("opentelemetry.js.api."+a),u=r;function l(e,t,n,r){var s;void 0===r&&(r=!1);var i=u[c]=null!==(s=u[c])&&void 0!==s?s:{version:o};if(!r&&i[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}return i.version!==o?(a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+o),n.error(a.stack||a.message),!1):(i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0)}function d(e){var t,n,r=null===(t=u[c])||void 0===t?void 0:t.version;if(r&&i(r))return null===(n=u[c])||void 0===n?void 0:n[e]}function p(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var n=u[c];n&&delete n[e]}},32056:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(50348),o=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return r.M7},e}()),s=n(71396),i=n(64324),a="metrics",c=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,s.UJ)(a,e,i.o.instance())},e.prototype.getMeterProvider=function(){return(0,s.Ad)(a)||o},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){(0,s.mY)(a,i.o.instance())},e}().getInstance()},50348:(e,t,n)=>{"use strict";n.d(t,{M7:()=>m,c1:()=>T});var r,o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){function e(){}return e.prototype.createGauge=function(e,t){return g},e.prototype.createHistogram=function(e,t){return S},e.prototype.createCounter=function(e,t){return _},e.prototype.createUpDownCounter=function(e,t){return b},e.prototype.createObservableGauge=function(e,t){return E},e.prototype.createObservableCounter=function(e,t){return y},e.prototype.createObservableUpDownCounter=function(e,t){return v},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),i=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(i),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(i),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(i),d=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),m=new s,_=new a,g=new u,S=new l,b=new c,y=new p,E=new h,v=new f;function T(){return m}},5192:(e,t,n)=>{"use strict";n.d(t,{s:()=>g});var r=n(71396),o=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),s=n(97352),i=n(81276),a=(0,n(58988).G)("OpenTelemetry Baggage Key");function c(e){return e.getValue(a)||void 0}function u(){return c(i.e.getInstance().active())}function l(e,t){return e.setValue(a,t)}function d(e){return e.deleteValue(a)}var p=n(35106),h=n(64324),f="propagation",m=new o,_=function(){function e(){this.createBaggage=p.y,this.getBaggage=c,this.getActiveBaggage=u,this.setBaggage=l,this.deleteBaggage=d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,r.UJ)(f,e,h.o.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=s.M),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=s.e),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,r.mY)(f,h.o.instance())},e.prototype._getGlobalPropagator=function(){return(0,r.Ad)(f)||m},e}(),g=_.getInstance()},97352:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,e:()=>r});var r={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,n){null!=e&&(e[t]=n)}}},40688:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});var r=n(71396),o=n(30236),s=n(32256),i=n(34676),a=n(64324),c="trace",u=function(){function e(){this._proxyTracerProvider=new o.i,this.wrapSpanContext=s.Mh,this.isSpanContextValid=s.SY,this.deleteSpan=i.uk,this.getSpan=i.kX,this.getActiveSpan=i.yi,this.getSpanContext=i.QJ,this.setSpan=i.IT,this.setSpanContext=i.mG}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.UJ)(c,this._proxyTracerProvider,a.o.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.Ad)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.mY)(c,a.o.instance()),this._proxyTracerProvider=new o.i},e}().getInstance()},37656:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var r=n(61424),o=function(){function e(e){void 0===e&&(e=r.S_),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},14996:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var r=n(81276),o=n(34676),s=n(37656),i=n(32256),a=r.e.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=a.active()),Boolean(null==t?void 0:t.root))return new s.Q;var r,c=n&&(0,o.QJ)(n);return"object"==typeof(r=c)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,i.SY)(c)?new s.Q(c):new s.Q},e.prototype.startActiveSpan=function(e,t,n,r){var s,i,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=n):(s=t,i=n,c=r);var u=null!=i?i:a.active(),l=this.startSpan(e,s,u),d=(0,o.IT)(u,l);return a.with(d,c,void 0,l)}},e}()},49552:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=new(n(14996).i),o=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):r},e}()},30236:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(49552),o=n(14996),s=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new o.i},e}()),i=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var o;return null!==(o=this.getDelegateTracer(e,t,n))&&void 0!==o?o:new r.G(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:s},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}()},46728:(e,t,n)=>{"use strict";var r;n.d(t,{Y:()=>r}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}))},34676:(e,t,n)=>{"use strict";n.d(t,{IT:()=>u,QJ:()=>p,kX:()=>a,mG:()=>d,uk:()=>l,yi:()=>c});var r=n(58988),o=n(37656),s=n(81276),i=(0,r.G)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(i)||void 0}function c(){return a(s.e.getInstance().active())}function u(e,t){return e.setValue(i,t)}function l(e){return e.deleteValue(i)}function d(e,t){return u(e,new o.Q(t))}function p(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},61424:(e,t,n)=>{"use strict";n.d(t,{S_:()=>i,k$:()=>s,yO:()=>o});var r=n(92896),o="0000000000000000",s="00000000000000000000000000000000",i={traceId:s,spanId:o,traceFlags:r.s.NONE}},83672:(e,t,n)=>{"use strict";var r;n.d(t,{G:()=>r}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(r||(r={}))},32256:(e,t,n)=>{"use strict";n.d(t,{Mh:()=>l,SY:()=>u,_Y:()=>a,st:()=>c});var r=n(61424),o=n(37656),s=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function a(e){return s.test(e)&&e!==r.k$}function c(e){return i.test(e)&&e!==r.yO}function u(e){return a(e.traceId)&&c(e.spanId)}function l(e){return new o.Q(e)}},96568:(e,t,n)=>{"use strict";var r;n.d(t,{Y:()=>r}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r||(r={}))},92896:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}))},24712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAsyncHooksContextManager=void 0;const r=n(90467),o=["addListener","on","once","prependListener","prependOnceListener"];t.AbstractAsyncHooksContextManager=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof r.EventEmitter?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){const n=this,r=function(...r){return n.with(e,(()=>t.apply(this,r)))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),o.forEach((n=>{void 0!==t[n]&&(t[n]=this._patchAddListener(t,t[n],e))})),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){const n=this;return function(r,o){var s;const i=null===(s=n._getPatchMap(e))||void 0===s?void 0:s[r];if(void 0===i)return t.call(this,r,o);const a=i.get(o);return t.call(this,r,a||o)}}_patchRemoveAllListeners(e,t){const n=this;return function(r){const o=n._getPatchMap(e);return void 0!==o&&(0===arguments.length?n._createPatchMap(e):void 0!==o[r]&&delete o[r]),t.apply(this,arguments)}}_patchAddListener(e,t,n){const r=this;return function(o,s){if(r._wrapped)return t.call(this,o,s);let i=r._getPatchMap(e);void 0===i&&(i=r._createPatchMap(e));let a=i[o];void 0===a&&(a=new WeakMap,i[o]=a);const c=r.bind(n,s);a.set(s,c),r._wrapped=!0;try{return t.call(this,o,c)}finally{r._wrapped=!1}}}_createPatchMap(e){const t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}}},16360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncHooksContextManager=void 0;const r=n(59232),o=n(16914),s=n(24712);class i extends s.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=o.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return null!==(e=this._stack[this._stack.length-1])&&void 0!==e?e:r.ROOT_CONTEXT}with(e,t,n,...r){this._enterContext(e);try{return t.call(n,...r)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if("TIMERWRAP"===t)return;const n=this._stack[this._stack.length-1];void 0!==n&&this._contexts.set(e,n)}_destroy(e){this._contexts.delete(e)}_before(e){const t=this._contexts.get(e);void 0!==t&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}}t.AsyncHooksContextManager=i},73176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=void 0;const r=n(59232),o=n(16914),s=n(24712);class i extends s.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new o.AsyncLocalStorage}active(){var e;return null!==(e=this._asyncLocalStorage.getStore())&&void 0!==e?e:r.ROOT_CONTEXT}with(e,t,n,...r){const o=null==n?t:t.bind(n);return this._asyncLocalStorage.run(e,o,...r)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}t.AsyncLocalStorageContextManager=i},36524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=t.AsyncHooksContextManager=void 0;var r=n(16360);Object.defineProperty(t,"AsyncHooksContextManager",{enumerable:!0,get:function(){return r.AsyncHooksContextManager}});var o=n(73176);Object.defineProperty(t,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return o.AsyncLocalStorageContextManager}})},1608:(e,t,n)=>{"use strict";var r;n.d(t,{C:()=>r}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(r||(r={}))},51032:(e,t,n)=>{"use strict";n.d(t,{YZ:()=>c,mG:()=>a,mc:()=>i,oB:()=>u,qS:()=>o,qy:()=>r,yS:()=>s});var r="=",o=";",s=",",i="baggage",a=180,c=4096,u=8192},35536:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(5192),o=n(58580),s=n(51032),i=n(84884),a=function(){function e(){}return e.prototype.inject=function(e,t,n){var a=r.s.getBaggage(e);if(a&&!(0,o.CE)(e)){var c=(0,i.getKeyPairs)(a).filter((function(e){return e.length<=s.YZ})).slice(0,s.mG),u=(0,i.serializeKeyPairs)(c);u.length>0&&n.set(t,s.mc,u)}},e.prototype.extract=function(e,t,n){var o=n.get(t,s.mc),a=Array.isArray(o)?o.join(s.yS):o;if(!a)return e;var c={};return 0===a.length?e:(a.split(s.yS).forEach((function(e){var t=(0,i.parsePairKeyValue)(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),c[t.key]=n}})),0===Object.entries(c).length?e:r.s.setBaggage(e,r.s.createBaggage(c)))},e.prototype.fields=function(){return[s.mc]},e}()},84884:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>u,parsePairKeyValue:()=>c,serializeKeyPairs:()=>i});var r=n(35106),o=n(51032),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i};function i(e){return e.reduce((function(e,t){var n=""+e+(""!==e?o.yS:"")+t;return n.length>o.oB?e:n}),"")}function a(e){return e.getAllEntries().map((function(e){var t=s(e,2),n=t[0],r=t[1],i=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(i+=o.qS+r.metadata.toString()),i}))}function c(e){var t=e.split(o.qS);if(!(t.length<=0)){var n=t.shift();if(n){var s=n.indexOf(o.qy);if(!(s<=0)){var i,a=decodeURIComponent(n.substring(0,s).trim()),c=decodeURIComponent(n.substring(s+1).trim());return t.length>0&&(i=(0,r.C)(t.join(o.qS))),{key:a,value:c,metadata:i}}}}}function u(e){return"string"!=typeof e||0===e.length?{}:e.split(o.yS).map((function(e){return c(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},43176:(e,t,n)=>{"use strict";n.d(t,{OG:()=>c,yW:()=>i,ym:()=>a});var r=n(14412),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i};function i(e){var t,n,i={};if("object"!=typeof e||null==e)return i;try{for(var u=o(Object.entries(e)),l=u.next();!l.done;l=u.next()){var d=s(l.value,2),p=d[0],h=d[1];a(p)?c(h)?Array.isArray(h)?i[p]=h.slice():i[p]=h:r.K.warn("Invalid attribute value set for key: "+p):r.K.warn("Invalid attribute key: "+p)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i}function a(e){return"string"==typeof e&&e.length>0}function c(e){return null==e||(Array.isArray(e)?function(e){var t,n,r;try{for(var s=o(e),i=s.next();!i.done;i=s.next()){var a=i.value;if(null!=a){if(!r){if(u(a)){r=typeof a;continue}return!1}if(typeof a!==r)return!1}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0}(e):u(e))}function u(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},47227:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,e:()=>s});var r=(0,n(13184).E)();function o(e){r=e}function s(e){try{r(e)}catch(e){}}},13184:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(14412);function o(){return function(e){r.K.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},n=e;null!==n;)Object.getOwnPropertyNames(n).forEach((function(e){if(!t[e]){var r=n[e];r&&(t[e]=String(r))}})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}},65368:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>m,CI:()=>g,GI:()=>l,IX:()=>c,KQ:()=>f,aw:()=>S,dF:()=>u,jt:()=>h,kQ:()=>d,kv:()=>p,mQ:()=>a,sD:()=>_});var r=n(52784),o=9,s=Math.pow(10,6),i=Math.pow(10,o);function a(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*s)]}function c(){var e=r.q.timeOrigin;if("number"!=typeof e){var t=r.q;e=t.timing&&t.timing.fetchStart}return e}function u(e){return S(a(c()),a("number"==typeof e?e:r.q.now()))}function l(e){if(_(e))return e;if("number"==typeof e)return e<c()?u(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function d(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=i),[n,r]}function p(e){var t=o,n=""+"0".repeat(t)+e[1]+"Z",r=n.substr(n.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)}function h(e){return e[0]*i+e[1]}function f(e){return 1e3*e[0]+e[1]/1e6}function m(e){return 1e6*e[0]+e[1]/1e3}function _(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function g(e){return _(e)||"number"==typeof e||e instanceof Date}function S(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=i&&(n[1]-=i,n[0]+=1),n}},30164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlwaysOffSampler:()=>P,AlwaysOnSampler:()=>L,AnchoredClock:()=>o,BindOnceFuture:()=>J.o,CompositePropagator:()=>T.k,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>B.GC,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>B.mu,DEFAULT_ENVIRONMENT:()=>B.a4,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>B.KA,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>B.kB,ExportResultCode:()=>d.C,ParentBasedSampler:()=>U,RPCType:()=>b,RandomIdGenerator:()=>_,SDK_INFO:()=>E.s,TRACE_PARENT_HEADER:()=>I.Qr,TRACE_STATE_HEADER:()=>I.gN,TimeoutError:()=>Y,TraceIdRatioBasedSampler:()=>G,TraceState:()=>D.Q,TracesSamplerValues:()=>H.q,VERSION:()=>z.j,W3CBaggagePropagator:()=>r.C,W3CTraceContextPropagator:()=>I.yw,_globalThis:()=>f,addHrTimes:()=>c.aw,baggageUtils:()=>p,callWithTimeout:()=>W,deleteRPCMetadata:()=>A,getEnv:()=>h.W,getEnvWithoutDefaults:()=>h.Y,getRPCMetadata:()=>O,getTimeOrigin:()=>c.IX,globalErrorHandler:()=>i.e,hexToBase64:()=>m,hexToBinary:()=>l,hrTime:()=>c.dF,hrTimeDuration:()=>c.kQ,hrTimeToMicroseconds:()=>c.Ad,hrTimeToMilliseconds:()=>c.KQ,hrTimeToNanoseconds:()=>c.jt,hrTimeToTimeStamp:()=>c.kv,internal:()=>q,isAttributeKey:()=>s.ym,isAttributeValue:()=>s.OG,isTimeInput:()=>c.CI,isTimeInputHrTime:()=>c.sD,isTracingSuppressed:()=>V.CE,isUrlIgnored:()=>Z,isWrapped:()=>$,loggingErrorHandler:()=>a.E,merge:()=>F.U,millisToHrTime:()=>c.mQ,otperformance:()=>y.q,parseEnvironment:()=>B._U,parseTraceParent:()=>I.q0,sanitizeAttributes:()=>s.yW,setGlobalErrorHandler:()=>i.U,setRPCMetadata:()=>C,suppressTracing:()=>V.Qd,timeInputToHrTime:()=>c.GI,unrefTimer:()=>v.c,unsuppressTracing:()=>V.WO,urlMatches:()=>X});var r=n(35536),o=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}(),s=n(43176),i=n(47227),a=n(13184),c=n(65368);function u(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function l(e){for(var t=new Uint8Array(e.length/2),n=0,r=0;r<e.length;r+=2){var o=u(e.charCodeAt(r)),s=u(e.charCodeAt(r+1));t[n++]=o<<4|s}return t}var d=n(1608),p=n(84884),h=n(13120),f="object"==typeof globalThis?globalThis:global;function m(e){return Buffer.from(l(e)).toString("base64")}var _=function(){this.generateTraceId=S(16),this.generateSpanId=S(8)},g=Buffer.allocUnsafe(16);function S(e){return function(){for(var t=0;t<e/4;t++)g.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(g[t]>0);t++)t===e-1&&(g[e-1]=1);return g.toString("hex",0,e)}}var b,y=n(52784),E=n(48256),v=n(69900),T=n(39885),I=n(6656),R=(0,n(58988).G)("OpenTelemetry SDK Context Key RPC_METADATA");function C(e,t){return e.setValue(R,t)}function A(e){return e.deleteValue(R)}function O(e){return e.getValue(R)}!function(e){e.HTTP="http"}(b||(b={}));var N,w=n(46728),P=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:w.Y.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),L=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:w.Y.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),M=n(40688),x=n(32256),k=n(92896),U=function(){function e(e){var t,n,r,o;this._root=e.root,this._root||((0,i.e)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new L),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new L,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new P,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new L,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new P}return e.prototype.shouldSample=function(e,t,n,r,o,s){var i=M.y.getSpanContext(e);return i&&(0,x.SY)(i)?i.isRemote?i.traceFlags&k.s.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,o,s):this._remoteParentNotSampled.shouldSample(e,t,n,r,o,s):i.traceFlags&k.s.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,o,s):this._localParentNotSampled.shouldSample(e,t,n,r,o,s):this._root.shouldSample(e,t,n,r,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),G=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,x._Y)(t)&&this._accumulate(t)<this._upperBound?w.Y.RECORD_AND_SAMPLED:w.Y.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),V=n(58580),D=n(48932),B=n(34764),F=n(301),H=n(72744),j=(N=function(e,t){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},N(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Y=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return j(t,e),t}(Error);function W(e,t){var n,r=new Promise((function(e,r){n=setTimeout((function(){r(new Y("Operation timed out."))}),t)}));return Promise.race([e,r]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))}var K=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function X(e,t){return"string"==typeof t?e===t:!!e.match(t)}function Z(e,t){var n,r;if(!t)return!1;try{for(var o=K(t),s=o.next();!s.done;s=o.next())if(X(e,s.value))return!0}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}function $(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var J=n(50772),z=n(632),Q=n(49480),q={_export:function(e,t){return new Promise((function(n){Q.G.with((0,V.Qd)(Q.G.active()),(function(){e.export(t,(function(e){n(e)}))}))}))}}},13120:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,Y:()=>s});var r=n(34764);function o(){var e=(0,r._U)(process.env);return Object.assign({},r.a4,e)}function s(){return(0,r._U)(process.env)}},52784:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r=require("perf_hooks").performance},48256:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r,o=n(632),s=n(71812),i=((r={})[s.k9]="opentelemetry",r[s.ER]="node",r[s.eM]=s.ys,r[s.FS]=o.j,r)},69900:(e,t,n)=>{"use strict";function r(e){e.unref()}n.d(t,{c:()=>r})},39885:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(14412),o=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,n){var o,s;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._propagators),a=i.next();!a.done;a=i.next()){var c=a.value;try{c.inject(e,t,n)}catch(e){r.K.warn("Failed to inject with "+c.constructor.name+". Err: "+e.message)}}}catch(e){o={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},e.prototype.extract=function(e,t,n){return this._propagators.reduce((function(e,o){try{return o.extract(e,t,n)}catch(e){r.K.warn("Failed to inject with "+o.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},48932:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r="[_0-9a-z-*/]",o=new RegExp("^(?:[a-z]"+r+"{0,255}|[a-z0-9]"+r+"{0,240}@[a-z]"+r+"{0,13})$"),s=/^[ -~]{0,255}[!-~]$/,i=/,|=/,a=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var a=n.slice(0,r),c=n.slice(r+1,t.length);(function(e){return o.test(e)})(a)&&function(e){return s.test(e)&&!i.test(e)}(c)&&e.set(a,c)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},6656:(e,t,n)=>{"use strict";n.d(t,{Qr:()=>c,gN:()=>u,q0:()=>d,yw:()=>p});var r=n(40688),o=n(32256),s=n(92896),i=n(58580),a=n(48932),c="traceparent",u="tracestate",l=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function d(e){var t=l.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var p=function(){function e(){}return e.prototype.inject=function(e,t,n){var a=r.y.getSpanContext(e);if(a&&!(0,i.CE)(e)&&(0,o.SY)(a)){var l="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||s.s.NONE).toString(16);n.set(t,c,l),a.traceState&&n.set(t,u,a.traceState.serialize())}},e.prototype.extract=function(e,t,n){var o=n.get(t,c);if(!o)return e;var s=Array.isArray(o)?o[0]:o;if("string"!=typeof s)return e;var i=d(s);if(!i)return e;i.isRemote=!0;var l=n.get(t,u);if(l){var p=Array.isArray(l)?l.join(","):l;i.traceState=new a.Q("string"==typeof p?p:void 0)}return r.y.setSpanContext(e,i)},e.prototype.fields=function(){return[c,u]},e}()},58580:(e,t,n)=>{"use strict";n.d(t,{CE:()=>i,Qd:()=>o,WO:()=>s});var r=(0,n(58988).G)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(r,!0)}function s(e){return e.deleteValue(r)}function i(e){return!0===e.getValue(r)}},50772:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),o=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new r}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([this._that],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(n),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},34764:(e,t,n)=>{"use strict";n.d(t,{GC:()=>h,KA:()=>f,_U:()=>v,a4:()=>_,kB:()=>m,mu:()=>p});var r=n(43e3),o=n(72744),s=",",i=["OTEL_SDK_DISABLED"];function a(e){return i.indexOf(e)>-1}var c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return c.indexOf(e)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}var p=1/0,h=128,f=128,m=128,_={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:r.O.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.q.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function g(e,t,n){if(void 0!==n[e]){var r=String(n[e]);t[e]="true"===r.toLowerCase()}}function S(e,t,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[e]){var s=Number(n[e]);isNaN(s)||(t[e]=s<r?r:s>o?o:s)}}function b(e,t,n,r){void 0===r&&(r=s);var o=n[e];"string"==typeof o&&(t[e]=o.split(r).map((function(e){return e.trim()})))}var y={ALL:r.O.ALL,VERBOSE:r.O.VERBOSE,DEBUG:r.O.DEBUG,INFO:r.O.INFO,WARN:r.O.WARN,ERROR:r.O.ERROR,NONE:r.O.NONE};function E(e,t,n){var r=n[e];if("string"==typeof r){var o=y[r.toUpperCase()];null!=o&&(t[e]=o)}}function v(e){var t={};for(var n in _){var r=n;if("OTEL_LOG_LEVEL"===r)E(r,t,e);else if(a(r))g(r,t,e);else if(u(r))S(r,t,e);else if(d(r))b(r,t,e);else{var o=e[r];null!=o&&(t[r]=String(o))}}return t}},301:(e,t,n)=>{"use strict";n.d(t,{U:()=>g});var r,o,s="[object Object]",i="[object Null]",a="[object Undefined]",c=Function.prototype.toString,u=c.call(Object),l=(r=Object.getPrototypeOf,o=Object,function(e){return r(o(e))}),d=Object.prototype,p=d.hasOwnProperty,h=Symbol?Symbol.toStringTag:void 0,f=d.toString;function m(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){return null==e?void 0===e?a:i:h&&h in Object(e)?function(e){var t=p.call(e,h),n=e[h],r=!1;try{e[h]=void 0,r=!0}catch(e){}var o=f.call(e);return r&&(t?e[h]=n:delete e[h]),o}(e):function(e){return f.call(e)}(e)}(e)!==s)return!1;var t=l(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)===u}var _=20;function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=b(n,e.shift(),0,r);return n}function S(e){return E(e)?e.slice():e}function b(e,t,n,r){var o;if(void 0===n&&(n=0),!(n>_)){if(n++,I(e)||I(t)||v(t))o=S(t);else if(E(e)){if(o=e.slice(),E(t))for(var s=0,i=t.length;s<i;s++)o.push(S(t[s]));else if(T(t))for(s=0,i=(a=Object.keys(t)).length;s<i;s++)o[c=a[s]]=S(t[c])}else if(T(e))if(T(t)){if(!function(e,t){return!(!m(e)||!m(t))}(e,t))return t;var a;for(o=Object.assign({},e),s=0,i=(a=Object.keys(t)).length;s<i;s++){var c,u=t[c=a[s]];if(I(u))void 0===u?delete o[c]:o[c]=u;else{var l=o[c],d=u;if(y(e,c,r)||y(t,c,r))delete o[c];else{if(T(l)&&T(d)){var p=r.get(l)||[],h=r.get(d)||[];p.push({obj:e,key:c}),h.push({obj:t,key:c}),r.set(l,p),r.set(d,h)}o[c]=b(o[c],u,n,r)}}}}else o=t;return o}}function y(e,t,n){for(var r=n.get(e[t])||[],o=0,s=r.length;o<s;o++){var i=r[o];if(i.key===t&&i.obj===e)return!0}return!1}function E(e){return Array.isArray(e)}function v(e){return"function"==typeof e}function T(e){return!I(e)&&!E(e)&&!v(e)&&"object"==typeof e}function I(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},72744:(e,t,n)=>{"use strict";var r;n.d(t,{q:()=>r}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(r||(r={}))},632:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r="1.25.1"},43716:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectNames=t.ConnectTypes=t.AttributeNames=void 0,(o=t.AttributeNames||(t.AttributeNames={})).CONNECT_TYPE="connect.type",o.CONNECT_NAME="connect.name",(r=t.ConnectTypes||(t.ConnectTypes={})).MIDDLEWARE="middleware",r.REQUEST_HANDLER="request_handler",(n=t.ConnectNames||(t.ConnectNames={})).MIDDLEWARE="middleware",n.REQUEST_HANDLER="request handler"},12408:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(43716),t),o(n(47308),t)},47308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectInstrumentation=t.ANONYMOUS_NAME=void 0;const r=n(59232),o=n(30164),s=n(43716),i=n(13176),a=n(12744),c=n(6252),u=n(25896);t.ANONYMOUS_NAME="anonymous";class l extends a.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){return[new a.InstrumentationNodeModuleDefinition("connect",[">=3.0.0 <4"],(e=>this._patchConstructor(e)))]}_patchApp(e){(0,a.isWrapped)(e.use)||this._wrap(e,"use",this._patchUse.bind(this)),(0,a.isWrapped)(e.handle)||this._wrap(e,"handle",this._patchHandle.bind(this))}_patchConstructor(e){const t=this;return function(...n){const r=e.apply(this,n);return t._patchApp(r),r}}_patchNext(e,t){return function(n){const r=e.apply(this,[n]);return t(),r}}_startSpan(e,n){let r,o,i;e?(r=s.ConnectTypes.REQUEST_HANDLER,i=s.ConnectNames.REQUEST_HANDLER,o=e):(r=s.ConnectTypes.MIDDLEWARE,i=s.ConnectNames.MIDDLEWARE,o=n.name||t.ANONYMOUS_NAME);const a=`${i} - ${o}`,u={attributes:{[c.SEMATTRS_HTTP_ROUTE]:e.length>0?e:"/",[s.AttributeNames.CONNECT_TYPE]:r,[s.AttributeNames.CONNECT_NAME]:o}};return this.tracer.startSpan(a,u)}_patchMiddleware(e,n){const s=this,i=4===n.length;function a(){if(!s.isEnabled())return n.apply(this,arguments);const[a,c,l]=i?[1,2,3]:[0,1,2],d=arguments[a],p=arguments[c],h=arguments[l];(0,u.replaceCurrentStackRoute)(d,e);const f=(0,o.getRPCMetadata)(r.context.active());e&&(null==f?void 0:f.type)===o.RPCType.HTTP&&(f.route=(0,u.generateRoute)(d));let m="";m=e?`request handler - ${e}`:`middleware - ${n.name||t.ANONYMOUS_NAME}`;const _=s._startSpan(e,n);s._diag.debug("start span",m);let g=!1;function S(){g?s._diag.debug(`span ${_.name} - already finished`):(g=!0,s._diag.debug(`finishing span ${_.name}`),_.end()),p.removeListener("close",S)}return p.addListener("close",S),arguments[l]=s._patchNext(h,S),n.apply(this,arguments)}return Object.defineProperty(a,"length",{value:n.length,writable:!1,configurable:!0}),a}_patchUse(e){const t=this;return function(...n){const r=n[n.length-1],o=n[n.length-2]||"";return n[n.length-1]=t._patchMiddleware(o,r),e.apply(this,n)}}_patchHandle(e){const t=this;return function(){const[n,r]=[0,2],o=arguments[n],s=arguments[r],i=(0,u.addNewStackLayer)(o);return"function"==typeof s&&(arguments[r]=t._patchOut(s,i)),e.apply(this,arguments)}}_patchOut(e,t){return function(...n){return t(),Reflect.apply(e,this,n)}}}t.ConnectInstrumentation=l},12636:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._LAYERS_STORE_PROPERTY=void 0,t._LAYERS_STORE_PROPERTY=Symbol("opentelemetry.instrumentation-connect.request-route-stack")},25896:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRoute=t.replaceCurrentStackRoute=t.addNewStackLayer=void 0;const r=n(59232),o=n(12636);t.addNewStackLayer=e=>{!1===Array.isArray(e[o._LAYERS_STORE_PROPERTY])&&Object.defineProperty(e,o._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]}),e[o._LAYERS_STORE_PROPERTY].push("/");const t=e[o._LAYERS_STORE_PROPERTY].length;return()=>{t===e[o._LAYERS_STORE_PROPERTY].length?e[o._LAYERS_STORE_PROPERTY].pop():r.diag.warn("Connect: Trying to pop the stack multiple time")}},t.replaceCurrentStackRoute=(e,t)=>{t&&e[o._LAYERS_STORE_PROPERTY].splice(-1,1,t)},t.generateRoute=e=>e[o._LAYERS_STORE_PROPERTY].reduce(((e,t)=>e.replace(/\/+$/,"")+t))},13176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.38.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-connect"},36946:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).EXPRESS_TYPE="express.type",n.EXPRESS_NAME="express.name"},20812:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressLayerType=void 0,(n=t.ExpressLayerType||(t.ExpressLayerType={})).ROUTER="router",n.MIDDLEWARE="middleware",n.REQUEST_HANDLER="request_handler"},87232:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(19672),t),o(n(20812),t),o(n(36946),t),o(n(33056),t)},19672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressInstrumentation=void 0;const r=n(30164),o=n(59232),s=n(20812),i=n(36946),a=n(86056),c=n(27444),u=n(12744),l=n(6252),d=n(88356);class p extends u.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new u.InstrumentationNodeModuleDefinition("express",[">=4.0.0 <5"],(e=>{const t=e.Router;return(0,u.isWrapped)(t.route)&&this._unwrap(t,"route"),this._wrap(t,"route",this._getRoutePatch()),(0,u.isWrapped)(t.use)&&this._unwrap(t,"use"),this._wrap(t,"use",this._getRouterUsePatch()),(0,u.isWrapped)(e.application.use)&&this._unwrap(e.application,"use"),this._wrap(e.application,"use",this._getAppUsePatch()),e}),(e=>{if(void 0===e)return;const t=e.Router;this._unwrap(t,"route"),this._unwrap(t,"use"),this._unwrap(e.application,"use")}))]}_getRoutePatch(){const e=this;return function(t){return function(...n){const r=t.apply(this,n),o=this.stack[this.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(n)),r}}}_getRouterUsePatch(){const e=this;return function(t){return function(...n){const r=t.apply(this,n),o=this.stack[this.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(n)),r}}}_getAppUsePatch(){const e=this;return function(t){return function(...n){const r=t.apply(this,n),o=this._router.stack[this._router.stack.length-1];return e._applyPatch(o,(0,a.getLayerPath)(n)),r}}}_applyPatch(e,t){const n=this;!0!==e[d.kLayerPatched]&&(e[d.kLayerPatched]=!0,this._wrap(e,"handle",(c=>{if(4===c.length)return c;const p=function(p,h){(0,a.storeLayerPath)(p,t);const f=p[d._LAYERS_STORE_PROPERTY].filter((e=>"/"!==e&&"/*"!==e)).join("").replace(/\/{2,}/g,"/"),m={[l.SEMATTRS_HTTP_ROUTE]:f.length>0?f:"/"},_=(0,a.getLayerMetadata)(e,t),g=_.attributes[i.AttributeNames.EXPRESS_TYPE],S=(0,r.getRPCMetadata)(o.context.active());if((null==S?void 0:S.type)===r.RPCType.HTTP&&(S.route=f||"/"),(0,a.isLayerIgnored)(_.name,g,n.getConfig()))return g===s.ExpressLayerType.MIDDLEWARE&&p[d._LAYERS_STORE_PROPERTY].pop(),c.apply(this,arguments);if(void 0===o.trace.getSpan(o.context.active()))return c.apply(this,arguments);const b=n._getSpanName({request:p,layerType:g,route:f},_.name),y=n.tracer.startSpan(b,{attributes:Object.assign(m,_.attributes)}),{requestHook:E}=n.getConfig();E&&(0,u.safeExecuteInTheMiddle)((()=>E(y,{request:p,layerType:g,route:f})),(e=>{e&&o.diag.error("express instrumentation: request hook failed",e)}),!0);let v=!1;_.attributes[i.AttributeNames.EXPRESS_TYPE]!==s.ExpressLayerType.MIDDLEWARE&&(y.end(),v=!0);const T=()=>{!1===v&&(v=!0,y.end())},I=Array.from(arguments),R=I.findIndex((e=>"function"==typeof e));R>=0&&(arguments[R]=function(){var e;const t=arguments[0],n=![void 0,null,"route","router"].includes(t);if(!v&&n){const[e,n]=(0,a.asErrorAndMessage)(t);y.recordException(e),y.setStatus({code:o.SpanStatusCode.ERROR,message:n})}return!1===v&&(v=!0,null===(e=p.res)||void 0===e||e.removeListener("finish",T),y.end()),p.route&&n||p[d._LAYERS_STORE_PROPERTY].pop(),I[R].apply(this,arguments)});try{return c.apply(this,arguments)}catch(e){const[t,n]=(0,a.asErrorAndMessage)(e);throw y.recordException(t),y.setStatus({code:o.SpanStatusCode.ERROR,message:n}),e}finally{v||h.once("finish",T)}};for(const e in c)Object.defineProperty(p,e,{get:()=>c[e],set(t){c[e]=t}});return p})))}_getSpanName(e,t){var n;const{spanNameHook:r}=this.getConfig();if(!(r instanceof Function))return t;try{return null!==(n=r(e,t))&&void 0!==n?n:t}catch(e){return o.diag.error("express instrumentation: error calling span name rewrite hook",e),t}}}t.ExpressInstrumentation=p},88356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._LAYERS_STORE_PROPERTY=t.kLayerPatched=void 0,t.kLayerPatched=Symbol("express-layer-patched"),t._LAYERS_STORE_PROPERTY="__ot_middlewares"},33056:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86056:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayerPath=t.asErrorAndMessage=t.isLayerIgnored=t.getLayerMetadata=t.storeLayerPath=void 0;const r=n(20812),o=n(36946),s=n(88356);t.storeLayerPath=(e,t)=>{!1===Array.isArray(e[s._LAYERS_STORE_PROPERTY])&&Object.defineProperty(e,s._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]}),void 0!==t&&e[s._LAYERS_STORE_PROPERTY].push(t)},t.getLayerMetadata=(e,t)=>"router"===e.name?{attributes:{[o.AttributeNames.EXPRESS_NAME]:t,[o.AttributeNames.EXPRESS_TYPE]:r.ExpressLayerType.ROUTER},name:`router - ${t}`}:"bound dispatch"===e.name?{attributes:{[o.AttributeNames.EXPRESS_NAME]:null!=t?t:"request handler",[o.AttributeNames.EXPRESS_TYPE]:r.ExpressLayerType.REQUEST_HANDLER},name:"request handler"+(e.path?` - ${t}`:"")}:{attributes:{[o.AttributeNames.EXPRESS_NAME]:e.name,[o.AttributeNames.EXPRESS_TYPE]:r.ExpressLayerType.MIDDLEWARE},name:`middleware - ${e.name}`};const i=(e,t)=>{if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);throw new TypeError("Pattern is in unsupported datatype")};t.isLayerIgnored=(e,t,n)=>{var r;if(Array.isArray(null==n?void 0:n.ignoreLayersType)&&(null===(r=null==n?void 0:n.ignoreLayersType)||void 0===r?void 0:r.includes(t)))return!0;if(!1===Array.isArray(null==n?void 0:n.ignoreLayers))return!1;try{for(const t of n.ignoreLayers)if(i(e,t))return!0}catch(e){}return!1},t.asErrorAndMessage=e=>e instanceof Error?[e,e.message]:[String(e),String(e)],t.getLayerPath=e=>Array.isArray(e[0])?e[0].map((e=>a(e)||"")).join(","):a(e[0]);const a=e=>"string"==typeof e?e:e instanceof RegExp||"number"==typeof e?e.toString():void 0},27444:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.1",t.PACKAGE_NAME="@opentelemetry/instrumentation-express"},25072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hooksNamesToWrap=t.spanRequestSymbol=void 0,t.spanRequestSymbol=Symbol("opentelemetry.instrumentation.fastify.request_active_span"),t.hooksNamesToWrap=new Set(["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"])},40312:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.FastifyNames=t.FastifyTypes=t.AttributeNames=void 0,(o=t.AttributeNames||(t.AttributeNames={})).FASTIFY_NAME="fastify.name",o.FASTIFY_TYPE="fastify.type",o.HOOK_NAME="hook.name",o.PLUGIN_NAME="plugin.name",(r=t.FastifyTypes||(t.FastifyTypes={})).MIDDLEWARE="middleware",r.REQUEST_HANDLER="request_handler",(n=t.FastifyNames||(t.FastifyNames={})).MIDDLEWARE="middleware",n.REQUEST_HANDLER="request handler"},88:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(40312),t),o(n(67424),t),o(n(32488),t)},32488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastifyInstrumentation=t.ANONYMOUS_NAME=void 0;const r=n(59232),o=n(30164),s=n(12744),i=n(6252),a=n(25072),c=n(40312),u=n(33016),l=n(26395);t.ANONYMOUS_NAME="anonymous";class d extends s.InstrumentationBase{constructor(e={}){super(l.PACKAGE_NAME,l.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},e)}getConfig(){return this._config}init(){return[new s.InstrumentationNodeModuleDefinition("fastify",[">=3.0.0 <5"],(e=>this._patchConstructor(e)))]}_hookOnRequest(){const e=this;return function(t,n,s){if(!e.isEnabled())return s();e._wrap(n,"send",e._patchSend());const i=t,a=(0,o.getRPCMetadata)(r.context.active()),c=i.routeOptions?i.routeOptions.url:t.routerPath;c&&(null==a?void 0:a.type)===o.RPCType.HTTP&&(a.route=c),s()}}_wrapHandler(e,n,o,s){const i=this;return this._diag.debug("Patching fastify route.handler function"),function(...a){if(!i.isEnabled())return o.apply(this,a);const l=o.name||e||t.ANONYMOUS_NAME,d=`${c.FastifyNames.MIDDLEWARE} - ${l}`,p=a[1],h=(0,u.startSpan)(p,i.tracer,d,{[c.AttributeNames.FASTIFY_TYPE]:c.FastifyTypes.MIDDLEWARE,[c.AttributeNames.PLUGIN_NAME]:e,[c.AttributeNames.HOOK_NAME]:n}),f=s&&a[a.length-1];return f&&(a[a.length-1]=function(...e){(0,u.endSpan)(p),f.apply(this,e)}),r.context.with(r.trace.setSpan(r.context.active(),h),(()=>(0,u.safeExecuteInTheMiddleMaybePromise)((()=>o.apply(this,a)),(e=>{e instanceof Error&&(h.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),h.recordException(e)),s||(0,u.endSpan)(p)}))))}}_wrapAddHook(){const e=this;return this._diag.debug("Patching fastify server.addHook function"),function(t){return function(...n){const r=n[0],o=n[1],s=this.pluginName;if(!a.hooksNamesToWrap.has(r))return t.apply(this,n);const i="function"==typeof n[n.length-1]&&"AsyncFunction"!==o.constructor.name;return t.apply(this,[r,e._wrapHandler(s,r,o,i)])}}}_patchConstructor(e){const t=this;function n(...n){const r=e.fastify.apply(this,n);return r.addHook("onRequest",t._hookOnRequest()),r.addHook("preHandler",t._hookPreHandler()),t._wrap(r,"addHook",t._wrapAddHook()),r}return n.fastify=n,n.default=n,n}_patchSend(){const e=this;return this._diag.debug("Patching fastify reply.send function"),function(t){return function(...n){const r=n[0];return e.isEnabled()?(0,s.safeExecuteInTheMiddle)((()=>t.apply(this,n)),(e=>{!e&&r instanceof Error&&(e=r),(0,u.endSpan)(this,e)})):t.apply(this,n)}}}_hookPreHandler(){const e=this;return this._diag.debug("Patching fastify preHandler function"),function(n,o,a){var l,d;if(!e.isEnabled())return a();const p=n,h=(null===(l=p.routeOptions)||void 0===l?void 0:l.handler)||(null===(d=p.context)||void 0===d?void 0:d.handler),f=(null==h?void 0:h.name.startsWith("bound "))?h.name.substr(6):null==h?void 0:h.name,m=`${c.FastifyNames.REQUEST_HANDLER} - ${f||this.pluginName||t.ANONYMOUS_NAME}`,_={[c.AttributeNames.PLUGIN_NAME]:this.pluginName,[c.AttributeNames.FASTIFY_TYPE]:c.FastifyTypes.REQUEST_HANDLER,[i.SEMATTRS_HTTP_ROUTE]:p.routeOptions?p.routeOptions.url:n.routerPath};f&&(_[c.AttributeNames.FASTIFY_NAME]=f);const g=(0,u.startSpan)(o,e.tracer,m,_);return e.getConfig().requestHook&&(0,s.safeExecuteInTheMiddle)((()=>e.getConfig().requestHook(g,{request:n})),(t=>{t&&e._diag.error("request hook failed",t)}),!0),r.context.with(r.trace.setSpan(r.context.active(),g),(()=>{a()}))}}}t.FastifyInstrumentation=d},67424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},33016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeExecuteInTheMiddleMaybePromise=t.endSpan=t.startSpan=void 0;const r=n(59232),o=n(25072);function s(e){var t;return"object"==typeof e&&e&&"function"==typeof(null===(t=Object.getOwnPropertyDescriptor(e,"then"))||void 0===t?void 0:t.value)||!1}t.startSpan=function(e,t,n,r={}){const s=t.startSpan(n,{attributes:r}),i=e[o.spanRequestSymbol]||[];return i.push(s),Object.defineProperty(e,o.spanRequestSymbol,{enumerable:!1,configurable:!0,value:i}),s},t.endSpan=function(e,t){const n=e[o.spanRequestSymbol]||[];n.length&&(n.forEach((e=>{t&&(e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message}),e.recordException(t)),e.end()})),delete e[o.spanRequestSymbol])},t.safeExecuteInTheMiddleMaybePromise=function(e,t,n){let r,o;try{o=e(),s(o)&&o.then((e=>t(void 0,e)),(e=>t(e)))}catch(e){r=e}finally{if(!s(o)&&(t(r,o),r&&!n))throw r;return o}}},26395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.38.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-fastify"},46520:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanNames=t.TokenKind=t.AllowedOperationTypes=void 0,(o=t.AllowedOperationTypes||(t.AllowedOperationTypes={})).QUERY="query",o.MUTATION="mutation",o.SUBSCRIPTION="subscription",(r=t.TokenKind||(t.TokenKind={})).SOF="<SOF>",r.EOF="<EOF>",r.BANG="!",r.DOLLAR="$",r.AMP="&",r.PAREN_L="(",r.PAREN_R=")",r.SPREAD="...",r.COLON=":",r.EQUALS="=",r.AT="@",r.BRACKET_L="[",r.BRACKET_R="]",r.BRACE_L="{",r.PIPE="|",r.BRACE_R="}",r.NAME="Name",r.INT="Int",r.FLOAT="Float",r.STRING="String",r.BLOCK_STRING="BlockString",r.COMMENT="Comment",(n=t.SpanNames||(t.SpanNames={})).EXECUTE="graphql.execute",n.PARSE="graphql.parse",n.RESOLVE="graphql.resolve",n.VALIDATE="graphql.validate",n.SCHEMA_VALIDATE="graphql.validateSchema",n.SCHEMA_PARSE="graphql.parseSchema"},76096:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).SOURCE="graphql.source",n.FIELD_NAME="graphql.field.name",n.FIELD_PATH="graphql.field.path",n.FIELD_TYPE="graphql.field.type",n.OPERATION_TYPE="graphql.operation.type",n.OPERATION_NAME="graphql.operation.name",n.VARIABLES="graphql.variables.",n.ERROR_VALIDATION_NAME="graphql.validation.error"},87764:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(89176),t),o(n(56296),t)},89176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(46520),i=n(76096),a=n(82592),c=n(34808),u=n(84176),l=n(32616),d={mergeItems:!1,depth:-1,allowValues:!1,ignoreResolveSpans:!1},p=[">=14.0.0 <17"];class h extends o.InstrumentationBase{constructor(e={}){super(l.PACKAGE_NAME,l.PACKAGE_VERSION,Object.assign({},d,e))}_getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},d,e)}init(){const e=new o.InstrumentationNodeModuleDefinition("graphql",p);return e.files.push(this._addPatchingExecute()),e.files.push(this._addPatchingParser()),e.files.push(this._addPatchingValidate()),e}_addPatchingExecute(){return new o.InstrumentationNodeModuleFile("graphql/execution/execute.js",p,(e=>((0,o.isWrapped)(e.execute)&&this._unwrap(e,"execute"),this._wrap(e,"execute",this._patchExecute(e.defaultFieldResolver)),e)),(e=>{e&&this._unwrap(e,"execute")}))}_addPatchingParser(){return new o.InstrumentationNodeModuleFile("graphql/language/parser.js",p,(e=>((0,o.isWrapped)(e.parse)&&this._unwrap(e,"parse"),this._wrap(e,"parse",this._patchParse()),e)),(e=>{e&&this._unwrap(e,"parse")}))}_addPatchingValidate(){return new o.InstrumentationNodeModuleFile("graphql/validation/validate.js",p,(e=>((0,o.isWrapped)(e.validate)&&this._unwrap(e,"validate"),this._wrap(e,"validate",this._patchValidate()),e)),(e=>{e&&this._unwrap(e,"validate")}))}_patchExecute(e){const t=this;return function(n){return function(){let s;if(arguments.length>=2){const n=arguments;s=t._wrapExecuteArgs(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],e)}else{const n=arguments[0];s=t._wrapExecuteArgs(n.schema,n.document,n.rootValue,n.contextValue,n.variableValues,n.operationName,n.fieldResolver,n.typeResolver,e)}const i=(0,u.getOperation)(s.document,s.operationName),c=t._createExecuteSpan(i,s);return s.contextValue[a.OTEL_GRAPHQL_DATA_SYMBOL]={source:s.document?s.document||s.document[a.OTEL_GRAPHQL_DATA_SYMBOL]:void 0,span:c,fields:{}},r.context.with(r.trace.setSpan(r.context.active(),c),(()=>(0,o.safeExecuteInTheMiddle)((()=>n.apply(this,[s])),((e,n)=>{t._handleExecutionResult(c,e,n)}))))}}}_handleExecutionResult(e,t,n){const r=this._getConfig();if(void 0===n||t)(0,u.endSpan)(e,t);else if((0,u.isPromise)(n))n.then((t=>{"function"==typeof r.responseHook?this._executeResponseHook(e,t):(0,u.endSpan)(e)}),(t=>{(0,u.endSpan)(e,t)}));else{if("function"!=typeof r.responseHook)return void(0,u.endSpan)(e);this._executeResponseHook(e,n)}}_executeResponseHook(e,t){const n=this._getConfig();(0,o.safeExecuteInTheMiddle)((()=>{n.responseHook(e,t)}),(t=>{t&&this._diag.error("Error running response hook",t),(0,u.endSpan)(e,void 0)}),!0)}_patchParse(){const e=this;return function(t){return function(n,r){return e._parse(this,t,n,r)}}}_patchValidate(){const e=this;return function(t){return function(n,r,o,s,i){return e._validate(this,t,n,r,o,i,s)}}}_parse(e,t,n,i){const a=this._getConfig(),c=this.tracer.startSpan(s.SpanNames.PARSE);return r.context.with(r.trace.setSpan(r.context.active(),c),(()=>(0,o.safeExecuteInTheMiddle)((()=>t.call(e,n,i)),((e,t)=>{t&&((0,u.getOperation)(t)?t.loc&&(0,u.addSpanSource)(c,t.loc,a.allowValues):c.updateName(s.SpanNames.SCHEMA_PARSE)),(0,u.endSpan)(c,e)}))))}_validate(e,t,n,a,c,l,d){const p=this.tracer.startSpan(s.SpanNames.VALIDATE,{});return r.context.with(r.trace.setSpan(r.context.active(),p),(()=>(0,o.safeExecuteInTheMiddle)((()=>t.call(e,n,a,c,d,l)),((e,t)=>{a.loc||p.updateName(s.SpanNames.SCHEMA_VALIDATE),t&&t.length&&p.recordException({name:i.AttributeNames.ERROR_VALIDATION_NAME,message:JSON.stringify(t)}),(0,u.endSpan)(p,e)}))))}_createExecuteSpan(e,t){var n;const r=this._getConfig(),o=this.tracer.startSpan(s.SpanNames.EXECUTE,{});if(e){const{operation:t,name:n}=e;o.setAttribute(i.AttributeNames.OPERATION_TYPE,t);const r=null==n?void 0:n.value;r?(o.setAttribute(i.AttributeNames.OPERATION_NAME,r),o.updateName(`${t} ${r}`)):o.updateName(t)}else{let e=" ";t.operationName&&(e=` "${t.operationName}" `),e=c.OPERATION_NOT_SUPPORTED.replace("$operationName$",e),o.setAttribute(i.AttributeNames.OPERATION_NAME,e)}return(null===(n=t.document)||void 0===n?void 0:n.loc)&&(0,u.addSpanSource)(o,t.document.loc,r.allowValues),t.variableValues&&r.allowValues&&(0,u.addInputVariableAttributes)(o,t.variableValues),o}_wrapExecuteArgs(e,t,n,r,o,s,i,c,l){if(r||(r={}),r[a.OTEL_GRAPHQL_DATA_SYMBOL]||this._getConfig().ignoreResolveSpans)return{schema:e,document:t,rootValue:n,contextValue:r,variableValues:o,operationName:s,fieldResolver:i,typeResolver:c};const d=null==i,p=null!=i?i:l;return i=(0,u.wrapFieldResolver)(this.tracer,this._getConfig.bind(this),p,d),e&&((0,u.wrapFields)(e.getQueryType(),this.tracer,this._getConfig.bind(this)),(0,u.wrapFields)(e.getMutationType(),this.tracer,this._getConfig.bind(this))),{schema:e,document:t,rootValue:n,contextValue:r,variableValues:o,operationName:s,fieldResolver:i,typeResolver:c}}}t.GraphQLInstrumentation=h},34808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATION_NOT_SUPPORTED=void 0,n(82592),t.OPERATION_NOT_SUPPORTED="Operation$operationName$not supported"},82592:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OTEL_GRAPHQL_DATA_SYMBOL=t.OTEL_PATCHED_SYMBOL=void 0,t.OTEL_PATCHED_SYMBOL=Symbol.for("opentelemetry.patched"),t.OTEL_GRAPHQL_DATA_SYMBOL=Symbol.for("opentelemetry.graphql_data")},56296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapFieldResolver=t.wrapFields=t.getSourceFromLocation=t.getOperation=t.endSpan=t.addSpanSource=t.addInputVariableAttributes=t.isPromise=void 0;const r=n(59232),o=n(46520),s=n(76096),i=n(82592),a=Object.values(o.AllowedOperationTypes);t.isPromise=e=>"function"==typeof(null==e?void 0:e.then);function c(e,t,n){Array.isArray(n)?n.forEach(((n,r)=>{c(e,`${t}.${r}`,n)})):n instanceof Object?Object.entries(n).forEach((([n,r])=>{c(e,`${t}.${n}`,r)})):e.setAttribute(`${s.AttributeNames.VARIABLES}${String(t)}`,n)}function u(e,t,n,r,o){const i=_(t,n,r,o);e.setAttribute(s.AttributeNames.SOURCE,i)}function l(e,t,n,a,c,l){var d,p;const h={[s.AttributeNames.FIELD_NAME]:a.fieldName,[s.AttributeNames.FIELD_PATH]:c.join("."),[s.AttributeNames.FIELD_TYPE]:a.returnType.toString()},f=e.startSpan(`${o.SpanNames.RESOLVE} ${h[s.AttributeNames.FIELD_PATH]}`,{attributes:h},l?r.trace.setSpan(r.context.active(),l):void 0),m=n[i.OTEL_GRAPHQL_DATA_SYMBOL].source,_=a.fieldNodes.find((e=>"Field"===e.kind));return _&&u(f,m.loc,t().allowValues,null===(d=_.loc)||void 0===d?void 0:d.start,null===(p=_.loc)||void 0===p?void 0:p.end),f}function d(e,t){return e[i.OTEL_GRAPHQL_DATA_SYMBOL].fields[t.join(".")]}function p(e,t){for(let n=t.length-1;n>0;n--){const r=d(e,t.slice(0,n));if(r)return r}return{span:e[i.OTEL_GRAPHQL_DATA_SYMBOL].span}}function h(e){return f(" ",e)}function f(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}t.addInputVariableAttributes=function(e,t){Object.entries(t).forEach((([t,n])=>{c(e,t,n)}))},t.addSpanSource=u,t.endSpan=function(e,t){t&&e.recordException(t),e.end()},t.getOperation=function(e,t){if(e&&Array.isArray(e.definitions))return t?e.definitions.filter((e=>{var t;return-1!==a.indexOf(null===(t=e)||void 0===t?void 0:t.operation)})).find((e=>{var n,r;return t===(null===(r=null===(n=e)||void 0===n?void 0:n.name)||void 0===r?void 0:r.value)})):e.definitions.find((e=>{var t;return-1!==a.indexOf(null===(t=e)||void 0===t?void 0:t.operation)}))};const m=[o.TokenKind.FLOAT,o.TokenKind.STRING,o.TokenKind.INT,o.TokenKind.BLOCK_STRING];function _(e,t=!1,n,r){var s,i;let a="";if(null==e?void 0:e.startToken){const c="number"==typeof n?n:e.start,u="number"==typeof r?r:e.end;let l=e.startToken.next,d=1;for(;l;){if(l.start<c){l=l.next,d=null==l?void 0:l.line;continue}if(l.end>u){l=l.next,d=null==l?void 0:l.line;continue}let e=l.value||l.kind,n="";!t&&m.indexOf(l.kind)>=0&&(e="*"),l.kind===o.TokenKind.STRING&&(e=`"${e}"`),l.kind===o.TokenKind.EOF&&(e=""),l.line>d?(a+=f("\n",l.line-d),d=l.line,n=h(l.column-1)):l.line===(null===(s=l.prev)||void 0===s?void 0:s.line)&&(n=h(l.start-((null===(i=l.prev)||void 0===i?void 0:i.end)||0))),a+=n+e,l&&(l=l.next)}}return a}t.getSourceFromLocation=_,t.wrapFields=function e(t,n,r){if(!t||"function"!=typeof t.getFields||t[i.OTEL_PATCHED_SYMBOL])return;const o=t.getFields();t[i.OTEL_PATCHED_SYMBOL]=!0,Object.keys(o).forEach((t=>{const s=o[t];if(s&&(s.resolve&&(s.resolve=b(n,r,s.resolve)),s.type)){let t=s.type;for(;t.ofType;)t=t.ofType;e(t,n,r)}}))};const g=(e,t,n)=>{n&&(e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message}),e.end())},S=(e,t)=>{t&&e.end()};function b(e,n,o,s=!1){if(a[i.OTEL_PATCHED_SYMBOL]||"function"!=typeof o)return o;function a(a,c,u,h){if(!o)return;const f=n();if(f.ignoreTrivialResolveSpans&&s&&("object"==typeof(m=a)&&null!==m||"function"==typeof a)&&"function"!=typeof a[h.fieldName])return o.call(this,a,c,u,h);var m;if(!u[i.OTEL_GRAPHQL_DATA_SYMBOL])return o.call(this,a,c,u,h);const _=function(e,t){const n=[];let r=t;for(;r;){let t=r.key;e&&"number"==typeof t&&(t="*"),n.push(String(t)),r=r.prev}return n.reverse()}(f.mergeItems,h&&h.path),b=_.filter((e=>"string"==typeof e)).length;let y,E=!1;if(f.depth>=0&&f.depth<b)y=p(u,_);else{const t=function(e,t,n,r,o){let s=d(n,o),a=!1;if(!s){a=!0;const c=p(n,o);s={parent:c,span:l(e,t,n,r,o,c.span),error:null},function(e,t,n){e[i.OTEL_GRAPHQL_DATA_SYMBOL].fields[t.join(".")]=n}(n,o,s)}return{spanAdded:a,field:s}}(e,n,u,h,_);y=t.field,E=t.spanAdded}return r.context.with(r.trace.setSpan(r.context.active(),y.span),(()=>{try{const e=o.call(this,a,c,u,h);return(0,t.isPromise)(e)?e.then((e=>(S(y.span,E),e)),(e=>{throw g(y.span,e,E),e})):(S(y.span,E),e)}catch(e){throw g(y.span,e,E),e}}))}return a[i.OTEL_PATCHED_SYMBOL]=!0,a}t.wrapFieldResolver=b},32616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-graphql"},7272:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).HAPI_TYPE="hapi.type",n.PLUGIN_NAME="hapi.plugin.name",n.EXT_TYPE="server.ext.type"},82180:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5824),t),o(n(7272),t)},5824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HapiInstrumentation=void 0;const r=n(59232),o=n(30164),s=n(12744),i=n(66708),a=n(5964),c=n(49452);class u extends s.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}init(){return new s.InstrumentationNodeModuleDefinition(a.HapiComponentName,[">=17.0.0 <22"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return(0,s.isWrapped)(t.server)||this._wrap(t,"server",this._getServerPatch.bind(this)),(0,s.isWrapped)(t.Server)||this._wrap(t,"Server",this._getServerPatch.bind(this)),t}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;this._massUnwrap([t],["server","Server"])}))}_getServerPatch(e){const t=this,n=this;return function(r){const o=e.apply(this,[r]);return n._wrap(o,"route",(e=>t._getServerRoutePatch.bind(t)(e))),n._wrap(o,"ext",(e=>t._getServerExtPatch.bind(t)(e))),n._wrap(o,"register",t._getServerRegisterPatch.bind(t)),o}}_getServerRegisterPatch(e){const t=this;return function(n,r){if(Array.isArray(n))for(const e of n){const n=(0,c.getPluginFromInput)(e);t._wrapRegisterHandler(n)}else{const e=(0,c.getPluginFromInput)(n);t._wrapRegisterHandler(e)}return e.apply(this,[n,r])}}_getServerExtPatch(e,t){const n=this;return function(...r){if(Array.isArray(r[0])){const o=r[0];for(let e=0;e<o.length;e++){const r=o[e];if((0,c.isLifecycleExtType)(r.type)){const s=r,i=n._wrapExtMethods(s.method,r.type,t);s.method=i,o[e]=s}}return e.apply(this,r)}if((0,c.isDirectExtInput)(r)){const o=r,s=o[1],i=n._wrapExtMethods(s,o[0],t);return e.apply(this,[o[0],i,o[2]])}if((0,c.isLifecycleExtEventObj)(r[0])){const o=r[0],s=n._wrapExtMethods(o.method,o.type,t);return o.method=s,e.call(this,o)}return e.apply(this,r)}}_getServerRoutePatch(e,t){const n=this;return function(r){if(Array.isArray(r))for(let e=0;e<r.length;e++){const o=n._wrapRouteHandler.call(n,r[e],t);r[e]=o}else r=n._wrapRouteHandler.call(n,r,t);return e.apply(this,[r])}}_wrapRegisterHandler(e){const t=this,n=(0,c.getPluginName)(e),r=e.register,o=this;e.register=function(e,s){return o._wrap(e,"route",(e=>t._getServerRoutePatch.bind(t)(e,n))),o._wrap(e,"ext",(e=>t._getServerExtPatch.bind(t)(e,n))),r(e,s)}}_wrapExtMethods(e,t,n){const o=this;if(e instanceof Array){for(let n=0;n<e.length;n++)e[n]=o._wrapExtMethods(e[n],t);return e}return(0,c.isPatchableExtMethod)(e)?!0===e[a.handlerPatched]?e:(e[a.handlerPatched]=!0,async function(...s){if(void 0===r.trace.getSpan(r.context.active()))return await e.apply(this,s);const i=(0,c.getExtMetadata)(t,n),a=o.tracer.startSpan(i.name,{attributes:i.attributes});try{return await r.context.with(r.trace.setSpan(r.context.active(),a),e,void 0,...s)}catch(e){throw a.recordException(e),a.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),e}finally{a.end()}}):e}_wrapRouteHandler(e,t){var n;const s=this;if(!0===e[a.handlerPatched])return e;e[a.handlerPatched]=!0;const i=n=>async function(...i){if(void 0===r.trace.getSpan(r.context.active()))return await n.call(this,...i);const a=(0,o.getRPCMetadata)(r.context.active());(null==a?void 0:a.type)===o.RPCType.HTTP&&(a.route=e.path);const u=(0,c.getRouteMetadata)(e,t),l=s.tracer.startSpan(u.name,{attributes:u.attributes});try{return await r.context.with(r.trace.setSpan(r.context.active(),l),(()=>n.call(this,...i)))}catch(e){throw l.recordException(e),l.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),e}finally{l.end()}};if("function"==typeof e.handler)e.handler=i(e.handler);else if("function"==typeof e.options){const t=e.options;e.options=function(e){const n=t(e);return"function"==typeof n.handler&&(n.handler=i(n.handler)),n}}else"function"==typeof(null===(n=e.options)||void 0===n?void 0:n.handler)&&(e.options.handler=i(e.options.handler));return e}}t.HapiInstrumentation=u},5964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HapiLifecycleMethodNames=t.HapiLayerType=t.handlerPatched=t.HapiComponentName=void 0,t.HapiComponentName="@hapi/hapi",t.handlerPatched=Symbol("hapi-handler-patched"),t.HapiLayerType={ROUTER:"router",PLUGIN:"plugin",EXT:"server.ext"},t.HapiLifecycleMethodNames=new Set(["onPreAuth","onCredentials","onPostAuth","onPreHandler","onPostHandler","onPreResponse","onRequest"])},49452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginFromInput=t.getExtMetadata=t.getRouteMetadata=t.isPatchableExtMethod=t.isDirectExtInput=t.isLifecycleExtEventObj=t.isLifecycleExtType=t.getPluginName=void 0;const r=n(6252),o=n(5964),s=n(7272);t.getPluginName=function(e){return e.name?e.name:e.pkg.name},t.isLifecycleExtType=e=>"string"==typeof e&&o.HapiLifecycleMethodNames.has(e),t.isLifecycleExtEventObj=e=>{var n;const r=null===(n=e)||void 0===n?void 0:n.type;return void 0!==r&&(0,t.isLifecycleExtType)(r)},t.isDirectExtInput=e=>Array.isArray(e)&&e.length<=3&&(0,t.isLifecycleExtType)(e[0])&&"function"==typeof e[1],t.isPatchableExtMethod=e=>!Array.isArray(e),t.getRouteMetadata=(e,t)=>t?{attributes:{[r.SEMATTRS_HTTP_ROUTE]:e.path,[r.SEMATTRS_HTTP_METHOD]:e.method,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.PLUGIN,[s.AttributeNames.PLUGIN_NAME]:t},name:`${t}: route - ${e.path}`}:{attributes:{[r.SEMATTRS_HTTP_ROUTE]:e.path,[r.SEMATTRS_HTTP_METHOD]:e.method,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.ROUTER},name:`route - ${e.path}`},t.getExtMetadata=(e,t)=>t?{attributes:{[s.AttributeNames.EXT_TYPE]:e,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.EXT,[s.AttributeNames.PLUGIN_NAME]:t},name:`${t}: ext - ${e}`}:{attributes:{[s.AttributeNames.EXT_TYPE]:e,[s.AttributeNames.HAPI_TYPE]:o.HapiLayerType.EXT},name:`ext - ${e}`},t.getPluginFromInput=e=>"plugin"in e?"plugin"in e.plugin?e.plugin.plugin:e.plugin:e},66708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-hapi"},94491:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).HTTP_ERROR_NAME="http.error_name",n.HTTP_ERROR_MESSAGE="http.error_message",n.HTTP_STATUS_TEXT="http.status_text"},27724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpInstrumentation=void 0;const r=n(59232),o=n(30164),s=n(76276),i=n(78716),a=n(74808),c=n(63092),u=n(12744),l=n(30164),d=n(90467),p=n(6252);class h extends u.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-http",c.VERSION,e),this._spanNotEnded=new WeakSet,this._headerCapture=this._createHeaderCapture()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:r.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:r.ValueType.DOUBLE})}setConfig(e={}){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new u.InstrumentationNodeModuleDefinition("http",["*"],(e=>(this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http")),this._wrap(e,"get",this._getPatchOutgoingGetFunction(e.request)),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e)),(e=>{void 0!==e&&(this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))}))}_getHttpsInstrumentation(){return new u.InstrumentationNodeModuleDefinition("https",["*"],(e=>(this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https")),this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(e.request)),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e)),(e=>{void 0!==e&&(this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))}))}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(t,...n){const r=e(t,...n);return r.end(),r}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{const n=this;return function(r,...o){var s;return"https"===e&&"object"==typeof r&&"URL"!==(null===(s=null==r?void 0:r.constructor)||void 0===s?void 0:s.name)&&(r=Object.assign({},r),n._setDefaultOptions(r)),n._getPatchOutgoingRequestFunction(e)(t)(r,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{const n=this;return function(r,...o){return n._getPatchOutgoingGetFunction(e)(t)(r,...o)}}}_traceClientRequest(e,t,n,o){this.getConfig().requestHook&&this._callRequestHook(t,e);let i=!1;return e.prependListener("response",(c=>{this._diag.debug("outgoingRequest on response()"),e.listenerCount("response")<=1&&c.resume();const l=a.getOutgoingRequestAttributesOnResponse(c);t.setAttributes(l),o=Object.assign(o,a.getOutgoingRequestMetricAttributesOnResponse(l)),this.getConfig().responseHook&&this._callResponseHook(t,c),this._headerCapture.client.captureRequestHeaders(t,(t=>e.getHeader(t))),this._headerCapture.client.captureResponseHeaders(t,(e=>c.headers[e])),r.context.bind(r.context.active(),c);const p=()=>{if(this._diag.debug("outgoingRequest on end()"),i)return;let s;i=!0,s=c.aborted&&!c.complete?{code:r.SpanStatusCode.ERROR}:{code:a.parseResponseStatus(r.SpanKind.CLIENT,c.statusCode)},t.setStatus(s),this.getConfig().applyCustomAttributesOnSpan&&(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().applyCustomAttributesOnSpan(t,e,c)),(()=>{}),!0),this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o)};c.on("end",p),s.lt(process.version,"16.0.0")&&c.on("close",p),c.on(d.errorMonitor,(e=>{this._diag.debug("outgoingRequest on error()",e),i||(i=!0,a.setSpanWithError(t,e),t.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o))}))})),e.on("close",(()=>{this._diag.debug("outgoingRequest on request close()"),e.aborted||i||(i=!0,this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o))})),e.on(d.errorMonitor,(e=>{this._diag.debug("outgoingRequest on request error()",e),i||(i=!0,a.setSpanWithError(t,e),this._closeHttpSpan(t,r.SpanKind.CLIENT,n,o))})),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){const n=this;return function(s,...c){if("request"!==s)return t.apply(this,[s,...c]);const p=c[0],h=c[1],f=p.url&&i.parse(p.url).pathname||"/",m=p.method||"GET";if(n._diag.debug(`${e} instrumentation incomingRequest`),a.isIgnored(f,n.getConfig().ignoreIncomingPaths,(e=>n._diag.error("caught ignoreIncomingPaths error: ",e)))||(0,u.safeExecuteInTheMiddle)((()=>{var e,t;return null===(t=(e=n.getConfig()).ignoreIncomingRequestHook)||void 0===t?void 0:t.call(e,p)}),(e=>{null!=e&&n._diag.error("caught ignoreIncomingRequestHook error: ",e)}),!0))return r.context.with((0,o.suppressTracing)(r.context.active()),(()=>(r.context.bind(r.context.active(),p),r.context.bind(r.context.active(),h),t.apply(this,[s,...c]))));const _=p.headers,g=a.getIncomingRequestAttributes(p,{component:e,serverName:n.getConfig().serverName,hookAttributes:n._callStartSpanHook(p,n.getConfig().startIncomingSpanHook)}),S={kind:r.SpanKind.SERVER,attributes:g},b=(0,o.hrTime)(),y=a.getIncomingRequestMetricAttributes(g),E=r.propagation.extract(r.ROOT_CONTEXT,_),v=n._startHttpSpan(m,S,E),T={type:l.RPCType.HTTP,span:v};return r.context.with((0,l.setRPCMetadata)(r.trace.setSpan(E,v),T),(()=>{r.context.bind(r.context.active(),p),r.context.bind(r.context.active(),h),n.getConfig().requestHook&&n._callRequestHook(v,p),n.getConfig().responseHook&&n._callResponseHook(v,h),n._headerCapture.server.captureRequestHeaders(v,(e=>p.headers[e]));let e=!1;return h.on("close",(()=>{e||n._onServerResponseFinish(p,h,v,y,b)})),h.on(d.errorMonitor,(t=>{e=!0,n._onServerResponseError(v,y,b,t)})),(0,u.safeExecuteInTheMiddle)((()=>t.apply(this,[s,...c])),(e=>{if(e)throw a.setSpanWithError(v,e),n._closeHttpSpan(v,r.SpanKind.SERVER,b,y),e}))}))}}_outgoingRequestFunction(e,t){const n=this;return function(c,...l){if(!a.isValidOptionsType(c))return t.apply(this,[c,...l]);const d="object"==typeof l[0]&&("string"==typeof c||c instanceof i.URL)?l.shift():void 0,{origin:p,pathname:h,method:f,optionsParsed:m}=a.getRequestInfo(c,d);if("http"===e&&s.lt(process.version,"9.0.0")&&"https:"===m.protocol)return t.apply(this,[m,...l]);if(a.isIgnored(p+h,n.getConfig().ignoreOutgoingUrls,(e=>n._diag.error("caught ignoreOutgoingUrls error: ",e)))||(0,u.safeExecuteInTheMiddle)((()=>{var e,t;return null===(t=(e=n.getConfig()).ignoreOutgoingRequestHook)||void 0===t?void 0:t.call(e,m)}),(e=>{null!=e&&n._diag.error("caught ignoreOutgoingRequestHook error: ",e)}),!0))return t.apply(this,[m,...l]);const{hostname:_,port:g}=a.extractHostnameAndPort(m),S=a.getOutgoingRequestAttributes(m,{component:e,port:g,hostname:_,hookAttributes:n._callStartSpanHook(m,n.getConfig().startOutgoingSpanHook)}),b=(0,o.hrTime)(),y=a.getOutgoingRequestMetricAttributes(S),E={kind:r.SpanKind.CLIENT,attributes:S},v=n._startHttpSpan(f,E),T=r.context.active(),I=r.trace.setSpan(T,v);return m.headers?m.headers=Object.assign({},m.headers):m.headers={},r.propagation.inject(I,m.headers),r.context.with(I,(()=>{const o=l[l.length-1];"function"==typeof o&&(l[l.length-1]=r.context.bind(T,o));const s=(0,u.safeExecuteInTheMiddle)((()=>t.apply(this,[m,...l])),(e=>{if(e)throw a.setSpanWithError(v,e),n._closeHttpSpan(v,r.SpanKind.CLIENT,b,y),e}));return n._diag.debug(`${e} instrumentation outgoingRequest`),r.context.bind(T,s),n._traceClientRequest(s,v,b,y)}))}}_onServerResponseFinish(e,t,n,o,s){const i=a.getIncomingRequestAttributesOnResponse(e,t);o=Object.assign(o,a.getIncomingRequestMetricAttributesOnResponse(i)),this._headerCapture.server.captureResponseHeaders(n,(e=>t.getHeader(e))),n.setAttributes(i).setStatus({code:a.parseResponseStatus(r.SpanKind.SERVER,t.statusCode)});const c=i[p.SEMATTRS_HTTP_ROUTE];c&&n.updateName(`${e.method||"GET"} ${c}`),this.getConfig().applyCustomAttributesOnSpan&&(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().applyCustomAttributesOnSpan(n,e,t)),(()=>{}),!0),this._closeHttpSpan(n,r.SpanKind.SERVER,s,o)}_onServerResponseError(e,t,n,o){a.setSpanWithError(e,o),this._closeHttpSpan(e,r.SpanKind.SERVER,n,t)}_startHttpSpan(e,t,n=r.context.active()){const o=t.kind===r.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans;let s;const i=r.trace.getSpan(n);return s=!0===o&&void 0===i?r.trace.wrapSpanContext(r.INVALID_SPAN_CONTEXT):!0===o&&(null==i?void 0:i.spanContext().isRemote)?i:this.tracer.startSpan(e,t,n),this._spanNotEnded.add(s),s}_closeHttpSpan(e,t,n,s){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);const i=(0,o.hrTimeToMilliseconds)((0,o.hrTimeDuration)(n,(0,o.hrTime)()));t===r.SpanKind.SERVER?this._httpServerDurationHistogram.record(i,s):t===r.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(i,s)}_callResponseHook(e,t){(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().responseHook(e,t)),(()=>{}),!0)}_callRequestHook(e,t){(0,u.safeExecuteInTheMiddle)((()=>this.getConfig().requestHook(e,t)),(()=>{}),!0)}_callStartSpanHook(e,t){if("function"==typeof t)return(0,u.safeExecuteInTheMiddle)((()=>t(e)),(()=>{}),!0)}_createHeaderCapture(){var e,t,n,r,o,s,i,c,u,l,d,p;const h=this.getConfig();return{client:{captureRequestHeaders:a.headerCapture("request",null!==(n=null===(t=null===(e=h.headersToSpanAttributes)||void 0===e?void 0:e.client)||void 0===t?void 0:t.requestHeaders)&&void 0!==n?n:[]),captureResponseHeaders:a.headerCapture("response",null!==(s=null===(o=null===(r=h.headersToSpanAttributes)||void 0===r?void 0:r.client)||void 0===o?void 0:o.responseHeaders)&&void 0!==s?s:[])},server:{captureRequestHeaders:a.headerCapture("request",null!==(u=null===(c=null===(i=h.headersToSpanAttributes)||void 0===i?void 0:i.server)||void 0===c?void 0:c.requestHeaders)&&void 0!==u?u:[]),captureResponseHeaders:a.headerCapture("response",null!==(p=null===(d=null===(l=h.headersToSpanAttributes)||void 0===l?void 0:l.server)||void 0===d?void 0:d.responseHeaders)&&void 0!==p?p:[])}}}}t.HttpInstrumentation=h},7676:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(27724),t),o(n(20544),t),o(n(74808),t)},20544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCapture=t.getIncomingRequestMetricAttributesOnResponse=t.getIncomingRequestAttributesOnResponse=t.getIncomingRequestMetricAttributes=t.getIncomingRequestAttributes=t.getOutgoingRequestMetricAttributesOnResponse=t.getOutgoingRequestAttributesOnResponse=t.setAttributesFromHttpKind=t.getOutgoingRequestMetricAttributes=t.getOutgoingRequestAttributes=t.extractHostnameAndPort=t.isValidOptionsType=t.getRequestInfo=t.isCompressed=t.setResponseContentLengthAttribute=t.setRequestContentLengthAttribute=t.setSpanWithError=t.isIgnored=t.satisfiesPattern=t.parseResponseStatus=t.getAbsoluteUrl=void 0;const r=n(59232),o=n(6252),s=n(30164),i=n(78716),a=n(94491);function c(e){const t=e["content-length"];if(void 0===t)return null;const n=parseInt(t,10);return isNaN(n)?null:n}t.getAbsoluteUrl=(e,t,n="http:")=>{const r=e||{},o=r.protocol||n,s=(r.port||"").toString(),i=r.path||"/";let a=r.host||r.hostname||t.host||"localhost";return-1===a.indexOf(":")&&s&&"80"!==s&&"443"!==s&&(a+=`:${s}`),`${o}//${a}${i}`},t.parseResponseStatus=(e,t)=>{const n=e===r.SpanKind.CLIENT?400:500;return t&&t>=100&&t<n?r.SpanStatusCode.UNSET:r.SpanStatusCode.ERROR},t.satisfiesPattern=(e,t)=>{if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);throw new TypeError("Pattern is in unsupported datatype")},t.isIgnored=(e,n,r)=>{if(!n)return!1;try{for(const r of n)if((0,t.satisfiesPattern)(e,r))return!0}catch(e){r&&r(e)}return!1},t.setSpanWithError=(e,t)=>{const n=t.message;e.setAttribute(a.AttributeNames.HTTP_ERROR_NAME,t.name),e.setAttribute(a.AttributeNames.HTTP_ERROR_MESSAGE,n),e.setStatus({code:r.SpanStatusCode.ERROR,message:n}),e.recordException(t)},t.setRequestContentLengthAttribute=(e,n)=>{const r=c(e.headers);null!==r&&((0,t.isCompressed)(e.headers)?n[o.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH]=r:n[o.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=r)},t.setResponseContentLengthAttribute=(e,n)=>{const r=c(e.headers);null!==r&&((0,t.isCompressed)(e.headers)?n[o.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH]=r:n[o.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=r)},t.isCompressed=e=>{const t=e["content-encoding"];return!!t&&"identity"!==t},t.getRequestInfo=(e,t)=>{let n,r="/",o="";if("string"==typeof e)n=i.parse(e),r=n.pathname||"/",o=`${n.protocol||"http:"}//${n.host}`,void 0!==t&&Object.assign(n,t);else if(e instanceof i.URL)n={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,path:`${e.pathname||""}${e.search||""}`},""!==e.port&&(n.port=Number(e.port)),(e.username||e.password)&&(n.auth=`${e.username}:${e.password}`),r=e.pathname,o=e.origin,void 0!==t&&Object.assign(n,t);else{n=Object.assign({protocol:e.host?"http:":void 0},e),r=e.pathname,!r&&n.path&&(r=i.parse(n.path).pathname||"/");const t=n.host||(null!=n.port?`${n.hostname}${n.port}`:n.hostname);o=`${n.protocol||"http:"}//${t}`}return{origin:o,pathname:r,method:n.method?n.method.toUpperCase():"GET",optionsParsed:n}},t.isValidOptionsType=e=>{if(!e)return!1;const t=typeof e;return"string"===t||"object"===t&&!Array.isArray(e)},t.extractHostnameAndPort=e=>{var t;if(e.hostname&&e.port)return{hostname:e.hostname,port:e.port};const n=(null===(t=e.host)||void 0===t?void 0:t.match(/^([^:/ ]+)(:\d{1,5})?/))||null,r=e.hostname||(null===n?"localhost":n[1]);let o=e.port;return o||(o=n&&n[2]?n[2].substring(1):"https:"===e.protocol?"443":"80"),{hostname:r,port:o}},t.getOutgoingRequestAttributes=(e,n)=>{var r;const s=n.hostname,i=n.port,a=e.method,c=a?a.toUpperCase():"GET",u=e.headers||{},l=u["user-agent"],d={[o.SEMATTRS_HTTP_URL]:(0,t.getAbsoluteUrl)(e,u,`${n.component}:`),[o.SEMATTRS_HTTP_METHOD]:c,[o.SEMATTRS_HTTP_TARGET]:e.path||"/",[o.SEMATTRS_NET_PEER_NAME]:s,[o.SEMATTRS_HTTP_HOST]:null!==(r=u.host)&&void 0!==r?r:`${s}:${i}`};return void 0!==l&&(d[o.SEMATTRS_HTTP_USER_AGENT]=l),Object.assign(d,n.hookAttributes)},t.getOutgoingRequestMetricAttributes=e=>{const t={};return t[o.SEMATTRS_HTTP_METHOD]=e[o.SEMATTRS_HTTP_METHOD],t[o.SEMATTRS_NET_PEER_NAME]=e[o.SEMATTRS_NET_PEER_NAME],t},t.setAttributesFromHttpKind=(e,t)=>{e&&(t[o.SEMATTRS_HTTP_FLAVOR]=e,"QUIC"!==e.toUpperCase()?t[o.SEMATTRS_NET_TRANSPORT]=o.NETTRANSPORTVALUES_IP_TCP:t[o.SEMATTRS_NET_TRANSPORT]=o.NETTRANSPORTVALUES_IP_UDP)},t.getOutgoingRequestAttributesOnResponse=e=>{const{statusCode:n,statusMessage:r,httpVersion:s,socket:i}=e,c={};if(i){const{remoteAddress:e,remotePort:t}=i;c[o.SEMATTRS_NET_PEER_IP]=e,c[o.SEMATTRS_NET_PEER_PORT]=t}return(0,t.setResponseContentLengthAttribute)(e,c),n&&(c[o.SEMATTRS_HTTP_STATUS_CODE]=n,c[a.AttributeNames.HTTP_STATUS_TEXT]=(r||"").toUpperCase()),(0,t.setAttributesFromHttpKind)(s,c),c},t.getOutgoingRequestMetricAttributesOnResponse=e=>{const t={};return t[o.SEMATTRS_NET_PEER_PORT]=e[o.SEMATTRS_NET_PEER_PORT],t[o.SEMATTRS_HTTP_STATUS_CODE]=e[o.SEMATTRS_HTTP_STATUS_CODE],t[o.SEMATTRS_HTTP_FLAVOR]=e[o.SEMATTRS_HTTP_FLAVOR],t},t.getIncomingRequestAttributes=(e,n)=>{const r=e.headers,s=r["user-agent"],a=r["x-forwarded-for"],c=e.method||"GET",u=e.httpVersion,l=e.url?i.parse(e.url):null,d=(null==l?void 0:l.host)||r.host,p=(null==l?void 0:l.hostname)||(null==d?void 0:d.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",h=n.serverName,f={[o.SEMATTRS_HTTP_URL]:(0,t.getAbsoluteUrl)(l,r,`${n.component}:`),[o.SEMATTRS_HTTP_HOST]:d,[o.SEMATTRS_NET_HOST_NAME]:p,[o.SEMATTRS_HTTP_METHOD]:c,[o.SEMATTRS_HTTP_SCHEME]:n.component};return"string"==typeof a&&(f[o.SEMATTRS_HTTP_CLIENT_IP]=a.split(",")[0]),"string"==typeof h&&(f[o.SEMATTRS_HTTP_SERVER_NAME]=h),l&&(f[o.SEMATTRS_HTTP_TARGET]=l.path||"/"),void 0!==s&&(f[o.SEMATTRS_HTTP_USER_AGENT]=s),(0,t.setRequestContentLengthAttribute)(e,f),(0,t.setAttributesFromHttpKind)(u,f),Object.assign(f,n.hookAttributes)},t.getIncomingRequestMetricAttributes=e=>{const t={};return t[o.SEMATTRS_HTTP_SCHEME]=e[o.SEMATTRS_HTTP_SCHEME],t[o.SEMATTRS_HTTP_METHOD]=e[o.SEMATTRS_HTTP_METHOD],t[o.SEMATTRS_NET_HOST_NAME]=e[o.SEMATTRS_NET_HOST_NAME],t[o.SEMATTRS_HTTP_FLAVOR]=e[o.SEMATTRS_HTTP_FLAVOR],t},t.getIncomingRequestAttributesOnResponse=(e,t)=>{const{socket:n}=e,{statusCode:i,statusMessage:c}=t,u=(0,s.getRPCMetadata)(r.context.active()),l={};if(n){const{localAddress:e,localPort:t,remoteAddress:r,remotePort:s}=n;l[o.SEMATTRS_NET_HOST_IP]=e,l[o.SEMATTRS_NET_HOST_PORT]=t,l[o.SEMATTRS_NET_PEER_IP]=r,l[o.SEMATTRS_NET_PEER_PORT]=s}return l[o.SEMATTRS_HTTP_STATUS_CODE]=i,l[a.AttributeNames.HTTP_STATUS_TEXT]=(c||"").toUpperCase(),(null==u?void 0:u.type)===s.RPCType.HTTP&&void 0!==u.route&&(l[o.SEMATTRS_HTTP_ROUTE]=u.route),l},t.getIncomingRequestMetricAttributesOnResponse=e=>{const t={};return t[o.SEMATTRS_HTTP_STATUS_CODE]=e[o.SEMATTRS_HTTP_STATUS_CODE],t[o.SEMATTRS_NET_HOST_PORT]=e[o.SEMATTRS_NET_HOST_PORT],void 0!==e[o.SEMATTRS_HTTP_ROUTE]&&(t[o.SEMATTRS_HTTP_ROUTE]=e[o.SEMATTRS_HTTP_ROUTE]),t},t.headerCapture=function(e,t){const n=new Map;for(let e=0,r=t.length;e<r;e++){const r=t[e].toLowerCase();n.set(r,r.replace(/-/g,"_"))}return(t,r)=>{for(const o of n.keys()){const s=r(o);if(void 0===s)continue;const i=n.get(o),a=`http.${e}.header.${i}`;"string"==typeof s?t.setAttribute(a,[s]):Array.isArray(s)?t.setAttribute(a,s):t.setAttribute(a,[s])}}}},63092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.52.1"},38740:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=n(12996),{safeRe:i,t:a}=n(63492),c=n(308),u=n(86708),l=n(4900),d=n(50768)},50768:(e,t,n)=>{const r=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&_))+":"+e,n=s.get(t);if(n)return n;const r=this.options.loose,o=r?l[d.HYPHENRANGELOOSE]:l[d.HYPHENRANGE];e=e.replace(o,w(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[d.COMPARATORTRIM],p),c("comparator trim",e),e=e.replace(l[d.TILDETRIM],h),c("tilde trim",e),e=e.replace(l[d.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>N(e,this.options)));r&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(l[d.COMPARATORLOOSE]))))),c("range list",i);const u=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(g(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const b=[...u.values()];return s.set(t,b),b}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((n=>b(n,t)&&e.set.some((e=>b(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(n(9012)),i=n(12996),a=n(38740),c=n(86708),u=n(4900),{safeRe:l,t:d,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:f}=n(63492),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:_}=n(43796),g=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,b=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},y=(e,t)=>(c("comp",e,t),e=I(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=C(e,t),c("xrange",e),e=O(e,t),c("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const n=t.loose?l[d.TILDELOOSE]:l[d.TILDE];return e.replace(n,((t,n,r,o,s)=>{let i;return c("tilde",e,t,n,r,o,s),E(n)?i="":E(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:E(o)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${n}.${r}.${o}-${s} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",i),i}))},I=(e,t)=>e.trim().split(/\s+/).map((e=>R(e,t))).join(" "),R=(e,t)=>{c("caret",e,t);const n=t.loose?l[d.CARETLOOSE]:l[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,s,i)=>{let a;return c("caret",e,t,n,o,s,i),E(n)?a="":E(o)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:E(s)?a="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===n?"0"===o?`>=${n}.${o}.${s}-${i} <${n}.${o}.${+s+1}-0`:`>=${n}.${o}.${s}-${i} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${s}-${i} <${+n+1}.0.0-0`):(c("no pr"),a="0"===n?"0"===o?`>=${n}.${o}.${s}${r} <${n}.${o}.${+s+1}-0`:`>=${n}.${o}.${s}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${s} <${+n+1}.0.0-0`),c("caret return",a),a}))},C=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const n=t.loose?l[d.XRANGELOOSE]:l[d.XRANGE];return e.replace(n,((n,r,o,s,i,a)=>{c("xRange",e,n,r,o,s,i,a);const u=E(o),l=u||E(s),d=l||E(i),p=d;return"="===r&&p&&(r=""),a=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(s=0),i=0,">"===r?(r=">=",l?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===r&&(r="<",l?o=+o+1:s=+s+1),"<"===r&&(a="-0"),n=`${r+o}.${s}.${i}${a}`):l?n=`>=${o}.0.0${a} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",n),n}))},O=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[d.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),w=e=>(t,n,r,o,s,i,a,c,u,l,d,p)=>`${n=E(r)?"":E(o)?`>=${r}.0.0${e?"-0":""}`:E(s)?`>=${r}.${o}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=E(u)?"":E(l)?`<${+u+1}.0.0-0`:E(d)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${d}-${p}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),P=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==a.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},4900:(e,t,n)=>{const r=n(86708),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=n(43796),{safeRe:i,t:a}=n(63492),c=n(12996),{compareIdentifiers:u}=n(80028);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},77860:(e,t,n)=>{const r=n(31256);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},308:(e,t,n)=>{const r=n(59096),o=n(54420),s=n(65272),i=n(16332),a=n(86120),c=n(82944);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return o(e,n,u);case">":return s(e,n,u);case">=":return i(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},57848:(e,t,n)=>{const r=n(4900),o=n(31256),{safeRe:s,t:i}=n(63492);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===n)return null;const a=n[2],c=n[3]||"0",u=n[4]||"0",l=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return o(`${a}.${c}.${u}${l}${d}`,t)}},24392:(e,t,n)=>{const r=n(4900);e.exports=(e,t,n)=>{const o=new r(e,n),s=new r(t,n);return o.compare(s)||o.compareBuild(s)}},93952:(e,t,n)=>{const r=n(68792);e.exports=(e,t)=>r(e,t,!0)},68792:(e,t,n)=>{const r=n(4900);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},67861:(e,t,n)=>{const r=n(31256);e.exports=(e,t)=>{const n=r(e,null,!0),o=r(t,null,!0),s=n.compare(o);if(0===s)return null;const i=s>0,a=i?n:o,c=i?o:n,u=!!a.prerelease.length;if(c.prerelease.length&&!u)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const l=u?"pre":"";return n.major!==o.major?l+"major":n.minor!==o.minor?l+"minor":n.patch!==o.patch?l+"patch":"prerelease"}},59096:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>0===r(e,t,n)},65272:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>r(e,t,n)>0},16332:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>r(e,t,n)>=0},99848:(e,t,n)=>{const r=n(4900);e.exports=(e,t,n,o,s)=>{"string"==typeof n&&(s=o,o=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,o,s).version}catch(e){return null}}},86120:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>r(e,t,n)<0},82944:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>r(e,t,n)<=0},48221:(e,t,n)=>{const r=n(4900);e.exports=(e,t)=>new r(e,t).major},49088:(e,t,n)=>{const r=n(4900);e.exports=(e,t)=>new r(e,t).minor},54420:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>0!==r(e,t,n)},31256:(e,t,n)=>{const r=n(4900);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},30448:(e,t,n)=>{const r=n(4900);e.exports=(e,t)=>new r(e,t).patch},20276:(e,t,n)=>{const r=n(31256);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},99912:(e,t,n)=>{const r=n(68792);e.exports=(e,t,n)=>r(t,e,n)},25476:(e,t,n)=>{const r=n(24392);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},36172:(e,t,n)=>{const r=n(50768);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},30912:(e,t,n)=>{const r=n(24392);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},70104:(e,t,n)=>{const r=n(31256);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},76276:(e,t,n)=>{const r=n(63492),o=n(43796),s=n(4900),i=n(80028),a=n(31256),c=n(70104),u=n(77860),l=n(99848),d=n(67861),p=n(48221),h=n(49088),f=n(30448),m=n(20276),_=n(68792),g=n(99912),S=n(93952),b=n(24392),y=n(30912),E=n(25476),v=n(65272),T=n(86120),I=n(59096),R=n(54420),C=n(16332),A=n(82944),O=n(308),N=n(57848),w=n(38740),P=n(50768),L=n(36172),M=n(76476),x=n(5092),k=n(44171),U=n(86892),G=n(69944),V=n(96796),D=n(52204),B=n(64364),F=n(24800),H=n(10064),j=n(54747);e.exports={parse:a,valid:c,clean:u,inc:l,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:_,rcompare:g,compareLoose:S,compareBuild:b,sort:y,rsort:E,gt:v,lt:T,eq:I,neq:R,gte:C,lte:A,cmp:O,coerce:N,Comparator:w,Range:P,satisfies:L,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:U,validRange:G,outside:V,gtr:D,ltr:B,intersects:F,simplifyRange:H,subset:j,SemVer:s,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},43796:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},86708:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},80028:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},9012:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},12996:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},63492:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=n(43796),i=n(86708),a=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[p,o]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=d++;i(e,o,t),l[e]=o,u[o]=t,a[o]=new RegExp(t,n?"g":void 0),c[o]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),f("FULL",`^${u[l.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),f("LOOSE",`^${u[l.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),f("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",u[l.COERCE],!0),f("COERCERTLFULL",u[l.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},52204:(e,t,n)=>{const r=n(96796);e.exports=(e,t,n)=>r(e,t,">",n)},24800:(e,t,n)=>{const r=n(50768);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},64364:(e,t,n)=>{const r=n(96796);e.exports=(e,t,n)=>r(e,t,"<",n)},5092:(e,t,n)=>{const r=n(4900),o=n(50768);e.exports=(e,t,n)=>{let s=null,i=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new r(s,n)))})),s}},44171:(e,t,n)=>{const r=n(4900),o=n(50768);e.exports=(e,t,n)=>{let s=null,i=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new r(s,n)))})),s}},86892:(e,t,n)=>{const r=n(4900),o=n(50768),s=n(65272);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||n&&!s(n,i)||(n=i)}return n&&e.test(n)?n:null}},96796:(e,t,n)=>{const r=n(4900),o=n(38740),{ANY:s}=o,i=n(50768),a=n(36172),c=n(65272),u=n(86120),l=n(82944),d=n(16332);e.exports=(e,t,n,p)=>{let h,f,m,_,g;switch(e=new r(e,p),t=new i(t,p),n){case">":h=c,f=l,m=u,_=">",g=">=";break;case"<":h=u,f=d,m=c,_="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null,a=null;if(r.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,p)?i=e:m(e.semver,a.semver,p)&&(a=e)})),i.operator===_||i.operator===g)return!1;if((!a.operator||a.operator===_)&&f(e,a.semver))return!1;if(a.operator===g&&m(e,a.semver))return!1}return!0}},10064:(e,t,n)=>{const r=n(36172),o=n(68792);e.exports=(e,t,n)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,n)));for(const e of c)r(e,t,n)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const u=[];for(const[e,t]of s)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},54747:(e,t,n)=>{const r=n(50768),o=n(38740),{ANY:s}=o,i=n(36172),a=n(68792),c=[new o(">=0.0.0-0")],u=[new o(">=0.0.0")],l=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=n.includePrerelease?c:u}if(1===t.length&&t[0].semver===s){if(n.includePrerelease)return!0;t=u}const r=new Set;let o,l,h,f,m,_,g;for(const t of e)">"===t.operator||">="===t.operator?o=d(o,t,n):"<"===t.operator||"<="===t.operator?l=p(l,t,n):r.add(t.semver);if(r.size>1)return null;if(o&&l){if(h=a(o.semver,l.semver,n),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==l.operator))return null}for(const e of r){if(o&&!i(e,String(o),n))return null;if(l&&!i(e,String(l),n))return null;for(const r of t)if(!i(e,String(r),n))return!1;return!0}let S=!(!l||n.includePrerelease||!l.semver.prerelease.length)&&l.semver,b=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===l.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,_=_||"<"===e.operator||"<="===e.operator,o)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(f=d(o,e,n),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),n))return!1;if(l)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=p(l,e,n),m===e&&m!==l)return!1}else if("<="===l.operator&&!i(l.semver,String(e),n))return!1;if(!e.operator&&(l||o)&&0!==h)return!1}return!(o&&_&&!l&&0!==h||l&&g&&!o&&0!==h||b||S)},d=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=l(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},76476:(e,t,n)=>{const r=n(50768);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},69944:(e,t,n)=>{const r=n(50768);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},5536:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(23612),t),o(n(20968),t)},23612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IORedisInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(6252),i=n(12744),a=n(86288),c=n(74868),u=n(94220),l={requireParentSpan:!0};class d extends o.InstrumentationBase{constructor(e={}){super(u.PACKAGE_NAME,u.PACKAGE_VERSION,Object.assign({},l,e))}init(){return[new o.InstrumentationNodeModuleDefinition("ioredis",[">=2.0.0 <6"],((e,t)=>{const n="Module"===e[Symbol.toStringTag]?e.default:e;return(0,o.isWrapped)(n.prototype.sendCommand)&&this._unwrap(n.prototype,"sendCommand"),this._wrap(n.prototype,"sendCommand",this._patchSendCommand(t)),(0,o.isWrapped)(n.prototype.connect)&&this._unwrap(n.prototype,"connect"),this._wrap(n.prototype,"connect",this._patchConnection()),e}),(e=>{if(void 0===e)return;const t="Module"===e[Symbol.toStringTag]?e.default:e;this._unwrap(t.prototype,"sendCommand"),this._unwrap(t.prototype,"connect")}))]}_patchSendCommand(e){return t=>this._traceSendCommand(t,e)}_patchConnection(){return e=>this._traceConnection(e)}_traceSendCommand(e,t){const n=this;return function(o){if(arguments.length<1||"object"!=typeof o)return e.apply(this,arguments);const u=n.getConfig(),l=(null==u?void 0:u.dbStatementSerializer)||c.defaultDbStatementSerializer,d=void 0===r.trace.getSpan(r.context.active());if(!0===(null==u?void 0:u.requireParentSpan)&&d)return e.apply(this,arguments);const p=n.tracer.startSpan(o.name,{kind:r.SpanKind.CLIENT,attributes:{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_REDIS,[s.SEMATTRS_DB_STATEMENT]:l(o.name,o.args)}});(null==u?void 0:u.requestHook)&&(0,i.safeExecuteInTheMiddle)((()=>null==u?void 0:u.requestHook(p,{moduleVersion:t,cmdName:o.name,cmdArgs:o.args})),(e=>{e&&r.diag.error("ioredis instrumentation: request hook failed",e)}),!0);const{host:h,port:f}=this.options;p.setAttributes({[s.SEMATTRS_NET_PEER_NAME]:h,[s.SEMATTRS_NET_PEER_PORT]:f,[s.SEMATTRS_DB_CONNECTION_STRING]:`redis://${h}:${f}`});try{const t=e.apply(this,arguments),n=o.resolve;o.resolve=function(e){(0,i.safeExecuteInTheMiddle)((()=>{var t;return null===(t=null==u?void 0:u.responseHook)||void 0===t?void 0:t.call(u,p,o.name,o.args,e)}),(e=>{e&&r.diag.error("ioredis instrumentation: response hook failed",e)}),!0),(0,a.endSpan)(p,null),n(e)};const s=o.reject;return o.reject=function(e){(0,a.endSpan)(p,e),s(e)},t}catch(e){throw(0,a.endSpan)(p,e),e}}}_traceConnection(e){const t=this;return function(){const n=t.getConfig(),o=void 0===r.trace.getSpan(r.context.active());if(!0===(null==n?void 0:n.requireParentSpan)&&o)return e.apply(this,arguments);const i=t.tracer.startSpan("connect",{kind:r.SpanKind.CLIENT,attributes:{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_REDIS,[s.SEMATTRS_DB_STATEMENT]:"connect"}}),{host:c,port:u}=this.options;i.setAttributes({[s.SEMATTRS_NET_PEER_NAME]:c,[s.SEMATTRS_NET_PEER_PORT]:u,[s.SEMATTRS_DB_CONNECTION_STRING]:`redis://${c}:${u}`});try{const t=e.apply(this,arguments);return(0,a.endSpan)(i,null),t}catch(e){throw(0,a.endSpan)(i,e),e}}}}t.IORedisInstrumentation=d},20968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endSpan=void 0;const r=n(59232);t.endSpan=(e,t)=>{t&&(e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message})),e.end()}},94220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-ioredis"},50760:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).KOA_TYPE="koa.type",n.KOA_NAME="koa.name"},5612:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(84912),t),o(n(56700),t),o(n(50760),t)},84912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KoaInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(56700),i=n(47488),a=n(58400),c=n(30164),u=n(38332);class l extends o.InstrumentationBase{constructor(e={}){super(i.PACKAGE_NAME,i.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},e)}getConfig(){return this._config}init(){return new o.InstrumentationNodeModuleDefinition("koa",[">=2.0.0 <3"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return null==t?t:((0,o.isWrapped)(t.prototype.use)&&this._unwrap(t.prototype,"use"),this._wrap(t.prototype,"use",this._getKoaUsePatch.bind(this)),e)}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;(0,o.isWrapped)(t.prototype.use)&&this._unwrap(t.prototype,"use")}))}_getKoaUsePatch(e){const t=this;return function(n){let r;return r=n.router?t._patchRouterDispatch(n):t._patchLayer(n,!1),e.apply(this,[r])}}_patchRouterDispatch(e){var t;r.diag.debug("Patching @koa/router dispatch");const n=e.router,o=null!==(t=null==n?void 0:n.stack)&&void 0!==t?t:[];for(const e of o){const t=e.path,n=e.stack;for(let e=0;e<n.length;e++){const r=n[e];n[e]=this._patchLayer(r,!0,t)}}return e}_patchLayer(e,t,n){const i=t?s.KoaLayerType.ROUTER:s.KoaLayerType.MIDDLEWARE;return!0===e[u.kLayerPatched]||(0,a.isLayerIgnored)(i,this.getConfig())?e:"GeneratorFunction"===e.constructor.name||"AsyncGeneratorFunction"===e.constructor.name?(r.diag.debug("ignoring generator-based Koa middleware layer"),e):(e[u.kLayerPatched]=!0,r.diag.debug("patching Koa middleware layer"),async(s,u)=>{if(void 0===r.trace.getSpan(r.context.active()))return e(s,u);const l=(0,a.getMiddlewareMetadata)(s,e,t,n),d=this.tracer.startSpan(l.name,{attributes:l.attributes}),p=(0,c.getRPCMetadata)(r.context.active());(null==p?void 0:p.type)===c.RPCType.HTTP&&s._matchedRoute&&(p.route=s._matchedRoute.toString()),this.getConfig().requestHook&&(0,o.safeExecuteInTheMiddle)((()=>this.getConfig().requestHook(d,{context:s,middlewareLayer:e,layerType:i})),(e=>{e&&r.diag.error("koa instrumentation: request hook failed",e)}),!0);const h=r.trace.setSpan(r.context.active(),d);return r.context.with(h,(async()=>{try{return await e(s,u)}catch(e){throw d.recordException(e),e}finally{d.end()}}))})}}t.KoaInstrumentation=l},38332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kLayerPatched=void 0,t.kLayerPatched=Symbol("koa-layer-patched")},56700:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.KoaLayerType=void 0,(n=t.KoaLayerType||(t.KoaLayerType={})).ROUTER="router",n.MIDDLEWARE="middleware"},58400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLayerIgnored=t.getMiddlewareMetadata=void 0;const r=n(56700),o=n(50760),s=n(6252);t.getMiddlewareMetadata=(e,t,n,i)=>{var a;return n?{attributes:{[o.AttributeNames.KOA_NAME]:null==i?void 0:i.toString(),[o.AttributeNames.KOA_TYPE]:r.KoaLayerType.ROUTER,[s.SEMATTRS_HTTP_ROUTE]:null==i?void 0:i.toString()},name:e._matchedRouteName||`router - ${i}`}:{attributes:{[o.AttributeNames.KOA_NAME]:null!==(a=t.name)&&void 0!==a?a:"middleware",[o.AttributeNames.KOA_TYPE]:r.KoaLayerType.MIDDLEWARE},name:`middleware - ${t.name}`}},t.isLayerIgnored=(e,t)=>{var n;return!(!Array.isArray(null==t?void 0:t.ignoreLayersType)||!(null===(n=null==t?void 0:t.ignoreLayersType)||void 0===n?void 0:n.includes(e)))}},47488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.42.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-koa"},59752:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(20292),t),o(n(3480),t)},20292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MongoDBInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(6252),i=n(80964),a=n(27272);class c extends o.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){const{v3PatchConnection:e,v3UnpatchConnection:t}=this._getV3ConnectionPatches(),{v4PatchConnect:n,v4UnpatchConnect:r}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:s,v4PatchConnectionPromise:i,v4UnpatchConnection:a}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:c,v4UnpatchConnectionPool:u}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:l,v4UnpatchSessions:d}=this._getV4SessionsPatches();return[new o.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new o.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],e,t)]),new o.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <7"],void 0,void 0,[new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],s,a),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <7"],i,a),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],c,u),new o.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <7"],n,r),new o.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <7"],l,d)])]}_getV3ConnectionPatches(){return{v3PatchConnection:e=>((0,o.isWrapped)(e.insert)&&this._unwrap(e,"insert"),this._wrap(e,"insert",this._getV3PatchOperation("insert")),(0,o.isWrapped)(e.remove)&&this._unwrap(e,"remove"),this._wrap(e,"remove",this._getV3PatchOperation("remove")),(0,o.isWrapped)(e.update)&&this._unwrap(e,"update"),this._wrap(e,"update",this._getV3PatchOperation("update")),(0,o.isWrapped)(e.command)&&this._unwrap(e,"command"),this._wrap(e,"command",this._getV3PatchCommand()),(0,o.isWrapped)(e.query)&&this._unwrap(e,"query"),this._wrap(e,"query",this._getV3PatchFind()),(0,o.isWrapped)(e.getMore)&&this._unwrap(e,"getMore"),this._wrap(e,"getMore",this._getV3PatchCursor()),e),v3UnpatchConnection:e=>{void 0!==e&&(this._unwrap(e,"insert"),this._unwrap(e,"remove"),this._unwrap(e,"update"),this._unwrap(e,"command"),this._unwrap(e,"query"),this._unwrap(e,"getMore"))}}}_getV4SessionsPatches(){return{v4PatchSessions:e=>((0,o.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),this._wrap(e.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0,o.isWrapped)(e.release)&&this._unwrap(e,"release"),this._wrap(e.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),e),v4UnpatchSessions:e=>{void 0!==e&&((0,o.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),(0,o.isWrapped)(e.release)&&this._unwrap(e,"release"))}}}_getV4AcquireCommand(){const e=this;return t=>function(){const n=this.sessions.length,r=t.call(this),o=this.sessions.length;return n===o?e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName}):n-1===o&&(e._connectionsUsage.add(-1,{state:"idle","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName})),r}}_getV4ReleaseCommand(){const e=this;return t=>function(n){const r=t.call(this,n);return e._connectionsUsage.add(-1,{state:"used","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"idle","pool.name":e._poolName}),r}}_getV4ConnectionPoolPatches(){return{v4PatchConnectionPool:e=>{const t=e.ConnectionPool.prototype;return(0,o.isWrapped)(t.checkOut)&&this._unwrap(t,"checkOut"),this._wrap(t,"checkOut",this._getV4ConnectionPoolCheckOut()),e},v4UnpatchConnectionPool:e=>{void 0!==e&&this._unwrap(e.ConnectionPool.prototype,"checkOut")}}}_getV4ConnectPatches(){return{v4PatchConnect:e=>((0,o.isWrapped)(e.connect)&&this._unwrap(e,"connect"),this._wrap(e,"connect",this._getV4ConnectCommand()),e),v4UnpatchConnect:e=>{void 0!==e&&this._unwrap(e,"connect")}}}_getV4ConnectionPoolCheckOut(){return e=>function(t){const n=r.context.bind(r.context.active(),t);return e.call(this,n)}}_getV4ConnectCommand(){const e=this;return t=>function(n,r){if(1===t.length){const r=t.call(this,n);return r&&"function"==typeof r.then&&r.then((()=>e.setPoolName(n)),(()=>{})),r}return t.call(this,n,(function(t,o){!t&&o?(e.setPoolName(n),r(t,o)):r(t,o)}))}}_getV4ConnectionPatches(){return{v4PatchConnectionCallback:e=>((0,o.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandCallback()),e),v4PatchConnectionPromise:e=>((0,o.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandPromise()),e),v4UnpatchConnection:e=>{void 0!==e&&this._unwrap(e.Connection.prototype,"command")}}}_getV3PatchOperation(e){const t=this;return n=>function(o,s,i,a,c){const u="function"==typeof a?a:c;if(!r.trace.getSpan(r.context.active())||"function"!=typeof u||"object"!=typeof i)return"function"==typeof a?n.call(this,o,s,i,a):n.call(this,o,s,i,a,c);const l=t.tracer.startSpan(`mongodb.${e}`,{kind:r.SpanKind.CLIENT});t._populateV3Attributes(l,s,o,i[0],e);const d=t._patchEnd(l,u);return"function"==typeof a?n.call(this,o,s,i,d):n.call(this,o,s,i,a,d)}}_getV3PatchCommand(){const e=this;return t=>function(n,o,s,a,u){const l="function"==typeof a?a:u;if(!r.trace.getSpan(r.context.active())||"function"!=typeof l||"object"!=typeof s)return"function"==typeof a?t.call(this,n,o,s,a):t.call(this,n,o,s,a,u);const d=c._getCommandType(s),p=d===i.MongodbCommandType.UNKNOWN?"command":d,h=e.tracer.startSpan(`mongodb.${p}`,{kind:r.SpanKind.CLIENT}),f=d===i.MongodbCommandType.UNKNOWN?void 0:d;e._populateV3Attributes(h,o,n,s,f);const m=e._patchEnd(h,l);return"function"==typeof a?t.call(this,n,o,s,m):t.call(this,n,o,s,a,m)}}_getV4PatchCommandCallback(){const e=this;return t=>function(n,o,s,i){const a=r.trace.getSpan(r.context.active()),c=i,u=Object.keys(o)[0];if("function"!=typeof c||"object"!=typeof o||o.ismaster||o.hello)return t.call(this,n,o,s,i);let l;a&&(l=e.tracer.startSpan(`mongodb.${u}`,{kind:r.SpanKind.CLIENT}),e._populateV4Attributes(l,this,n,o,u));const d=e._patchEnd(l,c,this.id,u);return t.call(this,n,o,s,d)}}_getV4PatchCommandPromise(){const e=this;return t=>function(...n){const[o,s]=n,i=r.trace.getSpan(r.context.active()),a=Object.keys(s)[0];if("object"!=typeof s||s.ismaster||s.hello)return t.apply(this,n);let c;i&&(c=e.tracer.startSpan(`mongodb.${a}`,{kind:r.SpanKind.CLIENT}),e._populateV4Attributes(c,this,o,s,a));const u=e._patchEnd(c,(()=>{}),this.id,a),l=t.apply(this,n);return l.then((e=>u(null,e)),(e=>u(e))),l}}_getV3PatchFind(){const e=this;return t=>function(n,o,s,i,a,c){const u="function"==typeof a?a:c;if(!r.trace.getSpan(r.context.active())||"function"!=typeof u||"object"!=typeof s)return"function"==typeof a?t.call(this,n,o,s,i,a):t.call(this,n,o,s,i,a,c);const l=e.tracer.startSpan("mongodb.find",{kind:r.SpanKind.CLIENT});e._populateV3Attributes(l,o,n,s,"find");const d=e._patchEnd(l,u);return"function"==typeof a?t.call(this,n,o,s,i,d):t.call(this,n,o,s,i,a,d)}}_getV3PatchCursor(){const e=this;return t=>function(n,o,s,i,a,c){const u="function"==typeof a?a:c;if(!r.trace.getSpan(r.context.active())||"function"!=typeof u)return"function"==typeof a?t.call(this,n,o,s,i,a):t.call(this,n,o,s,i,a,c);const l=e.tracer.startSpan("mongodb.getMore",{kind:r.SpanKind.CLIENT});e._populateV3Attributes(l,o,n,s.cmd,"getMore");const d=e._patchEnd(l,u);return"function"==typeof a?t.call(this,n,o,s,i,d):t.call(this,n,o,s,i,a,d)}}static _getCommandType(e){return void 0!==e.createIndexes?i.MongodbCommandType.CREATE_INDEXES:void 0!==e.findandmodify?i.MongodbCommandType.FIND_AND_MODIFY:void 0!==e.ismaster?i.MongodbCommandType.IS_MASTER:void 0!==e.count?i.MongodbCommandType.COUNT:void 0!==e.aggregate?i.MongodbCommandType.AGGREGATE:i.MongodbCommandType.UNKNOWN}_populateV4Attributes(e,t,n,r,o){let s,i,a;if(t){const e="string"==typeof t.address?t.address.split(":"):"";2===e.length&&(s=e[0],i=e[1])}a=(null==r?void 0:r.documents)&&r.documents[0]?r.documents[0]:(null==r?void 0:r.cursors)?r.cursors:r,this._addAllSpanAttributes(e,n.db,n.collection,s,i,a,o)}_populateV3Attributes(e,t,n,r,o){var s,i,a,c,u,l,d,p;let h,f;if(n&&n.s&&(h=null!==(i=null===(s=n.s.options)||void 0===s?void 0:s.host)&&void 0!==i?i:n.s.host,f=null===(u=null!==(c=null===(a=n.s.options)||void 0===a?void 0:a.port)&&void 0!==c?c:n.s.port)||void 0===u?void 0:u.toString(),null==h||null==f)){const e=null===(l=n.description)||void 0===l?void 0:l.address;if(e){const t=e.split(":");h=t[0],f=t[1]}}const[m,_]=t.toString().split("."),g=null!==(p=null!==(d=null==r?void 0:r.query)&&void 0!==d?d:null==r?void 0:r.q)&&void 0!==p?p:r;this._addAllSpanAttributes(e,m,_,h,f,g,o)}_addAllSpanAttributes(e,t,n,r,i,a,c){if(e.setAttributes({[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_MONGODB,[s.SEMATTRS_DB_NAME]:t,[s.SEMATTRS_DB_MONGODB_COLLECTION]:n,[s.SEMATTRS_DB_OPERATION]:c,[s.SEMATTRS_DB_CONNECTION_STRING]:`mongodb://${r}:${i}/${t}`}),r&&i){e.setAttribute(s.SEMATTRS_NET_PEER_NAME,r);const t=parseInt(i,10);isNaN(t)||e.setAttribute(s.SEMATTRS_NET_PEER_PORT,t)}if(!a)return;const u="function"==typeof this._config.dbStatementSerializer?this._config.dbStatementSerializer:this._defaultDbStatementSerializer.bind(this);(0,o.safeExecuteInTheMiddle)((()=>{const t=u(a);e.setAttribute(s.SEMATTRS_DB_STATEMENT,t)}),(e=>{e&&this._diag.error("Error running dbStatementSerializer hook",e)}),!0)}_defaultDbStatementSerializer(e){var t;const n=(null===(t=this._config)||void 0===t?void 0:t.enhancedDatabaseReporting)?e:this._scrubStatement(e);return JSON.stringify(n)}_scrubStatement(e){return Array.isArray(e)?e.map((e=>this._scrubStatement(e))):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map((([e,t])=>[e,this._scrubStatement(t)]))):"?"}_handleExecutionResult(e,t){const n=this.getConfig();"function"==typeof n.responseHook&&(0,o.safeExecuteInTheMiddle)((()=>{n.responseHook(e,{data:t})}),(e=>{e&&this._diag.error("Error running response hook",e)}),!0)}_patchEnd(e,t,n,o){const s=r.context.active(),i=this;return function(...n){const a=n[0];if(e){if(a instanceof Error)null==e||e.setStatus({code:r.SpanStatusCode.ERROR,message:a.message});else{const t=n[1];i._handleExecutionResult(e,t)}e.end()}return r.context.with(s,(()=>("endSessions"===o&&i._connectionsUsage.add(-1,{state:"idle","pool.name":i._poolName}),t.apply(this,n))))}}setPoolName(e){var t,n;const r=`mongodb://${null===(t=e.hostAddress)||void 0===t?void 0:t.host}:${null===(n=e.hostAddress)||void 0===n?void 0:n.port}/${e.dbName}`;this._poolName=r}}t.MongoDBInstrumentation=c},80964:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MongodbCommandType=void 0,(n=t.MongodbCommandType||(t.MongodbCommandType={})).CREATE_INDEXES="createIndexes",n.FIND_AND_MODIFY="findAndModify",n.IS_MASTER="isMaster",n.COUNT="count",n.AGGREGATE="aggregate",n.UNKNOWN="unknown"},3480:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MongodbCommandType=void 0,(n=t.MongodbCommandType||(t.MongodbCommandType={})).CREATE_INDEXES="createIndexes",n.FIND_AND_MODIFY="findAndModify",n.IS_MASTER="isMaster",n.COUNT="count",n.UNKNOWN="unknown"},27272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.46.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb"},63292:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(56796),t),o(n(92160),t)},56796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MongooseInstrumentation=t._STORED_PARENT_SPAN=void 0;const r=n(59232),o=n(30164),s=n(60140),i=n(12744),a=n(42960),c=n(6252),u=["remove","deleteOne","deleteMany","find","findOne","estimatedDocumentCount","countDocuments","count","distinct","where","$where","findOneAndUpdate","findOneAndDelete","findOneAndReplace","findOneAndRemove"];t._STORED_PARENT_SPAN=Symbol("stored-parent-span");class l extends i.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},e)}init(){return new i.InstrumentationNodeModuleDefinition("mongoose",[">=5.9.7 <7"],this.patch.bind(this),this.unpatch.bind(this))}patch(e,t){return this._wrap(e.Model.prototype,"save",this.patchOnModelMethods("save",t)),e.Model.prototype.$save=e.Model.prototype.save,this._wrap(e.Model.prototype,"remove",this.patchOnModelMethods("remove",t)),this._wrap(e.Query.prototype,"exec",this.patchQueryExec(t)),this._wrap(e.Aggregate.prototype,"exec",this.patchAggregateExec(t)),u.forEach((t=>{this._wrap(e.Query.prototype,t,this.patchAndCaptureSpanContext(t))})),this._wrap(e.Model,"aggregate",this.patchModelAggregate()),e}unpatch(e){this._unwrap(e.Model.prototype,"save"),e.Model.prototype.$save=e.Model.prototype.save,this._unwrap(e.Model.prototype,"remove"),this._unwrap(e.Query.prototype,"exec"),this._unwrap(e.Aggregate.prototype,"exec"),u.forEach((t=>{this._unwrap(e.Query.prototype,t)})),this._unwrap(e.Model,"aggregate")}patchAggregateExec(e){const n=this;return o=>function(s){var i;if(n._config.requireParentSpan&&void 0===r.trace.getSpan(r.context.active()))return o.apply(this,arguments);const a=this[t._STORED_PARENT_SPAN],u={};n._config.dbStatementSerializer&&(u[c.SEMATTRS_DB_STATEMENT]=n._config.dbStatementSerializer("aggregate",{options:this.options,aggregatePipeline:this._pipeline}));const l=n._startSpan(this._model.collection,null===(i=this._model)||void 0===i?void 0:i.modelName,"aggregate",u,a);return n._handleResponse(l,o,this,arguments,s,e)}}patchQueryExec(e){const n=this;return o=>function(s){if(n._config.requireParentSpan&&void 0===r.trace.getSpan(r.context.active()))return o.apply(this,arguments);const i=this[t._STORED_PARENT_SPAN],a={};n._config.dbStatementSerializer&&(a[c.SEMATTRS_DB_STATEMENT]=n._config.dbStatementSerializer(this.op,{condition:this._conditions,updates:this._update,options:this.options,fields:this._fields}));const u=n._startSpan(this.mongooseCollection,this.model.modelName,this.op,a,i);return n._handleResponse(u,o,this,arguments,s,e)}}patchOnModelMethods(e,t){const n=this;return o=>function(s,i){if(n._config.requireParentSpan&&void 0===r.trace.getSpan(r.context.active()))return o.apply(this,arguments);const a={document:this};!s||s instanceof Function||(a.options=s);const u={};n._config.dbStatementSerializer&&(u[c.SEMATTRS_DB_STATEMENT]=n._config.dbStatementSerializer(e,a));const l=n._startSpan(this.constructor.collection,this.constructor.modelName,e,u);return s instanceof Function&&(i=s,s=void 0),n._handleResponse(l,o,this,arguments,i,t)}}patchModelAggregate(){const e=this;return n=>function(){const o=r.trace.getSpan(r.context.active()),s=e._callOriginalFunction((()=>n.apply(this,arguments)));return s&&(s[t._STORED_PARENT_SPAN]=o),s}}patchAndCaptureSpanContext(e){const n=this;return e=>function(){return this[t._STORED_PARENT_SPAN]=r.trace.getSpan(r.context.active()),n._callOriginalFunction((()=>e.apply(this,arguments)))}}_startSpan(e,t,n,o,i){return this.tracer.startSpan(`mongoose.${t}.${n}`,{kind:r.SpanKind.CLIENT,attributes:Object.assign(Object.assign(Object.assign({},o),(0,s.getAttributesFromCollection)(e)),{[c.SEMATTRS_DB_OPERATION]:n,[c.SEMATTRS_DB_SYSTEM]:"mongoose"})},i?r.trace.setSpan(r.context.active(),i):void 0)}_handleResponse(e,t,n,r,o,i=void 0){const a=this;if(o instanceof Function)return a._callOriginalFunction((()=>(0,s.handleCallbackResponse)(o,t,n,e,r,a._config.responseHook,i)));{const o=a._callOriginalFunction((()=>t.apply(n,r)));return(0,s.handlePromiseResponse)(o,e,a._config.responseHook,i)}}_callOriginalFunction(e){var t;return(null===(t=this._config)||void 0===t?void 0:t.suppressInternalInstrumentation)?r.context.with((0,o.suppressTracing)(r.context.active()),e):e()}}t.MongooseInstrumentation=l},92160:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},60140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCallbackResponse=t.handlePromiseResponse=t.getAttributesFromCollection=void 0;const r=n(59232),o=n(12744),s=n(6252);function i(e,t={}){e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:`${t.message} ${t.code?`\nMongoose Error Code: ${t.code}`:""}`})}function a(e,t,n,s=void 0){n&&(0,o.safeExecuteInTheMiddle)((()=>n(e,{moduleVersion:s,response:t})),(e=>{e&&r.diag.error("mongoose instrumentation: responseHook error",e)}),!0)}t.getAttributesFromCollection=function(e){return{[s.SEMATTRS_DB_MONGODB_COLLECTION]:e.name,[s.SEMATTRS_DB_NAME]:e.conn.name,[s.SEMATTRS_DB_USER]:e.conn.user,[s.SEMATTRS_NET_PEER_NAME]:e.conn.host,[s.SEMATTRS_NET_PEER_PORT]:e.conn.port}},t.handlePromiseResponse=function(e,t,n,r=void 0){return e instanceof Promise?e.then((e=>(a(t,e,n,r),e))).catch((e=>{throw i(t,e),e})).finally((()=>t.end())):(a(t,e,n,r),t.end(),e)},t.handleCallbackResponse=function(e,t,n,r,o,s,c=void 0){let u=0;return 2===o.length&&(u=1),o[u]=(t,n)=>(t?i(r,t):a(r,n,s,c),r.end(),e(t,n)),t.apply(n,o)}},42960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mongoose"},16760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(t.AttributeNames||(t.AttributeNames={})).MYSQL_VALUES="db.mysql.values"},61540:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(62832),t),o(n(38248),t)},62832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MySQLInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(6252),i=n(16760),a=n(66640),c=n(5624);class u extends o.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e),this._setMetricInstruments()}setMeterProvider(e){super.setMeterProvider(e),this._setMetricInstruments()}_setMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){return[new o.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],(e=>((0,o.isWrapped)(e.createConnection)&&this._unwrap(e,"createConnection"),this._wrap(e,"createConnection",this._patchCreateConnection()),(0,o.isWrapped)(e.createPool)&&this._unwrap(e,"createPool"),this._wrap(e,"createPool",this._patchCreatePool()),(0,o.isWrapped)(e.createPoolCluster)&&this._unwrap(e,"createPoolCluster"),this._wrap(e,"createPoolCluster",this._patchCreatePoolCluster()),e)),(e=>{void 0!==e&&(this._unwrap(e,"createConnection"),this._unwrap(e,"createPool"),this._unwrap(e,"createPoolCluster"))}))]}_patchCreateConnection(){return e=>{const t=this;return function(n){const r=e(...arguments);return t._wrap(r,"query",t._patchQuery(r)),r}}}_patchCreatePool(){return e=>{const t=this;return function(n){const r=e(...arguments);return t._wrap(r,"query",t._patchQuery(r)),t._wrap(r,"getConnection",t._patchGetConnection(r)),t._wrap(r,"end",t._patchPoolEnd(r)),t._setPoolcallbacks(r,t,""),r}}}_patchPoolEnd(e){return t=>{const n=this;return function(r){const o=e._allConnections.length,s=e._freeConnections.length,i=o-s,c=(0,a.getPoolName)(e);n._connectionsUsage.add(-i,{state:"used",name:c}),n._connectionsUsage.add(-s,{state:"idle",name:c}),t.apply(e,arguments)}}}_patchCreatePoolCluster(){return e=>{const t=this;return function(n){const r=e(...arguments);return t._wrap(r,"getConnection",t._patchGetConnection(r)),t._wrap(r,"add",t._patchAdd(r)),r}}}_patchAdd(e){return t=>{const n=this;return function(r,o){if(!n._enabled)return n._unwrap(e,"add"),t.apply(e,arguments);t.apply(e,arguments);const s=e._nodes;if(s){const t=s["object"==typeof r?"CLUSTER::"+e._lastId:String(r)].pool;n._setPoolcallbacks(t,n,r)}}}}_patchGetConnection(e){return t=>{const n=this;return function(r,o,s){if(!n._enabled)return n._unwrap(e,"getConnection"),t.apply(e,arguments);if(1===arguments.length&&"function"==typeof r){const o=n._getConnectionCallbackPatchFn(r);return t.call(e,o)}if(2===arguments.length&&"function"==typeof o){const s=n._getConnectionCallbackPatchFn(o);return t.call(e,r,s)}if(3===arguments.length&&"function"==typeof s){const i=n._getConnectionCallbackPatchFn(s);return t.call(e,r,o,i)}return t.apply(e,arguments)}}}_getConnectionCallbackPatchFn(e){const t=this,n=r.context.active();return function(s,i){i&&((0,o.isWrapped)(i.query)||t._wrap(i,"query",t._patchQuery(i))),"function"==typeof e&&r.context.with(n,e,this,s,i)}}_patchQuery(e){return t=>{const n=this;return function(o,c,l){if(!n._enabled)return n._unwrap(e,"query"),t.apply(e,arguments);const d=n.tracer.startSpan((0,a.getSpanName)(o),{kind:r.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),(0,a.getConnectionAttributes)(e.config))});if(d.setAttribute(s.SEMATTRS_DB_STATEMENT,(0,a.getDbStatement)(o)),n.getConfig().enhancedDatabaseReporting){let e;Array.isArray(c)?e=c:arguments[2]&&(e=[c]),d.setAttribute(i.AttributeNames.MYSQL_VALUES,(0,a.getDbValues)(o,e))}const p=Array.from(arguments).findIndex((e=>"function"==typeof e)),h=r.context.active();if(-1===p){const n=r.context.with(r.trace.setSpan(r.context.active(),d),(()=>t.apply(e,arguments)));return r.context.bind(h,n),n.on("error",(e=>d.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}))).on("end",(()=>{d.end()}))}return n._wrap(arguments,p,n._patchCallbackQuery(d,h)),r.context.with(r.trace.setSpan(r.context.active(),d),(()=>t.apply(e,arguments)))}}}_patchCallbackQuery(e,t){return n=>function(o,s,i){return o&&e.setStatus({code:r.SpanStatusCode.ERROR,message:o.message}),e.end(),r.context.with(t,(()=>n(...arguments)))}}_setPoolcallbacks(e,t,n){const r=n||(0,a.getPoolName)(e);e.on("connection",(e=>{t._connectionsUsage.add(1,{state:"idle",name:r})})),e.on("acquire",(e=>{t._connectionsUsage.add(-1,{state:"idle",name:r}),t._connectionsUsage.add(1,{state:"used",name:r})})),e.on("release",(e=>{t._connectionsUsage.add(-1,{state:"used",name:r}),t._connectionsUsage.add(1,{state:"idle",name:r})}))}}t.MySQLInstrumentation=u,u.COMMON_ATTRIBUTES={[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_MYSQL}},38248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},66640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPoolName=t.arrayStringifyHelper=t.getSpanName=t.getDbValues=t.getDbStatement=t.getConnectionAttributes=void 0;const r=n(6252);function o(e,t,n){let r=`jdbc:mysql://${e||"localhost"}`;return"number"==typeof t&&(r+=`:${t}`),"string"==typeof n&&(r+=`/${n}`),r}function s(e){return e?`[${e.toString()}]`:""}t.getConnectionAttributes=function(e){const{host:t,port:n,database:s,user:i}=function(e){const{host:t,port:n,database:r,user:o}=e&&e.connectionConfig||e||{};return{host:t,port:n,database:r,user:o}}(e),a=parseInt(n,10);return isNaN(a)?{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,s),[r.SEMATTRS_DB_NAME]:s,[r.SEMATTRS_DB_USER]:i}:{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_NET_PEER_PORT]:a,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,s),[r.SEMATTRS_DB_NAME]:s,[r.SEMATTRS_DB_USER]:i}},t.getDbStatement=function(e){return"string"==typeof e?e:e.sql},t.getDbValues=function(e,t){return s("string"==typeof e?t:t||e.values)},t.getSpanName=function(e){return"object"==typeof e?e.sql:e.split(" ")[0]},t.arrayStringifyHelper=s,t.getPoolName=function(e){const t=e.config.connectionConfig;let n="";return n+=t.host?`host: '${t.host}', `:"",n+=t.port?`port: ${t.port}, `:"",n+=t.database?`database: '${t.database}', `:"",n+=t.user?`user: '${t.user}'`:"",t.user||(n=n.substring(0,n.length-2)),n.trim()}},5624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mysql"},17247:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(75664),t),o(n(71308),t)},75664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MySQL2Instrumentation=void 0;const r=n(59232),o=n(12744),s=n(6252),i=n(51008),a=n(78172),c=n(91636);class u extends o.InstrumentationBase{constructor(e={}){super(c.PACKAGE_NAME,c.PACKAGE_VERSION,e)}init(){return[new o.InstrumentationNodeModuleDefinition("mysql2",[">=1.4.2 <4"],(e=>{const t=e.Connection.prototype;return(0,o.isWrapped)(t.query)&&this._unwrap(t,"query"),this._wrap(t,"query",this._patchQuery(e.format,!1)),(0,o.isWrapped)(t.execute)&&this._unwrap(t,"execute"),this._wrap(t,"execute",this._patchQuery(e.format,!0)),e}),(e=>{if(void 0===e)return;const t=e.Connection.prototype;this._unwrap(t,"query"),this._unwrap(t,"execute")}))]}_patchQuery(e,t){return n=>{const c=this;return function(l,d,p){const h=c._config;let f;Array.isArray(d)?f=d:arguments[2]&&(f=[d]);const m=c.tracer.startSpan((0,a.getSpanName)(l),{kind:r.SpanKind.CLIENT,attributes:Object.assign(Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),(0,a.getConnectionAttributes)(this.config)),{[s.SEMATTRS_DB_STATEMENT]:(0,a.getDbStatement)(l,e,f)})});!t&&h.addSqlCommenterCommentToQueries&&(arguments[0]=l="string"==typeof l?(0,i.addSqlCommenterComment)(m,l):Object.assign(l,{sql:(0,i.addSqlCommenterComment)(m,l.sql)}));const _=(0,a.once)(((e,t)=>{e?m.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}):"function"==typeof h.responseHook&&(0,o.safeExecuteInTheMiddle)((()=>{h.responseHook(m,{queryResults:t})}),(e=>{e&&c._diag.warn("Failed executing responseHook",e)}),!0),m.end()}));if(1===arguments.length){"function"==typeof l.onResult&&c._wrap(l,"onResult",c._patchCallbackQuery(_));const e=n.apply(this,arguments);return e.once("error",(e=>{_(e)})).once("result",(e=>{_(void 0,e)})),e}return"function"==typeof arguments[1]?c._wrap(arguments,1,c._patchCallbackQuery(_)):"function"==typeof arguments[2]&&c._wrap(arguments,2,c._patchCallbackQuery(_)),n.apply(this,arguments)}}}_patchCallbackQuery(e){return t=>function(n,r,o){return e(n,r),t(...arguments)}}}t.MySQL2Instrumentation=u,u.COMMON_ATTRIBUTES={[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_MYSQL}},71308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},78172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.getSpanName=t.getDbStatement=t.getConnectionAttributes=void 0;const r=n(6252);function o(e,t,n){let r=`jdbc:mysql://${e||"localhost"}`;return"number"==typeof t&&(r+=`:${t}`),"string"==typeof n&&(r+=`/${n}`),r}t.getConnectionAttributes=function(e){const{host:t,port:n,database:s,user:i}=function(e){const{host:t,port:n,database:r,user:o}=e&&e.connectionConfig||e||{};return{host:t,port:n,database:r,user:o}}(e),a=parseInt(n,10);return isNaN(a)?{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,s),[r.SEMATTRS_DB_NAME]:s,[r.SEMATTRS_DB_USER]:i}:{[r.SEMATTRS_NET_PEER_NAME]:t,[r.SEMATTRS_NET_PEER_PORT]:a,[r.SEMATTRS_DB_CONNECTION_STRING]:o(t,n,s),[r.SEMATTRS_DB_NAME]:s,[r.SEMATTRS_DB_USER]:i}},t.getDbStatement=function(e,t,n){return"string"==typeof e?n?t(e,n):e:n||e.values?t(e.sql,n||e.values):e.sql},t.getSpanName=function(e){var t;const n="object"==typeof e?e.sql:e;return null===(t=null==n?void 0:n.split(" "))||void 0===t?void 0:t[0]},t.once=e=>{let t=!1;return(...n)=>{if(!t)return t=!0,e(...n)}}},91636:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.40.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-mysql2"},20332:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).VERSION="nestjs.version",n.TYPE="nestjs.type",n.MODULE="nestjs.module",n.CONTROLLER="nestjs.controller",n.CALLBACK="nestjs.callback",n.PIPES="nestjs.pipes",n.INTERCEPTORS="nestjs.interceptors",n.GUARDS="nestjs.guards"},8788:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NestType=void 0,(n=t.NestType||(t.NestType={})).APP_CREATION="app_creation",n.REQUEST_CONTEXT="request_context",n.REQUEST_HANDLER="handler"},59520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestType=t.AttributeNames=void 0;var r=n(20332);Object.defineProperty(t,"AttributeNames",{enumerable:!0,get:function(){return r.AttributeNames}});var o=n(8788);Object.defineProperty(t,"NestType",{enumerable:!0,get:function(){return o.NestType}})},77615:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(94944),t),o(n(20332),t)},94944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(36400),i=n(6252),a=n(59520),c=[">=4.0.0 <11"];class u extends o.InstrumentationBase{constructor(e={}){super(s.PACKAGE_NAME,s.PACKAGE_VERSION,e)}init(){const e=new o.InstrumentationNodeModuleDefinition(u.COMPONENT,c);return e.files.push(this.getNestFactoryFileInstrumentation(c),this.getRouterExecutionContextFileInstrumentation(c)),e}getNestFactoryFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/core/nest-factory.js",e,((e,t)=>(this.ensureWrapped(e.NestFactoryStatic.prototype,"create",function(e,t){return function(n){return function(o){const s=e.startSpan("Create Nest App",{attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),{[a.AttributeNames.TYPE]:a.NestType.APP_CREATION,[a.AttributeNames.VERSION]:t,[a.AttributeNames.MODULE]:o.name})}),i=r.trace.setSpan(r.context.active(),s);return r.context.with(i,(async()=>{try{return await n.apply(this,arguments)}catch(e){throw l(s,e)}finally{s.end()}}))}}}(this.tracer,t)),e)),(e=>{this._unwrap(e.NestFactoryStatic.prototype,"create")}))}getRouterExecutionContextFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/core/router/router-execution-context.js",e,((e,t)=>(this.ensureWrapped(e.RouterExecutionContext.prototype,"create",function(e,t){return function(n){return function(o,s){arguments[1]=function(e,t,n){const o=n.name||"anonymous nest handler",s={attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),{[a.AttributeNames.VERSION]:t,[a.AttributeNames.TYPE]:a.NestType.REQUEST_HANDLER,[a.AttributeNames.CALLBACK]:n.name})},i=function(){const t=e.startSpan(o,s),i=r.trace.setSpan(r.context.active(),t);return r.context.with(i,(async()=>{try{return await n.apply(this,arguments)}catch(e){throw l(t,e)}finally{t.end()}}))};return n.name&&Object.defineProperty(i,"name",{value:n.name}),Reflect.getMetadataKeys(n).forEach((e=>{Reflect.defineMetadata(e,Reflect.getMetadata(e,n),i)})),i}(e,t,s);const c=n.apply(this,arguments),d=s.name,p=o.constructor&&o.constructor.name?o.constructor.name:"UnnamedInstance",h=d?`${p}.${d}`:p;return function(n,o,s){var f,m;const _=e.startSpan(h,{attributes:Object.assign(Object.assign({},u.COMMON_ATTRIBUTES),{[a.AttributeNames.VERSION]:t,[a.AttributeNames.TYPE]:a.NestType.REQUEST_CONTEXT,[i.SEMATTRS_HTTP_METHOD]:n.method,[i.SEMATTRS_HTTP_URL]:n.originalUrl||n.url,[i.SEMATTRS_HTTP_ROUTE]:(null===(f=n.route)||void 0===f?void 0:f.path)||(null===(m=n.routeOptions)||void 0===m?void 0:m.url)||n.routerPath,[a.AttributeNames.CONTROLLER]:p,[a.AttributeNames.CALLBACK]:d})}),g=r.trace.setSpan(r.context.active(),_);return r.context.with(g,(async()=>{try{return await c.apply(this,arguments)}catch(e){throw l(_,e)}finally{_.end()}}))}}}}(this.tracer,t)),e)),(e=>{this._unwrap(e.RouterExecutionContext.prototype,"create")}))}ensureWrapped(e,t,n){(0,o.isWrapped)(e[t])&&this._unwrap(e,t),this._wrap(e,t,n)}}t.NestInstrumentation=u,u.COMPONENT="@nestjs/core",u.COMMON_ATTRIBUTES={component:u.COMPONENT};const l=(e,t)=>(e.recordException(t),e.setStatus({code:r.SpanStatusCode.ERROR,message:t.message}),t)},36400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.39.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-nestjs-core"},4168:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeNames=void 0,(n=t.AttributeNames||(t.AttributeNames={})).PG_VALUES="db.postgresql.values",n.PG_PLAN="db.postgresql.plan",n.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",n.MAX_CLIENT="db.postgresql.max.client"},50472:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanNames=void 0,(n=t.SpanNames||(t.SpanNames={})).QUERY_PREFIX="pg.query",n.CONNECT="pg.connect",n.POOL_CONNECT="pg-pool.connect"},74872:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(55600),t),o(n(31012),t),o(n(4168),t)},55600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PgInstrumentation=void 0;const r=n(12744),o=n(59232),s=n(42144),i=n(51008),a=n(56516),c=n(50472);class u extends r.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}init(){return[new r.InstrumentationNodeModuleDefinition("pg",[">=8.0.0 <9"],(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;return(0,r.isWrapped)(t.Client.prototype.query)&&this._unwrap(t.Client.prototype,"query"),(0,r.isWrapped)(t.Client.prototype.connect)&&this._unwrap(t.Client.prototype,"connect"),this._wrap(t.Client.prototype,"query",this._getClientQueryPatch()),this._wrap(t.Client.prototype,"connect",this._getClientConnectPatch()),e}),(e=>{const t="Module"===e[Symbol.toStringTag]?e.default:e;(0,r.isWrapped)(t.Client.prototype.query)&&this._unwrap(t.Client.prototype,"query")})),new r.InstrumentationNodeModuleDefinition("pg-pool",[">=2.0.0 <4"],(e=>((0,r.isWrapped)(e.prototype.connect)&&this._unwrap(e.prototype,"connect"),this._wrap(e.prototype,"connect",this._getPoolConnectPatch()),e)),(e=>{(0,r.isWrapped)(e.prototype.connect)&&this._unwrap(e.prototype,"connect")}))]}setConfig(e={}){this._config=Object.assign({},e)}getConfig(){return this._config}_getClientConnectPatch(){const e=this;return t=>function(n){if(s.shouldSkipInstrumentation(e.getConfig()))return t.call(this,n);const r=e.tracer.startSpan(c.SpanNames.CONNECT,{kind:o.SpanKind.CLIENT,attributes:s.getSemanticAttributesFromConnection(this)});if(n){const e=o.trace.getSpan(o.context.active());n=s.patchClientConnectCallback(r,n),e&&(n=o.context.bind(o.context.active(),n))}return l(r,o.context.with(o.trace.setSpan(o.context.active(),r),(()=>t.call(this,n))))}}_getClientQueryPatch(){const e=this;return t=>(this._diag.debug("Patching pg.Client.prototype.query"),function(...n){if(s.shouldSkipInstrumentation(e.getConfig()))return t.apply(this,n);const a=n[0],c="string"==typeof a,u=s.isObjectWithTextString(a),l=c?{text:a,values:Array.isArray(n[1])?n[1]:void 0}:u?a:void 0,d=e.getConfig(),p=s.handleConfigQuery.call(this,e.tracer,d,l);if(d.addSqlCommenterCommentToQueries&&(n[0]=c?(0,i.addSqlCommenterComment)(p,a):u?Object.assign(Object.assign({},a),{text:(0,i.addSqlCommenterComment)(p,a.text)}):n[0]),n.length>0){const t=o.trace.getSpan(o.context.active());if("function"==typeof n[n.length-1])n[n.length-1]=s.patchCallback(d,p,n[n.length-1]),t&&(n[n.length-1]=o.context.bind(o.context.active(),n[n.length-1]));else if("function"==typeof(null==l?void 0:l.callback)){let r=s.patchCallback(e.getConfig(),p,l.callback);t&&(r=o.context.bind(o.context.active(),r)),n[0].callback=r}}let h;"function"==typeof d.requestHook&&l&&(0,r.safeExecuteInTheMiddle)((()=>{const{database:e,host:t,port:n,user:r}=this.connectionParameters,o={database:e,host:t,port:n,user:r};d.requestHook(p,{connection:o,query:{text:l.text,values:l.values,name:l.name}})}),(t=>{t&&e._diag.error("Error running query hook",t)}),!0);try{h=t.apply(this,n)}catch(e){throw p.setStatus({code:o.SpanStatusCode.ERROR,message:s.getErrorMessage(e)}),p.end(),e}return h instanceof Promise?h.then((t=>new Promise((n=>{s.handleExecutionResult(e.getConfig(),p,t),p.end(),n(t)})))).catch((e=>new Promise(((t,n)=>{p.setStatus({code:o.SpanStatusCode.ERROR,message:e.message}),p.end(),n(e)})))):h})}_getPoolConnectPatch(){const e=this;return t=>function(n){if(s.shouldSkipInstrumentation(e.getConfig()))return t.call(this,n);const r=e.tracer.startSpan(c.SpanNames.POOL_CONNECT,{kind:o.SpanKind.CLIENT,attributes:s.getSemanticAttributesFromPool(this.options)});if(n){const e=o.trace.getSpan(o.context.active());n=s.patchCallbackPGPool(r,n),e&&(n=o.context.bind(o.context.active(),n))}return l(r,o.context.with(o.trace.setSpan(o.context.active(),r),(()=>t.call(this,n))))}}}function l(e,t){if(!(t instanceof Promise))return t;const n=t;return o.context.bind(o.context.active(),n.then((t=>(e.end(),t))).catch((t=>(e.setStatus({code:o.SpanStatusCode.ERROR,message:s.getErrorMessage(t)}),e.end(),Promise.reject(t)))))}t.PgInstrumentation=u},31012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},42144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObjectWithTextString=t.getErrorMessage=t.patchClientConnectCallback=t.patchCallbackPGPool=t.patchCallback=t.handleExecutionResult=t.handleConfigQuery=t.shouldSkipInstrumentation=t.getSemanticAttributesFromPool=t.getSemanticAttributesFromConnection=t.getConnectionString=t.getQuerySpanName=void 0;const r=n(59232),o=n(4168),s=n(6252),i=n(12744),a=n(50472);function c(e,t){if(!t)return a.SpanNames.QUERY_PREFIX;const n="string"==typeof t.name&&t.name?t.name:function(e){const t=e.indexOf(" ");let n=-1===t?e:e.slice(0,t);return n=n.toUpperCase(),n.endsWith(";")?n.slice(0,-1):n}(t.text);return`${a.SpanNames.QUERY_PREFIX}:${n}${e?` ${e}`:""}`}function u(e){return`postgresql://${e.host||"localhost"}:${e.port||5432}/${e.database||""}`}function l(e){if(Number.isInteger(e))return e}function d(e){return{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_POSTGRESQL,[s.SEMATTRS_DB_NAME]:e.database,[s.SEMATTRS_DB_CONNECTION_STRING]:u(e),[s.SEMATTRS_NET_PEER_NAME]:e.host,[s.SEMATTRS_NET_PEER_PORT]:l(e.port),[s.SEMATTRS_DB_USER]:e.user}}function p(e,t,n){"function"==typeof e.responseHook&&(0,i.safeExecuteInTheMiddle)((()=>{e.responseHook(t,{data:n})}),(e=>{e&&r.diag.error("Error running response hook",e)}),!0)}t.getQuerySpanName=c,t.getConnectionString=u,t.getSemanticAttributesFromConnection=d,t.getSemanticAttributesFromPool=function(e){return{[s.SEMATTRS_DB_SYSTEM]:s.DBSYSTEMVALUES_POSTGRESQL,[s.SEMATTRS_DB_NAME]:e.database,[s.SEMATTRS_DB_CONNECTION_STRING]:u(e),[s.SEMATTRS_NET_PEER_NAME]:e.host,[s.SEMATTRS_NET_PEER_PORT]:l(e.port),[s.SEMATTRS_DB_USER]:e.user,[o.AttributeNames.IDLE_TIMEOUT_MILLIS]:e.idleTimeoutMillis,[o.AttributeNames.MAX_CLIENT]:e.maxClient}},t.shouldSkipInstrumentation=function(e){return!0===e.requireParentSpan&&void 0===r.trace.getSpan(r.context.active())},t.handleConfigQuery=function(e,t,n){const{connectionParameters:i}=this,a=c(i.database,n),u=e.startSpan(a,{kind:r.SpanKind.CLIENT,attributes:d(i)});if(!n)return u;if(n.text&&u.setAttribute(s.SEMATTRS_DB_STATEMENT,n.text),t.enhancedDatabaseReporting&&Array.isArray(n.values))try{const e=n.values.map((e=>null==e?"null":e instanceof Buffer?e.toString():"object"==typeof e?"function"==typeof e.toPostgres?e.toPostgres():JSON.stringify(e):e.toString()));u.setAttribute(o.AttributeNames.PG_VALUES,e)}catch(e){r.diag.error("failed to stringify ",n.values,e)}return"string"==typeof n.name&&u.setAttribute(o.AttributeNames.PG_PLAN,n.name),u},t.handleExecutionResult=p,t.patchCallback=function(e,t,n){return function(o,s){o?t.setStatus({code:r.SpanStatusCode.ERROR,message:o.message}):p(e,t,s),t.end(),n.call(this,o,s)}},t.patchCallbackPGPool=function(e,t){return function(n,o,s){n&&e.setStatus({code:r.SpanStatusCode.ERROR,message:n.message}),e.end(),t.call(this,n,o,s)}},t.patchClientConnectCallback=function(e,t){return function(n){n&&e.setStatus({code:r.SpanStatusCode.ERROR,message:n.message}),e.end(),t.apply(this,arguments)}},t.getErrorMessage=function(e){return"object"==typeof e&&null!==e&&"message"in e?String(e.message):void 0},t.isObjectWithTextString=function(e){var t;return"object"==typeof e&&"string"==typeof(null===(t=e)||void 0===t?void 0:t.text)}},56516:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.43.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-pg"},83808:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(90872),t),o(n(85251),t)},90872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedisInstrumentation=void 0;const r=n(59232),o=n(12744),s=n(89312),i=n(74868),a=n(69696),c=n(6252),u=Symbol("opentelemetry.instrumentation.redis.open_spans"),l=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),d={requireParentSpan:!1};class p extends o.InstrumentationBase{constructor(e={}){super(a.PACKAGE_NAME,a.PACKAGE_VERSION,e)}setConfig(e={}){this._config=Object.assign({},d,e)}init(){return[this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){const t=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],((e,t)=>{const n=e.transformCommandArguments;if(!n)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),e;const r=(null==t?void 0:t.startsWith("1.0."))?"extendWithCommands":"attachCommands";return(0,o.isWrapped)(null==e?void 0:e[r])&&this._unwrap(e,r),this._wrap(e,r,this._getPatchExtendWithCommands(n)),e}),(e=>{(0,o.isWrapped)(null==e?void 0:e.extendWithCommands)&&this._unwrap(e,"extendWithCommands"),(0,o.isWrapped)(null==e?void 0:e.attachCommands)&&this._unwrap(e,"attachCommands")})),n=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0"],(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;return(0,o.isWrapped)(null==n?void 0:n.exec)&&this._unwrap(n,"exec"),this._wrap(n,"exec",this._getPatchMultiCommandsExec()),(0,o.isWrapped)(null==n?void 0:n.addCommand)&&this._unwrap(n,"addCommand"),this._wrap(n,"addCommand",this._getPatchMultiCommandsAddCommand()),e}),(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;(0,o.isWrapped)(null==n?void 0:n.exec)&&this._unwrap(n,"exec"),(0,o.isWrapped)(null==n?void 0:n.addCommand)&&this._unwrap(n,"addCommand")})),r=new o.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0"],(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;return(null==n?void 0:n.multi)&&((0,o.isWrapped)(null==n?void 0:n.multi)&&this._unwrap(n,"multi"),this._wrap(n,"multi",this._getPatchRedisClientMulti())),(null==n?void 0:n.MULTI)&&((0,o.isWrapped)(null==n?void 0:n.MULTI)&&this._unwrap(n,"MULTI"),this._wrap(n,"MULTI",this._getPatchRedisClientMulti())),(0,o.isWrapped)(null==n?void 0:n.sendCommand)&&this._unwrap(n,"sendCommand"),this._wrap(n,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(n,"connect",this._getPatchedClientConnect()),e}),(e=>{var t;const n=null===(t=null==e?void 0:e.default)||void 0===t?void 0:t.prototype;(0,o.isWrapped)(null==n?void 0:n.multi)&&this._unwrap(n,"multi"),(0,o.isWrapped)(null==n?void 0:n.MULTI)&&this._unwrap(n,"MULTI"),(0,o.isWrapped)(null==n?void 0:n.sendCommand)&&this._unwrap(n,"sendCommand")}));return new o.InstrumentationNodeModuleDefinition(e,["^1.0.0"],(e=>e),(()=>{}),[t,n,r])}_getPatchExtendWithCommands(e){const t=this;return function(n){return function(r){var o;if("RedisClient"!==(null===(o=null==r?void 0:r.BaseClass)||void 0===o?void 0:o.name))return n.apply(this,arguments);const s=r.executor;return r.executor=function(n,r){const o=e(n,r).args;return t._traceClientCommand(s,this,arguments,o)},n.apply(this,arguments)}}}_getPatchMultiCommandsExec(){const e=this;return function(t){return function(){const n=t.apply(this,arguments);return"function"!=typeof(null==n?void 0:n.then)?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),n):n.then((t=>{const n=this[u];return e._endSpansWithRedisReplies(n,t),t})).catch((t=>{const n=this[u];if(n){const r="MultiErrorReply"===t.constructor.name?t.replies:new Array(n.length).fill(t);e._endSpansWithRedisReplies(n,r)}else e._diag.error("cannot find open spans to end for redis multi command");return Promise.reject(t)}))}}}_getPatchMultiCommandsAddCommand(){const e=this;return function(t){return function(n){return e._traceClientCommand(t,this,arguments,n)}}}_getPatchRedisClientMulti(){return function(e){return function(){const t=e.apply(this,arguments);return t[l]=this.options,t}}}_getPatchRedisClientSendCommand(){const e=this;return function(t){return function(n){return e._traceClientCommand(t,this,arguments,n)}}}_getPatchedClientConnect(){const e=this;return function(t){return function(){const n=this.options,o=(0,s.getClientAttributes)(this._diag,n),i=e.tracer.startSpan(`${p.COMPONENT}-connect`,{kind:r.SpanKind.CLIENT,attributes:o});return r.context.with(r.trace.setSpan(r.context.active(),i),(()=>t.apply(this))).then((e=>(i.end(),e))).catch((e=>(i.recordException(e),i.setStatus({code:r.SpanStatusCode.ERROR,message:e.message}),i.end(),Promise.reject(e))))}}}_traceClientCommand(e,t,n,o){var a,d;if(void 0===r.trace.getSpan(r.context.active())&&(null===(a=this._config)||void 0===a?void 0:a.requireParentSpan))return e.apply(t,n);const h=t.options||t[l],f=o[0],m=o.slice(1),_=(null===(d=this._config)||void 0===d?void 0:d.dbStatementSerializer)||i.defaultDbStatementSerializer,g=(0,s.getClientAttributes)(this._diag,h);try{const e=_(f,m);null!=e&&(g[c.SEMATTRS_DB_STATEMENT]=e)}catch(e){this._diag.error("dbStatementSerializer throw an exception",e,{commandName:f})}const S=this.tracer.startSpan(`${p.COMPONENT}-${f}`,{kind:r.SpanKind.CLIENT,attributes:g}),b=r.context.with(r.trace.setSpan(r.context.active(),S),(()=>e.apply(t,n)));if("function"==typeof(null==b?void 0:b.then))b.then((e=>{this._endSpanWithResponse(S,f,m,e,void 0)}),(e=>{this._endSpanWithResponse(S,f,m,null,e)}));else{const e=b;e[u]=e[u]||[],e[u].push({span:S,commandName:f,commandArgs:m})}return b}_endSpansWithRedisReplies(e,t){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(t.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let n=0;n<e.length;n++){const{span:r,commandName:o,commandArgs:s}=e[n],i=t[n],[a,c]=i instanceof Error?[null,i]:[i,void 0];this._endSpanWithResponse(r,o,s,a,c)}}_endSpanWithResponse(e,t,n,o,s){if(!s&&this._config.responseHook)try{this._config.responseHook(e,t,n,o)}catch(e){this._diag.error("responseHook throw an exception",e)}s&&(e.recordException(s),e.setStatus({code:r.SpanStatusCode.ERROR,message:null==s?void 0:s.message})),e.end()}}t.RedisInstrumentation=p,p.COMPONENT="redis"},85251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},89312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAttributes=void 0;const r=n(6252);function o(e,t){if("string"==typeof t)try{const e=new URL(t);return e.searchParams.delete("user_pwd"),e.username="",e.password="",e.href}catch(t){e.error("failed to sanitize redis connection url",t)}}t.getClientAttributes=function(e,t){var n,s;return{[r.SEMATTRS_DB_SYSTEM]:r.DBSYSTEMVALUES_REDIS,[r.SEMATTRS_NET_PEER_NAME]:null===(n=null==t?void 0:t.socket)||void 0===n?void 0:n.host,[r.SEMATTRS_NET_PEER_PORT]:null===(s=null==t?void 0:t.socket)||void 0===s?void 0:s.port,[r.SEMATTRS_DB_CONNECTION_STRING]:o(e,null==t?void 0:t.url)}}},69696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_NAME=t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="0.41.0",t.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4"},12744:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InstrumentationBase:()=>V,InstrumentationNodeModuleDefinition:()=>B,InstrumentationNodeModuleFile:()=>F,isWrapped:()=>x,registerInstrumentations:()=>d,safeExecuteInTheMiddle:()=>L,safeExecuteInTheMiddleAsync:()=>M});var r=n(40688),o=n(32056),s="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),a=s,c=function(){function e(){}return e.prototype.emit=function(e){},e}(),u=(new c,new(function(){function e(){}return e.prototype.getLogger=function(e,t,n){return new c},e}())),l=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return a[i]?this.getLoggerProvider():(a[i]=(1,t=e,n=u,function(e){return 1===e?t:n}),e);var t,n},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=a[i])||void 0===e?void 0:e.call(a,1))&&void 0!==t?t:u},e.prototype.getLogger=function(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)},e.prototype.disable=function(){delete a[i]},e}().getInstance();function d(e){var t,n,s=e.tracerProvider||r.y.getTracerProvider(),i=e.meterProvider||o.G.getMeterProvider(),a=e.loggerProvider||l.getLoggerProvider(),c=null!==(n=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==n?n:[];return function(e,t,n,r){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),n&&i.setMeterProvider(n),r&&i.setLoggerProvider&&i.setLoggerProvider(r),i.getConfig().enabled||i.enable()}}(c,s,i,a),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var p=n(67072),h=n(50970),f=n(66696),m=n(13156),_=n(14412),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)},S=function(){function e(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=m.wrap,this._unwrap=m.unwrap,this._massWrap=m.massWrap,this._massUnwrap=m.massUnwrap,this._config=g({enabled:!0},n),this._diag=_.K.createComponentLogger({namespace:e}),this._tracer=r.y.getTracer(e,t),this._meter=o.G.getMeter(e,t),this._logger=l.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=g({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,n,r){if(e)try{e(n,r)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),b=n(51872),y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},v=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},T="/",I=function(){this.hooks=[],this.children=new Map},R=function(){function e(){this._trie=new I,this._counter=0}return e.prototype.insert=function(e){var t,n,r=this._trie;try{for(var o=y(e.moduleName.split(T)),s=o.next();!s.done;s=o.next()){var i=s.value,a=r.children.get(i);a||(a=new I,r.children.set(i,a)),r=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var n,r,o=void 0===t?{}:t,s=o.maintainInsertionOrder,i=o.fullOnly,a=this._trie,c=[],u=!0;try{for(var l=y(e.split(T)),d=l.next();!d.done;d=l.next()){var p=d.value,h=a.children.get(p);if(!h){u=!1;break}i||c.push.apply(c,v([],E(h.hooks),!1)),a=h}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return i&&u&&c.push.apply(c,v([],E(a.hooks),!1)),0===c.length?[]:1===c.length?[c[0].hook]:(s&&c.sort((function(e,t){return e.insertedId-t.insertedId})),c.map((function(e){return e.hook})))},e}(),C=["afterEach","after","beforeEach","before","describe","it"].every((function(e){return"function"==typeof global[e]})),A=function(){function e(){this._moduleNameTrie=new R,this._initialize()}return e.prototype._initialize=function(){var e=this;new b.Hook(null,{internals:!0},(function(t,n,r){var o,s,i,a=(i=n,p.sep!==T?i.split(p.sep).join(T):i),c=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===r});try{for(var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),l=u.next();!l.done;l=u.next())t=(0,l.value.onRequire)(t,n,r)}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return t}))},e.prototype.register=function(e,t){var n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n},e.getInstance=function(){var t;return C?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}(),O=n(35444),N=n(2058),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function L(e,t,n){var r,o;try{o=e()}catch(e){r=e}finally{if(t(r,o),r&&!n)throw r;return o}}function M(e,t,n){return w(this,void 0,void 0,(function(){var r,o,s;return P(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),r=s,[3,4];case 3:if(t(r,o),r&&!n)throw r;return[2,o];case 4:return[2]}}))}))}function x(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var k,U=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),G=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},V=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o._hooks=[],o._requireInTheMiddleSingleton=A.getInstance(),o._enabled=!1,o._wrap=function(e,t,n){if(x(e[t])&&o._unwrap(e,t),h.types.isProxy(e)){var r=(0,m.wrap)(Object.assign({},e),t,n);return Object.defineProperty(e,t,{value:r})}return(0,m.wrap)(e,t,n)},o._unwrap=function(e,t){return h.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,m.unwrap)(e,t)},o._massWrap=function(e,t,n){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._wrap(e,t,n)}))})):_.K.error("must provide one or more functions to wrap on modules")):_.K.error("must provide one or more modules to patch")},o._massUnwrap=function(e,t){e?(Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o._unwrap(e,t)}))})):_.K.error("must provide one or more functions to wrap on modules")):_.K.error("must provide one or more modules to patch")};var s=o.init();return s&&!Array.isArray(s)&&(s=[s]),o._modules=s||[],0===o._modules.length&&_.K.debug("No modules instrumentation has been defined for '"+o.instrumentationName+"@"+o.instrumentationVersion+"', nothing will be patched"),o._config.enabled&&o.enable(),o}return U(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach((function(t){var r=t.name;try{var o=n(23672).resolve(r);n.c[o]&&e._diag.warn("Module "+r+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+r)}catch(e){}}))},t.prototype._extractPackageVersion=function(e){try{var t=(0,N.readFileSync)(p.join(e,"package.json"),{encoding:"utf8"}),n=JSON.parse(t).version;return"string"==typeof n?n:void 0}catch(t){_.K.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,n,r){var o,s=this;if(!r)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var i=this._extractPackageVersion(r);if(e.moduleVersion=i,e.name===n)return D(e.supportedVersions,i,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:r}),e.patch(t,e.moduleVersion)):t;var a=null!==(o=e.files)&&void 0!==o?o:[],c=p.normalize(n);return a.filter((function(e){return e.name===c})).filter((function(t){return D(t.supportedVersions,i,e.includePrerelease)})).reduce((function(t,n){return n.moduleExports=t,s._enabled?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:n.name,baseDir:r}),n.patch(t,e.moduleVersion)):t}),t)},t.prototype.enable=function(){var e,t,n,r,o,s,i=this;if(!this._enabled)if(this._enabled=!0,this._hooks.length>0)try{for(var a=G(this._modules),c=a.next();!c.done;c=a.next()){var u=c.value;"function"==typeof u.patch&&u.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:u.name,version:u.moduleVersion}),u.patch(u.moduleExports,u.moduleVersion));try{for(var l=(n=void 0,G(u.files)),d=l.next();!d.done;d=l.next()){var h=d.value;h.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:u.name,version:u.moduleVersion,fileName:h.name}),h.patch(h.moduleExports,u.moduleVersion))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else{this._warnOnPreloadedModules();var f=function(e){var t=function(t,n,r){return i._onRequire(e,t,n,r)},n=p.isAbsolute(e.name)?new b.Hook([e.name],{internals:!0},t):m._requireInTheMiddleSingleton.register(e.name,t);m._hooks.push(n);var r=new O.Hook([e.name],{internals:!1},(function(t,n,r){return i._onRequire(e,t,n,r)}));m._hooks.push(r)},m=this;try{for(var _=G(this._modules),g=_.next();!g.done;g=_.next())f(g.value)}catch(e){o={error:e}}finally{try{g&&!g.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,n,r;if(this._enabled){this._enabled=!1;try{for(var o=G(this._modules),s=o.next();!s.done;s=o.next()){var i=s.value;"function"==typeof i.unpatch&&i.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:i.name,version:i.moduleVersion}),i.unpatch(i.moduleExports,i.moduleVersion));try{for(var a=(n=void 0,G(i.files)),c=a.next();!c.done;c=a.next()){var u=c.value;u.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:i.name,version:i.moduleVersion,fileName:u.name}),u.unpatch(u.moduleExports,i.moduleVersion))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(S);function D(e,t,n){return void 0===t?e.includes("*"):e.some((function(e){return(0,f.satisfies)(t,e,{includePrerelease:n})}))}var B=function(e,t,n,r,o){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=r,this.files=o||[]},F=function(e,t,n,r){this.supportedVersions=t,this.patch=n,this.unpatch=r,this.name=(0,p.normalize)(e)}},23672:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=23672,e.exports=t},42672:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=s(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const s=n(54496),{safeRe:i,t:a}=n(97428),c=n(55968),u=n(21924),l=n(90976),d=n(52724)},52724:(e,t,n)=>{const r=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&_))+":"+e,n=s.get(t);if(n)return n;const r=this.options.loose,o=r?l[d.HYPHENRANGELOOSE]:l[d.HYPHENRANGE];e=e.replace(o,w(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[d.COMPARATORTRIM],p),c("comparator trim",e),e=e.replace(l[d.TILDETRIM],h),c("tilde trim",e),e=e.replace(l[d.CARETTRIM],f),c("caret trim",e);let i=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>N(e,this.options)));r&&(i=i.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(l[d.COMPARATORLOOSE]))))),c("range list",i);const u=new Map,S=i.map((e=>new a(e,this.options)));for(const e of S){if(g(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const b=[...u.values()];return s.set(t,b),b}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((n=>b(n,t)&&e.set.some((e=>b(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const s=new(n(88e3)),i=n(54496),a=n(42672),c=n(21924),u=n(90976),{safeRe:l,t:d,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:f}=n(97428),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:_}=n(24268),g=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,b=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},y=(e,t)=>(c("comp",e,t),e=I(e,t),c("caret",e),e=v(e,t),c("tildes",e),e=C(e,t),c("xrange",e),e=O(e,t),c("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const n=t.loose?l[d.TILDELOOSE]:l[d.TILDE];return e.replace(n,((t,n,r,o,s)=>{let i;return c("tilde",e,t,n,r,o,s),E(n)?i="":E(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:E(o)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:s?(c("replaceTilde pr",s),i=`>=${n}.${r}.${o}-${s} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",i),i}))},I=(e,t)=>e.trim().split(/\s+/).map((e=>R(e,t))).join(" "),R=(e,t)=>{c("caret",e,t);const n=t.loose?l[d.CARETLOOSE]:l[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,s,i)=>{let a;return c("caret",e,t,n,o,s,i),E(n)?a="":E(o)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:E(s)?a="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:i?(c("replaceCaret pr",i),a="0"===n?"0"===o?`>=${n}.${o}.${s}-${i} <${n}.${o}.${+s+1}-0`:`>=${n}.${o}.${s}-${i} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${s}-${i} <${+n+1}.0.0-0`):(c("no pr"),a="0"===n?"0"===o?`>=${n}.${o}.${s}${r} <${n}.${o}.${+s+1}-0`:`>=${n}.${o}.${s}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${s} <${+n+1}.0.0-0`),c("caret return",a),a}))},C=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const n=t.loose?l[d.XRANGELOOSE]:l[d.XRANGE];return e.replace(n,((n,r,o,s,i,a)=>{c("xRange",e,n,r,o,s,i,a);const u=E(o),l=u||E(s),d=l||E(i),p=d;return"="===r&&p&&(r=""),a=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(s=0),i=0,">"===r?(r=">=",l?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===r&&(r="<",l?o=+o+1:s=+s+1),"<"===r&&(a="-0"),n=`${r+o}.${s}.${i}${a}`):l?n=`>=${o}.0.0${a} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${a} <${o}.${+s+1}.0-0`),c("xRange return",n),n}))},O=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[d.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),w=e=>(t,n,r,o,s,i,a,c,u,l,d,p)=>`${n=E(r)?"":E(o)?`>=${r}.0.0${e?"-0":""}`:E(s)?`>=${r}.${o}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=E(u)?"":E(l)?`<${+u+1}.0.0-0`:E(d)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${d}-${p}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),P=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==a.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},90976:(e,t,n)=>{const r=n(21924),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=n(24268),{safeRe:i,t:a}=n(97428),c=n(54496),{compareIdentifiers:u}=n(84208);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},53232:(e,t,n)=>{const r=n(74755);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},55968:(e,t,n)=>{const r=n(93044),o=n(29312),s=n(9016),i=n(71972),a=n(96376),c=n(33176);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return o(e,n,u);case">":return s(e,n,u);case">=":return i(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},90896:(e,t,n)=>{const r=n(90976),o=n(74755),{safeRe:s,t:i}=n(97428);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?s[i.COERCERTLFULL]:s[i.COERCERTL];let o;for(;(o=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?s[i.COERCEFULL]:s[i.COERCE]);if(null===n)return null;const a=n[2],c=n[3]||"0",u=n[4]||"0",l=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return o(`${a}.${c}.${u}${l}${d}`,t)}},1800:(e,t,n)=>{const r=n(90976);e.exports=(e,t,n)=>{const o=new r(e,n),s=new r(t,n);return o.compare(s)||o.compareBuild(s)}},11040:(e,t,n)=>{const r=n(11632);e.exports=(e,t)=>r(e,t,!0)},11632:(e,t,n)=>{const r=n(90976);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},28320:(e,t,n)=>{const r=n(74755);e.exports=(e,t)=>{const n=r(e,null,!0),o=r(t,null,!0),s=n.compare(o);if(0===s)return null;const i=s>0,a=i?n:o,c=i?o:n,u=!!a.prerelease.length;if(c.prerelease.length&&!u)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const l=u?"pre":"";return n.major!==o.major?l+"major":n.minor!==o.minor?l+"minor":n.patch!==o.patch?l+"patch":"prerelease"}},93044:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>0===r(e,t,n)},9016:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>r(e,t,n)>0},71972:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>r(e,t,n)>=0},93400:(e,t,n)=>{const r=n(90976);e.exports=(e,t,n,o,s)=>{"string"==typeof n&&(s=o,o=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,o,s).version}catch(e){return null}}},96376:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>r(e,t,n)<0},33176:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>r(e,t,n)<=0},96768:(e,t,n)=>{const r=n(90976);e.exports=(e,t)=>new r(e,t).major},75408:(e,t,n)=>{const r=n(90976);e.exports=(e,t)=>new r(e,t).minor},29312:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>0!==r(e,t,n)},74755:(e,t,n)=>{const r=n(90976);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},66864:(e,t,n)=>{const r=n(90976);e.exports=(e,t)=>new r(e,t).patch},51216:(e,t,n)=>{const r=n(74755);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},93968:(e,t,n)=>{const r=n(11632);e.exports=(e,t,n)=>r(t,e,n)},51324:(e,t,n)=>{const r=n(1800);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},33080:(e,t,n)=>{const r=n(52724);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},82676:(e,t,n)=>{const r=n(1800);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},52832:(e,t,n)=>{const r=n(74755);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},66696:(e,t,n)=>{const r=n(97428),o=n(24268),s=n(90976),i=n(84208),a=n(74755),c=n(52832),u=n(53232),l=n(93400),d=n(28320),p=n(96768),h=n(75408),f=n(66864),m=n(51216),_=n(11632),g=n(93968),S=n(11040),b=n(1800),y=n(82676),E=n(51324),v=n(9016),T=n(96376),I=n(93044),R=n(29312),C=n(71972),A=n(33176),O=n(55968),N=n(90896),w=n(42672),P=n(52724),L=n(33080),M=n(52768),x=n(27496),k=n(86492),U=n(93668),G=n(37512),V=n(56132),D=n(1892),B=n(16211),F=n(90848),H=n(66364),j=n(19732);e.exports={parse:a,valid:c,clean:u,inc:l,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:_,rcompare:g,compareLoose:S,compareBuild:b,sort:y,rsort:E,gt:v,lt:T,eq:I,neq:R,gte:C,lte:A,cmp:O,coerce:N,Comparator:w,Range:P,satisfies:L,toComparators:M,maxSatisfying:x,minSatisfying:k,minVersion:U,validRange:G,outside:V,gtr:D,ltr:B,intersects:F,simplifyRange:H,subset:j,SemVer:s,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},24268:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},21924:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},84208:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},88e3:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},54496:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},97428:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:s}=n(24268),i=n(21924),a=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[p,o]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=d++;i(e,o,t),l[e]=o,u[o]=t,a[o]=new RegExp(t,n?"g":void 0),c[o]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),f("FULL",`^${u[l.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),f("LOOSE",`^${u[l.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),f("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",u[l.COERCE],!0),f("COERCERTLFULL",u[l.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},1892:(e,t,n)=>{const r=n(56132);e.exports=(e,t,n)=>r(e,t,">",n)},90848:(e,t,n)=>{const r=n(52724);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},16211:(e,t,n)=>{const r=n(56132);e.exports=(e,t,n)=>r(e,t,"<",n)},27496:(e,t,n)=>{const r=n(90976),o=n(52724);e.exports=(e,t,n)=>{let s=null,i=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==i.compare(e)||(s=e,i=new r(s,n)))})),s}},86492:(e,t,n)=>{const r=n(90976),o=n(52724);e.exports=(e,t,n)=>{let s=null,i=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==i.compare(e)||(s=e,i=new r(s,n)))})),s}},93668:(e,t,n)=>{const r=n(90976),o=n(52724),s=n(9016);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!s(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||n&&!s(n,i)||(n=i)}return n&&e.test(n)?n:null}},56132:(e,t,n)=>{const r=n(90976),o=n(42672),{ANY:s}=o,i=n(52724),a=n(33080),c=n(9016),u=n(96376),l=n(33176),d=n(71972);e.exports=(e,t,n,p)=>{let h,f,m,_,g;switch(e=new r(e,p),t=new i(t,p),n){case">":h=c,f=l,m=u,_=">",g=">=";break;case"<":h=u,f=d,m=c,_="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null,a=null;if(r.forEach((e=>{e.semver===s&&(e=new o(">=0.0.0")),i=i||e,a=a||e,h(e.semver,i.semver,p)?i=e:m(e.semver,a.semver,p)&&(a=e)})),i.operator===_||i.operator===g)return!1;if((!a.operator||a.operator===_)&&f(e,a.semver))return!1;if(a.operator===g&&m(e,a.semver))return!1}return!0}},66364:(e,t,n)=>{const r=n(33080),o=n(11632);e.exports=(e,t,n)=>{const s=[];let i=null,a=null;const c=e.sort(((e,t)=>o(e,t,n)));for(const e of c)r(e,t,n)?(a=e,i||(i=e)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const u=[];for(const[e,t]of s)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},19732:(e,t,n)=>{const r=n(52724),o=n(42672),{ANY:s}=o,i=n(33080),a=n(11632),c=[new o(">=0.0.0-0")],u=[new o(">=0.0.0")],l=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=n.includePrerelease?c:u}if(1===t.length&&t[0].semver===s){if(n.includePrerelease)return!0;t=u}const r=new Set;let o,l,h,f,m,_,g;for(const t of e)">"===t.operator||">="===t.operator?o=d(o,t,n):"<"===t.operator||"<="===t.operator?l=p(l,t,n):r.add(t.semver);if(r.size>1)return null;if(o&&l){if(h=a(o.semver,l.semver,n),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==l.operator))return null}for(const e of r){if(o&&!i(e,String(o),n))return null;if(l&&!i(e,String(l),n))return null;for(const r of t)if(!i(e,String(r),n))return!1;return!0}let S=!(!l||n.includePrerelease||!l.semver.prerelease.length)&&l.semver,b=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver;S&&1===S.prerelease.length&&"<"===l.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,_=_||"<"===e.operator||"<="===e.operator,o)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(f=d(o,e,n),f===e&&f!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),n))return!1;if(l)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=p(l,e,n),m===e&&m!==l)return!1}else if("<="===l.operator&&!i(l.semver,String(e),n))return!1;if(!e.operator&&(l||o)&&0!==h)return!1}return!(o&&_&&!l&&0!==h||l&&g&&!o&&0!==h||b||S)},d=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=l(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},52768:(e,t,n)=>{const r=n(52724);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},37512:(e,t,n)=>{const r=n(52724);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},74868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDbStatementSerializer=void 0;const n=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}];t.defaultDbStatementSerializer=(e,t)=>{var r,o;if(Array.isArray(t)&&t.length){const s=null!==(o=null===(r=n.find((({regex:t})=>t.test(e))))||void 0===r?void 0:r.args)&&void 0!==o?o:0,i=s>=0?t.slice(0,s):t;return t.length>i.length&&i.push(`[${t.length-s} other arguments]`),`${e} ${i.join(" ")}`}return e}},76332:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(14412),o=n(71812),s=n(48256),i=n(78648),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},c=function(){function e(e,t){var n,o=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return o._attributes=Object.assign({},o._attributes,e),o.asyncAttributesPending=!1,e}),(function(e){return r.K.debug("a resource's async attributes promise rejected: %s",e),o.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[o.m$]=(0,i.o)(),t[o.eM]=s.s[o.eM],t[o.k9]=s.s[o.k9],t[o.FS]=s.s[o.FS],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&r.K.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var o=a(a({},this._syncAttributes),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var s=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var n,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(e,2),s=o[0],i=o[1];return a(a(a(a({},r._syncAttributes),s),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes),i)}));return new e(o,s)},e.EMPTY=new e({}),e}()},44112:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});const r=require("child_process");var o=n(50970).promisify(r.exec)},68408:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(2058),o=n(44112),s=n(14412),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function c(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return[2,n.sent().trim()];case 2:return e=n.sent(),s.K.debug("error reading machine id: "+e),[3,3];case 3:return n.trys.push([3,5,,6]),[4,(0,o.Y)("kenv -q smbios.system.uuid")];case 4:return[2,n.sent().stdout.trim()];case 5:return t=n.sent(),s.K.debug("error reading machine id: "+t),[3,6];case 6:return[2,""]}}))}))}},24584:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(44112),o=n(14412),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function a(){return s(this,void 0,void 0,(function(){var e,t,n,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,r.Y)('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:return e=i.sent(),(t=e.stdout.split("\n").find((function(e){return e.includes("IOPlatformUUID")})))?2===(n=t.split('" = "')).length?[2,n[1].slice(0,-1)]:[3,3]:[2,""];case 2:return s=i.sent(),o.K.debug("error reading machine id: "+s),[3,3];case 3:return[2,""]}}))}))}},85296:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(2058),o=n(14412),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(){return s(this,void 0,void 0,(function(){var e,t,n,s,c,u,l,d;return i(this,(function(i){switch(i.label){case 0:e=["/etc/machine-id","/var/lib/dbus/machine-id"],i.label=1;case 1:i.trys.push([1,8,9,10]),t=a(e),n=t.next(),i.label=2;case 2:if(n.done)return[3,7];s=n.value,i.label=3;case 3:return i.trys.push([3,5,,6]),[4,r.promises.readFile(s,{encoding:"utf8"})];case 4:return[2,i.sent().trim()];case 5:return c=i.sent(),o.K.debug("error reading machine id: "+c),[3,6];case 6:return n=t.next(),[3,2];case 7:return[3,10];case 8:return u=i.sent(),l={error:u},[3,10];case 9:try{n&&!n.done&&(d=t.return)&&d.call(t)}finally{if(l)throw l.error}return[7];case 10:return[2,""]}}))}))}},79836:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(14412),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function i(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return r.K.debug("could not read machine-id: unsupported platform"),[2,""]}))}))}},40491:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(76520),o=n(44112),s=n(14412),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function c(){return i(this,void 0,void 0,(function(){var e,t,n,i,c;return a(this,(function(a){switch(a.label){case 0:e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe","ia32"===r.arch&&"PROCESSOR_ARCHITEW6432"in r.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,o.Y)(t+" "+e)];case 2:return n=a.sent(),2===(i=n.stdout.split("REG_SZ")).length?[2,i[1].trim()]:[3,4];case 3:return c=a.sent(),s.K.debug("error reading machine id: "+c),[3,4];case 4:return[2,""]}}))}))}},36020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Resource:()=>o.G,browserDetector:()=>l,browserDetectorSync:()=>u,defaultServiceName:()=>s.o,detectResources:()=>O,detectResourcesSync:()=>N,envDetector:()=>f,envDetectorSync:()=>h,hostDetector:()=>g,hostDetectorSync:()=>_,osDetector:()=>b,osDetectorSync:()=>S,processDetector:()=>T,processDetectorSync:()=>v,serviceInstanceIdDetectorSync:()=>R});var r,o=n(76332),s=n(78648),i=n(71812),a=n(14412),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},u=new(function(){function e(){}return e.prototype.detect=function(e){var t,n,r,s;if("undefined"==typeof navigator||void 0!==(null===(r=null===(n=global.process)||void 0===n?void 0:n.versions)||void 0===r?void 0:r.node)||void 0!==(null===(s=global.Bun)||void 0===s?void 0:s.version))return o.G.empty();var a=((t={})[i.ER]="browser",t[i.Af]="Web Browser",t[i.Gb]=navigator.userAgent,t);return this._getResourceAttributes(a,e)},e.prototype._getResourceAttributes=function(e,t){return""===e[i.Gb]?(a.K.debug("BrowserDetector failed: Unable to find required browser resources. "),o.G.empty()):new o.G(c({},e))},e}()),l=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(u.detect(e))},e}()),d=n(13120),p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},h=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){var t={},n=(0,d.W)(),r=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(r)try{var c=this._parseResourceAttributes(r);Object.assign(t,c)}catch(e){a.K.debug("EnvDetector failed: "+e.message)}return s&&(t[i.m$]=s),new o.G(t)},e.prototype._parseResourceAttributes=function(e){var t,n;if(!e)return{};var r={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),i=s.next();!i.done;i=s.next()){var a=i.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===a.length){var c=p(a,2),u=c[0],l=c[1];if(u=u.trim(),l=l.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(u))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(l))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);r[u]=decodeURIComponent(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},e.prototype._isBaggageOctetString=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<33||44===n||59===n||92===n||n>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}()),f=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(h.detect(e))},e}()),m=n(88558);switch(n(76520).platform){case"darwin":r=n(24584).s;break;case"linux":r=n(85296).s;break;case"freebsd":r=n(68408).s;break;case"win32":r=n(40491).s;break;default:r=n(79836).s}var _=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[i.yO]=(0,m.hostname)(),t[i.KI]=function(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}((0,m.arch)()),t);return new o.G(n,this._getAsyncAttributes())},e.prototype._getAsyncAttributes=function(){return r().then((function(e){var t={};return e&&(t[i.Cc]=e),t}))},e}()),g=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(_.detect(e))},e}()),S=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[i.KA]=function(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}((0,m.platform)()),t[i.cU]=(0,m.release)(),t);return new o.G(n)},e}()),b=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(S.detect(e))},e}()),y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},E=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},v=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[i.gX]=process.pid,t[i.mC]=process.title,t[i._q]=process.execPath,t[i.Je]=E(E([process.argv[0]],y(process.execArgv),!1),y(process.argv.slice(1)),!1),t[i.Gb]=process.versions.node,t[i.ER]="nodejs",t[i.Af]="Node.js",t);process.argv.length>1&&(n[i.Qn]=process.argv[1]);try{var r=m.userInfo();n[i.EV]=r.username}catch(e){a.K.debug("error obtaining process owner: "+e)}return new o.G(n)},e}()),T=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(v.detect(e))},e}()),I=n(87968),R=new(function(){function e(){}return e.prototype.detect=function(e){var t,n=((t={})[i.yk]=(0,I.randomUUID)(),t);return new o.G(n)},e}()),C=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},O=function(e){return void 0===e&&(e={}),C(void 0,void 0,void 0,(function(){var t;return A(this,(function(n){switch(n.label){case 0:return[4,Promise.all((e.detectors||[]).map((function(t){return C(void 0,void 0,void 0,(function(){var n,r;return A(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t.detect(e)];case 1:return n=s.sent(),a.K.debug(t.constructor.name+" found resource.",n),[2,n];case 2:return r=s.sent(),a.K.debug(t.constructor.name+" failed: "+r.message),[2,o.G.empty()];case 3:return[2]}}))}))})))];case 1:return t=n.sent(),w(t),[2,t.reduce((function(e,t){return e.merge(t)}),o.G.empty())]}}))}))},N=function(e){var t;void 0===e&&(e={});var n=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((function(t){try{var n,r=t.detect(e);return n=null!==(s=r)&&"object"==typeof s&&"function"==typeof s.then?new o.G({},C(void 0,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,r];case 1:return[2,e.sent().attributes]}}))}))):r,n.waitForAsyncAttributes?n.waitForAsyncAttributes().then((function(){return a.K.debug(t.constructor.name+" found resource.",n)})):a.K.debug(t.constructor.name+" found resource.",n),n}catch(e){return a.K.error(t.constructor.name+" failed: "+e.message),o.G.empty()}var s})),r=n.reduce((function(e,t){return e.merge(t)}),o.G.empty());return r.waitForAsyncAttributes&&r.waitForAsyncAttributes().then((function(){w(n)})),r},w=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);a.K.verbose(t)}}))}},78648:(e,t,n)=>{"use strict";function r(){return"unknown_service:"+process.argv0}n.d(t,{o:()=>r})},29308:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlwaysOffSampler:()=>E,AlwaysOnSampler:()=>v,BasicTracerProvider:()=>te,BatchSpanProcessor:()=>ee,ConsoleSpanExporter:()=>ne,ForceFlushState:()=>V,InMemorySpanExporter:()=>re,NoopSpanProcessor:()=>Z,ParentBasedSampler:()=>R,RandomIdGenerator:()=>x,SamplingDecision:()=>r,SimpleSpanProcessor:()=>se,Span:()=>S,TraceIdRatioBasedSampler:()=>C,Tracer:()=>D});var r,o=n(49480),s=n(40688),i=n(14412),a=n(61424),c=n(83672),u=n(46728),l=n(92896),d=n(58580),p=n(43176),h=n(96568),f=n(52784),m=n(65368),_=n(2516),g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},S=function(){function e(e,t,n,r,o,s,i,a,c,u){void 0===i&&(i=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:h.Y.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=s,this.kind=o,this.links=i;var l=Date.now();this._performanceStartTime=f.q.now(),this._performanceOffset=l-(this._performanceStartTime+(0,m.IX)()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=u&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(i.K.warn("Invalid attribute key: "+e),this):(0,p.OG)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(i.K.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,n;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=r.next();!o.done;o=r.next()){var s=g(o.value,2),i=s[0],a=s[1];this.setAttribute(i,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return i.K.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&i.K.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,m.CI)(t)&&((0,m.CI)(n)||(n=t),t=void 0);var r=(0,p.yW)(t);return this.events.push({name:e,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],g(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?i.K.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,m.kQ)(this.startTime,this.endTime),this._duration[0]<0&&(i.K.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&i.K.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<f.q.now())return(0,m.dF)(e+this._performanceOffset);if("number"==typeof e)return(0,m.mQ)(e);if(e instanceof Date)return(0,m.mQ)(e.getTime());if((0,m.sD)(e))return e;if(this._startTimeProvided)return(0,m.mQ)(Date.now());var t=f.q.now()-this._performanceStartTime;return(0,m.aw)(this.startTime,(0,m.mQ)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var n={};"string"==typeof e?n[_.Oiu]=e:e&&(e.code?n[_.PI9]=e.code.toString():e.name&&(n[_.PI9]=e.name),e.message&&(n[_.Oiu]=e.message),e.stack&&(n[_.wL0]=e.stack)),n[_.PI9]||n[_.Oiu]?this.addEvent("exception",n,t):i.K.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&i.K.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,n=this._attributeValueLengthLimit;return n<=0?(i.K.warn("Attribute value limit must be positive, got "+n),e):"string"==typeof e?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,n):e})):e},e}(),b=n(13120),y=n(72744);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}));var E=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),v=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),T=n(32256),I=n(47227),R=function(){function e(e){var t,n,r,o;this._root=e.root,this._root||((0,I.e)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new v),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new v,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new E,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new v,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new E}return e.prototype.shouldSample=function(e,t,n,r,o,i){var a=s.y.getSpanContext(e);return a&&(0,T.SY)(a)?a.isRemote?a.traceFlags&l.s.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,o,i):this._remoteParentNotSampled.shouldSample(e,t,n,r,o,i):a.traceFlags&l.s.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,o,i):this._localParentNotSampled.shouldSample(e,t,n,r,o,i):this._root.shouldSample(e,t,n,r,o,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),C=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,T._Y)(t)&&this._accumulate(t)<this._upperBound?r.RECORD_AND_SAMPLED:r.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),A=(0,b.W)(),O=y.q.AlwaysOn,N=1;function w(){return{sampler:P(A),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,b.W)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,b.W)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,b.W)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,b.W)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,b.W)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,b.W)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,b.W)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,b.W)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function P(e){switch(void 0===e&&(e=(0,b.W)()),e.OTEL_TRACES_SAMPLER){case y.q.AlwaysOn:return new v;case y.q.AlwaysOff:return new E;case y.q.ParentBasedAlwaysOn:return new R({root:new v});case y.q.ParentBasedAlwaysOff:return new R({root:new E});case y.q.TraceIdRatio:return new C(L(e));case y.q.ParentBasedTraceIdRatio:return new R({root:new C(L(e))});default:return i.K.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+O+'".'),new v}}function L(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return i.K.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+N+"."),N;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(i.K.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+N+"."),N):t<0||t>1?(i.K.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+N+"."),N):t}var M=n(34764),x=function(){this.generateTraceId=U(16),this.generateSpanId=U(8)},k=Buffer.allocUnsafe(16);function U(e){return function(){for(var t=0;t<e/4;t++)k.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(k[t]>0);t++)t===e-1&&(k[e-1]=1);return k.toString("hex",0,e)}}var G,V,D=function(){function e(e,t,n){this._tracerProvider=n;var r,o,s,i,a=(r=t,o={sampler:P()},s=w(),(i=Object.assign({},s,o,r)).generalLimits=Object.assign({},s.generalLimits,r.generalLimits||{}),i.spanLimits=Object.assign({},s.spanLimits,r.spanLimits||{}),i);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new x,this.resource=n.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,n){var r,h,f;void 0===t&&(t={}),void 0===n&&(n=o.G.active()),t.root&&(n=s.y.deleteSpan(n));var m=s.y.getSpan(n);if((0,d.CE)(n))return i.K.debug("Instrumentation suppressed, returning Noop Span"),s.y.wrapSpanContext(a.S_);var _,g,b,y=null==m?void 0:m.spanContext(),E=this._idGenerator.generateSpanId();y&&s.y.isSpanContextValid(y)?(_=y.traceId,g=y.traceState,b=y.spanId):_=this._idGenerator.generateTraceId();var v=null!==(r=t.kind)&&void 0!==r?r:c.G.INTERNAL,T=(null!==(h=t.links)&&void 0!==h?h:[]).map((function(e){return{context:e.context,attributes:(0,p.yW)(e.attributes)}})),I=(0,p.yW)(t.attributes),R=this._sampler.shouldSample(n,_,e,v,I,T);g=null!==(f=R.traceState)&&void 0!==f?f:g;var C={traceId:_,spanId:E,traceFlags:R.decision===u.Y.RECORD_AND_SAMPLED?l.s.SAMPLED:l.s.NONE,traceState:g};if(R.decision===u.Y.NOT_RECORD)return i.K.debug("Recording is off, propagating context in a non-recording span"),s.y.wrapSpanContext(C);var A=(0,p.yW)(Object.assign(I,R.attributes));return new S(this,n,e,C,v,b,T,t.startTime,void 0,A)},e.prototype.startActiveSpan=function(e,t,n,r){var i,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(i=t,c=n):(i=t,a=n,c=r);var u=null!=a?a:o.G.active(),l=this.startSpan(e,i,u),d=s.y.setSpan(u,l);return o.G.with(d,c,void 0,l)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),B=n(5192),F=n(301),H=n(39885),j=n(6656),Y=n(35536),W=n(76332),K=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,n=[];try{for(var r=K(this._spanProcessors),o=r.next();!o.done;o=r.next()){var s=o.value;n.push(s.forceFlush())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(n).then((function(){e()})).catch((function(t){(0,I.e)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var n,r;try{for(var o=K(this._spanProcessors),s=o.next();!s.done;s=o.next())s.value.onStart(e,t)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(e){var t,n;try{for(var r=K(this._spanProcessors),o=r.next();!o.done;o=r.next())o.value.onEnd(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,n=[];try{for(var r=K(this._spanProcessors),o=r.next();!o.done;o=r.next()){var s=o.value;n.push(s.shutdown())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(n).then((function(){e()}),t)}))},e}(),Z=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),$=n(50772),J=n(1608),z=n(69900),Q=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=(0,b.W)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new $.o(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(i.K.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&l.s.SAMPLED)&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&i.K.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(i.K.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,n){for(var r=[],o=0,s=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<s;o++)r.push(e._flushOneBatch());Promise.all(r).then((function(){t()})).catch(n)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,n){var r=setTimeout((function(){n(new Error("Timeout"))}),e._exportTimeoutMillis);o.G.with((0,d.Qd)(o.G.active()),(function(){var o;e._finishedSpans.length<=e._maxExportBatchSize?(o=e._finishedSpans,e._finishedSpans=[]):o=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var s=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(r),e.code===J.C.SUCCESS?t():n(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},i=null,a=0,c=o.length;a<c;a++){var u=o[a];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(null!=i||(i=[]),i.push(u.resource.waitForAsyncAttributes()))}null===i?s():Promise.all(i).then(s,(function(e){(0,I.e)(e),n(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally((function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){e._isExporting=!1,(0,I.e)(t)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout((function(){return t()}),this._scheduledDelayMillis),(0,z.c)(this._timer))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),q=(G=function(e,t){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},G(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.onShutdown=function(){},t}(Q);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(V||(V={}));var te=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=(0,F.U)({},w(),function(e){var t,n,r,o,s,i,a,c,u,l,d,p,h=Object.assign({},e.spanLimits),f=(0,b.Y)();return h.attributeCountLimit=null!==(i=null!==(s=null!==(o=null!==(n=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==n?n:null===(r=e.generalLimits)||void 0===r?void 0:r.attributeCountLimit)&&void 0!==o?o:f.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:f.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:M.GC,h.attributeValueLengthLimit=null!==(p=null!==(d=null!==(l=null!==(c=null===(a=e.spanLimits)||void 0===a?void 0:a.attributeValueLengthLimit)&&void 0!==c?c:null===(u=e.generalLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==l?l:f.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:f.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:M.mu,Object.assign({},e,{spanLimits:h})}(e));this.resource=null!==(t=n.resource)&&void 0!==t?t:W.G.empty(),this.resource=W.G.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var r=this._buildExporterFromEnv();if(void 0!==r){var o=new ee(r);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Z}return e.prototype.getTracer=function(e,t,n){var r=e+"@"+(t||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new D({name:e,version:t,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return i.K.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new X(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),s.y.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&o.G.setGlobalContextManager(e.contextManager),e.propagator&&B.s.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(n){var r,o=setTimeout((function(){n(new Error("Span processor did not completed within timeout period of "+e+" ms")),r=V.timeout}),e);t.forceFlush().then((function(){clearTimeout(o),r!==V.timeout&&(r=V.resolved,n(r))})).catch((function(e){clearTimeout(o),r=V.error,n(e)}))}))}));return new Promise((function(e,n){Promise.all(t).then((function(t){var r=t.filter((function(e){return e!==V.resolved}));r.length>0?n(r):e()})).catch((function(e){return n([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,b.W)().OTEL_PROPAGATORS)),n=t.map((function(t){var n=e._getPropagator(t);return n||i.K.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),n})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===n.length?void 0:1===t.length?n[0]:new H.k({propagators:n})},e.prototype._buildExporterFromEnv=function(){var e=(0,b.W)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||i.K.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new j.yw}],["baggage",function(){return new Y.C}]]),e._registeredExporters=new Map,e}(),ne=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,m.Ad)(e.startTime),duration:(0,m.Ad)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var n,r;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=o.next();!s.done;s=o.next()){var i=s.value;console.dir(this._exportInfo(i),{depth:3})}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(t)return t({code:J.C.SUCCESS})},e}(),re=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var n;if(this._stopped)return t({code:J.C.FAILED,error:new Error("Exporter has been stopped")});(n=this._finishedSpans).push.apply(n,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}(e),!1)),setTimeout((function(){return t({code:J.C.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}(),oe=n(30164),se=function(){function e(e){this._exporter=e,this._shutdownOnce=new $.o(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,n,r=this;if(!this._shutdownOnce.isCalled&&0!=(e.spanContext().traceFlags&l.s.SAMPLED)){var o=function(){return oe.internal._export(r._exporter,[e]).then((function(e){var t;e.code!==J.C.SUCCESS&&(0,I.e)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,I.e)(e)}))};if(e.resource.asyncAttributesPending){var s=null===(n=(t=e.resource).waitForAsyncAttributes)||void 0===n?void 0:n.call(t).then((function(){return null!=s&&r._unresolvedExports.delete(s),o()}),(function(e){return(0,I.e)(e)}));null!=s&&this._unresolvedExports.add(s)}else o()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},6252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AWSECSLAUNCHTYPEVALUES_EC2:()=>o.ow,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>o.Ul,AwsEcsLaunchtypeValues:()=>o.iY,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>o.YT,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>o.AD,CLOUDPLATFORMVALUES_AWS_EC2:()=>o.MF,CLOUDPLATFORMVALUES_AWS_ECS:()=>o.In,CLOUDPLATFORMVALUES_AWS_EKS:()=>o.cb,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>o.Mv,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>o.QT,CLOUDPLATFORMVALUES_AZURE_AKS:()=>o.Aj,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>o.cX,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>o.Ep,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>o.Ss,CLOUDPLATFORMVALUES_AZURE_VM:()=>o.wh,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>o.KW,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>o.Mx,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>o.sp,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>o.is,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>o.Go,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>o.cn,CLOUDPROVIDERVALUES_AWS:()=>o.Qz,CLOUDPROVIDERVALUES_AZURE:()=>o.OT,CLOUDPROVIDERVALUES_GCP:()=>o.q8,CloudPlatformValues:()=>o.eg,CloudProviderValues:()=>o.KE,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>r.i_V,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>r.CGY,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>r.QhF,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>r.Og0,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>r.Qzl,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>r.Md$,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>r.Qfh,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>r.ueT,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>r.iO2,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>r.eU7,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>r.En5,DBSYSTEMVALUES_ADABAS:()=>r.CS_,DBSYSTEMVALUES_CACHE:()=>r.K2h,DBSYSTEMVALUES_CASSANDRA:()=>r.IlA,DBSYSTEMVALUES_CLOUDSCAPE:()=>r.igY,DBSYSTEMVALUES_COCKROACHDB:()=>r.Mdz,DBSYSTEMVALUES_COLDFUSION:()=>r.c98,DBSYSTEMVALUES_COSMOSDB:()=>r.ouH,DBSYSTEMVALUES_COUCHBASE:()=>r.cjY,DBSYSTEMVALUES_COUCHDB:()=>r.a$c,DBSYSTEMVALUES_DB2:()=>r.G4U,DBSYSTEMVALUES_DERBY:()=>r.kDS,DBSYSTEMVALUES_DYNAMODB:()=>r.OaL,DBSYSTEMVALUES_EDB:()=>r.Cx6,DBSYSTEMVALUES_ELASTICSEARCH:()=>r.mYr,DBSYSTEMVALUES_FILEMAKER:()=>r.kjb,DBSYSTEMVALUES_FIREBIRD:()=>r.Ulo,DBSYSTEMVALUES_FIRSTSQL:()=>r.ERp,DBSYSTEMVALUES_GEODE:()=>r.Ezd,DBSYSTEMVALUES_H2:()=>r.ciW,DBSYSTEMVALUES_HANADB:()=>r.KXV,DBSYSTEMVALUES_HBASE:()=>r.K0p,DBSYSTEMVALUES_HIVE:()=>r.yGn,DBSYSTEMVALUES_HSQLDB:()=>r.krM,DBSYSTEMVALUES_INFORMIX:()=>r.E95,DBSYSTEMVALUES_INGRES:()=>r.xa5,DBSYSTEMVALUES_INSTANTDB:()=>r.Y0H,DBSYSTEMVALUES_INTERBASE:()=>r.yIz,DBSYSTEMVALUES_MARIADB:()=>r.g3Z,DBSYSTEMVALUES_MAXDB:()=>r.qmR,DBSYSTEMVALUES_MEMCACHED:()=>r.KkF,DBSYSTEMVALUES_MONGODB:()=>r._cq,DBSYSTEMVALUES_MSSQL:()=>r.oJo,DBSYSTEMVALUES_MYSQL:()=>r.yuk,DBSYSTEMVALUES_NEO4J:()=>r.otp,DBSYSTEMVALUES_NETEZZA:()=>r.WUh,DBSYSTEMVALUES_ORACLE:()=>r.DkL,DBSYSTEMVALUES_OTHER_SQL:()=>r.EdL,DBSYSTEMVALUES_PERVASIVE:()=>r.gZJ,DBSYSTEMVALUES_POINTBASE:()=>r.iUo,DBSYSTEMVALUES_POSTGRESQL:()=>r.Ypv,DBSYSTEMVALUES_PROGRESS:()=>r.a4l,DBSYSTEMVALUES_REDIS:()=>r.eGA,DBSYSTEMVALUES_REDSHIFT:()=>r.IJq,DBSYSTEMVALUES_SQLITE:()=>r.W2U,DBSYSTEMVALUES_SYBASE:()=>r.gFM,DBSYSTEMVALUES_TERADATA:()=>r.Pif,DBSYSTEMVALUES_VERTICA:()=>r.Ur8,DbCassandraConsistencyLevelValues:()=>r.IHy,DbSystemValues:()=>r.gnR,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>r.kxw,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>r.q_S,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>r.ktn,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>r.yIF,FAASINVOKEDPROVIDERVALUES_AWS:()=>r.WIV,FAASINVOKEDPROVIDERVALUES_AZURE:()=>r.E9m,FAASINVOKEDPROVIDERVALUES_GCP:()=>r.q4Q,FAASTRIGGERVALUES_DATASOURCE:()=>r.kPu,FAASTRIGGERVALUES_HTTP:()=>r.eiU,FAASTRIGGERVALUES_OTHER:()=>r.w38,FAASTRIGGERVALUES_PUBSUB:()=>r.S3K,FAASTRIGGERVALUES_TIMER:()=>r.C2R,FaasDocumentOperationValues:()=>r.Omv,FaasInvokedProviderValues:()=>r.i_s,FaasTriggerValues:()=>r.KeA,HOSTARCHVALUES_AMD64:()=>o.i,HOSTARCHVALUES_ARM32:()=>o.sM,HOSTARCHVALUES_ARM64:()=>o.oP,HOSTARCHVALUES_IA64:()=>o.kN,HOSTARCHVALUES_PPC32:()=>o.YX,HOSTARCHVALUES_PPC64:()=>o.IF,HOSTARCHVALUES_X86:()=>o.E0,HTTPFLAVORVALUES_HTTP_1_0:()=>r._6i,HTTPFLAVORVALUES_HTTP_1_1:()=>r.kp0,HTTPFLAVORVALUES_HTTP_2_0:()=>r.YfW,HTTPFLAVORVALUES_QUIC:()=>r.BhT,HTTPFLAVORVALUES_SPDY:()=>r.cBl,HostArchValues:()=>o.Qh,HttpFlavorValues:()=>r.auk,MESSAGETYPEVALUES_RECEIVED:()=>r.mAp,MESSAGETYPEVALUES_SENT:()=>r.aUN,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>r.iYD,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>r.Mtp,MESSAGINGOPERATIONVALUES_PROCESS:()=>r.Ko0,MESSAGINGOPERATIONVALUES_RECEIVE:()=>r.uCy,MessageTypeValues:()=>r.GKz,MessagingDestinationKindValues:()=>r.wVq,MessagingOperationValues:()=>r.Ci4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>r.WsV,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>r.Adq,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>r.MVB,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>r.aA3,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>r.QLM,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>r.QhB,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>r.oYL,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>r.sDm,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>r.AxS,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>r._kw,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>r.O6T,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>r.EnW,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>r.gTz,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>r.YWu,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>r.GOg,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>r.gfE,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>r.gfU,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>r.wlE,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>r.i6X,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>r.oRl,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>r.iem,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>r.w3K,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>r.Ges,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>r.aGL,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>r.eoD,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>r.olJ,NETTRANSPORTVALUES_INPROC:()=>r.KwP,NETTRANSPORTVALUES_IP:()=>r._eD,NETTRANSPORTVALUES_IP_TCP:()=>r.MTP,NETTRANSPORTVALUES_IP_UDP:()=>r.qQQ,NETTRANSPORTVALUES_OTHER:()=>r.QLR,NETTRANSPORTVALUES_PIPE:()=>r.KQP,NETTRANSPORTVALUES_UNIX:()=>r.MtT,NetHostConnectionSubtypeValues:()=>r.UxE,NetHostConnectionTypeValues:()=>r.UJO,NetTransportValues:()=>r.iwO,OSTYPEVALUES_AIX:()=>o.st,OSTYPEVALUES_DARWIN:()=>o.aN,OSTYPEVALUES_DRAGONFLYBSD:()=>o.Gw,OSTYPEVALUES_FREEBSD:()=>o.GM,OSTYPEVALUES_HPUX:()=>o.gL,OSTYPEVALUES_LINUX:()=>o.c9,OSTYPEVALUES_NETBSD:()=>o.M9,OSTYPEVALUES_OPENBSD:()=>o.iE,OSTYPEVALUES_SOLARIS:()=>o.G6,OSTYPEVALUES_WINDOWS:()=>o.Q5,OSTYPEVALUES_Z_OS:()=>o._8,OsTypeValues:()=>o.QP,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>r.ec8,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>r.W6k,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>r.uUT,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>r.WK8,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>r.io8,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>r.GKl,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>r.AVm,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>r.c$V,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>r.E12,RPCGRPCSTATUSCODEVALUES_OK:()=>r.kR1,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>r.SU6,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>r.Soy,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>r.Sk0,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>r.iKM,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>r.YJX,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>r.MlF,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>r.Its,RpcGrpcStatusCodeValues:()=>r.GCF,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>r.Qhr,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>r.UR6,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>r.mqI,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>r.dpT,SEMATTRS_AWS_DYNAMODB_COUNT:()=>r.wt3,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>r.AFB,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>r.OWK,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>r.KAu,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>r.qdw,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>r.KMh,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>r.uAI,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>r.MfE,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>r._gv,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>r.dnf,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>r.i0D,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>r.kvj,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>r.ADo,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>r.s3Z,SEMATTRS_AWS_DYNAMODB_SELECT:()=>r.e6n,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>r.obA,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>r.KqW,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>r.Nwb,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>r.ayq,SEMATTRS_CODE_FILEPATH:()=>r.e6N,SEMATTRS_CODE_FUNCTION:()=>r.wx5,SEMATTRS_CODE_LINENO:()=>r.w8e,SEMATTRS_CODE_NAMESPACE:()=>r.R7G,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>r.A1k,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>r.WOY,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>r.usP,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>r.olx,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>r.qYu,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>r.SSE,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>r.A13,SEMATTRS_DB_CASSANDRA_TABLE:()=>r.Ocu,SEMATTRS_DB_CONNECTION_STRING:()=>r.wHb,SEMATTRS_DB_HBASE_NAMESPACE:()=>r.ML0,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>r.ikj,SEMATTRS_DB_MONGODB_COLLECTION:()=>r.qrO,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>r.K0m,SEMATTRS_DB_NAME:()=>r.u8q,SEMATTRS_DB_OPERATION:()=>r.yPF,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>r.UFU,SEMATTRS_DB_SQL_TABLE:()=>r.iAj,SEMATTRS_DB_STATEMENT:()=>r._Eu,SEMATTRS_DB_SYSTEM:()=>r.e6p,SEMATTRS_DB_USER:()=>r.iIp,SEMATTRS_ENDUSER_ID:()=>r.Gyq,SEMATTRS_ENDUSER_ROLE:()=>r.yS9,SEMATTRS_ENDUSER_SCOPE:()=>r.QHj,SEMATTRS_EXCEPTION_ESCAPED:()=>r.mw,SEMATTRS_EXCEPTION_MESSAGE:()=>r.Oiu,SEMATTRS_EXCEPTION_STACKTRACE:()=>r.wL0,SEMATTRS_EXCEPTION_TYPE:()=>r.PI9,SEMATTRS_FAAS_COLDSTART:()=>r.GgW,SEMATTRS_FAAS_CRON:()=>r.NTQ,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>r.OqK,SEMATTRS_FAAS_DOCUMENT_NAME:()=>r.KH7,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>r.UML,SEMATTRS_FAAS_DOCUMENT_TIME:()=>r.RBJ,SEMATTRS_FAAS_EXECUTION:()=>r.A$k,SEMATTRS_FAAS_INVOKED_NAME:()=>r.Yjv,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>r.wd,SEMATTRS_FAAS_INVOKED_REGION:()=>r.qqA,SEMATTRS_FAAS_TIME:()=>r.uu2,SEMATTRS_FAAS_TRIGGER:()=>r.MFq,SEMATTRS_HTTP_CLIENT_IP:()=>r.Ilw,SEMATTRS_HTTP_FLAVOR:()=>r.kZe,SEMATTRS_HTTP_HOST:()=>r.gn3,SEMATTRS_HTTP_METHOD:()=>r.MPq,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>r.ymQ,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>r.eEo,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>r.aCK,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>r.M$_,SEMATTRS_HTTP_ROUTE:()=>r.FJd,SEMATTRS_HTTP_SCHEME:()=>r.SIx,SEMATTRS_HTTP_SERVER_NAME:()=>r.A1w,SEMATTRS_HTTP_STATUS_CODE:()=>r.c1v,SEMATTRS_HTTP_TARGET:()=>r.wtv,SEMATTRS_HTTP_URL:()=>r.SEr,SEMATTRS_HTTP_USER_AGENT:()=>r.I9y,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>r.otc,SEMATTRS_MESSAGE_ID:()=>r.YRw,SEMATTRS_MESSAGE_TYPE:()=>r.GG4,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>r.gVJ,SEMATTRS_MESSAGING_CONSUMER_ID:()=>r.ySn,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>r.iCz,SEMATTRS_MESSAGING_DESTINATION:()=>r.m0N,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>r.mii,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>r.Aft,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>r.wr1,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>r.MBF,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>r.opJ,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>r._aH,SEMATTRS_MESSAGING_MESSAGE_ID:()=>r.szS,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>r.aq6,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>r.olC,SEMATTRS_MESSAGING_OPERATION:()=>r.ymr,SEMATTRS_MESSAGING_PROTOCOL:()=>r.CUL,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>r.Ml,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>r.Gqs,SEMATTRS_MESSAGING_SYSTEM:()=>r.kn7,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>r.OG7,SEMATTRS_MESSAGING_URL:()=>r.WCB,SEMATTRS_NET_HOST_CARRIER_ICC:()=>r.Mvc,SEMATTRS_NET_HOST_CARRIER_MCC:()=>r.cbW,SEMATTRS_NET_HOST_CARRIER_MNC:()=>r.y_C,SEMATTRS_NET_HOST_CARRIER_NAME:()=>r.Ezu,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>r.ugZ,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>r.iqX,SEMATTRS_NET_HOST_IP:()=>r.UzL,SEMATTRS_NET_HOST_NAME:()=>r.ycv,SEMATTRS_NET_HOST_PORT:()=>r.q45,SEMATTRS_NET_PEER_IP:()=>r.GWx,SEMATTRS_NET_PEER_NAME:()=>r.amS,SEMATTRS_NET_PEER_PORT:()=>r.ETY,SEMATTRS_NET_TRANSPORT:()=>r.cJ4,SEMATTRS_PEER_SERVICE:()=>r.M5h,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>r._MG,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>r.UJs,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>r.Az,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>r.kP0,SEMATTRS_RPC_JSONRPC_VERSION:()=>r.WDk,SEMATTRS_RPC_METHOD:()=>r.iWJ,SEMATTRS_RPC_SERVICE:()=>r.kr_,SEMATTRS_RPC_SYSTEM:()=>r.MbM,SEMATTRS_THREAD_ID:()=>r._yu,SEMATTRS_THREAD_NAME:()=>r.ui7,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>o.KY,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>o.Uz,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>o.mA,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>o.rh,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>o.OS,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>o.uO,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>o.AX,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>o.wZ,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>o.iK,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>o.AV,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>o.nX,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>o.SG,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>o.c3,SEMRESATTRS_CLOUD_PLATFORM:()=>o.WG,SEMRESATTRS_CLOUD_PROVIDER:()=>o.IL,SEMRESATTRS_CLOUD_REGION:()=>o.a5,SEMRESATTRS_CONTAINER_ID:()=>o.w5,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>o.KG,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>o.s$,SEMRESATTRS_CONTAINER_NAME:()=>o.AN,SEMRESATTRS_CONTAINER_RUNTIME:()=>o.Iv,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>o.EN,SEMRESATTRS_DEVICE_ID:()=>o.OA,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>o.Y5,SEMRESATTRS_DEVICE_MODEL_NAME:()=>o.i$,SEMRESATTRS_FAAS_ID:()=>o.OY,SEMRESATTRS_FAAS_INSTANCE:()=>o.SK,SEMRESATTRS_FAAS_MAX_MEMORY:()=>o.bR,SEMRESATTRS_FAAS_NAME:()=>o.cT,SEMRESATTRS_FAAS_VERSION:()=>o.sv,SEMRESATTRS_HOST_ARCH:()=>o.KI,SEMRESATTRS_HOST_ID:()=>o.Cc,SEMRESATTRS_HOST_IMAGE_ID:()=>o.RA,SEMRESATTRS_HOST_IMAGE_NAME:()=>o._o,SEMRESATTRS_HOST_IMAGE_VERSION:()=>o.wQ,SEMRESATTRS_HOST_NAME:()=>o.yO,SEMRESATTRS_HOST_TYPE:()=>o.Ib,SEMRESATTRS_K8S_CLUSTER_NAME:()=>o.kP,SEMRESATTRS_K8S_CONTAINER_NAME:()=>o._G,SEMRESATTRS_K8S_CRONJOB_NAME:()=>o.MZ,SEMRESATTRS_K8S_CRONJOB_UID:()=>o.uE,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>o.u,SEMRESATTRS_K8S_DAEMONSET_UID:()=>o.C,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>o.iy,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>o.O6,SEMRESATTRS_K8S_JOB_NAME:()=>o.KQ,SEMRESATTRS_K8S_JOB_UID:()=>o.ye,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>o.Oe,SEMRESATTRS_K8S_NODE_NAME:()=>o.Eh,SEMRESATTRS_K8S_NODE_UID:()=>o.Kc,SEMRESATTRS_K8S_POD_NAME:()=>o.Km,SEMRESATTRS_K8S_POD_UID:()=>o.Kw,SEMRESATTRS_K8S_REPLICASET_NAME:()=>o.IH,SEMRESATTRS_K8S_REPLICASET_UID:()=>o.CS,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>o.Sg,SEMRESATTRS_K8S_STATEFULSET_UID:()=>o._Q,SEMRESATTRS_OS_DESCRIPTION:()=>o.ae,SEMRESATTRS_OS_NAME:()=>o.Yd,SEMRESATTRS_OS_TYPE:()=>o.KA,SEMRESATTRS_OS_VERSION:()=>o.cU,SEMRESATTRS_PROCESS_COMMAND:()=>o.Qn,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>o.Je,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>o.eW,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>o.mC,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>o._q,SEMRESATTRS_PROCESS_OWNER:()=>o.EV,SEMRESATTRS_PROCESS_PID:()=>o.gX,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>o.Af,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>o.ER,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>o.Gb,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>o.yk,SEMRESATTRS_SERVICE_NAME:()=>o.m$,SEMRESATTRS_SERVICE_NAMESPACE:()=>o.me,SEMRESATTRS_SERVICE_VERSION:()=>o.SE,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>o.wv,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>o.eM,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>o.k9,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>o.FS,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>o.Dj,SEMRESATTRS_WEBENGINE_NAME:()=>o.IR,SEMRESATTRS_WEBENGINE_VERSION:()=>o.GU,SemanticAttributes:()=>r.Y3i,SemanticResourceAttributes:()=>o.Gm,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>o._L,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>o.q,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>o.gD,TELEMETRYSDKLANGUAGEVALUES_GO:()=>o.Yz,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>o._S,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>o.ys,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>o.m8,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>o.yq,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>o.fZ,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>o.fb,TelemetrySdkLanguageValues:()=>o.uM});var r=n(2516),o=n(71812)},32480:(e,t,n)=>{"use strict";function r(e){for(var t={},n=e.length,r=0;r<n;r++){var o=e[r];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}n.d(t,{U:()=>r})},71812:(e,t,n)=>{"use strict";n.d(t,{AD:()=>Pn,AN:()=>Xe,AV:()=>Ke,AX:()=>He,Af:()=>Kt,Aj:()=>Dn,C:()=>At,CS:()=>Et,Cc:()=>at,Dj:()=>rn,E0:()=>lr,EN:()=>Qe,ER:()=>Yt,EV:()=>jt,Eh:()=>mt,Ep:()=>Vn,FS:()=>qt,G6:()=>Pr,GM:()=>Rr,GU:()=>nn,Gb:()=>Wt,Gm:()=>on,Go:()=>Yn,Gw:()=>Or,IF:()=>ur,IH:()=>vt,IL:()=>Pe,IR:()=>tn,Ib:()=>ut,In:()=>Mn,Iv:()=>$e,Je:()=>Ht,KA:()=>Mt,KE:()=>pn,KG:()=>Je,KI:()=>lt,KQ:()=>wt,KW:()=>Kn,KY:()=>Ge,Kc:()=>_t,Km:()=>bt,Kw:()=>St,M9:()=>Cr,MF:()=>Ln,MZ:()=>Lt,Mv:()=>Un,Mx:()=>Wn,O6:()=>Tt,OA:()=>qe,OS:()=>Be,OT:()=>ln,OY:()=>rt,Oe:()=>gt,Q5:()=>vr,QP:()=>Mr,QT:()=>kn,Qh:()=>dr,Qn:()=>Bt,Qz:()=>un,RA:()=>pt,SE:()=>Jt,SG:()=>Le,SK:()=>st,Sg:()=>Ct,Ss:()=>Bn,Ul:()=>Jn,Uz:()=>Ue,WG:()=>ke,Y5:()=>et,YT:()=>wn,YX:()=>cr,Yd:()=>kt,Yz:()=>Yr,_8:()=>Lr,_G:()=>yt,_L:()=>Fr,_Q:()=>Rt,_S:()=>Wr,_o:()=>dt,_q:()=>Dt,a5:()=>Me,aN:()=>Ir,ae:()=>xt,bR:()=>it,c3:()=>xe,c9:()=>Tr,cT:()=>nt,cU:()=>Ut,cX:()=>Fn,cb:()=>xn,cn:()=>cn,eM:()=>Qt,eW:()=>Ft,eg:()=>Xn,fZ:()=>$r,fb:()=>Jr,gD:()=>jr,gL:()=>Nr,gX:()=>Gt,i:()=>or,i$:()=>tt,iE:()=>Ar,iK:()=>je,iY:()=>zn,is:()=>Hn,iy:()=>It,k9:()=>zt,kN:()=>ar,kP:()=>ft,m$:()=>Xt,m8:()=>Xr,mA:()=>Ve,mC:()=>Vt,me:()=>Zt,nX:()=>We,oP:()=>ir,ow:()=>$n,q:()=>Hr,q8:()=>dn,rh:()=>De,s$:()=>ze,sM:()=>sr,sp:()=>jn,st:()=>wr,sv:()=>ot,u:()=>Ot,uE:()=>Pt,uM:()=>zr,uO:()=>Fe,w5:()=>Ze,wQ:()=>ht,wZ:()=>Ye,wh:()=>Gn,wv:()=>en,yO:()=>ct,ye:()=>Nt,yk:()=>$t,yq:()=>Zr,ys:()=>Kr});var r=n(32480),o="cloud.provider",s="cloud.account.id",i="cloud.region",a="cloud.availability_zone",c="cloud.platform",u="aws.ecs.container.arn",l="aws.ecs.cluster.arn",d="aws.ecs.launchtype",p="aws.ecs.task.arn",h="aws.ecs.task.family",f="aws.ecs.task.revision",m="aws.eks.cluster.arn",_="aws.log.group.names",g="aws.log.group.arns",S="aws.log.stream.names",b="aws.log.stream.arns",y="container.name",E="container.id",v="container.runtime",T="container.image.name",I="container.image.tag",R="deployment.environment",C="device.id",A="device.model.identifier",O="device.model.name",N="faas.name",w="faas.id",P="faas.version",L="faas.instance",M="faas.max_memory",x="host.id",k="host.name",U="host.type",G="host.arch",V="host.image.name",D="host.image.id",B="host.image.version",F="k8s.cluster.name",H="k8s.node.name",j="k8s.node.uid",Y="k8s.namespace.name",W="k8s.pod.uid",K="k8s.pod.name",X="k8s.container.name",Z="k8s.replicaset.uid",$="k8s.replicaset.name",J="k8s.deployment.uid",z="k8s.deployment.name",Q="k8s.statefulset.uid",q="k8s.statefulset.name",ee="k8s.daemonset.uid",te="k8s.daemonset.name",ne="k8s.job.uid",re="k8s.job.name",oe="k8s.cronjob.uid",se="k8s.cronjob.name",ie="os.type",ae="os.description",ce="os.name",ue="os.version",le="process.pid",de="process.executable.name",pe="process.executable.path",he="process.command",fe="process.command_line",me="process.command_args",_e="process.owner",ge="process.runtime.name",Se="process.runtime.version",be="process.runtime.description",ye="service.name",Ee="service.namespace",ve="service.instance.id",Te="service.version",Ie="telemetry.sdk.name",Re="telemetry.sdk.language",Ce="telemetry.sdk.version",Ae="telemetry.auto.version",Oe="webengine.name",Ne="webengine.version",we="webengine.description",Pe=o,Le=s,Me=i,xe=a,ke=c,Ue=u,Ge=l,Ve=d,De=p,Be=h,Fe=f,He=m,je=_,Ye=g,We=S,Ke=b,Xe=y,Ze=E,$e=v,Je=T,ze=I,Qe=R,qe=C,et=A,tt=O,nt=N,rt=w,ot=P,st=L,it=M,at=x,ct=k,ut=U,lt=G,dt=V,pt=D,ht=B,ft=F,mt=H,_t=j,gt=Y,St=W,bt=K,yt=X,Et=Z,vt=$,Tt=J,It=z,Rt=Q,Ct=q,At=ee,Ot=te,Nt=ne,wt=re,Pt=oe,Lt=se,Mt=ie,xt=ae,kt=ce,Ut=ue,Gt=le,Vt=de,Dt=pe,Bt=he,Ft=fe,Ht=me,jt=_e,Yt=ge,Wt=Se,Kt=be,Xt=ye,Zt=Ee,$t=ve,Jt=Te,zt=Ie,Qt=Re,qt=Ce,en=Ae,tn=Oe,nn=Ne,rn=we,on=(0,r.U)([o,s,i,a,c,u,l,d,p,h,f,m,_,g,S,b,y,E,v,T,I,R,C,A,O,N,w,P,L,M,x,k,U,G,V,D,B,F,H,j,Y,W,K,X,Z,$,J,z,Q,q,ee,te,ne,re,oe,se,ie,ae,ce,ue,le,de,pe,he,fe,me,_e,ge,Se,be,ye,Ee,ve,Te,Ie,Re,Ce,Ae,Oe,Ne,we]),sn="alibaba_cloud",an="azure",cn=sn,un="aws",ln=an,dn="gcp",pn=(0,r.U)([sn,"aws",an,"gcp"]),hn="alibaba_cloud_ecs",fn="alibaba_cloud_fc",mn="aws_ec2",_n="aws_ecs",gn="aws_eks",Sn="aws_lambda",bn="aws_elastic_beanstalk",yn="azure_vm",En="azure_container_instances",vn="azure_aks",Tn="azure_functions",In="azure_app_service",Rn="gcp_compute_engine",Cn="gcp_cloud_run",An="gcp_kubernetes_engine",On="gcp_cloud_functions",Nn="gcp_app_engine",wn=hn,Pn=fn,Ln=mn,Mn=_n,xn=gn,kn=Sn,Un=bn,Gn=yn,Vn=En,Dn=vn,Bn=Tn,Fn=In,Hn=Rn,jn=Cn,Yn=An,Wn=On,Kn=Nn,Xn=(0,r.U)([hn,fn,mn,_n,gn,Sn,bn,yn,En,vn,Tn,In,Rn,Cn,An,On,Nn]),Zn="fargate",$n="ec2",Jn=Zn,zn=(0,r.U)(["ec2",Zn]),Qn="amd64",qn="arm32",er="arm64",tr="ia64",nr="ppc32",rr="ppc64",or=Qn,sr=qn,ir=er,ar=tr,cr=nr,ur=rr,lr="x86",dr=(0,r.U)([Qn,qn,er,tr,nr,rr,"x86"]),pr="windows",hr="linux",fr="darwin",mr="freebsd",_r="netbsd",gr="openbsd",Sr="dragonflybsd",br="hpux",yr="solaris",Er="z_os",vr=pr,Tr=hr,Ir=fr,Rr=mr,Cr=_r,Ar=gr,Or=Sr,Nr=br,wr="aix",Pr=yr,Lr=Er,Mr=(0,r.U)([pr,hr,fr,mr,_r,gr,Sr,br,"aix",yr,Er]),xr="dotnet",kr="erlang",Ur="java",Gr="nodejs",Vr="python",Dr="ruby",Br="webjs",Fr="cpp",Hr=xr,jr=kr,Yr="go",Wr=Ur,Kr=Gr,Xr="php",Zr=Vr,$r=Dr,Jr=Br,zr=(0,r.U)(["cpp",xr,kr,"go",Ur,Gr,"php",Vr,Dr,Br])},2516:(e,t,n)=>{"use strict";n.d(t,{A$k:()=>Jt,A13:()=>Vt,A1k:()=>kt,A1w:()=>jn,ADo:()=>ar,AFB:()=>sr,AVm:()=>uc,Adq:()=>_a,Aft:()=>wr,AxS:()=>Ra,Az:()=>Br,BhT:()=>Va,C2R:()=>oi,CGY:()=>Ks,CS_:()=>es,CUL:()=>Sr,Ci4:()=>$a,Cx6:()=>Qo,DkL:()=>Bo,E12:()=>tc,E95:()=>os,E9m:()=>Si,ERp:()=>zo,ETY:()=>ln,EdL:()=>Go,En5:()=>js,EnW:()=>Ia,Ezd:()=>Cs,Ezu:()=>gn,FJd:()=>Yn,G4U:()=>Fo,GCF:()=>hc,GG4:()=>Fr,GKl:()=>sc,GKz:()=>Sc,GOg:()=>Aa,GWx:()=>un,Ges:()=>ji,GgW:()=>rn,Gqs:()=>Ar,Gyq:()=>vn,I9y:()=>Vn,IHy:()=>$s,IJq:()=>jo,IlA:()=>gs,Ilw:()=>Wn,Its:()=>Qa,K0m:()=>Lt,K0p:()=>Ss,K2h:()=>qo,KAu:()=>hr,KH7:()=>en,KMh:()=>Zn,KQP:()=>Pi,KXV:()=>$o,KeA:()=>ii,KkF:()=>Os,Ko0:()=>Za,KqW:()=>Kn,KwP:()=>Li,M$_:()=>Hn,M5h:()=>En,MBF:()=>Or,MFq:()=>$t,ML0:()=>Ft,MPq:()=>Pn,MTP:()=>Ai,MVB:()=>da,MbM:()=>Mr,Md$:()=>Zs,Mdz:()=>Ns,MfE:()=>or,Ml:()=>br,MlF:()=>cc,MtT:()=>wi,Mtp:()=>ja,Mvc:()=>yn,NTQ:()=>nn,Nwb:()=>ur,O6T:()=>ba,OG7:()=>gr,OWK:()=>rr,OaL:()=>Is,Ocu:()=>Ut,Og0:()=>Ws,Oiu:()=>Kt,Omv:()=>hi,OqK:()=>zt,PI9:()=>Wt,Pif:()=>hs,QHj:()=>In,QLM:()=>fa,QLR:()=>Mi,Qfh:()=>Hs,QhB:()=>ma,QhF:()=>Ds,Qhr:()=>er,Qzl:()=>Fs,R7G:()=>On,RBJ:()=>qt,S3K:()=>ri,SEr:()=>Ln,SIx:()=>kn,SSE:()=>xt,SU6:()=>ac,Sk0:()=>oc,Soy:()=>rc,UFU:()=>Ht,UJO:()=>Wi,UJs:()=>Dr,UML:()=>Qt,UR6:()=>pr,Ulo:()=>ts,Ur8:()=>fs,UxE:()=>Pa,UzL:()=>pn,W2U:()=>ds,W6k:()=>nc,WCB:()=>yr,WDk:()=>Gr,WIV:()=>gi,WK8:()=>dc,WOY:()=>Bt,WUh:()=>cs,WsV:()=>ha,Y0H:()=>ss,Y3i:()=>Wr,YJX:()=>lc,YRw:()=>Hr,YWu:()=>ya,YfW:()=>Ua,Yjv:()=>on,Ypv:()=>Ho,_6i:()=>xa,_Eu:()=>wt,_MG:()=>Ur,_aH:()=>Lr,_cq:()=>bs,_eD:()=>Ni,_gv:()=>Qn,_kw:()=>ga,_yu:()=>Rn,a$c:()=>vs,a4l:()=>Xo,aA3:()=>Ta,aCK:()=>Fn,aGL:()=>Yi,aUN:()=>_c,amS:()=>dn,aq6:()=>Ir,auk:()=>Da,ayq:()=>It,c$V:()=>qa,c1v:()=>Un,c98:()=>_s,cBl:()=>Ga,cJ4:()=>cn,cbW:()=>Sn,ciW:()=>ms,cjY:()=>Es,dnf:()=>$n,dpT:()=>Xn,e6N:()=>Nn,e6n:()=>nr,e6p:()=>Rt,eEo:()=>Bn,eGA:()=>ys,eU7:()=>Ys,ec8:()=>ic,eiU:()=>ni,eoD:()=>Bi,g3Z:()=>as,gFM:()=>ps,gTz:()=>Sa,gVJ:()=>Yr,gZJ:()=>us,gfE:()=>va,gfU:()=>wa,gn3:()=>xn,gnR:()=>ws,i0D:()=>Jn,i6X:()=>Na,iAj:()=>Yt,iCz:()=>vr,iIp:()=>At,iKM:()=>pc,iO2:()=>Xs,iUo:()=>ls,iWJ:()=>kr,iYD:()=>Ha,i_V:()=>Vs,i_s:()=>yi,iem:()=>pa,igY:()=>Wo,ikj:()=>Ot,io8:()=>ec,iqX:()=>mn,iwO:()=>xi,kDS:()=>ns,kP0:()=>Vr,kPu:()=>ti,kR1:()=>Ja,kZe:()=>Gn,kjb:()=>rs,kn7:()=>fr,kp0:()=>ka,krM:()=>Ko,kr_:()=>xr,ktn:()=>li,kvj:()=>dr,kxw:()=>pi,m0N:()=>mr,mAp:()=>gc,mYr:()=>As,mii:()=>_r,mqI:()=>zn,mw:()=>Zt,oJo:()=>Vo,oRl:()=>Ca,oYL:()=>Ea,obA:()=>ir,olC:()=>Tr,olJ:()=>Fi,olx:()=>Gt,opJ:()=>Pr,otc:()=>jr,otp:()=>Rs,ouH:()=>Ts,q45:()=>hn,q4Q:()=>bi,qQQ:()=>Oi,qYu:()=>Mt,q_S:()=>di,qdw:()=>tr,qmR:()=>Zo,qqA:()=>an,qrO:()=>jt,s3Z:()=>cr,sDm:()=>la,szS:()=>Er,u8q:()=>Nt,uAI:()=>qn,uCy:()=>Xa,uUT:()=>za,ueT:()=>Bs,ugZ:()=>_n,ui7:()=>Cn,usP:()=>Dt,uu2:()=>tn,w38:()=>si,w3K:()=>Hi,w8e:()=>wn,wHb:()=>Ct,wL0:()=>Xt,wVq:()=>Ya,wd:()=>sn,wlE:()=>Oa,wr1:()=>Nr,wt3:()=>lr,wtv:()=>Mn,wx5:()=>An,xa5:()=>Jo,yGn:()=>Yo,yIF:()=>_i,yIz:()=>is,yPF:()=>Pt,yS9:()=>Tn,ySn:()=>Cr,y_C:()=>bn,ycv:()=>fn,ymQ:()=>Dn,ymr:()=>Rr,yuk:()=>Do});var r=n(32480),o="aws.lambda.invoked_arn",s="db.system",i="db.connection_string",a="db.user",c="db.jdbc.driver_classname",u="db.name",l="db.statement",d="db.operation",p="db.mssql.instance_name",h="db.cassandra.keyspace",f="db.cassandra.page_size",m="db.cassandra.consistency_level",_="db.cassandra.table",g="db.cassandra.idempotence",S="db.cassandra.speculative_execution_count",b="db.cassandra.coordinator.id",y="db.cassandra.coordinator.dc",E="db.hbase.namespace",v="db.redis.database_index",T="db.mongodb.collection",I="db.sql.table",R="exception.type",C="exception.message",A="exception.stacktrace",O="exception.escaped",N="faas.trigger",w="faas.execution",P="faas.document.collection",L="faas.document.operation",M="faas.document.time",x="faas.document.name",k="faas.time",U="faas.cron",G="faas.coldstart",V="faas.invoked_name",D="faas.invoked_provider",B="faas.invoked_region",F="net.transport",H="net.peer.ip",j="net.peer.port",Y="net.peer.name",W="net.host.ip",K="net.host.port",X="net.host.name",Z="net.host.connection.type",$="net.host.connection.subtype",J="net.host.carrier.name",z="net.host.carrier.mcc",Q="net.host.carrier.mnc",q="net.host.carrier.icc",ee="peer.service",te="enduser.id",ne="enduser.role",re="enduser.scope",oe="thread.id",se="thread.name",ie="code.function",ae="code.namespace",ce="code.filepath",ue="code.lineno",le="http.method",de="http.url",pe="http.target",he="http.host",fe="http.scheme",me="http.status_code",_e="http.flavor",ge="http.user_agent",Se="http.request_content_length",be="http.request_content_length_uncompressed",ye="http.response_content_length",Ee="http.response_content_length_uncompressed",ve="http.server_name",Te="http.route",Ie="http.client_ip",Re="aws.dynamodb.table_names",Ce="aws.dynamodb.consumed_capacity",Ae="aws.dynamodb.item_collection_metrics",Oe="aws.dynamodb.provisioned_read_capacity",Ne="aws.dynamodb.provisioned_write_capacity",we="aws.dynamodb.consistent_read",Pe="aws.dynamodb.projection",Le="aws.dynamodb.limit",Me="aws.dynamodb.attributes_to_get",xe="aws.dynamodb.index_name",ke="aws.dynamodb.select",Ue="aws.dynamodb.global_secondary_indexes",Ge="aws.dynamodb.local_secondary_indexes",Ve="aws.dynamodb.exclusive_start_table",De="aws.dynamodb.table_count",Be="aws.dynamodb.scan_forward",Fe="aws.dynamodb.segment",He="aws.dynamodb.total_segments",je="aws.dynamodb.count",Ye="aws.dynamodb.scanned_count",We="aws.dynamodb.attribute_definitions",Ke="aws.dynamodb.global_secondary_index_updates",Xe="messaging.system",Ze="messaging.destination",$e="messaging.destination_kind",Je="messaging.temp_destination",ze="messaging.protocol",Qe="messaging.protocol_version",qe="messaging.url",et="messaging.message_id",tt="messaging.conversation_id",nt="messaging.message_payload_size_bytes",rt="messaging.message_payload_compressed_size_bytes",ot="messaging.operation",st="messaging.consumer_id",it="messaging.rabbitmq.routing_key",at="messaging.kafka.message_key",ct="messaging.kafka.consumer_group",ut="messaging.kafka.client_id",lt="messaging.kafka.partition",dt="messaging.kafka.tombstone",pt="rpc.system",ht="rpc.service",ft="rpc.method",mt="rpc.grpc.status_code",_t="rpc.jsonrpc.version",gt="rpc.jsonrpc.request_id",St="rpc.jsonrpc.error_code",bt="rpc.jsonrpc.error_message",yt="message.type",Et="message.id",vt="message.compressed_size",Tt="message.uncompressed_size",It=o,Rt=s,Ct=i,At=a,Ot=c,Nt=u,wt=l,Pt=d,Lt=p,Mt=h,xt=f,kt=m,Ut=_,Gt=g,Vt=S,Dt=b,Bt=y,Ft=E,Ht=v,jt=T,Yt=I,Wt=R,Kt=C,Xt=A,Zt=O,$t=N,Jt=w,zt=P,Qt=L,qt=M,en=x,tn=k,nn=U,rn=G,on=V,sn=D,an=B,cn=F,un=H,ln=j,dn=Y,pn=W,hn=K,fn=X,mn=Z,_n=$,gn=J,Sn=z,bn=Q,yn=q,En=ee,vn=te,Tn=ne,In=re,Rn=oe,Cn=se,An=ie,On=ae,Nn=ce,wn=ue,Pn=le,Ln=de,Mn=pe,xn=he,kn=fe,Un=me,Gn=_e,Vn=ge,Dn=Se,Bn=be,Fn=ye,Hn=Ee,jn=ve,Yn=Te,Wn=Ie,Kn=Re,Xn=Ce,Zn=Ae,$n=Oe,Jn=Ne,zn=we,Qn=Pe,qn=Le,er=Me,tr=xe,nr=ke,rr=Ue,or=Ge,sr=Ve,ir=De,ar=Be,cr=Fe,ur=He,lr=je,dr=Ye,pr=We,hr=Ke,fr=Xe,mr=Ze,_r=$e,gr=Je,Sr=ze,br=Qe,yr=qe,Er=et,vr=tt,Tr=nt,Ir=rt,Rr=ot,Cr=st,Ar=it,Or=at,Nr=ct,wr=ut,Pr=lt,Lr=dt,Mr=pt,xr=ht,kr=ft,Ur=mt,Gr=_t,Vr=gt,Dr=St,Br=bt,Fr=yt,Hr=Et,jr=vt,Yr=Tt,Wr=(0,r.U)([o,s,i,a,c,u,l,d,p,h,f,m,_,g,S,b,y,E,v,T,I,R,C,A,O,N,w,P,L,M,x,k,U,G,V,D,B,F,H,j,Y,W,K,X,Z,$,J,z,Q,q,ee,te,ne,re,oe,se,ie,ae,ce,ue,le,de,pe,he,fe,me,_e,ge,Se,be,ye,Ee,ve,Te,Ie,Re,Ce,Ae,Oe,Ne,we,Pe,Le,Me,xe,ke,Ue,Ge,Ve,De,Be,Fe,He,je,Ye,We,Ke,Xe,Ze,$e,Je,ze,Qe,qe,et,tt,nt,rt,ot,st,it,at,ct,ut,lt,dt,pt,ht,ft,mt,_t,gt,St,bt,yt,Et,vt,Tt]),Kr="other_sql",Xr="mssql",Zr="mysql",$r="oracle",Jr="postgresql",zr="redshift",Qr="hive",qr="cloudscape",eo="hsqldb",to="progress",no="maxdb",ro="hanadb",oo="ingres",so="firstsql",io="cache",ao="adabas",co="firebird",uo="derby",lo="filemaker",po="informix",ho="instantdb",fo="interbase",mo="mariadb",_o="netezza",go="pervasive",So="pointbase",bo="sqlite",yo="sybase",Eo="teradata",vo="vertica",To="coldfusion",Io="cassandra",Ro="hbase",Co="mongodb",Ao="redis",Oo="couchbase",No="couchdb",wo="cosmosdb",Po="dynamodb",Lo="neo4j",Mo="geode",xo="elasticsearch",ko="memcached",Uo="cockroachdb",Go=Kr,Vo=Xr,Do=Zr,Bo=$r,Fo="db2",Ho=Jr,jo=zr,Yo=Qr,Wo=qr,Ko=eo,Xo=to,Zo=no,$o=ro,Jo=oo,zo=so,Qo="edb",qo=io,es=ao,ts=co,ns=uo,rs=lo,os=po,ss=ho,is=fo,as=mo,cs=_o,us=go,ls=So,ds=bo,ps=yo,hs=Eo,fs=vo,ms="h2",_s=To,gs=Io,Ss=Ro,bs=Co,ys=Ao,Es=Oo,vs=No,Ts=wo,Is=Po,Rs=Lo,Cs=Mo,As=xo,Os=ko,Ns=Uo,ws=(0,r.U)([Kr,Xr,Zr,$r,"db2",Jr,zr,Qr,qr,eo,to,no,ro,oo,so,"edb",io,ao,co,uo,lo,po,ho,fo,mo,_o,go,So,bo,yo,Eo,vo,"h2",To,Io,Ro,Co,Ao,Oo,No,wo,Po,Lo,Mo,xo,ko,Uo]),Ps="each_quorum",Ls="quorum",Ms="local_quorum",xs="three",ks="local_one",Us="serial",Gs="local_serial",Vs="all",Ds=Ps,Bs=Ls,Fs=Ms,Hs="one",js="two",Ys=xs,Ws=ks,Ks="any",Xs=Us,Zs=Gs,$s=(0,r.U)(["all",Ps,Ls,Ms,"one","two",xs,ks,"any",Us,Gs]),Js="datasource",zs="http",Qs="pubsub",qs="timer",ei="other",ti=Js,ni=zs,ri=Qs,oi=qs,si=ei,ii=(0,r.U)([Js,zs,Qs,qs,ei]),ai="insert",ci="edit",ui="delete",li=ai,di=ci,pi=ui,hi=(0,r.U)([ai,ci,ui]),fi="alibaba_cloud",mi="azure",_i=fi,gi="aws",Si=mi,bi="gcp",yi=(0,r.U)([fi,"aws",mi,"gcp"]),Ei="ip_tcp",vi="ip_udp",Ti="unix",Ii="pipe",Ri="inproc",Ci="other",Ai=Ei,Oi=vi,Ni="ip",wi=Ti,Pi=Ii,Li=Ri,Mi=Ci,xi=(0,r.U)([Ei,vi,"ip",Ti,Ii,Ri,Ci]),ki="wifi",Ui="wired",Gi="cell",Vi="unavailable",Di="unknown",Bi=ki,Fi=Ui,Hi=Gi,ji=Vi,Yi=Di,Wi=(0,r.U)([ki,Ui,Gi,Vi,Di]),Ki="gprs",Xi="edge",Zi="umts",$i="cdma",Ji="evdo_0",zi="evdo_a",Qi="cdma2000_1xrtt",qi="hsdpa",ea="hsupa",ta="hspa",na="iden",ra="evdo_b",oa="ehrpd",sa="hspap",ia="td_scdma",aa="iwlan",ca="nrnsa",ua="lte_ca",la=Ki,da=Xi,pa=Zi,ha=$i,fa=Ji,ma=zi,_a=Qi,ga=qi,Sa=ea,ba=ta,ya=na,Ea=ra,va="lte",Ta=oa,Ia=sa,Ra="gsm",Ca=ia,Aa=aa,Oa="nr",Na=ca,wa=ua,Pa=(0,r.U)([Ki,Xi,Zi,$i,Ji,zi,Qi,qi,ea,ta,na,ra,"lte",oa,sa,"gsm",ia,aa,"nr",ca,ua]),La="SPDY",Ma="QUIC",xa="1.0",ka="1.1",Ua="2.0",Ga=La,Va=Ma,Da={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:La,QUIC:Ma},Ba="queue",Fa="topic",Ha=Ba,ja=Fa,Ya=(0,r.U)([Ba,Fa]),Wa="receive",Ka="process",Xa=Wa,Za=Ka,$a=(0,r.U)([Wa,Ka]),Ja=0,za=1,Qa=2,qa=3,ec=4,tc=5,nc=6,rc=7,oc=8,sc=9,ic=10,ac=11,cc=12,uc=13,lc=14,dc=15,pc=16,hc={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},fc="SENT",mc="RECEIVED",_c=fc,gc=mc,Sc=(0,r.U)([fc,mc])},51008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSqlCommenterComment=void 0;const r=n(59232),o=n(30164);t.addSqlCommenterComment=function(e,t){if("string"!=typeof t||0===t.length)return t;if(function(e){const t=e.indexOf("--");return t>=0||!(e.indexOf("/*")<0)&&t<e.indexOf("*/")}(t))return t;const n=new o.W3CTraceContextPropagator,s={};n.inject(r.trace.setSpan(r.ROOT_CONTEXT,e),s,r.defaultTextMapSetter);const i=Object.keys(s).sort();return 0===i.length?t:`${t} /*${i.map((e=>`${e}='${encodeURIComponent(s[e]).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}'`)).join(",")}*/`}},22236:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{GLOBAL_KEY:()=>p,MODULE_NAME:()=>m,NAME:()=>f,VERSION:()=>h}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of i(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=s(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=(0,n(39456).__commonJS)({"package.json"(e,t){t.exports={name:"@prisma/instrumentation",version:"5.17.0",description:"OpenTelemetry compliant instrumentation for Prisma Client",main:"dist/index.js",types:"dist/index.d.ts",license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation"},bugs:"https://github.com/prisma/prisma/issues",devDependencies:{"@prisma/internals":"workspace:*","@swc/core":"1.6.13","@types/jest":"29.5.12","@types/node":"18.19.31",jest:"29.7.0","jest-junit":"16.0.0",typescript:"5.4.5"},dependencies:{"@opentelemetry/api":"^1.8","@opentelemetry/instrumentation":"^0.49 || ^0.50 || ^0.51 || ^0.52.0","@opentelemetry/sdk-trace-base":"^1.22"},files:["dist"],keywords:["prisma","instrumentation","opentelemetry","otel"],scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"jest"},sideEffects:!1}}}),{version:l,name:d}=u(),p="PRISMA_INSTRUMENTATION",h=l,f=d,m="prisma"},37028:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{PrismaInstrumentation:()=>p}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of i(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=s(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=n(10148),l=n(22236),d=n(12744),p=class extends d.InstrumentationBase{constructor(e={}){super(l.NAME,l.VERSION,e)}init(){return[new d.InstrumentationNodeModuleDefinition(l.MODULE_NAME,[l.VERSION])]}enable(){const e=this._config,t={helper:new u.ActiveTracingHelper({traceMiddleware:e.middleware??!1})};global[l.GLOBAL_KEY]=t}disable(){delete global[l.GLOBAL_KEY]}isEnabled(){return Boolean(global[l.GLOBAL_KEY])}}},39456:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(i,{__commonJS:()=>c}),e.exports=(t=i,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))s.call(e,i)||undefined===i||n(e,i,{get:()=>t[i],enumerable:!(a=r(t,i))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var a=Object.getOwnPropertyNames,c=(e,t)=>function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports}},10148:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{ActiveTracingHelper:()=>p}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of i(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=s(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=n(59232),l=n(29308),d="true"===process.env.PRISMA_SHOW_ALL_TRACES,p=class{constructor({traceMiddleware:e}){this.traceMiddleware=e}isEnabled(){return!0}getTraceParent(e){const t=u.trace.getSpanContext(e??u.context.active());return t?`00-${t.traceId}-${t.spanId}-0${t.traceFlags}`:"00-10-10-00"}createEngineSpan(e){const t=u.trace.getTracer("prisma");e.spans.forEach((e=>{const n={traceId:e.trace_id,spanId:e.span_id,traceFlags:u.TraceFlags.SAMPLED},r=e.links?.map((e=>({context:{traceId:e.trace_id,spanId:e.span_id,traceFlags:u.TraceFlags.SAMPLED}}))),o=new l.Span(t,u.ROOT_CONTEXT,e.name,n,u.SpanKind.INTERNAL,e.parent_span_id,r,e.start_time);e.attributes&&o.setAttributes(e.attributes),o.end(e.end_time)}))}getActiveContext(){return u.context.active()}runInChildSpan(e,t){if("string"==typeof e&&(e={name:e}),e.internal&&!d)return t();if(e.middleware&&!this.traceMiddleware)return t();const n=u.trace.getTracer("prisma"),r=e.context??this.getActiveContext(),o=`prisma:client:${e.name}`;if(!1===e.active){const s=n.startSpan(o,e,r);return h(s,t(s,r))}return n.startActiveSpan(o,e,(e=>h(e,t(e,r))))}};function h(e,t){return null!=(n=t)&&"function"==typeof n.then?t.then((t=>(e.end(),t)),(t=>{throw e.end(),t})):(e.end(),t);var n}},492:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{PrismaInstrumentation:()=>u.PrismaInstrumentation}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of i(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=s(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var u=n(37028);n(10148),n(22236),n(39456)},53620:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);function o(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}t.getEnvelopeEndpointWithUrlEncodedAuth=function(e,t,n){return t||`${function(e){return`${o(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r.urlEncode({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,n)}`},t.getReportDialogEndpoint=function(e,t){const n=r.makeDsn(e);if(!n)return"";const s=`${o(n)}embed/error-page/`;let i=`dsn=${r.dsnToString(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(i+=`&name=${encodeURIComponent(e.name)}`),e.email&&(i+=`&email=${encodeURIComponent(e.email)}`)}else i+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${s}?${i}`}},13368:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(46736),o=n(35232);t.getAsyncContextStrategy=function(e){const t=r.getSentryCarrier(e);return t.acs?t.acs:o.getStackAsyncContextStrategy()},t.setAsyncContextStrategy=function(e){const t=r.getMainCarrier();r.getSentryCarrier(t).acs=e}},35232:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(12736),s=n(18036),i=n(46736);class a{constructor(e,t){let n,r;n=e||new s.Scope,r=t||new s.Scope,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return r.isThenable(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function c(){const e=i.getMainCarrier(),t=i.getSentryCarrier(e);return t.stack=t.stack||new a(o.getDefaultCurrentScope(),o.getDefaultIsolationScope())}function u(e){return c().withScope(e)}function l(e,t){const n=c();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function d(e){return c().withScope((()=>e(c().getIsolationScope())))}t.AsyncContextStack=a,t.getStackAsyncContextStrategy=function(){return{withIsolationScope:d,withScope:u,withSetScope:l,withSetIsolationScope:(e,t)=>d(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},92059:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(53620),s=n(52920),i=n(85160),a=n(10860),c=n(11064),u=n(21624),l=n(80136),d=n(98792),p=n(75088),h="Not capturing exception because it's already been captured.";function f(e){return void 0===e.type}function m(e){return"transaction"===e.type}t.BaseClient=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=r.makeDsn(e.dsn):i.DEBUG_BUILD&&r.logger.warn("No DSN provided, client will not send events."),this._dsn){const t=o.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const o=r.uuid4();if(r.checkOrSetAlreadyCaught(e))return i.DEBUG_BUILD&&r.logger.log(h),o;const s={event_id:o,...t};return this._process(this.eventFromException(e,s).then((e=>this._captureEvent(e,s,n)))),s.event_id}captureMessage(e,t,n,o){const s={event_id:r.uuid4(),...n},i=r.isParameterizedString(e)?e:String(e),a=r.isPrimitive(e)?this.eventFromMessage(i,t,s):this.eventFromException(e,s);return this._process(a.then((e=>this._captureEvent(e,s,o)))),s.event_id}captureEvent(e,t,n){const o=r.uuid4();if(t&&t.originalException&&r.checkOrSetAlreadyCaught(t.originalException))return i.DEBUG_BUILD&&r.logger.log(h),o;const s={event_id:o,...t},a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,a||n)),s.event_id}captureSession(e){"string"!=typeof e.release?i.DEBUG_BUILD&&r.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),u.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):r.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];c.setupIntegration(this,e,this._integrations),t||c.afterSetupIntegrations(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=a.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=r.addItemToEnvelope(n,r.createAttachmentEnvelopeItem(e));const o=this.sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=a.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const o="number"==typeof n?n:1,s=`${e}:${t}`;i.DEBUG_BUILD&&r.logger.log(`Recording outcome: "${s}"${o>1?` (${o} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+o}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(i.DEBUG_BUILD&&r.logger.error("Error while sending event:",e),e))):(i.DEBUG_BUILD&&r.logger.error("Transport disabled"),r.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=c.setupIntegrations(this,e),c.afterSetupIntegrations(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(u.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new r.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=s.getIsolationScope()){const i=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),e.type||o.setLastEventId(e.event_id||t.event_id),p.prepareEvent(i,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:o,parentSpanId:s,dsc:i}=t;e.contexts={trace:r.dropUndefinedKeys({trace_id:n,span_id:o,parent_span_id:s}),...e.contexts};const a=i||l.getDynamicSamplingContextFromClient(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(i.DEBUG_BUILD){const t=e;"log"===t.logLevel?r.logger.log(t.message):r.logger.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:s}=o,i=m(e),a=f(e),c=e.type||"error",u=`before send for type \`${c}\``,l=void 0===s?void 0:d.parseSampleRate(s);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",e),r.rejectedSyncPromise(new r.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const p="replay_event"===c?"replay":c,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,h).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",p,e),new r.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const s=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;if(f(n)&&o)return o(n,r);if(m(n)){if(n.spans&&i){const t=[];for(const r of n.spans){const n=i(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(s){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(n,r)}}return n}(this,o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(r.isThenable(e))return e.then((e=>{if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}),(e=>{throw new r.SentryError(`${t} rejected with ${e}`)}));if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}(s,u)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",p,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new r.SentryError(`${u} returned \`null\`, will not send event.`,"log")}const s=n&&n.getSession();if(!i&&s&&this._updateSessionFromEvent(s,o),i){const e=(o.sdkProcessingMetadata&&o.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=o.transaction_info;if(i&&a&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...a,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof r.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new r.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){i.DEBUG_BUILD&&r.logger.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(i.DEBUG_BUILD&&r.logger.log("No outcomes to send"));if(!this._dsn)return void(i.DEBUG_BUILD&&r.logger.log("No dsn provided, will not send outcomes"));i.DEBUG_BUILD&&r.logger.log("Sending outcomes:",e);const t=r.createClientReportEnvelope(e,this._options.tunnel&&r.dsnToString(this._dsn));this.sendEnvelope(t)}}},74912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=100;t.addBreadcrumb=function(e,t){const n=o.getClient(),i=o.getIsolationScope();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:c=s}=n.getOptions();if(c<=0)return;const u={timestamp:r.dateTimestampInSeconds(),...e},l=a?r.consoleSandbox((()=>a(u,t))):u;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),i.addBreadcrumb(l,c))}},46736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);function o(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||r.SDK_VERSION,t[r.SDK_VERSION]=t[r.SDK_VERSION]||{}}t.getMainCarrier=function(){return o(r.GLOBAL_OBJ),r.GLOBAL_OBJ},t.getSentryCarrier=o},98648:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);t.createCheckInEnvelope=function(e,t,n,o,s){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),o&&s&&(i.dsn=r.dsnToString(s)),t&&(i.trace=r.dropUndefinedKeys(t));const a=function(e){return[{type:"check_in"},e]}(e);return r.createEnvelope(i,[a])}},27528:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENVIRONMENT="production"},52920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(13368),s=n(46736),i=n(18036);function a(){const e=s.getMainCarrier();return o.getAsyncContextStrategy(e).getCurrentScope()}t.getClient=function(){return a().getClient()},t.getCurrentScope=a,t.getGlobalScope=function(){return r.getGlobalSingleton("globalScope",(()=>new i.Scope))},t.getIsolationScope=function(){const e=s.getMainCarrier();return o.getAsyncContextStrategy(e).getIsolationScope()},t.withIsolationScope=function(...e){const t=s.getMainCarrier(),n=o.getAsyncContextStrategy(t);if(2===e.length){const[t,r]=e;return t?n.withSetIsolationScope(t,r):n.withIsolationScope(r)}return n.withIsolationScope(e[0])},t.withScope=function(...e){const t=s.getMainCarrier(),n=o.getAsyncContextStrategy(t);if(2===e.length){const[t,r]=e;return t?n.withSetScope(t,r):n.withScope(r)}return n.withScope(e[0])}},85160:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},12736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(18036);t.getDefaultCurrentScope=function(){return r.getGlobalSingleton("defaultCurrentScope",(()=>new o.Scope))},t.getDefaultIsolationScope=function(){return r.getGlobalSingleton("defaultIsolationScope",(()=>new o.Scope))}},10860:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(80136),s=n(59036);t.createEventEnvelope=function(e,t,n,o){const s=r.getSdkMetadataForEnvelopeHeader(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=r.createEventEnvelopeHeaders(e,s,o,t);delete e.sdkProcessingMetadata;const c=[{type:i},e];return r.createEnvelope(a,[c])},t.createSessionEnvelope=function(e,t,n,o){const s=r.getSdkMetadataForEnvelopeHeader(n),i={sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!o&&t&&{dsn:r.dsnToString(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return r.createEnvelope(i,[a])},t.createSpanEnvelope=function(e,t){const n=o.getDynamicSamplingContextFromSpan(e[0]),i=t&&t.getDsn(),a=t&&t.getOptions().tunnel,c={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!a&&i&&{dsn:r.dsnToString(i)}},u=t&&t.getOptions().beforeSendSpan,l=u?e=>u(s.spanToJSON(e)):e=>s.spanToJSON(e),d=[];for(const t of e){const e=l(t);e&&d.push(r.createSpanEnvelopeItem(e))}return r.createEnvelope(c,d)}},71100:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160);t.notifyEventProcessors=function e(t,n,s,i=0){return new r.SyncPromise(((a,c)=>{const u=t[i];if(null===n||"function"!=typeof u)a(n);else{const l=u({...n},s);o.DEBUG_BUILD&&u.id&&null===l&&r.logger.log(`Event processor "${u.id}" dropped event`),r.isThenable(l)?l.then((n=>e(t,n,s,i+1).then(a))).then(null,c):e(t,l,s,i+1).then(a).then(null,c)}}))}},3357:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(27528),s=n(52920),i=n(85160),a=n(21624),c=n(75088);function u(e,t){const n=s.getCurrentScope(),o=s.getClient();if(o){if(o.captureCheckIn)return o.captureCheckIn(e,t,n);i.DEBUG_BUILD&&r.logger.warn("Cannot capture check-in. Client does not support sending check-ins.")}else i.DEBUG_BUILD&&r.logger.warn("Cannot capture check-in. No client defined.");return r.uuid4()}function l(){const e=s.getIsolationScope(),t=s.getCurrentScope(),n=t.getSession()||e.getSession();n&&a.closeSession(n),d(),e.setSession(),t.setSession()}function d(){const e=s.getIsolationScope(),t=s.getCurrentScope(),n=s.getClient(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}t.addEventProcessor=function(e){s.getIsolationScope().addEventProcessor(e)},t.captureCheckIn=u,t.captureEvent=function(e,t){return s.getCurrentScope().captureEvent(e,t)},t.captureException=function(e,t){return s.getCurrentScope().captureException(e,c.parseEventHintOrCaptureContext(t))},t.captureMessage=function(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return s.getCurrentScope().captureMessage(e,n,r)},t.captureSession=function(e=!1){e?l():d()},t.close=async function(e){const t=s.getClient();return t?t.close(e):(i.DEBUG_BUILD&&r.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},t.endSession=l,t.flush=async function(e){const t=s.getClient();return t?t.flush(e):(i.DEBUG_BUILD&&r.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},t.isEnabled=function(){const e=s.getClient();return!!e&&!1!==e.getOptions().enabled&&!!e.getTransport()},t.isInitialized=function(){return!!s.getClient()},t.lastEventId=function(){return s.getIsolationScope().lastEventId()},t.setContext=function(e,t){s.getIsolationScope().setContext(e,t)},t.setExtra=function(e,t){s.getIsolationScope().setExtra(e,t)},t.setExtras=function(e){s.getIsolationScope().setExtras(e)},t.setTag=function(e,t){s.getIsolationScope().setTag(e,t)},t.setTags=function(e){s.getIsolationScope().setTags(e)},t.setUser=function(e){s.getIsolationScope().setUser(e)},t.startSession=function(e){const t=s.getClient(),n=s.getIsolationScope(),i=s.getCurrentScope(),{release:c,environment:u=o.DEFAULT_ENVIRONMENT}=t&&t.getOptions()||{},{userAgent:d}=r.GLOBAL_OBJ.navigator||{},p=a.makeSession({release:c,environment:u,user:i.getUser()||n.getUser(),...d&&{userAgent:d},...e}),h=n.getSession();return h&&"ok"===h.status&&a.updateSession(h,{status:"exited"}),l(),n.setSession(p),i.setSession(p),p},t.withMonitor=function(e,t,n){const o=u({monitorSlug:e,status:"in_progress"},n),i=r.timestampInSeconds();function a(t){u({monitorSlug:e,status:t,checkInId:o,duration:r.timestampInSeconds()-i})}return s.withIsolationScope((()=>{let e;try{e=t()}catch(e){throw a("error"),e}return r.isThenable(e)?Promise.resolve(e).then((()=>{a("ok")}),(()=>{a("error")})):a("ok"),e}))}},3272:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920);t.captureFeedback=function(e,t={},n=o.getCurrentScope()){const{message:s,name:i,email:a,url:c,source:u,associatedEventId:l,tags:d}=e,p={contexts:{feedback:r.dropUndefinedKeys({contact_email:a,name:i,message:s,url:c,source:u,associated_event_id:l})},type:"feedback",level:"info",tags:d},h=n&&n.getClient()||o.getClient();return h&&h.emit("beforeSendFeedback",p,t),n.captureEvent(p,t)}},716:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(97516);n(84748),n(85160);const i=n(14420),a=n(59036),c=n(82760),u=n(500),l=n(13816),d=n(80136);function p(e,t,n,s,i){const c=o.getIsolationScope(),{traceId:u,spanId:l,sampled:p,dsc:h}={...c.getPropagationContext(),...n.getPropagationContext()},f=i?a.spanToTraceHeader(i):r.generateSentryTraceHeader(u,l,p),m=r.dynamicSamplingContextToSentryBaggageHeader(h||(i?d.getDynamicSamplingContextFromSpan(i):d.getDynamicSamplingContextFromClient(u,t))),_=s.headers||("undefined"!=typeof Request&&r.isInstanceOf(e,Request)?e.headers:void 0);if(_){if("undefined"!=typeof Headers&&r.isInstanceOf(_,Headers)){const e=new Headers(_);return e.append("sentry-trace",f),m&&e.append(r.BAGGAGE_HEADER_NAME,m),e}if(Array.isArray(_)){const e=[..._,["sentry-trace",f]];return m&&e.push([r.BAGGAGE_HEADER_NAME,m]),e}{const e="baggage"in _?_.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{..._,"sentry-trace":f,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":f,baggage:m}}t.addTracingHeadersToFetchRequest=p,t.instrumentFetchRequest=function(e,t,n,d,h="auto.http.browser"){if(!e.fetchData)return;const f=i.hasTracingEnabled()&&t(e.fetchData.url);if(e.endTimestamp&&f){const t=e.fetchData.__span;if(!t)return;const n=d[t];return void(n&&(function(e,t){if(t.response){u.setHttpStatus(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:u.SPAN_STATUS_ERROR,message:"internal_error"});e.end()}(n,e),delete d[t]))}const m=o.getCurrentScope(),_=o.getClient(),{method:g,url:S}=e.fetchData,b=function(e){try{return new URL(e).href}catch(e){return}}(S),y=b?r.parseUrl(b).host:void 0,E=!!a.getActiveSpan(),v=f&&E?l.startInactiveSpan({name:`${g} ${S}`,attributes:{url:S,type:"fetch","http.method":g,"http.url":b,"server.address":y,[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:h,[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new c.SentryNonRecordingSpan;if(e.fetchData.__span=v.spanContext().spanId,d[v.spanContext().spanId]=v,n(e.fetchData.url)&&_){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=p(t,_,m,n,i.hasTracingEnabled()&&E?v:void 0)}return v}},76448:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(74912),o=n(52920),s=n(3357);function i(){return{bindClient(e){o.getCurrentScope().setClient(e)},withScope:o.withScope,getClient:()=>o.getClient(),getScope:o.getCurrentScope,getIsolationScope:o.getIsolationScope,captureException:(e,t)=>o.getCurrentScope().captureException(e,t),captureMessage:(e,t,n)=>o.getCurrentScope().captureMessage(e,t,n),captureEvent:s.captureEvent,addBreadcrumb:r.addBreadcrumb,setUser:s.setUser,setTags:s.setTags,setTag:s.setTag,setExtra:s.setExtra,setExtras:s.setExtras,setContext:s.setContext,getIntegration(e){const t=o.getClient();return t&&t.getIntegrationByName(e.id)||null},startSession:s.startSession,endSession:s.endSession,captureSession(e){if(e)return s.endSession();!function(){const e=o.getCurrentScope(),t=o.getClient(),n=e.getSession();t&&n&&t.captureSession(n)}()}}}const a=i;t.getCurrentHub=a,t.getCurrentHubShim=i},69780:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(84748),o=n(28888),s=n(14016),i=n(21716),a=n(92912),c=n(82760),u=n(500),l=n(13816),d=n(80136),p=n(7704),h=n(25876),f=n(82648),m=n(97516),_=n(10860),g=n(3357),S=n(52920),b=n(12736),y=n(13368),E=n(46736),v=n(21624),T=n(44656),I=n(18036),R=n(71100),C=n(53620),A=n(92059),O=n(51820),N=n(33220),w=n(93824),P=n(29132),L=n(53736),M=n(11064),x=n(78352),k=n(75088),U=n(98648),G=n(14420),V=n(15296),D=n(73656),B=n(42032),F=n(59036),H=n(98792),j=n(84),Y=n(53564),W=n(67620),K=n(27528),X=n(74912),Z=n(83692),$=n(9032),J=n(46819),z=n(99612),Q=n(368),q=n(94416),ee=n(76256),te=n(71736),ne=n(32153),re=n(95812),oe=n(44612),se=n(63712),ie=n(47372),ae=n(24352),ce=n(8604),ue=n(42620),le=n(32364),de=n(716),pe=n(79404),he=n(3272),fe=n(76448),me=n(44072);t.registerSpanErrorInstrumentation=r.registerSpanErrorInstrumentation,t.getCapturedScopesOnSpan=o.getCapturedScopesOnSpan,t.setCapturedScopesOnSpan=o.setCapturedScopesOnSpan,t.addTracingExtensions=s.addTracingExtensions,t.TRACING_DEFAULTS=i.TRACING_DEFAULTS,t.startIdleSpan=i.startIdleSpan,t.SentrySpan=a.SentrySpan,t.SentryNonRecordingSpan=c.SentryNonRecordingSpan,t.SPAN_STATUS_ERROR=u.SPAN_STATUS_ERROR,t.SPAN_STATUS_OK=u.SPAN_STATUS_OK,t.SPAN_STATUS_UNSET=u.SPAN_STATUS_UNSET,t.getSpanStatusFromHttpCode=u.getSpanStatusFromHttpCode,t.setHttpStatus=u.setHttpStatus,t.continueTrace=l.continueTrace,t.startInactiveSpan=l.startInactiveSpan,t.startNewTrace=l.startNewTrace,t.startSpan=l.startSpan,t.startSpanManual=l.startSpanManual,t.suppressTracing=l.suppressTracing,t.withActiveSpan=l.withActiveSpan,t.getDynamicSamplingContextFromClient=d.getDynamicSamplingContextFromClient,t.getDynamicSamplingContextFromSpan=d.getDynamicSamplingContextFromSpan,t.spanToBaggageHeader=d.spanToBaggageHeader,t.setMeasurement=p.setMeasurement,t.timedEventsToMeasurements=p.timedEventsToMeasurements,t.sampleSpan=h.sampleSpan,t.logSpanEnd=f.logSpanEnd,t.logSpanStart=f.logSpanStart,t.SEMANTIC_ATTRIBUTE_CACHE_HIT=m.SEMANTIC_ATTRIBUTE_CACHE_HIT,t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=m.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,t.SEMANTIC_ATTRIBUTE_CACHE_KEY=m.SEMANTIC_ATTRIBUTE_CACHE_KEY,t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=m.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,t.SEMANTIC_ATTRIBUTE_PROFILE_ID=m.SEMANTIC_ATTRIBUTE_PROFILE_ID,t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=m.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=m.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=m.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=m.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=m.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=m.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=m.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.createEventEnvelope=_.createEventEnvelope,t.createSessionEnvelope=_.createSessionEnvelope,t.createSpanEnvelope=_.createSpanEnvelope,t.addEventProcessor=g.addEventProcessor,t.captureCheckIn=g.captureCheckIn,t.captureEvent=g.captureEvent,t.captureException=g.captureException,t.captureMessage=g.captureMessage,t.captureSession=g.captureSession,t.close=g.close,t.endSession=g.endSession,t.flush=g.flush,t.isEnabled=g.isEnabled,t.isInitialized=g.isInitialized,t.lastEventId=g.lastEventId,t.setContext=g.setContext,t.setExtra=g.setExtra,t.setExtras=g.setExtras,t.setTag=g.setTag,t.setTags=g.setTags,t.setUser=g.setUser,t.startSession=g.startSession,t.withMonitor=g.withMonitor,t.getClient=S.getClient,t.getCurrentScope=S.getCurrentScope,t.getGlobalScope=S.getGlobalScope,t.getIsolationScope=S.getIsolationScope,t.withIsolationScope=S.withIsolationScope,t.withScope=S.withScope,t.getDefaultCurrentScope=b.getDefaultCurrentScope,t.getDefaultIsolationScope=b.getDefaultIsolationScope,t.setAsyncContextStrategy=y.setAsyncContextStrategy,t.getMainCarrier=E.getMainCarrier,t.closeSession=v.closeSession,t.makeSession=v.makeSession,t.updateSession=v.updateSession,t.SessionFlusher=T.SessionFlusher,t.Scope=I.Scope,t.notifyEventProcessors=R.notifyEventProcessors,t.getEnvelopeEndpointWithUrlEncodedAuth=C.getEnvelopeEndpointWithUrlEncodedAuth,t.getReportDialogEndpoint=C.getReportDialogEndpoint,t.BaseClient=A.BaseClient,t.ServerRuntimeClient=O.ServerRuntimeClient,t.initAndBind=N.initAndBind,t.setCurrentClient=N.setCurrentClient,t.createTransport=w.createTransport,t.makeOfflineTransport=P.makeOfflineTransport,t.makeMultiplexedTransport=L.makeMultiplexedTransport,t.addIntegration=M.addIntegration,t.defineIntegration=M.defineIntegration,t.getIntegrationsToSetup=M.getIntegrationsToSetup,t.applyScopeDataToEvent=x.applyScopeDataToEvent,t.mergeScopeData=x.mergeScopeData,t.prepareEvent=k.prepareEvent,t.createCheckInEnvelope=U.createCheckInEnvelope,t.hasTracingEnabled=G.hasTracingEnabled,t.isSentryRequestUrl=V.isSentryRequestUrl,t.handleCallbackErrors=D.handleCallbackErrors,t.parameterize=B.parameterize,t.addChildSpanToSpan=F.addChildSpanToSpan,t.getActiveSpan=F.getActiveSpan,t.getRootSpan=F.getRootSpan,t.getSpanDescendants=F.getSpanDescendants,t.getStatusMessage=F.getStatusMessage,t.spanIsSampled=F.spanIsSampled,t.spanTimeInputToSeconds=F.spanTimeInputToSeconds,t.spanToJSON=F.spanToJSON,t.spanToTraceContext=F.spanToTraceContext,t.spanToTraceHeader=F.spanToTraceHeader,t.parseSampleRate=H.parseSampleRate,t.applySdkMetadata=j.applySdkMetadata,t.getTraceData=Y.getTraceData,t.getTraceMetaTags=W.getTraceMetaTags,t.DEFAULT_ENVIRONMENT=K.DEFAULT_ENVIRONMENT,t.addBreadcrumb=X.addBreadcrumb,t.functionToStringIntegration=Z.functionToStringIntegration,t.inboundFiltersIntegration=$.inboundFiltersIntegration,t.linkedErrorsIntegration=J.linkedErrorsIntegration,t.moduleMetadataIntegration=z.moduleMetadataIntegration,t.requestDataIntegration=Q.requestDataIntegration,t.captureConsoleIntegration=q.captureConsoleIntegration,t.debugIntegration=ee.debugIntegration,t.dedupeIntegration=te.dedupeIntegration,t.extraErrorDataIntegration=ne.extraErrorDataIntegration,t.rewriteFramesIntegration=re.rewriteFramesIntegration,t.sessionTimingIntegration=oe.sessionTimingIntegration,t.zodErrorsIntegration=se.zodErrorsIntegration,t.thirdPartyErrorFilterIntegration=ie.thirdPartyErrorFilterIntegration,t.metrics=ae.metrics,t.metricsDefault=ce.metricsDefault,t.BrowserMetricsAggregator=ue.BrowserMetricsAggregator,t.getMetricSummaryJsonForSpan=le.getMetricSummaryJsonForSpan,t.addTracingHeadersToFetchRequest=de.addTracingHeadersToFetchRequest,t.instrumentFetchRequest=de.instrumentFetchRequest,t.trpcMiddleware=pe.trpcMiddleware,t.captureFeedback=he.captureFeedback,t.getCurrentHub=fe.getCurrentHub,t.getCurrentHubShim=fe.getCurrentHubShim,t.SDK_VERSION=me.SDK_VERSION},11064:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(85160),i=[];function a(e,t,n){if(n[t.name])s.DEBUG_BUILD&&r.logger.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===i.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),i.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}s.DEBUG_BUILD&&r.logger.log(`Integration installed: ${t.name}`)}}t.addIntegration=function(e){const t=o.getClient();t?t.addIntegration(e):s.DEBUG_BUILD&&r.logger.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},t.afterSetupIntegrations=function(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)},t.defineIntegration=function(e){return e},t.getIntegrationsToSetup=function(e){const t=e.defaultIntegrations||[],n=e.integrations;let o;t.forEach((e=>{e.isDefaultInstance=!0})),o=Array.isArray(n)?[...t,...n]:"function"==typeof n?r.arrayify(n(t)):t;const s=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(o),i=s.findIndex((e=>"Debug"===e.name));if(i>-1){const[e]=s.splice(i,1);s.push(e)}return s},t.installedIntegrations=i,t.setupIntegration=a,t.setupIntegrations=function(e,t){const n={};return t.forEach((t=>{t&&a(e,t,n)})),n}},94416:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(3357),i=n(11064).defineIntegration(((e={})=>{const t=e.levels||r.CONSOLE_LEVELS;return{name:"CaptureConsole",setup(e){"console"in r.GLOBAL_OBJ&&r.addConsoleInstrumentationHandler((({args:n,level:i})=>{o.getClient()===e&&t.includes(i)&&function(e,t){const n={level:r.severityLevelFromString(t),extra:{arguments:e}};o.withScope((o=>{if(o.addEventProcessor((e=>(e.logger="console",r.addExceptionMechanism(e,{handled:!1,type:"console"}),e))),"assert"===t){if(!e[0]){const t=`Assertion failed: ${r.safeJoin(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),s.captureMessage(t,n)}return}const i=e.find((e=>e instanceof Error));if(i)return void s.captureException(i,n);const a=r.safeJoin(e," ");s.captureMessage(a,n)}))}(n,i)}))}}}));t.captureConsoleIntegration=i},76256:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064).defineIntegration(((e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:"Debug",setup(e){e.on("beforeSendEvent",((e,n)=>{t.debugger,r.consoleSandbox((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}}));t.debugIntegration=o},71736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064),s=n(85160),i=o.defineIntegration((()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(a(t,e))return s.DEBUG_BUILD&&r.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function a(e,t){return!(!t||!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!u(e,t)&&!!c(e,t))))}(e,t)&&!function(e,t){const n=l(t),r=l(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!u(e,t)&&!!c(e,t)))}(e,t))}function c(e,t){let n=r.getFramesFromEvent(e),o=r.getFramesFromEvent(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],r=n[e];if(t.filename!==r.filename||t.lineno!==r.lineno||t.colno!==r.colno||t.function!==r.function)return!1}return!0}function u(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function l(e){return e.exception&&e.exception.values&&e.exception.values[0]}t._shouldDropEvent=a,t.dedupeIntegration=i},32153:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064),s=n(85160),i=o.defineIntegration(((e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,o,i){const{maxValueLength:a=250}=i.getOptions();return function(e,t={},n,o,i){if(!t.originalException||!r.isError(t.originalException))return e;const a=t.originalException.name||t.originalException.constructor.name,c=function(e,t,n){try{const o=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const t of Object.keys(e)){if(-1!==o.indexOf(t))continue;const i=e[t];s[t]=r.isError(i)||"string"==typeof i?r.truncate(`${i}`,n):i}if(t&&void 0!==e.cause&&(s.cause=r.isError(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];s[e]=r.isError(n)?n.toString():n}}return s}catch(e){s.DEBUG_BUILD&&r.logger.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,o,i);if(c){const t={...e.contexts},o=r.normalize(c,n);return r.isPlainObject(o)&&(r.addNonEnumerableProperty(o,"__sentry_skip_normalization__",!0),t[a]=o),{...e,contexts:t}}return e}(e,o,t,n,a)}}}));t.extraErrorDataIntegration=i},83692:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(11064);let i;const a=new WeakMap,c=s.defineIntegration((()=>({name:"FunctionToString",setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=r.getOriginalFunction(this),n=a.has(o.getClient())&&void 0!==t?t:this;return i.apply(n,e)}}catch(e){}},setup(e){a.set(e,!0)}})));t.functionToStringIntegration=c},9032:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160),s=n(11064),i=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],a=s.defineIntegration(((e={})=>({name:"InboundFilters",processEvent(t,n,s){const a=s.getOptions(),u=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:i],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,a);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let n;e.message&&t.push(e.message);try{n=e.exception.values[e.exception.values.length-1]}catch(e){}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}(e).some((e=>r.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e){return!e.type&&(!(!e.exception||!e.exception.values||0===e.exception.values.length)&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))))}(e)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.ignoreTransactions)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=c(e);return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.denyUrls)?(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${c(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=c(e);return!n||r.stringMatchesSomePattern(n,t)}(e,t.allowUrls)&&(o.DEBUG_BUILD&&r.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${c(e)}`),!0)}(t,u)?null:t}})));function c(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return o.DEBUG_BUILD&&r.logger.error(`Cannot extract url for event ${r.getEventDescription(e)}`),null}}t.inboundFiltersIntegration=a},46819:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064).defineIntegration(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,o,s){const i=s.getOptions();r.applyAggregateErrorsToEvent(r.exceptionFromError,i.stackParser,i.maxValueLength,n,t,e,o)}}}));t.linkedErrorsIntegration=o},99612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064),s=n(35704),i=o.defineIntegration((()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",(e=>{r.forEachEnvelopeItem(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(s.stripMetadataFromStackFrames(t),e[1]=t)}}))})),e.on("applyFrameMetadata",(t=>{if(t.type)return;const n=e.getOptions().stackParser;s.addMetadataToStackFrames(n,t)}))}})));t.moduleMetadataIntegration=i},368:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064),s={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},i=o.defineIntegration(((e={})=>{const t={...s,...e,include:{...s.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...s.include.user,...(e.include||{}).user}}};return{name:"RequestData",processEvent(e){const{sdkProcessingMetadata:n={}}=e,o=n.request;if(!o)return e;const s=function(e){const{transactionNamingScheme:t,include:{ip:n,user:r,...o}}=e,s=["method"];for(const[e,t]of Object.entries(o))t&&s.push(e);let i;if(void 0===r)i=!0;else if("boolean"==typeof r)i=r;else{const e=[];for(const[t,n]of Object.entries(r))n&&e.push(t);i=e}return{include:{ip:n,user:i,request:0!==s.length?s:void 0,transaction:t}}}(t);return r.addRequestDataToEvent(e,o,s)}}}));t.requestDataIntegration=i},95812:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064).defineIntegration(((e={})=>{const t=e.root,n=e.prefix||"app:///",o="window"in r.GLOBAL_OBJ&&void 0!==r.GLOBAL_OBJ.window,i=e.iteratee||s({isBrowser:o,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>i(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}}));function s({isBrowser:e,root:t,prefix:n}){return o=>{if(!o.filename)return o;const s=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),i=/^\//.test(o.filename);if(e){if(t){const e=o.filename;0===e.indexOf(t)&&(o.filename=e.replace(t,n))}}else if(s||i){const e=s?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,i=t?r.relative(t,e):r.basename(e);o.filename=`${n}${i}`}return o}}t.generateIteratee=s,t.rewriteFramesIntegration=o},44612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064).defineIntegration((()=>{const e=1e3*r.timestampInSeconds();return{name:"SessionTiming",processEvent(t){const n=1e3*r.timestampInSeconds();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}}));t.sessionTimingIntegration=o},47372:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(11064),s=n(35704),i=o.defineIntegration((e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",(e=>{r.forEachEnvelopeItem(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(s.stripMetadataFromStackFrames(t),e[1]=t)}}))})),e.on("applyFrameMetadata",(t=>{if(t.type)return;const n=e.getOptions().stackParser;s.addMetadataToStackFrames(n,t)}))},processEvent(t){const n=function(e){const t=r.getFramesFromEvent(e);if(t)return t.filter((e=>!!e.filename)).map((e=>e.module_metadata?Object.keys(e.module_metadata).filter((e=>e.startsWith(a))).map((e=>e.slice(a.length))):[]))}(t);if(n&&n["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"]((t=>!t.some((t=>e.filterKeys.includes(t)))))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0}}return t}}))),a="_sentryBundlerPluginAppKey:";t.thirdPartyErrorFilterIntegration=i},63712:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);function o(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function s(e){const t=new Set;for(const n of e.issues)n.path&&n.path[0]&&t.add(n.path[0]);const n=Array.from(t);return`Failed to validate keys: ${r.truncate(n.join(", "),100)}`}function i(e,t,n){return t.exception&&t.exception.values&&n&&n.originalException&&(i=n.originalException,r.isError(i)&&"ZodError"===i.name&&Array.isArray(i.errors))&&0!==n.originalException.issues.length?{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:s(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(o)}}:t;var i}const a=n(11064).defineIntegration(((e={})=>{const t=e.limit||10;return{name:"ZodErrors",processEvent:(e,n)=>i(t,e,n)}}));t.applyZodErrorsToEvent=i,t.zodErrorsIntegration=a},35704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=new Map,s=new Set;function i(e,t){return function(e){if(r.GLOBAL_OBJ._sentryModuleMetadata)for(const t of Object.keys(r.GLOBAL_OBJ._sentryModuleMetadata)){const n=r.GLOBAL_OBJ._sentryModuleMetadata[t];if(s.has(t))continue;s.add(t);const i=e(t);for(const e of i.reverse())if(e.filename){o.set(e.filename,n);break}}}(e),o.get(t)}t.addMetadataToStackFrames=function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename||n.module_metadata)continue;const t=i(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}},t.getMetadataForUrl=i,t.stripMetadataFromStackFrames=function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}},70752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(59036),s=n(48108),i=n(74464),a=n(57152),c=n(2932);t.MetricsAggregator=class{constructor(e){this._client=e,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval((()=>this._flush()),s.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*s.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(e,t,n,i="none",u={},l=r.timestampInSeconds()){const d=Math.floor(l),p=c.sanitizeMetricKey(t),h=c.sanitizeTags(u),f=c.sanitizeUnit(i),m=c.getBucketKey(e,p,f,h);let _=this._buckets.get(m);const g=_&&e===s.SET_METRIC_TYPE?_.metric.weight:0;_?(_.metric.add(n),_.timestamp<d&&(_.timestamp=d)):(_={metric:new a.METRIC_MAP[e](n),timestamp:d,metricType:e,name:p,unit:f,tags:h},this._buckets.set(m,_));const S="string"==typeof n?_.metric.weight-g:n;o.updateMetricSummaryOnActiveSpan(e,p,S,f,u,m),this._bucketsTotalWeight+=_.metric.weight,this._bucketsTotalWeight>=s.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush)return this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),void this._buckets.clear();const e=Math.floor(r.timestampInSeconds())-s.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,t=new Map;for(const[n,r]of this._buckets)r.timestamp<=e&&(t.set(n,r),this._bucketsTotalWeight-=r.metric.weight);for(const[e]of t)this._buckets.delete(e);this._captureMetrics(t)}_captureMetrics(e){if(e.size>0){const t=Array.from(e).map((([,e])=>e));i.captureAggregateMetrics(this._client,t)}}}},42620:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(59036),s=n(48108),i=n(74464),a=n(57152),c=n(2932);t.BrowserMetricsAggregator=class{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),s.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(e,t,n,i="none",u={},l=r.timestampInSeconds()){const d=Math.floor(l),p=c.sanitizeMetricKey(t),h=c.sanitizeTags(u),f=c.sanitizeUnit(i),m=c.getBucketKey(e,p,f,h);let _=this._buckets.get(m);const g=_&&e===s.SET_METRIC_TYPE?_.metric.weight:0;_?(_.metric.add(n),_.timestamp<d&&(_.timestamp=d)):(_={metric:new a.METRIC_MAP[e](n),timestamp:d,metricType:e,name:p,unit:f,tags:h},this._buckets.set(m,_));const S="string"==typeof n?_.metric.weight-g:n;o.updateMetricSummaryOnActiveSpan(e,p,S,f,u,m)}flush(){if(0===this._buckets.size)return;const e=Array.from(this._buckets.values());i.captureAggregateMetrics(this._client,e),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}},48108:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COUNTER_METRIC_TYPE="c",t.DEFAULT_BROWSER_FLUSH_INTERVAL=5e3,t.DEFAULT_FLUSH_INTERVAL=1e4,t.DISTRIBUTION_METRIC_TYPE="d",t.GAUGE_METRIC_TYPE="g",t.MAX_WEIGHT=1e4,t.SET_METRIC_TYPE="s"},74464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(2932);function s(e,t,n,s){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),s&&t&&(i.dsn=r.dsnToString(t));const a=function(e){const t=o.serializeMetricBuckets(e);return[{type:"statsd",length:t.length},t]}(e);return r.createEnvelope(i,[a])}t.captureAggregateMetrics=function(e,t){r.logger.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=s(t,e.getDsn(),e.getSdkMetadata(),e.getOptions().tunnel);e.sendEnvelope(n)},t.createMetricEnvelope=s},8604:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(70752),o=n(24352),s={increment:function(e,t=1,n){o.metrics.increment(r.MetricsAggregator,e,t,n)},distribution:function(e,t,n){o.metrics.distribution(r.MetricsAggregator,e,t,n)},set:function(e,t,n){o.metrics.set(r.MetricsAggregator,e,t,n)},gauge:function(e,t,n){o.metrics.gauge(r.MetricsAggregator,e,t,n)},timing:function(e,t,n="second",s){return o.metrics.timing(r.MetricsAggregator,e,t,n,s)},getMetricsAggregatorForClient:function(e){return o.metrics.getMetricsAggregatorForClient(e,r.MetricsAggregator)}};t.metricsDefault=s},24352:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(85160);n(84748);const i=n(59036),a=n(13816),c=n(73656),u=n(48108);function l(e,t){const n=r.getGlobalSingleton("globalMetricsAggregators",(()=>new WeakMap)),o=n.get(e);if(o)return o;const s=new t(e);return e.on("flush",(()=>s.flush())),e.on("close",(()=>s.close())),n.set(e,s),s}function d(e,t,n,a,c={}){const u=c.client||o.getClient();if(!u)return;const d=i.getActiveSpan(),p=d?i.getRootSpan(d):void 0,h=p&&i.spanToJSON(p).description,{unit:f,tags:m,timestamp:_}=c,{release:g,environment:S}=u.getOptions(),b={};g&&(b.release=g),S&&(b.environment=S),h&&(b.transaction=h),s.DEBUG_BUILD&&r.logger.log(`Adding value of ${a} to ${t} metric ${n}`),l(u,e).add(t,n,a,f,{...b,...m},_)}function p(e,t,n,r){d(e,u.DISTRIBUTION_METRIC_TYPE,t,f(n),r)}const h={increment:function(e,t,n=1,r){d(e,u.COUNTER_METRIC_TYPE,t,f(n),r)},distribution:p,set:function(e,t,n,r){d(e,u.SET_METRIC_TYPE,t,n,r)},gauge:function(e,t,n,r){d(e,u.GAUGE_METRIC_TYPE,t,f(n),r)},timing:function(e,t,n,o="second",s){if("function"==typeof n){const o=r.timestampInSeconds();return a.startSpanManual({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},(i=>c.handleCallbackErrors((()=>n()),(()=>{}),(()=>{const n=r.timestampInSeconds();p(e,t,n-o,{...s,unit:"second"}),i.end(n)}))))}p(e,t,n,{...s,unit:o})},getMetricsAggregatorForClient:l};function f(e){return"string"==typeof e?parseInt(e):e}t.metrics=h},57152:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(48108),o=n(2932);class s{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}}class i{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class a{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}}class c{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?o.simpleHash(e):e)).join(":")}}const u={[r.COUNTER_METRIC_TYPE]:s,[r.GAUGE_METRIC_TYPE]:i,[r.DISTRIBUTION_METRIC_TYPE]:a,[r.SET_METRIC_TYPE]:c};t.CounterMetric=s,t.DistributionMetric=a,t.GaugeMetric=i,t.METRIC_MAP=u,t.SetMetric=c},32364:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o="_sentryMetrics";t.getMetricSummaryJsonForSpan=function(e){const t=e[o];if(!t)return;const n={};for(const[,[e,o]]of t)(n[e]||(n[e]=[])).push(r.dropUndefinedKeys(o));return n},t.updateMetricSummaryOnSpan=function(e,t,n,r,s,i,a){const c=e[o]||(e[o]=new Map),u=`${t}:${n}@${s}`,l=c.get(a);if(l){const[,e]=l;c.set(a,[u,{min:Math.min(e.min,r),max:Math.max(e.max,r),count:e.count+=1,sum:e.sum+=r,tags:e.tags}])}else c.set(a,[u,{min:r,max:r,count:1,sum:r,tags:i}])}},2932:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);function o(e){return e.replace(/[^\w\-./]+/gi,"")}const s=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];t.getBucketKey=function(e,t,n,o){return`${e}${t}${n}${Object.entries(r.dropUndefinedKeys(o)).sort(((e,t)=>e[0].localeCompare(t[0])))}`},t.sanitizeMetricKey=function(e){return e.replace(/[^\w\-.]+/gi,"_")},t.sanitizeTags=function(e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[o(r)]=(n=String(e[r]),[...n].reduce(((e,t)=>e+function(e){for(const[t,n]of s)if(e===t)return n;return e}(t)),"")));var n;return t},t.sanitizeUnit=function(e){return e.replace(/[^\w]+/gi,"_")},t.serializeMetricBuckets=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t},t.simpleHash=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}},18036:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(21624),s=n(82200);class i{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=r.generatePropagationContext()}clone(){const e=new i;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,s._setSpanForScope(e,s._getSpanForScope(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&o.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[n,o]=t instanceof a?[t.getScopeData(),t.getRequestSession()]:r.isPlainObject(t)?[e,e.requestSession]:[],{tags:s,extra:i,user:c,contexts:u,level:l,fingerprint:d=[],propagationContext:p}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...i},this._contexts={...this._contexts,...u},c&&Object.keys(c).length&&(this._user=c),l&&(this._level=l),d.length&&(this._fingerprint=d),p&&(this._propagationContext=p),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,s._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=r.generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:r.dateTimestampInSeconds(),...e},s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:s._getSpanForScope(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:r.uuid4();if(!this._client)return r.logger.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:r.uuid4();if(!this._client)return r.logger.warn("No client configured on scope - will not capture message!"),o;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:r.uuid4();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(r.logger.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const a=i;t.Scope=a},33220:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(85160);function i(e){o.getCurrentScope().setClient(e)}t.initAndBind=function(e,t){!0===t.debug&&(s.DEBUG_BUILD?r.logger.enable():r.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),o.getCurrentScope().update(t.initialScope);const n=new e(t);return i(n),n.init(),n},t.setCurrentClient=i},97516:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SEMANTIC_ATTRIBUTE_CACHE_HIT="cache.hit",t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE="cache.item_size",t.SEMANTIC_ATTRIBUTE_CACHE_KEY="cache.key",t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",t.SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON="sentry.idle_span_finish_reason",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT="sentry.measurement_unit",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE="sentry.measurement_value",t.SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source"},51820:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(92059),s=n(98648),i=n(52920),a=n(85160),c=n(44656),u=n(84748),l=n(82200),d=n(59036),p=n(80136);class h extends o.BaseClient{constructor(e){u.registerSpanErrorInstrumentation(),super(e)}eventFromException(e,t){return r.resolvedSyncPromise(r.eventFromUnknownInput(this,this._options.stackParser,e,t))}eventFromMessage(e,t="info",n){return r.resolvedSyncPromise(r.eventFromMessage(this._options.stackParser,e,t,n,this._options.attachStacktrace))}captureException(e,t,n){if(this._options.autoSessionTracking&&this._sessionFlusher){const e=i.getIsolationScope().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureException(e,t,n)}captureEvent(e,t,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&"exception"===(e.type||"exception")&&e.exception&&e.exception.values&&e.exception.values.length>0){const e=i.getIsolationScope().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureEvent(e,t,n)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){const{release:e,environment:t}=this._options;e?this._sessionFlusher=new c.SessionFlusher(this,{release:e,environment:t}):a.DEBUG_BUILD&&r.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,t,n){const o="checkInId"in e&&e.checkInId?e.checkInId:r.uuid4();if(!this._isEnabled())return a.DEBUG_BUILD&&r.logger.warn("SDK not enabled, will not capture checkin."),o;const i=this.getOptions(),{release:c,environment:u,tunnel:l}=i,d={check_in_id:o,monitor_slug:e.monitorSlug,status:e.status,release:c,environment:u};"duration"in e&&(d.duration=e.duration),t&&(d.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});const[p,h]=this._getTraceInfoFromScope(n);h&&(d.contexts={trace:h});const f=s.createCheckInEnvelope(d,p,this.getSdkMetadata(),l,this.getDsn());return a.DEBUG_BUILD&&r.logger.info("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(f),o}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():a.DEBUG_BUILD&&r.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,t,n,r){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,n,r)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];const t=l._getSpanForScope(e);if(t){const e=d.getRootSpan(t);return[p.getDynamicSamplingContextFromSpan(e),d.spanToTraceContext(e)]}const{traceId:n,spanId:r,parentSpanId:o,dsc:s}=e.getPropagationContext(),i={trace_id:n,span_id:r,parent_span_id:o};return s?[s,i]:[p.getDynamicSamplingContextFromClient(n,this),i]}}t.ServerRuntimeClient=h},21624:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);function o(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||r.timestampInSeconds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:r.uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}t.closeSession=function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),o(e,n)},t.makeSession=function(e){const t=r.timestampInSeconds(),n={sid:r.uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return r.dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&o(n,e),n},t.updateSession=o},44656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920);t.SessionFlusher=class{constructor(e,t){this._client=e,this.flushTimeout=60,this._pendingAggregates=new Map,this._isEnabled=!0,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates=new Map,this._client.sendSession(e))}getSessionAggregates(){const e=Array.from(this._pendingAggregates.values()),t={attrs:this._sessionAttrs,aggregates:e};return r.dropUndefinedKeys(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=o.getIsolationScope(),t=e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const n=new Date(t).setSeconds(0,0);let r=this._pendingAggregates.get(n);switch(r||(r={started:new Date(n).toISOString()},this._pendingAggregates.set(n,r)),e){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}},80136:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(27528),s=n(52920),i=n(97516),a=n(59036),c="_frozenDsc";function u(e,t){const n=t.getOptions(),{publicKey:s}=t.getDsn()||{},i=r.dropUndefinedKeys({environment:n.environment||o.DEFAULT_ENVIRONMENT,release:n.release,public_key:s,trace_id:e});return t.emit("createDsc",i),i}function l(e){const t=s.getClient();if(!t)return{};const n=u(a.spanToJSON(e).trace_id||"",t),o=a.getRootSpan(e),l=o[c];if(l)return l;const d=o.spanContext().traceState,p=d&&d.get("sentry.dsc"),h=p&&r.baggageHeaderToDynamicSamplingContext(p);if(h)return h;const f=a.spanToJSON(o),m=f.data||{},_=m[i.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];null!=_&&(n.sample_rate=`${_}`);const g=m[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],S=f.description;return"url"!==g&&S&&(n.transaction=S),n.sampled=String(a.spanIsSampled(o)),t.emit("createDsc",n,o),n}t.freezeDscOnSpan=function(e,t){const n=e;r.addNonEnumerableProperty(n,c,t)},t.getDynamicSamplingContextFromClient=u,t.getDynamicSamplingContextFromSpan=l,t.spanToBaggageHeader=function(e){const t=l(e);return r.dynamicSamplingContextToSentryBaggageHeader(t)}},84748:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160),s=n(59036),i=n(500);let a=!1;function c(){const e=s.getActiveSpan(),t=e&&s.getRootSpan(e);if(t){const e="internal_error";o.DEBUG_BUILD&&r.logger.log(`[Tracing] Root span: ${e} -> Global error occured`),t.setStatus({code:i.SPAN_STATUS_ERROR,message:e})}}c.tag="sentry_tracingErrorCallback",t.registerSpanErrorInstrumentation=function(){a||(a=!0,r.addGlobalErrorInstrumentationHandler(c),r.addGlobalUnhandledRejectionInstrumentationHandler(c))}},14016:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(84748);t.addTracingExtensions=function(){r.registerSpanErrorInstrumentation()}},21716:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(85160),i=n(97516),a=n(14420),c=n(82200),u=n(59036),l=n(82760),d=n(500),p=n(13816),h={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};t.TRACING_DEFAULTS=h,t.startIdleSpan=function(e,t={}){const n=new Map;let f,m=!1,_="externalFinish",g=!t.disableAutoFinish;const S=[],{idleTimeout:b=h.idleTimeout,finalTimeout:y=h.finalTimeout,childSpanTimeout:E=h.childSpanTimeout,beforeSpanEnd:v}=t,T=o.getClient();if(!T||!a.hasTracingEnabled())return new l.SentryNonRecordingSpan;const I=o.getCurrentScope(),R=u.getActiveSpan(),C=function(e){const t=p.startInactiveSpan(e);return c._setSpanForScope(o.getCurrentScope(),t),s.DEBUG_BUILD&&r.logger.log("[Tracing] Started span is an idle span"),t}(e);function A(){f&&(clearTimeout(f),f=void 0)}function O(e){A(),f=setTimeout((()=>{!m&&0===n.size&&g&&(_="idleTimeout",C.end(e))}),b)}function N(e){f=setTimeout((()=>{!m&&g&&(_="heartbeatFailed",C.end(e))}),E)}function w(e){m=!0,n.clear(),S.forEach((e=>e())),c._setSpanForScope(I,R);const t=u.spanToJSON(C),{start_timestamp:o}=t;if(!o)return;(t.data||{})[i.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||C.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,_),r.logger.log(`[Tracing] Idle span "${t.op}" finished`);const a=u.getSpanDescendants(C).filter((e=>e!==C));let l=0;a.forEach((t=>{t.isRecording()&&(t.setStatus({code:d.SPAN_STATUS_ERROR,message:"cancelled"}),t.end(e),s.DEBUG_BUILD&&r.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=u.spanToJSON(t),{timestamp:o=0,start_timestamp:i=0}=n,a=i<=e,c=o-i<=(y+b)/1e3;if(s.DEBUG_BUILD){const e=JSON.stringify(t,void 0,2);a?c||r.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",e):r.logger.log("[Tracing] Discarding span since it happened after idle span was finished",e)}c&&a||(u.removeChildSpanFromSpan(C,t),l++)})),l>0&&C.setAttribute("sentry.idle_span_discarded_spans",l)}return C.end=new Proxy(C.end,{apply(e,t,n){v&&v(C);const[o,...s]=n,i=o||r.timestampInSeconds(),a=u.spanTimeInputToSeconds(i),c=u.getSpanDescendants(C).filter((e=>e!==C));if(!c.length)return w(a),Reflect.apply(e,t,[a,...s]);const l=c.map((e=>u.spanToJSON(e).timestamp)).filter((e=>!!e)),d=l.length?Math.max(...l):void 0,p=u.spanToJSON(C).start_timestamp,h=Math.min(p?p+y/1e3:1/0,Math.max(p||-1/0,Math.min(a,d||1/0)));return w(h),Reflect.apply(e,t,[h,...s])}}),S.push(T.on("spanStart",(e=>{var t;m||e===C||u.spanToJSON(e).timestamp||u.getSpanDescendants(C).includes(e)&&(t=e.spanContext().spanId,A(),n.set(t,!0),N(r.timestampInSeconds()+E/1e3))}))),S.push(T.on("spanEnd",(e=>{var t;m||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&O(r.timestampInSeconds()+b/1e3))}))),S.push(T.on("idleSpanEnableAutoFinish",(e=>{e===C&&(g=!0,O(),n.size&&N())}))),t.disableAutoFinish||O(),setTimeout((()=>{m||(C.setStatus({code:d.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),_="finalTimeout",C.end())}),y),C}},82648:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160),s=n(59036);t.logSpanEnd=function(e){if(!o.DEBUG_BUILD)return;const{description:t="< unknown name >",op:n="< unknown op >"}=s.spanToJSON(e),{spanId:i}=e.spanContext(),a=`[Tracing] Finishing "${n}" ${s.getRootSpan(e)===e?"root ":""}span "${t}" with ID ${i}`;r.logger.log(a)},t.logSpanStart=function(e){if(!o.DEBUG_BUILD)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:i}=s.spanToJSON(e),{spanId:a}=e.spanContext(),c=s.spanIsSampled(e),u=s.getRootSpan(e),l=u===e,d=`[Tracing] Starting ${c?"sampled":"unsampled"} ${l?"root ":""}span`,p=[`op: ${n}`,`name: ${t}`,`ID: ${a}`];if(i&&p.push(`parent ID: ${i}`),!l){const{op:e,description:t}=s.spanToJSON(u);p.push(`root ID: ${u.spanContext().spanId}`),e&&p.push(`root op: ${e}`),t&&p.push(`root description: ${t}`)}r.logger.log(`${d}\n  ${p.join("\n  ")}`)}},7704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(97516),o=n(59036);t.setMeasurement=function(e,t,n){const s=o.getActiveSpan(),i=s&&o.getRootSpan(s);i&&i.addEvent(e,{[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t,[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:n})},t.timedEventsToMeasurements=function(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const n=e.attributes||{},o=n[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],s=n[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof o&&"number"==typeof s&&(t[e.name]={value:s,unit:o})})),t}},25876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160),s=n(14420),i=n(98792);t.sampleSpan=function(e,t){if(!s.hasTracingEnabled(e))return[!1];let n;n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;const a=i.parseSampleRate(n);return void 0===a?(o.DEBUG_BUILD&&r.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(o.DEBUG_BUILD&&r.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,a]):(o.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,a])}},82760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(59036);t.SentryNonRecordingSpan=class{constructor(e={}){this._traceId=e.traceId||r.uuid4(),this._spanId=e.spanId||r.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:o.TRACE_FLAG_NONE}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}},92912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(85160),i=n(10860),a=n(32364),c=n(97516),u=n(59036),l=n(80136),d=n(82648),p=n(7704),h=n(28888);class f{constructor(e={}){this._traceId=e.traceId||r.uuid4(),this._spanId=e.spanId||r.uuid4().substring(16),this._startTime=e.startTimestamp||r.timestampInSeconds(),this._attributes={},this.setAttributes({[c.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[c.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?u.TRACE_FLAG_SAMPLED:u.TRACE_FLAG_NONE}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}updateStartTime(e){this._startTime=u.spanTimeInputToSeconds(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){this._endTime||(this._endTime=u.spanTimeInputToSeconds(e),d.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return r.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[c.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:u.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[c.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[c.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[c.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:p.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&u.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?u.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){s.DEBUG_BUILD&&r.logger.log("[Tracing] Adding an event to span:",e);const o=m(t)?t:n||r.timestampInSeconds(),i=m(t)?{}:t||{},a={name:e,time:u.spanTimeInputToSeconds(o),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=o.getClient();if(e&&e.emit("spanEnd",this),!this._isStandaloneSpan&&this!==u.getRootSpan(this))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=o.getClient();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");const i=t.getTransport();i&&i.send(e).then(null,(e=>{s.DEBUG_BUILD&&r.logger.error("Error while sending span:",e)}))}(i.createSpanEnvelope([this],e)):(s.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();t&&(h.getCapturedScopesOnSpan(this).scope||o.getCurrentScope()).captureEvent(t)}_convertSpanToTransaction(){if(!_(u.spanToJSON(this)))return;this._name||(s.DEBUG_BUILD&&r.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=h.getCapturedScopesOnSpan(this),n=(e||o.getCurrentScope()).getClient()||o.getClient();if(!0!==this._sampled)return s.DEBUG_BUILD&&r.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const i=u.getSpanDescendants(this).filter((e=>e!==this&&!function(e){return e instanceof f&&e.isStandaloneSpan()}(e))).map((e=>u.spanToJSON(e))).filter(_),d=this._attributes[c.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],m={contexts:{trace:u.spanToTransactionTraceContext(this)},spans:i.length>1e3?i.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...r.dropUndefinedKeys({dynamicSamplingContext:l.getDynamicSamplingContextFromSpan(this)})},_metrics_summary:a.getMetricSummaryJsonForSpan(this),...d&&{transaction_info:{source:d}}},g=p.timedEventsToMeasurements(this._events);return g&&Object.keys(g).length&&(s.DEBUG_BUILD&&r.logger.log("[Measurements] Adding measurements to transaction event",JSON.stringify(g,void 0,2)),m.measurements=g),m}}function m(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function _(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}t.SentrySpan=f},500:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function n(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}t.SPAN_STATUS_ERROR=2,t.SPAN_STATUS_OK=1,t.SPAN_STATUS_UNSET=0,t.getSpanStatusFromHttpCode=n,t.setHttpStatus=function(e,t){e.setAttribute("http.response.status_code",t);const r=n(t);"unknown_error"!==r.message&&e.setStatus(r)}},13816:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(46736),s=n(52920),i=n(13368),a=n(85160),c=n(97516),u=n(73656),l=n(14420),d=n(82200),p=n(59036),h=n(80136),f=n(82648),m=n(25876),_=n(82760),g=n(92912),S=n(500),b=n(28888),y="__SENTRY_SUPPRESS_TRACING__";function E(e,t){const n=I();return n.withActiveSpan?n.withActiveSpan(e,t):s.withScope((n=>(d._setSpanForScope(n,e||void 0),t(n))))}function v({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!l.hasTracingEnabled())return new _.SentryNonRecordingSpan;const o=s.getIsolationScope();let i;if(e&&!n)i=function(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),i=!t.getScopeData().sdkProcessingMetadata[y]&&p.spanIsSampled(e),a=i?new g.SentrySpan({...n,parentSpanId:r,traceId:o,sampled:i}):new _.SentryNonRecordingSpan({traceId:o});p.addChildSpanToSpan(e,a);const c=s.getClient();return c&&(c.emit("spanStart",a),n.endTimestamp&&c.emit("spanEnd",a)),a}(e,r,t),p.addChildSpanToSpan(e,i);else if(e){const n=h.getDynamicSamplingContextFromSpan(e),{traceId:o,spanId:s}=e.spanContext(),a=p.spanIsSampled(e);i=R({traceId:o,parentSpanId:s,...t},r,a),h.freezeDscOnSpan(i,n)}else{const{traceId:e,dsc:n,parentSpanId:s,sampled:a}={...o.getPropagationContext(),...r.getPropagationContext()};i=R({traceId:e,parentSpanId:s,...t},r,a),n&&h.freezeDscOnSpan(i,n)}return f.logSpanStart(i),b.setCapturedScopesOnSpan(i,r,o),i}function T(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=p.spanTimeInputToSeconds(e.startTime),delete n.startTime,n}return t}function I(){const e=o.getMainCarrier();return i.getAsyncContextStrategy(e)}function R(e,t,n){const r=s.getClient(),o=r&&r.getOptions()||{},{name:i="",attributes:a}=e,[u,l]=t.getScopeData().sdkProcessingMetadata[y]?[!1]:m.sampleSpan(o,{name:i,parentSampled:n,attributes:a,transactionContext:{name:i,parentSampled:n}}),d=new g.SentrySpan({...e,attributes:{[c.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",...e.attributes},sampled:u});return void 0!==l&&d.setAttribute(c.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,l),r&&r.emit("spanStart",d),d}function C(e){const t=d._getSpanForScope(e);if(!t)return;const n=s.getClient();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?p.getRootSpan(t):t}function A(e){return void 0!==e?t=>E(e,t):e=>e()}t.continueTrace=({sentryTrace:e,baggage:t},n)=>s.withScope((o=>{const s=r.propagationContextFromHeaders(e,t);return o.setPropagationContext(s),n()})),t.startInactiveSpan=function(e){const t=I();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=T(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?t=>s.withScope(e.scope,t):void 0!==o?e=>E(o,e):e=>e())((()=>{const t=s.getCurrentScope(),o=C(t);return e.onlyIfParent&&!o?new _.SentryNonRecordingSpan:v({parentSpan:o,spanArguments:n,forceTransaction:r,scope:t})}))},t.startNewTrace=function(e){return s.withScope((t=>(t.setPropagationContext(r.generatePropagationContext()),a.DEBUG_BUILD&&r.logger.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),E(null,e))))},t.startSpan=function(e,t){const n=I();if(n.startSpan)return n.startSpan(e,t);const r=T(e),{forceTransaction:o,parentSpan:i}=e;return s.withScope(e.scope,(()=>A(i)((()=>{const n=s.getCurrentScope(),i=C(n),a=e.onlyIfParent&&!i?new _.SentryNonRecordingSpan:v({parentSpan:i,spanArguments:r,forceTransaction:o,scope:n});return d._setSpanForScope(n,a),u.handleCallbackErrors((()=>t(a)),(()=>{const{status:e}=p.spanToJSON(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:S.SPAN_STATUS_ERROR,message:"internal_error"})}),(()=>a.end()))}))))},t.startSpanManual=function(e,t){const n=I();if(n.startSpanManual)return n.startSpanManual(e,t);const r=T(e),{forceTransaction:o,parentSpan:i}=e;return s.withScope(e.scope,(()=>A(i)((()=>{const n=s.getCurrentScope(),i=C(n),a=e.onlyIfParent&&!i?new _.SentryNonRecordingSpan:v({parentSpan:i,spanArguments:r,forceTransaction:o,scope:n});function c(){a.end()}return d._setSpanForScope(n,a),u.handleCallbackErrors((()=>t(a,c)),(()=>{const{status:e}=p.spanToJSON(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:S.SPAN_STATUS_ERROR,message:"internal_error"})}))}))))},t.suppressTracing=function(e){const t=I();return t.suppressTracing?t.suppressTracing(e):s.withScope((t=>(t.setSDKProcessingMetadata({[y]:!0}),e())))},t.withActiveSpan=E},28888:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o="_sentryScope",s="_sentryIsolationScope";t.stripUrlQueryAndFragment=r.stripUrlQueryAndFragment,t.getCapturedScopesOnSpan=function(e){return{scope:e[o],isolationScope:e[s]}},t.setCapturedScopesOnSpan=function(e,t,n){e&&(r.addNonEnumerableProperty(e,s,n),r.addNonEnumerableProperty(e,o,t))}},93824:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160);function s(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}t.DEFAULT_TRANSPORT_BUFFER_SIZE=64,t.createTransport=function(e,t,n=r.makePromiseBuffer(e.bufferSize||64)){let i={};return{send:function(a){const c=[];if(r.forEachEnvelopeItem(a,((t,n)=>{const o=r.envelopeItemTypeToDataCategory(n);if(r.isRateLimited(i,o)){const r=s(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else c.push(t)})),0===c.length)return r.resolvedSyncPromise({});const u=r.createEnvelope(a[0],c),l=t=>{r.forEachEnvelopeItem(u,((n,o)=>{const i=s(n,o);e.recordDroppedEvent(t,r.envelopeItemTypeToDataCategory(o),i)}))};return n.add((()=>t({body:r.serializeEnvelope(u)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&o.DEBUG_BUILD&&r.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),i=r.updateRateLimits(i,e),e)),(e=>{throw l("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.SentryError)return o.DEBUG_BUILD&&r.logger.error("Skipped sending event because buffer is full."),l("queue_overflow"),r.resolvedSyncPromise({});throw e}))},flush:e=>n.drain(e)}}},53736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(53620);function s(e,t){let n;return r.forEachEnvelopeItem(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}t.eventFromEnvelope=s,t.makeMultiplexedTransport=function(e,t){return n=>{const i=e(n),a=new Map;function c(t,i){const c=i?`${t}:${i}`:t;let u=a.get(c);if(!u){const l=r.dsnFromString(t);if(!l)return;const d=o.getEnvelopeEndpointWithUrlEncodedAuth(l,n.tunnel);u=i?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=s(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,i)({...n,url:d}):e({...n,url:d}),a.set(c,u)}return[t,u]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return s(e,n)}}).map((e=>"string"==typeof e?c(e,void 0):c(e.dsn,e.release))).filter((e=>!!e)),o=n.length?n:[["",i]];return(await Promise.all(o.map((([t,n])=>n.send(function(e,t){return r.createEnvelope(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[...a.values(),i];return(await Promise.all(t.map((t=>t.flush(e))))).every((e=>e))}}}}},29132:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160),s=5e3;t.MIN_DELAY=100,t.START_DELAY=s,t.makeOfflineTransport=function(e){function t(...e){o.DEBUG_BUILD&&r.logger.info("[Offline]:",...e)}return n=>{const o=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const i=n.createStore(n);let a,c=s;function u(e){a&&clearTimeout(a),a=setTimeout((async()=>{a=void 0;const e=await i.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=(new Date).toISOString(),d(e,!0).catch((e=>{t("Failed to retry sending",e)})))}),e),"number"!=typeof a&&a.unref&&a.unref()}function l(){a||(u(c),c=Math.min(2*c,36e5))}async function d(e,a=!1){if(!a&&r.envelopeContainsItemType(e,["replay_event","replay_recording"]))return await i.push(e),u(100),{};try{const t=await o.send(e);let n=100;if(t)if(t.headers&&t.headers["retry-after"])n=r.parseRetryAfterHeader(t.headers["retry-after"]);else if(t.headers&&t.headers["x-sentry-rate-limits"])n=6e4;else if((t.statusCode||0)>=400)return t;return u(n),c=s,t}catch(o){if(await function(e,t,o){return!r.envelopeContainsItemType(e,["client_report"])&&(!n.shouldStore||n.shouldStore(e,t,o))}(e,o,c))return a?await i.unshift(e):await i.push(e),l(),t("Error sending. Event queued.",o),{};throw o}}return n.flushAtStartup&&l(),{send:d,flush:e=>o.flush(e)}}}},79404:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920),s=n(3357),i=n(97516);n(84748),n(85160);const a=n(13816),c={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};t.trpcMiddleware=function(e={}){return function(t){const{path:n,type:u,next:l,rawInput:d}=t,p=o.getClient(),h=p&&p.getOptions(),f={procedure_type:u};function m(e){"object"==typeof e&&null!==e&&"ok"in e&&!e.ok&&"error"in e&&s.captureException(e.error,c)}return(void 0!==e.attachRpcInput?e.attachRpcInput:h&&h.sendDefaultPii)&&(f.input=r.normalize(d)),s.setContext("trpc",f),a.startSpanManual({name:`trpc/${n}`,op:"rpc.server",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},(e=>{let t;try{t=l()}catch(t){throw s.captureException(t,c),e.end(),t}return r.isThenable(t)?t.then((t=>(m(t),e.end(),t)),(t=>{throw s.captureException(t,c),e.end(),t})):(m(t),e.end(),t)}))}}},78352:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(80136),s=n(59036);function i(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}t.applyScopeDataToEvent=function(e,t){const{fingerprint:n,span:i,breadcrumbs:a,sdkProcessingMetadata:c}=t;!function(e,t){const{extra:n,tags:o,user:s,contexts:i,level:a,transactionName:c}=t,u=r.dropUndefinedKeys(n);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});const l=r.dropUndefinedKeys(o);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const d=r.dropUndefinedKeys(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const p=r.dropUndefinedKeys(i);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),a&&(e.level=a),c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),i&&function(e,t){e.contexts={trace:s.spanToTraceContext(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:o.getDynamicSamplingContextFromSpan(t),...e.sdkProcessingMetadata};const n=s.getRootSpan(t),r=s.spanToJSON(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,i),function(e,t){e.fingerprint=e.fingerprint?r.arrayify(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,a),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,c)},t.mergeAndOverwriteScopeData=i,t.mergeScopeData=function(e,t){const{extra:n,tags:r,user:o,contexts:s,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:p,propagationContext:h,transactionName:f,span:m}=t;i(e,"extra",n),i(e,"tags",r),i(e,"user",o),i(e,"contexts",s),i(e,"sdkProcessingMetadata",c),a&&(e.level=a),f&&(e.transactionName=f),m&&(e.span=m),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...h}}},73656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);t.handleCallbackErrors=function(e,t,n=(()=>{})){let o;try{o=e()}catch(e){throw t(e),n(),e}return function(e,t,n){return r.isThenable(e)?e.then((e=>(n(),e)),(e=>{throw t(e),n(),e})):(n(),e)}(o,t,n)}},14420:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(52920);t.hasTracingEnabled=function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=r.getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},15296:(e,t)=>{function n(e){return"/"===e[e.length-1]?e.slice(0,-1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.isSentryRequestUrl=function(e,t){const r=t&&t.getDsn(),o=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){return!!t&&n(e)===n(t)}(e,o)}},67620:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(53564);t.getTraceMetaTags=function(e,t,n){return Object.entries(r.getTraceData(e,t,n)).map((([e,t])=>`<meta name="${e}" content="${t}"/>`)).join("\n")}},42032:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parameterize=function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}},98792:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(85160);t.parseSampleRate=function(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;o.DEBUG_BUILD&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}},75088:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(27528),s=n(52920),i=n(71100),a=n(18036),c=n(78352),u=new WeakMap;function l(e,t){const n=r.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let o;const s=u.get(t);s?o=s:(o=new Map,u.set(t,o));const i=Object.entries(n).reduce(((e,[n,r])=>{let s;const i=o.get(n);i?s=i:(s=t(n),o.set(n,s));for(let t=s.length-1;t>=0;t--){const n=s[t];if(n.filename){e[n.filename]=r;break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(e){}}function d(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}function p(e,t){if(!t)return e;const n=e?e.clone():new a.Scope;return n.update(t),n}const h=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];t.applyDebugIds=l,t.applyDebugMeta=d,t.parseEventHintOrCaptureContext=function(e){if(e)return function(e){return e instanceof a.Scope||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>h.includes(e)))}(e)?{captureContext:e}:e},t.prepareEvent=function(e,t,n,a,u,h){const{normalizeDepth:f=3,normalizeMaxBreadth:m=1e3}=e,_={...t,event_id:t.event_id||n.event_id||r.uuid4(),timestamp:t.timestamp||r.dateTimestampInSeconds()},g=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:s,dist:i,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:o.DEFAULT_ENVIRONMENT),void 0===e.release&&void 0!==s&&(e.release=s),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=r.truncate(e.message,a));const c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=r.truncate(c.value,a));const u=e.request;u&&u.url&&(u.url=r.truncate(u.url,a))}(_,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(_,g),u&&u.emit("applyFrameMetadata",t),void 0===t.type&&l(_,e.stackParser);const S=p(a,n.captureContext);n.mechanism&&r.addExceptionMechanism(_,n.mechanism);const b=u?u.getEventProcessors():[],y=s.getGlobalScope().getScopeData();if(h){const e=h.getScopeData();c.mergeScopeData(y,e)}if(S){const e=S.getScopeData();c.mergeScopeData(y,e)}const E=[...n.attachments||[],...y.attachments];E.length&&(n.attachments=E),c.applyScopeDataToEvent(_,y);const v=[...b,...y.eventProcessors];return i.notifyEventProcessors(v,_,n).then((e=>(e&&d(e),"number"==typeof f&&f>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:r.normalize(e.data,t,n)}})))},...e.user&&{user:r.normalize(e.user,t,n)},...e.contexts&&{contexts:r.normalize(e.contexts,t,n)},...e.extra&&{extra:r.normalize(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=r.normalize(e.contexts.trace.data,t,n))),e.spans&&(o.spans=e.spans.map((e=>({...e,...e.data&&{data:r.normalize(e.data,t,n)}})))),o}(e,f,m):e)))}},84:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);t.applySdkMetadata=function(e,t,n=[t],o="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:r.SDK_VERSION}))),version:r.SDK_VERSION}),e._metadata=s}},82200:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o="_sentrySpan";t._getSpanForScope=function(e){return e[o]},t._setSpanForScope=function(e,t){t?r.addNonEnumerableProperty(e,o,t):delete e[o]}},59036:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(13368),s=n(46736),i=n(52920),a=n(32364),c=n(97516),u=n(500),l=n(82200);function d(e){return"number"==typeof e?p(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?p(e.getTime()):r.timestampInSeconds()}function p(e){return e>9999999999?e/1e3:e}function h(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:o,startTime:s,name:i,endTime:u,parentSpanId:l,status:p}=e;return r.dropUndefinedKeys({span_id:t,trace_id:n,data:o,description:i,parent_span_id:l,start_timestamp:d(s),timestamp:d(u)||void 0,status:m(p),op:o[c.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:o[c.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function f(e){const{traceFlags:t}=e.spanContext();return 1===t}function m(e){if(e&&e.code!==u.SPAN_STATUS_UNSET)return e.code===u.SPAN_STATUS_OK?"ok":e.message||"unknown_error"}const _="_sentryChildSpans",g="_sentryRootSpan";function S(){const e=s.getMainCarrier(),t=o.getAsyncContextStrategy(e);return t.getActiveSpan?t.getActiveSpan():l._getSpanForScope(i.getCurrentScope())}t.TRACE_FLAG_NONE=0,t.TRACE_FLAG_SAMPLED=1,t.addChildSpanToSpan=function(e,t){const n=e[g]||e;r.addNonEnumerableProperty(t,g,n),e[_]?e[_].add(t):r.addNonEnumerableProperty(e,_,new Set([t]))},t.getActiveSpan=S,t.getRootSpan=function(e){return e[g]||e},t.getSpanDescendants=function(e){const t=new Set;return function e(n){if(!t.has(n)&&f(n)){t.add(n);const r=n[_]?Array.from(n[_]):[];for(const t of r)e(t)}}(e),Array.from(t)},t.getStatusMessage=m,t.removeChildSpanFromSpan=function(e,t){e[_]&&e[_].delete(t)},t.spanIsSampled=f,t.spanTimeInputToSeconds=d,t.spanToJSON=h,t.spanToTraceContext=function(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:o}=h(e);return r.dropUndefinedKeys({parent_span_id:o,span_id:t,trace_id:n})},t.spanToTraceHeader=function(e){const{traceId:t,spanId:n}=e.spanContext(),o=f(e);return r.generateSentryTraceHeader(t,n,o)},t.spanToTransactionTraceContext=function(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:s,parent_span_id:i,status:a,origin:c}=h(e);return r.dropUndefinedKeys({parent_span_id:i,span_id:t,trace_id:n,data:o,op:s,status:a,origin:c})},t.updateMetricSummaryOnActiveSpan=function(e,t,n,r,o,s){const i=S();i&&a.updateMetricSummaryOnSpan(i,e,t,n,r,o,s)}},53564:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(52920);n(84748),n(85160);const s=n(59036),i=n(80136);function a(e){if(!e||!e.length)return!1;const t="[-!#$%&'*+.^_`|~A-Za-z0-9]+",n="[!#-+-./0-9:<=>?@A-Z\\[\\]a-z{-}]+",r="\\s*";return new RegExp(`^${t}${r}=${r}${n}(${r},${r}${t}${r}=${r}${n})*$`).test(e)}t.getTraceData=function(e,t,n){const c=n||o.getClient(),u=t||o.getCurrentScope(),l=e||s.getActiveSpan(),{dsc:d,sampled:p,traceId:h}=u.getPropagationContext(),f=l&&s.getRootSpan(l),m=l?s.spanToTraceHeader(l):r.generateSentryTraceHeader(h,void 0,p),_=f?i.getDynamicSamplingContextFromSpan(f):d||(c?i.getDynamicSamplingContextFromClient(h,c):void 0),g=r.dynamicSamplingContextToSentryBaggageHeader(_);if(!r.TRACEPARENT_REGEXP.test(m))return r.logger.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const S=a(g);return S||r.logger.warn('Invalid baggage data. Not returning "baggage" value'),{"sentry-trace":m,...S&&{baggage:g}}},t.isValidBaggageString=a},97152:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=[["january","1"],["february","2"],["march","3"],["april","4"],["may","5"],["june","6"],["july","7"],["august","8"],["september","9"],["october","10"],["november","11"],["december","12"],["jan","1"],["feb","2"],["mar","3"],["apr","4"],["may","5"],["jun","6"],["jul","7"],["aug","8"],["sep","9"],["oct","10"],["nov","11"],["dec","12"],["sunday","0"],["monday","1"],["tuesday","2"],["wednesday","3"],["thursday","4"],["friday","5"],["saturday","6"],["sun","0"],["mon","1"],["tue","2"],["wed","3"],["thu","4"],["fri","5"],["sat","6"]];t.replaceCronNames=function(e){return n.reduce(((e,[t,n])=>e.replace(new RegExp(t,"gi"),n)),e)}},85184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780),o=n(97152),s="Automatic instrumentation of CronJob only supports crontab string";t.instrumentCron=function(e,t){let n=!1;return new Proxy(e,{construct(e,i){const[a,c,u,l,d,...p]=i;if("string"!=typeof a)throw new Error(s);if(n)throw new Error(`A job named '${t}' has already been scheduled`);n=!0;const h=o.replaceCronNames(a);return new e(a,(async function(e,n){return r.withMonitor(t,(async()=>{try{await c(e,n)}catch(e){throw r.captureException(e),e}}),{schedule:{type:"crontab",value:h},timezone:d||void 0})}),u,l,d,...p)},get:(e,i)=>"from"===i?i=>{const{cronTime:a,onTick:c,timeZone:u}=i;if("string"!=typeof a)throw new Error(s);if(n)throw new Error(`A job named '${t}' has already been scheduled`);n=!0;const l=o.replaceCronNames(a);return i.onTick=async(e,n)=>r.withMonitor(t,(async()=>{try{await c(e,n)}catch(e){throw r.captureException(e),e}}),{schedule:{type:"crontab",value:l},timezone:u||void 0}),e.from(i)}:e[i]})}},25872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(85184),o=n(59856),s=n(27920),i={instrumentCron:r.instrumentCron,instrumentNodeCron:o.instrumentNodeCron,instrumentNodeSchedule:s.instrumentNodeSchedule};t.cron=i},59856:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(69780),s=n(97152);t.instrumentNodeCron=function(e){return new Proxy(e,{get:(e,t)=>"schedule"===t&&e.schedule?new Proxy(e.schedule,{apply(e,t,n){const[i,a,c]=n;if(!r([c,"optionalAccess",e=>e.name]))throw new Error('Missing "name" for scheduled job. A name is required for Sentry check-in monitoring.');return e.apply(t,[i,async function(){return o.withMonitor(c.name,(async()=>{try{return await a()}catch(e){throw o.captureException(e),e}}),{schedule:{type:"crontab",value:s.replaceCronNames(i)},timezone:r([c,"optionalAccess",e=>e.timezone])})},c])}}):e[t]})}},27920:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(69780),s=n(97152);t.instrumentNodeSchedule=function(e){return new Proxy(e,{get:(e,t)=>"scheduleJob"===t?new Proxy(e.scheduleJob,{apply(e,t,n){const[i,a,c]=n;if("string"!=typeof i||"string"!=typeof a||"function"!=typeof c)throw new Error("Automatic instrumentation of 'node-schedule' requires the first parameter of 'scheduleJob' to be a job name string and the second parameter to be a crontab string");const u=i,l=a;return e.apply(t,[u,l,async function(){return o.withMonitor(u,(async()=>{await r([c,"optionalCall",e=>e()])}),{schedule:{type:"crontab",value:s.replaceCronNames(l)}})}])}}):e[t]})}},91796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},16120:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(59764),o=n(50880),s=n(77932),i=n(13152),a=n(75740),c=n(48568),u=n(1343),l=n(30120),d=n(2667),p=n(31168),h=n(50104),f=n(56160),m=n(8436),_=n(52560),g=n(76516),S=n(98239),b=n(93480),y=n(3536),E=n(44848),v=n(58336),T=n(35616),I=n(64644),R=n(95472),C=n(64332),A=n(15300),O=n(40387),N=n(67104),w=n(53196),P=n(62216),L=n(80720),M=n(32496),x=n(83019),k=n(95260),U=n(83188),G=n(25872),V=n(44072),D=n(40100),B=n(69780);t.httpIntegration=r.httpIntegration,t.nativeNodeFetchIntegration=o.nativeNodeFetchIntegration,t.consoleIntegration=s.consoleIntegration,t.nodeContextIntegration=i.nodeContextIntegration,t.contextLinesIntegration=a.contextLinesIntegration,t.localVariablesIntegration=c.localVariablesIntegration,t.modulesIntegration=u.modulesIntegration,t.onUncaughtExceptionIntegration=l.onUncaughtExceptionIntegration,t.onUnhandledRejectionIntegration=d.onUnhandledRejectionIntegration,t.anrIntegration=p.anrIntegration,t.expressErrorHandler=h.expressErrorHandler,t.expressIntegration=h.expressIntegration,t.setupExpressErrorHandler=h.setupExpressErrorHandler,t.fastifyIntegration=f.fastifyIntegration,t.setupFastifyErrorHandler=f.setupFastifyErrorHandler,t.graphqlIntegration=m.graphqlIntegration,t.mongoIntegration=_.mongoIntegration,t.mongooseIntegration=g.mongooseIntegration,t.mysqlIntegration=S.mysqlIntegration,t.mysql2Integration=b.mysql2Integration,t.redisIntegration=y.redisIntegration,t.nestIntegration=E.nestIntegration,t.setupNestErrorHandler=E.setupNestErrorHandler,t.postgresIntegration=v.postgresIntegration,t.prismaIntegration=T.prismaIntegration,t.hapiIntegration=I.hapiIntegration,t.setupHapiErrorHandler=I.setupHapiErrorHandler,t.koaIntegration=R.koaIntegration,t.setupKoaErrorHandler=R.setupKoaErrorHandler,t.connectIntegration=C.connectIntegration,t.setupConnectErrorHandler=C.setupConnectErrorHandler,t.spotlightIntegration=A.spotlightIntegration,t.SentryContextManager=O.SentryContextManager,t.generateInstrumentOnce=N.generateInstrumentOnce,t.getDefaultIntegrations=w.getDefaultIntegrations,t.getDefaultIntegrationsWithoutPerformance=w.getDefaultIntegrationsWithoutPerformance,t.init=w.init,t.initWithoutDefaultIntegrations=w.initWithoutDefaultIntegrations,t.validateOpenTelemetrySetup=w.validateOpenTelemetrySetup,t.initOpenTelemetry=P.initOpenTelemetry,t.preloadOpenTelemetry=P.preloadOpenTelemetry,t.getAutoPerformanceIntegrations=L.getAutoPerformanceIntegrations,t.defaultStackParser=M.defaultStackParser,t.getSentryRelease=M.getSentryRelease,t.createGetModuleFromFilename=x.createGetModuleFromFilename,t.makeNodeTransport=k.makeNodeTransport,t.NodeClient=U.NodeClient,t.cron=G.cron,t.DEFAULT_USER_INCLUDES=V.DEFAULT_USER_INCLUDES,t.addRequestDataToEvent=V.addRequestDataToEvent,t.extractRequestData=V.extractRequestData,t.addOpenTelemetryInstrumentation=D.addOpenTelemetryInstrumentation,t.continueTrace=D.continueTrace,t.setNodeAsyncContextStrategy=D.setOpenTelemetryContextAsyncContextStrategy,t.SDK_VERSION=B.SDK_VERSION,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=B.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=B.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=B.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=B.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.Scope=B.Scope,t.addBreadcrumb=B.addBreadcrumb,t.addEventProcessor=B.addEventProcessor,t.addIntegration=B.addIntegration,t.captureCheckIn=B.captureCheckIn,t.captureConsoleIntegration=B.captureConsoleIntegration,t.captureEvent=B.captureEvent,t.captureException=B.captureException,t.captureFeedback=B.captureFeedback,t.captureMessage=B.captureMessage,t.captureSession=B.captureSession,t.close=B.close,t.createTransport=B.createTransport,t.debugIntegration=B.debugIntegration,t.dedupeIntegration=B.dedupeIntegration,t.endSession=B.endSession,t.extraErrorDataIntegration=B.extraErrorDataIntegration,t.flush=B.flush,t.functionToStringIntegration=B.functionToStringIntegration,t.getActiveSpan=B.getActiveSpan,t.getClient=B.getClient,t.getCurrentHub=B.getCurrentHub,t.getCurrentScope=B.getCurrentScope,t.getGlobalScope=B.getGlobalScope,t.getIsolationScope=B.getIsolationScope,t.getRootSpan=B.getRootSpan,t.getSpanDescendants=B.getSpanDescendants,t.getSpanStatusFromHttpCode=B.getSpanStatusFromHttpCode,t.getTraceData=B.getTraceData,t.getTraceMetaTags=B.getTraceMetaTags,t.inboundFiltersIntegration=B.inboundFiltersIntegration,t.isInitialized=B.isInitialized,t.lastEventId=B.lastEventId,t.linkedErrorsIntegration=B.linkedErrorsIntegration,t.metrics=B.metricsDefault,t.parameterize=B.parameterize,t.requestDataIntegration=B.requestDataIntegration,t.rewriteFramesIntegration=B.rewriteFramesIntegration,t.sessionTimingIntegration=B.sessionTimingIntegration,t.setContext=B.setContext,t.setCurrentClient=B.setCurrentClient,t.setExtra=B.setExtra,t.setExtras=B.setExtras,t.setHttpStatus=B.setHttpStatus,t.setMeasurement=B.setMeasurement,t.setTag=B.setTag,t.setTags=B.setTags,t.setUser=B.setUser,t.spanToBaggageHeader=B.spanToBaggageHeader,t.spanToJSON=B.spanToJSON,t.spanToTraceHeader=B.spanToTraceHeader,t.startInactiveSpan=B.startInactiveSpan,t.startNewTrace=B.startNewTrace,t.startSession=B.startSession,t.startSpan=B.startSpan,t.startSpanManual=B.startSpanManual,t.trpcMiddleware=B.trpcMiddleware,t.withActiveSpan=B.withActiveSpan,t.withIsolationScope=B.withIsolationScope,t.withMonitor=B.withMonitor,t.withScope=B.withScope,t.zodErrorsIntegration=B.zodErrorsIntegration},31168:(e,t,n)=>{var{_optionalChain:r,_optionalChainDelete:o}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const s=n(31076),i=n(69780),a=n(44072),c=n(63672),u="LyohIEBzZW50cnkvbm9kZSA4LjI1LjAgKGVmYWRiZjIpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyB0fWZyb20ibm9kZTppbnNwZWN0b3IiO2ltcG9ydHtwYXJlbnRQb3J0IGFzIG4sd29ya2VyRGF0YSBhcyBlfWZyb20ibm9kZTp3b3JrZXJfdGhyZWFkcyI7aW1wb3J0e3Bvc2l4IGFzIHIsc2VwIGFzIG99ZnJvbSJub2RlOnBhdGgiO2ltcG9ydCphcyBzIGZyb20ibm9kZTpodHRwIjtpbXBvcnQqYXMgaSBmcm9tIm5vZGU6aHR0cHMiO2ltcG9ydHtSZWFkYWJsZSBhcyBjfWZyb20ibm9kZTpzdHJlYW0iO2ltcG9ydHtjcmVhdGVHemlwIGFzIHV9ZnJvbSJub2RlOnpsaWIiO2ltcG9ydCphcyBhIGZyb20ibm9kZTpuZXQiO2ltcG9ydCphcyBmIGZyb20ibm9kZTp0bHMiO2NvbnN0IGg9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBwKHQsbil7cmV0dXJuIGguY2FsbCh0KT09PWBbb2JqZWN0ICR7bn1dYH1mdW5jdGlvbiBkKHQpe3JldHVybiBwKHQsIlN0cmluZyIpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHAodCwiT2JqZWN0Iil9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gQm9vbGVhbih0JiZ0LnRoZW4mJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnRoZW4pfWZ1bmN0aW9uIHkodCxuKXt0cnl7cmV0dXJuIHQgaW5zdGFuY2VvZiBufWNhdGNoKHQpe3JldHVybiExfX1jb25zdCBnPSI4LjI1LjAiLGI9Z2xvYmFsVGhpcztmdW5jdGlvbiB2KHQsbixlKXtjb25zdCByPWV8fGIsbz1yLl9fU0VOVFJZX189ci5fX1NFTlRSWV9ffHx7fSxzPW9bZ109b1tnXXx8e307cmV0dXJuIHNbdF18fChzW3RdPW4oKSl9Y29uc3QgXz1iLHc9ODA7ZnVuY3Rpb24gUyh0LG4pe2NvbnN0IGU9dCxyPVtdO2lmKCFlfHwhZS50YWdOYW1lKXJldHVybiIiO2lmKF8uSFRNTEVsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmZS5kYXRhc2V0KXtpZihlLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50KXJldHVybiBlLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50O2lmKGUuZGF0YXNldC5zZW50cnlFbGVtZW50KXJldHVybiBlLmRhdGFzZXQuc2VudHJ5RWxlbWVudH1yLnB1c2goZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO2NvbnN0IG89biYmbi5sZW5ndGg/bi5maWx0ZXIoKHQ9PmUuZ2V0QXR0cmlidXRlKHQpKSkubWFwKCh0PT5bdCxlLmdldEF0dHJpYnV0ZSh0KV0pKTpudWxsO2lmKG8mJm8ubGVuZ3RoKW8uZm9yRWFjaCgodD0+e3IucHVzaChgWyR7dFswXX09IiR7dFsxXX0iXWApfSkpO2Vsc2V7ZS5pZCYmci5wdXNoKGAjJHtlLmlkfWApO2NvbnN0IHQ9ZS5jbGFzc05hbWU7aWYodCYmZCh0KSl7Y29uc3Qgbj10LnNwbGl0KC9ccysvKTtmb3IoY29uc3QgdCBvZiBuKXIucHVzaChgLiR7dH1gKX19Y29uc3Qgcz1bImFyaWEtbGFiZWwiLCJ0eXBlIiwibmFtZSIsInRpdGxlIiwiYWx0Il07Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1lLmdldEF0dHJpYnV0ZSh0KTtuJiZyLnB1c2goYFske3R9PSIke259Il1gKX1yZXR1cm4gci5qb2luKCIiKX1jb25zdCAkPSJ1bmRlZmluZWQiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXyxFPVsiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwibG9nIiwiYXNzZXJ0IiwidHJhY2UiXSx4PXt9O2Z1bmN0aW9uIE4odCl7aWYoISgiY29uc29sZSJpbiBiKSlyZXR1cm4gdCgpO2NvbnN0IG49Yi5jb25zb2xlLGU9e30scj1PYmplY3Qua2V5cyh4KTtyLmZvckVhY2goKHQ9Pntjb25zdCByPXhbdF07ZVt0XT1uW3RdLG5bdF09cn0pKTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e3IuZm9yRWFjaCgodD0+e25bdF09ZVt0XX0pKX19Y29uc3Qgaz1mdW5jdGlvbigpe2xldCB0PSExO2NvbnN0IG49e2VuYWJsZTooKT0+e3Q9ITB9LGRpc2FibGU6KCk9Pnt0PSExfSxpc0VuYWJsZWQ6KCk9PnR9O3JldHVybiAkP0UuZm9yRWFjaCgoZT0+e25bZV09KC4uLm4pPT57dCYmTigoKCk9PntiLmNvbnNvbGVbZV0oYFNlbnRyeSBMb2dnZXIgWyR7ZX1dOmAsLi4ubil9KSl9fSkpOkUuZm9yRWFjaCgodD0+e25bdF09KCk9Pnt9fSkpLG59KCk7ZnVuY3Rpb24gQyh0LG49ITEpe2NvbnN0e2hvc3Q6ZSxwYXRoOnIscGFzczpvLHBvcnQ6cyxwcm9qZWN0SWQ6aSxwcm90b2NvbDpjLHB1YmxpY0tleTp1fT10O3JldHVybmAke2N9Oi8vJHt1fSR7biYmbz9gOiR7b31gOiIifUAke2V9JHtzP2A6JHtzfWA6IiJ9LyR7cj9gJHtyfS9gOnJ9JHtpfWB9Y2xhc3MgRCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsbj0id2FybiIpe3N1cGVyKHQpLHRoaXMubWVzc2FnZT10LHRoaXMubmFtZT1uZXcudGFyZ2V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLG5ldy50YXJnZXQucHJvdG90eXBlKSx0aGlzLmxvZ0xldmVsPW59fWZ1bmN0aW9uIFQodCl7aWYoZnVuY3Rpb24odCl7c3dpdGNoKGguY2FsbCh0KSl7Y2FzZSJbb2JqZWN0IEVycm9yXSI6Y2FzZSJbb2JqZWN0IEV4Y2VwdGlvbl0iOmNhc2UiW29iamVjdCBET01FeGNlcHRpb25dIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiB5KHQsRXJyb3IpfX0odCkpcmV0dXJue21lc3NhZ2U6dC5tZXNzYWdlLG5hbWU6dC5uYW1lLHN0YWNrOnQuc3RhY2ssLi4uaih0KX07aWYobj10LCJ1bmRlZmluZWQiIT10eXBlb2YgRXZlbnQmJnkobixFdmVudCkpe2NvbnN0IG49e3R5cGU6dC50eXBlLHRhcmdldDpPKHQudGFyZ2V0KSxjdXJyZW50VGFyZ2V0Ok8odC5jdXJyZW50VGFyZ2V0KSwuLi5qKHQpfTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEN1c3RvbUV2ZW50JiZ5KHQsQ3VzdG9tRXZlbnQpJiYobi5kZXRhaWw9dC5kZXRhaWwpLG59cmV0dXJuIHQ7dmFyIG59ZnVuY3Rpb24gTyh0KXt0cnl7cmV0dXJuIG49dCwidW5kZWZpbmVkIiE9dHlwZW9mIEVsZW1lbnQmJnkobixFbGVtZW50KT9mdW5jdGlvbih0LG49e30pe2lmKCF0KXJldHVybiI8dW5rbm93bj4iO3RyeXtsZXQgZT10O2NvbnN0IHI9NSxvPVtdO2xldCBzPTAsaT0wO2NvbnN0IGM9IiA+ICIsdT1jLmxlbmd0aDtsZXQgYTtjb25zdCBmPUFycmF5LmlzQXJyYXkobik/bjpuLmtleUF0dHJzLGg9IUFycmF5LmlzQXJyYXkobikmJm4ubWF4U3RyaW5nTGVuZ3RofHx3O2Zvcig7ZSYmcysrPHImJihhPVMoZSxmKSwhKCJodG1sIj09PWF8fHM+MSYmaStvLmxlbmd0aCp1K2EubGVuZ3RoPj1oKSk7KW8ucHVzaChhKSxpKz1hLmxlbmd0aCxlPWUucGFyZW50Tm9kZTtyZXR1cm4gby5yZXZlcnNlKCkuam9pbihjKX1jYXRjaCh0KXtyZXR1cm4iPHVua25vd24+In19KHQpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1jYXRjaCh0KXtyZXR1cm4iPHVua25vd24+In12YXIgbn1mdW5jdGlvbiBqKHQpe2lmKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQpe2NvbnN0IG49e307Zm9yKGNvbnN0IGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmKG5bZV09dFtlXSk7cmV0dXJuIG59cmV0dXJue319ZnVuY3Rpb24gUih0KXtyZXR1cm4gQSh0LG5ldyBNYXApfWZ1bmN0aW9uIEEodCxuKXtpZihmdW5jdGlvbih0KXtpZighbCh0KSlyZXR1cm4hMTt0cnl7Y29uc3Qgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IubmFtZTtyZXR1cm4hbnx8Ik9iamVjdCI9PT1ufWNhdGNoKHQpe3JldHVybiEwfX0odCkpe2NvbnN0IGU9bi5nZXQodCk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZTtjb25zdCByPXt9O24uc2V0KHQscik7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModCkpdm9pZCAwIT09dFtlXSYmKHJbZV09QSh0W2VdLG4pKTtyZXR1cm4gcn1pZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPW4uZ2V0KHQpO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGU7Y29uc3Qgcj1bXTtyZXR1cm4gbi5zZXQodCxyKSx0LmZvckVhY2goKHQ9PntyLnB1c2goQSh0LG4pKX0pKSxyfXJldHVybiB0fWNvbnN0IEk9NTAsUD0iPyIsVT0vY2FwdHVyZU1lc3NhZ2V8Y2FwdHVyZUV4Y2VwdGlvbi87ZnVuY3Rpb24gTSh0KXtyZXR1cm4gdFt0Lmxlbmd0aC0xXXx8e319Y29uc3QgTD0iPGFub255bW91cz4iO2NvbnN0IEI9MWUzO2Z1bmN0aW9uIEcoKXtyZXR1cm4gRGF0ZS5ub3coKS9CfWNvbnN0IEo9ZnVuY3Rpb24oKXtjb25zdHtwZXJmb3JtYW5jZTp0fT1iO2lmKCF0fHwhdC5ub3cpcmV0dXJuIEc7Y29uc3Qgbj1EYXRlLm5vdygpLXQubm93KCksZT1udWxsPT10LnRpbWVPcmlnaW4/bjp0LnRpbWVPcmlnaW47cmV0dXJuKCk9PihlK3Qubm93KCkpL0J9KCk7ZnVuY3Rpb24geigpe2NvbnN0IHQ9YixuPXQuY3J5cHRvfHx0Lm1zQ3J5cHRvO2xldCBlPSgpPT4xNipNYXRoLnJhbmRvbSgpO3RyeXtpZihuJiZuLnJhbmRvbVVVSUQpcmV0dXJuIG4ucmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywiIik7biYmbi5nZXRSYW5kb21WYWx1ZXMmJihlPSgpPT57Y29uc3QgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gbi5nZXRSYW5kb21WYWx1ZXModCksdFswXX0pfWNhdGNoKHQpe31yZXR1cm4oWzFlN10rMWUzKzRlMys4ZTMrMWUxMSkucmVwbGFjZSgvWzAxOF0vZywodD0+KHReKDE1JmUoKSk+PnQvNCkudG9TdHJpbmcoMTYpKSl9ZnVuY3Rpb24gSCh0LG49MTAwLGU9MS8wKXt0cnl7cmV0dXJuIFcoIiIsdCxuLGUpfWNhdGNoKHQpe3JldHVybntFUlJPUjpgKipub24tc2VyaWFsaXphYmxlKiogKCR7dH0pYH19fWZ1bmN0aW9uIFcodCxuLGU9MS8wLHI9MS8wLG89ZnVuY3Rpb24oKXtjb25zdCB0PSJmdW5jdGlvbiI9PXR5cGVvZiBXZWFrU2V0LG49dD9uZXcgV2Vha1NldDpbXTtyZXR1cm5bZnVuY3Rpb24oZSl7aWYodClyZXR1cm4hIW4uaGFzKGUpfHwobi5hZGQoZSksITEpO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF09PT1lKXJldHVybiEwO3JldHVybiBuLnB1c2goZSksITF9LGZ1bmN0aW9uKGUpe2lmKHQpbi5kZWxldGUoZSk7ZWxzZSBmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdPT09ZSl7bi5zcGxpY2UodCwxKTticmVha319XX0oKSl7Y29uc3RbcyxpXT1vO2lmKG51bGw9PW58fFsibnVtYmVyIiwiYm9vbGVhbiIsInN0cmluZyJdLmluY2x1ZGVzKHR5cGVvZiBuKSYmIU51bWJlci5pc05hTihuKSlyZXR1cm4gbjtjb25zdCBjPWZ1bmN0aW9uKHQsbil7dHJ5e2lmKCJkb21haW4iPT09dCYmbiYmIm9iamVjdCI9PXR5cGVvZiBuJiZuLnQpcmV0dXJuIltEb21haW5dIjtpZigiZG9tYWluRW1pdHRlciI9PT10KXJldHVybiJbRG9tYWluRW1pdHRlcl0iO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZuPT09Z2xvYmFsKXJldHVybiJbR2xvYmFsXSI7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJm49PT13aW5kb3cpcmV0dXJuIltXaW5kb3ddIjtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZuPT09ZG9jdW1lbnQpcmV0dXJuIltEb2N1bWVudF0iO2lmKCJvYmplY3QiPT10eXBlb2YoZT1uKSYmbnVsbCE9PWUmJihlLl9faXNWdWV8fGUubykpcmV0dXJuIltWdWVWaWV3TW9kZWxdIjtpZihmdW5jdGlvbih0KXtyZXR1cm4gbCh0KSYmIm5hdGl2ZUV2ZW50ImluIHQmJiJwcmV2ZW50RGVmYXVsdCJpbiB0JiYic3RvcFByb3BhZ2F0aW9uImluIHR9KG4pKXJldHVybiJbU3ludGhldGljRXZlbnRdIjtpZigibnVtYmVyIj09dHlwZW9mIG4mJm4hPW4pcmV0dXJuIltOYU5dIjtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm5gW0Z1bmN0aW9uOiAke2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQubmFtZXx8TH1jYXRjaCh0KXtyZXR1cm4gTH19KG4pfV1gO2lmKCJzeW1ib2wiPT10eXBlb2YgbilyZXR1cm5gWyR7U3RyaW5nKG4pfV1gO2lmKCJiaWdpbnQiPT10eXBlb2YgbilyZXR1cm5gW0JpZ0ludDogJHtTdHJpbmcobil9XWA7Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBuPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gbj9uLmNvbnN0cnVjdG9yLm5hbWU6Im51bGwgcHJvdG90eXBlIn0obik7cmV0dXJuL15IVE1MKFx3KilFbGVtZW50JC8udGVzdChyKT9gW0hUTUxFbGVtZW50OiAke3J9XWA6YFtvYmplY3QgJHtyfV1gfWNhdGNoKHQpe3JldHVybmAqKm5vbi1zZXJpYWxpemFibGUqKiAoJHt0fSlgfXZhciBlfSh0LG4pO2lmKCFjLnN0YXJ0c1dpdGgoIltvYmplY3QgIikpcmV0dXJuIGM7aWYobi5fX3NlbnRyeV9za2lwX25vcm1hbGl6YXRpb25fXylyZXR1cm4gbjtjb25zdCB1PSJudW1iZXIiPT10eXBlb2Ygbi5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18/bi5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX186ZTtpZigwPT09dSlyZXR1cm4gYy5yZXBsYWNlKCJvYmplY3QgIiwiIik7aWYocyhuKSlyZXR1cm4iW0NpcmN1bGFyIH5dIjtjb25zdCBhPW47aWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEudG9KU09OKXRyeXtyZXR1cm4gVygiIixhLnRvSlNPTigpLHUtMSxyLG8pfWNhdGNoKHQpe31jb25zdCBmPUFycmF5LmlzQXJyYXkobik/W106e307bGV0IGg9MDtjb25zdCBwPVQobik7Zm9yKGNvbnN0IHQgaW4gcCl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwLHQpKWNvbnRpbnVlO2lmKGg+PXIpe2ZbdF09IltNYXhQcm9wZXJ0aWVzIH5dIjticmVha31jb25zdCBuPXBbdF07Zlt0XT1XKHQsbix1LTEscixvKSxoKyt9cmV0dXJuIGkobiksZn1mdW5jdGlvbiBZKHQsbil7Y29uc3QgZT1uLnJlcGxhY2UoL1xcL2csIi8iKS5yZXBsYWNlKC9bfFxce30oKVtcXV4kKyo/Ll0vZywiXFwkJiIpO2xldCByPXQ7dHJ5e3I9ZGVjb2RlVVJJKHQpfWNhdGNoKHQpe31yZXR1cm4gci5yZXBsYWNlKC9cXC9nLCIvIikucmVwbGFjZSgvd2VicGFjazpcLz8vZywiIikucmVwbGFjZShuZXcgUmVnRXhwKGAoZmlsZTovLyk/Lyoke2V9LypgLCJpZyIpLCJhcHA6Ly8vIil9KCgpPT57Y29uc3R7cGVyZm9ybWFuY2U6dH09YjtpZighdHx8IXQubm93KXJldHVybjtjb25zdCBuPTM2ZTUsZT10Lm5vdygpLHI9RGF0ZS5ub3coKSxvPXQudGltZU9yaWdpbj9NYXRoLmFicyh0LnRpbWVPcmlnaW4rZS1yKTpuLHM9bzxuLGk9dC50aW1pbmcmJnQudGltaW5nLm5hdmlnYXRpb25TdGFydCxjPSJudW1iZXIiPT10eXBlb2YgaT9NYXRoLmFicyhpK2Utcik6bjsoc3x8YzxuKSYmKG88PWMmJnQudGltZU9yaWdpbil9KSgpO2NvbnN0IHE9L14oXFMrOlxcfFwvPykoW1xzXFNdKj8pKCg/OlwuezEsMn18W14vXFxdKz98KShcLlteLi9cXF0qfCkpKD86Wy9cXF0qKSQvO2Z1bmN0aW9uIEYodCl7Y29uc3Qgbj1mdW5jdGlvbih0KXtjb25zdCBuPXQubGVuZ3RoPjEwMjQ/YDx0cnVuY2F0ZWQ+JHt0LnNsaWNlKC0xMDI0KX1gOnQsZT1xLmV4ZWMobik7cmV0dXJuIGU/ZS5zbGljZSgxKTpbXX0odCksZT1uWzBdfHwiIjtsZXQgcj1uWzFdO3JldHVybiBlfHxyPyhyJiYocj1yLnNsaWNlKDAsci5sZW5ndGgtMSkpLGUrcik6Ii4ifXZhciBLO2Z1bmN0aW9uIFYodCl7cmV0dXJuIG5ldyBaKChuPT57bih0KX0pKX0hZnVuY3Rpb24odCl7dFt0LlBFTkRJTkc9MF09IlBFTkRJTkciO3RbdC5SRVNPTFZFRD0xXT0iUkVTT0xWRUQiO3RbdC5SRUpFQ1RFRD0yXT0iUkVKRUNURUQifShLfHwoSz17fSkpO2NsYXNzIFp7Y29uc3RydWN0b3IodCl7Wi5wcm90b3R5cGUuX19pbml0LmNhbGwodGhpcyksWi5wcm90b3R5cGUuX19pbml0Mi5jYWxsKHRoaXMpLFoucHJvdG90eXBlLl9faW5pdDMuY2FsbCh0aGlzKSxaLnByb3RvdHlwZS5fX2luaXQ0LmNhbGwodGhpcyksdGhpcy5pPUsuUEVORElORyx0aGlzLnU9W107dHJ5e3QodGhpcy5oLHRoaXMucCl9Y2F0Y2godCl7dGhpcy5wKHQpfX10aGVuKHQsbil7cmV0dXJuIG5ldyBaKCgoZSxyKT0+e3RoaXMudS5wdXNoKFshMSxuPT57aWYodCl0cnl7ZSh0KG4pKX1jYXRjaCh0KXtyKHQpfWVsc2UgZShuKX0sdD0+e2lmKG4pdHJ5e2Uobih0KSl9Y2F0Y2godCl7cih0KX1lbHNlIHIodCl9XSksdGhpcy5sKCl9KSl9Y2F0Y2godCl7cmV0dXJuIHRoaXMudGhlbigodD0+dCksdCl9ZmluYWxseSh0KXtyZXR1cm4gbmV3IFooKChuLGUpPT57bGV0IHIsbztyZXR1cm4gdGhpcy50aGVuKChuPT57bz0hMSxyPW4sdCYmdCgpfSksKG49PntvPSEwLHI9bix0JiZ0KCl9KSkudGhlbigoKCk9PntvP2Uocik6bihyKX0pKX0pKX1fX2luaXQoKXt0aGlzLmg9dD0+e3RoaXMubShLLlJFU09MVkVELHQpfX1fX2luaXQyKCl7dGhpcy5wPXQ9Pnt0aGlzLm0oSy5SRUpFQ1RFRCx0KX19X19pbml0Mygpe3RoaXMubT0odCxuKT0+e3RoaXMuaT09PUsuUEVORElORyYmKG0obik/bi50aGVuKHRoaXMuaCx0aGlzLnApOih0aGlzLmk9dCx0aGlzLnY9bix0aGlzLmwoKSkpfX1fX2luaXQ0KCl7dGhpcy5sPSgpPT57aWYodGhpcy5pPT09Sy5QRU5ESU5HKXJldHVybjtjb25zdCB0PXRoaXMudS5zbGljZSgpO3RoaXMudT1bXSx0LmZvckVhY2goKHQ9Pnt0WzBdfHwodGhpcy5pPT09Sy5SRVNPTFZFRCYmdFsxXSh0aGlzLnYpLHRoaXMuaT09PUsuUkVKRUNURUQmJnRbMl0odGhpcy52KSx0WzBdPSEwKX0pKX19fWZ1bmN0aW9uIFEodCl7Y29uc3Qgbj1bXTtmdW5jdGlvbiBlKHQpe3JldHVybiBuLnNwbGljZShuLmluZGV4T2YodCksMSlbMF18fFByb21pc2UucmVzb2x2ZSh2b2lkIDApfXJldHVybnskOm4sYWRkOmZ1bmN0aW9uKHIpe2lmKCEodm9pZCAwPT09dHx8bi5sZW5ndGg8dCkpcmV0dXJuIG89bmV3IEQoIk5vdCBhZGRpbmcgUHJvbWlzZSBiZWNhdXNlIGJ1ZmZlciBsaW1pdCB3YXMgcmVhY2hlZC4iKSxuZXcgWigoKHQsbik9PntuKG8pfSkpO3ZhciBvO2NvbnN0IHM9cigpO3JldHVybi0xPT09bi5pbmRleE9mKHMpJiZuLnB1c2gocykscy50aGVuKCgoKT0+ZShzKSkpLnRoZW4obnVsbCwoKCk9PmUocykudGhlbihudWxsLCgoKT0+e30pKSkpLHN9LGRyYWluOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWigoKGUscik9PntsZXQgbz1uLmxlbmd0aDtpZighbylyZXR1cm4gZSghMCk7Y29uc3Qgcz1zZXRUaW1lb3V0KCgoKT0+e3QmJnQ+MCYmZSghMSl9KSx0KTtuLmZvckVhY2goKHQ9PntWKHQpLnRoZW4oKCgpPT57LS1vfHwoY2xlYXJUaW1lb3V0KHMpLGUoITApKX0pLHIpfSkpfSkpfX19ZnVuY3Rpb24gWCh0LG49ITEpe3JldHVybiEobnx8dCYmIXQuc3RhcnRzV2l0aCgiLyIpJiYhdC5tYXRjaCgvXltBLVpdOi8pJiYhdC5zdGFydHNXaXRoKCIuIikmJiF0Lm1hdGNoKC9eW2EtekEtWl0oW2EtekEtWjAtOS5cLStdKSo6XC9cLy8pKSYmdm9pZCAwIT09dCYmIXQuaW5jbHVkZXMoIm5vZGVfbW9kdWxlcy8iKX1jb25zdCB0dD0ic2VudHJ5LSIsbnQ9L15zZW50cnktLztmdW5jdGlvbiBldCh0KXtjb25zdCBuPWZ1bmN0aW9uKHQpe2lmKCF0fHwhZCh0KSYmIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQucmVkdWNlKCgodCxuKT0+e2NvbnN0IGU9cnQobik7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKChbbixlXSk9Pnt0W25dPWV9KSksdH0pLHt9KTtyZXR1cm4gcnQodCl9KHQpO2lmKCFuKXJldHVybjtjb25zdCBlPU9iamVjdC5lbnRyaWVzKG4pLnJlZHVjZSgoKHQsW24sZV0pPT57aWYobi5tYXRjaChudCkpe3Rbbi5zbGljZSh0dC5sZW5ndGgpXT1lfXJldHVybiB0fSkse30pO3JldHVybiBPYmplY3Qua2V5cyhlKS5sZW5ndGg+MD9lOnZvaWQgMH1mdW5jdGlvbiBydCh0KXtyZXR1cm4gdC5zcGxpdCgiLCIpLm1hcCgodD0+dC5zcGxpdCgiPSIpLm1hcCgodD0+ZGVjb2RlVVJJQ29tcG9uZW50KHQudHJpbSgpKSkpKSkucmVkdWNlKCgodCxbbixlXSk9PihuJiZlJiYodFtuXT1lKSx0KSkse30pfWZ1bmN0aW9uIG90KHQsbj1bXSl7cmV0dXJuW3Qsbl19ZnVuY3Rpb24gc3QodCxuKXtjb25zdCBlPXRbMV07Zm9yKGNvbnN0IHQgb2YgZSl7aWYobih0LHRbMF0udHlwZSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaXQodCl7cmV0dXJuIGIuX19TRU5UUllfXyYmYi5fX1NFTlRSWV9fLmVuY29kZVBvbHlmaWxsP2IuX19TRU5UUllfXy5lbmNvZGVQb2x5ZmlsbCh0KToobmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCl9ZnVuY3Rpb24gY3QodCl7Y29uc3RbbixlXT10O2xldCByPUpTT04uc3RyaW5naWZ5KG4pO2Z1bmN0aW9uIG8odCl7InN0cmluZyI9PXR5cGVvZiByP3I9InN0cmluZyI9PXR5cGVvZiB0P3IrdDpbaXQociksdF06ci5wdXNoKCJzdHJpbmciPT10eXBlb2YgdD9pdCh0KTp0KX1mb3IoY29uc3QgdCBvZiBlKXtjb25zdFtuLGVdPXQ7aWYobyhgXG4ke0pTT04uc3RyaW5naWZ5KG4pfVxuYCksInN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgVWludDhBcnJheSlvKGUpO2Vsc2V7bGV0IHQ7dHJ5e3Q9SlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2gobil7dD1KU09OLnN0cmluZ2lmeShIKGUpKX1vKHQpfX1yZXR1cm4ic3RyaW5nIj09dHlwZW9mIHI/cjpmdW5jdGlvbih0KXtjb25zdCBuPXQucmVkdWNlKCgodCxuKT0+dCtuLmxlbmd0aCksMCksZT1uZXcgVWludDhBcnJheShuKTtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIHQpZS5zZXQobixyKSxyKz1uLmxlbmd0aDtyZXR1cm4gZX0ocil9Y29uc3QgdXQ9e3Nlc3Npb246InNlc3Npb24iLHNlc3Npb25zOiJzZXNzaW9uIixhdHRhY2htZW50OiJhdHRhY2htZW50Iix0cmFuc2FjdGlvbjoidHJhbnNhY3Rpb24iLGV2ZW50OiJlcnJvciIsY2xpZW50X3JlcG9ydDoiaW50ZXJuYWwiLHVzZXJfcmVwb3J0OiJkZWZhdWx0Iixwcm9maWxlOiJwcm9maWxlIixwcm9maWxlX2NodW5rOiJwcm9maWxlIixyZXBsYXlfZXZlbnQ6InJlcGxheSIscmVwbGF5X3JlY29yZGluZzoicmVwbGF5IixjaGVja19pbjoibW9uaXRvciIsZmVlZGJhY2s6ImZlZWRiYWNrIixzcGFuOiJzcGFuIixzdGF0c2Q6Im1ldHJpY19idWNrZXQifTtmdW5jdGlvbiBhdCh0KXtyZXR1cm4gdXRbdF19ZnVuY3Rpb24gZnQodCl7aWYoIXR8fCF0LnNkaylyZXR1cm47Y29uc3R7bmFtZTpuLHZlcnNpb246ZX09dC5zZGs7cmV0dXJue25hbWU6bix2ZXJzaW9uOmV9fWNvbnN0IGh0PTZlNDtmdW5jdGlvbiBwdCh0LHtzdGF0dXNDb2RlOm4saGVhZGVyczplfSxyPURhdGUubm93KCkpe2NvbnN0IG89ey4uLnR9LHM9ZSYmZVsieC1zZW50cnktcmF0ZS1saW1pdHMiXSxpPWUmJmVbInJldHJ5LWFmdGVyIl07aWYocylmb3IoY29uc3QgdCBvZiBzLnRyaW0oKS5zcGxpdCgiLCIpKXtjb25zdFtuLGUsLCxzXT10LnNwbGl0KCI6Iiw1KSxpPXBhcnNlSW50KG4sMTApLGM9MWUzKihpc05hTihpKT82MDppKTtpZihlKWZvcihjb25zdCB0IG9mIGUuc3BsaXQoIjsiKSkibWV0cmljX2J1Y2tldCI9PT10JiZzJiYhcy5zcGxpdCgiOyIpLmluY2x1ZGVzKCJjdXN0b20iKXx8KG9bdF09citjKTtlbHNlIG8uYWxsPXIrY31lbHNlIGk/by5hbGw9citmdW5jdGlvbih0LG49RGF0ZS5ub3coKSl7Y29uc3QgZT1wYXJzZUludChgJHt0fWAsMTApO2lmKCFpc05hTihlKSlyZXR1cm4gMWUzKmU7Y29uc3Qgcj1EYXRlLnBhcnNlKGAke3R9YCk7cmV0dXJuIGlzTmFOKHIpP2h0OnItbn0oaSxyKTo0Mjk9PT1uJiYoby5hbGw9cis2ZTQpO3JldHVybiBvfWZ1bmN0aW9uIGR0KCl7cmV0dXJue3RyYWNlSWQ6eigpLHNwYW5JZDp6KCkuc3Vic3RyaW5nKDE2KX19Y29uc3QgbHQ9InVuZGVmaW5lZCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fO2Z1bmN0aW9uIG10KCl7cmV0dXJuIHl0KGIpLGJ9ZnVuY3Rpb24geXQodCl7Y29uc3Qgbj10Ll9fU0VOVFJZX189dC5fX1NFTlRSWV9ffHx7fTtyZXR1cm4gbi52ZXJzaW9uPW4udmVyc2lvbnx8ZyxuW2ddPW5bZ118fHt9fWZ1bmN0aW9uIGd0KHQpe2NvbnN0IG49SigpLGU9e3NpZDp6KCksaW5pdDohMCx0aW1lc3RhbXA6bixzdGFydGVkOm4sZHVyYXRpb246MCxzdGF0dXM6Im9rIixlcnJvcnM6MCxpZ25vcmVEdXJhdGlvbjohMSx0b0pTT046KCk9PmZ1bmN0aW9uKHQpe3JldHVybiBSKHtzaWQ6YCR7dC5zaWR9YCxpbml0OnQuaW5pdCxzdGFydGVkOm5ldyBEYXRlKDFlMyp0LnN0YXJ0ZWQpLnRvSVNPU3RyaW5nKCksdGltZXN0YW1wOm5ldyBEYXRlKDFlMyp0LnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxzdGF0dXM6dC5zdGF0dXMsZXJyb3JzOnQuZXJyb3JzLGRpZDoibnVtYmVyIj09dHlwZW9mIHQuZGlkfHwic3RyaW5nIj09dHlwZW9mIHQuZGlkP2Ake3QuZGlkfWA6dm9pZCAwLGR1cmF0aW9uOnQuZHVyYXRpb24sYWJub3JtYWxfbWVjaGFuaXNtOnQuYWJub3JtYWxfbWVjaGFuaXNtLGF0dHJzOntyZWxlYXNlOnQucmVsZWFzZSxlbnZpcm9ubWVudDp0LmVudmlyb25tZW50LGlwX2FkZHJlc3M6dC5pcEFkZHJlc3MsdXNlcl9hZ2VudDp0LnVzZXJBZ2VudH19KX0oZSl9O3JldHVybiB0JiZidChlLHQpLGV9ZnVuY3Rpb24gYnQodCxuPXt9KXtpZihuLnVzZXImJighdC5pcEFkZHJlc3MmJm4udXNlci5pcF9hZGRyZXNzJiYodC5pcEFkZHJlc3M9bi51c2VyLmlwX2FkZHJlc3MpLHQuZGlkfHxuLmRpZHx8KHQuZGlkPW4udXNlci5pZHx8bi51c2VyLmVtYWlsfHxuLnVzZXIudXNlcm5hbWUpKSx0LnRpbWVzdGFtcD1uLnRpbWVzdGFtcHx8SigpLG4uYWJub3JtYWxfbWVjaGFuaXNtJiYodC5hYm5vcm1hbF9tZWNoYW5pc209bi5hYm5vcm1hbF9tZWNoYW5pc20pLG4uaWdub3JlRHVyYXRpb24mJih0Lmlnbm9yZUR1cmF0aW9uPW4uaWdub3JlRHVyYXRpb24pLG4uc2lkJiYodC5zaWQ9MzI9PT1uLnNpZC5sZW5ndGg/bi5zaWQ6eigpKSx2b2lkIDAhPT1uLmluaXQmJih0LmluaXQ9bi5pbml0KSwhdC5kaWQmJm4uZGlkJiYodC5kaWQ9YCR7bi5kaWR9YCksIm51bWJlciI9PXR5cGVvZiBuLnN0YXJ0ZWQmJih0LnN0YXJ0ZWQ9bi5zdGFydGVkKSx0Lmlnbm9yZUR1cmF0aW9uKXQuZHVyYXRpb249dm9pZCAwO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBuLmR1cmF0aW9uKXQuZHVyYXRpb249bi5kdXJhdGlvbjtlbHNle2NvbnN0IG49dC50aW1lc3RhbXAtdC5zdGFydGVkO3QuZHVyYXRpb249bj49MD9uOjB9bi5yZWxlYXNlJiYodC5yZWxlYXNlPW4ucmVsZWFzZSksbi5lbnZpcm9ubWVudCYmKHQuZW52aXJvbm1lbnQ9bi5lbnZpcm9ubWVudCksIXQuaXBBZGRyZXNzJiZuLmlwQWRkcmVzcyYmKHQuaXBBZGRyZXNzPW4uaXBBZGRyZXNzKSwhdC51c2VyQWdlbnQmJm4udXNlckFnZW50JiYodC51c2VyQWdlbnQ9bi51c2VyQWdlbnQpLCJudW1iZXIiPT10eXBlb2Ygbi5lcnJvcnMmJih0LmVycm9ycz1uLmVycm9ycyksbi5zdGF0dXMmJih0LnN0YXR1cz1uLnN0YXR1cyl9Y29uc3QgdnQ9Il9zZW50cnlTcGFuIjtmdW5jdGlvbiBfdCh0LG4pe24/ZnVuY3Rpb24odCxuLGUpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWNhdGNoKGUpeyQmJmsubG9nKGBGYWlsZWQgdG8gYWRkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5ICIke259IiB0byBvYmplY3RgLHQpfX0odCx2dCxuKTpkZWxldGUgdFt2dF19ZnVuY3Rpb24gd3QodCl7cmV0dXJuIHRbdnRdfWNsYXNzIFN0e2NvbnN0cnVjdG9yKCl7dGhpcy5fPSExLHRoaXMuUz1bXSx0aGlzLk49W10sdGhpcy5rPVtdLHRoaXMuQz1bXSx0aGlzLkQ9e30sdGhpcy5UPXt9LHRoaXMuTz17fSx0aGlzLmo9e30sdGhpcy5SPXt9LHRoaXMuQT1kdCgpfWNsb25lKCl7Y29uc3QgdD1uZXcgU3Q7cmV0dXJuIHQuaz1bLi4udGhpcy5rXSx0LlQ9ey4uLnRoaXMuVH0sdC5PPXsuLi50aGlzLk99LHQuaj17Li4udGhpcy5qfSx0LkQ9dGhpcy5ELHQuST10aGlzLkksdC5QPXRoaXMuUCx0LlU9dGhpcy5VLHQuTT10aGlzLk0sdC5OPVsuLi50aGlzLk5dLHQuTD10aGlzLkwsdC5DPVsuLi50aGlzLkNdLHQuUj17Li4udGhpcy5SfSx0LkE9ey4uLnRoaXMuQX0sdC5CPXRoaXMuQix0Lkc9dGhpcy5HLF90KHQsd3QodGhpcykpLHR9c2V0Q2xpZW50KHQpe3RoaXMuQj10fXNldExhc3RFdmVudElkKHQpe3RoaXMuRz10fWdldENsaWVudCgpe3JldHVybiB0aGlzLkJ9bGFzdEV2ZW50SWQoKXtyZXR1cm4gdGhpcy5HfWFkZFNjb3BlTGlzdGVuZXIodCl7dGhpcy5TLnB1c2godCl9YWRkRXZlbnRQcm9jZXNzb3IodCl7cmV0dXJuIHRoaXMuTi5wdXNoKHQpLHRoaXN9c2V0VXNlcih0KXtyZXR1cm4gdGhpcy5EPXR8fHtlbWFpbDp2b2lkIDAsaWQ6dm9pZCAwLGlwX2FkZHJlc3M6dm9pZCAwLHVzZXJuYW1lOnZvaWQgMH0sdGhpcy5QJiZidCh0aGlzLlAse3VzZXI6dH0pLHRoaXMuSigpLHRoaXN9Z2V0VXNlcigpe3JldHVybiB0aGlzLkR9Z2V0UmVxdWVzdFNlc3Npb24oKXtyZXR1cm4gdGhpcy5MfXNldFJlcXVlc3RTZXNzaW9uKHQpe3JldHVybiB0aGlzLkw9dCx0aGlzfXNldFRhZ3ModCl7cmV0dXJuIHRoaXMuVD17Li4udGhpcy5ULC4uLnR9LHRoaXMuSigpLHRoaXN9c2V0VGFnKHQsbil7cmV0dXJuIHRoaXMuVD17Li4udGhpcy5ULFt0XTpufSx0aGlzLkooKSx0aGlzfXNldEV4dHJhcyh0KXtyZXR1cm4gdGhpcy5PPXsuLi50aGlzLk8sLi4udH0sdGhpcy5KKCksdGhpc31zZXRFeHRyYSh0LG4pe3JldHVybiB0aGlzLk89ey4uLnRoaXMuTyxbdF06bn0sdGhpcy5KKCksdGhpc31zZXRGaW5nZXJwcmludCh0KXtyZXR1cm4gdGhpcy5NPXQsdGhpcy5KKCksdGhpc31zZXRMZXZlbCh0KXtyZXR1cm4gdGhpcy5JPXQsdGhpcy5KKCksdGhpc31zZXRUcmFuc2FjdGlvbk5hbWUodCl7cmV0dXJuIHRoaXMuVT10LHRoaXMuSigpLHRoaXN9c2V0Q29udGV4dCh0LG4pe3JldHVybiBudWxsPT09bj9kZWxldGUgdGhpcy5qW3RdOnRoaXMualt0XT1uLHRoaXMuSigpLHRoaXN9c2V0U2Vzc2lvbih0KXtyZXR1cm4gdD90aGlzLlA9dDpkZWxldGUgdGhpcy5QLHRoaXMuSigpLHRoaXN9Z2V0U2Vzc2lvbigpe3JldHVybiB0aGlzLlB9dXBkYXRlKHQpe2lmKCF0KXJldHVybiB0aGlzO2NvbnN0IG49ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dCh0aGlzKTp0LFtlLHJdPW4gaW5zdGFuY2VvZiAkdD9bbi5nZXRTY29wZURhdGEoKSxuLmdldFJlcXVlc3RTZXNzaW9uKCldOmwobik/W3QsdC5yZXF1ZXN0U2Vzc2lvbl06W10se3RhZ3M6byxleHRyYTpzLHVzZXI6aSxjb250ZXh0czpjLGxldmVsOnUsZmluZ2VycHJpbnQ6YT1bXSxwcm9wYWdhdGlvbkNvbnRleHQ6Zn09ZXx8e307cmV0dXJuIHRoaXMuVD17Li4udGhpcy5ULC4uLm99LHRoaXMuTz17Li4udGhpcy5PLC4uLnN9LHRoaXMuaj17Li4udGhpcy5qLC4uLmN9LGkmJk9iamVjdC5rZXlzKGkpLmxlbmd0aCYmKHRoaXMuRD1pKSx1JiYodGhpcy5JPXUpLGEubGVuZ3RoJiYodGhpcy5NPWEpLGYmJih0aGlzLkE9ZiksciYmKHRoaXMuTD1yKSx0aGlzfWNsZWFyKCl7cmV0dXJuIHRoaXMuaz1bXSx0aGlzLlQ9e30sdGhpcy5PPXt9LHRoaXMuRD17fSx0aGlzLmo9e30sdGhpcy5JPXZvaWQgMCx0aGlzLlU9dm9pZCAwLHRoaXMuTT12b2lkIDAsdGhpcy5MPXZvaWQgMCx0aGlzLlA9dm9pZCAwLF90KHRoaXMsdm9pZCAwKSx0aGlzLkM9W10sdGhpcy5BPWR0KCksdGhpcy5KKCksdGhpc31hZGRCcmVhZGNydW1iKHQsbil7Y29uc3QgZT0ibnVtYmVyIj09dHlwZW9mIG4/bjoxMDA7aWYoZTw9MClyZXR1cm4gdGhpcztjb25zdCByPXt0aW1lc3RhbXA6RygpLC4uLnR9LG89dGhpcy5rO3JldHVybiBvLnB1c2gociksdGhpcy5rPW8ubGVuZ3RoPmU/by5zbGljZSgtZSk6byx0aGlzLkooKSx0aGlzfWdldExhc3RCcmVhZGNydW1iKCl7cmV0dXJuIHRoaXMua1t0aGlzLmsubGVuZ3RoLTFdfWNsZWFyQnJlYWRjcnVtYnMoKXtyZXR1cm4gdGhpcy5rPVtdLHRoaXMuSigpLHRoaXN9YWRkQXR0YWNobWVudCh0KXtyZXR1cm4gdGhpcy5DLnB1c2godCksdGhpc31jbGVhckF0dGFjaG1lbnRzKCl7cmV0dXJuIHRoaXMuQz1bXSx0aGlzfWdldFNjb3BlRGF0YSgpe3JldHVybnticmVhZGNydW1iczp0aGlzLmssYXR0YWNobWVudHM6dGhpcy5DLGNvbnRleHRzOnRoaXMuaix0YWdzOnRoaXMuVCxleHRyYTp0aGlzLk8sdXNlcjp0aGlzLkQsbGV2ZWw6dGhpcy5JLGZpbmdlcnByaW50OnRoaXMuTXx8W10sZXZlbnRQcm9jZXNzb3JzOnRoaXMuTixwcm9wYWdhdGlvbkNvbnRleHQ6dGhpcy5BLHNka1Byb2Nlc3NpbmdNZXRhZGF0YTp0aGlzLlIsdHJhbnNhY3Rpb25OYW1lOnRoaXMuVSxzcGFuOnd0KHRoaXMpfX1zZXRTREtQcm9jZXNzaW5nTWV0YWRhdGEodCl7cmV0dXJuIHRoaXMuUj17Li4udGhpcy5SLC4uLnR9LHRoaXN9c2V0UHJvcGFnYXRpb25Db250ZXh0KHQpe3JldHVybiB0aGlzLkE9dCx0aGlzfWdldFByb3BhZ2F0aW9uQ29udGV4dCgpe3JldHVybiB0aGlzLkF9Y2FwdHVyZUV4Y2VwdGlvbih0LG4pe2NvbnN0IGU9biYmbi5ldmVudF9pZD9uLmV2ZW50X2lkOnooKTtpZighdGhpcy5CKXJldHVybiBrLndhcm4oIk5vIGNsaWVudCBjb25maWd1cmVkIG9uIHNjb3BlIC0gd2lsbCBub3QgY2FwdHVyZSBleGNlcHRpb24hIiksZTtjb25zdCByPW5ldyBFcnJvcigiU2VudHJ5IHN5bnRoZXRpY0V4Y2VwdGlvbiIpO3JldHVybiB0aGlzLkIuY2FwdHVyZUV4Y2VwdGlvbih0LHtvcmlnaW5hbEV4Y2VwdGlvbjp0LHN5bnRoZXRpY0V4Y2VwdGlvbjpyLC4uLm4sZXZlbnRfaWQ6ZX0sdGhpcyksZX1jYXB0dXJlTWVzc2FnZSh0LG4sZSl7Y29uc3Qgcj1lJiZlLmV2ZW50X2lkP2UuZXZlbnRfaWQ6eigpO2lmKCF0aGlzLkIpcmV0dXJuIGsud2FybigiTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIG1lc3NhZ2UhIikscjtjb25zdCBvPW5ldyBFcnJvcih0KTtyZXR1cm4gdGhpcy5CLmNhcHR1cmVNZXNzYWdlKHQsbix7b3JpZ2luYWxFeGNlcHRpb246dCxzeW50aGV0aWNFeGNlcHRpb246bywuLi5lLGV2ZW50X2lkOnJ9LHRoaXMpLHJ9Y2FwdHVyZUV2ZW50KHQsbil7Y29uc3QgZT1uJiZuLmV2ZW50X2lkP24uZXZlbnRfaWQ6eigpO3JldHVybiB0aGlzLkI/KHRoaXMuQi5jYXB0dXJlRXZlbnQodCx7Li4ubixldmVudF9pZDplfSx0aGlzKSxlKTooay53YXJuKCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgZXZlbnQhIiksZSl9Sigpe3RoaXMuX3x8KHRoaXMuXz0hMCx0aGlzLlMuZm9yRWFjaCgodD0+e3QodGhpcyl9KSksdGhpcy5fPSExKX19Y29uc3QgJHQ9U3Q7Y2xhc3MgRXR7Y29uc3RydWN0b3IodCxuKXtsZXQgZSxyO2U9dHx8bmV3ICR0LHI9bnx8bmV3ICR0LHRoaXMuSD1be3Njb3BlOmV9XSx0aGlzLlc9cn13aXRoU2NvcGUodCl7Y29uc3Qgbj10aGlzLlkoKTtsZXQgZTt0cnl7ZT10KG4pfWNhdGNoKHQpe3Rocm93IHRoaXMucSgpLHR9cmV0dXJuIG0oZSk/ZS50aGVuKCh0PT4odGhpcy5xKCksdCkpLCh0PT57dGhyb3cgdGhpcy5xKCksdH0pKToodGhpcy5xKCksZSl9Z2V0Q2xpZW50KCl7cmV0dXJuIHRoaXMuZ2V0U3RhY2tUb3AoKS5jbGllbnR9Z2V0U2NvcGUoKXtyZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLnNjb3BlfWdldElzb2xhdGlvblNjb3BlKCl7cmV0dXJuIHRoaXMuV31nZXRTdGFja1RvcCgpe3JldHVybiB0aGlzLkhbdGhpcy5ILmxlbmd0aC0xXX1ZKCl7Y29uc3QgdD10aGlzLmdldFNjb3BlKCkuY2xvbmUoKTtyZXR1cm4gdGhpcy5ILnB1c2goe2NsaWVudDp0aGlzLmdldENsaWVudCgpLHNjb3BlOnR9KSx0fXEoKXtyZXR1cm4hKHRoaXMuSC5sZW5ndGg8PTEpJiYhIXRoaXMuSC5wb3AoKX19ZnVuY3Rpb24geHQoKXtjb25zdCB0PXl0KG10KCkpO3JldHVybiB0LnN0YWNrPXQuc3RhY2t8fG5ldyBFdCh2KCJkZWZhdWx0Q3VycmVudFNjb3BlIiwoKCk9Pm5ldyAkdCkpLHYoImRlZmF1bHRJc29sYXRpb25TY29wZSIsKCgpPT5uZXcgJHQpKSl9ZnVuY3Rpb24gTnQodCl7cmV0dXJuIHh0KCkud2l0aFNjb3BlKHQpfWZ1bmN0aW9uIGt0KHQsbil7Y29uc3QgZT14dCgpO3JldHVybiBlLndpdGhTY29wZSgoKCk9PihlLmdldFN0YWNrVG9wKCkuc2NvcGU9dCxuKHQpKSkpfWZ1bmN0aW9uIEN0KHQpe3JldHVybiB4dCgpLndpdGhTY29wZSgoKCk9PnQoeHQoKS5nZXRJc29sYXRpb25TY29wZSgpKSkpfWZ1bmN0aW9uIER0KHQpe2NvbnN0IG49eXQodCk7cmV0dXJuIG4uYWNzP24uYWNzOnt3aXRoSXNvbGF0aW9uU2NvcGU6Q3Qsd2l0aFNjb3BlOk50LHdpdGhTZXRTY29wZTprdCx3aXRoU2V0SXNvbGF0aW9uU2NvcGU6KHQsbik9PkN0KG4pLGdldEN1cnJlbnRTY29wZTooKT0+eHQoKS5nZXRTY29wZSgpLGdldElzb2xhdGlvblNjb3BlOigpPT54dCgpLmdldElzb2xhdGlvblNjb3BlKCl9fWZ1bmN0aW9uIFR0KCl7cmV0dXJuIER0KG10KCkpLmdldEN1cnJlbnRTY29wZSgpLmdldENsaWVudCgpfWNvbnN0IE90PSJfc2VudHJ5TWV0cmljcyI7ZnVuY3Rpb24ganQodCl7Y29uc3Qgbj10W090XTtpZighbilyZXR1cm47Y29uc3QgZT17fTtmb3IoY29uc3RbLFt0LHJdXW9mIG4peyhlW3RdfHwoZVt0XT1bXSkpLnB1c2goUihyKSl9cmV0dXJuIGV9Y29uc3QgUnQ9InNlbnRyeS5zb3VyY2UiLEF0PSJzZW50cnkuc2FtcGxlX3JhdGUiLEl0PSJzZW50cnkub3AiLFB0PSJzZW50cnkub3JpZ2luIixVdD0wLE10PTEsTHQ9MTtmdW5jdGlvbiBCdCh0KXtjb25zdHtzcGFuSWQ6bix0cmFjZUlkOmV9PXQuc3BhbkNvbnRleHQoKSx7cGFyZW50X3NwYW5faWQ6cn09enQodCk7cmV0dXJuIFIoe3BhcmVudF9zcGFuX2lkOnIsc3Bhbl9pZDpuLHRyYWNlX2lkOmV9KX1mdW5jdGlvbiBHdCh0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/SnQodCk6QXJyYXkuaXNBcnJheSh0KT90WzBdK3RbMV0vMWU5OnQgaW5zdGFuY2VvZiBEYXRlP0p0KHQuZ2V0VGltZSgpKTpKKCl9ZnVuY3Rpb24gSnQodCl7cmV0dXJuIHQ+OTk5OTk5OTk5OT90LzFlMzp0fWZ1bmN0aW9uIHp0KHQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldFNwYW5KU09OfSh0KSlyZXR1cm4gdC5nZXRTcGFuSlNPTigpO3RyeXtjb25zdHtzcGFuSWQ6bix0cmFjZUlkOmV9PXQuc3BhbkNvbnRleHQoKTtpZihmdW5jdGlvbih0KXtjb25zdCBuPXQ7cmV0dXJuISEobi5hdHRyaWJ1dGVzJiZuLnN0YXJ0VGltZSYmbi5uYW1lJiZuLmVuZFRpbWUmJm4uc3RhdHVzKX0odCkpe2NvbnN0e2F0dHJpYnV0ZXM6cixzdGFydFRpbWU6byxuYW1lOnMsZW5kVGltZTppLHBhcmVudFNwYW5JZDpjLHN0YXR1czp1fT10O3JldHVybiBSKHtzcGFuX2lkOm4sdHJhY2VfaWQ6ZSxkYXRhOnIsZGVzY3JpcHRpb246cyxwYXJlbnRfc3Bhbl9pZDpjLHN0YXJ0X3RpbWVzdGFtcDpHdChvKSx0aW1lc3RhbXA6R3QoaSl8fHZvaWQgMCxzdGF0dXM6SHQodSksb3A6cltJdF0sb3JpZ2luOnJbUHRdLF9tZXRyaWNzX3N1bW1hcnk6anQodCl9KX1yZXR1cm57c3Bhbl9pZDpuLHRyYWNlX2lkOmV9fWNhdGNoKHQpe3JldHVybnt9fX1mdW5jdGlvbiBIdCh0KXtpZih0JiZ0LmNvZGUhPT1VdClyZXR1cm4gdC5jb2RlPT09TXQ/Im9rIjp0Lm1lc3NhZ2V8fCJ1bmtub3duX2Vycm9yIn1jb25zdCBXdD0iX3NlbnRyeVJvb3RTcGFuIjtmdW5jdGlvbiBZdCh0KXtyZXR1cm4gdFtXdF18fHR9Y29uc3QgcXQ9InByb2R1Y3Rpb24iLEZ0PSJfZnJvemVuRHNjIjtmdW5jdGlvbiBLdCh0KXtjb25zdCBuPVR0KCk7aWYoIW4pcmV0dXJue307Y29uc3QgZT1mdW5jdGlvbih0LG4pe2NvbnN0IGU9bi5nZXRPcHRpb25zKCkse3B1YmxpY0tleTpyfT1uLmdldERzbigpfHx7fSxvPVIoe2Vudmlyb25tZW50OmUuZW52aXJvbm1lbnR8fHF0LHJlbGVhc2U6ZS5yZWxlYXNlLHB1YmxpY19rZXk6cix0cmFjZV9pZDp0fSk7cmV0dXJuIG4uZW1pdCgiY3JlYXRlRHNjIixvKSxvfSh6dCh0KS50cmFjZV9pZHx8IiIsbikscj1ZdCh0KSxvPXJbRnRdO2lmKG8pcmV0dXJuIG87Y29uc3Qgcz1yLnNwYW5Db250ZXh0KCkudHJhY2VTdGF0ZSxpPXMmJnMuZ2V0KCJzZW50cnkuZHNjIiksYz1pJiZldChpKTtpZihjKXJldHVybiBjO2NvbnN0IHU9enQociksYT11LmRhdGF8fHt9LGY9YVtBdF07bnVsbCE9ZiYmKGUuc2FtcGxlX3JhdGU9YCR7Zn1gKTtjb25zdCBoPWFbUnRdLHA9dS5kZXNjcmlwdGlvbjtyZXR1cm4idXJsIiE9PWgmJnAmJihlLnRyYW5zYWN0aW9uPXApLGUuc2FtcGxlZD1TdHJpbmcoZnVuY3Rpb24odCl7Y29uc3R7dHJhY2VGbGFnczpufT10LnNwYW5Db250ZXh0KCk7cmV0dXJuIG49PT1MdH0ocikpLG4uZW1pdCgiY3JlYXRlRHNjIixlLHIpLGV9ZnVuY3Rpb24gVnQodCxuLGUscil7Y29uc3Qgbz1mdChlKSxzPXQudHlwZSYmInJlcGxheV9ldmVudCIhPT10LnR5cGU/dC50eXBlOiJldmVudCI7IWZ1bmN0aW9uKHQsbil7biYmKHQuc2RrPXQuc2RrfHx7fSx0LnNkay5uYW1lPXQuc2RrLm5hbWV8fG4ubmFtZSx0LnNkay52ZXJzaW9uPXQuc2RrLnZlcnNpb258fG4udmVyc2lvbix0LnNkay5pbnRlZ3JhdGlvbnM9Wy4uLnQuc2RrLmludGVncmF0aW9uc3x8W10sLi4ubi5pbnRlZ3JhdGlvbnN8fFtdXSx0LnNkay5wYWNrYWdlcz1bLi4udC5zZGsucGFja2FnZXN8fFtdLC4uLm4ucGFja2FnZXN8fFtdXSl9KHQsZSYmZS5zZGspO2NvbnN0IGk9ZnVuY3Rpb24odCxuLGUscil7Y29uc3Qgbz10LnNka1Byb2Nlc3NpbmdNZXRhZGF0YSYmdC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEuZHluYW1pY1NhbXBsaW5nQ29udGV4dDtyZXR1cm57ZXZlbnRfaWQ6dC5ldmVudF9pZCxzZW50X2F0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSwuLi5uJiZ7c2RrOm59LC4uLiEhZSYmciYme2RzbjpDKHIpfSwuLi5vJiZ7dHJhY2U6Uih7Li4ub30pfX19KHQsbyxyLG4pO2RlbGV0ZSB0LnNka1Byb2Nlc3NpbmdNZXRhZGF0YTtyZXR1cm4gb3QoaSxbW3t0eXBlOnN9LHRdXSl9Y29uc3QgWnQ9Il9fU0VOVFJZX1NVUFBSRVNTX1RSQUNJTkdfXyI7ZnVuY3Rpb24gUXQodCl7Y29uc3Qgbj1EdChtdCgpKTtyZXR1cm4gbi5zdXBwcmVzc1RyYWNpbmc/bi5zdXBwcmVzc1RyYWNpbmcodCk6ZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj1EdChtdCgpKTtpZigyPT09dC5sZW5ndGgpe2NvbnN0W2Uscl09dDtyZXR1cm4gZT9uLndpdGhTZXRTY29wZShlLHIpOm4ud2l0aFNjb3BlKHIpfXJldHVybiBuLndpdGhTY29wZSh0WzBdKX0oKG49PihuLnNldFNES1Byb2Nlc3NpbmdNZXRhZGF0YSh7W1p0XTohMH0pLHQoKSkpKX1mdW5jdGlvbiBYdCh0LG4pe2NvbnN0e2ZpbmdlcnByaW50OmUsc3BhbjpyLGJyZWFkY3J1bWJzOm8sc2RrUHJvY2Vzc2luZ01ldGFkYXRhOnN9PW47IWZ1bmN0aW9uKHQsbil7Y29uc3R7ZXh0cmE6ZSx0YWdzOnIsdXNlcjpvLGNvbnRleHRzOnMsbGV2ZWw6aSx0cmFuc2FjdGlvbk5hbWU6Y309bix1PVIoZSk7dSYmT2JqZWN0LmtleXModSkubGVuZ3RoJiYodC5leHRyYT17Li4udSwuLi50LmV4dHJhfSk7Y29uc3QgYT1SKHIpO2EmJk9iamVjdC5rZXlzKGEpLmxlbmd0aCYmKHQudGFncz17Li4uYSwuLi50LnRhZ3N9KTtjb25zdCBmPVIobyk7ZiYmT2JqZWN0LmtleXMoZikubGVuZ3RoJiYodC51c2VyPXsuLi5mLC4uLnQudXNlcn0pO2NvbnN0IGg9UihzKTtoJiZPYmplY3Qua2V5cyhoKS5sZW5ndGgmJih0LmNvbnRleHRzPXsuLi5oLC4uLnQuY29udGV4dHN9KTtpJiYodC5sZXZlbD1pKTtjJiYidHJhbnNhY3Rpb24iIT09dC50eXBlJiYodC50cmFuc2FjdGlvbj1jKX0odCxuKSxyJiZmdW5jdGlvbih0LG4pe3QuY29udGV4dHM9e3RyYWNlOkJ0KG4pLC4uLnQuY29udGV4dHN9LHQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXtkeW5hbWljU2FtcGxpbmdDb250ZXh0Okt0KG4pLC4uLnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhfTtjb25zdCBlPVl0KG4pLHI9enQoZSkuZGVzY3JpcHRpb247ciYmIXQudHJhbnNhY3Rpb24mJiJ0cmFuc2FjdGlvbiI9PT10LnR5cGUmJih0LnRyYW5zYWN0aW9uPXIpfSh0LHIpLGZ1bmN0aW9uKHQsbil7dC5maW5nZXJwcmludD10LmZpbmdlcnByaW50P2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Q6W3RdfSh0LmZpbmdlcnByaW50KTpbXSxuJiYodC5maW5nZXJwcmludD10LmZpbmdlcnByaW50LmNvbmNhdChuKSk7dC5maW5nZXJwcmludCYmIXQuZmluZ2VycHJpbnQubGVuZ3RoJiZkZWxldGUgdC5maW5nZXJwcmludH0odCxlKSxmdW5jdGlvbih0LG4pe2NvbnN0IGU9Wy4uLnQuYnJlYWRjcnVtYnN8fFtdLC4uLm5dO3QuYnJlYWRjcnVtYnM9ZS5sZW5ndGg/ZTp2b2lkIDB9KHQsbyksZnVuY3Rpb24odCxuKXt0LnNka1Byb2Nlc3NpbmdNZXRhZGF0YT17Li4udC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEsLi4ubn19KHQscyl9Y29uc3QgdG49IjciO2Z1bmN0aW9uIG5uKHQsbil7cmV0dXJuIGU9e3NlbnRyeV9rZXk6dC5wdWJsaWNLZXksc2VudHJ5X3ZlcnNpb246dG4sLi4ubiYme3NlbnRyeV9jbGllbnQ6YCR7bi5uYW1lfS8ke24udmVyc2lvbn1gfX0sT2JqZWN0LmtleXMoZSkubWFwKCh0PT5gJHtlbmNvZGVVUklDb21wb25lbnQodCl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVbdF0pfWApKS5qb2luKCImIik7dmFyIGV9Y29uc3QgZW49NjQ7ZnVuY3Rpb24gcm4odCxuLGU9USh0LmJ1ZmZlclNpemV8fGVuKSl7bGV0IHI9e307cmV0dXJue3NlbmQ6ZnVuY3Rpb24obyl7Y29uc3Qgcz1bXTtpZihzdChvLCgobixlKT0+e2NvbnN0IG89YXQoZSk7aWYoZnVuY3Rpb24odCxuLGU9RGF0ZS5ub3coKSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbbl18fHQuYWxsfHwwfSh0LG4pPmV9KHIsbykpe2NvbnN0IHI9b24obixlKTt0LnJlY29yZERyb3BwZWRFdmVudCgicmF0ZWxpbWl0X2JhY2tvZmYiLG8scil9ZWxzZSBzLnB1c2gobil9KSksMD09PXMubGVuZ3RoKXJldHVybiBWKHt9KTtjb25zdCBpPW90KG9bMF0scyksYz1uPT57c3QoaSwoKGUscik9Pntjb25zdCBvPW9uKGUscik7dC5yZWNvcmREcm9wcGVkRXZlbnQobixhdChyKSxvKX0pKX07cmV0dXJuIGUuYWRkKCgoKT0+bih7Ym9keTpjdChpKX0pLnRoZW4oKHQ9Pih2b2lkIDAhPT10LnN0YXR1c0NvZGUmJih0LnN0YXR1c0NvZGU8MjAwfHx0LnN0YXR1c0NvZGU+PTMwMCkmJmx0JiZrLndhcm4oYFNlbnRyeSByZXNwb25kZWQgd2l0aCBzdGF0dXMgY29kZSAke3Quc3RhdHVzQ29kZX0gdG8gc2VudCBldmVudC5gKSxyPXB0KHIsdCksdCkpLCh0PT57dGhyb3cgYygibmV0d29ya19lcnJvciIpLHR9KSkpKS50aGVuKCh0PT50KSwodD0+e2lmKHQgaW5zdGFuY2VvZiBEKXJldHVybiBsdCYmay5lcnJvcigiU2tpcHBlZCBzZW5kaW5nIGV2ZW50IGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwuIiksYygicXVldWVfb3ZlcmZsb3ciKSxWKHt9KTt0aHJvdyB0fSkpfSxmbHVzaDp0PT5lLmRyYWluKHQpfX1mdW5jdGlvbiBvbih0LG4pe2lmKCJldmVudCI9PT1ufHwidHJhbnNhY3Rpb24iPT09bilyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90WzFdOnZvaWQgMH1jb25zdCBzbj1TeW1ib2woIkFnZW50QmFzZUludGVybmFsU3RhdGUiKTtjbGFzcyBjbiBleHRlbmRzIHMuQWdlbnR7W3NuXTtvcHRpb25zO2tlZXBBbGl2ZTtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzW3NuXT17fX1pc1NlY3VyZUVuZHBvaW50KHQpe2lmKHQpe2lmKCJib29sZWFuIj09dHlwZW9mIHQuc2VjdXJlRW5kcG9pbnQpcmV0dXJuIHQuc2VjdXJlRW5kcG9pbnQ7aWYoInN0cmluZyI9PXR5cGVvZiB0LnByb3RvY29sKXJldHVybiJodHRwczoiPT09dC5wcm90b2NvbH1jb25zdHtzdGFjazpufT1uZXcgRXJyb3I7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiZuLnNwbGl0KCJcbiIpLnNvbWUoKHQ9Pi0xIT09dC5pbmRleE9mKCIoaHR0cHMuanM6Iil8fC0xIT09dC5pbmRleE9mKCJub2RlOmh0dHBzOiIpKSl9Y3JlYXRlU29ja2V0KHQsbixlKXtjb25zdCByPXsuLi5uLHNlY3VyZUVuZHBvaW50OnRoaXMuaXNTZWN1cmVFbmRwb2ludChuKX07UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9PnRoaXMuY29ubmVjdCh0LHIpKSkudGhlbigobz0+e2lmKG8gaW5zdGFuY2VvZiBzLkFnZW50KXJldHVybiBvLmFkZFJlcXVlc3QodCxyKTt0aGlzW3NuXS5jdXJyZW50U29ja2V0PW8sc3VwZXIuY3JlYXRlU29ja2V0KHQsbixlKX0pLGUpfWNyZWF0ZUNvbm5lY3Rpb24oKXtjb25zdCB0PXRoaXNbc25dLmN1cnJlbnRTb2NrZXQ7aWYodGhpc1tzbl0uY3VycmVudFNvY2tldD12b2lkIDAsIXQpdGhyb3cgbmV3IEVycm9yKCJObyBzb2NrZXQgd2FzIHJldHVybmVkIGluIHRoZSBgY29ubmVjdCgpYCBmdW5jdGlvbiIpO3JldHVybiB0fWdldCBkZWZhdWx0UG9ydCgpe3JldHVybiB0aGlzW3NuXS5kZWZhdWx0UG9ydD8/KCJodHRwczoiPT09dGhpcy5wcm90b2NvbD80NDM6ODApfXNldCBkZWZhdWx0UG9ydCh0KXt0aGlzW3NuXSYmKHRoaXNbc25dLmRlZmF1bHRQb3J0PXQpfWdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzW3NuXS5wcm90b2NvbD8/KHRoaXMuaXNTZWN1cmVFbmRwb2ludCgpPyJodHRwczoiOiJodHRwOiIpfXNldCBwcm90b2NvbCh0KXt0aGlzW3NuXSYmKHRoaXNbc25dLnByb3RvY29sPXQpfX1mdW5jdGlvbiB1biguLi50KXtrLmxvZygiW2h0dHBzLXByb3h5LWFnZW50OnBhcnNlLXByb3h5LXJlc3BvbnNlXSIsLi4udCl9ZnVuY3Rpb24gYW4odCl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixlKT0+e2xldCByPTA7Y29uc3Qgbz1bXTtmdW5jdGlvbiBzKCl7Y29uc3QgYz10LnJlYWQoKTtjP2Z1bmN0aW9uKGMpe28ucHVzaChjKSxyKz1jLmxlbmd0aDtjb25zdCB1PUJ1ZmZlci5jb25jYXQobyxyKSxhPXUuaW5kZXhPZigiXHJcblxyXG4iKTtpZigtMT09PWEpcmV0dXJuIHVuKCJoYXZlIG5vdCByZWNlaXZlZCBlbmQgb2YgSFRUUCBoZWFkZXJzIHlldC4uLiIpLHZvaWQgcygpO2NvbnN0IGY9dS5zbGljZSgwLGEpLnRvU3RyaW5nKCJhc2NpaSIpLnNwbGl0KCJcclxuIiksaD1mLnNoaWZ0KCk7aWYoIWgpcmV0dXJuIHQuZGVzdHJveSgpLGUobmV3IEVycm9yKCJObyBoZWFkZXIgcmVjZWl2ZWQgZnJvbSBwcm94eSBDT05ORUNUIHJlc3BvbnNlIikpO2NvbnN0IHA9aC5zcGxpdCgiICIpLGQ9KyhwWzFdfHwwKSxsPXAuc2xpY2UoMikuam9pbigiICIpLG09e307Zm9yKGNvbnN0IG4gb2YgZil7aWYoIW4pY29udGludWU7Y29uc3Qgcj1uLmluZGV4T2YoIjoiKTtpZigtMT09PXIpcmV0dXJuIHQuZGVzdHJveSgpLGUobmV3IEVycm9yKGBJbnZhbGlkIGhlYWRlciBmcm9tIHByb3h5IENPTk5FQ1QgcmVzcG9uc2U6ICIke259ImApKTtjb25zdCBvPW4uc2xpY2UoMCxyKS50b0xvd2VyQ2FzZSgpLHM9bi5zbGljZShyKzEpLnRyaW1TdGFydCgpLGk9bVtvXTsic3RyaW5nIj09dHlwZW9mIGk/bVtvXT1baSxzXTpBcnJheS5pc0FycmF5KGkpP2kucHVzaChzKTptW29dPXN9dW4oImdvdCBwcm94eSBzZXJ2ZXIgcmVzcG9uc2U6ICVvICVvIixoLG0pLGkoKSxuKHtjb25uZWN0OntzdGF0dXNDb2RlOmQsc3RhdHVzVGV4dDpsLGhlYWRlcnM6bX0sYnVmZmVyZWQ6dX0pfShjKTp0Lm9uY2UoInJlYWRhYmxlIixzKX1mdW5jdGlvbiBpKCl7dC5yZW1vdmVMaXN0ZW5lcigiZW5kIixjKSx0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksdC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLHMpfWZ1bmN0aW9uIGMoKXtpKCksdW4oIm9uZW5kIiksZShuZXcgRXJyb3IoIlByb3h5IGNvbm5lY3Rpb24gZW5kZWQgYmVmb3JlIHJlY2VpdmluZyBDT05ORUNUIHJlc3BvbnNlIikpfWZ1bmN0aW9uIHUodCl7aSgpLHVuKCJvbmVycm9yICVvIix0KSxlKHQpfXQub24oImVycm9yIix1KSx0Lm9uKCJlbmQiLGMpLHMoKX0pKX1mdW5jdGlvbiBmbiguLi50KXtrLmxvZygiW2h0dHBzLXByb3h5LWFnZW50XSIsLi4udCl9Y2xhc3MgaG4gZXh0ZW5kcyBjbntzdGF0aWMgcHJvdG9jb2xzPVsiaHR0cCIsImh0dHBzIl07cHJveHk7cHJveHlIZWFkZXJzO2Nvbm5lY3RPcHRzO2NvbnN0cnVjdG9yKHQsbil7c3VwZXIobiksdGhpcy5vcHRpb25zPXt9LHRoaXMucHJveHk9InN0cmluZyI9PXR5cGVvZiB0P25ldyBVUkwodCk6dCx0aGlzLnByb3h5SGVhZGVycz1uPy5oZWFkZXJzPz97fSxmbigiQ3JlYXRpbmcgbmV3IEh0dHBzUHJveHlBZ2VudCBpbnN0YW5jZTogJW8iLHRoaXMucHJveHkuaHJlZik7Y29uc3QgZT0odGhpcy5wcm94eS5ob3N0bmFtZXx8dGhpcy5wcm94eS5ob3N0KS5yZXBsYWNlKC9eXFt8XF0kL2csIiIpLHI9dGhpcy5wcm94eS5wb3J0P3BhcnNlSW50KHRoaXMucHJveHkucG9ydCwxMCk6Imh0dHBzOiI9PT10aGlzLnByb3h5LnByb3RvY29sPzQ0Mzo4MDt0aGlzLmNvbm5lY3RPcHRzPXtBTFBOUHJvdG9jb2xzOlsiaHR0cC8xLjEiXSwuLi5uP2RuKG4sImhlYWRlcnMiKTpudWxsLGhvc3Q6ZSxwb3J0OnJ9fWFzeW5jIGNvbm5lY3QodCxuKXtjb25zdHtwcm94eTplfT10aGlzO2lmKCFuLmhvc3QpdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gImhvc3QiIHByb3ZpZGVkJyk7bGV0IHI7aWYoImh0dHBzOiI9PT1lLnByb3RvY29sKXtmbigiQ3JlYXRpbmcgYHRscy5Tb2NrZXRgOiAlbyIsdGhpcy5jb25uZWN0T3B0cyk7Y29uc3QgdD10aGlzLmNvbm5lY3RPcHRzLnNlcnZlcm5hbWV8fHRoaXMuY29ubmVjdE9wdHMuaG9zdDtyPWYuY29ubmVjdCh7Li4udGhpcy5jb25uZWN0T3B0cyxzZXJ2ZXJuYW1lOnQmJmEuaXNJUCh0KT92b2lkIDA6dH0pfWVsc2UgZm4oIkNyZWF0aW5nIGBuZXQuU29ja2V0YDogJW8iLHRoaXMuY29ubmVjdE9wdHMpLHI9YS5jb25uZWN0KHRoaXMuY29ubmVjdE9wdHMpO2NvbnN0IG89ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMucHJveHlIZWFkZXJzP3RoaXMucHJveHlIZWFkZXJzKCk6ey4uLnRoaXMucHJveHlIZWFkZXJzfSxzPWEuaXNJUHY2KG4uaG9zdCk/YFske24uaG9zdH1dYDpuLmhvc3Q7bGV0IGk9YENPTk5FQ1QgJHtzfToke24ucG9ydH0gSFRUUC8xLjFcclxuYDtpZihlLnVzZXJuYW1lfHxlLnBhc3N3b3JkKXtjb25zdCB0PWAke2RlY29kZVVSSUNvbXBvbmVudChlLnVzZXJuYW1lKX06JHtkZWNvZGVVUklDb21wb25lbnQoZS5wYXNzd29yZCl9YDtvWyJQcm94eS1BdXRob3JpemF0aW9uIl09YEJhc2ljICR7QnVmZmVyLmZyb20odCkudG9TdHJpbmcoImJhc2U2NCIpfWB9by5Ib3N0PWAke3N9OiR7bi5wb3J0fWAsb1siUHJveHktQ29ubmVjdGlvbiJdfHwob1siUHJveHktQ29ubmVjdGlvbiJdPXRoaXMua2VlcEFsaXZlPyJLZWVwLUFsaXZlIjoiY2xvc2UiKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhvKSlpKz1gJHt0fTogJHtvW3RdfVxyXG5gO2NvbnN0IGM9YW4ocik7ci53cml0ZShgJHtpfVxyXG5gKTtjb25zdHtjb25uZWN0OnUsYnVmZmVyZWQ6aH09YXdhaXQgYztpZih0LmVtaXQoInByb3h5Q29ubmVjdCIsdSksdGhpcy5lbWl0KCJwcm94eUNvbm5lY3QiLHUsdCksMjAwPT09dS5zdGF0dXNDb2RlKXtpZih0Lm9uY2UoInNvY2tldCIscG4pLG4uc2VjdXJlRW5kcG9pbnQpe2ZuKCJVcGdyYWRpbmcgc29ja2V0IGNvbm5lY3Rpb24gdG8gVExTIik7Y29uc3QgdD1uLnNlcnZlcm5hbWV8fG4uaG9zdDtyZXR1cm4gZi5jb25uZWN0KHsuLi5kbihuLCJob3N0IiwicGF0aCIsInBvcnQiKSxzb2NrZXQ6cixzZXJ2ZXJuYW1lOmEuaXNJUCh0KT92b2lkIDA6dH0pfXJldHVybiByfXIuZGVzdHJveSgpO2NvbnN0IHA9bmV3IGEuU29ja2V0KHt3cml0YWJsZTohMX0pO3JldHVybiBwLnJlYWRhYmxlPSEwLHQub25jZSgic29ja2V0IiwodD0+e2ZuKCJSZXBsYXlpbmcgcHJveHkgYnVmZmVyIGZvciBmYWlsZWQgcmVxdWVzdCIpLHQucHVzaChoKSx0LnB1c2gobnVsbCl9KSkscH19ZnVuY3Rpb24gcG4odCl7dC5yZXN1bWUoKX1mdW5jdGlvbiBkbih0LC4uLm4pe2NvbnN0IGU9e307bGV0IHI7Zm9yKHIgaW4gdCluLmluY2x1ZGVzKHIpfHwoZVtyXT10W3JdKTtyZXR1cm4gZX1jb25zdCBsbj0zMjc2ODtmdW5jdGlvbiBtbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eW0EtWl06LywiIikucmVwbGFjZSgvXFwvZywiLyIpfWNvbnN0IHluPWU7bGV0IGduLGJuPSExO2Z1bmN0aW9uIHZuKHQpe3luLmRlYnVnJiZjb25zb2xlLmxvZyhgW0FOUiBXb3JrZXJdICR7dH1gKX12YXIgX24sd24sU247Y29uc3QgJG49ZnVuY3Rpb24odCl7bGV0IG47dHJ5e249bmV3IFVSTCh0LnVybCl9Y2F0Y2gobil7cmV0dXJuIE4oKCgpPT57Y29uc29sZS53YXJuKCJbQHNlbnRyeS9ub2RlXTogSW52YWxpZCBkc24gb3IgdHVubmVsIG9wdGlvbiwgd2lsbCBub3Qgc2VuZCBhbnkgZXZlbnRzLiBUaGUgdHVubmVsIG9wdGlvbiBtdXN0IGJlIGEgZnVsbCBVUkwgd2hlbiB1c2VkLiIpfSkpLHJuKHQsKCgpPT5Qcm9taXNlLnJlc29sdmUoe30pKSl9Y29uc3QgZT0iaHR0cHM6Ij09PW4ucHJvdG9jb2wscj1mdW5jdGlvbih0LG4pe2NvbnN0e25vX3Byb3h5OmV9PXByb2Nlc3MuZW52O3JldHVybiBlJiZlLnNwbGl0KCIsIikuc29tZSgobj0+dC5ob3N0LmVuZHNXaXRoKG4pfHx0Lmhvc3RuYW1lLmVuZHNXaXRoKG4pKSk/dm9pZCAwOm59KG4sdC5wcm94eXx8KGU/cHJvY2Vzcy5lbnYuaHR0cHNfcHJveHk6dm9pZCAwKXx8cHJvY2Vzcy5lbnYuaHR0cF9wcm94eSksbz1lP2k6cyxhPXZvaWQgMCE9PXQua2VlcEFsaXZlJiZ0LmtlZXBBbGl2ZSxmPXI/bmV3IGhuKHIpOm5ldyBvLkFnZW50KHtrZWVwQWxpdmU6YSxtYXhTb2NrZXRzOjMwLHRpbWVvdXQ6MmUzfSk7cmV0dXJuIFF0KCgoKT0+e2NvbnN0IG49ZnVuY3Rpb24odCxuLGUpe2NvbnN0e2hvc3RuYW1lOnIscGF0aG5hbWU6byxwb3J0OnMscHJvdG9jb2w6aSxzZWFyY2g6YX09bmV3IFVSTCh0LnVybCk7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBuZXcgUHJvbWlzZSgoKGgscCk9PntsZXQgZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGMoe3JlYWQoKXt0aGlzLnB1c2godCksdGhpcy5wdXNoKG51bGwpfX0pfShmLmJvZHkpO2NvbnN0IGw9ey4uLnQuaGVhZGVyc307Zi5ib2R5Lmxlbmd0aD5sbiYmKGxbImNvbnRlbnQtZW5jb2RpbmciXT0iZ3ppcCIsZD1kLnBpcGUodSgpKSk7Y29uc3QgbT1uLnJlcXVlc3Qoe21ldGhvZDoiUE9TVCIsYWdlbnQ6ZSxoZWFkZXJzOmwsaG9zdG5hbWU6cixwYXRoOmAke299JHthfWAscG9ydDpzLHByb3RvY29sOmksY2E6dC5jYUNlcnRzfSwodD0+e3Qub24oImRhdGEiLCgoKT0+e30pKSx0Lm9uKCJlbmQiLCgoKT0+e30pKSx0LnNldEVuY29kaW5nKCJ1dGY4Iik7Y29uc3Qgbj10LmhlYWRlcnNbInJldHJ5LWFmdGVyIl0/P251bGwsZT10LmhlYWRlcnNbIngtc2VudHJ5LXJhdGUtbGltaXRzIl0/P251bGw7aCh7c3RhdHVzQ29kZTp0LnN0YXR1c0NvZGUsaGVhZGVyczp7InJldHJ5LWFmdGVyIjpuLCJ4LXNlbnRyeS1yYXRlLWxpbWl0cyI6QXJyYXkuaXNBcnJheShlKT9lWzBdfHxudWxsOmV9fSl9KSk7bS5vbigiZXJyb3IiLHApLGQucGlwZShtKX0pKX19KHQsdC5odHRwTW9kdWxlPz9vLGYpO3JldHVybiBybih0LG4pfSkpfSh7dXJsOihfbj15bi5kc24sd249eW4udHVubmVsLFNuPXluLnNka01ldGFkYXRhLnNkayx3bnx8YCR7ZnVuY3Rpb24odCl7cmV0dXJuYCR7ZnVuY3Rpb24odCl7Y29uc3Qgbj10LnByb3RvY29sP2Ake3QucHJvdG9jb2x9OmA6IiIsZT10LnBvcnQ/YDoke3QucG9ydH1gOiIiO3JldHVybmAke259Ly8ke3QuaG9zdH0ke2V9JHt0LnBhdGg/YC8ke3QucGF0aH1gOiIifS9hcGkvYH0odCl9JHt0LnByb2plY3RJZH0vZW52ZWxvcGUvYH0oX24pfT8ke25uKF9uLFNuKX1gKSxyZWNvcmREcm9wcGVkRXZlbnQ6KCk9Pnt9fSk7YXN5bmMgZnVuY3Rpb24gRW4oKXtpZihnbil7dm4oIlNlbmRpbmcgYWJub3JtYWwgc2Vzc2lvbiIpLGJ0KGduLHtzdGF0dXM6ImFibm9ybWFsIixhYm5vcm1hbF9tZWNoYW5pc206ImFucl9mb3JlZ3JvdW5kIn0pO2NvbnN0IHQ9ZnVuY3Rpb24odCxuLGUscil7Y29uc3Qgbz1mdChlKTtyZXR1cm4gb3Qoe3NlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLm8mJntzZGs6b30sLi4uISFyJiZuJiZ7ZHNuOkMobil9fSxbImFnZ3JlZ2F0ZXMiaW4gdD9be3R5cGU6InNlc3Npb25zIn0sdF06W3t0eXBlOiJzZXNzaW9uIn0sdC50b0pTT04oKV1dKX0oZ24seW4uZHNuLHluLnNka01ldGFkYXRhLHluLnR1bm5lbCk7dm4oSlNPTi5zdHJpbmdpZnkodCkpLGF3YWl0ICRuLnNlbmQodCk7dHJ5e24/LnBvc3RNZXNzYWdlKCJzZXNzaW9uLWVuZGVkIil9Y2F0Y2godCl7fX19ZnVuY3Rpb24geG4odCl7aWYoIXQpcmV0dXJuO2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybltdO2NvbnN0IG49QXJyYXkuZnJvbSh0KTtyZXR1cm4vc2VudHJ5V3JhcHBlZC8udGVzdChNKG4pLmZ1bmN0aW9ufHwiIikmJm4ucG9wKCksbi5yZXZlcnNlKCksVS50ZXN0KE0obikuZnVuY3Rpb258fCIiKSYmKG4ucG9wKCksVS50ZXN0KE0obikuZnVuY3Rpb258fCIiKSYmbi5wb3AoKSksbi5zbGljZSgwLEkpLm1hcCgodD0+KHsuLi50LGZpbGVuYW1lOnQuZmlsZW5hbWV8fE0obikuZmlsZW5hbWUsZnVuY3Rpb246dC5mdW5jdGlvbnx8UH0pKSl9KHQpO2lmKHluLmFwcFJvb3RQYXRoKWZvcihjb25zdCB0IG9mIG4pdC5maWxlbmFtZSYmKHQuZmlsZW5hbWU9WSh0LmZpbGVuYW1lLHluLmFwcFJvb3RQYXRoKSk7cmV0dXJuIG59YXN5bmMgZnVuY3Rpb24gTm4odCxuKXtpZihibilyZXR1cm47Ym49ITAsYXdhaXQgRW4oKSx2bigiU2VuZGluZyBldmVudCIpO2NvbnN0IGU9e2V2ZW50X2lkOnooKSxjb250ZXh0czp5bi5jb250ZXh0cyxyZWxlYXNlOnluLnJlbGVhc2UsZW52aXJvbm1lbnQ6eW4uZW52aXJvbm1lbnQsZGlzdDp5bi5kaXN0LHBsYXRmb3JtOiJub2RlIixsZXZlbDoiZXJyb3IiLGV4Y2VwdGlvbjp7dmFsdWVzOlt7dHlwZToiQXBwbGljYXRpb25Ob3RSZXNwb25kaW5nIix2YWx1ZTpgQXBwbGljYXRpb24gTm90IFJlc3BvbmRpbmcgZm9yIGF0IGxlYXN0ICR7eW4uYW5yVGhyZXNob2xkfSBtc2Asc3RhY2t0cmFjZTp7ZnJhbWVzOnhuKHQpfSxtZWNoYW5pc206e3R5cGU6IkFOUiJ9fV19LHRhZ3M6eW4uc3RhdGljVGFnc307biYmZnVuY3Rpb24odCxuKXtpZihYdCh0LG4pLCF0LmNvbnRleHRzPy50cmFjZSl7Y29uc3R7dHJhY2VJZDplLHNwYW5JZDpyLHBhcmVudFNwYW5JZDpvfT1uLnByb3BhZ2F0aW9uQ29udGV4dDt0LmNvbnRleHRzPXt0cmFjZTp7dHJhY2VfaWQ6ZSxzcGFuX2lkOnIscGFyZW50X3NwYW5faWQ6b30sLi4udC5jb250ZXh0c319fShlLG4pO2NvbnN0IHI9VnQoZSx5bi5kc24seW4uc2RrTWV0YWRhdGEseW4udHVubmVsKTt2bihKU09OLnN0cmluZ2lmeShyKSksYXdhaXQgJG4uc2VuZChyKSxhd2FpdCAkbi5mbHVzaCgyZTMpLHNldFRpbWVvdXQoKCgpPT57cHJvY2Vzcy5leGl0KDApfSksNWUzKX1sZXQga247aWYodm4oIlN0YXJ0ZWQiKSx5bi5jYXB0dXJlU3RhY2tUcmFjZSl7dm4oIkNvbm5lY3RpbmcgdG8gZGVidWdnZXIiKTtjb25zdCBuPW5ldyB0O24uY29ubmVjdFRvTWFpblRocmVhZCgpLHZuKCJDb25uZWN0ZWQgdG8gZGVidWdnZXIiKTtjb25zdCBlPW5ldyBNYXA7bi5vbigiRGVidWdnZXIuc2NyaXB0UGFyc2VkIiwodD0+e2Uuc2V0KHQucGFyYW1zLnNjcmlwdElkLHQucGFyYW1zLnVybCl9KSksbi5vbigiRGVidWdnZXIucGF1c2VkIiwodD0+e2lmKCJvdGhlciI9PT10LnBhcmFtcy5yZWFzb24pdHJ5e3ZuKCJEZWJ1Z2dlciBwYXVzZWQiKTtjb25zdCBzPVsuLi50LnBhcmFtcy5jYWxsRnJhbWVzXSxpPXluLmFwcFJvb3RQYXRoP2Z1bmN0aW9uKHQ9KHByb2Nlc3MuYXJndlsxXT9GKHByb2Nlc3MuYXJndlsxXSk6cHJvY2Vzcy5jd2QoKSksbj0iXFwiPT09byl7Y29uc3QgZT1uP21uKHQpOnQ7cmV0dXJuIHQ9PntpZighdClyZXR1cm47Y29uc3Qgbz1uP21uKHQpOnQ7bGV0e2RpcjpzLGJhc2U6aSxleHQ6Y309ci5wYXJzZShvKTsiLmpzIiE9PWMmJiIubWpzIiE9PWMmJiIuY2pzIiE9PWN8fChpPWkuc2xpY2UoMCwtMSpjLmxlbmd0aCkpLHN8fChzPSIuIik7Y29uc3QgdT1zLmxhc3RJbmRleE9mKCIvbm9kZV9tb2R1bGVzIik7aWYodT4tMSlyZXR1cm5gJHtzLnNsaWNlKHUrMTQpLnJlcGxhY2UoL1wvL2csIi4iKX06JHtpfWA7aWYocy5zdGFydHNXaXRoKGUpKXtsZXQgdD1zLnNsaWNlKGUubGVuZ3RoKzEpLnJlcGxhY2UoL1wvL2csIi4iKTtyZXR1cm4gdCYmKHQrPSI6IiksdCs9aSx0fXJldHVybiBpfX0oeW4uYXBwUm9vdFBhdGgpOigpPT57fSxjPXMubWFwKCh0PT5mdW5jdGlvbih0LG4sZSl7Y29uc3Qgcj1uP24ucmVwbGFjZSgvXmZpbGU6XC9cLy8sIiIpOnZvaWQgMCxvPXQubG9jYXRpb24uY29sdW1uTnVtYmVyP3QubG9jYXRpb24uY29sdW1uTnVtYmVyKzE6dm9pZCAwLHM9dC5sb2NhdGlvbi5saW5lTnVtYmVyP3QubG9jYXRpb24ubGluZU51bWJlcisxOnZvaWQgMDtyZXR1cm4gUih7ZmlsZW5hbWU6cixtb2R1bGU6ZShyKSxmdW5jdGlvbjp0LmZ1bmN0aW9uTmFtZXx8UCxjb2xubzpvLGxpbmVubzpzLGluX2FwcDpyP1gocik6dm9pZCAwfSl9KHQsZS5nZXQodC5sb2NhdGlvbi5zY3JpcHRJZCksaSkpKSx1PXNldFRpbWVvdXQoKCgpPT57Tm4oYykudGhlbihudWxsLCgoKT0+e3ZuKCJTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQuIil9KSl9KSw1ZTMpO24ucG9zdCgiUnVudGltZS5ldmFsdWF0ZSIse2V4cHJlc3Npb246Imdsb2JhbC5fX1NFTlRSWV9HRVRfU0NPUEVTX18oKTsiLHNpbGVudDohMCxyZXR1cm5CeVZhbHVlOiEwfSwoKHQsZSk9Pnt0JiZ2bihgRXJyb3IgZXhlY3V0aW5nIHNjcmlwdDogJyR7dC5tZXNzYWdlfSdgKSxjbGVhclRpbWVvdXQodSk7Y29uc3Qgcj1lJiZlLnJlc3VsdD9lLnJlc3VsdC52YWx1ZTp2b2lkIDA7bi5wb3N0KCJEZWJ1Z2dlci5yZXN1bWUiKSxuLnBvc3QoIkRlYnVnZ2VyLmRpc2FibGUiKSxObihjLHIpLnRoZW4obnVsbCwoKCk9Pnt2bigiU2VuZGluZyBBTlIgZXZlbnQgZmFpbGVkLiIpfSkpfSkpfWNhdGNoKHQpe3Rocm93IG4ucG9zdCgiRGVidWdnZXIucmVzdW1lIiksbi5wb3N0KCJEZWJ1Z2dlci5kaXNhYmxlIiksdH19KSksa249KCk9Pnt0cnl7bi5wb3N0KCJEZWJ1Z2dlci5lbmFibGUiLCgoKT0+e24ucG9zdCgiRGVidWdnZXIucGF1c2UiKX0pKX1jYXRjaCh0KXt9fX1jb25zdHtwb2xsOkNufT1mdW5jdGlvbih0LG4sZSxyKXtjb25zdCBvPXQoKTtsZXQgcz0hMSxpPSEwO3JldHVybiBzZXRJbnRlcnZhbCgoKCk9Pntjb25zdCB0PW8uZ2V0VGltZU1zKCk7ITE9PT1zJiZ0Pm4rZSYmKHM9ITAsaSYmcigpKSx0PG4rZSYmKHM9ITEpfSksMjApLHtwb2xsOigpPT57by5yZXNldCgpfSxlbmFibGVkOnQ9PntpPXR9fX0oKGZ1bmN0aW9uKCl7bGV0IHQ9cHJvY2Vzcy5ocnRpbWUoKTtyZXR1cm57Z2V0VGltZU1zOigpPT57Y29uc3RbbixlXT1wcm9jZXNzLmhydGltZSh0KTtyZXR1cm4gTWF0aC5mbG9vcigxZTMqbitlLzFlNil9LHJlc2V0OigpPT57dD1wcm9jZXNzLmhydGltZSgpfX19KSx5bi5wb2xsSW50ZXJ2YWwseW4uYW5yVGhyZXNob2xkLChmdW5jdGlvbigpe3ZuKCJXYXRjaGRvZyB0aW1lb3V0Iiksa24/KHZuKCJQYXVzaW5nIGRlYnVnZ2VyIHRvIGNhcHR1cmUgc3RhY2sgdHJhY2UiKSxrbigpKToodm4oIkNhcHR1cmluZyBldmVudCB3aXRob3V0IGEgc3RhY2sgdHJhY2UiKSxObigpLnRoZW4obnVsbCwoKCk9Pnt2bigiU2VuZGluZyBBTlIgZXZlbnQgZmFpbGVkIG9uIHdhdGNoZG9nIHRpbWVvdXQuIil9KSkpfSkpO24/Lm9uKCJtZXNzYWdlIiwodD0+e3Quc2Vzc2lvbiYmKGduPWd0KHQuc2Vzc2lvbikpLENuKCl9KSk7";function l(e,...t){a.logger.log(`[ANR] ${e}`,...t)}function d(){const e=i.getGlobalScope().getScopeData();return i.mergeScopeData(e,i.getIsolationScope().getScopeData()),i.mergeScopeData(e,i.getCurrentScope().getScopeData()),e.attachments=[],e.eventProcessors=[],e}const p=i.defineIntegration(((e={})=>{if(c.NODE_VERSION.major<16||16===c.NODE_VERSION.major&&c.NODE_VERSION.minor<17)throw new Error("ANR detection requires Node 16.17.0 or later");let t,p;return a.GLOBAL_OBJ.__SENTRY_GET_SCOPES__=d,{name:"Anr",startWorker:()=>{t||p&&(t=async function(e,t){const c=e.getDsn();if(!c)return()=>{};const d=await async function(e){let t={message:"ANR"};const n={};for(const r of e.getEventProcessors()){if(null===t)break;t=await r(t,n)}return r([t,"optionalAccess",e=>e.contexts])||{}}(e);o([d,"access",e=>e.app,"optionalAccess",e=>delete e.app_memory]),o([d,"access",e=>e.device,"optionalAccess",e=>delete e.free_memory]);const p=e.getOptions(),h=e.getSdkMetadata()||{};h.sdk&&(h.sdk.integrations=p.integrations.map((e=>e.name)));const f={debug:a.logger.isEnabled(),dsn:c,tunnel:p.tunnel,environment:p.environment||"production",release:p.release,dist:p.dist,sdkMetadata:h,appRootPath:t.appRootPath,pollInterval:t.pollInterval||50,anrThreshold:t.anrThreshold||5e3,captureStackTrace:!!t.captureStackTrace,staticTags:t.staticTags||{},contexts:d};if(f.captureStackTrace){const e=await Promise.resolve().then(n.t.bind(n,41592,23));e.url()||e.open(0)}const m=new s.Worker(new URL(`data:application/javascript;base64,${u}`),{workerData:f,execArgv:[]});process.on("exit",(()=>{m.terminate()}));const _=setInterval((()=>{try{const e=i.getCurrentScope().getSession(),t=e?{...e,toJSON:void 0}:void 0;m.postMessage({session:t})}catch(e){}}),f.pollInterval);return _.unref(),m.on("message",(e=>{"session-ended"===e&&(l("ANR event sent from ANR worker. Clearing session in this thread."),i.getCurrentScope().setSession(void 0))})),m.once("error",(e=>{clearInterval(_),l("ANR worker error",e)})),m.once("exit",(e=>{clearInterval(_),l("ANR worker exit",e)})),m.unref(),()=>{m.terminate(),clearInterval(_)}}(p,e))},stopWorker:()=>{t&&t.then((e=>{e(),t=void 0}))},setup(e){p=e,setImmediate((()=>this.startWorker()))}}}));t.anrIntegration=p,t.base64WorkerScript=u},77932:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(49632),o=n(69780),s=n(44072),i=o.defineIntegration((()=>({name:"Console",setup(e){s.addConsoleInstrumentationHandler((({args:t,level:n})=>{o.getClient()===e&&o.addBreadcrumb({category:"console",level:s.severityLevelFromString(n),message:r.format.apply(void 0,t)},{input:[...t],level:n})}))}})));t.consoleIntegration=i},13152:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(81096),s=n(80662),i=n(45672),a=n(18864),c=n(49632),u=n(69780),l=c.promisify(s.readFile),d=c.promisify(s.readdir),p=u.defineIntegration(((e={})=>{let t;const n={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0,...e};return{name:"Context",processEvent:e=>async function(e){void 0===t&&(t=async function(){const e={};if(n.os&&(e.os=await async function(){const e=i.platform();switch(e){case"darwin":return async function(){const e={kernel_version:i.release(),name:"Mac OS X",version:"10."+(Number(i.release().split(".")[0])-4)};try{const t=await new Promise(((e,t)=>{o.execFile("/usr/bin/sw_vers",((n,r)=>{n?t(n):e(r)}))}));e.name=S(/^ProductName:\s+(.*)$/m,t),e.version=S(/^ProductVersion:\s+(.*)$/m,t),e.build=S(/^BuildVersion:\s+(.*)$/m,t)}catch(e){}return e}();case"linux":return async function(){const e={kernel_version:i.release(),name:"Linux"};try{const t=await d("/etc"),n=_.find((e=>t.includes(e.name)));if(!n)return e;const o=a.join("/etc",n.name),s=(await l(o,{encoding:"utf-8"})).toLowerCase(),{distros:i}=n;e.name=i.find((e=>s.indexOf(b(e))>=0))||i[0];const c=b(e.name);e.version=r([g,"access",e=>e[c],"optionalCall",e=>e(s)])}catch(e){}return e}();default:return{name:m[e]||e,version:i.release()}}}()),n.app&&(e.app=h()),n.device&&(e.device=f(n.device)),n.culture){const t=function(){try{if("string"!=typeof process.versions.icu)return;const e=new Date(9e8);if("enero"===new Intl.DateTimeFormat("es",{month:"long"}).format(e)){const e=Intl.DateTimeFormat().resolvedOptions();return{locale:e.locale,timezone:e.timeZone}}}catch(e){}}();t&&(e.culture=t)}return n.cloudResource&&(e.cloud_resource=process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0),e}());const s=function(e){if(r([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),r([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.free_memory])&&"function"==typeof process.availableMemory){const t=r([process,"access",e=>e.availableMemory,"optionalCall",e=>e()]);null!=t&&(e.app.free_memory=t)}return r([e,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(e.device.free_memory=i.freemem()),e}(await t);return e.contexts={...e.contexts,app:{...s.app,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.app])},os:{...s.os,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.os])},device:{...s.device,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.device])},culture:{...s.culture,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.culture])},cloud_resource:{...s.cloud_resource,...r([e,"access",e=>e.contexts,"optionalAccess",e=>e.cloud_resource])}},e}(e)}}));function h(){const e=process.memoryUsage().rss,t={app_start_time:new Date(Date.now()-1e3*process.uptime()).toISOString(),app_memory:e};if("function"==typeof process.availableMemory){const e=r([process,"access",e=>e.availableMemory,"optionalCall",e=>e()]);null!=e&&(t.free_memory=e)}return t}function f(e){const t={};let n;try{n=i.uptime&&i.uptime()}catch(e){}if("number"==typeof n&&(t.boot_time=new Date(Date.now()-1e3*n).toISOString()),t.arch=i.arch(),(!0===e||e.memory)&&(t.memory_size=i.totalmem(),t.free_memory=i.freemem()),!0===e||e.cpu){const e=i.cpus(),n=e&&e[0];n&&(t.processor_count=e.length,t.cpu_description=n.model,t.processor_frequency=n.speed)}return t}const m={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},_=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],g={alpine:e=>e,arch:e=>S(/distrib_release=(.*)/,e),centos:e=>S(/release ([^ ]+)/,e),debian:e=>e,fedora:e=>S(/release (..)/,e),mint:e=>S(/distrib_release=(.*)/,e),red:e=>S(/release ([^ ]+)/,e),suse:e=>S(/VERSION = (.*)\n/,e),ubuntu:e=>S(/distrib_release=(.*)/,e)};function S(e,t){const n=e.exec(t);return n?n[1]:void 0}function b(e){return e.split(" ")[0].toLowerCase()}t.getAppContext=h,t.getDeviceContext=f,t.nodeContextIntegration=p,t.readDirAsync=d,t.readFileAsync=l},75740:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(80662),s=n(1520),i=n(69780),a=n(44072),c=n(91796),u=new a.LRUMap(10),l=new a.LRUMap(20);function d(e,t,n){const r=e.get(t);return void 0===r?(e.set(t,n),n):r}function p(e){return void 0!==e.lineno&&e.lineno>1e4||void 0!==e.colno&&e.colno>1e3}function h(e,t){const n=u.get(e);if(void 0===n)return!1;for(let e=t[0];e<=t[1];e++)if(void 0===n[e])return!1;return!0}function f(e,t){if(!e.length)return[];let n=0;const r=e[0];if("number"!=typeof r)return[];let o=E(r,t);const s=[];for(;;){if(n===e.length-1){s.push(o);break}const r=e[n+1];if("number"!=typeof r)break;r<=o[1]?o[1]=r+t:(s.push(o),o=E(r,t)),n++}return s}function m(e,t,n){return new Promise(((r,i)=>{const u=o.createReadStream(e),d=s.createInterface({input:u});let p=0,h=0;const f=t[h];if(void 0===f)return void r();let m=f[0],_=f[1];function g(t){l.set(e,1),c.DEBUG_BUILD&&a.logger.error(`Failed to read file: ${e}. Error: ${t}`),d.close(),d.removeAllListeners(),r()}u.on("error",g),d.on("error",g),d.on("close",r),d.on("line",(e=>{if(p++,!(p<m)&&(n[p]=a.snipLine(e,0),p>=_)){if(h===t.length-1)return d.close(),void d.removeAllListeners();h++;const e=t[h];if(void 0===e)return d.close(),void d.removeAllListeners();m=e[0],_=e[1]}}))}))}function _(e,t,n){for(const r of e)if(r.filename&&void 0===r.context_line&&"number"==typeof r.lineno){const e=n.get(r.filename);if(void 0===e)continue;S(r.lineno,r,t,e)}}function g(e){delete e.pre_context,delete e.context_line,delete e.post_context}function S(e,t,n,r){if(void 0===t.lineno||void 0===r)return void(c.DEBUG_BUILD&&a.logger.error("Cannot resolve context for frame with no lineno or file contents"));t.pre_context=[];for(let o=b(e,n);o<e;o++){const e=r[o];if(void 0===e)return g(t),void(c.DEBUG_BUILD&&a.logger.error(`Could not find line ${o} in file ${t.filename}`));t.pre_context.push(e)}if(void 0===r[e])return g(t),void(c.DEBUG_BUILD&&a.logger.error(`Could not find line ${e} in file ${t.filename}`));t.context_line=r[e];const o=y(e,n);t.post_context=[];for(let n=e+1;n<=o;n++){const e=r[n];if(void 0===e)break;t.post_context.push(e)}}function b(e,t){return Math.max(1,e-t)}function y(e,t){return e+t}function E(e,t){return[b(e,t),y(e,t)]}const v=(e={})=>{const t=void 0!==e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>async function(e,t){const n={};if(t>0&&r([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const t of e.exception.values)if(r([t,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e.length]))for(let e=t.stacktrace.frames.length-1;e>=0;e--){const s=t.stacktrace.frames[e],i=r([s,"optionalAccess",e=>e.filename]);!s||"string"!=typeof i||"number"!=typeof s.lineno||(o=i).startsWith("node:")||o.endsWith(".min.js")||o.endsWith(".min.cjs")||o.endsWith(".min.mjs")||o.startsWith("data:")||p(s)||(n[i]||(n[i]=[]),n[i].push(s.lineno))}var o;const s=Object.keys(n);if(0==s.length)return e;const i=[];for(const e of s){if(l.get(e))continue;const r=n[e];if(!r)continue;r.sort(((e,t)=>e-t));const o=f(r,t);if(o.every((t=>h(e,t))))continue;const s=d(u,e,{});i.push(m(e,o,s))}if(await Promise.all(i).catch((()=>{c.DEBUG_BUILD&&a.logger.log("Failed to read one or more source files and resolve context lines")})),t>0&&r([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const n of e.exception.values)n.stacktrace&&n.stacktrace.frames&&n.stacktrace.frames.length>0&&_(n.stacktrace.frames,t,u);return e}(e,t)}},T=i.defineIntegration(v);t.MAX_CONTEXTLINES_COLNO=1e3,t.MAX_CONTEXTLINES_LINENO=1e4,t._contextLinesIntegration=v,t.addContextToFrame=S,t.contextLinesIntegration=T},59764:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(7676),s=n(40100),i=n(69780),a=n(44072),c=n(8416),u=n(25112),l=n(36636),d="Http";let p,h={};const f=Object.assign((function(){if(p)return;const e=h._instrumentation||o.HttpInstrumentation;p=new e({...r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e._experimentalConfig]),ignoreOutgoingRequestHook:e=>{const t=l.getRequestUrl(e);if(!t)return!1;if(i.isSentryRequestUrl(t,s.getClient()))return!0;const n=h.ignoreOutgoingRequests;return!(!n||!n(t,e))},ignoreIncomingRequestHook:e=>{const t=e.url,n=r([e,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()]);if("OPTIONS"===n||"HEAD"===n)return!0;const o=h.ignoreIncomingRequests;return!!(t&&o&&o(t,e))},requireParentforOutgoingSpans:!1,requireParentforIncomingSpans:!1,requestHook:(e,t)=>{if(u.addOriginToSpan(e,"auto.http.otel.http"),_(t))return void r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.requestHook,"optionalCall",n=>n(e,t)]);const n=i.getCapturedScopesOnSpan(e),o=(n.isolationScope||i.getIsolationScope()).clone(),l=n.scope||i.getCurrentScope();o.setSDKProcessingMetadata({request:t});const d=s.getClient();d&&d.getOptions().autoSessionTracking&&o.setRequestSession({status:"ok"}),c.setIsolationScope(o),i.setCapturedScopesOnSpan(e,l,o);const p=`${(t.method||"GET").toUpperCase()} ${a.stripUrlQueryAndFragment(t.url||"/")}`;o.setTransactionName(p),r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.requestHook,"optionalCall",n=>n(e,t)])},responseHook:(e,t)=>{const n=s.getClient();n&&n.getOptions().autoSessionTracking&&setImmediate((()=>{n._captureRequestSession()})),r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.responseHook,"optionalCall",n=>n(e,t)])},applyCustomAttributesOnSpan:(e,t,n)=>{(void 0===h.breadcrumbs||h.breadcrumbs)&&function(e,t){if(!_(e))return;const n=function(e){try{const t=e.getHeader("host")||e.host,n=new URL(e.path,`${e.protocol}//${t}`),r=a.parseUrl(n.toString()),o={url:a.getSanitizedUrlString(r),"http.method":e.method||"GET"};return r.search&&(o["http.query"]=r.search),r.hash&&(o["http.fragment"]=r.hash),o}catch(e){return{}}}(e);i.addBreadcrumb({category:"http",data:{status_code:t.statusCode,...n},type:"http"},{event:"response",request:e,response:t})}(t,n),r([h,"access",e=>e.instrumentation,"optionalAccess",e=>e.applyCustomAttributesOnSpan,"optionalCall",r=>r(e,t,n)])}}),s.addOpenTelemetryInstrumentation(p)}),{id:d}),m=i.defineIntegration(((e={})=>({name:d,setupOnce(){h=e,f()}})));function _(e){return"outputData"in e&&"outputSize"in e&&!("client"in e)&&!("statusCode"in e)}t.httpIntegration=m,t.instrumentHttp=f},28332:(e,t)=>{function n(e){return void 0!==e&&(0===e.length||"?"===e||"<anonymous>"===e)}function r(e){if(void 0!==e)return e.slice(-10).reduce(((e,t)=>`${e},${t.function},${t.lineno},${t.colno}`),"")}Object.defineProperty(t,"__esModule",{value:!0}),t.createRateLimiter=function(e,t,n){let r=0,o=5,s=0;return setInterval((()=>{0===s?r>e&&(o*=2,n(o),o>86400&&(o=86400),s=o):(s-=1,0===s&&t()),r=0}),1e3).unref(),()=>{r+=1}},t.functionNamesMatch=function(e,t){return e===t||n(e)&&n(t)},t.hashFrames=r,t.hashFromStack=function(e,t){if(void 0!==t)return r(e(t,1))},t.isAnonymous=n},48568:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(63672),o=n(93544),s=n(53453);t.localVariablesIntegration=(e={})=>r.NODE_VERSION.major<19?s.localVariablesSyncIntegration(e):o.localVariablesAsyncIntegration(e)},93544:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(31076),s=n(69780),i=n(44072),a=n(28332),c="LyohIEBzZW50cnkvbm9kZSA4LjI1LjAgKGVmYWRiZjIpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyBlfWZyb20ibm9kZTppbnNwZWN0b3IvcHJvbWlzZXMiO2ltcG9ydHt3b3JrZXJEYXRhIGFzIG4scGFyZW50UG9ydCBhcyB0fWZyb20ibm9kZTp3b3JrZXJfdGhyZWFkcyI7aW1wb3J0e3Bvc2l4IGFzIG8sc2VwIGFzIHJ9ZnJvbSJub2RlOnBhdGgiO2NvbnN0IGk9NTAscz0iPyIsYz0vXChlcnJvcjogKC4qKVwpLyxhPS9jYXB0dXJlTWVzc2FnZXxjYXB0dXJlRXhjZXB0aW9uLztmdW5jdGlvbiB1KGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfHx7fX1jb25zdCBmPS9eKFxTKzpcXHxcLz8pKFtcc1xTXSo/KSgoPzpcLnsxLDJ9fFteL1xcXSs/fCkoXC5bXi4vXFxdKnwpKSg/OlsvXFxdKikkLztmdW5jdGlvbiBsKGUpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3Qgbj1lLmxlbmd0aD4xMDI0P2A8dHJ1bmNhdGVkPiR7ZS5zbGljZSgtMTAyNCl9YDplLHQ9Zi5leGVjKG4pO3JldHVybiB0P3Quc2xpY2UoMSk6W119KGUpLHQ9blswXXx8IiI7bGV0IG89blsxXTtyZXR1cm4gdHx8bz8obyYmKG89by5zbGljZSgwLG8ubGVuZ3RoLTEpKSx0K28pOiIuIn1mdW5jdGlvbiBkKGUsbj0hMSl7cmV0dXJuIShufHxlJiYhZS5zdGFydHNXaXRoKCIvIikmJiFlLm1hdGNoKC9eW0EtWl06LykmJiFlLnN0YXJ0c1dpdGgoIi4iKSYmIWUubWF0Y2goL15bYS16QS1aXShbYS16QS1aMC05LlwtK10pKjpcL1wvLykpJiZ2b2lkIDAhPT1lJiYhZS5pbmNsdWRlcygibm9kZV9tb2R1bGVzLyIpfWZ1bmN0aW9uIHAoZSl7Y29uc3Qgbj0vXlxzKlstXXs0LH0kLyx0PS9hdCAoPzphc3luYyApPyg/OiguKz8pXHMrXCgpPyg/OiguKyk6KFxkKyk6KFxkKyk/fChbXildKykpXCk/LztyZXR1cm4gbz0+e2NvbnN0IHI9by5tYXRjaCh0KTtpZihyKXtsZXQgbix0LG8saSxjO2lmKHJbMV0pe289clsxXTtsZXQgZT1vLmxhc3RJbmRleE9mKCIuIik7aWYoIi4iPT09b1tlLTFdJiZlLS0sZT4wKXtuPW8uc2xpY2UoMCxlKSx0PW8uc2xpY2UoZSsxKTtjb25zdCByPW4uaW5kZXhPZigiLk1vZHVsZSIpO3I+MCYmKG89by5zbGljZShyKzEpLG49bi5zbGljZSgwLHIpKX1pPXZvaWQgMH10JiYoaT1uLGM9dCksIjxhbm9ueW1vdXM+Ij09PXQmJihjPXZvaWQgMCxvPXZvaWQgMCksdm9pZCAwPT09byYmKGM9Y3x8cyxvPWk/YCR7aX0uJHtjfWA6Yyk7bGV0IGE9clsyXSYmclsyXS5zdGFydHNXaXRoKCJmaWxlOi8vIik/clsyXS5zbGljZSg3KTpyWzJdO2NvbnN0IHU9Im5hdGl2ZSI9PT1yWzVdO3JldHVybiBhJiZhLm1hdGNoKC9cL1tBLVpdOi8pJiYoYT1hLnNsaWNlKDEpKSxhfHwhcls1XXx8dXx8KGE9cls1XSkse2ZpbGVuYW1lOmEsbW9kdWxlOmU/ZShhKTp2b2lkIDAsZnVuY3Rpb246byxsaW5lbm86ZyhyWzNdKSxjb2xubzpnKHJbNF0pLGluX2FwcDpkKGF8fCIiLHUpfX1pZihvLm1hdGNoKG4pKXJldHVybntmaWxlbmFtZTpvfX19ZnVuY3Rpb24gZyhlKXtyZXR1cm4gcGFyc2VJbnQoZXx8IiIsMTApfHx2b2lkIDB9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZS5yZXBsYWNlKC9eW0EtWl06LywiIikucmVwbGFjZSgvXFwvZywiLyIpfWNvbnN0IGI9biwkPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IG49ZS5zb3J0KCgoZSxuKT0+ZVswXS1uWzBdKSkubWFwKChlPT5lWzFdKSk7cmV0dXJuKGUsdD0wLG89MCk9Pntjb25zdCByPVtdLGY9ZS5zcGxpdCgiXG4iKTtmb3IobGV0IGU9dDtlPGYubGVuZ3RoO2UrKyl7Y29uc3QgdD1mW2VdO2lmKHQubGVuZ3RoPjEwMjQpY29udGludWU7Y29uc3Qgcz1jLnRlc3QodCk/dC5yZXBsYWNlKGMsIiQxIik6dDtpZighcy5tYXRjaCgvXFMqRXJyb3I6IC8pKXtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCBuPWUocyk7aWYobil7ci5wdXNoKG4pO2JyZWFrfX1pZihyLmxlbmd0aD49aStvKWJyZWFrfX1yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKXJldHVybltdO2NvbnN0IG49QXJyYXkuZnJvbShlKTsvc2VudHJ5V3JhcHBlZC8udGVzdCh1KG4pLmZ1bmN0aW9ufHwiIikmJm4ucG9wKCk7bi5yZXZlcnNlKCksYS50ZXN0KHUobikuZnVuY3Rpb258fCIiKSYmKG4ucG9wKCksYS50ZXN0KHUobikuZnVuY3Rpb258fCIiKSYmbi5wb3AoKSk7cmV0dXJuIG4uc2xpY2UoMCxpKS5tYXAoKGU9Pih7Li4uZSxmaWxlbmFtZTplLmZpbGVuYW1lfHx1KG4pLmZpbGVuYW1lLGZ1bmN0aW9uOmUuZnVuY3Rpb258fHN9KSkpfShyLnNsaWNlKG8pKX19KFs5MCxwKGZ1bmN0aW9uKGU9KHByb2Nlc3MuYXJndlsxXT9sKHByb2Nlc3MuYXJndlsxXSk6cHJvY2Vzcy5jd2QoKSksbj0iXFwiPT09cil7Y29uc3QgdD1uP20oZSk6ZTtyZXR1cm4gZT0+e2lmKCFlKXJldHVybjtjb25zdCByPW4/bShlKTplO2xldHtkaXI6aSxiYXNlOnMsZXh0OmN9PW8ucGFyc2Uocik7Ii5qcyIhPT1jJiYiLm1qcyIhPT1jJiYiLmNqcyIhPT1jfHwocz1zLnNsaWNlKDAsLTEqYy5sZW5ndGgpKSxpfHwoaT0iLiIpO2NvbnN0IGE9aS5sYXN0SW5kZXhPZigiL25vZGVfbW9kdWxlcyIpO2lmKGE+LTEpcmV0dXJuYCR7aS5zbGljZShhKzE0KS5yZXBsYWNlKC9cLy9nLCIuIil9OiR7c31gO2lmKGkuc3RhcnRzV2l0aCh0KSl7bGV0IGU9aS5zbGljZSh0Lmxlbmd0aCsxKS5yZXBsYWNlKC9cLy9nLCIuIik7cmV0dXJuIGUmJihlKz0iOiIpLGUrPXMsZX1yZXR1cm4gc319KGIuYmFzZVBhdGgpKV0pO2Z1bmN0aW9uIHYoLi4uZSl7Yi5kZWJ1ZyYmY29uc29sZS5sb2coIltMb2NhbFZhcmlhYmxlcyBXb3JrZXJdIiwuLi5lKX1hc3luYyBmdW5jdGlvbiB3KGUsbix0LG8pe2NvbnN0IHI9YXdhaXQgZS5wb3N0KCJSdW50aW1lLmdldFByb3BlcnRpZXMiLHtvYmplY3RJZDpuLG93blByb3BlcnRpZXM6ITB9KTtvW3RdPXIucmVzdWx0LmZpbHRlcigoZT0+Imxlbmd0aCIhPT1lLm5hbWUmJiFpc05hTihwYXJzZUludChlLm5hbWUsMTApKSkpLnNvcnQoKChlLG4pPT5wYXJzZUludChlLm5hbWUsMTApLXBhcnNlSW50KG4ubmFtZSwxMCkpKS5tYXAoKGU9PmUudmFsdWU/LnZhbHVlKSl9YXN5bmMgZnVuY3Rpb24geShlLG4sdCxvKXtjb25zdCByPWF3YWl0IGUucG9zdCgiUnVudGltZS5nZXRQcm9wZXJ0aWVzIix7b2JqZWN0SWQ6bixvd25Qcm9wZXJ0aWVzOiEwfSk7b1t0XT1yLnJlc3VsdC5tYXAoKGU9PltlLm5hbWUsZS52YWx1ZT8udmFsdWVdKSkucmVkdWNlKCgoZSxbbix0XSk9PihlW25dPXQsZSkpLHt9KX1mdW5jdGlvbiBoKGUsbil7ZS52YWx1ZSYmKCJ2YWx1ZSJpbiBlLnZhbHVlP3ZvaWQgMD09PWUudmFsdWUudmFsdWV8fG51bGw9PT1lLnZhbHVlLnZhbHVlP25bZS5uYW1lXT1gPCR7ZS52YWx1ZS52YWx1ZX0+YDpuW2UubmFtZV09ZS52YWx1ZS52YWx1ZToiZGVzY3JpcHRpb24iaW4gZS52YWx1ZSYmImZ1bmN0aW9uIiE9PWUudmFsdWUudHlwZT9uW2UubmFtZV09YDwke2UudmFsdWUuZGVzY3JpcHRpb259PmA6InVuZGVmaW5lZCI9PT1lLnZhbHVlLnR5cGUmJihuW2UubmFtZV09Ijx1bmRlZmluZWQ+IikpfWFzeW5jIGZ1bmN0aW9uIFAoZSxuKXtjb25zdCB0PWF3YWl0IGUucG9zdCgiUnVudGltZS5nZXRQcm9wZXJ0aWVzIix7b2JqZWN0SWQ6bixvd25Qcm9wZXJ0aWVzOiEwfSksbz17fTtmb3IoY29uc3QgbiBvZiB0LnJlc3VsdClpZihuPy52YWx1ZT8ub2JqZWN0SWQmJiJBcnJheSI9PT1uPy52YWx1ZS5jbGFzc05hbWUpe2NvbnN0IHQ9bi52YWx1ZS5vYmplY3RJZDthd2FpdCB3KGUsdCxuLm5hbWUsbyl9ZWxzZSBpZihuPy52YWx1ZT8ub2JqZWN0SWQmJiJPYmplY3QiPT09bj8udmFsdWU/LmNsYXNzTmFtZSl7Y29uc3QgdD1uLnZhbHVlLm9iamVjdElkO2F3YWl0IHkoZSx0LG4ubmFtZSxvKX1lbHNlIG4/LnZhbHVlJiZoKG4sbyk7cmV0dXJuIG99bGV0IHg7KGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3Qgbj1uZXcgZTtuLmNvbm5lY3RUb01haW5UaHJlYWQoKSx2KCJDb25uZWN0ZWQgdG8gbWFpbiB0aHJlYWQiKTtsZXQgbz0hMTtuLm9uKCJEZWJ1Z2dlci5yZXN1bWVkIiwoKCk9PntvPSExfSkpLG4ub24oIkRlYnVnZ2VyLnBhdXNlZCIsKGU9PntvPSEwLGFzeW5jIGZ1bmN0aW9uKGUsbix7cmVhc29uOm8sZGF0YTpyLGNhbGxGcmFtZXM6aX0pe2lmKCJleGNlcHRpb24iIT09byYmInByb21pc2VSZWplY3Rpb24iIT09bylyZXR1cm47eD8uKCk7Y29uc3Qgcz1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PW4pcmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUpcmV0dXJuIGUuc2xpY2UoLTEwKS5yZWR1Y2UoKChlLG4pPT5gJHtlfSwke24uZnVuY3Rpb259LCR7bi5saW5lbm99LCR7bi5jb2xub31gKSwiIil9KGUobiwxKSl9KG4scj8uZGVzY3JpcHRpb24pO2lmKG51bGw9PXMpcmV0dXJuO2NvbnN0IGM9W107Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKyspe2NvbnN0e3Njb3BlQ2hhaW46dCxmdW5jdGlvbk5hbWU6byx0aGlzOnJ9PWlbbl0scz10LmZpbmQoKGU9PiJsb2NhbCI9PT1lLnR5cGUpKSxhPSJnbG9iYWwiIT09ci5jbGFzc05hbWUmJnIuY2xhc3NOYW1lP2Ake3IuY2xhc3NOYW1lfS4ke299YDpvO2lmKHZvaWQgMD09PXM/Lm9iamVjdC5vYmplY3RJZCljW25dPXtmdW5jdGlvbjphfTtlbHNle2NvbnN0IHQ9YXdhaXQgUChlLHMub2JqZWN0Lm9iamVjdElkKTtjW25dPXtmdW5jdGlvbjphLHZhcnM6dH19fXQ/LnBvc3RNZXNzYWdlKHtleGNlcHRpb25IYXNoOnMsZnJhbWVzOmN9KX0obiwkLGUucGFyYW1zKS50aGVuKCgoKT0+bz9uLnBvc3QoIkRlYnVnZ2VyLnJlc3VtZSIpOlByb21pc2UucmVzb2x2ZSgpKSwoZT0+e30pKX0pKSxhd2FpdCBuLnBvc3QoIkRlYnVnZ2VyLmVuYWJsZSIpO2NvbnN0IHI9ITEhPT1iLmNhcHR1cmVBbGxFeGNlcHRpb25zO2lmKGF3YWl0IG4ucG9zdCgiRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMiLHtzdGF0ZTpyPyJhbGwiOiJ1bmNhdWdodCJ9KSxyKXtjb25zdCBlPWIubWF4RXhjZXB0aW9uc1BlclNlY29uZHx8NTA7eD1mdW5jdGlvbihlLG4sdCl7bGV0IG89MCxyPTUsaT0wO3JldHVybiBzZXRJbnRlcnZhbCgoKCk9PnswPT09aT9vPmUmJihyKj0yLHQocikscj44NjQwMCYmKHI9ODY0MDApLGk9cik6KGktPTEsMD09PWkmJm4oKSksbz0wfSksMWUzKS51bnJlZigpLCgpPT57bys9MX19KGUsKGFzeW5jKCk9Pnt2KCJSYXRlLWxpbWl0IGxpZnRlZC4iKSxhd2FpdCBuLnBvc3QoIkRlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zIix7c3RhdGU6ImFsbCJ9KX0pLChhc3luYyBlPT57dihgUmF0ZS1saW1pdCBleGNlZWRlZC4gRGlzYWJsaW5nIGNhcHR1cmluZyBvZiBjYXVnaHQgZXhjZXB0aW9ucyBmb3IgJHtlfSBzZWNvbmRzLmApLGF3YWl0IG4ucG9zdCgiRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMiLHtzdGF0ZToidW5jYXVnaHQifSl9KSl9fSkoKS5jYXRjaCgoZT0+e3YoIkZhaWxlZCB0byBzdGFydCBkZWJ1Z2dlciIsZSl9KSksc2V0SW50ZXJ2YWwoKCgpPT57fSksMWU0KTs=";function u(...e){i.logger.log("[LocalVariables]",...e)}const l=s.defineIntegration(((e={})=>{const t=new i.LRUMap(20);function s(e){const n=a.hashFrames(r([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===n)return;const o=t.remove(n);if(void 0===o)return;const s=(r([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])||[]).filter((e=>"new Promise"!==e.function));for(let e=0;e<s.length;e++){const t=s.length-e-1,n=o[e],r=s[t];if(!r||!n)break;void 0!==n.vars&&!1!==r.in_app&&a.functionNamesMatch(r.function,n.function)&&(r.vars=n.vars)}}return{name:"LocalVariablesAsync",setup(r){if(!r.getOptions().includeLocalVariables)return;const s={...e,debug:i.logger.isEnabled()};(async function(){const e=await Promise.resolve().then(n.t.bind(n,41592,23));e.url()||e.open(0)})().then((()=>{try{!function(e){const n=new o.Worker(new URL(`data:application/javascript;base64,${c}`),{workerData:e,execArgv:[]});process.on("exit",(()=>{n.terminate()})),n.on("message",(({exceptionHash:e,frames:n})=>{t.set(e,n)})),n.once("error",(e=>{u("Worker error",e)})),n.once("exit",(e=>{u("Worker exit",e)})),n.unref()}(s)}catch(e){i.logger.error("Failed to start worker",e)}}),(e=>{i.logger.error("Failed to start inspector",e)}))},processEvent:e=>function(e){for(const t of r([e,"access",e=>e.exception,"optionalAccess",e=>e.values])||[])s(t);return e}(e)}}));t.base64WorkerScript=c,t.localVariablesAsyncIntegration=l},53453:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(69780),s=n(44072),i=n(63672),a=n(28332);function c(e){let t=[],n=!1;function r(r){t=[],n||(n=!0,e(r))}return t.push(r),{add:function(e){t.push(e)},next:function(e){const n=t.pop()||r;try{n(e)}catch(t){r(e)}}}}class u{constructor(e){this._session=e}static async create(e){if(e)return e;const t=await Promise.resolve().then(n.t.bind(n,41592,23));return new u(new t.Session)}configureAndConnect(e,t){this._session.connect(),this._session.on("Debugger.paused",(t=>{e(t,(()=>{this._session.post("Debugger.resume")}))})),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:t?"all":"uncaught"})}setPauseOnExceptions(e){this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}getLocalVariables(e,t){this._getProperties(e,(e=>{const{add:n,next:o}=c(t);for(const t of e)if(r([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Array"===r([t,"optionalAccess",e=>e.value,"access",e=>e.className])){const e=t.value.objectId;n((n=>this._unrollArray(e,t.name,n,o)))}else if(r([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Object"===r([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.className])){const e=t.value.objectId;n((n=>this._unrollObject(e,t.name,n,o)))}else r([t,"optionalAccess",e=>e.value])&&n((e=>this._unrollOther(t,e,o)));o({})}))}_getProperties(e,t){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},((e,n)=>{t(e?[]:n.result)}))}_unrollArray(e,t,n,o){this._getProperties(e,(e=>{n[t]=e.filter((e=>"length"!==e.name&&!isNaN(parseInt(e.name,10)))).sort(((e,t)=>parseInt(e.name,10)-parseInt(t.name,10))).map((e=>r([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value]))),o(n)}))}_unrollObject(e,t,n,o){this._getProperties(e,(e=>{n[t]=e.map((e=>[e.name,r([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])])).reduce(((e,[t,n])=>(e[t]=n,e)),{}),o(n)}))}_unrollOther(e,t,n){e.value&&("value"in e.value?void 0===e.value.value||null===e.value.value?t[e.name]=`<${e.value.value}>`:t[e.name]=e.value.value:"description"in e.value&&"function"!==e.value.type?t[e.name]=`<${e.value.description}>`:"undefined"===e.value.type&&(t[e.name]="<undefined>")),n(t)}}const l=o.defineIntegration(((e={},t)=>{const n=new s.LRUMap(20);let l,d=!1;function p(e){const t=a.hashFrames(r([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===t)return;const o=n.remove(t);if(void 0===o)return;const s=(r([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])||[]).filter((e=>"new Promise"!==e.function));for(let e=0;e<s.length;e++){const t=s.length-e-1,n=o[e],r=s[t];if(!r||!n)break;void 0!==n.vars&&!1!==r.in_app&&a.functionNamesMatch(r.function,n.function)&&(r.vars=n.vars)}}return{name:"LocalVariables",setupOnce(){const p=o.getClient(),h=r([p,"optionalAccess",e=>e.getOptions,"call",e=>e()]);r([h,"optionalAccess",e=>e.includeLocalVariables])&&(i.NODE_MAJOR<18?s.logger.log("The `LocalVariables` integration is only supported on Node >= v18."):u.create(t).then((t=>{const o=!1!==e.captureAllExceptions;if(t.configureAndConnect(((e,o)=>function(e,{params:{reason:o,data:s,callFrames:i}},u){if("exception"!==o&&"promiseRejection"!==o)return void u();r([l,"optionalCall",e=>e()]);const d=a.hashFromStack(e,r([s,"optionalAccess",e=>e.description]));if(null==d)return void u();const{add:p,next:h}=c((e=>{n.set(d,e),u()}));for(let e=0;e<Math.min(i.length,5);e++){const{scopeChain:n,functionName:o,this:s}=i[e],a=n.find((e=>"local"===e.type)),c="global"!==s.className&&s.className?`${s.className}.${o}`:o;if(void 0===r([a,"optionalAccess",e=>e.object,"access",e=>e.objectId]))p((t=>{t[e]={function:c},h(t)}));else{const n=a.object.objectId;p((o=>r([t,"optionalAccess",e=>e.getLocalVariables,"call",t=>t(n,(t=>{o[e]={function:c,vars:t},h(o)}))])))}}h([])}(h.stackParser,e,o)),o),o){const n=e.maxExceptionsPerSecond||50;l=a.createRateLimiter(n,(()=>{s.logger.log("Local variables rate-limit lifted."),r([t,"optionalAccess",e=>e.setPauseOnExceptions,"call",e=>e(!0)])}),(e=>{s.logger.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${e} seconds.`),r([t,"optionalAccess",e=>e.setPauseOnExceptions,"call",e=>e(!1)])}))}d=!0}),(e=>{s.logger.log("The `LocalVariables` integration failed to start.",e)})))},processEvent:e=>d?function(e){for(const t of r([e,"optionalAccess",e=>e.exception,"optionalAccess",e=>e.values])||[])p(t);return e}(e):e,_getCachedFramesCount:()=>n.size,_getFirstCachedFrame:()=>n.values()[0]}}));t.createCallbackList=c,t.localVariablesSyncIntegration=l},1343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(80662),o=n(18864);let s;const i=n(69780).defineIntegration((()=>({name:"Modules",processEvent:e=>(e.modules={...e.modules,...(s||(s=a()),s)},e)})));function a(){const e=n.c[n.s]&&n.c[n.s].paths||[],t=function(){try{return n.c?Object.keys(n.c):[]}catch(e){return[]}}(),s={},i={};return t.forEach((t=>{let n=t;const a=()=>{const t=n;if(n=o.dirname(t),!n||t===n||i[t])return;if(e.indexOf(n)<0)return a();const c=o.join(t,"package.json");if(i[t]=!0,!r.existsSync(c))return a();try{const e=JSON.parse(r.readFileSync(c,"utf8"));s[e.name]=e.version}catch(e){}};a()})),s}t.modulesIntegration=i},50880:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(59232),s=n(69780),i=n(40100),a=n(44072),c=n(91796),u=n(63672),l=n(25112),d=s.defineIntegration(((e={})=>{const t=void 0===e.breadcrumbs||e.breadcrumbs,d=e.ignoreOutgoingRequests;return{name:"NodeFetch",setupOnce(){(async function(){if(u.NODE_MAJOR<18)c.DEBUG_BUILD&&a.logger.log("NodeFetch is not supported on Node < 18, skipping instrumentation...");else try{const e=await n.e(36).then(n.t.bind(n,82036,23)),{FetchInstrumentation:c}=e;class u extends c{onHeaders({request:e,response:n}){return t&&function(e,t){const n=function(e){try{const t=new URL(e.path,e.origin),n=a.parseUrl(t.toString()),r={url:a.getSanitizedUrlString(n),"http.method":e.method||"GET"};return n.search&&(r["http.query"]=n.search),n.hash&&(r["http.fragment"]=n.hash),r}catch(e){return{}}}(e);s.addBreadcrumb({category:"http",data:{status_code:t.statusCode,...n},type:"http"},{event:"response",request:e,response:t})}(e,n),super.onHeaders({request:e,response:n})}}return new u({ignoreRequestHook:e=>{const t=function(e,t="/"){const n=`${e}`;return e.endsWith("/")&&t.startsWith("/")?`${n}${t.slice(1)}`:e.endsWith("/")||t.startsWith("/")?`${n}${t}`:`${n}/${t.slice(1)}`}(e.origin,e.path),n=!s.hasTracingEnabled();if(d&&t&&d(t))return!0;if(n){const n=o.context.active(),a={},c=o.trace.getSpan(n),u=c?i.getPropagationContextFromSpan(c):s.getCurrentScope().getPropagationContext(),l=i.generateSpanContextForPropagationContext(u);l.traceState=r([l,"access",e=>e.traceState,"optionalAccess",e=>e.set,"call",e=>e("sentry.url",t)]);const d=o.trace.setSpanContext(n,l);o.propagation.inject(d,a);const p=e.headers;return Array.isArray(p)?Object.entries(a).forEach((e=>p.push(...e))):e.headers+=Object.entries(a).map((([e,t])=>`${e}: ${t}\r\n`)).join(""),!0}return!1},onRequest:({span:e})=>{!function(e){l.addOriginToSpan(e,"auto.http.otel.node_fetch")}(e)}})}catch(e){c.DEBUG_BUILD&&a.logger.log("Error while loading NodeFetch instrumentation: \n",e)}})().then((e=>{e&&i.addOpenTelemetryInstrumentation(e)}))}}}));t.nativeNodeFetchIntegration=d},30120:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780),o=n(44072),s=n(91796),i=n(5600),a=r.defineIntegration(((e={})=>{const t={exitEvenIfOtherHandlersAreRegistered:!1,...e};return{name:"OnUncaughtException",setup(e){global.process.on("uncaughtException",c(e,t))}}}));function c(e,t){let n,a=!1,c=!1,u=!1;const l=e.getOptions();return Object.assign((d=>{let p=i.logAndExitProcess;t.onFatalError?p=t.onFatalError:l.onFatalError&&(p=l.onFatalError);const h=0===global.process.listeners("uncaughtException").filter((e=>"domainUncaughtExceptionClear"!==e.name&&"sentry_tracingErrorCallback"!==e.tag&&!0!==e._errorHandler)).length,f=t.exitEvenIfOtherHandlersAreRegistered||h;a?f&&(u?(s.DEBUG_BUILD&&o.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),i.logAndExitProcess(d)):c||(c=!0,setTimeout((()=>{u||(u=!0,p(n,d))}),2e3))):(n=d,a=!0,r.getClient()===e&&r.captureException(d,{originalException:d,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!u&&f&&(u=!0,p(d)))}),{_errorHandler:!0})}t.makeErrorHandler=c,t.onUncaughtExceptionIntegration=a},2667:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780),o=n(44072),s=n(5600),i=r.defineIntegration(((e={})=>{const t=e.mode||"warn";return{name:"OnUnhandledRejection",setup(e){global.process.on("unhandledRejection",a(e,{mode:t}))}}}));function a(e,t){return function(n,i){r.getClient()===e&&(r.captureException(n,{originalException:i,captureContext:{extra:{unhandledPromiseRejection:!0}},mechanism:{handled:!1,type:"onunhandledrejection"}}),function(e,t){const n="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===t.mode?o.consoleSandbox((()=>{console.warn(n),console.error(e&&e.stack?e.stack:e)})):"strict"===t.mode&&(o.consoleSandbox((()=>{console.warn(n)})),s.logAndExitProcess(e))}(n,t))}}t.makeUnhandledPromiseHandler=a,t.onUnhandledRejectionIntegration=i},15300:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(65736),o=n(69780),s=n(44072),i=o.defineIntegration(((e={})=>{const t={sidecarUrl:e.sidecarUrl||"http://localhost:8969/stream"};return{name:"Spotlight",setup(e){"object"==typeof process&&process.env&&s.logger.warn("[Spotlight] It seems you're not in dev mode. Do you really want to have Spotlight enabled?"),function(e,t){const n=function(e){try{return new URL(`${e}`)}catch(t){return void s.logger.warn(`[Spotlight] Invalid sidecar URL: ${e}`)}}(t.sidecarUrl);if(!n)return;let r=0;e.on("beforeEnvelope",(e=>{if(r>3)return void s.logger.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");const t=s.serializeEnvelope(e),o=a()({method:"POST",path:n.pathname,hostname:n.hostname,port:n.port,headers:{"Content-Type":"application/x-sentry-envelope"}},(e=>{e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8")}));o.on("error",(()=>{r++,s.logger.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")})),o.write(t),o.end()}))}(e,t)}}}));function a(){const{request:e}=r;return"__sentry_original__"in e?e.__sentry_original__:e}t.getNativeHttpRequest=a,t.spotlightIntegration=i},64332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(12408),o=n(69780),s=n(67104),i=n(10948),a="Connect",c=s.generateInstrumentOnce(a,(()=>new r.ConnectInstrumentation)),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));function l(e,t,n,r){o.captureException(e),r(e)}t.connectIntegration=u,t.instrumentConnect=c,t.setupConnectErrorHandler=e=>{e.use(l);const t=o.getClient();t&&t.on("spanStart",(e=>{!function(e){const t=o.spanToJSON(e).data||{},n=t["connect.type"];if(t[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]||!n)return;e.setAttributes({[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.connect",[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.connect`});const r=t["connect.name"];"string"==typeof r&&e.updateName(r)}(e)})),i.ensureIsWrapped(e.use,"connect")}},50104:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(87232),s=n(69780),i=n(44072),a=n(91796),c=n(67104),u=n(25112),l=n(10948),d="Express",p=c.generateInstrumentOnce(d,(()=>new o.ExpressInstrumentation({requestHook(e){u.addOriginToSpan(e,"auto.http.otel.express");const t=s.spanToJSON(e).data||{},n=t["express.type"];n&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_OP,`${n}.express`);const r=t["express.name"];"string"==typeof r&&e.updateName(r)},spanNameHook(e,t){if(s.getIsolationScope()===s.getDefaultIsolationScope())return a.DEBUG_BUILD&&i.logger.warn("Isolation scope is still default isolation scope - skipping setting transactionName"),t;if("request_handler"===e.layerType){const t=e.request,n=t.method?t.method.toUpperCase():"GET";s.getIsolationScope().setTransactionName(`${n} ${e.route}`)}return t}}))),h=s.defineIntegration((()=>({name:d,setupOnce(){p()}})));function f(e){return function(t,n,o,i){if((r([e,"optionalAccess",e=>e.shouldHandleError])||m)(t)){const e=s.getClient();if(e&&e.getOptions().autoSessionTracking&&void 0!==e._sessionFlusher){const e=s.getIsolationScope().getRequestSession();e&&void 0!==e.status&&(e.status="crashed")}const n=s.captureException(t,{mechanism:{type:"middleware",handled:!1}});return o.sentry=n,void i(t)}i(t)}}function m(e){const t=function(e){const t=e.status||e.statusCode||e.status_code||e.output&&e.output.statusCode;return t?parseInt(t,10):500}(e);return t>=500}t.expressErrorHandler=f,t.expressIntegration=h,t.instrumentExpress=p,t.setupExpressErrorHandler=function(e,t){e.use(f(t)),l.ensureIsWrapped(e.use,"express")}},56160:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(88),s=n(69780),i=n(67104),a=n(10948),c="Fastify",u=i.generateInstrumentOnce(c,(()=>new o.FastifyInstrumentation({requestHook(e){d(e)}}))),l=s.defineIntegration((()=>({name:c,setupOnce(){u()}})));function d(e){const t=s.spanToJSON(e).data||{},n=t["fastify.type"];if(t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]||!n)return;e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.fastify",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.fastify`});const r=t["fastify.name"]||t["plugin.name"]||t["hook.name"];"string"==typeof r&&e.updateName(r.replace(/^fastify -> /,""))}t.fastifyIntegration=l,t.instrumentFastify=u,t.setupFastifyErrorHandler=function(e){const t=Object.assign((function(e,t,n){e.addHook("onError",(async(e,t,n)=>{s.captureException(n)})),e.addHook("onRequest",(async(e,t)=>{const n=e,o=r([n,"access",e=>e.routeOptions,"optionalAccess",e=>e.url])||n.routerPath,i=r([n,"access",e=>e.routeOptions,"optionalAccess",e=>e.method])||"GET";s.getIsolationScope().setTransactionName(`${i} ${o}`)})),n()}),{[Symbol.for("skip-override")]:!0,[Symbol.for("fastify.display-name")]:"sentry-fastify-error-handler"});e.register(t);const n=s.getClient();n&&n.on("spanStart",(e=>{d(e)})),a.ensureIsWrapped(e.addHook,"fastify")}},8436:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(87764),o=n(69780),s=n(40100),i=n(67104),a=n(25112),c="Graphql",u=i.generateInstrumentOnce(c,((e={})=>{const t={ignoreResolveSpans:!0,ignoreTrivialResolveSpans:!0,useOperationNameForRootSpan:!0,...e};return new r.GraphQLInstrumentation({...t,responseHook(e){a.addOriginToSpan(e,"auto.graphql.otel.graphql");const n=o.spanToJSON(e).data||{},r=n["graphql.operation.type"],i=n["graphql.operation.name"];if(t.useOperationNameForRootSpan&&r){const t=o.getRootSpan(e),n=(o.spanToJSON(t).data||{})[s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION]||[],a=i?`${r} ${i}`:`${r}`;Array.isArray(n)?(n.push(a),t.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,n)):n?t.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,[n,a]):t.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION,a)}}})})),l=o.defineIntegration(((e={})=>({name:c,setupOnce(){u(e)}})));t.graphqlIntegration=l,t.instrumentGraphql=u},64644:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(82180),s=n(69780),i=n(44072),a=n(91796),c=n(67104),u=n(10948),l="Hapi",d=c.generateInstrumentOnce(l,(()=>new o.HapiInstrumentation)),p=s.defineIntegration((()=>({name:l,setupOnce(){d()}}))),h={name:"SentryHapiErrorPlugin",version:s.SDK_VERSION,register:async function(e){e.events.on({name:"request",channels:["error"]},((e,t)=>{if(s.getIsolationScope()!==s.getDefaultIsolationScope()){const t=e.route;t&&t.path&&s.getIsolationScope().setTransactionName(`${r([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET"} ${t.path}`)}else a.DEBUG_BUILD&&i.logger.warn("Isolation scope is still the default isolation scope - skipping setting transactionName");var n;(function(e){return e&&void 0!==e.error})(t)&&(n=t.error,s.captureException(n,{mechanism:{type:"hapi",handled:!1,data:{function:"hapiErrorPlugin"}}}))}))}};t.hapiErrorPlugin=h,t.hapiIntegration=p,t.instrumentHapi=d,t.setupHapiErrorHandler=async function(e){await e.register(h);const t=s.getClient();t&&t.on("spanStart",(e=>{!function(e){const t=s.spanToJSON(e).data||{},n=t["hapi.type"];!t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&n&&e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.hapi",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.hapi`})}(e)})),u.ensureIsWrapped(e.register,"hapi")}},80720:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(59764),o=n(64332),s=n(50104),i=n(56160),a=n(8436),c=n(64644),u=n(95472),l=n(52560),d=n(76516),p=n(98239),h=n(93480),f=n(44848),m=n(58336),_=n(3536);t.getAutoPerformanceIntegrations=function(){return[s.expressIntegration(),i.fastifyIntegration(),a.graphqlIntegration(),l.mongoIntegration(),d.mongooseIntegration(),p.mysqlIntegration(),h.mysql2Integration(),_.redisIntegration(),m.postgresIntegration(),f.nestIntegration(),c.hapiIntegration(),u.koaIntegration(),o.connectIntegration()]},t.getOpenTelemetryInstrumentationToPreload=function(){return[r.instrumentHttp,s.instrumentExpress,o.instrumentConnect,i.instrumentFastify,c.instrumentHapi,u.instrumentKoa,f.instrumentNest,l.instrumentMongo,d.instrumentMongoose,p.instrumentMysql,h.instrumentMysql2,m.instrumentPostgres,c.instrumentHapi,a.instrumentGraphql,_.instrumentRedis]}},95472:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(5612),s=n(6252),i=n(69780),a=n(44072),c=n(91796),u=n(67104),l=n(10948),d=u.generateInstrumentOnce("Koa",(()=>new o.KoaInstrumentation({requestHook(e,t){if(function(e){e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.http.otel.koa");const t=i.spanToJSON(e).data||{},n=t["koa.type"];n&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_OP,`${n}.koa`);const r=t["koa.name"];"string"==typeof r&&e.updateName(r||"< unknown >")}(e),i.getIsolationScope()===i.getDefaultIsolationScope())return void(c.DEBUG_BUILD&&a.logger.warn("Isolation scope is default isolation scope - skipping setting transactionName"));const n=i.spanToJSON(e).data,o=n&&n[s.SEMATTRS_HTTP_ROUTE],u=r([t,"optionalAccess",e=>e.context,"optionalAccess",e=>e.request,"optionalAccess",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET";o&&i.getIsolationScope().setTransactionName(`${u} ${o}`)}}))),p=i.defineIntegration((()=>({name:"Koa",setupOnce(){d()}})));t.instrumentKoa=d,t.koaIntegration=p,t.setupKoaErrorHandler=e=>{e.use((async(e,t)=>{try{await t()}catch(e){throw i.captureException(e),e}})),l.ensureIsWrapped(e.use,"koa")}},52560:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(59752),o=n(69780),s=n(67104),i=n(25112),a="Mongo",c=s.generateInstrumentOnce(a,(()=>new r.MongoDBInstrumentation({responseHook(e){i.addOriginToSpan(e,"auto.db.otel.mongo")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMongo=c,t.mongoIntegration=u},76516:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(63292),o=n(69780),s=n(67104),i=n(25112),a="Mongoose",c=s.generateInstrumentOnce(a,(()=>new r.MongooseInstrumentation({responseHook(e){i.addOriginToSpan(e,"auto.db.otel.mongoose")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMongoose=c,t.mongooseIntegration=u},98239:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(61540),o=n(69780),s=n(67104),i="Mysql",a=s.generateInstrumentOnce(i,(()=>new r.MySQLInstrumentation({}))),c=o.defineIntegration((()=>({name:i,setupOnce(){a()}})));t.instrumentMysql=a,t.mysqlIntegration=c},93480:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(17247),o=n(69780),s=n(67104),i=n(25112),a="Mysql2",c=s.generateInstrumentOnce(a,(()=>new r.MySQL2Instrumentation({responseHook(e){i.addOriginToSpan(e,"auto.db.otel.mysql2")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentMysql2=c,t.mysql2Integration=u},32581:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780),o=n(44072);t.getMiddlewareSpanOptions=function(e){return{name:e.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"middleware.nestjs",[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.middleware.nestjs"}}},t.isPatched=function(e){return!!e.sentryPatched||(o.addNonEnumerableProperty(e,"sentryPatched",!0),!1)}},44848:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(77615),s=n(69780),i=n(44072),a=n(67104),c=n(42544),u="Nest",l=a.generateInstrumentOnce("Nest-Core",(()=>new o.NestInstrumentation)),d=a.generateInstrumentOnce("Nest-Common",(()=>new c.SentryNestInstrumentation)),p=Object.assign((()=>{l(),d()}),{id:u}),h=s.defineIntegration((()=>({name:u,setupOnce(){p()}})));t.instrumentNest=p,t.nestIntegration=h,t.setupNestErrorHandler=function(e,t){const n=s.getClient();n&&n.on("spanStart",(e=>{!function(e){const t=s.spanToJSON(e).data||{},n=t["nestjs.type"];!t[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&n&&e.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.otel.nestjs",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`${n}.nestjs`})}(e)})),e.useGlobalInterceptors({intercept(e,t){if(s.getIsolationScope()===s.getDefaultIsolationScope())return i.logger.warn("Isolation scope is still the default isolation scope, skipping setting transactionName."),t.handle();if("http"===e.getType()){const t=e.switchToHttp().getRequest();t.route&&s.getIsolationScope().setTransactionName(`${r([t,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"GET"} ${t.route.path}`)}return t.handle()}});const o=new Proxy(t,{get(e,t,n){if("catch"===t){const r=Reflect.get(e,t,n);return(t,n)=>{const o="object"==typeof t&&null!==t,i=o&&"status"in t?t.status:null,a=o&&"error"in t?t.error:null;return null!==i||null!==a||s.captureException(t),r.apply(e,[t,n])}}return Reflect.get(e,t,n)}});e.useGlobalFilters(o)}},42544:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(30164),o=n(12744),s=n(69780),i=n(44072),a=n(32581),c=[">=8.0.0 <11"];class u extends o.InstrumentationBase{static __initStatic(){this.COMPONENT="@nestjs/common"}static __initStatic2(){this.COMMON_ATTRIBUTES={component:u.COMPONENT}}constructor(e={}){super("sentry-nestjs",i.SDK_VERSION,e)}init(){const e=new o.InstrumentationNodeModuleDefinition(u.COMPONENT,c);return e.files.push(this._getInjectableFileInstrumentation(c),this._getCatchFileInstrumentation(c)),e}_getInjectableFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/common/decorators/core/injectable.decorator.js",e,(e=>(r.isWrapped(e.Injectable)&&this._unwrap(e,"Injectable"),this._wrap(e,"Injectable",this._createWrapInjectable()),e)),(e=>{this._unwrap(e,"Injectable")}))}_getCatchFileInstrumentation(e){return new o.InstrumentationNodeModuleFile("@nestjs/common/decorators/core/catch.decorator.js",e,(e=>(r.isWrapped(e.Catch)&&this._unwrap(e,"Catch"),this._wrap(e,"Catch",this._createWrapCatch()),e)),(e=>{this._unwrap(e,"Catch")}))}_createWrapInjectable(){return function(e){return function(t){return function(n){if("function"==typeof n.prototype.use&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.use=new Proxy(n.prototype.use,{apply:(e,t,r)=>{const[o,i,c,...u]=r,l=s.getActiveSpan();return s.startSpanManual(a.getMiddlewareSpanOptions(n),(n=>{const r=new Proxy(c,{apply:(e,t,r)=>(n.end(),l?s.withActiveSpan(l,(()=>Reflect.apply(e,t,r))):Reflect.apply(e,t,r))});return e.apply(t,[o,i,r,u])}))}})}if("function"==typeof n.prototype.canActivate&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.canActivate=new Proxy(n.prototype.canActivate,{apply:(e,t,r)=>s.startSpan(a.getMiddlewareSpanOptions(n),(()=>e.apply(t,r)))})}if("function"==typeof n.prototype.transform&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.transform=new Proxy(n.prototype.transform,{apply:(e,t,r)=>s.startSpan(a.getMiddlewareSpanOptions(n),(()=>e.apply(t,r)))})}if("function"==typeof n.prototype.intercept&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(t)(n);n.prototype.intercept=new Proxy(n.prototype.intercept,{apply:(e,t,r)=>{const[o,i,c]=r,u=s.getActiveSpan();return s.startSpanManual(a.getMiddlewareSpanOptions(n),(r=>{const a=new Proxy(i,{get:(e,t,o)=>{if("handle"===t){const n=Reflect.get(e,t,o);return(...t)=>(r.end(),u?s.withActiveSpan(u,(()=>Reflect.apply(n,e,t))):Reflect.apply(n,e,t))}return Reflect.get(n,t,o)}});return e.apply(t,[o,a,c])}))}})}return e(t)(n)}}}}_createWrapCatch(){return function(e){return function(...t){return function(n){if("function"==typeof n.prototype.catch&&!n.__SENTRY_INTERNAL__){if(a.isPatched(n))return e(...t)(n);n.prototype.catch=new Proxy(n.prototype.catch,{apply:(e,t,r)=>s.startSpan(a.getMiddlewareSpanOptions(n),(()=>e.apply(t,r)))})}return e(...t)(n)}}}}}u.__initStatic(),u.__initStatic2(),t.SentryNestInstrumentation=u},58336:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(74872),o=n(69780),s=n(67104),i=n(25112),a="Postgres",c=s.generateInstrumentOnce(a,(()=>new r.PgInstrumentation({requireParentSpan:!0,requestHook(e){i.addOriginToSpan(e,"auto.db.otel.postgres")}}))),u=o.defineIntegration((()=>({name:a,setupOnce(){c()}})));t.instrumentPostgres=c,t.postgresIntegration=u},35616:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(492),s=n(69780),i=n(67104),a="Prisma",c=i.generateInstrumentOnce(a,(()=>new(r([o,"access",e=>e.default,"optionalAccess",e=>e.PrismaInstrumentation])||o.PrismaInstrumentation)({}))),u=s.defineIntegration((()=>({name:a,setupOnce(){c()},setup(e){e.on("spanStart",(e=>{const t=s.spanToJSON(e);r([t,"access",e=>e.description,"optionalAccess",e=>e.startsWith,"call",e=>e("prisma:")])&&e.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.prisma"),"prisma:engine:db_query"===t.description&&e.setAttribute("db.system","prisma")}))}})));t.instrumentPrisma=c,t.prismaIntegration=u},3536:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(5536),s=n(83808),i=n(69780),a=n(44072),c=n(67104),u=n(35188),l="Redis";let d={};const p=(e,t,n,o)=>{e.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto.db.otel.redis");const s=u.getCacheKeySafely(t,n),c=u.getCacheOperation(t);if(!(s&&c&&r([d,"optionalAccess",e=>e.cachePrefixes])&&u.shouldConsiderForCache(t,s,d.cachePrefixes)))return;const l=r([i.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e["net.peer.name"]]),p=r([i.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e["net.peer.port"]]);p&&l&&e.setAttributes({"network.peer.address":l,"network.peer.port":p});const h=u.calculateCacheItemSize(o);h&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,h),u.isInCommands(u.GET_COMMANDS,t)&&void 0!==h&&e.setAttribute(i.SEMANTIC_ATTRIBUTE_CACHE_HIT,h>0),e.setAttributes({[i.SEMANTIC_ATTRIBUTE_SENTRY_OP]:c,[i.SEMANTIC_ATTRIBUTE_CACHE_KEY]:s});const f=s.join(", ");e.updateName(a.truncate(f,1024))},h=c.generateInstrumentOnce("IORedis",(()=>new o.IORedisInstrumentation({responseHook:p}))),f=c.generateInstrumentOnce("Redis-4",(()=>new s.RedisInstrumentation({responseHook:p}))),m=Object.assign((()=>{h(),f()}),{id:l}),_=i.defineIntegration(((e={})=>({name:l,setupOnce(){d=e,m()}})));t.instrumentRedis=m,t.redisIntegration=_},63672:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072).parseSemver(process.versions.node),o=r.major;t.NODE_MAJOR=o,t.NODE_VERSION=r},40387:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(36524),o=n(40100).wrapContextManagerClass(r.AsyncLocalStorageContextManager);t.SentryContextManager=o},67104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(40100),o={};t.generateInstrumentOnce=function(e,t){return Object.assign((n=>{const s=o[e];if(s)return void(n&&s.setConfig(n));const i=t(n);o[e]=i,r.addOpenTelemetryInstrumentation(i)}),{id:e})}},4352:(e,t,n)=>{var{_nullishCoalesce:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(65736);n(59144);const s=Symbol("AgentBaseInternalState");class i extends o.Agent{constructor(e){super(e),this[s]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,n){const r={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,r))).then((i=>{if(i instanceof o.Agent)return i.addRequest(e,r);this[s].currentSocket=i,super.createSocket(e,t,n)}),n)}createConnection(){const e=this[s].currentSocket;if(this[s].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return r(this[s].defaultPort,(()=>"https:"===this.protocol?443:80))}set defaultPort(e){this[s]&&(this[s].defaultPort=e)}get protocol(){return r(this[s].protocol,(()=>this.isSecureEndpoint()?"https:":"http:"))}set protocol(e){this[s]&&(this[s].protocol=e)}}t.Agent=i},76612:(e,t,n)=>{var{_nullishCoalesce:r,_optionalChain:o}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const s=n(63066),i=n(64656),a=n(44072),c=n(4352),u=n(53740);function l(...e){a.logger.log("[https-proxy-agent]",...e)}class d extends c.Agent{static __initStatic(){this.protocols=["http","https"]}constructor(e,t){super(t),this.options={},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=r(o([t,"optionalAccess",e=>e.headers]),(()=>({}))),l("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),s=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?h(t,"headers"):null,host:n,port:s}}async connect(e,t){const{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let r;if("https:"===n.protocol){l("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;r=i.connect({...this.connectOpts,servername:e&&s.isIP(e)?void 0:e})}else l("Creating `net.Socket`: %o",this.connectOpts),r=s.connect(this.connectOpts);const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},a=s.isIPv6(t.host)?`[${t.host}]`:t.host;let c=`CONNECT ${a}:${t.port} HTTP/1.1\r\n`;if(n.username||n.password){const e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}o.Host=`${a}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))c+=`${e}: ${o[e]}\r\n`;const d=u.parseProxyResponse(r);r.write(`${c}\r\n`);const{connect:f,buffered:m}=await d;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),200===f.statusCode){if(e.once("socket",p),t.secureEndpoint){l("Upgrading socket connection to TLS");const e=t.servername||t.host;return i.connect({...h(t,"host","path","port"),socket:r,servername:s.isIP(e)?void 0:e})}return r}r.destroy();const _=new s.Socket({writable:!1});return _.readable=!0,e.once("socket",(e=>{l("Replaying proxy buffer for failed request"),e.push(m),e.push(null)})),_}}function p(e){e.resume()}function h(e,...t){const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n}d.__initStatic(),t.HttpsProxyAgent=d},53740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072);function o(...e){r.logger.log("[https-proxy-agent:parse-proxy-response]",...e)}t.parseProxyResponse=function(e){return new Promise(((t,n)=>{let r=0;const s=[];function i(){const c=e.read();c?function(c){s.push(c),r+=c.length;const u=Buffer.concat(s,r),l=u.indexOf("\r\n\r\n");if(-1===l)return o("have not received end of HTTP headers yet..."),void i();const d=u.slice(0,l).toString("ascii").split("\r\n"),p=d.shift();if(!p)return e.destroy(),n(new Error("No header received from proxy CONNECT response"));const h=p.split(" "),f=+(h[1]||0),m=h.slice(2).join(" "),_={};for(const t of d){if(!t)continue;const r=t.indexOf(":");if(-1===r)return e.destroy(),n(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,r).toLowerCase(),s=t.slice(r+1).trimStart(),i=_[o];"string"==typeof i?_[o]=[i,s]:Array.isArray(i)?i.push(s):_[o]=s}o("got proxy server response: %o %o",p,_),a(),t({connect:{statusCode:f,statusText:m,headers:_},buffered:u})}(c):e.once("readable",i)}function a(){e.removeListener("end",c),e.removeListener("error",u),e.removeListener("readable",i)}function c(){a(),o("onend"),n(new Error("Proxy connection ended before receiving CONNECT response"))}function u(e){a(),o("onerror %o",e),n(e)}e.on("error",u),e.on("end",c),i()}))}},32496:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=n(83019),s=r.createStackParser(r.nodeStackLineParser(o.createGetModuleFromFilename()));t.defaultStackParser=s,t.getSentryRelease=function(e){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(r.GLOBAL_OBJ.SENTRY_RELEASE&&r.GLOBAL_OBJ.SENTRY_RELEASE.id)return r.GLOBAL_OBJ.SENTRY_RELEASE.id;const t=process.env.GITHUB_SHA||process.env.CI_MERGE_REQUEST_SOURCE_BRANCH_SHA||process.env.CI_BUILD_REF||process.env.CI_COMMIT_SHA||process.env.BITBUCKET_COMMIT,n=process.env.APPVEYOR_PULL_REQUEST_HEAD_COMMIT||process.env.APPVEYOR_REPO_COMMIT||process.env.CODEBUILD_RESOLVED_SOURCE_VERSION||process.env.AWS_COMMIT_ID||process.env.BUILD_SOURCEVERSION||process.env.GIT_CLONE_COMMIT_HASH||process.env.BUDDY_EXECUTION_REVISION||process.env.BUILDKITE_COMMIT||process.env.CIRCLE_SHA1||process.env.CIRRUS_CHANGE_IN_REPO||process.env.CF_REVISION||process.env.CM_COMMIT||process.env.CF_PAGES_COMMIT_SHA||process.env.DRONE_COMMIT_SHA||process.env.FC_GIT_COMMIT_SHA||process.env.HEROKU_TEST_RUN_COMMIT_VERSION||process.env.HEROKU_SLUG_COMMIT||process.env.RENDER_GIT_COMMIT||process.env.SEMAPHORE_GIT_SHA||process.env.TRAVIS_PULL_REQUEST_SHA||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA,o=process.env.CI_COMMIT_ID||process.env.SOURCE_COMMIT||process.env.SOURCE_VERSION||process.env.GIT_COMMIT||process.env.COMMIT_REF||process.env.BUILD_VCS_NUMBER||process.env.CI_COMMIT_SHA;return t||n||o||e}},83188:(e,t,n)=>{var{_nullishCoalesce:r,_optionalChain:o}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const s=n(45672),i=n(59232),a=n(69780),c=n(44072),u=n(48696),l=n(91796);class d extends a.ServerRuntimeClient{constructor(e){const t={...e,platform:"node",runtime:{name:"node",version:global.process.version},serverName:e.serverName||global.process.env.SENTRY_NAME||s.hostname()};a.applySdkMetadata(t,"node"),c.logger.log(`Initializing Sentry: process: ${process.pid}, thread: ${u.isMainThread?"main":`worker-${u.threadId}`}.`),super(t)}get tracer(){if(this._tracer)return this._tracer;const e=a.SDK_VERSION,t=i.trace.getTracer("@sentry/node",e);return this._tracer=t,t}async flush(e){const t=this.traceProvider,n=o([t,"optionalAccess",e=>e.activeSpanProcessor]);return n&&await n.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(e)}close(e){return this._clientReportInterval&&clearInterval(this._clientReportInterval),this._clientReportOnExitFlushListener&&process.off("beforeExit",this._clientReportOnExitFlushListener),super.close(e)}startClientReportTracking(){const e=this.getOptions();e.sendClientReports&&(this._clientReportOnExitFlushListener=()=>{this._flushOutcomes()},this._clientReportInterval=setInterval((()=>{l.DEBUG_BUILD&&c.logger.log("Flushing client reports based on interval."),this._flushOutcomes()}),r(e.clientReportFlushInterval,(()=>6e4))).unref(),process.on("beforeExit",this._clientReportOnExitFlushListener))}}t.NodeClient=d},53196:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780),o=n(40100),s=n(44072),i=n(91796),a=n(77932),c=n(13152),u=n(75740),l=n(59764),d=n(48568),p=n(1343),h=n(50880),f=n(30120),m=n(2667),_=n(15300),g=n(80720),S=n(95260),b=n(78244),y=n(32496),E=n(83188),v=n(62216);function T(){return[r.inboundFiltersIntegration(),r.functionToStringIntegration(),r.linkedErrorsIntegration(),r.requestDataIntegration(),a.consoleIntegration(),l.httpIntegration(),h.nativeNodeFetchIntegration(),f.onUncaughtExceptionIntegration(),m.onUnhandledRejectionIntegration(),u.contextLinesIntegration(),d.localVariablesIntegration(),c.nodeContextIntegration(),...b.isCjs()?[p.modulesIntegration()]:[]]}function I(e){return[...T(),...R(e)?g.getAutoPerformanceIntegrations():[]]}function R(e){return!!r.hasTracingEnabled(e)&&(e.enableTracing||null!=e.tracesSampleRate||"tracesSampler"in e)}function C(e={},t){const n=function(e,t){const n=function(e){if(void 0!==e)return e;const t=y.getSentryRelease();return void 0!==t?t:void 0}(e.release),o="string"==typeof n&&(void 0===e.autoSessionTracking||e.autoSessionTracking),i=function(e){if(void 0!==e)return e;const t=process.env.SENTRY_TRACES_SAMPLE_RATE;if(!t)return;const n=parseFloat(t);return isFinite(n)?n:void 0}(e.tracesSampleRate),a=s.dropUndefinedKeys({transport:S.makeNodeTransport,dsn:process.env.SENTRY_DSN,environment:process.env.SENTRY_ENVIRONMENT,sendClientReports:!0}),c=s.dropUndefinedKeys({release:n,autoSessionTracking:o,tracesSampleRate:i}),u={...a,...e,...c};void 0===e.defaultIntegrations&&(e.defaultIntegrations=t(u));return{...u,stackParser:s.stackParserFromStackParserOptions(e.stackParser||y.defaultStackParser),integrations:r.getIntegrationsToSetup({defaultIntegrations:e.defaultIntegrations,integrations:e.integrations})}}(e,t);!0===n.debug&&(i.DEBUG_BUILD?s.logger.enable():s.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),b.isCjs()||!1===n.registerEsmLoaderHooks||v.maybeInitializeEsmLoader(!0===n.registerEsmLoaderHooks?void 0:n.registerEsmLoaderHooks),o.setOpenTelemetryContextAsyncContextStrategy(),r.getCurrentScope().update(n.initialScope);const a=new E.NodeClient(n);if(r.getCurrentScope().setClient(a),function(e){return!1!==e.getOptions().enabled&&void 0!==e.getTransport()}(a)&&a.init(),s.logger.log(`Running in ${b.isCjs()?"CommonJS":"ESM"} mode.`),n.autoSessionTracking&&function(){const e=r.getClient();e&&e.getOptions().autoSessionTracking&&e.initSessionFlusher(),r.startSession(),process.on("beforeExit",(()=>{const e=r.getIsolationScope().getSession();e&&"ok"!==e.status&&r.endSession()}))}(),a.startClientReportTracking(),function(){const e=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(e)){const e=process.env.SENTRY_TRACE,t=process.env.SENTRY_BAGGAGE,n=s.propagationContextFromHeaders(e,t);r.getCurrentScope().setPropagationContext(n)}}(),n.spotlight){const e=a.getOptions().integrations;for(const t of e)a.addIntegration(t);a.addIntegration(_.spotlightIntegration({sidecarUrl:"string"==typeof n.spotlight?n.spotlight:void 0}))}return n.skipOpenTelemetrySetup||(v.initOpenTelemetry(a),A()),o.enhanceDscWithOpenTelemetryRootSpanName(a),o.setupEventContextTrace(a),a}function A(){if(!i.DEBUG_BUILD)return;const e=o.openTelemetrySetupCheck(),t=["SentryContextManager","SentryPropagator"];r.hasTracingEnabled()&&t.push("SentrySpanProcessor");for(const n of t)e.includes(n)||s.logger.error(`You have to set up the ${n}. Without this, the OpenTelemetry & Sentry integration will not work properly.`);e.includes("SentrySampler")||s.logger.warn("You have to set up the SentrySampler. Without this, the OpenTelemetry & Sentry integration may still work, but sample rates set for the Sentry SDK will not be respected. If you use a custom sampler, make sure to use `wrapSamplingDecision`.")}t.getDefaultIntegrations=I,t.getDefaultIntegrationsWithoutPerformance=T,t.init=function(e={}){return C(e,I)},t.initWithoutDefaultIntegrations=function(e={}){return C(e,(()=>[]))},t.validateOpenTelemetrySetup=A},62216:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(31776),o=n(59232),s=n(36020),i=n(29308),a=n(6252),c=n(69780),u=n(40100),l=n(44072),d=n(80720),p=n(40387),h=n(78244);var f="undefined"!=typeof document?document.currentScript:null;function m(e){const[t=0,o=0]=process.versions.node.split(".").map(Number);if(t>=22||20===t&&o>=6||18===t&&o>=19){const t=void 0!==("undefined"==typeof document?n(78716).pathToFileURL(__filename).href:f&&f.src||new URL("sdk/initOtel.js",document.baseURI).href)?"undefined"==typeof document?n(78716).pathToFileURL(__filename).href:f&&f.src||new URL("sdk/initOtel.js",document.baseURI).href:void 0;if(!l.GLOBAL_OBJ._sentryEsmLoaderHookRegistered&&t)try{r.default.register("import-in-the-middle/hook.mjs",t,{data:e}),l.GLOBAL_OBJ._sentryEsmLoaderHookRegistered=!0}catch(e){l.logger.warn("Failed to register ESM hook",e)}}else l.consoleSandbox((()=>{console.warn('[Sentry] You are using Node.js in ESM mode ("import syntax"). The Sentry Node.js SDK is not compatible with ESM in Node.js versions before 18.19.0 or before 20.6.0. Please either build your application with CommonJS ("require() syntax"), or use version 7.x of the Sentry Node.js SDK.')}))}function _(e){const t=new i.BasicTracerProvider({sampler:new u.SentrySampler(e),resource:new s.Resource({[a.SEMRESATTRS_SERVICE_NAME]:"node",[a.SEMRESATTRS_SERVICE_NAMESPACE]:"sentry",[a.SEMRESATTRS_SERVICE_VERSION]:c.SDK_VERSION}),forceFlushTimeoutMillis:500});return t.addSpanProcessor(new u.SentrySpanProcessor({timeout:e.getOptions().maxSpanWaitDuration})),t.register({propagator:new u.SentryPropagator,contextManager:new p.SentryContextManager}),t}function g(){const e=new Proxy(l.logger,{get(e,t,n){const r="verbose"===t?"debug":t;return Reflect.get(e,r,n)}});o.diag.disable(),o.diag.setLogger(e,o.DiagLogLevel.DEBUG)}t.initOpenTelemetry=function(e){e.getOptions().debug&&g();const t=_(e);e.traceProvider=t},t.maybeInitializeEsmLoader=m,t.preloadOpenTelemetry=function(e={}){const{debug:t}=e;t&&(l.logger.enable(),g()),h.isCjs()||m(e.registerEsmLoaderHooks),function(e){const t=d.getOpenTelemetryInstrumentationToPreload();return e?t.filter((t=>e.includes(t.id))):t}(e.integrations).forEach((e=>{e(),t&&l.logger.log(`[Sentry] Preloaded ${e.id} instrumentation`)}))},t.setupOtel=_},8416:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(59232),o=n(40100);t.setIsolationScope=function(e){const t=o.getScopesFromContext(r.context.active());t&&(t.isolationScope=e)}},95260:(e,t,n)=>{var{_nullishCoalesce:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(65736),s=n(59144),i=n(18792),a=n(38512),c=n(69780),u=n(44072),l=n(76612);t.makeNodeTransport=function(e){let t;try{t=new URL(e.url)}catch(t){return u.consoleSandbox((()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")})),c.createTransport(e,(()=>Promise.resolve({})))}const n="https:"===t.protocol,d=function(e,t){const{no_proxy:n}=process.env;return n&&n.split(",").some((t=>e.host.endsWith(t)||e.hostname.endsWith(t)))?void 0:t}(t,e.proxy||(n?process.env.https_proxy:void 0)||process.env.http_proxy),p=n?s:o,h=void 0!==e.keepAlive&&e.keepAlive,f=d?new l.HttpsProxyAgent(d):new p.Agent({keepAlive:h,maxSockets:30,timeout:2e3});return c.suppressTracing((()=>{const t=function(e,t,n){const{hostname:o,pathname:s,port:c,protocol:u,search:l}=new URL(e.url);return function(d){return new Promise(((p,h)=>{let f=function(e){return new i.Readable({read(){this.push(e),this.push(null)}})}(d.body);const m={...e.headers};d.body.length>32768&&(m["content-encoding"]="gzip",f=f.pipe(a.createGzip()));const _=t.request({method:"POST",agent:n,headers:m,hostname:o,path:`${s}${l}`,port:c,protocol:u,ca:e.caCerts},(e=>{e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8");const t=r(e.headers["retry-after"],(()=>null)),n=r(e.headers["x-sentry-rate-limits"],(()=>null));p({statusCode:e.statusCode,headers:{"retry-after":t,"x-sentry-rate-limits":Array.isArray(n)?n[0]||null:n}})}));_.on("error",h),f.pipe(_)}))}}(e,r(e.httpModule,(()=>p)),f);return c.createTransport(e,t)}))}},25112:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780);t.addOriginToSpan=function(e,t){e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t)}},78244:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCjs=function(){return!0}},42192:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(78244);t.createMissingInstrumentationContext=e=>({package:e,"javascript.is_cjs":r.isCjs()})},10948:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(30164),o=n(69780),s=n(44072),i=n(78244),a=n(42192);t.ensureIsWrapped=function(e,t){!r.isWrapped(e)&&o.isEnabled()&&o.hasTracingEnabled()&&(s.consoleSandbox((()=>{i.isCjs()?console.warn(`[Sentry] ${t} is not instrumented. This is likely because you required/imported ${t} before calling \`Sentry.init()\`.`):console.warn(`[Sentry] ${t} is not instrumented. Please make sure to initialize Sentry in a separate file that you \`--import\` when running node, see: https://docs.sentry.io/platforms/javascript/guides/${t}/install/esm/.`)})),o.getGlobalScope().setContext("missing_instrumentation",a.createMissingInstrumentationContext(t)))}},5600:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(69780),o=n(44072),s=n(91796);t.logAndExitProcess=function(e){o.consoleSandbox((()=>{console.error(e)}));const t=r.getClient();if(void 0===t)return s.DEBUG_BUILD&&o.logger.warn("No NodeClient was defined, we are exiting the process now."),void global.process.exit(1);const n=t.getOptions(),i=n&&n.shutdownTimeout&&n.shutdownTimeout>0&&n.shutdownTimeout||2e3;t.close(i).then((e=>{e||s.DEBUG_BUILD&&o.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}),(e=>{s.DEBUG_BUILD&&o.logger.error(e)}))}},36636:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestUrl=function(e){const t=e.protocol||"",n=e.hostname||e.host||"";return`${t}//${n}${!e.port||80===e.port||443===e.port||/^(.*):(\d+)$/.test(n)?"":`:${e.port}`}${e.path?e.path:"/"}`}},83019:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(18864),o=n(44072);function s(e){return e.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}t.createGetModuleFromFilename=function(e=(process.argv[1]?o.dirname(process.argv[1]):process.cwd()),t="\\"===r.sep){const n=t?s(e):e;return e=>{if(!e)return;const o=t?s(e):e;let{dir:i,base:a,ext:c}=r.posix.parse(o);".js"!==c&&".mjs"!==c&&".cjs"!==c||(a=a.slice(0,-1*c.length)),i||(i=".");const u=i.lastIndexOf("/node_modules");if(u>-1)return`${i.slice(u+14).replace(/\//g,".")}:${a}`;if(i.startsWith(n)){let e=i.slice(n.length+1).replace(/\//g,".");return e&&(e+=":"),e+=a,e}return a}}},35188:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(44072),o=["get","set","setex"],s=["get","mget"],i=["set","setex"];function a(e,t){return e.includes(t.toLowerCase())}function c(e){return a(s,e)?"cache.get":a(i,e)?"cache.put":void 0}function u(e,t){return t.some((t=>e.startsWith(t)))}t.GET_COMMANDS=s,t.SET_COMMANDS=i,t.calculateCacheItemSize=function(e){const t=e=>{try{return Buffer.isBuffer(e)?e.byteLength:"string"==typeof e?e.length:"number"==typeof e?e.toString().length:null==e?0:JSON.stringify(e).length}catch(e){return}};return Array.isArray(e)?e.reduce(((e,n)=>{const r=t(n);return"number"==typeof r?void 0!==e?e+r:r:e}),0):t(e)},t.getCacheKeySafely=function(e,t){try{if(0===t.length)return;const n=e=>"string"==typeof e||"number"==typeof e||Buffer.isBuffer(e)?[e.toString()]:Array.isArray(e)?r.flatten(e.map((e=>n(e)))):["<unknown>"],s=t[0];return a(o,e)&&null!=s?n(s):r.flatten(t.map((e=>n(e))))}catch(e){return}},t.getCacheOperation=c,t.isInCommands=a,t.shouldConsiderForCache=function(e,t,n){if(!c(e))return!1;for(const e of t)if(u(e,n))return!0;return!1}},40100:(e,t,n)=>{var{_optionalChain:r}=n(44072);Object.defineProperty(t,"__esModule",{value:!0});const o=n(6252),s=n(44072),i=n(59232),a=n(69780),c=n(30164),u=n(29308),l=n(12744),d="sentry.parentIsRemote",p="sentry.graphql.operation";function h(e){const t=e;return!!t.attributes&&"object"==typeof t.attributes}function f(e){return"number"==typeof e.kind}function m(e){return!!e.status}function _(e){return!!e.name}function g(e){return!!e.parentSpanId}function S(e){if(!h(e))return{};const t={url:e.attributes[o.SEMATTRS_HTTP_URL],"http.method":e.attributes[o.SEMATTRS_HTTP_METHOD]};!t["http.method"]&&t.url&&(t["http.method"]="GET");try{const n=e.attributes[o.SEMATTRS_HTTP_URL];if("string"==typeof n){const e=s.parseUrl(n);t.url=s.getSanitizedUrlString(e),e.search&&(t["http.query"]=e.search),e.hash&&(t["http.fragment"]=e.hash)}}catch(e){}return t}function b(e){return f(e)?e.kind:i.SpanKind.INTERNAL}const y="sentry-trace",E="baggage",v="sentry.dsc",T="sentry.parent_span_id",I="sentry.sampled_not_recording",R="sentry.url",C=i.createContextKey("sentry_scopes"),A=i.createContextKey("sentry_fork_isolation_scope"),O=i.createContextKey("sentry_fork_set_scope"),N=i.createContextKey("sentry_fork_set_isolation_scope"),w="_scopeContext";function P(e){return e.getValue(C)}function L(e,t){return e.setValue(C,t)}function M(e,t,n){if(t["sentry.skip_span_data_inference"])return{op:void 0,description:e,source:"custom",data:{"sentry.skip_span_data_inference":void 0}};const r=t["http.request.method"]||t[o.SEMATTRS_HTTP_METHOD];if(r)return function({name:e,kind:t,attributes:n},r){const a=["http"];switch(t){case i.SpanKind.CLIENT:a.push("client");break;case i.SpanKind.SERVER:a.push("server")}const{urlPath:c,url:u,query:l,fragment:d,hasRoute:h}=function(e,t){const n=e[o.SEMATTRS_HTTP_TARGET],r=e[o.SEMATTRS_HTTP_URL],a=e[o.SEMATTRS_HTTP_ROUTE],c="string"==typeof r?s.parseUrl(r):void 0,u=c?s.getSanitizedUrlString(c):void 0,l=c&&c.search?c.search:void 0,d=c&&c.hash?c.hash:void 0;return"string"==typeof a?{urlPath:a,url:u,query:l,fragment:d,hasRoute:!0}:t===i.SpanKind.SERVER&&"string"==typeof n?{urlPath:s.stripUrlQueryAndFragment(n),url:u,query:l,fragment:d,hasRoute:!1}:c?{urlPath:u,url:u,query:l,fragment:d,hasRoute:!1}:"string"==typeof n?{urlPath:s.stripUrlQueryAndFragment(n),url:u,query:l,fragment:d,hasRoute:!1}:{urlPath:void 0,url:u,query:l,fragment:d,hasRoute:!1}}(n,t);if(!c)return{op:a.join("."),description:e,source:"custom"};const f=n[p],m=`${r} ${c}`,_=f?`${m} (${function(e){if(Array.isArray(e)){const t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}(f)})`:m,g=h||"/"===c?"route":"url",S={};return u&&(S.url=u),l&&(S["http.query"]=l),d&&(S["http.fragment"]=d),{op:a.join("."),description:_,source:g,data:S}}({attributes:t,name:e,kind:n},r);const c=t[o.SEMATTRS_DB_SYSTEM],u="string"==typeof t[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&t[a.SEMANTIC_ATTRIBUTE_SENTRY_OP].startsWith("cache.");if(c&&!u)return function({attributes:e,name:t}){const n=e[o.SEMATTRS_DB_STATEMENT];return{op:"db",description:n?n.toString():t,source:"task"}}({attributes:t,name:e});if(t[o.SEMATTRS_RPC_SERVICE])return{op:"rpc",description:e,source:"route"};if(t[o.SEMATTRS_MESSAGING_SYSTEM])return{op:"message",description:e,source:"route"};const l=t[o.SEMATTRS_FAAS_TRIGGER];return l?{op:l.toString(),description:e,source:"route"}:{op:void 0,description:e,source:"custom"}}function x(e){const t=h(e)?e.attributes:{};return M(_(e)?e.name:"<unknown>",t,b(e))}function k({parentSpanId:e,dsc:t,sampled:n}){const r=t?s.dynamicSamplingContextToSentryBaggageHeader(t):void 0,o=(new c.TraceState).set(T,e||""),i=r?o.set(v,r):o;return!1===n?i.set(I,"1"):i}function U(e){const t=k({parentSpanId:e.parentSpanId,dsc:e.dsc,sampled:e.sampled});return{traceId:e.traceId,spanId:e.parentSpanId||"",isRemote:!0,traceFlags:e.sampled?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,traceState:t}}function G(){return i.trace.getActiveSpan()}const V="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function D(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function B(e){const{traceFlags:t,traceState:n}=e,r=!!n&&"1"===n.get(I);if(t===i.TraceFlags.SAMPLED)return!0;if(r)return!1;const o=n?n.get(v):void 0,a=o?s.baggageHeaderToDynamicSamplingContext(o):void 0;return"true"===D([a,"optionalAccess",e=>e.sampled])||"false"!==D([a,"optionalAccess",e=>e.sampled])&&void 0}const F=new Set;function H(e){F.add(e)}function j(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function Y(e){const t=e.spanContext(),{traceId:n,spanId:r,traceState:o}=t,i=o?o.get(v):void 0,c=i?s.baggageHeaderToDynamicSamplingContext(i):void 0,u=o&&o.get(T)||void 0;return{traceId:n,spanId:r,sampled:B(t),parentSpanId:u,dsc:c||a.getDynamicSamplingContextFromSpan(a.getRootSpan(e))}}class W extends c.W3CBaggagePropagator{constructor(){super(),H("SentryPropagator"),this._urlMatchesTargetsMap=new s.LRUMap(100)}inject(e,t,n){if(c.isTracingSuppressed(e))return void(V&&s.logger.log("[Tracing] Not injecting trace data for url because tracing is suppressed."));const r=i.trace.getSpan(e),u=r&&function(e){const t=j([a.spanToJSON,"call",t=>t(e),"access",e=>e.data,"optionalAccess",e=>e[o.SEMATTRS_HTTP_URL]]);if(t)return t;const n=j([e,"access",e=>e.spanContext,"call",e=>e(),"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(R)]);return n||void 0}(r),l=j([a.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e(),"optionalAccess",e=>e.tracePropagationTargets]);if("string"==typeof u&&l&&!this._shouldInjectTraceData(l,u))return void(V&&s.logger.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",u));const d=function(e){try{const t=e[E];return Array.isArray(t)?t.join(","):t}catch(e){return}}(t);let p=i.propagation.getBaggage(e)||i.propagation.createBaggage({});const{dynamicSamplingContext:h,traceId:f,spanId:m,sampled:_}=function(e){const t=a.hasTracingEnabled()?i.trace.getSpan(e):void 0,n=j([t,"optionalAccess",e=>e.spanContext,"call",e=>e(),"access",e=>e.isRemote]);if(t&&!n){const e=t.spanContext();return{dynamicSamplingContext:K(Y(t),e.traceId),traceId:e.traceId,spanId:e.spanId,sampled:B(e)}}const r=(j([P,"call",t=>t(e),"optionalAccess",e=>e.scope])||a.getCurrentScope()).getPropagationContext();return{dynamicSamplingContext:K(r,r.traceId),traceId:r.traceId,spanId:r.spanId,sampled:r.sampled}}(e);if(d){const e=s.parseBaggageHeader(d);e&&Object.entries(e).forEach((([e,t])=>{p=p.setEntry(e,{value:t})}))}h&&(p=Object.entries(h).reduce(((e,[t,n])=>n?e.setEntry(`${s.SENTRY_BAGGAGE_KEY_PREFIX}${t}`,{value:n}):e),p)),f&&f!==i.INVALID_TRACEID&&n.set(t,y,s.generateSentryTraceHeader(f,m,_)),super.inject(i.propagation.setBaggage(e,p),t,n)}extract(e,t,n){const r=n.get(t,y),o=n.get(t,E),i=r?Array.isArray(r)?r[0]:r:void 0,c=s.propagationContextFromHeaders(i,o),u=X(e,{sentryTrace:i,baggage:o}),l=P(u),d={scope:l?l.scope.clone():a.getCurrentScope().clone(),isolationScope:l?l.isolationScope:a.getIsolationScope()};return d.scope.setPropagationContext(c),L(u,d)}fields(){return[y,E]}_shouldInjectTraceData(e,t){if(void 0===e)return!0;const n=this._urlMatchesTargetsMap.get(t);if(void 0!==n)return n;const r=s.stringMatchesSomePattern(t,e);return this._urlMatchesTargetsMap.set(t,r),r}}function K(e,t){if(j([e,"optionalAccess",e=>e.dsc]))return e.dsc;const n=a.getClient();return n?a.getDynamicSamplingContextFromClient(t||e.traceId,n):void 0}function X(e,{sentryTrace:t,baggage:n}){const r=U(s.propagationContextFromHeaders(t,n));return i.trace.setSpanContext(e,r)}function Z(e,t){const n=Q(),{name:r,parentSpan:o}=e;return te(o)((()=>{const o=ee(e.scope,e.forceTransaction),s=e.onlyIfParent&&!i.trace.getSpan(o)?c.suppressTracing(o):o,u=q(e);return n.startActiveSpan(r,u,s,(e=>a.handleCallbackErrors((()=>t(e)),(()=>{void 0===a.spanToJSON(e).status&&e.setStatus({code:i.SpanStatusCode.ERROR})}),(()=>e.end()))))}))}function $(e,t){const n=Q(),{name:r,parentSpan:o}=e;return te(o)((()=>{const o=ee(e.scope,e.forceTransaction),s=e.onlyIfParent&&!i.trace.getSpan(o)?c.suppressTracing(o):o,u=q(e);return n.startActiveSpan(r,u,s,(e=>a.handleCallbackErrors((()=>t(e,(()=>e.end()))),(()=>{void 0===a.spanToJSON(e).status&&e.setStatus({code:i.SpanStatusCode.ERROR})}))))}))}function J(e){const t=Q(),{name:n,parentSpan:r}=e;return te(r)((()=>{const r=ee(e.scope,e.forceTransaction),o=e.onlyIfParent&&!i.trace.getSpan(r)?c.suppressTracing(r):r,s=q(e);return t.startSpan(n,s,o)}))}function z(e,t){const n=e?i.trace.setSpan(i.context.active(),e):i.trace.deleteSpan(i.context.active());return i.context.with(n,(()=>t(a.getCurrentScope())))}function Q(){const e=a.getClient();return e&&e.tracer||i.trace.getTracer("@sentry/opentelemetry",a.SDK_VERSION)}function q(e){const{startTime:t,attributes:n,kind:r,op:o}=e,s="number"==typeof t?(i=t)<9999999999?1e3*i:i:t;var i;return{attributes:o?{[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:o,...n}:n,kind:r,startTime:s}}function ee(e,t){const n=function(e){if(e){const t=function(e){return e[w]}(e);if(t)return t}return i.context.active()}(e),r=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}([P,"call",e=>e(n),"optionalAccess",e=>e.scope]),o=i.trace.getSpan(n);if(!o){const e=a.getClient();if(r&&e){const e=r.getPropagationContext(),t=k({parentSpanId:e.parentSpanId,dsc:void 0,sampled:e.sampled}),o={traceId:e.traceId,spanId:e.parentSpanId||e.spanId,isRemote:!0,traceFlags:e.sampled?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,traceState:t};return i.trace.setSpanContext(n,o)}return n}if(!t)return n;const s=i.trace.deleteSpan(n),{spanId:c,traceId:u}=o.spanContext(),l=B(o.spanContext()),d=a.getRootSpan(o),p=k({dsc:a.getDynamicSamplingContextFromSpan(d),parentSpanId:c!==i.INVALID_SPANID?c:void 0,sampled:l}),h={traceId:u,spanId:c,isRemote:!0,traceFlags:l?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,traceState:p};return i.trace.setSpanContext(s,h)}function te(e){return void 0!==e?t=>z(e,t):e=>e()}function ne(e){const t=c.suppressTracing(i.context.active());return i.context.with(t,e)}function re(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function oe(e){return!0===e.attributes[d]?void 0:e.parentSpanId}function se(e,t){const n=t.spanContext().spanId,r=oe(t);if(!r)return void ie(e,{id:n,span:t,children:[]});const o=function(e,t){const n=e.get(t);return n||ie(e,{id:t,children:[]})}(e,r),s=ie(e,{id:n,span:t,parentNode:o,children:[]});o.children.push(s)}function ie(e,t){const n=e.get(t.id);return n&&n.span?n:n&&!n.span?(n.span=t.span,n.parentNode=t.parentNode,n):(e.set(t.id,t),t)}const ae={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},ce=e=>Object.values(ae).includes(e);function ue(e){const t=h(e)?e.attributes:{},n=m(e)?e.status:void 0;if(n){if(n.code===i.SpanStatusCode.OK)return{code:a.SPAN_STATUS_OK};if(n.code===i.SpanStatusCode.ERROR){if(void 0===n.message){const e=le(t);if(e)return e}return n.message&&ce(n.message)?{code:a.SPAN_STATUS_ERROR,message:n.message}:{code:a.SPAN_STATUS_ERROR,message:"unknown_error"}}}return le(t)||(n&&n.code===i.SpanStatusCode.UNSET?{code:a.SPAN_STATUS_OK}:{code:a.SPAN_STATUS_ERROR,message:"unknown_error"})}function le(e){const t=e[o.SEMATTRS_HTTP_STATUS_CODE],n=e[o.SEMATTRS_RPC_GRPC_STATUS_CODE],r="number"==typeof t?t:"string"==typeof t?parseInt(t):void 0;return"number"==typeof r?a.getSpanStatusFromHttpCode(r):"string"==typeof n?{code:a.SPAN_STATUS_ERROR,message:ae[n]||"unknown_error"}:void 0}function de(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}class pe{constructor(e){this._finishedSpans=[],this._timeout=de([e,"optionalAccess",e=>e.timeout])||300}export(e){if(this._finishedSpans.push(e),oe(e)){const e=this._finishedSpans.length;return V&&s.logger.log(`SpanExporter has ${e} unsent spans remaining`),void this._cleanupOldSpans()}this._clearTimeout(),this._flushTimeout=setTimeout((()=>{this.flush()}),1)}flush(){this._clearTimeout();const e=this._finishedSpans.length,t=function(e){const t=function(e){const t=new Map;for(const n of e)se(t,n);return Array.from(t,(function([e,t]){return t}))}(e),n=new Set(t);return(r=t,r.filter(he)).forEach((e=>{n.delete(e);const t=e.span,r=function(e){const{op:t,description:n,data:r,origin:o="manual",source:i}=me(e),c=a.getCapturedScopesOnSpan(e),u=e.attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],l=s.dropUndefinedKeys({[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:i,[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:u,[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t,[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:o,...r,..._e(e.attributes)}),{traceId:d,spanId:p}=e.spanContext(),h=de([e,"access",e=>e.spanContext,"call",e=>e(),"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(T)]),f="string"==typeof h?h||void 0:e.parentSpanId,m=ue(e);return{contexts:{trace:s.dropUndefinedKeys({parent_span_id:f,span_id:p,trace_id:d,data:l,origin:o,op:t,status:a.getStatusMessage(m)}),otel:{resource:e.resource.attributes}},spans:[],start_timestamp:a.spanTimeInputToSeconds(e.startTime),timestamp:a.spanTimeInputToSeconds(e.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{...s.dropUndefinedKeys({capturedSpanScope:c.scope,capturedSpanIsolationScope:c.isolationScope,sampleRate:u,dynamicSamplingContext:a.getDynamicSamplingContextFromSpan(e)})},...i&&{transaction_info:{source:i}},_metrics_summary:a.getMetricSummaryJsonForSpan(e)}}(t),o=r.spans||[];e.children.forEach((e=>{fe(e,o,n)})),r.spans=o.length>1e3?o.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):o;const i=a.timedEventsToMeasurements(t.events);i&&(r.measurements=i),a.captureEvent(r)})),Array.from(n).map((e=>e.span)).filter((e=>!!e));var r}(this._finishedSpans),n=t.length,r=e-n;V&&s.logger.log(`SpanExporter exported ${r} spans, ${n} unsent spans remaining`),this._cleanupOldSpans(t)}clear(){this._finishedSpans=[],this._clearTimeout()}_clearTimeout(){this._flushTimeout&&(clearTimeout(this._flushTimeout),this._flushTimeout=void 0)}_cleanupOldSpans(e=this._finishedSpans){this._finishedSpans=e.filter((e=>{const t=function(e,t){const n=Date.now()/1e3-t;return a.spanTimeInputToSeconds(e.startTime)<n}(e,this._timeout);return V&&t&&s.logger.log(`SpanExporter dropping span ${e.name} (${e.spanContext().spanId}) because it is pending for more than 5 minutes.`),!t}))}}function he(e){return!!e.span&&!e.parentNode}function fe(e,t,n){n.delete(e);const r=e.span;if(!r)return void e.children.forEach((e=>{fe(e,t,n)}));const o=r.spanContext().spanId,i=r.spanContext().traceId,{attributes:c,startTime:u,endTime:l,parentSpanId:d}=r,{op:p,description:h,data:f,origin:m="manual"}=me(r),_=s.dropUndefinedKeys({[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:m,[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:p,..._e(c),...f}),g=ue(r),S=s.dropUndefinedKeys({span_id:o,trace_id:i,data:_,description:h,parent_span_id:d,start_timestamp:a.spanTimeInputToSeconds(u),timestamp:a.spanTimeInputToSeconds(l)||void 0,status:a.getStatusMessage(g),op:p,origin:m,_metrics_summary:a.getMetricSummaryJsonForSpan(r),measurements:a.timedEventsToMeasurements(r.events)});t.push(S),e.children.forEach((e=>{fe(e,t,n)}))}function me(e){const{op:t,source:n,origin:r}=function(e){const t=e.attributes;return{origin:t[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],op:t[a.SEMANTIC_ATTRIBUTE_SENTRY_OP],source:t[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]}}(e),{op:o,description:s,source:i,data:c}=x(e);return{op:t||o,description:s,source:n||i,origin:r,data:{...c,...ge(e)}}}function _e(e){const t={...e};return delete t[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],delete t[d],t}function ge(e){const t=e.attributes,n={};if(e.kind!==i.SpanKind.INTERNAL&&(n["otel.kind"]=i.SpanKind[e.kind]),t[o.SEMATTRS_HTTP_STATUS_CODE]){const e=t[o.SEMATTRS_HTTP_STATUS_CODE];n["http.response.status_code"]=e}const r=S(e);return r.url&&(n.url=r.url),r["http.query"]&&(n["http.query"]=r["http.query"].slice(1)),r["http.fragment"]&&(n["http.fragment"]=r["http.fragment"].slice(1)),n}function Se(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function be({decision:e,context:t,spanAttributes:n}){const s=function(e,t){const n=i.trace.getSpan(e),s=r([n,"optionalAccess",e=>e.spanContext,"call",e=>e()]);let a=r([s,"optionalAccess",e=>e.traceState])||new c.TraceState;const u=t[o.SEMATTRS_HTTP_URL];return u&&"string"==typeof u&&(a=a.set(R,u)),a}(t,n);return null==e?{decision:u.SamplingDecision.NOT_RECORD,traceState:s}:e===u.SamplingDecision.NOT_RECORD?{decision:e,traceState:s.set(I,"1")}:{decision:e,traceState:s}}t.getClient=a.getClient,t.getCurrentHubShim=a.getCurrentHubShim,t.getDynamicSamplingContextFromSpan=a.getDynamicSamplingContextFromSpan,t.SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION=p,t.SentryPropagator=W,t.SentrySampler=class{constructor(e){this._client=e,H("SentrySampler")}shouldSample(e,t,n,c,l,d){const p=this._client.getOptions(),h=i.trace.getSpan(e),f=r([h,"optionalAccess",e=>e.spanContext,"call",e=>e()]);if(!a.hasTracingEnabled(p))return be({decision:void 0,context:e,spanAttributes:l});if(c===i.SpanKind.CLIENT&&l[o.SEMATTRS_HTTP_METHOD]&&(!h||r([f,"optionalAccess",e=>e.isRemote])))return be({decision:void 0,context:e,spanAttributes:l});const m=h?function(e,t,n){const r=e.spanContext();if(i.isSpanContextValid(r)&&r.traceId===t){if(r.isRemote){const t=function(e){const t=e.spanContext().traceId,n=Y(e);return n&&t===n.traceId?n.sampled:void 0}(e);return V&&s.logger.log(`[Tracing] Inheriting remote parent's sampled decision for ${n}: ${t}`),t}const t=B(r);return V&&s.logger.log(`[Tracing] Inheriting parent's sampled decision for ${n}: ${t}`),t}}(h,t,n):void 0,{description:_,data:g,op:S}=M(n,l,c),b={...g,...l};S&&(b[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]=S);const y={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:b,spanName:_,parentSampled:m,parentContext:f},y),!y.decision)return be({decision:void 0,context:e,spanAttributes:l});const[E,v]=a.sampleSpan(p,{name:_,attributes:b,transactionContext:{name:_,parentSampled:m},parentSampled:m}),T={[a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:v},I=`${l[o.SEMATTRS_HTTP_METHOD]}`.toUpperCase();return"OPTIONS"===I||"HEAD"===I?(V&&s.logger.log(`[Tracing] Not sampling span because HTTP method is '${I}' for ${n}`),{...be({decision:u.SamplingDecision.NOT_RECORD,context:e,spanAttributes:l}),attributes:T}):E?{...be({decision:u.SamplingDecision.RECORD_AND_SAMPLED,context:e,spanAttributes:l}),attributes:T}:{...be({decision:u.SamplingDecision.NOT_RECORD,context:e,spanAttributes:l}),attributes:T}}toString(){return"SentrySampler"}},t.SentrySpanProcessor=class{constructor(e){H("SentrySpanProcessor"),this._exporter=new pe(e)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(e,t){!function(e,t){const n=i.trace.getSpan(t);let r=P(t);n&&!n.spanContext().isRemote&&a.addChildSpanToSpan(n,e),n&&n.spanContext().isRemote&&e.setAttribute(d,!0),t===i.ROOT_CONTEXT&&(r={scope:a.getDefaultCurrentScope(),isolationScope:a.getDefaultIsolationScope()}),r&&a.setCapturedScopesOnSpan(e,r.scope,r.isolationScope),a.logSpanStart(e),Se([a.getClient(),"optionalAccess",e=>e.emit,"call",t=>t("spanStart",e)])}(e,t)}onEnd(e){!function(e){a.logSpanEnd(e),Se([a.getClient(),"optionalAccess",e=>e.emit,"call",t=>t("spanEnd",e)])}(e),this._exporter.export(e)}},t.addOpenTelemetryInstrumentation=function(...e){l.registerInstrumentations({instrumentations:e})},t.continueTrace=function(e,t){return a.continueTrace(e,(()=>function(e,t,n){const r=X(e,t);return i.context.with(r,n)}(i.context.active(),e,t)))},t.enhanceDscWithOpenTelemetryRootSpanName=function(e){e.on("createDsc",((e,t)=>{if(t){const n=(a.spanToJSON(t).data||{})[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],{description:r}=_(t)?x(t):{description:void 0};"url"!==n&&r&&(e.transaction=r)}}))},t.generateSpanContextForPropagationContext=U,t.getActiveSpan=G,t.getPropagationContextFromSpan=Y,t.getRequestSpanData=S,t.getScopesFromContext=P,t.getSpanKind=b,t.isSentryRequestSpan=function(e){if(!h(e))return!1;const{attributes:t}=e,n=t[o.SEMATTRS_HTTP_URL];return!!n&&a.isSentryRequestUrl(n.toString(),a.getClient())},t.openTelemetrySetupCheck=function(){return Array.from(F)},t.setOpenTelemetryContextAsyncContextStrategy=function(){function e(){return P(i.context.active())||{scope:a.getDefaultCurrentScope(),isolationScope:a.getDefaultIsolationScope()}}function t(){return e().scope}function n(){return e().isolationScope}a.setAsyncContextStrategy({withScope:function(e){const n=i.context.active();return i.context.with(n,(()=>e(t())))},withSetScope:function(e,t){const n=i.context.active();return i.context.with(n.setValue(O,e),(()=>t(e)))},withSetIsolationScope:function(e,t){const r=i.context.active();return i.context.with(r.setValue(N,e),(()=>t(n())))},withIsolationScope:function(e){const t=i.context.active();return i.context.with(t.setValue(A,!0),(()=>e(n())))},getCurrentScope:t,getIsolationScope:n,startSpan:Z,startSpanManual:$,startInactiveSpan:J,getActiveSpan:G,withActiveSpan:z,suppressTracing:ne})},t.setupEventContextTrace=function(e){e.on("preprocessEvent",(e=>{const t=G();if(!t||"transaction"===e.type)return;const n=t.spanContext(),r=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}([n,"access",e=>e.traceState,"optionalAccess",e=>e.get,"call",e=>e(T)]),o="string"==typeof r?r||void 0:g(t)?t.parentSpanId:void 0;e.contexts={trace:s.dropUndefinedKeys({trace_id:n.traceId,span_id:n.spanId,parent_span_id:o}),...e.contexts};const i=a.getRootSpan(t);return e.sdkProcessingMetadata={dynamicSamplingContext:a.getDynamicSamplingContextFromSpan(i),...e.sdkProcessingMetadata},e}))},t.spanHasAttributes=h,t.spanHasEvents=function(e){const t=e;return Array.isArray(t.events)},t.spanHasKind=f,t.spanHasName=_,t.spanHasParentId=g,t.spanHasStatus=m,t.startInactiveSpan=J,t.startSpan=Z,t.startSpanManual=$,t.suppressTracing=ne,t.withActiveSpan=z,t.wrapClientClass=function(e){return class extends e{constructor(...e){super(...e)}get tracer(){if(this._tracer)return this._tracer;const e=a.SDK_VERSION,t=i.trace.getTracer("@sentry/opentelemetry",e);return this._tracer=t,t}async flush(e){const t=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}([this.traceProvider,"optionalAccess",e=>e.activeSpanProcessor]);return t&&await t.forceFlush(),super.flush(e)}}},t.wrapContextManagerClass=function(e){return class extends e{constructor(...e){super(...e),H("SentryContextManager")}with(e,t,n,...r){const o=P(e),i=re([o,"optionalAccess",e=>e.scope])||a.getCurrentScope(),c=re([o,"optionalAccess",e=>e.isolationScope])||a.getIsolationScope(),u=!0===e.getValue(A),l=e.getValue(O),d=e.getValue(N),p=l||i.clone(),h=L(e,{scope:p,isolationScope:d||(u?c.clone():c)}).deleteValue(A).deleteValue(O).deleteValue(N);return function(e,t){s.addNonEnumerableProperty(e,w,t)}(p,h),super.with(h,t,n,...r)}}},t.wrapSamplingDecision=be},30220:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124),o=n(3624);function s(e,t,n,o,c,u,l,d){if(u.length>=n+1)return u;let p=[...u];if(r.isInstanceOf(o[c],Error)){i(l,d);const r=e(t,o[c]),u=p.length;a(r,c,u,d),p=s(e,t,n,o[c],c,[r,...p],r,u)}return Array.isArray(o.errors)&&o.errors.forEach(((o,u)=>{if(r.isInstanceOf(o,Error)){i(l,d);const r=e(t,o),h=p.length;a(r,`errors[${u}]`,h,d),p=s(e,t,n,o,c,[r,...p],r,h)}})),p}function i(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function a(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}t.applyAggregateErrorsToEvent=function(e,t,n=250,i,a,c,u){if(!(c.exception&&c.exception.values&&u&&r.isInstanceOf(u.originalException,Error)))return;const l=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var d,p;l&&(c.exception.values=(d=s(e,t,a,u.originalException,i,c.exception.values,l,0),p=n,d.map((e=>(e.value&&(e.value=o.truncate(e.value,p)),e)))))}},36552:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(47728),o=n(26464),s=n(27740);t.callFrameToStackFrame=function(e,t,n){const i=t?t.replace(/^file:\/\//,""):void 0,a=e.location.columnNumber?e.location.columnNumber+1:void 0,c=e.location.lineNumber?e.location.lineNumber+1:void 0;return o.dropUndefinedKeys({filename:i,module:n(i),function:e.functionName||s.UNKNOWN_FUNCTION,colno:a,lineno:c,in_app:i?r.filenameIsInApp(i):void 0})},t.watchdogTimer=function(e,t,n,r){const o=e();let s=!1,i=!0;return setInterval((()=>{const e=o.getTimeMs();!1===s&&e>t+n&&(s=!0,i&&r()),e<t+n&&(s=!1)}),20),{poll:()=>{o.reset()},enabled:e=>{i=e}}}},16312:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){const t=[],n=e=>{e.forEach((e=>{Array.isArray(e)?n(e):t.push(e)}))};return n(e),t}},89052:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57720),o=n(75124),s=n(77464),i="sentry-",a=/^sentry-/;function c(e){if(e&&(o.isString(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=u(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{}):u(e)}function u(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}t.BAGGAGE_HEADER_NAME="baggage",t.MAX_BAGGAGE_STRING_LENGTH=8192,t.SENTRY_BAGGAGE_KEY_PREFIX=i,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=a,t.baggageHeaderToDynamicSamplingContext=function(e){const t=c(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(a)&&(e[t.slice(7)]=n),e)),{});return Object.keys(n).length>0?n:void 0},t.dynamicSamplingContextToSentryBaggageHeader=function(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,n],o)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,a=0===o?i:`${e},${i}`;return a.length>8192?(r.DEBUG_BUILD&&s.logger.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${i}${t}`]=n),e)),{}))},t.parseBaggageHeader=c},59696:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124),o=n(72104).GLOBAL_OBJ;function s(e,t){const n=e,s=[];if(!n||!n.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}s.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{s.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&s.push(`#${n.id}`);const e=n.className;if(e&&r.isString(e)){const t=e.split(/\s+/);for(const e of t)s.push(`.${e}`)}}const a=["aria-label","type","name","title","alt"];for(const e of a){const t=n.getAttribute(e);t&&s.push(`[${e}="${t}"]`)}return s.join("")}t.getComponentName=function(e){if(!o.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null},t.getDomElement=function(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null},t.getLocationHref=function(){try{return o.document.location.href}catch(e){return""}},t.htmlTreeAsString=function(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,a=0;const c=" > ",u=c.length;let l;const d=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(l=s(n,d),!("html"===l||i>1&&a+o.length*u+l.length>=p));)o.push(l),a+=l.length,n=n.parentNode;return o.reverse().join(c)}catch(e){return"<unknown>"}}},89008:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(73660);t._asyncNullishCoalesce=async function(e,t){return r._nullishCoalesce(e,t)}},5444:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._asyncOptionalChain=async function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=await s(n)):"call"!==o&&"optionalCall"!==o||(n=await s(((...e)=>n.call(t,...e))),t=void 0)}return n}},66568:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5444);t._asyncOptionalChainDelete=async function(e){const t=await r._asyncOptionalChain(e);return null==t||t}},73660:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._nullishCoalesce=function(e,t){return null!=e?e:t()}},10052:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._optionalChain=function(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}},47720:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(10052);t._optionalChainDelete=function(e){const t=r._optionalChain(e);return null==t||t}},90192:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeFifoCache=function(e){let t=[],n={};return{add(r,o){for(;t.length>=e;){const e=t.shift();void 0!==e&&delete n[e]}n[r]&&this.delete(r),t.push(r),n[r]=o},clear(){n={},t=[]},get:e=>n[e],size:()=>t.length,delete(e){if(!n[e])return!1;delete n[e];for(let n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}return!0}}}},57360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(99096),o=n(4544);t.createClientReportEnvelope=function(e,t,n){const s=[{type:"client_report"},{timestamp:n||o.dateTimestampInSeconds(),discarded_events:e}];return r.createEnvelope(t?{dsn:t}:{},[s])}},6156:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseCookie=function(e){const t={};let n=0;for(;n<e.length;){const r=e.indexOf("=",n);if(-1===r)break;let o=e.indexOf(";",n);if(-1===o)o=e.length;else if(o<r){n=e.lastIndexOf(";",r-1)+1;continue}const s=e.slice(n,r).trim();if(void 0===t[s]){let n=e.slice(r+1,o).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{t[s]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch(e){t[s]=n}}n=o+1}return t}},57720:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},23064:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57720),o=n(77464),s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e){const t=s.exec(e);if(!t)return void o.consoleSandbox((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",c="",u="",l=""]=t.slice(1);let d="",p=l;const h=p.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),p=h.pop()),p){const e=p.match(/^\d+/);e&&(p=e[0])}return a({host:c,pass:i,path:d,projectId:p,port:u,protocol:n,publicKey:r})}function a(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}t.dsnFromString=i,t.dsnToString=function(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`},t.makeDsn=function(e){const t="string"==typeof e?i(e):a(e);if(t&&function(e){if(!r.DEBUG_BUILD)return!0;const{port:t,projectId:n,protocol:s}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(s)?t&&isNaN(parseInt(t,10))&&(o.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}},1596:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKSource=function(){return"npm"},t.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},99096:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(23064),o=n(4675),s=n(26464),i=n(72104);function a(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function c(e){return i.GLOBAL_OBJ.__SENTRY__&&i.GLOBAL_OBJ.__SENTRY__.encodePolyfill?i.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}const u={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};t.addItemToEnvelope=function(e,t){const[n,r]=e;return[n,[...r,t]]},t.createAttachmentEnvelopeItem=function(e){const t="string"==typeof e.data?c(e.data):e.data;return[s.dropUndefinedKeys({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]},t.createEnvelope=function(e,t=[]){return[e,t]},t.createEventEnvelopeHeaders=function(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:r.dsnToString(o)},...i&&{trace:s.dropUndefinedKeys({...i})}}},t.createSpanEnvelopeItem=function(e){return[{type:"span"},e]},t.envelopeContainsItemType=function(e,t){return a(e,((e,n)=>t.includes(n)))},t.envelopeItemTypeToDataCategory=function(e){return u[e]},t.forEachEnvelopeItem=a,t.getSdkMetadataForEnvelopeHeader=function(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}},t.parseEnvelope=function(e){let t="string"==typeof e?c(e):e;function n(e){const n=t.subarray(0,e);return t=t.subarray(e+1),n}function r(){let e=t.indexOf(10);return e<0&&(e=t.length),JSON.parse((r=n(e),i.GLOBAL_OBJ.__SENTRY__&&i.GLOBAL_OBJ.__SENTRY__.decodePolyfill?i.GLOBAL_OBJ.__SENTRY__.decodePolyfill(r):(new TextDecoder).decode(r)));var r}const o=r(),s=[];for(;t.length;){const e=r(),t="number"==typeof e.length?e.length:void 0;s.push([e,t?n(t):r()])}return[o,s]},t.serializeEnvelope=function(e){const[t,n]=e;let r=JSON.stringify(t);function s(e){"string"==typeof r?r="string"==typeof e?r+e:[c(r),e]:r.push("string"==typeof e?c(e):e)}for(const e of n){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(o.normalize(n))}s(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}},83772:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}t.SentryError=n},32824:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124),o=n(624),s=n(4675),i=n(26464);function a(e,t){return e(t.stack||"",1)}function c(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=a(e,t);return r.length&&(n.stacktrace={frames:r}),n}function u(e,t,n,o){if(r.isError(n))return[n,void 0];if(t.synthetic=!0,r.isPlainObject(n)){const t=e&&e.getOptions().normalizeDepth,a={__serialized__:s.normalizeToSize(n,t)},c=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(n);if(c)return[c,a];const u=function(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;const t=i.extractExceptionKeysForMessage(e);if(r.isErrorEvent(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;const n=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${t}`}(n),l=o&&o.syntheticException||new Error(u);return l.message=u,[l,a]}const a=o&&o.syntheticException||new Error(n);return a.message=`${n}`,[a,void 0]}t.eventFromMessage=function(e,t,n="info",o,s){const i={event_id:o&&o.event_id,level:n};if(s&&o&&o.syntheticException){const n=a(e,o.syntheticException);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]})}if(r.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i},t.eventFromUnknownInput=function(e,t,n,r){const s=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"},[i,a]=u(e,s,n,r),l={exception:{values:[c(t,i)]}};return a&&(l.extra=a),o.addExceptionTypeValue(l,void 0,void 0),o.addExceptionMechanism(l,s),{...l,event_id:r&&r.event_id}},t.exceptionFromError=c,t.parseStackFrames=a},44072:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(30220),o=n(16312),s=n(59696),i=n(23064),a=n(83772),c=n(72104),u=n(32924),l=n(69512),d=n(48480),p=n(95940),h=n(39492),f=n(75124),m=n(3924),_=n(77464),g=n(29488),S=n(624),b=n(36240),y=n(4675),E=n(26464),v=n(30517),T=n(82720),I=n(74336),R=n(71528),C=n(27740),A=n(47728),O=n(3624),N=n(63656),w=n(87285),P=n(4544),L=n(8636),M=n(1596),x=n(99096),k=n(57360),U=n(91380),G=n(89052),V=n(44264),D=n(90192),B=n(32824),F=n(36552),H=n(57728),j=n(89008),Y=n(5444),W=n(66568),K=n(73660),X=n(10052),Z=n(47720),$=n(73040),J=n(5360),z=n(31344),Q=n(28608);t.applyAggregateErrorsToEvent=r.applyAggregateErrorsToEvent,t.flatten=o.flatten,t.getComponentName=s.getComponentName,t.getDomElement=s.getDomElement,t.getLocationHref=s.getLocationHref,t.htmlTreeAsString=s.htmlTreeAsString,t.dsnFromString=i.dsnFromString,t.dsnToString=i.dsnToString,t.makeDsn=i.makeDsn,t.SentryError=a.SentryError,t.GLOBAL_OBJ=c.GLOBAL_OBJ,t.getGlobalSingleton=c.getGlobalSingleton,t.addConsoleInstrumentationHandler=u.addConsoleInstrumentationHandler,t.addFetchEndInstrumentationHandler=l.addFetchEndInstrumentationHandler,t.addFetchInstrumentationHandler=l.addFetchInstrumentationHandler,t.addGlobalErrorInstrumentationHandler=d.addGlobalErrorInstrumentationHandler,t.addGlobalUnhandledRejectionInstrumentationHandler=p.addGlobalUnhandledRejectionInstrumentationHandler,t.addHandler=h.addHandler,t.maybeInstrument=h.maybeInstrument,t.resetInstrumentationHandlers=h.resetInstrumentationHandlers,t.triggerHandlers=h.triggerHandlers,t.isDOMError=f.isDOMError,t.isDOMException=f.isDOMException,t.isElement=f.isElement,t.isError=f.isError,t.isErrorEvent=f.isErrorEvent,t.isEvent=f.isEvent,t.isInstanceOf=f.isInstanceOf,t.isParameterizedString=f.isParameterizedString,t.isPlainObject=f.isPlainObject,t.isPrimitive=f.isPrimitive,t.isRegExp=f.isRegExp,t.isString=f.isString,t.isSyntheticEvent=f.isSyntheticEvent,t.isThenable=f.isThenable,t.isVueViewModel=f.isVueViewModel,t.isBrowser=m.isBrowser,t.CONSOLE_LEVELS=_.CONSOLE_LEVELS,t.consoleSandbox=_.consoleSandbox,t.logger=_.logger,t.originalConsoleMethods=_.originalConsoleMethods,t.memoBuilder=g.memoBuilder,t.addContextToFrame=S.addContextToFrame,t.addExceptionMechanism=S.addExceptionMechanism,t.addExceptionTypeValue=S.addExceptionTypeValue,t.arrayify=S.arrayify,t.checkOrSetAlreadyCaught=S.checkOrSetAlreadyCaught,t.getEventDescription=S.getEventDescription,t.parseSemver=S.parseSemver,t.uuid4=S.uuid4,t.dynamicRequire=b.dynamicRequire,t.isNodeEnv=b.isNodeEnv,t.loadModule=b.loadModule,t.normalize=y.normalize,t.normalizeToSize=y.normalizeToSize,t.normalizeUrlToBase=y.normalizeUrlToBase,t.addNonEnumerableProperty=E.addNonEnumerableProperty,t.convertToPlainObject=E.convertToPlainObject,t.dropUndefinedKeys=E.dropUndefinedKeys,t.extractExceptionKeysForMessage=E.extractExceptionKeysForMessage,t.fill=E.fill,t.getOriginalFunction=E.getOriginalFunction,t.markFunctionWrapped=E.markFunctionWrapped,t.objectify=E.objectify,t.urlEncode=E.urlEncode,t.basename=v.basename,t.dirname=v.dirname,t.isAbsolute=v.isAbsolute,t.join=v.join,t.normalizePath=v.normalizePath,t.relative=v.relative,t.resolve=v.resolve,t.makePromiseBuffer=T.makePromiseBuffer,t.DEFAULT_USER_INCLUDES=I.DEFAULT_USER_INCLUDES,t.addRequestDataToEvent=I.addRequestDataToEvent,t.extractPathForTransaction=I.extractPathForTransaction,t.extractRequestData=I.extractRequestData,t.winterCGHeadersToDict=I.winterCGHeadersToDict,t.winterCGRequestToRequestData=I.winterCGRequestToRequestData,t.severityLevelFromString=R.severityLevelFromString,t.validSeverityLevels=R.validSeverityLevels,t.UNKNOWN_FUNCTION=C.UNKNOWN_FUNCTION,t.createStackParser=C.createStackParser,t.getFramesFromEvent=C.getFramesFromEvent,t.getFunctionName=C.getFunctionName,t.stackParserFromStackParserOptions=C.stackParserFromStackParserOptions,t.stripSentryFramesAndReverse=C.stripSentryFramesAndReverse,t.filenameIsInApp=A.filenameIsInApp,t.node=A.node,t.nodeStackLineParser=A.nodeStackLineParser,t.isMatchingPattern=O.isMatchingPattern,t.safeJoin=O.safeJoin,t.snipLine=O.snipLine,t.stringMatchesSomePattern=O.stringMatchesSomePattern,t.truncate=O.truncate,t.isNativeFunction=N.isNativeFunction,t.supportsDOMError=N.supportsDOMError,t.supportsDOMException=N.supportsDOMException,t.supportsErrorEvent=N.supportsErrorEvent,t.supportsFetch=N.supportsFetch,t.supportsNativeFetch=N.supportsNativeFetch,t.supportsReferrerPolicy=N.supportsReferrerPolicy,t.supportsReportingObserver=N.supportsReportingObserver,t.SyncPromise=w.SyncPromise,t.rejectedSyncPromise=w.rejectedSyncPromise,t.resolvedSyncPromise=w.resolvedSyncPromise,Object.defineProperty(t,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>P._browserPerformanceTimeOriginMode}),t.browserPerformanceTimeOrigin=P.browserPerformanceTimeOrigin,t.dateTimestampInSeconds=P.dateTimestampInSeconds,t.timestampInSeconds=P.timestampInSeconds,t.TRACEPARENT_REGEXP=L.TRACEPARENT_REGEXP,t.extractTraceparentData=L.extractTraceparentData,t.generateSentryTraceHeader=L.generateSentryTraceHeader,t.propagationContextFromHeaders=L.propagationContextFromHeaders,t.getSDKSource=M.getSDKSource,t.isBrowserBundle=M.isBrowserBundle,t.addItemToEnvelope=x.addItemToEnvelope,t.createAttachmentEnvelopeItem=x.createAttachmentEnvelopeItem,t.createEnvelope=x.createEnvelope,t.createEventEnvelopeHeaders=x.createEventEnvelopeHeaders,t.createSpanEnvelopeItem=x.createSpanEnvelopeItem,t.envelopeContainsItemType=x.envelopeContainsItemType,t.envelopeItemTypeToDataCategory=x.envelopeItemTypeToDataCategory,t.forEachEnvelopeItem=x.forEachEnvelopeItem,t.getSdkMetadataForEnvelopeHeader=x.getSdkMetadataForEnvelopeHeader,t.parseEnvelope=x.parseEnvelope,t.serializeEnvelope=x.serializeEnvelope,t.createClientReportEnvelope=k.createClientReportEnvelope,t.DEFAULT_RETRY_AFTER=U.DEFAULT_RETRY_AFTER,t.disabledUntil=U.disabledUntil,t.isRateLimited=U.isRateLimited,t.parseRetryAfterHeader=U.parseRetryAfterHeader,t.updateRateLimits=U.updateRateLimits,t.BAGGAGE_HEADER_NAME=G.BAGGAGE_HEADER_NAME,t.MAX_BAGGAGE_STRING_LENGTH=G.MAX_BAGGAGE_STRING_LENGTH,t.SENTRY_BAGGAGE_KEY_PREFIX=G.SENTRY_BAGGAGE_KEY_PREFIX,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=G.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,t.baggageHeaderToDynamicSamplingContext=G.baggageHeaderToDynamicSamplingContext,t.dynamicSamplingContextToSentryBaggageHeader=G.dynamicSamplingContextToSentryBaggageHeader,t.parseBaggageHeader=G.parseBaggageHeader,t.getNumberOfUrlSegments=V.getNumberOfUrlSegments,t.getSanitizedUrlString=V.getSanitizedUrlString,t.parseUrl=V.parseUrl,t.stripUrlQueryAndFragment=V.stripUrlQueryAndFragment,t.makeFifoCache=D.makeFifoCache,t.eventFromMessage=B.eventFromMessage,t.eventFromUnknownInput=B.eventFromUnknownInput,t.exceptionFromError=B.exceptionFromError,t.parseStackFrames=B.parseStackFrames,t.callFrameToStackFrame=F.callFrameToStackFrame,t.watchdogTimer=F.watchdogTimer,t.LRUMap=H.LRUMap,t._asyncNullishCoalesce=j._asyncNullishCoalesce,t._asyncOptionalChain=Y._asyncOptionalChain,t._asyncOptionalChainDelete=W._asyncOptionalChainDelete,t._nullishCoalesce=K._nullishCoalesce,t._optionalChain=X._optionalChain,t._optionalChainDelete=Z._optionalChainDelete,t.generatePropagationContext=$.generatePropagationContext,t.SDK_VERSION=J.SDK_VERSION,t.escapeStringForRegex=z.escapeStringForRegex,t.supportsHistory=Q.supportsHistory},32924:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(77464),o=n(26464),s=n(72104),i=n(39492);function a(){"console"in s.GLOBAL_OBJ&&r.CONSOLE_LEVELS.forEach((function(e){e in s.GLOBAL_OBJ.console&&o.fill(s.GLOBAL_OBJ.console,e,(function(t){return r.originalConsoleMethods[e]=t,function(...t){const n={args:t,level:e};i.triggerHandlers("console",n);const o=r.originalConsoleMethods[e];o&&o.apply(s.GLOBAL_OBJ.console,t)}}))}))}t.addConsoleInstrumentationHandler=function(e){const t="console";i.addHandler(t,e),i.maybeInstrument(t,a)}},69512:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124),o=n(26464),s=n(63656),i=n(4544),a=n(72104),c=n(39492);function u(e,t=!1){t&&!s.supportsNativeFetch()||o.fill(a.GLOBAL_OBJ,"fetch",(function(t){return function(...n){const{method:s,url:u}=h(n),l={args:n,fetchData:{method:s,url:u},startTimestamp:1e3*i.timestampInSeconds()};e||c.triggerHandlers("fetch",{...l});const d=(new Error).stack;return t.apply(a.GLOBAL_OBJ,n).then((async t=>(e?e(t):c.triggerHandlers("fetch",{...l,endTimestamp:1e3*i.timestampInSeconds(),response:t}),t)),(e=>{throw c.triggerHandlers("fetch",{...l,endTimestamp:1e3*i.timestampInSeconds(),error:e}),r.isError(e)&&void 0===e.stack&&(e.stack=d,o.addNonEnumerableProperty(e,"framesToPop",1)),e}))}}))}async function l(e){let t;try{t=e.clone()}catch(e){return}await async function(t,n){if(t&&t.body&&t.body.getReader){const n=t.body.getReader();return n.read().then((async function e({done:t}){if(t)return Promise.resolve();try{const t=await Promise.race([n.read(),new Promise((e=>{setTimeout((()=>{e({done:!0})}),5e3)}))]);await e(t)}catch(e){}})).then((()=>{c.triggerHandlers("fetch-body-resolved",{endTimestamp:1e3*i.timestampInSeconds(),response:e})})).catch((()=>{}))}}(t)}function d(e,t){return!!e&&"object"==typeof e&&!!e[t]}function p(e){return"string"==typeof e?e:e?d(e,"url")?e.url:e.toString?e.toString():"":""}function h(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:p(t),method:d(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:p(t),method:d(t,"method")?String(t.method).toUpperCase():"GET"}}t.addFetchEndInstrumentationHandler=function(e){const t="fetch-body-resolved";c.addHandler(t,e),c.maybeInstrument(t,(()=>u(l)))},t.addFetchInstrumentationHandler=function(e,t){const n="fetch";c.addHandler(n,e),c.maybeInstrument(n,(()=>u(void 0,t)))},t.parseFetchArgs=h},48480:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(72104),o=n(39492);let s=null;function i(){s=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(e,t,n,r,i){const a={column:r,error:i,line:n,msg:e,url:t};return o.triggerHandlers("error",a),!(!s||s.__SENTRY_LOADER__)&&s.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}t.addGlobalErrorInstrumentationHandler=function(e){const t="error";o.addHandler(t,e),o.maybeInstrument(t,i)}},95940:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(72104),o=n(39492);let s=null;function i(){s=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return o.triggerHandlers("unhandledrejection",t),!(s&&!s.__SENTRY_LOADER__)||s.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}t.addGlobalUnhandledRejectionInstrumentationHandler=function(e){const t="unhandledrejection";o.addHandler(t,e),o.maybeInstrument(t,i)}},39492:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57720),o=n(77464),s=n(27740),i={},a={};t.addHandler=function(e,t){i[e]=i[e]||[],i[e].push(t)},t.maybeInstrument=function(e,t){a[e]||(t(),a[e]=!0)},t.resetInstrumentationHandlers=function(){Object.keys(i).forEach((e=>{i[e]=void 0}))},t.triggerHandlers=function(e,t){const n=e&&i[e];if(n)for(const i of n)try{i(t)}catch(t){r.DEBUG_BUILD&&o.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${s.getFunctionName(i)}\nError:`,t)}}},75124:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=Object.prototype.toString;function r(e,t){return n.call(e)===`[object ${t}]`}function o(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function s(e){return r(e,"Object")}function i(e,t){try{return e instanceof t}catch(e){return!1}}t.isDOMError=function(e){return r(e,"DOMError")},t.isDOMException=function(e){return r(e,"DOMException")},t.isElement=function(e){return"undefined"!=typeof Element&&i(e,Element)},t.isError=function(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return i(e,Error)}},t.isErrorEvent=function(e){return r(e,"ErrorEvent")},t.isEvent=function(e){return"undefined"!=typeof Event&&i(e,Event)},t.isInstanceOf=i,t.isParameterizedString=o,t.isPlainObject=s,t.isPrimitive=function(e){return null===e||o(e)||"object"!=typeof e&&"function"!=typeof e},t.isRegExp=function(e){return r(e,"RegExp")},t.isString=function(e){return r(e,"String")},t.isSyntheticEvent=function(e){return s(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},t.isThenable=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)},t.isVueViewModel=function(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},3924:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(36240),o=n(72104);t.isBrowser=function(){return"undefined"!=typeof window&&(!r.isNodeEnv()||void 0!==o.GLOBAL_OBJ.process&&"renderer"===o.GLOBAL_OBJ.process.type)}},77464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57720),o=n(72104),s=["debug","info","warn","error","log","assert","trace"],i={};function a(e){if(!("console"in o.GLOBAL_OBJ))return e();const t=o.GLOBAL_OBJ.console,n={},r=Object.keys(i);r.forEach((e=>{const r=i[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const c=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.DEBUG_BUILD?s.forEach((n=>{t[n]=(...t)=>{e&&a((()=>{o.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):s.forEach((e=>{t[e]=()=>{}})),t}();t.CONSOLE_LEVELS=s,t.consoleSandbox=a,t.logger=c,t.originalConsoleMethods=i},57728:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=class{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){const t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,t)}remove(e){const t=this._cache.get(e);return t&&this._cache.delete(e),t}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const e=[];return this._cache.forEach((t=>e.push(t))),e}}},29488:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.memoBuilder=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}},624:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(26464),o=n(3624),s=n(72104);function i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function c(e){return parseInt(e||"",10)}t.addContextToFrame=function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map((e=>o.snipLine(e,0)));const i=Math.min(r-1,s);t.context_line=o.snipLine(e[i],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map((e=>o.snipLine(e,0)))},t.addExceptionMechanism=function(e,t){const n=i(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}},t.addExceptionTypeValue=function(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")},t.arrayify=function(e){return Array.isArray(e)?e:[e]},t.checkOrSetAlreadyCaught=function(e){if(e&&e.__sentry_captured__)return!0;try{r.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(e){}return!1},t.getEventDescription=function(e){const{message:t,event_id:n}=e;if(t)return t;const r=i(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},t.parseSemver=function(e){const t=e.match(a)||[],n=c(t[1]),r=c(t[2]),o=c(t[3]);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(o)?void 0:o,prerelease:t[4]}},t.uuid4=function(){const e=s.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}},47728:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(27740);function o(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//)||void 0===e||e.includes("node_modules/"))}function s(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return s=>{const a=s.match(n);if(a){let t,n,s,c,u;if(a[1]){s=a[1];let e=s.lastIndexOf(".");if("."===s[e-1]&&e--,e>0){t=s.slice(0,e),n=s.slice(e+1);const r=t.indexOf(".Module");r>0&&(s=s.slice(r+1),t=t.slice(0,r))}c=void 0}n&&(c=t,u=n),"<anonymous>"===n&&(u=void 0,s=void 0),void 0===s&&(u=u||r.UNKNOWN_FUNCTION,s=c?`${c}.${u}`:u);let l=a[2]&&a[2].startsWith("file://")?a[2].slice(7):a[2];const d="native"===a[5];return l&&l.match(/\/[A-Z]:/)&&(l=l.slice(1)),l||!a[5]||d||(l=a[5]),{filename:l,module:e?e(l):void 0,function:s,lineno:i(a[3]),colno:i(a[4]),in_app:o(l||"",d)}}if(s.match(t))return{filename:s}}}function i(e){return parseInt(e||"",10)||void 0}t.filenameIsInApp=o,t.node=s,t.nodeStackLineParser=function(e){return[90,s(e)]}},36240:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});const r=n(1596);function o(e,t){return e.require(t)}t.dynamicRequire=o,t.isNodeEnv=function(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},t.loadModule=function(t){let n;try{n=o(e,t)}catch(e){}try{const{cwd:r}=o(e,"process");n=o(e,`${r()}/node_modules/${t}`)}catch(e){}return n}},4675:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124),o=n(29488),s=n(26464),i=n(27740);function a(e,t=100,n=1/0){try{return c("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function c(e,t,n=1/0,a=1/0,u=o.memoBuilder()){const[l,d]=u;if(null==t||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const p=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(r.isVueViewModel(t))return"[VueViewModel]";if(r.isSyntheticEvent(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${i.getFunctionName(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!p.startsWith("[object "))return p;if(t.__sentry_skip_normalization__)return t;const h="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===h)return p.replace("object ","");if(l(t))return"[Circular ~]";const f=t;if(f&&"function"==typeof f.toJSON)try{return c("",f.toJSON(),h-1,a,u)}catch(e){}const m=Array.isArray(t)?[]:{};let _=0;const g=s.convertToPlainObject(t);for(const e in g){if(!Object.prototype.hasOwnProperty.call(g,e))continue;if(_>=a){m[e]="[MaxProperties ~]";break}const t=g[e];m[e]=c(e,t,h-1,a,u),_++}return d(t),m}t.normalize=a,t.normalizeToSize=function e(t,n=3,r=102400){const o=a(t,n);return s=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>r?e(t,n-1,r):o;var s},t.normalizeUrlToBase=function(e,t){const n=t.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let r=e;try{r=decodeURI(e)}catch(e){}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${n}/*`,"ig"),"app:///")}},26464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(59696),o=n(57720),s=n(75124),i=n(77464),a=n(3624);function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){o.DEBUG_BUILD&&i.logger.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(e){}}function l(e){if(s.isError(e))return{message:e.message,name:e.name,stack:e.stack,...p(e)};if(s.isEvent(e)){const t={type:e.type,target:d(e.target),currentTarget:d(e.currentTarget),...p(e)};return"undefined"!=typeof CustomEvent&&s.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function d(e){try{return s.isElement(e)?r.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function p(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function h(e,t){if(function(e){if(!s.isPlainObject(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=h(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(h(e,t))})),r}return e}t.addNonEnumerableProperty=c,t.convertToPlainObject=l,t.dropUndefinedKeys=function(e){return h(e,new Map)},t.extractExceptionKeysForMessage=function(e,t=40){const n=Object.keys(l(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return a.truncate(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:a.truncate(r,t)}return""},t.fill=function(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&u(o,r),e[t]=o},t.getOriginalFunction=function(e){return e.__sentry_original__},t.markFunctionWrapped=u,t.objectify=function(e){let t;switch(!0){case null==e:t=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:t=Object(e);break;case s.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t},t.urlEncode=function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}},30517:(e,t)=>{function n(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}Object.defineProperty(t,"__esModule",{value:!0});const r=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function o(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=r.exec(t);return n?n.slice(1):[]}function s(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){const o=n>=0?e[n]:"/";o&&(t=`${o}/${t}`,r="/"===o.charAt(0))}return t=n(t.split("/").filter((e=>!!e)),!r).join("/"),(r?"/":"")+t||"."}function i(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function a(e){const t=c(e),r="/"===e.slice(-1);let o=n(e.split("/").filter((e=>!!e)),!t).join("/");return o||t||(o="."),o&&r&&(o+="/"),(t?"/":"")+o}function c(e){return"/"===e.charAt(0)}t.basename=function(e,t){let n=o(e)[2]||"";return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n},t.dirname=function(e){const t=o(e),n=t[0]||"";let r=t[1];return n||r?(r&&(r=r.slice(0,r.length-1)),n+r):"."},t.isAbsolute=c,t.join=function(...e){return a(e.join("/"))},t.normalizePath=a,t.relative=function(e,t){e=s(e).slice(1),t=s(t).slice(1);const n=i(e.split("/")),r=i(t.split("/")),o=Math.min(n.length,r.length);let a=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){a=e;break}let c=[];for(let e=a;e<n.length;e++)c.push("..");return c=c.concat(r.slice(a)),c.join("/")},t.resolve=s},82720:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(83772),o=n(87285);t.makePromiseBuffer=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(s){if(!(void 0===e||t.length<e))return o.rejectedSyncPromise(new r.SentryError("Not adding Promise because buffer limit was reached."));const i=s();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new o.SyncPromise(((n,r)=>{let s=t.length;if(!s)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{o.resolvedSyncPromise(e).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}},73040:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(624);t.generatePropagationContext=function(){return{traceId:r.uuid4(),spanId:r.uuid4().substring(16)}}},91380:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function n(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function r(e,t){return e[t]||e.all||0}t.DEFAULT_RETRY_AFTER=6e4,t.disabledUntil=r,t.isRateLimited=function(e,t,n=Date.now()){return r(e,t)>n},t.parseRetryAfterHeader=n,t.updateRateLimits=function(e,{statusCode:t,headers:r},o=Date.now()){const s={...e},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,r]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(s[e]=o+a);else s.all=o+a}else a?s.all=o+n(a,o):429===t&&(s.all=o+6e4);return s}},74336:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(6156),o=n(57720),s=n(75124),i=n(77464),a=n(4675),c=n(44264),u=n(61288),l={ip:!1,request:!0,transaction:!0,user:!0},d=["cookies","data","headers","method","query_string","url"],p=["id","username","email"];function h(e,t={}){const n=e.method&&e.method.toUpperCase();let r="",o="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(r=c.stripUrlQueryAndFragment(e.originalUrl||e.url||""));let s="";return t.method&&n&&(s+=n),t.method&&t.path&&(s+=" "),t.path&&r&&(s+=r),[s,o]}function f(e,t={}){const{include:n=d}=t,o={},i=e.headers||{},c=e.method,l=i.host||e.hostname||e.host||"<no host>",p="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",h=e.originalUrl||e.url||"",f=h.startsWith(p)?h:`${p}://${l}${h}`;return n.forEach((t=>{switch(t){case"headers":o.headers=i,n.includes("cookies")||delete o.headers.cookie,n.includes("ip")||u.ipHeaderNames.forEach((e=>{delete o.headers[e]}));break;case"method":o.method=c;break;case"url":o.url=f;break;case"cookies":o.cookies=e.cookies||i.cookie&&r.parseCookie(i.cookie)||{};break;case"query_string":o.query_string=function(e){let t=e.originalUrl||e.url||"";if(t){t.startsWith("/")&&(t=`http://dogs.are.great${t}`);try{const n=e.query||new URL(t).search.slice(1);return n.length?n:void 0}catch(e){return}}}(e);break;case"data":if("GET"===c||"HEAD"===c)break;void 0!==e.body&&(o.data=s.isString(e.body)?e.body:JSON.stringify(a.normalize(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(o[t]=e[t])}})),o}function m(e){const t={};try{e.forEach(((e,n)=>{"string"==typeof e&&(t[n]=e)}))}catch(e){o.DEBUG_BUILD&&i.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return t}t.DEFAULT_USER_INCLUDES=p,t.addRequestDataToEvent=function(e,t,n){const r={...l,...n&&n.include};if(r.request){const n=Array.isArray(r.request)?[...r.request]:[...d];r.ip&&n.push("ip");const o=f(t,{include:n});e.request={...e.request,...o}}if(r.user){const n=t.user&&s.isPlainObject(t.user)?function(e,t){const n={};return(Array.isArray(t)?t:p).forEach((t=>{e&&t in e&&(n[t]=e[t])})),n}(t.user,r.user):{};Object.keys(n).length&&(e.user={...e.user,...n})}if(r.ip){const n=t.headers&&u.getClientIPAddress(t.headers)||t.ip||t.socket&&t.socket.remoteAddress;n&&(e.user={...e.user,ip_address:n})}return r.transaction&&!e.transaction&&"transaction"===e.type&&(e.transaction=function(e,t){switch(t){case"path":return h(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return h(e,{path:!0,method:!0,customRoute:e._reconstructedRoute?e._reconstructedRoute:void 0})[0]}}(t,r.transaction)),e},t.extractPathForTransaction=h,t.extractRequestData=f,t.winterCGHeadersToDict=m,t.winterCGRequestToRequestData=function(e){const t=m(e.headers);return{method:e.method,url:e.url,headers:t}}},71528:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=["fatal","error","warning","log","info","debug"];t.severityLevelFromString=function(e){return"warn"===e?"warning":n.includes(e)?e:"log"},t.validSeverityLevels=n},27740:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=50,r="?",o=/\(error: (.*)\)/,s=/captureMessage|captureException/;function i(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,r=0,s=0)=>{const i=[],c=e.split("\n");for(let e=r;e<c.length;e++){const r=c[e];if(r.length>1024)continue;const a=o.test(r)?r.replace(o,"$1"):r;if(!a.match(/\S*Error: /)){for(const e of t){const t=e(a);if(t){i.push(t);break}}if(i.length>=n+s)break}}return a(i.slice(s))}}function a(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(c(t).function||"")&&t.pop(),t.reverse(),s.test(c(t).function||"")&&(t.pop(),s.test(c(t).function||"")&&t.pop()),t.slice(0,n).map((e=>({...e,filename:e.filename||c(t).filename,function:e.function||r})))}function c(e){return e[e.length-1]||{}}const u="<anonymous>";t.UNKNOWN_FUNCTION=r,t.createStackParser=i,t.getFramesFromEvent=function(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}},t.getFunctionName=function(e){try{return e&&"function"==typeof e&&e.name||u}catch(e){return u}},t.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?i(...e):e},t.stripSentryFramesAndReverse=a},3624:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124);function o(e,t,n=!1){return!!r.isString(e)&&(r.isRegExp(t)?t.test(e):!!r.isString(t)&&(n?e===t:e.includes(t)))}t.isMatchingPattern=o,t.safeJoin=function(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{r.isVueViewModel(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)},t.snipLine=function(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,r);return s>r-5&&(s=r),s===r&&(o=Math.max(s-140,0)),n=n.slice(o,s),o>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n},t.stringMatchesSomePattern=function(e,t=[],n=!1){return t.some((t=>o(e,t,n)))},t.truncate=function(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}},63656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(57720),o=n(77464),s=n(72104).GLOBAL_OBJ;function i(){if(!("fetch"in s))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}t.isNativeFunction=a,t.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},t.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},t.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},t.supportsFetch=i,t.supportsNativeFetch=function(){if("string"==typeof EdgeRuntime)return!0;if(!i())return!1;if(a(s.fetch))return!0;let e=!1;const t=s.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=a(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){r.DEBUG_BUILD&&o.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e},t.supportsReferrerPolicy=function(){if(!i())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},t.supportsReportingObserver=function(){return"ReportingObserver"in s}},87285:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(75124);var o;!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(o||(o={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=o.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(o.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(o.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===o.PENDING&&(r.isThenable(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===o.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===o.RESOLVED&&e[1](this._value),this._state===o.REJECTED&&e[2](this._value),e[0]=!0)}))}}}t.SyncPromise=s,t.rejectedSyncPromise=function(e){return new s(((t,n)=>{n(e)}))},t.resolvedSyncPromise=function(e){return new s((t=>{t(e)}))}},4544:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(72104);function o(){return Date.now()/1e3}const s=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return o;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();t._browserPerformanceTimeOriginMode=void 0;const i=(()=>{const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return void(t._browserPerformanceTimeOriginMode="none");const n=36e5,o=e.now(),s=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+o-s):n,a=i<n,c=e.timing&&e.timing.navigationStart,u="number"==typeof c?Math.abs(c+o-s):n;return a||u<n?i<=u?(t._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(t._browserPerformanceTimeOriginMode="navigationStart",c):(t._browserPerformanceTimeOriginMode="dateNow",s)})();t.browserPerformanceTimeOrigin=i,t.dateTimestampInSeconds=o,t.timestampInSeconds=s},8636:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(89052),o=n(624),s=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(e){if(!e)return;const t=e.match(s);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}t.TRACEPARENT_REGEXP=s,t.extractTraceparentData=i,t.generateSentryTraceHeader=function(e=o.uuid4(),t=o.uuid4().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`},t.propagationContextFromHeaders=function(e,t){const n=i(e),s=r.baggageHeaderToDynamicSamplingContext(t),{traceId:a,parentSpanId:c,parentSampled:u}=n||{};return n?{traceId:a||o.uuid4(),parentSpanId:c||o.uuid4().substring(16),spanId:o.uuid4().substring(16),sampled:u,dsc:s||{}}:{traceId:a||o.uuid4(),spanId:o.uuid4().substring(16)}}},44264:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfUrlSegments=function(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length},t.getSanitizedUrlString=function(e){const{protocol:t,host:n,path:r}=e;return`${t?`${t}://`:""}${n&&n.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||""}${r}`},t.parseUrl=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}},t.stripUrlQueryAndFragment=function(e){return e.split(/[?#]/,1)[0]}},31344:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},61288:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"];t.getClientIPAddress=function(e){return n.map((t=>{const n=e[t],r=Array.isArray(n)?n.join(";"):n;return"Forwarded"===t?function(e){if(!e)return null;for(const t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}(r):r&&r.split(",").map((e=>e.trim()))})).reduce(((e,t)=>t?e.concat(t):e),[]).find((e=>null!==e&&/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(e)))||null},t.ipHeaderNames=n},28608:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(72104).GLOBAL_OBJ;t.supportsHistory=function(){const e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}},5360:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION="8.25.0"},72104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5360),o=globalThis;t.GLOBAL_OBJ=o,t.getGlobalSingleton=function(e,t,n){const s=n||o,i=s.__SENTRY__=s.__SENTRY__||{},a=i[r.SDK_VERSION]=i[r.SDK_VERSION]||{};return a[e]||(a[e]=t())}},1173:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={grad:.9,turn:360,rad:360/(2*Math.PI)},r=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},o=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},s=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},i=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},a=function(e){return{r:s(e.r,0,255),g:s(e.g,0,255),b:s(e.b,0,255),a:s(e.a)}},c=function(e){return{r:o(e.r),g:o(e.g),b:o(e.b),a:o(e.a,3)}},u=/^#([0-9a-f]{3,8})$/i,l=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},d=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),i=s-Math.min(t,n,r),a=i?s===t?(n-r)/i:s===n?2+(r-t)/i:4+(t-n)/i:0;return{h:60*(a<0?a+6:a),s:s?i/s*100:0,v:s/255*100,a:o}},p=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),i=r*(1-n),a=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:255*[r,a,i,i,c,r][u],g:255*[c,r,r,a,i,i][u],b:255*[i,i,c,r,r,a][u],a:o}},h=function(e){return{h:i(e.h),s:s(e.s,0,100),l:s(e.l,0,100),a:s(e.a)}},f=function(e){return{h:o(e.h),s:o(e.s),l:o(e.l),a:o(e.a,3)}},m=function(e){return p((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},_=function(e){return{h:(t=d(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},g=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E={string:[[function(e){var t=u.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?o(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?o(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=b.exec(e)||y.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=g.exec(e)||S.exec(e);if(!t)return null;var r,o,s=h({h:(r=t[1],o=t[2],void 0===o&&(o="deg"),Number(r)*(n[o]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(s)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,o=e.b,s=e.a,i=void 0===s?1:s;return r(t)&&r(n)&&r(o)?a({r:Number(t),g:Number(n),b:Number(o),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,n=e.s,o=e.l,s=e.a,i=void 0===s?1:s;if(!r(t)||!r(n)||!r(o))return null;var a=h({h:Number(t),s:Number(n),l:Number(o),a:Number(i)});return m(a)},"hsl"],[function(e){var t=e.h,n=e.s,o=e.v,a=e.a,c=void 0===a?1:a;if(!r(t)||!r(n)||!r(o))return null;var u=function(e){return{h:i(e.h),s:s(e.s,0,100),v:s(e.v,0,100),a:s(e.a)}}({h:Number(t),s:Number(n),v:Number(o),a:Number(c)});return p(u)},"hsv"]]},v=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},T=function(e){return"string"==typeof e?v(e.trim(),E.string):"object"==typeof e&&null!==e?v(e,E.object):[null,void 0]},I=function(e,t){var n=_(e);return{h:n.h,s:s(n.s+100*t,0,100),l:n.l,a:n.a}},R=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C=function(e,t){var n=_(e);return{h:n.h,s:n.s,l:s(n.l+100*t,0,100),a:n.a}},A=function(){function e(e){this.parsed=T(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return o(R(this.rgba),2)},e.prototype.isDark=function(){return R(this.rgba)<.5},e.prototype.isLight=function(){return R(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=c(this.rgba)).r,n=e.g,r=e.b,i=(s=e.a)<1?l(o(255*s)):"","#"+l(t)+l(n)+l(r)+i;var e,t,n,r,s,i},e.prototype.toRgb=function(){return c(this.rgba)},e.prototype.toRgbString=function(){return t=(e=c(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},e.prototype.toHsl=function(){return f(_(this.rgba))},e.prototype.toHslString=function(){return t=(e=f(_(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},e.prototype.toHsv=function(){return e=d(this.rgba),{h:o(e.h),s:o(e.s),v:o(e.v),a:o(e.a,3)};var e},e.prototype.invert=function(){return O({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),O(I(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),O(I(this.rgba,-e))},e.prototype.grayscale=function(){return O(I(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),O(C(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),O(C(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?O({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):o(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=_(this.rgba);return"number"==typeof e?O({h:e,s:t.s,l:t.l,a:t.a}):o(t.h)},e.prototype.isEqual=function(e){return this.toHex()===O(e).toHex()},e}(),O=function(e){return e instanceof A?e:new A(e)},N=[];t.Colord=A,t.colord=O,t.extend=function(e){e.forEach((function(e){N.indexOf(e)<0&&(e(A,E),N.push(e))}))},t.getFormat=function(e){return T(e)[1]},t.random=function(){return new A({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},48892:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(87968)}catch(e){}var o=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},a=i.lib={},c=a.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<o;s++){var i=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=i<<24-(r+s)%4*8}else for(var a=0;a<o;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new u.init(t,e)}}),l=i.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var s=t[o>>>2]>>>24-o%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},p=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var s=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,s=r.sigBytes,i=this.blockSize,a=s/(4*i),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,l=e.min(4*c,s);if(c){for(var d=0;d<c;d+=i)this._doProcessBlock(o,d);n=o.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math),r)},32240:function(e,t,n){var r,o,s;e.exports=(r=n(48892),s=(o=r).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],s=0;s<n;s+=3)for(var i=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<n;a++)o.push(r.charAt(i>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var i=n.charAt(64);if(i){var a=e.indexOf(i);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],o=0,i=0;i<t;i++)if(i%4){var a=n[e.charCodeAt(i-1)]<<i%4*2|n[e.charCodeAt(i)]>>>6-i%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return s.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},42080:function(e,t,n){var r;e.exports=(r=n(48892),function(e){var t=r,n=t.lib,o=n.WordArray,s=n.Hasher,i=t.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),c[o]=n(e.pow(r,1/3)),o++),r++}();var u=[],l=i.SHA256=s.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],s=n[2],i=n[3],a=n[4],l=n[5],d=n[6],p=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var f=u[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,_=u[h-2],g=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;u[h]=m+u[h-7]+g+u[h-16]}var S=r&o^r&s^o&s,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),y=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&d)+c[h]+u[h];p=d,d=l,l=a,a=i+y|0,i=s,s=o,o=r,r=y+(b+S)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+i|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(l),t.HmacSHA256=s._createHmacHelper(l)}(Math),r.SHA256)},99448:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(84656)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},84656:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,s,i=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),s=o-(n||o);r.diff=s,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];n=s.call(r,t),e.splice(i,1),i--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(16952),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},25432:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(99448):e.exports=n(32040)},32040:(e,t,n)=>{const r=n(43340),o=n(50970);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${r} [0m`;n[0]=s+n[0].split("\n").join("\n"+s),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(75176);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(84656)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},86912:e=>{!function(){"use strict";var t=[,function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===r(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=o,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var r,o,s=(o=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=s[0],a=s[1];return e[i]=a,e}),{})},t.isArguments=function(e){return null!=e&&o(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var s={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=s,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(s.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var n=Object.create(null),r=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},o=0;o<64;o++)n[r(o)]=o;var s=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;n<e;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},i={encode:function(e){if("string"==typeof e){var t=e;e=s(t.length);for(var n=0;n<t.length;n++){var o=t.charCodeAt(n);if(o>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[n]=o}}for(var i=[],a=null,c=null,u=null,l=null,d=0;d<e.length;d++)switch(d%3){case 0:a=e[d]>>2&63,c=(3&e[d])<<4;break;case 1:c|=e[d]>>4&15,u=(15&e[d])<<2;break;case 2:u|=e[d]>>6&3,l=63&e[d],i.push(r(a)),i.push(r(c)),i.push(r(u)),i.push(r(l)),a=null,c=null,u=null,l=null}return null!=a&&(i.push(r(a)),i.push(r(c)),null==u?i.push("="):i.push(r(u)),null==l&&i.push("=")),i.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var r,o=s(t),i=null,a=null,c=null,u=0,l=0;l<e.length;l++){var d="="===(r=e.charAt(l))?-1:n[r];switch(l%4){case 0:if(d<0)throw new Error("invalid base64 string");i=d<<2;break;case 1:if(d<0)throw new Error("invalid base64 string");i|=d>>4,o[u++]=i,a=(15&d)<<4;break;case 2:d>=0&&(a|=d>>2,o[u++]=a,c=(3&d)<<6);break;case 3:d>=0&&(o[u++]=c|d)}}return o},newBinary:s};t.Base64=i},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,o,s,i,a){var c=o[t];switch(n(c)){case"string":return r(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var u,l=i+s,d=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,h=0;h<p;h+=1)d[h]=e(h,c,s,l,a)||"null";return u=0===d.length?"[]":l?"[\n"+l+d.join(",\n"+l)+"\n"+i+"]":"["+d.join(",")+"]"}var f=Object.keys(c);return a&&(f=f.sort()),f.forEach((function(t){(u=e(t,c,s,l,a))&&d.push(r(t)+(l?": ":":")+u)})),u=0===d.length?"{}":l?"{\n"+l+d.join(",\n"+l)+"\n"+i+"}":"{"+d.join(",")+"}"}};t.default=function(e,t){var n=Object.assign({indent:"",canonical:!1},t);if(!0===n.indent)n.indent="  ";else if("number"==typeof n.indent){for(var r="",s=0;s<n.indent;s++)r+=" ";n.indent=r}return o("",{"":e},n.indent,"",n.canonical)},e.exports=t.default}],n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}var o={};!function(){var e=o,t=r(2).Base64,n=r(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var s=r(1),i={};e.EJSON=i;var a=new Map;i.addType=function(e,t){if(a.has(e))throw new Error("Type ".concat(e," already present"));a.set(e,t)};var c=[{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$date")&&1===(0,s.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$regexp")&&(0,s.hasOwn)(e,"$flags")&&2===(0,s.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$InfNaN")&&1===(0,s.lengthOf)(e)},matchObject:s.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$binary")&&1===(0,s.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,s.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$escape")&&1===(0,s.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var n=(0,s.lengthOf)(e);1!==n&&2!==n||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,s.keysOf)(e).forEach((function(n){t[n]=i.toJSONValue(e[n])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,s.keysOf)(e.$escape).forEach((function(n){t[n]=i.fromJSONValue(e.$escape[n])})),t}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$type")&&(0,s.hasOwn)(e,"$value")&&2===(0,s.lengthOf)(e)},matchObject:function(e){return i._isCustomType(e)},toJSONValue:function(e){var t=n._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!a.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var r=a.get(t);return n._noYieldsAllowed((function(){return r(e.$value)}))}}];i._isCustomType=function(e){return e&&(0,s.isFunction)(e.toJSONValue)&&(0,s.isFunction)(e.typeName)&&a.has(e.typeName())},i._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?a:(0,s.convertMapToObject)(a)},i._getConverters=function(){return c};var u=function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.matchObject(e))return n.toJSONValue(e)}},l=function e(t){if(null===t)return null;var n=u(t);return void 0!==n?n:(0,s.isObject)(t)?((0,s.keysOf)(t).forEach((function(n){var r=t[n];if((0,s.isObject)(r)||void 0===r||(0,s.isInfOrNaN)(r)){var o=u(r);o?t[n]=o:e(r)}})),t):t};i._adjustTypesToJSONValue=l,i.toJSONValue=function(e){var t=u(e);if(void 0!==t)return t;var n=e;return(0,s.isObject)(e)&&(n=i.clone(e),l(n)),n};var d=function(e){if((0,s.isObject)(e)&&null!==e){var t=(0,s.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var n=0;n<c.length;n++){var r=c[n];if(r.matchJSONValue(e))return r.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var n=d(t);return n!==t?n:(0,s.isObject)(t)?((0,s.keysOf)(t).forEach((function(n){var r=t[n];if((0,s.isObject)(r)){var o=d(r);if(r!==o)return void(t[n]=o);e(r)}})),t):t};i._adjustTypesFromJSONValue=p,i.fromJSONValue=function(e){var t=d(e);return t===e&&(0,s.isObject)(e)&&(t=i.clone(e),p(t)),t},i.stringify=(0,s.handleError)((function(e,t){var n=i.toJSONValue(e);return t&&(t.canonical||t.indent)?r(4)(n,t):JSON.stringify(n)})),i.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return i.fromJSONValue(JSON.parse(e))},i.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},i.equals=function(e,t,n){var r,o=!(!n||!n.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,s.isObject)(e)||!(0,s.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(i.isBinary(e)&&i.isBinary(t)){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if((0,s.isFunction)(e.equals))return e.equals(t,n);if((0,s.isFunction)(t.equals))return t.equals(e,n);var a,c=Array.isArray(e),u=Array.isArray(t);if(c!==u)return!1;if(c&&u){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(!i.equals(e[r],t[r],n))return!1;return!0}switch(i._isCustomType(e)+i._isCustomType(t)){case 1:return!1;case 2:return i.equals(i.toJSONValue(e),i.toJSONValue(t))}var l=(0,s.keysOf)(e),d=(0,s.keysOf)(t);return o?(r=0,a=l.every((function(o){return!(r>=d.length||o!==d[r]||!i.equals(e[o],t[d[r]],n)||(r++,0))}))):(r=0,a=l.every((function(o){return!!(0,s.hasOwn)(t,o)&&!!i.equals(e[o],t[o],n)&&(r++,!0)}))),a&&r===d.length},i.clone=function(e){var t;if(!(0,s.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(i.isBinary(e)){t=i.newBinary(e.length);for(var n=0;n<e.length;n++)t[n]=e[n];return t}return Array.isArray(e)?e.map(i.clone):(0,s.isArguments)(e)?Array.from(e).map(i.clone):(0,s.isFunction)(e.clone)?e.clone():i._isCustomType(e)?i.fromJSONValue(i.clone(i.toJSONValue(e)),!0):(t={},(0,s.keysOf)(e).forEach((function(n){t[n]=i.clone(e[n])})),t)},i.newBinary=t.newBinary}(),e.exports=o.EJSON}()},69328:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,s||e,i),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,s,i){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,s),!0;case 6:return l.fn.call(l.context,t,r,o,s,i),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||i(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||o&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:i(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},72144:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;0!=o--;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},97840:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var s,i=function(e,t){for(var n=[],r=1,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments),a=n(0,o.length-i.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(s=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=",");return n}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,s.prototype=new l,l.prototype=null}return s}},30268:(e,t,n)=>{"use strict";var r=n(97840);e.exports=Function.prototype.bind||r},78920:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}},35444:(e,t,n)=>{const r=n(67072),o=n(58900),{fileURLToPath:s}=n(78716),{MessageChannel:i}=n(48696),{importHooks:a,specifiers:c,toHook:u}=n(69027);function l(e){a.push(e),u.forEach((([t,n])=>e(t,n)))}function d(e){const t=a.indexOf(e);t>-1&&a.splice(t,1)}function p(e,t,n,r){const o=e(t,n,r);o&&o!==t&&(t.default=o)}let h;function f(e,t,n){if(this instanceof f==0)return new f(e,t,n);"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null);const i=!!t&&!0===t.internals;h&&Array.isArray(e)&&h(e),this._iitmHook=(t,a)=>{const u=t;let l;if(t.startsWith("node:"))t=t.replace(/^node:/,"");else{if(t.startsWith("file://"))try{t=s(t)}catch(e){}const e=o(t);e&&(t=e.name,l=e.basedir)}if(e){for(const o of e)if(o===t){if(l)if(i)t=t+r.sep+r.relative(l,s(u));else if(!l.endsWith(c.get(u)))continue;p(n,a,t,l)}}else p(n,a,t,l)},l(this._iitmHook)}f.prototype.unhook=function(){d(this._iitmHook)},e.exports=f,e.exports.Hook=f,e.exports.addHook=l,e.exports.removeHook=d,e.exports.createAddHookMessageChannel=function(){const{port1:e,port2:t}=new i;let n,r=0;return h=t=>{r++,e.postMessage(t)},e.on("message",(()=>{r--,n&&r<=0&&n()})).unref(),{registerOptions:{data:{addHookMessagePort:t,include:[]},transferList:[t]},addHookMessagePort:t,waitForAllMessagesAcknowledged:function(){const e=setInterval((()=>{}),1e3),t=new Promise((e=>{n=e})).then((()=>{clearInterval(e)}));return 0===r&&n(),t}}}},69027:(e,t)=>{const n=[],r=new WeakMap,o=new Map,s=[],i={set:(e,t,n)=>r.get(e)[t](n),defineProperty(e,t,n){if(!("value"in n))throw new Error("Getters/setters are not supported for exports property descriptors.");return r.get(e)[t](n.value)}};t.register=function(e,t,a,c){o.set(e,c),r.set(t,a);const u=new Proxy(t,i);n.forEach((t=>t(e,u))),s.push([e,u])},t.importHooks=n,t.specifiers=o,t.toHook=s},66312:(e,t,n)=>{"use strict";e.exports=n(5852)},35624:e=>{"use strict";const t=(e,t,r,o)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const s=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);!n(s,i)&&o||Object.defineProperty(e,r,i)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>`/* Wrapped ${e}*/\n${t}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,n,{ignoreNonConfigurable:i=!1}={})=>{const{name:a}=e;for(const r of Reflect.ownKeys(n))t(e,n,r,i);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,n),((e,t,n)=>{const i=""===n?"":`with ${n.trim()}() `,a=r.bind(null,i,t.toString());Object.defineProperty(a,"name",s),Object.defineProperty(e,"toString",{...o,value:a})})(e,n,a),e}},58900:(e,t,n)=>{"use strict";var r=n(67072);e.exports=function(e){var t=e.split(r.sep),n=t.lastIndexOf("node_modules");if(-1!==n&&t[n+1]){var o="@"===t[n+1][0],s=o?3:2;return{name:o?t[n+1]+"/"+t[n+2]:t[n+1],basedir:t.slice(0,n+s).join(r.sep),path:t.slice(n+s).join(r.sep)}}}},16952:e=>{var t=1e3,n=60*t,r=60*n,o=24*r;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,i){i=i||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*n;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return i.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=r?s(a,c,r,"hour"):c>=n?s(a,c,n,"minute"):c>=t?s(a,c,t,"second"):a+" ms"):function(e){var s=Math.abs(e);return s>=o?Math.round(e/o)+"d":s>=r?Math.round(e/r)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},16996:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,s||e,i),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,s,i){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,s),!0;case 6:return l.fn.call(l.context,t,r,o,s,i),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||i(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||o&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:i(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},1548:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},73324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69328),o=n(63244),s=n(69800),i=()=>{},a=new o.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:s.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==o?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const s=void 0===this._timeout&&void 0===t.timeout?e():o.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(a)}));n(await s)}catch(e){r(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},74856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,o=e.length;for(;o>0;){const s=o/2|0;let i=r+s;n(e[i],t)<=0?(r=++i,o-=s+1):o=s}return r}},69800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(74856);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const o=r.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(o,0,n)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},63244:(e,t,n)=>{"use strict";const r=n(1548);class o extends Error{constructor(e){super(e),this.name="TimeoutError"}}const s=(e,t,n)=>new Promise(((s,i)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void s(e);const a=setTimeout((()=>{if("function"==typeof n){try{s(n())}catch(e){i(e)}return}const r=n instanceof Error?n:new o("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),i(r)}),t);r(e.then(s,i),(()=>{clearTimeout(a)}))}));e.exports=s,e.exports.default=s,e.exports.TimeoutError=o},74436:e=>{"use strict";var t="win32"===process.platform,n=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,r={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,r=(t=e,n.exec(t).slice(1));if(!r||5!==r.length)throw new TypeError("Invalid path '"+e+"'");return{root:r[1],dir:r[0]===r[1]?r[0]:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}}},o=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,s={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,n=(t=e,o.exec(t).slice(1));if(!n||5!==n.length)throw new TypeError("Invalid path '"+e+"'");return{root:n[1],dir:n[0].slice(0,-1),base:n[2],ext:n[4],name:n[3]}}};e.exports=t?r.parse:s.parse,e.exports.posix=s.parse,e.exports.win32=r.parse},51872:(e,t,n)=>{"use strict";const r=n(67072),o=n(31776),s=n(82072),i=n(92)("require-in-the-middle"),a=n(58900);let c;if(e.exports=d,e.exports.Hook=d,o.isBuiltin)c=o.isBuiltin;else{const[e,t]=process.versions.node.split(".").map(Number);c=8===e&&t<8?e=>"http2"===e||!!s.core[e]:e=>!!s.core[e]}const u=/([/\\]index)?(\.js)?$/;class l{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{const t=n.c[e];return!(!t||!(this._kRitmExports in t))}}get(e,t){const r=this._localCache.get(e);if(void 0!==r)return r;if(!t){const t=n.c[e];return t&&t[this._kRitmExports]}}set(e,t,r){r?this._localCache.set(e,t):e in n.c?n.c[e][this._kRitmExports]=t:(i('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}}function d(e,t,p){if(this instanceof d==0)return new d(e,t,p);if("function"==typeof e?(p=e,e=null,t=null):"function"==typeof t&&(p=t,t=null),"function"!=typeof o._resolveFilename)return console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof o._resolveFilename),void console.error("Please report this error as an issue related to Node.js %s at %s",process.version,n(9056).Wg.q);this._cache=new l,this._unhooked=!1,this._origRequire=o.prototype.require;const h=this,f=new Set,m=!!t&&!0===t.internals,_=Array.isArray(e);function g(t,n){const l=t[0],d=c(l);let g,S,b;if(d){if(g=l,l.startsWith("node:")){const e=l.slice(5);c(e)&&(g=e)}}else{if(n)return i("call to process.getBuiltinModule with unknown built-in id"),h._origGetBuiltinModule.apply(this,t);try{g=o._resolveFilename(l,this)}catch(e){return i('Module._resolveFilename("%s") threw %j, calling original Module.require',l,e.message),h._origRequire.apply(this,t)}}if(i("processing %s module require('%s'): %s",!0===d?"core":"non-core",l,g),!0===h._cache.has(g,d))return i("returning already patched cached module: %s",g),h._cache.get(g,d);const y=f.has(g);!1===y&&f.add(g);const E=n?h._origGetBuiltinModule.apply(this,t):h._origRequire.apply(this,t);if(!0===y)return i("module is in the process of being patched already - ignoring: %s",g),E;if(f.delete(g),!0===d){if(!0===_&&!1===e.includes(g))return i("ignoring core module not on whitelist: %s",g),E;S=g}else if(!0===_&&e.includes(g)){const e=r.parse(g);S=e.name,b=e.dir}else{const t=a(g);if(void 0===t)return i("could not parse filename: %s",g),E;S=t.name,b=t.basedir;const n=function(e){const t="/"!==r.sep?e.path.split(r.sep).join("/"):e.path;return r.posix.join(e.name,t).replace(u,"")}(t);i("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",S,l,n,b);let o=!1;if(_){if(!l.startsWith(".")&&e.includes(l)&&(S=l,o=!0),!e.includes(S)&&!e.includes(n))return E;e.includes(n)&&n!==S&&(S=n,o=!0)}if(!o){let e;try{e=s.sync(S,{basedir:b})}catch(e){return i("could not resolve module: %s",S),h._cache.set(g,E,d),E}if(e!==g){if(!0!==m)return i("ignoring require of non-main module file: %s",e),h._cache.set(g,E,d),E;S=S+r.sep+r.relative(b,g),i("preparing to process require of internal file: %s",S)}}}h._cache.set(g,E,d),i("calling require hook: %s",S);const v=p(E,S,b);return h._cache.set(g,v,d),i("returning module: %s",S),v}i("registering require hook"),this._require=o.prototype.require=function(e){return!0===h._unhooked?(i("ignoring require call - module is soft-unhooked"),h._origRequire.apply(this,arguments)):g.call(this,arguments,!1)},"function"==typeof process.getBuiltinModule&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(e){return!0===h._unhooked?(i("ignoring process.getBuiltinModule call - module is soft-unhooked"),h._origGetBuiltinModule.apply(this,arguments)):g.call(this,arguments,!0)})}d.prototype.unhook=function(){this._unhooked=!0,this._require===o.prototype.require?(o.prototype.require=this._origRequire,i("require unhook successful")):i("require unhook unsuccessful"),void 0!==process.getBuiltinModule&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,i("process.getBuiltinModule unhook successful")):i("process.getBuiltinModule unhook unsuccessful"))}},53176:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(3868)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},3868:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,s,i=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),s=o-(n||o);r.diff=s,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];n=s.call(r,t),e.splice(i,1),i--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(16952),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},92:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(53176):e.exports=n(16668)},16668:(e,t,n)=>{const r=n(43340),o=n(50970);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${r} [0m`;n[0]=s+n[0].split("\n").join("\n"+s),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(75176);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(3868)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},64524:(e,t,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,s=n(30268);e.exports=s.call(r,o)},50088:(e,t,n)=>{"use strict";var r=n(64524);function o(e,t){for(var n=e.split("."),r=t.split(" "),o=r.length>1?r[0]:"=",s=(r.length>1?r[1]:r[0]).split("."),i=0;i<3;++i){var a=parseInt(n[i]||0,10),c=parseInt(s[i]||0,10);if(a!==c)return"<"===o?a<c:">="===o&&a>=c}return">="===o}function s(e,t){var n=t.split(/ ?&& ?/);if(0===n.length)return!1;for(var r=0;r<n.length;++r)if(!o(e,n[r]))return!1;return!0}var i=n(94928);e.exports=function(e,t){return r(i,e)&&function(e,t){if("boolean"==typeof t)return t;var n=void 0===e?process.versions&&process.versions.node:e;if("string"!=typeof n)throw new TypeError(void 0===e?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&"object"==typeof t){for(var r=0;r<t.length;++r)if(s(n,t[r]))return!0;return!1}return s(n,t)}(t,i[e])}},82072:(e,t,n)=>{var r=n(61631);r.core=n(476),r.isCore=n(45360),r.sync=n(20012),e.exports=r},61631:(e,t,n)=>{var r=n(2058),o=n(7548),s=n(67072),i=n(15624),a=n(26936),c=n(83224),u=n(50088),l="win32"!==process.platform&&r.realpath&&"function"==typeof r.realpath.native?r.realpath.native:r.realpath,d=o(),p=function(e,t){r.stat(e,(function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,n.isFile()||n.isFIFO())}))},h=function(e,t){r.stat(e,(function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,n.isDirectory())}))},f=function(e,t){l(e,(function(n,r){n&&"ENOENT"!==n.code?t(n):t(null,n?e:r)}))},m=function(e,t,n,r){n&&!1===n.preserveSymlinks?e(t,r):r(null,t)},_=function(e,t,n){e(t,(function(e,t){if(e)n(e);else try{var r=JSON.parse(t);n(null,r)}catch(e){n(null)}}))};e.exports=function(e,t,n){var o=n,l=t;if("function"==typeof t&&(o=l,l={}),"string"!=typeof e){var g=new TypeError("Path must be a string.");return process.nextTick((function(){o(g)}))}var S=(l=c(e,l)).isFile||p,b=l.isDirectory||h,y=l.readFile||r.readFile,E=l.realpath||f,v=l.readPackage||_;if(l.readFile&&l.readPackage){var T=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick((function(){o(T)}))}var I=l.packageIterator,R=l.extensions||[".js"],C=!1!==l.includeCoreModules,A=l.basedir||s.dirname(i()),O=l.filename||A;l.paths=l.paths||[s.join(d,".node_modules"),s.join(d,".node_libraries")];var N,w=s.resolve(A);function P(t,n,r){t?o(t):n?o(null,n,r):x(N,(function(t,n,r){if(t)o(t);else if(n)m(E,n,l,(function(e,t){e?o(e):o(null,t,r)}));else{var s=new Error("Cannot find module '"+e+"' from '"+O+"'");s.code="MODULE_NOT_FOUND",o(s)}}))}function L(e,t,n){var r=t,o=n;"function"==typeof r&&(o=r,r=void 0),function e(t,n,r){if(0===t.length)return o(null,void 0,r);var i=n+t[0],a=r;function c(r,c,d){if(a=c,r)return o(r);if(d&&a&&l.pathFilter){var p=s.relative(d,i),h=p.slice(0,p.length-t[0].length),f=l.pathFilter(a,n,h);if(f)return e([""].concat(R.slice()),s.resolve(d,f),a)}S(i,u)}function u(r,s){return r?o(r):s?o(null,i,a):void e(t.slice(1),n,a)}a?c(null,a):M(s.dirname(i),c)}([""].concat(R),e,r)}function M(e,t){return""===e||"/"===e||"win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e)?t(null):void m(E,e,l,(function(n,r){if(n)return M(s.dirname(e),t);var o=s.join(r,"package.json");S(o,(function(n,r){if(!r)return M(s.dirname(e),t);v(y,o,(function(n,r){n&&t(n);var s=r;s&&l.packageFilter&&(s=l.packageFilter(s,o)),t(null,s,e)}))}))}))}function x(e,t,n){var r=n,o=t;"function"==typeof o&&(r=o,o=l.package),m(E,e,l,(function(t,n){if(t)return r(t);var i=s.join(n,"package.json");S(i,(function(t,n){return t?r(t):n?void v(y,i,(function(t,n){if(t)return r(t);var o=n;if(o&&l.packageFilter&&(o=l.packageFilter(o,i)),o&&o.main){if("string"!=typeof o.main){var a=new TypeError("package “"+o.name+"” `main` must be a string");return a.code="INVALID_PACKAGE_MAIN",r(a)}return"."!==o.main&&"./"!==o.main||(o.main="index"),void L(s.resolve(e,o.main),o,(function(t,n,o){return t?r(t):n?r(null,n,o):o?void x(s.resolve(e,o.main),o,(function(t,n,o){return t?r(t):n?r(null,n,o):void L(s.join(e,"index"),o,r)})):L(s.join(e,"index"),o,r)}))}L(s.join(e,"/index"),o,r)})):L(s.join(e,"index"),o,r)}))}))}function k(e,t){if(0===t.length)return e(null,void 0);var n=t[0];function r(t,r,s){return t?e(t):r?e(null,r,s):void x(n,l.package,o)}function o(n,r,o){return n?e(n):r?e(null,r,o):void k(e,t.slice(1))}b(s.dirname(n),(function(o,s){return o?e(o):s?void L(n,l.package,r):k(e,t.slice(1))}))}m(E,w,l,(function(t,n){t?o(t):function(t){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))N=s.resolve(t,e),"."!==e&&".."!==e&&"/"!==e.slice(-1)||(N+="/"),/\/$/.test(e)&&N===t?x(N,l.package,P):L(N,l.package,P);else{if(C&&u(e))return o(null,e);!function(e,t,n){var r=function(){return function(e,t,n){for(var r=a(t,n,e),o=0;o<r.length;o++)r[o]=s.join(r[o],e);return r}(e,t,l)};k(n,I?I(e,t,r,l):r())}(e,t,(function(t,n,r){if(t)o(t);else{if(n)return m(E,n,l,(function(e,t){e?o(e):o(null,t,r)}));var s=new Error("Cannot find module '"+e+"' from '"+O+"'");s.code="MODULE_NOT_FOUND",o(s)}}))}}(n)}))}},15624:e=>{e.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=(new Error).stack;return Error.prepareStackTrace=e,t[2].getFileName()}},476:(e,t,n)=>{"use strict";var r=n(50088),o=n(62650),s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=r(i));e.exports=s},7548:(e,t,n)=>{"use strict";var r=n(88558);e.exports=r.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return"win32"===process.platform?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:"darwin"===process.platform?e||(t?"/Users/"+t:null):"linux"===process.platform?e||(0===process.getuid()?"/root":t?"/home/"+t:null):e||null}},45360:(e,t,n)=>{var r=n(50088);e.exports=function(e){return r(e)}},26936:(e,t,n)=>{var r=n(67072),o=r.parse||n(74436),s=function(e,t){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var s=[e],i=o(e);i.dir!==s[s.length-1];)s.push(i.dir),i=o(i.dir);return s.reduce((function(e,o){return e.concat(t.map((function(e){return r.resolve(n,o,e)})))}),[])};e.exports=function(e,t,n){var r=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&"function"==typeof t.paths)return t.paths(n,e,(function(){return s(e,r)}),t);var o=s(e,r);return t&&t.paths?o.concat(t.paths):o}},83224:e=>{e.exports=function(e,t){return t||{}}},20012:(e,t,n)=>{var r=n(50088),o=n(2058),s=n(67072),i=n(7548),a=n(15624),c=n(26936),u=n(83224),l="win32"!==process.platform&&o.realpathSync&&"function"==typeof o.realpathSync.native?o.realpathSync.native:o.realpathSync,d=i(),p=function(e){try{var t=o.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&(t.isFile()||t.isFIFO())},h=function(e){try{var t=o.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&t.isDirectory()},f=function(e){try{return l(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},m=function(e,t,n){return n&&!1===n.preserveSymlinks?e(t):t},_=function(e,t){var n=e(t);try{return JSON.parse(n)}catch(e){}};e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Path must be a string.");var n=u(e,t),i=n.isFile||p,l=n.readFileSync||o.readFileSync,g=n.isDirectory||h,S=n.realpathSync||f,b=n.readPackageSync||_;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var y=n.packageIterator,E=n.extensions||[".js"],v=!1!==n.includeCoreModules,T=n.basedir||s.dirname(a()),I=n.filename||T;n.paths=n.paths||[s.join(d,".node_modules"),s.join(d,".node_libraries")];var R=m(S,s.resolve(T),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var C=s.resolve(R,e);"."!==e&&".."!==e&&"/"!==e.slice(-1)||(C+="/");var A=w(C)||L(C);if(A)return m(S,A,n)}else{if(v&&r(e))return e;var O=function(e,t){for(var r=function(){return function(e,t,n){for(var r=c(t,n,e),o=0;o<r.length;o++)r[o]=s.join(r[o],e);return r}(e,t,n)},o=y?y(e,t,r,n):r(),i=0;i<o.length;i++){var a=o[i];if(g(s.dirname(a))){var u=w(a);if(u)return u;var l=L(a);if(l)return l}}}(e,R);if(O)return m(S,O,n)}var N=new Error("Cannot find module '"+e+"' from '"+I+"'");throw N.code="MODULE_NOT_FOUND",N;function w(e){var t=P(s.dirname(e));if(t&&t.dir&&t.pkg&&n.pathFilter){var r=s.relative(t.dir,e),o=n.pathFilter(t.pkg,e,r);o&&(e=s.resolve(t.dir,o))}if(i(e))return e;for(var a=0;a<E.length;a++){var c=e+E[a];if(i(c))return c}}function P(e){if(""!==e&&"/"!==e&&!("win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e))){var t=s.join(m(S,e,n),"package.json");if(!i(t))return P(s.dirname(e));var r=b(l,t);return r&&n.packageFilter&&(r=n.packageFilter(r,e)),{pkg:r,dir:e}}}function L(e){var t=s.join(m(S,e,n),"/package.json");if(i(t)){try{var r=b(l,t)}catch(e){}if(r&&n.packageFilter&&(r=n.packageFilter(r,e)),r&&r.main){if("string"!=typeof r.main){var o=new TypeError("package “"+r.name+"” `main` must be a string");throw o.code="INVALID_PACKAGE_MAIN",o}"."!==r.main&&"./"!==r.main||(r.main="index");try{var a=w(s.resolve(e,r.main));if(a)return a;var c=L(s.resolve(e,r.main));if(c)return c}catch(e){}}}return w(s.join(e,"/index"))}}},13156:e=>{"use strict";function t(e){return"function"==typeof e}var n=console.error.bind(console);function r(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(e){e&&e.logger&&(t(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function s(e,o,s){if(e&&e[o]){if(!s)return n("no wrapper function"),void n((new Error).stack);if(t(e[o])&&t(s)){var i=e[o],a=s(i,o);return r(a,"__original",i),r(a,"__unwrap",(function(){e[o]===a&&r(e,o,i)})),r(a,"__wrapped",!0),r(e,o,a),a}n("original object and wrapper must be functions")}else n("no original function "+o+" to wrap")}function i(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},o.unwrap=i,o.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t)}))})):n("must provide one or more functions to unwrap on modules")},e.exports=o},75176:(e,t,n)=>{"use strict";const r=n(88558),o=n(43340),s=n(78920),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:n}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?a=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,o.isatty(1))),stderr:c(u(!0,o.isatty(2)))}},5852:(e,t,n)=>{"use strict";const r=n(65144);r.createWebSocketStream=n(82408),r.Server=n(73796),r.Receiver=n(46804),r.Sender=n(40957),r.WebSocket=r,r.WebSocketServer=r.Server,e.exports=r},23092:(e,t,n)=>{"use strict";const{EMPTY_BUFFER:r}=n(45820),o=Buffer[Symbol.species];function s(e,t,n,r,o){for(let s=0;s<o;s++)n[r+s]=e[s]^t[3&s]}function i(e,t){for(let n=0;n<e.length;n++)e[n]^=t[3&n]}if(e.exports={concat:function(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let s=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,s),s+=r.length}return s<t?new o(n.buffer,n.byteOffset,s):n},mask:s,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let n;return t instanceof ArrayBuffer?n=new o(t):ArrayBuffer.isView(t)?n=new o(t.buffer,t.byteOffset,t.byteLength):(n=Buffer.from(t),e.readOnly=!1),n},unmask:i},!process.env.WS_NO_BUFFER_UTIL)try{const t=n(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.mask=function(e,n,r,o,i){i<48?s(e,n,r,o,i):t.mask(e,n,r,o,i)},e.exports.unmask=function(e,n){e.length<32?i(e,n):t.unmask(e,n)}}catch(e){}},45820:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},12584:(e,t,n)=>{"use strict";const{kForOnEventAttribute:r,kListener:o}=n(45820),s=Symbol("kCode"),i=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),u=Symbol("kReason"),l=Symbol("kTarget"),d=Symbol("kType"),p=Symbol("kWasClean");class h{constructor(e){this[l]=null,this[d]=e}get target(){return this[l]}get type(){return this[d]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[u]}get wasClean(){return this[p]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class _ extends h{constructor(e,t={}){super(e),this[i]=void 0===t.data?null:t.data}get data(){return this[i]}}Object.defineProperty(_.prototype,"data",{enumerable:!0});const g={addEventListener(e,t,n={}){for(const s of this.listeners(e))if(!n[r]&&s[o]===t&&!s[r])return;let s;if("message"===e)s=function(e,n){const r=new _("message",{data:n?e:e.toString()});r[l]=this,S(t,this,r)};else if("close"===e)s=function(e,n){const r=new f("close",{code:e,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});r[l]=this,S(t,this,r)};else if("error"===e)s=function(e){const n=new m("error",{error:e,message:e.message});n[l]=this,S(t,this,n)};else{if("open"!==e)return;s=function(){const e=new h("open");e[l]=this,S(t,this,e)}}s[r]=!!n[r],s[o]=t,n.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(const n of this.listeners(e))if(n[o]===t&&!n[r]){this.removeListener(e,n);break}}};function S(e,t,n){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,n):e.call(t,n)}e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:g,MessageEvent:_}},21056:(e,t,n)=>{"use strict";const{tokenChars:r}=n(79708);function o(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>[t].concat(Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let n,s,i=Object.create(null),a=!1,c=!1,u=!1,l=-1,d=-1,p=-1,h=0;for(;h<e.length;h++)if(d=e.charCodeAt(h),void 0===n)if(-1===p&&1===r[d])-1===l&&(l=h);else if(0===h||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);const r=e.slice(l,p);44===d?(o(t,r,i),i=Object.create(null)):n=r,l=p=-1}}else-1===p&&-1!==l&&(p=h);else if(void 0===s)if(-1===p&&1===r[d])-1===l&&(l=h);else if(32===d||9===d)-1===p&&-1!==l&&(p=h);else if(59===d||44===d){if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),o(i,e.slice(l,p),!0),44===d&&(o(t,n,i),i=Object.create(null),n=void 0),l=p=-1}else{if(61!==d||-1===l||-1!==p)throw new SyntaxError(`Unexpected character at index ${h}`);s=e.slice(l,h),l=p=-1}else if(c){if(1!==r[d])throw new SyntaxError(`Unexpected character at index ${h}`);-1===l?l=h:a||(a=!0),c=!1}else if(u)if(1===r[d])-1===l&&(l=h);else if(34===d&&-1!==l)u=!1,p=h;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===d&&61===e.charCodeAt(h-1))u=!0;else if(-1===p&&1===r[d])-1===l&&(l=h);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let r=e.slice(l,p);a&&(r=r.replace(/\\/g,""),a=!1),o(i,s,r),44===d&&(o(t,n,i),i=Object.create(null),n=void 0),s=void 0,l=p=-1}}else-1===p&&(p=h);if(-1===l||u||32===d||9===d)throw new SyntaxError("Unexpected end of input");-1===p&&(p=h);const f=e.slice(l,p);return void 0===n?o(t,f,i):(void 0===s?o(i,f,!0):o(i,s,a?f.replace(/\\/g,""):f),o(t,n,i)),t}}},50156:e=>{"use strict";const t=Symbol("kDone"),n=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[n]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[n]()}[n](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},60516:(e,t,n)=>{"use strict";const r=n(60592),o=n(23092),s=n(50156),{kStatusCode:i}=n(45820),a=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),l=Symbol("total-length"),d=Symbol("callback"),p=Symbol("buffers"),h=Symbol("error");let f;function m(e){this[p].push(e),this[l]+=e.length}function _(e){this[l]+=e.length,this[u]._maxPayload<1||this[l]<=this[u]._maxPayload?this[p].push(e):(this[h]=new RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][i]=1009,this.removeListener("data",_),this.reset())}function g(e){this[u]._inflate=null,e[i]=1007,this[d](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new s(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n}))})),e}decompress(e,t,n){f.add((r=>{this._decompress(e,t,((e,t)=>{r(),n(e,t)}))}))}compress(e,t,n){f.add((r=>{this._compress(e,t,((e,t)=>{r(),n(e,t)}))}))}_decompress(e,t,n){const s=this._isServer?"client":"server";if(!this._inflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[l]=0,this._inflate[p]=[],this._inflate.on("error",g),this._inflate.on("data",_)}this._inflate[d]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[h];if(e)return this._inflate.close(),this._inflate=null,void n(e);const r=o.concat(this._inflate[p],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[p]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,r)}))}_compress(e,t,n){const s=this._isServer?"server":"client";if(!this._deflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[p]=[],this._deflate.on("data",m)}this._deflate[d]=n,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[l]);t&&(e=new a(e.buffer,e.byteOffset,e.length-4)),this._deflate[d]=null,this._deflate[l]=0,this._deflate[p]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,e)}))}}},46804:(e,t,n)=>{"use strict";const{Writable:r}=n(48378),o=n(60516),{BINARY_TYPES:s,EMPTY_BUFFER:i,kStatusCode:a,kWebSocket:c}=n(45820),{concat:u,toArrayBuffer:l,unmask:d}=n(23092),{isValidStatusCode:p,isValidUTF8:h}=n(79708),f=Buffer[Symbol.species];e.exports=class extends r{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=new f(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(0!=(48&t[0]))return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));const n=64==(64&t[0]);if(!n||this._extensions[o.extensionName]){if(this._fin=128==(128&t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(n)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=n}else{if(!(this._opcode>7&&this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(n)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&t[1]),this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),n=t.readUInt32BE(0);n>Math.pow(2,21)-1?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=i;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&d(t,this._mask)}if(this._opcode>7)this.controlMessage(t,e);else{if(this._compressed)return this._state=5,void this.decompress(t,e);t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void t(e)}this._fragments.push(n)}this.dataMessage(t),0===this._state&&this.startLoop(t)}))}dataMessage(e){if(!this._fin)return void(this._state=0);const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?u(n,t):"arraybuffer"===this._binaryType?l(u(n,t)):n,this._allowSynchronousEvents?(this.emit("message",r,!0),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",r,!0),this._state=0,this.startLoop(e)})))}else{const r=u(n,t);if(!this._skipUTF8Validation&&!h(r)){const t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",r,!1),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",r,!1),this._state=0,this.startLoop(e)})))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate((()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)})));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,i),this.end();else{const n=e.readUInt16BE(0);if(!p(n)){const e=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}const r=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(r)){const e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",n,r),this.end()}this._state=0}}createError(e,t,n,r,o){this._loop=!1,this._errored=!0;const s=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=o,s[a]=r,s}}},40957:(e,t,n)=>{"use strict";const{Duplex:r}=n(48378),{randomFillSync:o}=n(87968),s=n(60516),{EMPTY_BUFFER:i}=n(45820),{isValidStatusCode:a}=n(79708),{mask:c,toBuffer:u}=n(23092),l=Symbol("kByteLength"),d=Buffer.alloc(4),p=8192;let h,f=p;class m{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,r,s=!1,i=2,a=!1;t.mask&&(n=t.maskBuffer||d,t.generateMask?t.generateMask(n):(f===p&&(void 0===h&&(h=Buffer.alloc(p)),o(h,0,p),f=0),n[0]=h[f++],n[1]=h[f++],n[2]=h[f++],n[3]=h[f++]),a=0==(n[0]|n[1]|n[2]|n[3]),i=6),"string"==typeof e?r=t.mask&&!a||void 0===t[l]?(e=Buffer.from(e)).length:t[l]:(r=e.length,s=t.mask&&t.readOnly&&!a);let u=r;r>=65536?(i+=8,u=127):r>125&&(i+=2,u=126);const m=Buffer.allocUnsafe(s?r+i:i);return m[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(m[0]|=64),m[1]=u,126===u?m.writeUInt16BE(r,2):127===u&&(m[2]=m[3]=0,m.writeUIntBE(r,4,6)),t.mask?(m[1]|=128,m[i-4]=n[0],m[i-3]=n[1],m[i-2]=n[2],m[i-1]=n[3],a?[m,e]:s?(c(e,n,m,i,r),[m]):(c(e,n,e,0,r),[m,e])):[m,e]}close(e,t,n,r){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!a(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+n),o.writeUInt16BE(e,0),"string"==typeof t?o.write(t,2):o.set(t,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)}const s={[l]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,r]):this.sendFrame(m.frame(o,s),r)}ping(e,t,n){let r,o;if("string"==typeof e?(r=Buffer.byteLength(e),o=!1):(r=(e=u(e)).length,o=u.readOnly),r>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[l]:r,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(m.frame(e,s),n)}pong(e,t,n){let r,o;if("string"==typeof e?(r=Buffer.byteLength(e),o=!1):(r=(e=u(e)).length,o=u.readOnly),r>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[l]:r,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(m.frame(e,s),n)}send(e,t,n){const r=this._extensions[s.extensionName];let o,i,a=t.binary?2:1,c=t.compress;if("string"==typeof e?(o=Buffer.byteLength(e),i=!1):(o=(e=u(e)).length,i=u.readOnly),this._firstFragment?(this._firstFragment=!1,c&&r&&r.params[r._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=o>=r._threshold),this._compress=c):(c=!1,a=0),t.fin&&(this._firstFragment=!0),r){const r={[l]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:c};this._deflating?this.enqueue([this.dispatch,e,this._compress,r,n]):this.dispatch(e,this._compress,r,n)}else this.sendFrame(m.frame(e,{[l]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:!1}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(m.frame(e,n),r);const o=this._extensions[s.extensionName];this._bufferedBytes+=n[l],this._deflating=!0,o.compress(e,n.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t],r=n[n.length-1];"function"==typeof r&&r(e)}}else this._bufferedBytes-=n[l],this._deflating=!1,n.readOnly=!1,this.sendFrame(m.frame(t,n),r),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][l],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][l],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=m},82408:(e,t,n)=>{"use strict";const{Duplex:r}=n(48378);function o(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener("error",i),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;const a=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,n){const r=!n&&a._readableState.objectMode?t.toString():t;a.push(r)||e.pause()})),e.once("error",(function(e){a.destroyed||(n=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,a);let s=!1;e.once("error",(function(e){s=!0,r(e)})),e.once("close",(function(){s||r(t),process.nextTick(o,a)})),n&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){a._write(t,n,r)}))},a.on("end",s),a.on("error",i),a}},16728:(e,t,n)=>{"use strict";const{tokenChars:r}=n(79708);e.exports={parse:function(e){const t=new Set;let n=-1,o=-1,s=0;for(;s<e.length;s++){const i=e.charCodeAt(s);if(-1===o&&1===r[i])-1===n&&(n=s);else if(0===s||32!==i&&9!==i){if(44!==i)throw new SyntaxError(`Unexpected character at index ${s}`);{if(-1===n)throw new SyntaxError(`Unexpected character at index ${s}`);-1===o&&(o=s);const r=e.slice(n,o);if(t.has(r))throw new SyntaxError(`The "${r}" subprotocol is duplicated`);t.add(r),n=o=-1}}else-1===o&&-1!==n&&(o=s)}if(-1===n||-1!==o)throw new SyntaxError("Unexpected end of input");const i=e.slice(n,s);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}}},79708:(e,t,n)=>{"use strict";const{isUtf8:r}=n(52588);function o(e){const t=e.length;let n=0;for(;n<t;)if(0==(128&e[n]))n++;else if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},r)e.exports.isValidUTF8=function(e){return e.length<24?o(e):r(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=n(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.isValidUTF8=function(e){return e.length<32?o(e):t(e)}}catch(e){}},73796:(e,t,n)=>{"use strict";const r=n(90467),o=n(86136),{Duplex:s}=n(48378),{createHash:i}=n(87968),a=n(21056),c=n(60516),u=n(16728),l=n(65144),{GUID:d,kWebSocket:p}=n(45820),h=/^[+/0-9A-Za-z]{22}==$/;function f(e){e._state=2,e.emit("close")}function m(){this.destroy()}function _(e,t,n,r){n=n||o.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map((e=>`${e}: ${r[e]}`)).join("\r\n")+"\r\n\r\n"+n)}function g(e,t,n,r,o){if(e.listenerCount("wsClientError")){const r=new Error(o);Error.captureStackTrace(r,g),e.emit("wsClientError",r,n,t)}else _(n,r,o)}e.exports=class extends r{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer(((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,n,r)=>{this.handleUpgrade(t,n,r,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(f,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{f(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",m);const o=e.headers["sec-websocket-key"],s=e.headers.upgrade,i=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void g(this,e,t,405,"Invalid HTTP method");if(void 0===s||"websocket"!==s.toLowerCase())return void g(this,e,t,400,"Invalid Upgrade header");if(void 0===o||!h.test(o))return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==i&&13!==i)return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void _(t,400);const l=e.headers["sec-websocket-protocol"];let d=new Set;if(void 0!==l)try{d=u.parse(l)}catch(n){return void g(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const p=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==p){const n=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=a.parse(p);e[c.extensionName]&&(n.accept(e[c.extensionName]),f[c.extensionName]=n)}catch(n){return void g(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const s={origin:e.headers[8===i?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((s,i,a,c)=>{if(!s)return _(t,i||401,a,c);this.completeUpgrade(f,o,d,e,t,n,r)}));if(!this.options.verifyClient(s))return _(t,401)}this.completeUpgrade(f,o,d,e,t,n,r)}completeUpgrade(e,t,n,r,o,s,u){if(!o.readable||!o.writable)return o.destroy();if(o[p])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return _(o,503);const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i("sha1").update(t+d).digest("base64")}`],h=new this.options.WebSocket(null,void 0,this.options);if(n.size){const e=this.options.handleProtocols?this.options.handleProtocols(n,r):n.values().next().value;e&&(l.push(`Sec-WebSocket-Protocol: ${e}`),h._protocol=e)}if(e[c.extensionName]){const t=e[c.extensionName].params,n=a.format({[c.extensionName]:[t]});l.push(`Sec-WebSocket-Extensions: ${n}`),h._extensions=e}this.emit("headers",l,r),o.write(l.concat("\r\n").join("\r\n")),o.removeListener("error",m),h.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(h),h.on("close",(()=>{this.clients.delete(h),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)}))),u(h,r)}}},65144:(e,t,n)=>{"use strict";const r=n(90467),o=n(51256),s=n(86136),i=n(95256),a=n(192),{randomBytes:c,createHash:u}=n(87968),{Duplex:l,Readable:d}=n(48378),{URL:p}=n(78716),h=n(60516),f=n(46804),m=n(40957),{BINARY_TYPES:_,EMPTY_BUFFER:g,GUID:S,kForOnEventAttribute:b,kListener:y,kStatusCode:E,kWebSocket:v,NOOP:T}=n(45820),{EventTarget:{addEventListener:I,removeEventListener:R}}=n(12584),{format:C,parse:A}=n(21056),{toBuffer:O}=n(23092),N=Symbol("kAborted"),w=[8,13],P=["CONNECTING","OPEN","CLOSING","CLOSED"],L=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class M extends r{constructor(e,t,n){super(),this._binaryType=_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=M.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(n=t,t=[]):t=[t]),x(this,e,t,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){_.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){const r=new f({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new m(e,this._extensions,n.generateMask),this._receiver=r,this._socket=e,r[v]=this,e[v]=this,r.on("conclude",B),r.on("drain",F),r.on("error",H),r.on("message",Y),r.on("ping",W),r.on("pong",K),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Z),e.on("data",$),e.on("end",J),e.on("error",z),this._readyState=M.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=M.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==M.CLOSED)if(this.readyState!==M.CONNECTING)this.readyState!==M.CLOSING?(this._readyState=M.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";V(this,this._req,e)}}pause(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,n)):D(this,e,n)}pong(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,n)):D(this,e,n)}resume(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN)return void D(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(r.compress=!1),this._sender.send(e||g,r,n)}terminate(){if(this.readyState!==M.CLOSED)if(this.readyState!==M.CONNECTING)this._socket&&(this._readyState=M.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";V(this,this._req,e)}}}function x(e,t,n,r){const i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:w[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=i.autoPong,!w.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${w.join(", ")})`);let a;if(t instanceof p)a=t;else try{a=new p(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),e._url=a.href;const l="wss:"===a.protocol,d="ws+unix:"===a.protocol;let f;if("ws:"===a.protocol||l||d?d&&!a.pathname?f="The URL's pathname is empty":a.hash&&(f="The URL contains a fragment identifier"):f='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void k(e,t)}const m=l?443:80,_=c(16).toString("base64"),g=l?o.request:s.request,b=new Set;let y,E;if(i.createConnection=i.createConnection||(l?G:U),i.defaultPort=i.defaultPort||m,i.port=a.port||m,i.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":_,Connection:"Upgrade",Upgrade:"websocket"},i.path=a.pathname+a.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(y=new h(!0!==i.perMessageDeflate?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=C({[h.extensionName]:y.offer()})),n.length){for(const e of n){if("string"!=typeof e||!L.test(e)||b.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");b.add(e)}i.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(a.username||a.password)&&(i.auth=`${a.username}:${a.password}`),d){const e=i.path.split(":");i.socketPath=e[0],i.path=e[1]}if(i.followRedirects){if(0===e._redirects){e._originalIpc=d,e._originalSecure=l,e._originalHostOrSocketPath=d?i.socketPath:a.host;const t=r&&r.headers;if(r={...r,headers:{}},t)for(const[e,n]of Object.entries(t))r.headers[e.toLowerCase()]=n}else if(0===e.listenerCount("redirect")){const t=d?!!e._originalIpc&&i.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!l)&&(delete i.headers.authorization,delete i.headers.cookie,t||delete i.headers.host,i.auth=void 0)}i.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),E=e._req=g(i),e._redirects&&e.emit("redirect",e.url,E)}else E=e._req=g(i);i.timeout&&E.on("timeout",(()=>{V(e,E,"Opening handshake has timed out")})),E.on("error",(t=>{null===E||E[N]||(E=e._req=null,k(e,t))})),E.on("response",(o=>{const s=o.headers.location,a=o.statusCode;if(s&&i.followRedirects&&a>=300&&a<400){if(++e._redirects>i.maxRedirects)return void V(e,E,"Maximum redirects exceeded");let o;E.abort();try{o=new p(s,t)}catch(t){const n=new SyntaxError(`Invalid URL: ${s}`);return void k(e,n)}x(e,o,n,r)}else e.emit("unexpected-response",E,o)||V(e,E,`Unexpected server response: ${o.statusCode}`)})),E.on("upgrade",((t,n,r)=>{if(e.emit("upgrade",t),e.readyState!==M.CONNECTING)return;E=e._req=null;const o=t.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase())return void V(e,n,"Invalid Upgrade header");const s=u("sha1").update(_+S).digest("base64");if(t.headers["sec-websocket-accept"]!==s)return void V(e,n,"Invalid Sec-WebSocket-Accept header");const a=t.headers["sec-websocket-protocol"];let c;if(void 0!==a?b.size?b.has(a)||(c="Server sent an invalid subprotocol"):c="Server sent a subprotocol but none was requested":b.size&&(c="Server sent no subprotocol"),c)return void V(e,n,c);a&&(e._protocol=a);const l=t.headers["sec-websocket-extensions"];if(void 0!==l){if(!y)return void V(e,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=A(l)}catch(t){return void V(e,n,"Invalid Sec-WebSocket-Extensions header")}const r=Object.keys(t);if(1!==r.length||r[0]!==h.extensionName)return void V(e,n,"Server indicated an extension that was not requested");try{y.accept(t[h.extensionName])}catch(t){return void V(e,n,"Invalid Sec-WebSocket-Extensions header")}e._extensions[h.extensionName]=y}e.setSocket(n,r,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})})),i.finishRequest?i.finishRequest(E,e):E.end()}function k(e,t){e._readyState=M.CLOSING,e.emit("error",t),e.emitClose()}function U(e){return e.path=e.socketPath,i.connect(e)}function G(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=i.isIP(e.host)?"":e.host),a.connect(e)}function V(e,t,n){e._readyState=M.CLOSING;const r=new Error(n);Error.captureStackTrace(r,V),t.setHeader?(t[N]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(k,e,r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function D(e,t,n){if(t){const n=O(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${P[e.readyState]})`);process.nextTick(n,t)}}function B(e,t){const n=this[v];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,void 0!==n._socket[v]&&(n._socket.removeListener("data",$),process.nextTick(X,n._socket),1005===e?n.close():n.close(e,t))}function F(){const e=this[v];e.isPaused||e._socket.resume()}function H(e){const t=this[v];void 0!==t._socket[v]&&(t._socket.removeListener("data",$),process.nextTick(X,t._socket),t.close(e[E])),t.emit("error",e)}function j(){this[v].emitClose()}function Y(e,t){this[v].emit("message",e,t)}function W(e){const t=this[v];t._autoPong&&t.pong(e,!this._isServer,T),t.emit("ping",e)}function K(e){this[v].emit("pong",e)}function X(e){e.resume()}function Z(){const e=this[v];let t;this.removeListener("close",Z),this.removeListener("data",$),this.removeListener("end",J),e._readyState=M.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[v]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",j),e._receiver.on("finish",j))}function $(e){this[v]._receiver.write(e)||this.pause()}function J(){const e=this[v];e._readyState=M.CLOSING,e._receiver.end(),this.end()}function z(){const e=this[v];this.removeListener("error",z),this.on("error",T),e&&(e._readyState=M.CLOSING,this.destroy())}Object.defineProperty(M,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(M.prototype,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(M,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(M.prototype,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(M,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(M.prototype,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(M,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),Object.defineProperty(M.prototype,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(M.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(M.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[b])return t[y];return null},set(t){for(const t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})})),M.prototype.addEventListener=I,M.prototype.removeEventListener=R,e.exports=M},16914:e=>{"use strict";e.exports=require("async_hooks")},52588:e=>{"use strict";e.exports=require("buffer")},87968:e=>{"use strict";e.exports=require("crypto")},28696:e=>{"use strict";e.exports=require("dgram")},90467:e=>{"use strict";e.exports=require("events")},2058:e=>{"use strict";e.exports=require("fs")},37392:e=>{"use strict";e.exports=require("fs/promises")},86136:e=>{"use strict";e.exports=require("http")},51256:e=>{"use strict";e.exports=require("https")},31776:e=>{"use strict";e.exports=require("module")},95256:e=>{"use strict";e.exports=require("net")},81096:e=>{"use strict";e.exports=require("node:child_process")},720:e=>{"use strict";e.exports=require("node:diagnostics_channel")},80662:e=>{"use strict";e.exports=require("node:fs")},65736:e=>{"use strict";e.exports=require("node:http")},59144:e=>{"use strict";e.exports=require("node:https")},41592:e=>{"use strict";e.exports=require("node:inspector")},63066:e=>{"use strict";e.exports=require("node:net")},45672:e=>{"use strict";e.exports=require("node:os")},18864:e=>{"use strict";e.exports=require("node:path")},1520:e=>{"use strict";e.exports=require("node:readline")},18792:e=>{"use strict";e.exports=require("node:stream")},64656:e=>{"use strict";e.exports=require("node:tls")},49632:e=>{"use strict";e.exports=require("node:util")},31076:e=>{"use strict";e.exports=require("node:worker_threads")},38512:e=>{"use strict";e.exports=require("node:zlib")},88558:e=>{"use strict";e.exports=require("os")},67072:e=>{"use strict";e.exports=require("path")},76520:e=>{"use strict";e.exports=require("process")},48378:e=>{"use strict";e.exports=require("stream")},192:e=>{"use strict";e.exports=require("tls")},43340:e=>{"use strict";e.exports=require("tty")},78716:e=>{"use strict";e.exports=require("url")},50970:e=>{"use strict";e.exports=require("util")},48696:e=>{"use strict";e.exports=require("worker_threads")},60592:e=>{"use strict";e.exports=require("zlib")},69744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},81124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=void 0;const r=n(81316),o=n(71573),s=r.__importDefault(n(37392)),i=n(1392),a=n(16120),c=n(82816),u=r.__importDefault(n(67072));let l,d=!1;t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(d)throw new Error("runEntrypoint can only be called once");d=!0;const n=process.env.MODULE_MANIFEST;if(!n)throw new Error("Module initialise is missing MODULE_MANIFEST");const r=await s.default.readFile(n),p=JSON.parse(r.toString());if(p.runtime?.api!==o.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!p.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let h=p.runtime.apiVersion;if("0.0.0"===h)try{const e=await s.default.readFile(u.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(h=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const f=process.env.CONNECTION_ID;if("string"!=typeof f||!f)throw new Error("Module initialise is missing CONNECTION_ID");const m=process.env.VERIFICATION_TOKEN;if("string"!=typeof m||!m)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const _=process.env.SENTRY_DSN,g=process.env.SENTRY_USERID,S=process.env.SENTRY_COMPANION_VERSION;if(_&&g&&"https://"==_.substring(0,8)){console.log("Sentry enabled"),(0,a.init)({dsn:_,release:`${p.name}@${p.version}`,beforeSend:e=>(e.exception&&console.log("sentry","error",e.exception),e)});{const e=(0,a.getCurrentScope)();e.setUser({id:g}),e.setTag("companion",S)}}else console.log("Sentry disabled");const b=new c.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{b.receivedMessage(e)})),l=new e((0,i.literal)({id:f,upgradeScripts:t,_isInstanceBaseProps:!0})),b.sendWithCb("register",{apiVersion:h,connectionId:f,verificationToken:m}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))}},66544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var r=n(21584);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return r.TCPHelper}});var o=n(75165);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return o.TelnetHelper}});var s=n(79368);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return s.UDPHelper}})},21584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const r=n(81316).__importDefault(n(95256)),o=n(69328),s=n(61136);class i extends o.EventEmitter{#e;#t;_socket;#n;#r=!1;#o=!1;#s=!1;#i;#a;#c;get isConnected(){return this.#r}get isConnecting(){return this.#o}get isDestroyed(){return this.#s}constructor(e,t,n){super(),this.#e=e,this.#t=t,this.#n={reconnect_interval:2e3,reconnect:!0,...n},this._socket=new r.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#o=!1,this.#r=!1,this.#n.reconnect&&this.#u(),this.#l(s.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#r=!0,this.#o=!1,this.#l(s.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#r=!1,this.#l(s.InstanceStatus.Disconnected),!this.#o&&this.#n.reconnect&&this.#u(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>this.connect())),this.#c=setTimeout((()=>{this.#c=void 0,this.#s||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#s)throw new Error("Cannot connect destroyed socket");return!this.#o&&(this.#o=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#s||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#r)return!1;try{return new Promise(((t,n)=>{this._socket.write(e,(e=>{e?n(e):t(!0)}))}))}catch(e){this.#r=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#l(s.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#s=!0,void 0!==this.#a&&(clearTimeout(this.#a),this.#a=void 0),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#u(){void 0!==this.#a&&clearTimeout(this.#a),this.#a=setTimeout((()=>{this.#a=void 0,this.#l(s.InstanceStatus.Connecting),this.connect()}),this.#n.reconnect_interval)}#l(e,t){this.#i!=e&&(this.#i=e,this.emit("status_change",e,t))}}t.TCPHelper=i},75165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const r=n(81316).__importDefault(n(69328)),o=n(48378),s=n(21584);class i extends r.default{#d;#p;#c;get isConnected(){return this.#d.isConnected}get isConnecting(){return this.#d.isConnecting}get isDestroyed(){return this.#d.isDestroyed}constructor(e,t,n){super(),this.#d=new s.TCPHelper(e,t,n),this.#p=new a,this.#d._socket.pipe(this.#p),this.#d.on("connect",(()=>this.emit("connect"))),this.#d.on("end",(()=>this.emit("end"))),this.#d.on("error",(e=>this.emit("error",e))),this.#d.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#p.on("iac",((e,t)=>this.emit("iac",e,t))),this.#p.on("sb",(e=>this.emit("sb",e))),this.#p.on("data",(e=>this.emit("data",e))),this.#p.on("drain",(()=>this.emit("drain"))),this.#c=setTimeout((()=>{this.#c=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#d.connect()}async send(e){return this.#d.send(e)}destroy(){this.#d.destroy(),void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#p.removeAllListeners(),this.#p.destroy()}}t.TelnetHelper=i;class a extends o.Transform{#h;#f;#m;constructor(e){super(e),this.#h=Buffer.alloc(0),this.#f=Buffer.alloc(0),this.#m=0}_transform(e,t,n){for(let t=0;t<e.length;++t)this.#_(e[t]);const r=this.#g();r.length&&this.push(r),n()}#_(e){if(0===this.#m){if(255===e)return void(this.#m=255);this.#h=Buffer.concat([this.#h,Buffer.from([e])])}else if(255===this.#m)switch(e){case 250:case 251:case 252:case 253:case 254:this.#m=e;break;default:this.#m=0}else{if(this.#m>=251&&this.#m<=254){let t;switch(this.#m){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#m=0)}if(250===this.#m){if(240===e)return this.emit("sb",this.#f),this.#m=0,void(this.#f=Buffer.alloc(0));this.#f=Buffer.concat([this.#f,Buffer.from([e])])}}}#g(){const e=this.#h;return this.#h=Buffer.alloc(0),e}}},79368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const r=n(81316).__importDefault(n(28696)),o=n(69328),s=n(61136);class i extends o.EventEmitter{#e;#t;#S;#n;#s=!1;#i;#c;get isDestroyed(){return this.#s}constructor(e,t,n){super(),this.#e=e,this.#t=t,this.#n={...n},this.#S=r.default.createSocket("udp4");try{this.#S.bind(this.#n.bind_port||0,this.#n.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#n.bind_ip}:${this.#n.bind_port}`)}this.#n.broadcast&&this.#S.setBroadcast(!0),void 0!==this.#n.ttl&&this.#S.setTTL(this.#n.ttl),void 0!==this.#n.multicast_ttl&&this.#S.setMulticastTTL(this.#n.multicast_ttl),this.#S.on("error",(e=>{this.#l(s.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#S.on("listening",(()=>{this.#n.multicast_interface&&this.#S.setMulticastInterface(this.#n.multicast_interface),this.#l(s.InstanceStatus.Ok),this.emit("listening")})),this.#S.on("message",(e=>this.emit("data",e))),this.#c=setTimeout((()=>{this.#s||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#s)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,n)=>{this.#S.send(e,this.#t,this.#e,(e=>{e?n(e):t()}))}))}destroy(){this.#s=!0,void 0!==this.#c&&(clearTimeout(this.#c),this.#c=void 0),this.#S.removeAllListeners(),this.#S.close(),this.removeAllListeners()}#l(e,t){this.#i!=e&&(this.#i=e,this.emit("status_change",e,t))}}t.UDPHelper=i},82816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const r=n(81316),o=n(1392),s=r.__importDefault(n(86912));t.IpcWrapper=class{#b;#y;#E;#v=1;#T=new Map;constructor(e,t,n){this.#b=e,this.#y=t,this.#E=n}async sendWithCb(e,t,n,r=0){r<=0&&(r=this.#E);const o={timeout:void 0,resolve:()=>null,reject:()=>null},i=new Promise(((e,t)=>{o.resolve=e,o.reject=t}));this.#v>268435456&&(this.#v=1);const a=this.#v++;this.#T.set(a,o),this.#y({direction:"call",name:String(e),payload:s.default.stringify(t),callbackId:a});const c=new Error("Call timed out");return o.timeout=setTimeout((()=>{o.reject(n?n():c),this.#T.delete(a)}),r),i}sendWithNoCb(e,t){this.#y({direction:"call",name:String(e),payload:s.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#b[e.name];if(!t)return void(e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:s.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?s.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!0,payload:s.default.stringify(t)})}),(t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):s.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#T.get(e.callbackId);if(this.#T.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const n=e.payload?s.default.parse(e.payload):void 0;if(e.success)t.resolve(n);else{let e=n;n&&"object"==typeof n&&"message"in n&&(e=new Error(n.message),n.stack&&(e.stack=n.stack)),t.reject(e)}break}default:(0,o.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},71573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const r=n(81316);r.__exportStar(n(59728),t),r.__exportStar(n(53308),t),r.__exportStar(n(69744),t);var o=n(1392);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return o.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return o.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return o.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return o.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return o.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return o.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return o.assertNever}}),r.__exportStar(n(66544),t);var s=n(81124);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return s.runEntrypoint}})},68328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const r=n(73836);function o(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#I;#R;#C;#A=new Map;#O=new Map;constructor(e,t,n){this.#I=e,this.#R=t,this.#C=n}async handleExecuteAction(e){const t=this.#A.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},n)}handleUpdateActions(e){for(const[t,n]of Object.entries(e)){const e=this.#O.get(t);if(e){const t=this.#A.get(e.actionId);if(t?.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),n)).catch((t=>{this.#C("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!n||n.disabled)this.#O.delete(t);else{this.#O.set(t,n);const e=this.#A.get(n.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#I({text:e,controlId:n.controlId,actionInstanceId:n.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(o(n),t)).catch((e=>{this.#C("error",`Action subscribe failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#A.get(e.action.actionId);if(t&&t.learn){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},n)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#A.clear();for(const[n,o]of Object.entries(e))o&&(t.push({id:n,name:o.name,description:o.description,options:(0,r.serializeIsVisibleFn)(o.options),hasLearn:!!o.learn,learnTimeout:o.learnTimeout}),this.#A.set(n,o));this.#R({actions:t})}_getAllActions(){return Array.from(this.#O.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#O.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.actionId))));for(const e of t){const t=this.#A.get(e.actionId);if(t?.subscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(o(e),n)).catch((t=>{this.#C("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#O.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.actionId))));for(const e of t){const t=this.#A.get(e.actionId);if(t&&t.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),n)).catch((t=>{this.#C("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},73836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceBaseProps=t.serializeIsVisibleFn=void 0,t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},52904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const r=n(81316),o=n(73836),s=r.__importDefault(n(45988));function i(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#I;#N;#w;#C;#P=new Map;#L=new Map;#M=new Map;#x=new Map;#k;get parseVariablesContext(){return this.#k}constructor(e,t,n,r){this.#I=e,this.#N=t,this.#w=n,this.#C=r}getDefinitionIds(){return Array.from(this.#P.keys())}getInstanceIds(){return Array.from(this.#L.keys())}handleUpdateFeedbacks(e){for(const[t,n]of Object.entries(e)){const e=this.#L.get(t);if(e){const t=this.#P.get(e.feedbackId);if(t?.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(i(t.type,e),n)).catch((t=>{this.#C("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!n||n.disabled)this.#L.delete(t);else{this.#L.set(t,{...n,referencedVariables:null});const e=this.#P.get(n.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#I({text:e,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:n.id})).text};Promise.resolve(e.subscribe(i(e.type,n),t)).catch((e=>{this.#C("error",`Feedback subscribe failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)}))}this.#U(t)}}}async handleLearnFeedback(e){const t=this.#P.get(e.feedback.feedbackId);if(t&&t.learn){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},n)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#x.values())for(const n of e.variablesIds)t.changedVariables.add(n);const n=new Set;for(const e of this.#L.values())if(!this.#x.has(e.id)&&e.referencedVariables)for(const r of e.referencedVariables)if(t.has(r)){n.add(e.id);break}for(const e of n)setImmediate((()=>{this.#U(e)}))}#U(e){const t=this.#x.get(e);if(t)return void(t.needsRecheck=!0);const n=this.#L.get(e);if(!n)return;const r=n,o={needsRecheck:!1,changedVariables:new Set};this.#x.set(e,o),Promise.resolve().then((async()=>{const t=this.#P.get(r.feedbackId);let n;const o=new Set;if(t){this.#k=`Feedback ${r.feedbackId} (${e})`;const s={parseVariablesInString:async t=>{const n=await this.#I({text:t,controlId:r.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(n.variableIds&&n.variableIds.length)for(const e of n.variableIds)o.add(e);return n.text}};n="boolean"===t.type?t.callback({...i("boolean",r),type:"boolean"},s):t.callback({...i("advanced",r),type:"advanced",image:r.image},s),this.#k=void 0}const s=await n;this.#M.set(e,{id:e,controlId:r.controlId,value:s}),this.#G(),r.referencedVariables=o.size>0?Array.from(o):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#k=void 0,this.#x.delete(e);let t=!1;if(r.referencedVariables)for(const e of r.referencedVariables)if(o.changedVariables.has(e)){t=!0;break}(t||o.needsRecheck)&&setImmediate((()=>{this.#U(e)}))}))}#G=(0,s.default)((()=>{const e=this.#M;this.#M=new Map,e.size>0&&this.#N({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#P.clear();for(const[n,r]of Object.entries(e))r&&(t.push({id:n,name:r.name,description:r.description,options:(0,o.serializeIsVisibleFn)(r.options),type:r.type,defaultStyle:"boolean"===r.type?r.defaultStyle:void 0,hasLearn:!!r.learn,learnTimeout:r.learnTimeout,showInvert:"boolean"===r.type&&r.showInvert}),this.#P.set(n,r));this.#w({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,n]of this.#L.entries())this.#P.get(n.feedbackId)&&(0===t.size||t.has(n.feedbackId))&&this.#U(e)}checkFeedbacksById(e){for(const t of e)this.#U(t)}_getAllFeedbacks(){return Array.from(this.#L.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#L.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.feedbackId))));for(const e of t){const t=this.#P.get(e.feedbackId);if(t?.subscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(i(t.type,e),n)).catch((t=>{this.#C("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#L.values());const n=new Set(e);n.size&&(t=t.filter((e=>n.has(e.feedbackId))));for(const e of t){const t=this.#P.get(e.feedbackId);if(t&&t.unsubscribe){const n={parseVariablesInString:async t=>(await this.#I({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(i(t.type,e),n)).catch((t=>{this.#C("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},98493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=void 0;const r=n(1392);function o(e){return JSON.parse(JSON.stringify(e))}t.runThroughUpgradeScripts=function(e,t,n,s,i,a){const c=new Map,u=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??n;t&&"number"==typeof e&&u(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??n;e&&"number"==typeof t&&u(t).feedbacks.push(e.id)}if(!a)for(let e=n??-1;e<s.length;e++)u(e).config=!0;const l={},d={};let p;if(c.size>0){const a=Array.from(c.keys()).sort(),u=Math.min(...a,n??-1)+1,h=[],f=[],m=s.length;for(let n=u;n<m;n++){const a=c.get(n-1);a&&(h.push(...a.actions),f.push(...a.feedbacks));const u=!!a?.config;if(!u&&0===h.length&&0===f.length)continue;const m=p??i,_=(0,s[n])({currentConfig:o(m)},{config:u?m:null,actions:h.map((t=>{const n=e[t];if(n)return(0,r.literal)({id:n.id,controlId:n.controlId,actionId:n.actionId,options:void 0!==n.options?o(n.options):{}})})).filter((e=>!!e)),feedbacks:f.map((e=>{const n=t[e];if(n)return(0,r.literal)({id:n.id,controlId:n.controlId,feedbackId:n.feedbackId,options:void 0!==n.options?o(n.options):{},isInverted:n.isInverted})})).filter((e=>!!e))});u&&_.updatedConfig&&(p=_.updatedConfig);for(const t of _.updatedActions)if(t){const n=e[t.id];n&&(n.actionId=t.actionId,n.options=t.options,d[t.id]=n)}for(const e of _.updatedFeedbacks)if(e){const n=t[e.id];n&&(n.feedbackId=e.feedbackId,n.options=e.options,l[e.id]={...n,style:l[e.id]?.style??e.style,isInverted:e.isInverted??!1})}}for(const[t,n]of Object.entries(e))d[t]||"number"!=typeof n?.upgradeIndex||(d[t]=n);for(const[e,n]of Object.entries(t))l[e]||"number"!=typeof n?.upgradeIndex||(l[e]=n)}return{updatedActions:d,updatedFeedbacks:l,updatedConfig:p}}},59728:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=void 0;const r=n(81316).__importDefault(n(55156));t.validateManifest=function(e){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'");if(!(0,r.default)(e)){const e=r.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}}},23928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const r=n(81316),o=n(1392),s=r.__importDefault(n(73324)),i=n(73836),a=n(98493),c=n(52904),u=n(82816),l=n(68328),d=n(99744);t.InstanceBase=class{#V;#D;id;#B=new s.default({concurrency:1});#F=!1;#H=!1;#j={};#Y;#W;#K=new Map;#X=new Map;#Z=new Map;#n;#$;get instanceOptions(){return this.#n}get label(){return this.#$}constructor(e){if(!(0,i.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#n={disableVariableValidation:!1},this.#V=new u.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this),sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#V.receivedMessage(e)})),this.#Y=new l.ActionManager((async e=>this.#V.sendWithCb("parseVariablesInString",e)),(e=>this.#V.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#W=new c.FeedbackManager((async e=>this.#V.sendWithCb("parseVariablesInString",e)),(e=>this.#V.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#V.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#D=e.upgradeScripts,this.id=e.id,this.#$=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#B.add((async()=>{if(this.#F)throw new Error("Already initialized");const t=e.actions,n=e.feedbacks;if(this.#j=e.config,this.#$=e.label,e.isFirstInit){const t={},n=this.getConfigFields();for(const e of n)"default"in e&&(t[e.id]=e.default);this.#j=t,this.saveConfig(this.#j),e.lastUpgradeIndex=this.#D.length-1}const{updatedActions:r,updatedFeedbacks:o,updatedConfig:s}=(0,a.runThroughUpgradeScripts)(t,n,e.lastUpgradeIndex,this.#D,this.#j,!1);this.#j=s??this.#j;const i=this.#V.sendWithCb("upgradedItems",{updatedActions:r,updatedFeedbacks:o});try{await this.init(this.#j,!!e.isFirstInit),this.#F=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await i}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:n},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#D.length-1,updatedConfig:this.#j}}))}async _handleDestroy(){await this.#B.add((async()=>{if(!this.#F)throw new Error("Not initialized");await this.destroy(),this.#F=!1}))}async _handleConfigUpdateAndLabel(e){await this.#B.add((async()=>{if(!this.#F)throw new Error("Not initialized");this.#$=e.label,this.#j=e.config,await this.configUpdated(this.#j)}))}async _handleExecuteAction(e){return this.#Y.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)({},e.feedbacks,null,this.#D,this.#j,!0);this.#V.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#W.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,a.runThroughUpgradeScripts)(e.actions,{},null,this.#D,this.#j,!0);this.#V.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#Y.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,i.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#Y.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#W.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#H)return}else if(!this.#H)return;if(!this.handleStartStopRecordActions)throw this.#H=!1,new Error("Recording actions is not supported by this module!");this.#H=e.recording,this.handleStartStopRecordActions(this.#H)}async _handleVariablesChanged(e){this.#W.handleVariablesChanged(e)}async _handleSharedUdpSocketMessage(e){for(const t of this.#K.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#K.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e){this.#j=e,this.#V.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#Y.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#W.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[n,r]of Object.entries(e))r&&t.push({...r,id:n});this.#V.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],n=[];this.#X.clear();for(const r of e)t.push({id:r.variableId,name:r.name}),this.#X.set(r.variableId,r),this.#Z.has(r.variableId)||(this.#Z.set(r.variableId,""),n.push({id:r.variableId,value:""}));if(!this.#n.disableVariableValidation){const e=new Set(this.#X.keys());for(const t of this.#Z.keys())e.has(t)||(this.#Z.delete(t),n.push({id:t,value:void 0}))}this.#V.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:n})}setVariableValues(e){const t=[];for(const[n,r]of Object.entries(e))this.#n.disableVariableValidation?(void 0===r?this.#Z.delete(n):this.#Z.set(n,r),t.push({id:n,value:r})):this.#X.has(n)?(this.#Z.set(n,r??""),t.push({id:n,value:r??""})):t.push({id:n,value:void 0});this.#V.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#Z.get(e)}async parseVariablesInString(e){const t=this.#W.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#V.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#W.checkFeedbacks(e)}checkFeedbacksById(...e){this.#W.checkFeedbacksById(e)}_getAllActions(){return this.#Y._getAllActions()}subscribeActions(...e){this.#Y.subscribeActions(e)}unsubscribeActions(...e){this.#Y.unsubscribeActions(e)}_getAllFeedbacks(){return this.#W._getAllFeedbacks()}subscribeFeedbacks(...e){this.#W.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#W.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#H)throw new Error("Not currently recording actions");this.#V.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}setCustomVariableValue(e,t){this.#V.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,n,r){this.#V.sendWithNoCb("send-osc",(0,o.literal)({host:e,port:t,path:n,args:r}))}updateStatus(e,t){this.#V.sendWithNoCb("set-status",(0,o.literal)({status:e,message:t??null}))}log(e,t){this.#V.sendWithNoCb("log-message",(0,o.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const n="string"==typeof e?{type:e}:e,r=new d.SharedUdpSocketImpl(this.#V,this.#K,n);return t&&r.on("message",t),r}}},34704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},61136:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning"}(n||(t.InstanceStatus=n={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(r||(t.Regex=r={}))},15136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(81316);r.__exportStar(n(23928),t),r.__exportStar(n(56440),t),r.__exportStar(n(34704),t),r.__exportStar(n(61136),t),r.__exportStar(n(15136),t),r.__exportStar(n(14032),t),r.__exportStar(n(2480),t),r.__exportStar(n(34224),t),r.__exportStar(n(11556),t),r.__exportStar(n(15200),t),r.__exportStar(n(84660),t)},2480:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},99744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const r=n(81316).__importDefault(n(69328)),o=n(1392);class s extends r.default{#V;#J;#n;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#m&&"object"==typeof this.#m?this.#m:void 0}#m="pending";constructor(e,t,n){super(),this.#V=e,this.#J=t,this.#n={...n}}bind(e,t,n){if(this.#m&&"object"==typeof this.#m)throw new Error("Socket is already bound");switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,o.assertNever)(this.#m),new Error("Invalid socket state")}this.#m="binding",n&&this.on("listening",n),this.#V.sendWithCb("sharedUdpSocketJoin",{family:this.#n.type,portNumber:e}).then((t=>{this.#m={portNumber:e,handleId:t},this.#J.set(t,this),this.emit("listening")}),(e=>{this.#m="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#m&&"object"==typeof this.#m);else switch(this.#m){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,o.assertNever)(this.#m),new Error("Invalid socket state")}const t=this.#m.handleId;this.#m="closed",e&&this.on("close",e),this.#V.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#J.delete(t),this.emit("close")}),(e=>{this.#J.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,n,r,o,s){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof n){if("number"!=typeof r||"string"!=typeof o)throw new Error("Invalid arguments");if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid arguments");const i=this.#z(e,t,n);this.#Q(i,r,o,s)}else{if("string"!=typeof n)throw new Error("Invalid arguments");{if(void 0!==r&&"function"!=typeof r)throw new Error("Invalid arguments");const o=this.#z(e,0,void 0);this.#Q(o,t,n,r)}}}#z(e,t,n){let r;if("string"==typeof e)r=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))r=e;else{if(Array.isArray(e))return Buffer.from(e);r=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return r.subarray(t,void 0!==n?n+t:void 0)}#Q(e,t,n,r){if(!this.#m||"object"!=typeof this.#m)throw new Error("Socket is not open");this.#V.sendWithCb("sharedUdpSocketSend",{handleId:this.#m.handleId,message:e,address:n,port:t}).then((()=>{r?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#m="fatalError";const t=this.boundState;t&&this.#J.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=s},11556:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=t.CreateConvertToBooleanFeedbackUpgradeScript=t.EmptyUpgradeScript=void 0,t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}),t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,n)=>{const r=[];for(const t of n.feedbacks){let n=e[t.feedbackId];if(!0===n&&(n={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),n){t.style||(t.style={});for(const[e,o]of Object.entries(n))void 0!==t.options[e]&&(t.style[o]=t.options[e],delete t.options[e],r.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:r}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,n)=>{const r=[];for(const t of n.feedbacks){const n=e[t.feedbackId];if("string"!=typeof n)continue;const o=t.options[n];void 0!==o&&(delete t.options[n],t.isInverted="true"===o||!0===o||Number(o)>0,r.push(t))}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:r}}}},84660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.assertNever=t.literal=void 0;const r=n(1173);function o(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,r.colord)(e).isValid()){const t=(0,r.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,n,r){let o=(255&e)<<16|(255&t)<<8|255&n;return r&&r>=0&&r<1&&(o+=16777216*Math.round(255*(1-r))),o},t.splitRgb=o,t.splitHsl=function(e){const t=o(e);return(0,r.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=o(e);return(0,r.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=o(e);return(0,r.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()}},55156:(e,t,n)=>{"use strict";e.exports=a,e.exports.default=a;const r={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18"},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}},additionalProperties:!1}},required:["type","protocol"],additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1,required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"]},o=Object.prototype.hasOwnProperty,s=n(35660).c,i=new RegExp("","u");function a(e,{instancePath:t="",parentData:n,parentDataProperty:c,rootData:u=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===e.id&&(n="id")||void 0===e.name&&(n="name")||void 0===e.shortname&&(n="shortname")||void 0===e.description&&(n="description")||void 0===e.version&&(n="version")||void 0===e.license&&(n="license")||void 0===e.repository&&(n="repository")||void 0===e.bugs&&(n="bugs")||void 0===e.maintainers&&(n="maintainers")||void 0===e.legacyIds&&(n="legacyIds")||void 0===e.runtime&&(n="runtime")||void 0===e.manufacturer&&(n="manufacturer")||void 0===e.products&&(n="products")||void 0===e.keywords&&(n="keywords"))return a.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;{const n=0;for(const n in e)if(!o.call(r.properties,n))return a.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(0===n){if(void 0!==e.$schema){const n=0;if("string"!=typeof e.$schema)return a.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=0===n}else l=!0;if(l){if(void 0!==e.id){const n=0;if("string"!=typeof e.id)return a.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.name){const n=0;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.shortname){const n=0;if("string"!=typeof e.shortname)return a.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.description){const n=0;if("string"!=typeof e.description)return a.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.version){const n=0;if("string"!=typeof e.version)return a.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.license){const n=0;if("string"!=typeof e.license)return a.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.repository){const n=0;if("string"!=typeof e.repository)return a.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.bugs){const n=0;if("string"!=typeof e.bugs)return a.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.maintainers){let n=e.maintainers;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var d=!0;const e=n.length;for(let r=0;r<e;r++){let e=n[r];const o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return a.errors=[{instancePath:t+"/maintainers/"+r,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===e.name&&(n="name"))return a.errors=[{instancePath:t+"/maintainers/"+r,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;if(void 0!==e.name){const n=0;if("string"!=typeof e.name)return a.errors=[{instancePath:t+"/maintainers/"+r+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=0===n}else p=!0;if(p){if(void 0!==e.email){const n=0;if("string"!=typeof e.email)return a.errors=[{instancePath:t+"/maintainers/"+r+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===n}else p=!0;if(p)if(void 0!==e.github){const n=0;if("string"!=typeof e.github)return a.errors=[{instancePath:t+"/maintainers/"+r+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===n}else p=!0}}}if(!(d=0===o))break}if(d){let e,r=n.length;if(r>1)for(;r--;)for(e=r;e--;)if(s(n[r],n[e]))return a.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1}}}l=0===r}else l=!0;if(l){if(void 0!==e.legacyIds){let n=e.legacyIds;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var h=!0;const e=n.length;for(let r=0;r<e;r++){const e=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/legacyIds/"+r,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=0===e))break}if(h){let e,r=n.length;if(r>1){const o={};for(;r--;){let s=n[r];if("string"==typeof s){if("number"==typeof o[s])return e=o[s],a.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1;o[s]=r}}}}}}l=0===r}else l=!0;if(l){if(void 0!==e.runtime){let n=e.runtime;const o=0;if(0===o){if(!n||"object"!=typeof n||Array.isArray(n))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===n.type&&(e="type")||void 0===n.api&&(e="api")||void 0===n.apiVersion&&(e="apiVersion")||void 0===n.entrypoint&&(e="entrypoint"))return a.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==n.type){const e=0;if("string"!=typeof n.type)return a.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=0===e}else f=!0;if(f){if(void 0!==n.api){let e=n.api;const o=0;if("string"!=typeof e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return a.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:r.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;f=0===o}else f=!0;if(f){if(void 0!==n.apiVersion){const e=0;if("string"!=typeof n.apiVersion)return a.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0;if(f)if(void 0!==n.entrypoint){const e=0;if("string"!=typeof n.entrypoint)return a.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;f=0===e}else f=!0}}}}l=0===o}else l=!0;if(l){if(void 0!==e.manufacturer){const n=0;if("string"!=typeof e.manufacturer)return a.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l){if(void 0!==e.products){let n=e.products;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(n.length<1)return a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var m=!0;const e=n.length;for(let r=0;r<e;r++){const e=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/products/"+r,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=0===e))break}if(m){let e,r=n.length;if(r>1){const o={};for(;r--;){let s=n[r];if("string"==typeof s){if("number"==typeof o[s])return e=o[s],a.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1;o[s]=r}}}}}}l=0===r}else l=!0;if(l){if(void 0!==e.keywords){let n=e.keywords;const r=0;if(0===r){if(!Array.isArray(n))return a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var _=!0;const e=n.length;for(let r=0;r<e;r++){const e=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/keywords/"+r,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(_=0===e))break}if(_){let e,r=n.length;if(r>1){const o={};for(;r--;){let s=n[r];if("string"==typeof s){if("number"==typeof o[s])return e=o[s],a.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:r,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+r+" are identical)"}],!1;o[s]=r}}}}}}l=0===r}else l=!0;if(l)if(void 0!==e.bonjourQueries){let n=e.bonjourQueries;const o=0;if(0===o){if(!n||"object"!=typeof n||Array.isArray(n))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=0;for(const e in n)if(!i.test(e))return a.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e)for(const e in n)if(i.test(e)){let o=n[e];const s=0;if(0===s){if(!o||"object"!=typeof o||Array.isArray(o))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===o.type&&(n="type")||void 0===o.protocol&&(n="protocol"))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;{const n=0;for(const n in o)if("type"!==n&&"protocol"!==n&&"txt"!==n)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(0===n){if(void 0!==o.type){const n=0;if("string"!=typeof o.type)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=0===n}else g=!0;if(g){if(void 0!==o.protocol){let n=o.protocol;const s=0;if("string"!=typeof n)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("tcp"!==n&&"udp"!==n)return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/protocol/enum",keyword:"enum",params:{allowedValues:r.properties.bonjourQueries.patternProperties[""].properties.protocol.enum},message:"must be equal to one of the allowed values"}],!1;g=0===s}else g=!0;if(g)if(void 0!==o.txt){let n=o.txt;const r=0;if(0===r){if(!n||"object"!=typeof n||Array.isArray(n))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=0;for(const r in n)if(!i.test(r))return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r)for(const r in n)if(i.test(r)){const o=0;if("string"!=typeof n[r])return a.errors=[{instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(0!==o)break}}}g=0===r}else g=!0}}}}}if(0!==s)break}}}l=0===o}else l=!0}}}}}}}}}}}}}}}}}return a.errors=null,!0}},45988:(e,t,n)=>{"use strict";const r=n(35624);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:n=0,maxWait:o=0,before:s=!1,after:i=!0}=t;if(!s&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,c,u;const l=function(...t){const r=this,l=s&&!a;return clearTimeout(a),a=setTimeout((()=>{a=void 0,c&&(clearTimeout(c),c=void 0),i&&(u=e.apply(r,t))}),n),o>0&&!c&&i&&(c=setTimeout((()=>{c=void 0,a&&(clearTimeout(a),a=void 0),u=e.apply(r,t)}),o)),l&&(u=e.apply(r,t)),u};return r(l,e),l.cancel=()=>{a&&(clearTimeout(a),a=void 0),c&&(clearTimeout(c),c=void 0)},l}},85472:(e,t,n)=>{"use strict";var r=n(120);const o=[{label:"A",id:"OBS_KEY_A"},{label:"B",id:"OBS_KEY_B"},{label:"C",id:"OBS_KEY_C"},{label:"D",id:"OBS_KEY_D"},{label:"E",id:"OBS_KEY_E"},{label:"F",id:"OBS_KEY_F"},{label:"G",id:"OBS_KEY_G"},{label:"H",id:"OBS_KEY_H"},{label:"I",id:"OBS_KEY_I"},{label:"J",id:"OBS_KEY_J"},{label:"K",id:"OBS_KEY_K"},{label:"L",id:"OBS_KEY_L"},{label:"M",id:"OBS_KEY_M"},{label:"N",id:"OBS_KEY_N"},{label:"O",id:"OBS_KEY_O"},{label:"P",id:"OBS_KEY_P"},{label:"Q",id:"OBS_KEY_Q"},{label:"R",id:"OBS_KEY_R"},{label:"S",id:"OBS_KEY_S"},{label:"T",id:"OBS_KEY_T"},{label:"U",id:"OBS_KEY_U"},{label:"V",id:"OBS_KEY_V"},{label:"W",id:"OBS_KEY_W"},{label:"X",id:"OBS_KEY_X"},{label:"Y",id:"OBS_KEY_Y"},{label:"Z",id:"OBS_KEY_Z"},{label:"0",id:"OBS_KEY_0"},{label:"1",id:"OBS_KEY_1"},{label:"2",id:"OBS_KEY_2"},{label:"3",id:"OBS_KEY_3"},{label:"4",id:"OBS_KEY_4"},{label:"5",id:"OBS_KEY_5"},{label:"6",id:"OBS_KEY_6"},{label:"7",id:"OBS_KEY_7"},{label:"8",id:"OBS_KEY_8"},{label:"9",id:"OBS_KEY_9"},{label:"Return",id:"OBS_KEY_RETURN"},{label:"Enter",id:"OBS_KEY_ENTER"},{label:"Escape",id:"OBS_KEY_ESCAPE"},{label:"Tab",id:"OBS_KEY_TAB"},{label:"Backtab",id:"OBS_KEY_BACKTAB"},{label:"Backspace",id:"OBS_KEY_BACKSPACE"},{label:"Insert",id:"OBS_KEY_INSERT"},{label:"Delete",id:"OBS_KEY_DELETE"},{label:"Pause",id:"OBS_KEY_PAUSE"},{label:"Print",id:"OBS_KEY_PRINT"},{label:"Sysreq",id:"OBS_KEY_SYSREQ"},{label:"Clear",id:"OBS_KEY_CLEAR"},{label:"Home",id:"OBS_KEY_HOME"},{label:"End",id:"OBS_KEY_END"},{label:"Left",id:"OBS_KEY_LEFT"},{label:"Up",id:"OBS_KEY_UP"},{label:"Right",id:"OBS_KEY_RIGHT"},{label:"Down",id:"OBS_KEY_DOWN"},{label:"Page Up",id:"OBS_KEY_PAGEUP"},{label:"Page Down",id:"OBS_KEY_PAGEDOWN"},{label:"Shift",id:"OBS_KEY_SHIFT"},{label:"Control",id:"OBS_KEY_CONTROL"},{label:"Meta",id:"OBS_KEY_META"},{label:"Alt",id:"OBS_KEY_ALT"},{label:"Alt Graph",id:"OBS_KEY_ALTGR"},{label:"Caps Lock",id:"OBS_KEY_CAPSLOCK"},{label:"Num Lock",id:"OBS_KEY_NUMLOCK"},{label:"Scroll Lock",id:"OBS_KEY_SCROLLLOCK"},{label:"F1",id:"OBS_KEY_F1"},{label:"F2",id:"OBS_KEY_F2"},{label:"F3",id:"OBS_KEY_F3"},{label:"F4",id:"OBS_KEY_F4"},{label:"F5",id:"OBS_KEY_F5"},{label:"F6",id:"OBS_KEY_F6"},{label:"F7",id:"OBS_KEY_F7"},{label:"F8",id:"OBS_KEY_F8"},{label:"F9",id:"OBS_KEY_F9"},{label:"F10",id:"OBS_KEY_F10"},{label:"F11",id:"OBS_KEY_F11"},{label:"F12",id:"OBS_KEY_F12"},{label:"F13",id:"OBS_KEY_F13"},{label:"F14",id:"OBS_KEY_F14"},{label:"F15",id:"OBS_KEY_F15"},{label:"F16",id:"OBS_KEY_F16"},{label:"F17",id:"OBS_KEY_F17"},{label:"F18",id:"OBS_KEY_F18"},{label:"F19",id:"OBS_KEY_F19"},{label:"F20",id:"OBS_KEY_F20"},{label:"F21",id:"OBS_KEY_F21"},{label:"F22",id:"OBS_KEY_F22"},{label:"F23",id:"OBS_KEY_F23"},{label:"F24",id:"OBS_KEY_F24"},{label:"F25",id:"OBS_KEY_F25"},{label:"F26",id:"OBS_KEY_F26"},{label:"F27",id:"OBS_KEY_F27"},{label:"F28",id:"OBS_KEY_F28"},{label:"F29",id:"OBS_KEY_F29"},{label:"F30",id:"OBS_KEY_F30"},{label:"F31",id:"OBS_KEY_F31"},{label:"F32",id:"OBS_KEY_F32"},{label:"F33",id:"OBS_KEY_F33"},{label:"F34",id:"OBS_KEY_F34"},{label:"F35",id:"OBS_KEY_F35"},{label:"Menu",id:"OBS_KEY_MENU"},{label:"Hyper L",id:"OBS_KEY_HYPER_L"},{label:"Hyper R",id:"OBS_KEY_HYPER_R"},{label:"Help",id:"OBS_KEY_HELP"},{label:"Direction L",id:"OBS_KEY_DIRECTION_L"},{label:"Direction R",id:"OBS_KEY_DIRECTION_R"},{label:"Space",id:"OBS_KEY_SPACE"},{label:"! (Exclamation Mark)",id:"OBS_KEY_EXCLAM"},{label:"# (Number Sign)",id:"OBS_KEY_NUMBERSIGN"},{label:"$ (Dollar Sign)",id:"OBS_KEY_DOLLAR"},{label:"% (Percent)",id:"OBS_KEY_PERCENT"},{label:"& (Ampersand)",id:"OBS_KEY_AMPERSAND"},{label:"' (Apostrophe)",id:"OBS_KEY_APOSTROPHE"},{label:"( (Parenthesis Left)",id:"OBS_KEY_PARENLEFT"},{label:") (Parenthesis Right)",id:"OBS_KEY_PARENRIGHT"},{label:"* (Asterisk)",id:"OBS_KEY_ASTERISK"},{label:"+ (Plus)",id:"OBS_KEY_PLUS"},{label:", (Comma)",id:"OBS_KEY_COMMA"},{label:"- (Minus)",id:"OBS_KEY_MINUS"},{label:". (Period)",id:"OBS_KEY_PERIOD"},{label:"/ (Slash)",id:"OBS_KEY_SLASH"},{label:"Numpad = (Equals)",id:"OBS_KEY_NUMEQUAL"},{label:"Numpad * (Asterisk)",id:"OBS_KEY_NUMASTERISK"},{label:"Numpad + (Plus)",id:"OBS_KEY_NUMPLUS"},{label:"Numpad , (Comma)",id:"OBS_KEY_NUMCOMMA"},{label:"Numpad - (Minus)",id:"OBS_KEY_NUMMINUS"},{label:"Numpad . (Period)",id:"OBS_KEY_NUMPERIOD"},{label:"Numpad / (Slash)",id:"OBS_KEY_NUMSLASH"},{label:"Numpad 0",id:"OBS_KEY_NUM0"},{label:"Numpad 1",id:"OBS_KEY_NUM1"},{label:"Numpad 2",id:"OBS_KEY_NUM2"},{label:"Numpad 3",id:"OBS_KEY_NUM3"},{label:"Numpad 4",id:"OBS_KEY_NUM4"},{label:"Numpad 5",id:"OBS_KEY_NUM5"},{label:"Numpad 6",id:"OBS_KEY_NUM6"},{label:"Numpad 7",id:"OBS_KEY_NUM7"},{label:"Numpad 8",id:"OBS_KEY_NUM8"},{label:"Numpad 9",id:"OBS_KEY_NUM9"},{label:": (Colon)",id:"OBS_KEY_COLON"},{label:"; (Semicolon)",id:"OBS_KEY_SEMICOLON"},{label:'" (Quote)',id:"OBS_KEY_QUOTE"},{label:"< (Less Than)",id:"OBS_KEY_LESS"},{label:"= (Equals)",id:"OBS_KEY_EQUAL"},{label:"> (Greater Than)",id:"OBS_KEY_GREATER"},{label:"? (Question Mark)",id:"OBS_KEY_QUESTION"},{label:"@ (At)",id:"OBS_KEY_AT"},{label:"{ (Bracket Left)",id:"OBS_KEY_BRACKETLEFT"},{label:"\\ (Backslash)",id:"OBS_KEY_BACKSLASH"},{label:"} (Bracket Right)",id:"OBS_KEY_BRACKETRIGHT"},{label:"ASCII CIRCUM",id:"OBS_KEY_ASCIICIRCUM"},{label:"_ (Underscore)",id:"OBS_KEY_UNDERSCORE"},{label:"Quote Left",id:"OBS_KEY_QUOTELEFT"},{label:"[ (Brace Left)",id:"OBS_KEY_BRACELEFT"},{label:"| (Bar)",id:"OBS_KEY_BAR"},{label:"] (Brace Right)",id:"OBS_KEY_BRACERIGHT"},{label:"` (Dead Grave)",id:"OBS_KEY_DEAD_GRAVE"}];function s(){let e={};return e.enable_studio_mode={name:"Enable Studio Mode",options:[],callback:()=>{this.sendRequest("SetStudioModeEnabled",{studioModeEnabled:!0})}},e.disable_studio_mode={name:"Disable Studio Mode",options:[],callback:()=>{this.sendRequest("SetStudioModeEnabled",{studioModeEnabled:!1})}},e.toggle_studio_mode={name:"Toggle Studio Mode",options:[],callback:()=>{this.sendRequest("SetStudioModeEnabled",{studioModeEnabled:!this.states.studioMode})}},e.start_recording={name:"Start Recording",options:[],callback:()=>{this.sendRequest("StartRecord")}},e.stop_recording={name:"Stop Recording",options:[],callback:()=>{this.sendRequest("StopRecord")}},e.pause_recording={name:"Pause Recording",options:[],callback:()=>{this.sendRequest("PauseRecord")}},e.resume_recording={name:"Resume Recording",options:[],callback:()=>{this.sendRequest("ResumeRecord")}},e.ToggleRecordPause={name:"Toggle Recording Pause",options:[],callback:()=>{this.sendRequest("ToggleRecordPause")}},e.SplitRecordFile={name:"Split Recording",description:"Requires using the Advanced output mode, and enabling file splitting in the Records settings",options:[],callback:()=>{this.sendRequest("SplitRecordFile")}},e.CreateRecordChapter={name:"Create Record Chapter",description:"Requires using the Hybrid MP4 encoder",options:[{type:"textinput",useVariables:!0,label:"Chapter Name",id:"chapterName",default:""}],callback:async e=>{const t=await this.parseVariablesInString(e.options.chapterName);this.sendRequest("CreateRecordChapter",{chapterName:t})}},e.start_streaming={name:"Start Streaming",options:[],callback:()=>{this.sendRequest("StartStream")}},e.stop_streaming={name:"Stop Streaming",options:[],callback:()=>{this.sendRequest("StopStream")}},e.StartStopStreaming={name:"Toggle Streaming",options:[],callback:()=>{this.sendRequest("ToggleStream")}},e.start_replay_buffer={name:"Start Replay Buffer",options:[],callback:()=>{this.sendRequest("StartReplayBuffer")}},e.stop_replay_buffer={name:"Stop Replay Buffer",options:[],callback:()=>{this.sendRequest("StopReplayBuffer")}},e.save_replay_buffer={name:"Save Replay Buffer",options:[],callback:()=>{this.sendRequest("SaveReplayBuffer")}},e.ToggleReplayBuffer={name:"Toggle Replay Buffer",options:[],callback:()=>{this.sendRequest("ToggleReplayBuffer")}},e.set_scene={name:"Set Program Scene",options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoicesCustomScene},{type:"textinput",useVariables:!0,label:"Custom Scene Name",id:"customSceneName",default:"",isVisible:e=>"customSceneName"===e.scene}],callback:async e=>{if("customSceneName"===e.options.scene){const t=await this.parseVariablesInString(e.options.customSceneName);this.sendRequest("SetCurrentProgramScene",{sceneName:t})}else this.sendRequest("SetCurrentProgramScene",{sceneName:e.options.scene})}},e.preview_scene={name:"Set Preview Scene",options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoicesCustomScene},{type:"textinput",useVariables:!0,label:"Custom Scene Name",id:"customSceneName",default:"",isVisible:e=>"customSceneName"===e.scene}],callback:async e=>{if("customSceneName"===e.options.scene){const t=await this.parseVariablesInString(e.options.customSceneName);this.sendRequest("SetCurrentPreviewScene",{sceneName:t})}else this.sendRequest("SetCurrentPreviewScene",{sceneName:e.options.scene})}},e.smart_switcher={name:"Smart Scene Switcher",description:"Previews selected scene or, if scene is already in preview, transitions the scene to program",options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoicesCustomScene},{type:"textinput",useVariables:!0,label:"Custom Scene Name",id:"customSceneName",default:"",isVisible:e=>"customSceneName"===e.scene}],callback:async e=>{let t=e.options.scene;"customSceneName"===e.options.scene&&(t=await this.parseVariablesInString(e.options.customSceneName)),this.states.previewScene==t&&this.states.programScene!=t?this.sendRequest("TriggerStudioModeTransition"):this.sendRequest("SetCurrentPreviewScene",{sceneName:t})}},e.previewPreviousScene={name:"Preview Previous Scene",options:[],callback:()=>{if(this.states.previewScene){let e=this.scenes.find((e=>e.sceneName===this.states.previewScene)),t=e?.sceneIndex+1,n=this.scenes.find((e=>e.sceneIndex===t));n&&this.sendRequest("SetCurrentPreviewScene",{sceneName:n.sceneName})}}},e.previewNextScene={name:"Preview Next Scene",options:[],callback:()=>{if(this.states.previewScene){let e=this.scenes.find((e=>e.sceneName===this.states.previewScene)),t=e?.sceneIndex-1,n=this.scenes.find((e=>e.sceneIndex===t));n&&this.sendRequest("SetCurrentPreviewScene",{sceneName:n.sceneName})}}},e.do_transition={name:"Transition",description:"Transitions preview to program in Studio Mode",options:[],callback:()=>{this.states.studioMode?this.sendRequest("TriggerStudioModeTransition"):this.log("warn","The Transition action requires OBS to be in Studio Mode. Try switching to Studio Mode, or using the Change Scene action instead")}},e.quick_transition={name:"Quick Transition",description:"Performs the selected transition and then returns to the default transition",options:[{type:"dropdown",label:"Transition",id:"transition",default:this.transitionList?.[0]?this.transitionList[0].id:"",choices:this.transitionList},{type:"checkbox",label:"Custom Duration",id:"customDuration"},{type:"number",label:"Duration (in ms)",id:"transition_time",default:500,min:0,max:6e4,range:!1,isVisible:e=>!0===e.customDuration}],callback:e=>{if("Default"!=e.options.transition||e.options.customDuration){let t,n,r=this.states.currentTransition,o=this.states.transitionDuration>0?this.states.transitionDuration:500;t="Cut"==e.options.transition?100:"Cut"!=e.options.transition&&e.options.customDuration&&e.options.transition_time>50?e.options.transition_time+100:o+100,n=e.options.customDuration&&null!=e.options.transition_time?e.options.transition_time:o,this.states.transitionActive||this.sendBatch([{requestType:"SetCurrentSceneTransition",requestData:{transitionName:e.options.transition}},{requestType:"SetCurrentSceneTransitionDuration",requestData:{transitionDuration:n}},{requestType:"TriggerStudioModeTransition"},{requestType:"Sleep",requestData:{sleepMillis:t}},{requestType:"SetCurrentSceneTransition",requestData:{transitionName:r}},{requestType:"SetCurrentSceneTransitionDuration",requestData:{transitionDuration:o}}])}else this.sendRequest("TriggerStudioModeTransition")}},e.set_transition={name:"Set Transition Type",options:[{type:"dropdown",label:"Transitions",id:"transitions",default:this.transitionList?.[0]?this.transitionList[0].id:"",choices:this.transitionList}],callback:e=>{this.sendRequest("SetCurrentSceneTransition",{transitionName:e.options.transitions})}},e.set_transition_duration={name:"Set Transition Duration",options:[{type:"number",label:"Transition time (in ms)",tooltip:"Must be between 50 and 20000ms",id:"duration",default:500,min:50,max:2e4,range:!1,isVisible:e=>!e.useVariable},{type:"textinput",useVariables:!0,label:"Transition time variable (in ms)",id:"variableValue",default:"500",isVisible:e=>e.useVariable},{type:"checkbox",label:"Use Variable",id:"useVariable",default:!1}],callback:async e=>{let t=null;if(e.options.useVariable){if(t=await this.parseVariablesInString(e.options.variableValue),t=parseInt(t),!(t>=50&&t<=2e4))return void this.log("warn","Transition duration must be between 50 and 20000ms")}else t=e.options.duration;this.sendRequest("SetCurrentSceneTransitionDuration",{transitionDuration:t})}},e.adjustTransitionDuration={name:"Adjust Transition Duration",options:[{type:"number",label:"Adjustment amount +/- (in ms)",id:"duration",default:500,min:-2e4,max:2e4,range:!1}],callback:async e=>{if(this.states.transitionDuration){let t=null;t=this.states.transitionDuration+e.options.duration,t>=50&&t<=2e4||(t=t<50?50:t>2e4?2e4:this.states.transitionDuration),this.sendRequest("SetCurrentSceneTransitionDuration",{transitionDuration:t})}else this.log("warn","Unable to adjust transition duration")}},e.set_stream_settings={name:"Set Stream Settings",options:[{type:"dropdown",label:"Stream Type",id:"streamType",choices:[{id:"rtmp_common",label:"Preset Service"},{id:"rtmp_custom",label:"Custom"}],default:"rtmp_custom"},{type:"textinput",label:"Stream URL",id:"streamURL",default:"",isVisible:e=>"rtmp_custom"===e.streamType},{type:"textinput",label:"Stream Key",id:"streamKey",default:""},{type:"checkbox",label:"Use Authentication",id:"streamAuth",default:!1,isVisible:e=>"rtmp_custom"===e.streamType},{type:"textinput",label:"User Name (Optional)",id:"streamUserName",default:"",isVisible:e=>"rtmp_custom"===e.streamType},{type:"textinput",label:"Password (Optional)",id:"streamPassword",default:"",isVisible:e=>"rtmp_custom"===e.streamType}],callback:e=>{let t={key:e.options.streamKey,server:e.options.streamURL,use_auth:e.options.streamAuth,username:e.options.streamUserName,password:e.options.streamPassword},n=e.options.streamType;this.sendRequest("SetStreamServiceSettings",{streamServiceType:n,streamServiceSettings:t})}},e.SendStreamCaption={name:"Send Stream Caption",options:[{type:"textinput",useVariables:!0,label:"Caption Text",id:"text",default:""}],callback:async e=>{if(this.states.streaming){let t=await this.parseVariablesInString(e.options.customSceneName);this.sendRequest("SendStreamCaption",{captionText:t})}}},e.StartStopRecording={name:"Toggle Recording",options:[],callback:()=>{this.sendRequest("ToggleRecord")}},e.set_source_mute={name:"Set Source Mute",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"dropdown",label:"Mute",id:"mute",default:"true",choices:[{id:"false",label:"False"},{id:"true",label:"True"}]}],callback:e=>{this.sendRequest("SetInputMute",{inputName:e.options.source,inputMuted:"true"==e.options.mute})}},e.toggle_source_mute={name:"Toggle Source Mute",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList}],callback:e=>{this.sendRequest("ToggleInputMute",{inputName:e.options.source})}},e.set_volume={name:"Set Source Volume",description:"Sets the volume of a source to a specific value",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Volume in dB (-100 to 26) ",id:"volume",default:0,min:-100,max:26,range:!1}],callback:e=>{this.sendRequest("SetInputVolume",{inputName:e.options.source,inputVolumeDb:e.options.volume})}},e.adjust_volume={name:"Adjust Source Volume (dB)",description:"Adjusts the volume of a source by a specific increment",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Volume adjustment amount in dB",id:"volume",default:0,range:!1}],callback:e=>{let t=this.sources[e.options.source].inputVolume+e.options.volume;t>26?t=26:t<-100&&(t=-100),this.sendRequest("SetInputVolume",{inputName:e.options.source,inputVolumeDb:t})}},e.adjust_volume_percent={name:"Adjust Source Volume (Percentage)",description:"Adjusts the volume of a source based on a percentage of the OBS volume slider",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Percent Adjustment",id:"percent",default:0,min:-100,max:100,range:!0}],callback:e=>{let t=this.sources[e.options.source].inputVolume,n=0;n=t>=0?100:t<=-96?0:(-Math.log10(6-t)- -2.0086001717619175)/1.2304489213782739*100;let r,o,s=Math.abs(e.options.percent);r=e.options.percent>0?n+s:n-s,r/=100,o=r>=1?0:r<=0?-100:-102*Math.pow(17,-r)+6,this.sendRequest("SetInputVolume",{inputName:e.options.source,inputVolumeDb:o})}},e.setSyncOffset={name:"Set Audio Sync Offset",description:"Sets the sync offset of an audio source",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Sync Offset in ms (-950 to 20000)",id:"offset",default:0,min:-950,max:2e4,range:!1}],callback:e=>{this.sendRequest("SetInputAudioSyncOffset",{inputName:e.options.source,inputAudioSyncOffset:e.options.offset})}},e.setAudioBalance={name:"Set Audio Balance",description:"Sets the balance of an audio source",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Balance (Left 0.0 to 1.0 Right)",id:"balance",default:.5,min:0,max:1,range:!1}],callback:e=>{this.sendRequest("SetInputAudioBalance",{inputName:e.options.source,inputAudioBalance:e.options.balance})}},e.toggle_scene_item={name:"Set Source Visibility",description:"Set or toggle the visibility of a source within a scene",options:[{type:"dropdown",label:"Scene (optional, defaults to current scene)",id:"scene",default:"Current Scene",choices:this.sceneChoicesProgramPreview,allowCustom:!0},{type:"checkbox",label:"All Sources",id:"all",default:!1},{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices,allowCustom:!0,isVisible:e=>!1===e.all},{type:"dropdown",label:"Visible",id:"visible",default:"toggle",choices:[{id:"false",label:"False"},{id:"true",label:"True"},{id:"toggle",label:"Toggle"}]}],callback:async e=>{let t=await this.parseVariablesInString(e.options.scene),n=await this.parseVariablesInString(e.options.source),r=!0,o=[];if("Current Scene"===t?t=this.states.programScene:"Preview Scene"===t&&(t=this.states.previewScene),this.sources[n]?.groupedSource){let t=this.sources[n].groupName,o=this.groups[t].find((e=>e.sourceName===n));r="toggle"===e.options.visible?!o.sceneItemEnabled:"true"==e.options.visible,this.sendRequest("SetSceneItemEnabled",{sceneName:o.groupName,sceneItemId:o.sceneItemId,sceneItemEnabled:r})}let s=this.sceneItems[t];s&&(s.forEach((s=>{if((e.options.all||s.sourceName===n)&&(r="toggle"===e.options.visible?!s.sceneItemEnabled:"true"==e.options.visible,o.push({requestType:"SetSceneItemEnabled",requestData:{sceneName:t,sceneItemId:s.sceneItemId,sceneItemEnabled:r}}),s.isGroup&&e.options.all))for(let t in this.groups[s.sourceName]){let n,r=this.groups[s.sourceName][t];n="toggle"===e.options.visible?!this.sources[r.sourceName].sceneItemEnabled:"true"==e.options.visible,o.push({requestType:"SetSceneItemEnabled",requestData:{sceneName:s.sourceName,sceneItemId:r.sceneItemId,sceneItemEnabled:n}})}})),this.sendBatch(o))}},e.setText={name:"Set Source Text",options:[{type:"dropdown",label:"Source",id:"source",default:this.textSourceList?.[0]?this.textSourceList[0].id:"None",choices:this.textSourceList},{type:"textinput",useVariables:!0,label:"Text",id:"text"}],callback:async e=>{let t=await this.parseVariablesInString(e.options.text);this.sendRequest("SetInputSettings",{inputName:e.options.source,inputSettings:{text:t}})}},e["trigger-hotkey"]={name:"Trigger Hotkey by ID",options:[{type:"dropdown",label:"Hotkey ID",id:"id",default:"OBSBasic.StartRecording",choices:this.hotkeyNames}],callback:e=>{this.sendRequest("TriggerHotkeyByName",{hotkeyName:e.options.id})}},e["trigger-hotkey-sequence"]={name:"Trigger Hotkey by Key",options:[{type:"dropdown",label:"Key",id:"keyId",default:"OBS_KEY_A",choices:o},{type:"checkbox",label:"Shift",id:"keyShift",default:!1},{type:"checkbox",label:"Alt / Option",id:"keyAlt",default:!1},{type:"checkbox",label:"Control",id:"keyControl",default:!1},{type:"checkbox",label:"Command (Mac)",id:"keyCommand",default:!1}],callback:e=>{let t={shift:e.options.keyShift,alt:e.options.keyAlt,control:e.options.keyControl,command:e.options.keyCommand};this.sendRequest("TriggerHotkeyByKeySequence",{keyId:e.options.keyId,keyModifiers:t})}},e.set_profile={name:"Set Profile",options:[{type:"dropdown",label:"Profile",id:"profile",default:this.profileChoicesDefault,choices:this.profileChoices}],callback:e=>{this.sendRequest("SetCurrentProfile",{profileName:e.options.profile})}},e.set_scene_collection={name:"Set Scene Collection",options:[{type:"dropdown",label:"Scene Collection",id:"scene_collection",default:this.sceneCollectionList?.[0]?this.sceneCollectionList[0].id:"",choices:this.sceneCollectionList}],callback:e=>{this.sendRequest("SetCurrentSceneCollection",{sceneCollectionName:e.options.scene_collection})}},e.start_output={name:"Start Output",options:[{type:"dropdown",label:"Output",id:"output",default:"virtualcam_output",choices:this.outputList}],callback:e=>{"virtualcam_output"===e.options.output?this.sendRequest("StartVirtualCam"):this.sendRequest("StartOutput",{outputName:e.options.output})}},e.stop_output={name:"Stop Output",options:[{type:"dropdown",label:"Output",id:"output",default:"virtualcam_output",choices:this.outputList}],callback:e=>{"virtualcam_output"===e.options.output?this.sendRequest("StopVirtualCam"):this.sendRequest("StopOutput",{outputName:e.options.output})}},e.start_stop_output={name:"Toggle Output",options:[{type:"dropdown",label:"Output",id:"output",default:"virtualcam_output",choices:this.outputList}],callback:e=>{"virtualcam_output"===e.options.output?this.sendRequest("ToggleVirtualCam"):this.sendRequest("ToggleOutput",{outputName:e.options.output})}},e.refresh_browser_source={name:"Refresh Browser Source",options:[{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices}],callback:e=>{"browser_source"==this.sources[e.options.source]?.inputKind&&this.sendRequest("PressInputPropertiesButton",{inputName:e.options.source,propertyName:"refreshnocache"})}},e.set_audio_monitor={name:"Set Audio Monitor",options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"dropdown",label:"Monitor",id:"monitor",default:"none",choices:[{id:"none",label:"Monitor Off"},{id:"monitorOnly",label:"Monitor Only"},{id:"monitorAndOutput",label:"Monitor and Output"}]}],callback:e=>{let t;t="monitorAndOutput"===e.options.monitor?"OBS_MONITORING_TYPE_MONITOR_AND_OUTPUT":"monitorOnly"===e.options.monitor?"OBS_MONITORING_TYPE_MONITOR_ONLY":"OBS_MONITORING_TYPE_NONE",this.sendRequest("SetInputAudioMonitorType",{inputName:e.options.source,monitorType:t})}},e.take_screenshot={name:"Take Screenshot",options:[{type:"dropdown",label:"Format",id:"format",default:"png",choices:this.imageFormats},{type:"number",label:"Compression Quality (1-100, 0 is automatic)",id:"compression",default:0,min:0,max:100,range:!1},{type:"dropdown",label:"Source (Optional, default is current scene)",id:"source",default:"programScene",choices:[{id:"programScene",label:"Current Scene"},{id:"custom",label:"Custom"}]},{type:"dropdown",label:"Custom Source / Scene",id:"custom",default:this.sourceListDefault,choices:this.sourceChoices,isVisible:e=>"custom"===e.source},{type:"textinput",label:"Custom File Path (Optional, default is recording path)",id:"path"}],callback:e=>{let t=(new Date).toISOString(),n=t.slice(0,10),r=t.slice(11,19).replace(/:/g,"-"),o="programScene"===e.options.source?this.states.programScene:e.options.custom,s=(e.options.path?e.options.path:this.states.recordDirectory)+"/"+n+"_"+o+"_"+r+"."+e.options.format,i=0==e.options.compression?-1:e.options.compression;this.sendRequest("SaveSourceScreenshot",{sourceName:o,imageFormat:e.options.format,imageFilePath:s,imageCompressionQuality:i})}},e.toggle_filter={name:"Set Filter Visibility",options:[{type:"dropdown",label:"Source / Scene",id:"source",default:this.sourceListDefault,choices:this.sourceChoicesWithScenes,allowCustom:!0},{type:"checkbox",label:"All Filters",id:"all",default:!1},{type:"dropdown",label:"Filter",id:"filter",default:this.filterListDefault,choices:this.filterList,allowCustom:!0,isVisible:e=>!1===e.all},{type:"dropdown",label:"Visibility",id:"visible",default:"toggle",choices:[{id:"toggle",label:"Toggle"},{id:"true",label:"On"},{id:"false",label:"Off"}]}],callback:async e=>{let t=await this.parseVariablesInString(e.options.source),n=await this.parseVariablesInString(e.options.filter),r=this.sourceFilters[t];if(e.options.all){let n=[];r.forEach((r=>{let o,s=r.filterName;"toggle"!==e.options.visible?o="true"===e.options.visible:"toggle"===e.options.visible&&(o=!r.filterEnabled),n.push({requestType:"SetSourceFilterEnabled",requestData:{sourceName:t,filterName:s,filterEnabled:o}})})),this.sendBatch(n)}else{let o;if("toggle"!==e.options.visible)o="true"===e.options.visible;else if("toggle"===e.options.visible&&r){let e=r.find((e=>e.filterName===n));e&&(o=!e.filterEnabled)}this.sendRequest("SetSourceFilterEnabled",{sourceName:t,filterName:n,filterEnabled:o})}}},e.setFilterSettings={name:"Set Filter Settings",options:[{type:"dropdown",label:"Source / Scene",id:"source",default:this.sourceListDefault,choices:this.sourceChoicesWithScenes},{type:"dropdown",label:"Filter",id:"filter",default:this.filterListDefault,choices:this.filterList},{type:"textinput",label:"Filter Settings",id:"settings",default:'{"left": 100, "top": 0, "right": 100, "bottom": 0}',tooltip:"Must be a JSON object with the settings for the filter"}],callback:e=>{try{let t=JSON.parse(e.options.settings);this.sendRequest("SetSourceFilterSettings",{sourceName:e.options.source,filterName:e.options.filter,filterSettings:t})}catch(e){return void this.log("warn",`Error parsing JSON for Set Filter Settings (${e.message})`)}}},e.play_pause_media={name:"Play / Pause Media",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia},{type:"dropdown",label:"Action",id:"playPause",default:"toggle",choices:[{id:"toggle",label:"Toggle"},{id:"false",label:"Play"},{id:"true",label:"Pause"}]}],callback:e=>{let t,n="currentMedia"===e.options.source?this.states.currentMedia:e.options.source;t="toggle"===e.options.playPause&&n?"OBS_MEDIA_STATE_PLAYING"==this.mediaSources[n]?.mediaState?"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_PAUSE":"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_PLAY":"true"==e.options.playPause?"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_PAUSE":"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_PLAY",this.sendRequest("TriggerMediaInputAction",{inputName:n,mediaAction:t})}},e.restart_media={name:"Restart Media",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia}],callback:e=>{this.sendRequest("TriggerMediaInputAction",{inputName:"currentMedia"===e.options.source?this.states.currentMedia:e.options.source,mediaAction:"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_RESTART"})}},e.stop_media={name:"Stop Media",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia}],callback:e=>{this.sendRequest("TriggerMediaInputAction",{inputName:"currentMedia"===e.options.source?this.states.currentMedia:e.options.source,mediaAction:"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_STOP"})}},e.next_media={name:"Next Media",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia}],callback:e=>{this.sendRequest("TriggerMediaInputAction",{inputName:"currentMedia"===e.options.source?this.states.currentMedia:e.options.source,mediaAction:"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_NEXT"})}},e.previous_media={name:"Previous Media",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia}],callback:e=>{this.sendRequest("TriggerMediaInputAction",{inputName:"currentMedia"===e.options.source?this.states.currentMedia:e.options.source,mediaAction:"OBS_WEBSOCKET_MEDIA_INPUT_ACTION_PREVIOUS"})}},e.set_media_time={name:"Set Media Time",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia},{type:"number",label:"Timecode (in seconds)",id:"mediaTime",default:1}],callback:e=>{this.sendRequest("SetMediaInputCursor",{inputName:"currentMedia"===e.options.source?this.states.currentMedia:e.options.source,mediaCursor:1e3*e.options.mediaTime})}},e.scrub_media={name:"Scrub Media",options:[{type:"dropdown",label:"Media Source",id:"source",default:"currentMedia",choices:this.mediaSourceListCurrentMedia},{type:"number",label:"Scrub Amount (in seconds, positive or negative)",id:"scrubAmount",default:1}],callback:e=>{this.sendRequest("OffsetMediaInputCursor",{inputName:"currentMedia"===e.options.source?this.states.currentMedia:e.options.source,mediaCursorOffset:1e3*e.options.scrubAmount})}},e.open_projector={name:"Open Projector",options:[{type:"dropdown",label:"Projector Type",id:"type",default:"Multiview",choices:[{id:"Multiview",label:"Multiview"},{id:"Preview",label:"Preview"},{id:"StudioProgram",label:"Program"},{id:"Source",label:"Source"},{id:"Scene",label:"Scene"}]},{type:"dropdown",label:"Window Type",id:"window",default:"window",choices:[{id:"window",label:"Window"},{id:"fullscreen",label:"Fullscreen"}]},{type:"dropdown",label:"Display",id:"display",default:0,choices:this.monitors,isVisible:e=>"fullscreen"===e.window},{type:"dropdown",label:"Source / Scene (required if selected as projector type)",id:"source",default:this.sourceListDefault,choices:this.sourceChoicesWithScenes,isVisible:e=>"Source"===e.type||"Scene"===e.type}],callback:e=>{let t,n,r="window"===e.options.window?-1:e.options.display;"Multiview"===e.options.type?(t="OpenVideoMixProjector",n={videoMixType:"OBS_WEBSOCKET_VIDEO_MIX_TYPE_MULTIVIEW",monitorIndex:r}):"Preview"===e.options.type?(t="OpenVideoMixProjector",n={videoMixType:"OBS_WEBSOCKET_VIDEO_MIX_TYPE_PREVIEW",monitorIndex:r}):"StudioProgram"===e.options.type?(t="OpenVideoMixProjector",n={videoMixType:"OBS_WEBSOCKET_VIDEO_MIX_TYPE_PROGRAM",monitorIndex:r}):"Source"!==e.options.type&&"Scene"!==e.options.type||(t="OpenSourceProjector",n={sourceName:e.options.source,monitorIndex:r}),this.sendRequest(t,n)}},e.source_properties={name:"Set Source Transform",description:"All transform values optional, any parameter left blank is ignored",options:[{type:"dropdown",label:"Scene (optional, defaults to current scene)",id:"scene",default:"Current Scene",choices:this.sceneChoicesProgramPreview},{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices},{type:"textinput",useVariables:!0,label:"Position - X (pixels)",id:"positionX",default:""},{type:"textinput",useVariables:!0,label:"Position - Y (pixels)",id:"positionY",default:""},{type:"textinput",useVariables:!0,label:"Scale - X (multiplier, 1 is 100%)",id:"scaleX",default:""},{type:"textinput",useVariables:!0,label:"Scale - Y (multiplier, 1 is 100%)",id:"scaleY",default:""},{type:"textinput",useVariables:!0,label:"Rotation (degrees clockwise)",id:"rotation",default:""}],callback:async e=>{let t;t="Current Scene"==e.options.scene?this.states.programScene:"Preview Scene"==e.options.scene?this.states.previewScene:e.options.scene;let n=await this.parseVariablesInString(e.options.positionX),r=await this.parseVariablesInString(e.options.positionY),o=await this.parseVariablesInString(e.options.scaleX),s=await this.parseVariablesInString(e.options.scaleY),i=await this.parseVariablesInString(e.options.rotation),a={};n&&(a.positionX=Number(n)),r&&(a.positionY=Number(r)),o&&(a.scaleX=Number(o)),s&&(a.scaleY=Number(s)),i&&(a.rotation=Number(i));let c=await this.sendRequest("GetSceneItemId",{sceneName:t,sourceName:e.options.source});c?.sceneItemId&&this.sendRequest("SetSceneItemTransform",{sceneName:t,sceneItemId:c?.sceneItemId,sceneItemTransform:a})}},e.openInputPropertiesDialog={name:"Open Source Properties Window",options:[{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices}],callback:e=>{this.sendRequest("OpenInputPropertiesDialog",{inputName:e.options.source})}},e.openInputFiltersDialog={name:"Open Source Filters Window",options:[{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices}],callback:e=>{this.sendRequest("OpenInputFiltersDialog",{inputName:e.options.source})}},e.openInputInteractDialog={name:"Open Source Interact Window",options:[{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices}],callback:e=>{this.sendRequest("OpenInputInteractDialog",{inputName:e.options.source})}},e.custom_command={name:"Custom Command",options:[{type:"textinput",useVariables:!0,label:"Request Type",id:"command",default:"SetCurrentProgramScene"},{type:"textinput",useVariables:!0,label:"Request Data (optional, JSON formatted)",id:"arg",default:'{"sceneName": "Scene 1"}'}],callback:async e=>{let t=await this.parseVariablesInString(e.options.command),n="";try{t.replace(/ /g,"")}catch(e){return void this.log("warn","Request data must be formatted as valid JSON.")}if(e.options.arg){n=await this.parseVariablesInString(e.options.arg);try{n=JSON.parse(n)}catch(e){return void this.log("warn","Request data must be formatted as valid JSON.")}}this.sendRequest(t,n||{})}},e.vendorRequest={name:"Custom Vendor Request",options:[{type:"textinput",useVariables:!0,label:"vendorName",id:"vendorName",default:""},{type:"textinput",useVariables:!0,label:"requestType",id:"requestType",default:""},{type:"textinput",useVariables:!0,label:"requestData",id:"requestData",default:""}],callback:async e=>{let t=await this.parseVariablesInString(e.options.vendorName),n=await this.parseVariablesInString(e.options.requestType),r="";try{t.replace(/ /g,""),n.replace(/ /g,"")}catch(e){return void this.log("warn","Unknown vendor or request format")}if(e.options.requestData){r=await this.parseVariablesInString(e.options.requestData);try{r=JSON.parse(r)}catch(e){return void this.log("warn","Request data must be formatted as valid JSON.")}}let o={vendorName:t,requestType:n,requestData:r};this.sendRequest("CallVendorRequest",o)}},e}function i(){let e={};const t=(0,r.combineRgb)(255,255,255),n=((0,r.combineRgb)(0,0,0),(0,r.combineRgb)(200,0,0)),o=(0,r.combineRgb)(0,200,0),s=(0,r.combineRgb)(212,174,0);for(let r in this.sceneChoices){let s=this.sceneChoices[r];e[`toProgram_${s.id}`]={type:"button",category:"Scene to Program",name:s.label,style:{text:s.label,size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"set_scene",options:{scene:s.id}}],up:[]}],feedbacks:[{feedbackId:"sceneProgram",options:{scene:s.id},style:{bgcolor:n,color:t}}]},e[`toPreview_${s.id}`]={type:"button",category:"Scene to Preview",name:s.label,style:{text:s.label,size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"preview_scene",options:{scene:s.id}}],up:[]}],feedbacks:[{feedbackId:"scenePreview",options:{scene:s.id},style:{bgcolor:o,color:t}}]}}e.transitionAuto={type:"button",category:"Transitions",name:"Send previewed scene to program",style:{text:"AUTO",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"do_transition"}],up:[]}],feedbacks:[{feedbackId:"transition_active",style:{bgcolor:o,color:t}}]};for(let n in this.transitionList){let r=this.transitionList[n];e[`quickTransition_${r.id}`]={type:"button",category:"Transitions",name:r.label,style:{text:r.label,size:14,color:t,bgcolor:0},steps:[{down:[{actionId:"quick_transition",options:{transition:r.id,customDuration:!1,transition_time:500}}],up:[]}],feedbacks:[{feedbackId:"transition_active",style:{bgcolor:o,color:t}}]}}e.streaming={type:"button",category:"Streaming",name:"OBS Streaming",style:{text:"OBS STREAM",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"StartStopStreaming"}],up:[]}],feedbacks:[{feedbackId:"streaming",style:{bgcolor:o,color:t}}]},e.streamingTimecode={type:"button",category:"Streaming",name:"Streaming Status / Timecode",style:{text:"Streaming:\\n$(obs:streaming)\\n$(obs:stream_timecode)",size:14,color:t,bgcolor:0},steps:[{down:[{actionId:"StartStopStreaming"}],up:[]}],feedbacks:[{feedbackId:"streaming",style:{bgcolor:o,color:t}}]},e.streamingService={type:"button",category:"Streaming",name:"Streaming Service Info",style:{text:"$(obs:stream_service)\\n$(obs:streaming)",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"StartStopStreaming"}],up:[]}],feedbacks:[{feedbackId:"streaming",style:{bgcolor:o,color:t}}]},e.recording={type:"button",category:"Recording",name:"OBS Recording",style:{text:"OBS RECORD",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"StartStopRecording"}],up:[]}],feedbacks:[{feedbackId:"recording",options:{bg:n,fg:t,bg_paused:s,fg_paused:t}}]},e.recordingTimecode={type:"button",category:"Recording",name:"Recording Status / Timecode",style:{text:"Recording:\\n$(obs:recording)\\n$(obs:recording_timecode)",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"StartStopRecording"}],up:[]}],feedbacks:[{feedbackId:"recording",options:{bg:n,fg:t,bg_paused:s,fg_paused:t}}]};for(let n in this.outputList){let r=this.outputList[n];e[`toggleOutput_${r.id}`]={type:"button",category:"Outputs",name:`Toggle ${r.label}`,style:{text:`OBS ${r.label}`,size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"start_stop_output",options:{output:r.id}}],up:[]}],feedbacks:[{feedbackId:"output_active",options:{output:r.id},style:{bgcolor:o,color:t}}]}}for(let r in this.sourceChoices){let s=this.sourceChoices[r];e[`sourceStatus_${s.id}`]={type:"button",category:"Sources",name:`${s.label} Status`,style:{text:s.label,size:"auto",color:t,bgcolor:0},steps:[{down:[],up:[]}],feedbacks:[{feedbackId:"scene_item_previewed",options:{source:s.id},style:{bgcolor:o,color:t}},{feedbackId:"scene_item_active",options:{scene:"anyScene",source:s.id},style:{bgcolor:n,color:t}}]}}e.computerStats={type:"button",category:"General",name:"Computer Stats",style:{text:"CPU:\\n$(obs:cpu_usage)\\nRAM:\\n$(obs:memory_usage)",size:"auto",color:t,bgcolor:0},steps:[{}],feedbacks:[]},e.remainingDiskSpace={type:"button",category:"General",name:"Remaining Disk Space",style:{text:"Disk Space Remaining:\\n$(obs:free_disk_space)",size:"auto",color:t,bgcolor:0},steps:[{}],feedbacks:[{feedbackId:"freeDiskSpaceRemaining",options:{diskSpace:5e4},style:{bgcolor:s,color:t}},{feedbackId:"freeDiskSpaceRemaining",options:{diskSpace:1e4},style:{bgcolor:n,color:t}}]},e.toggleStudioMode={type:"button",category:"General",name:"Toggle Studio Mode",style:{text:"Toggle Studio Mode",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"toggle_studio_mode"}],up:[]}],feedbacks:[]},e.takeScreenshot={type:"button",category:"General",name:"Take Screenshot",style:{text:"Take Screenshot",size:12,color:t,bgcolor:0},steps:[{down:[{actionId:"take_screenshot",options:{format:"png",compression:0,source:"programScene",path:""}}],up:[]}],feedbacks:[]},e.playPauseCurrentMedia={type:"button",category:"Media Sources",name:"Play/Pause Current Media",style:{text:"Play/\\nPause:\\n$(obs:current_media_name)",size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"play_pause_media",options:{source:"currentMedia",playPause:"toggle"}}],up:[]}],feedbacks:[]};for(let n in this.mediaSourceList){let r=this.mediaSourceList[n],s=r.label.replace(/[\W]/gi,"_");e[`toggleMedia_${r.id}`]={type:"button",category:"Media Sources",name:`Play Pause ${r.label}`,style:{text:`${r.label}\\n$(obs:media_status_${s})`,size:"auto",color:t,bgcolor:0},steps:[{down:[{actionId:"play_pause_media",options:{source:r.id,playPause:"toggle"}}],up:[]}],feedbacks:[{feedbackId:"media_playing",options:{source:r.id},style:{bgcolor:o,color:t}}]}}return e}function a(){const e=[];e.push({variableId:"base_resolution",name:"Current base (canvas) resolution"}),e.push({variableId:"output_resolution",name:"Current  output (scaled) resolution"}),e.push({variableId:"target_framerate",name:"Current profile framerate"}),e.push({variableId:"fps",name:"Current actual framerate"}),e.push({variableId:"cpu_usage",name:"Current CPU usage (percentage)"}),e.push({variableId:"memory_usage",name:"Current RAM usage (in megabytes)"}),e.push({variableId:"free_disk_space",name:"Free recording disk space"}),e.push({variableId:"free_disk_space_mb",name:"Free recording disk space in MB, with no unit text"}),e.push({variableId:"render_missed_frames",name:"Number of frames missed due to rendering lag"}),e.push({variableId:"render_total_frames",name:"Number of frames rendered"}),e.push({variableId:"output_skipped_frames",name:"Number of encoder frames skipped"}),e.push({variableId:"output_total_frames",name:"Number of total encoder frames"}),e.push({variableId:"average_frame_time",name:"Average frame time (in milliseconds)"}),e.push({variableId:"recording",name:"Recording State"}),e.push({variableId:"recording_file_name",name:"File name of the last completed recording"}),e.push({variableId:"recording_path",name:"File path of current recording"}),e.push({variableId:"recording_timecode",name:"Recording timecode"}),e.push({variableId:"stream_timecode",name:"Stream Timecode"}),e.push({variableId:"stream_service",name:"Stream Service"}),e.push({variableId:"streaming",name:"Streaming State"}),e.push({variableId:"kbits_per_sec",name:"Stream output in kilobits per second"}),e.push({variableId:"scene_active",name:"Current active scene"}),e.push({variableId:"scene_preview",name:"Current preview scene"}),e.push({variableId:"scene_previous",name:"Previously active scene, before the current scene"}),e.push({variableId:"profile",name:"Current profile"}),e.push({variableId:"scene_collection",name:"Current scene collection"}),e.push({variableId:"current_transition",name:"Current transition"}),e.push({variableId:"transition_duration",name:"Current transition duration"}),e.push({variableId:"transition_active",name:"Transition in progress"}),e.push({variableId:"current_media_name",name:"Source name for currently playing media source"}),e.push({variableId:"current_media_time_elapsed",name:"Time elapsed for currently playing media source"}),e.push({variableId:"current_media_time_remaining",name:"Time remaining for currently playing media source"}),e.push({variableId:"replay_buffer_path",name:"File path of the last replay buffer saved"}),this.setVariableValues({current_media_name:"None",recording_file_name:"None",replay_buffer_path:"None",current_media_time_elapsed:"--:--:--",current_media_time_remaining:"--:--:--",scene_preview:this.states.previewScene??"None",scene_active:this.states.programScene??"None",scene_previous:this.states.previousScene??"None"});for(let t in this.sources){let n=this.sources[t],r=n.validName?n.validName:this.validName(n.sourceName),o=n.settings;if(n.inputKind)switch(n.inputKind){case"text_ft2_source_v2":case"text_gdiplus_v2":case"text_gdiplus_v3":e.push({variableId:`current_text_${r}`,name:`${r} - Current text`}),o?.from_file||o?.read_from_file?this.setVariableValues({[`current_text_${r}`]:`Text from file: ${o.text_file??o.file}`}):o?.text&&this.setVariableValues({[`current_text_${r}`]:o.text??""});break;case"ffmpeg_source":case"vlc_source":e.push({variableId:`media_status_${r}`,name:`${r} - Media status`}),e.push({variableId:`media_file_name_${r}`,name:`${r} - Media file name`}),e.push({variableId:`media_time_elapsed_${r}`,name:`${r} - Time elapsed`}),e.push({variableId:`media_time_remaining_${r}`,name:`${r} - Time remaining`});let t="";o?.playlist?t=o?.playlist[0]?.value?.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/):o?.local_file&&(t=o?.local_file?.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/)),this.setVariableValues({[`media_file_name_${r}`]:t});break;case"image_source":e.push({variableId:`image_file_name_${r}`,name:`${r} - Image file name`}),this.setVariableValues({[`image_file_name_${r}`]:n.inputSettings?.file?n.inputSettings?.file?.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/):""})}n.inputAudioTracks&&(e.push({variableId:`volume_${r}`,name:`${r} - Volume`}),e.push({variableId:`mute_${r}`,name:`${r} - Mute status`}),e.push({variableId:`monitor_${r}`,name:`${r} - Audio monitor`}),e.push({variableId:`sync_offset_${r}`,name:`${r} - Sync offset`}),e.push({variableId:`balance_${r}`,name:`${r} - Audio balance`}))}let t=0;for(let n=this.scenes?.length-1;n>=0;n--){let r=++t,o=this.scenes[n].sceneName;e.push({variableId:`scene_${r}`,name:`Scene - ${r}`}),this.setVariableValues({[`scene_${r}`]:o})}return e}function c(){const e={},t=(0,r.combineRgb)(255,255,255),n=(0,r.combineRgb)(72,72,72),o=(0,r.combineRgb)(0,0,0),s=(0,r.combineRgb)(200,0,0),i=(0,r.combineRgb)(0,200,0),a=(0,r.combineRgb)(255,102,0);return e.streaming={type:"boolean",name:"Streaming Active",description:"If streaming is active, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[],callback:()=>this.states.streaming},e.recording={type:"advanced",name:"Recording Status",description:"If recording is active or paused, change the style of the button",options:[{type:"colorpicker",label:"Foreground color (Recording)",id:"fg",default:t},{type:"colorpicker",label:"Background color (Recording)",id:"bg",default:s},{type:"colorpicker",label:"Foreground color (Paused)",id:"fg_paused",default:t},{type:"colorpicker",label:"Background color (Paused)",id:"bg_paused",default:a}],callback:e=>"Recording"===this.states.recording?{color:e.options.fg,bgcolor:e.options.bg}:"Paused"===this.states.recording?{color:e.options.fg_paused,bgcolor:e.options.bg_paused}:{}},e.scene_active={type:"advanced",name:"Scene in Preview / Program",description:"If a scene is in preview or program, change colors of the button",options:[{type:"dropdown",label:"Mode",id:"mode",default:"programAndPreview",choices:[{id:"programAndPreview",label:"Program and Preview"},{id:"program",label:"Program Only"},{id:"preview",label:"Preview Only"}]},{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoices,minChoicesForSearch:5},{type:"colorpicker",label:"Foreground color (Program)",id:"fg",default:t},{type:"colorpicker",label:"Background color (Program)",id:"bg",default:s},{type:"colorpicker",label:"Foreground color (Preview)",id:"fg_preview",default:t},{type:"colorpicker",label:"Background color (Preview)",id:"bg_preview",default:i}],callback:e=>{let t=e.options.mode;return t||(t="programAndPreview"),this.states.programScene!==e.options.scene||"programAndPreview"!==t&&"program"!==t?this.states.previewScene!==e.options.scene||"number"!=typeof e.options.fg_preview||!0!==this.states.studioMode||"programAndPreview"!==t&&"preview"!==t?{}:{color:e.options.fg_preview,bgcolor:e.options.bg_preview}:{color:e.options.fg,bgcolor:e.options.bg}}},e.sceneProgram={type:"boolean",name:"Scene in Program",description:"If a scene is in program, change the style of the button",defaultStyle:{color:t,bgcolor:s},options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoices,minChoicesForSearch:5}],callback:e=>this.states.programScene===e.options.scene},e.scenePreview={type:"boolean",name:"Scene in Preview",description:"If a scene is in preview, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoices,minChoicesForSearch:5}],callback:e=>this.states.previewScene===e.options.scene},e.scenePrevious={type:"boolean",name:"Previous Scene Active",description:"If a scene was the last scene previously active, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoices,minChoicesForSearch:5}],callback:e=>this.states.previousScene===e.options.scene},e.scene_item_active={type:"boolean",name:"Source Visible in Program",description:"If a source is visible in the program, change the style of the button",defaultStyle:{color:t,bgcolor:s},options:[{type:"dropdown",label:"Scene",id:"scene",default:"anyScene",choices:this.sceneChoicesAnyScene},{type:"dropdown",label:"Source name",id:"source",default:this.sourceListDefault,choices:this.sourceChoices}],callback:e=>!(!this.sources[e.options.source]?.active||"anyScene"!==e.options.scene)||!(!this.sources[e.options.source]?.active||e.options.scene!==this.states.programScene)||void 0},e.scene_item_previewed={type:"boolean",name:"Source Active in Preview",description:"If a source is enabled in the preview scene, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Source name",id:"source",default:this.sourceListDefault,choices:this.sourceChoices,minChoicesForSearch:5}],callback:e=>this.sources[e.options.source]?.videoShowing},e.profile_active={type:"boolean",name:"Profile Active",description:"If a profile is active, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Profile name",id:"profile",default:this.profileChoicesDefault,choices:this.profileChoices,minChoicesForSearch:5}],callback:e=>{if(this.states.currentProfile===e.options.profile)return!0}},e.scene_collection_active={type:"boolean",name:"Scene Collection Active",description:"If a scene collection is active, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Scene collection name",id:"scene_collection",default:this.sceneCollectionList?.[0]?this.sceneCollectionList[0].id:"",choices:this.sceneCollectionList,minChoicesForSearch:5}],callback:e=>{if(this.states.currentSceneCollection===e.options.scene_collection)return!0}},e.scene_item_active_in_scene={type:"boolean",name:"Source Enabled in Scene",description:"If a source is enabled in a specific scene, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Scene",id:"scene",default:this.sceneListDefault,choices:this.sceneChoices,allowCustom:!0,minChoicesForSearch:5},{type:"checkbox",label:"Any Source",id:"any",default:!1},{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoices,allowCustom:!0,minChoicesForSearch:5,isVisible:e=>!e.any}],callback:async(e,t)=>{let n=await t.parseVariablesInString(e.options.scene),r=await t.parseVariablesInString(e.options.source);if(e.options.any){if(this.sceneItems[n]&&this.sceneItems[n].find((e=>!0===e.sceneItemEnabled)))return!0}else if(this.sources[r]?.groupedSource){let e=this.sources[r].groupName,t=this.groups[e].find((e=>e.sourceName===r));if(t)return t.sceneItemEnabled}else if(this.sceneItems[n]){let e=this.sceneItems[n].find((e=>e.sourceName===r));if(e)return e.sceneItemEnabled}}},e.output_active={type:"boolean",name:"Output Active",description:"If an output is currently active, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Output name",id:"output",default:"virtualcam_output",choices:this.outputList,minChoicesForSearch:3}],callback:e=>this.outputs[e.options.output]?.outputActive},e.replayBufferActive={type:"boolean",name:"Replay Buffer Active",description:"If the replay buffer is currently active, change the style of the button",defaultStyle:{color:t,bgcolor:s},options:[],callback:()=>this.states.replayBuffer},e.transition_active={type:"boolean",name:"Transition in Progress",description:"If a transition is in progress, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[],callback:()=>this.states.transitionActive},e.current_transition={type:"boolean",name:"Current Transition Type",description:"If a transition type is selected, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Transition",id:"transition",default:this.transitionList?.[0]?this.transitionList[0].id:"",choices:this.transitionList,minChoicesForSearch:5}],callback:e=>{if(this.states.currentTransition===e.options.transition)return!0}},e.transition_duration={type:"boolean",name:"Transition Duration",description:"If the transition duration is matched, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"number",label:"Transition time (in ms)",id:"duration",default:null,min:0,max:6e4,range:!1}],callback:e=>{if(this.states.transitionDuration===e.options.duration)return!0}},e.filter_enabled={type:"boolean",name:"Filter Enabled",description:"If a filter is enabled, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Source",id:"source",default:this.sourceListDefault,choices:this.sourceChoicesWithScenes},{type:"dropdown",label:"Filter",id:"filter",default:this.filterListDefault,choices:this.filterList}],callback:e=>{if(this.sourceFilters[e.options.source]){let t=this.sourceFilters[e.options.source].find((t=>t.filterName===e.options.filter));if(t)return t.filterEnabled}}},e.audio_muted={type:"boolean",name:"Audio Muted",description:"If an audio source is muted, change the style of the button",defaultStyle:{color:t,bgcolor:s},options:[{type:"dropdown",label:"Source name",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList}],callback:e=>this.sources[e.options.source]?.inputMuted},e.audio_monitor_type={type:"boolean",name:"Audio Monitor Type",description:"If the audio monitor type is matched, change the style of the button",defaultStyle:{color:t,bgcolor:s},options:[{type:"dropdown",label:"Source",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"dropdown",label:"Monitor",id:"monitor",default:"none",choices:[{id:"none",label:"None"},{id:"monitorOnly",label:"Monitor Only"},{id:"monitorAndOutput",label:"Monitor and Output"}]}],callback:e=>{let t;return t="monitorAndOutput"===e.options.monitor?"OBS_MONITORING_TYPE_MONITOR_AND_OUTPUT":"monitorOnly"===e.options.monitor?"OBS_MONITORING_TYPE_MONITOR_ONLY":"OBS_MONITORING_TYPE_NONE",this.sources[e.options.source]?.monitorType==t}},e.volume={type:"boolean",name:"Volume",description:"If an audio source volume is matched, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Source name",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Volume in dB (-100 to 26) ",id:"volume",default:0,min:-100,max:26,range:!1}],callback:e=>this.sources[e.options.source]?.inputVolume==e.options.volume},e.media_playing={type:"boolean",name:"Media Playing",description:"If a media source is playing, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[{type:"dropdown",label:"Media Source",id:"source",default:this.mediaSourceList?.[0]?this.mediaSourceList[0].id:"",choices:this.mediaSourceList}],callback:e=>"OBS_MEDIA_STATE_PLAYING"==this.mediaSources[e.options.source]?.mediaState},e.media_source_time_remaining={type:"boolean",name:"Media Source Remaining Time",description:"If remaining time of a media source is below a threshold, change the style of the button",defaultStyle:{color:o,bgcolor:s},options:[{type:"dropdown",label:"Source name",id:"source",default:this.mediaSourceList?.[0]?this.mediaSourceList[0].id:"",choices:this.mediaSourceList},{type:"number",label:"Remaining time threshold (in seconds)",id:"rtThreshold",default:20,min:0,max:3600,range:!1},{type:"checkbox",label:"Feedback only if source is on program",id:"onlyIfSourceIsOnProgram",default:!1},{type:"checkbox",label:"Feedback only if source is playing",id:"onlyIfSourceIsPlaying",default:!1},{type:"checkbox",label:"Blinking",id:"blinkingEnabled",default:!1}],callback:e=>{let t,n;return this.mediaSources[e.options.source]&&(t=Math.round((this.mediaSources[e.options.source].mediaDuration-this.mediaSources[e.options.source].mediaCursor)/1e3),n=this.mediaSources[e.options.source].mediaState),void 0!==t&&!(e.options.onlyIfSourceIsOnProgram&&!this.sources[e.options.source].active)&&(!e.options.onlyIfSourceIsPlaying||"OBS_MEDIA_STATE_PLAYING"===n)&&(t<=e.options.rtThreshold?!e.options.blinkingEnabled||"OBS_MEDIA_STATE_PLAYING"!==n||t%2==0:void 0)}},e.studioMode={type:"boolean",name:"Studio Mode Active",description:"If Studio Mode is active, change the style of the button",defaultStyle:{color:t,bgcolor:i},options:[],callback:()=>this.states.studioMode},e.streamCongestion={type:"advanced",name:"Stream Congestion",description:"Change the style of the button to show stream congestion",options:[{type:"colorpicker",label:"Background color (No Stream)",id:"colorNoStream",default:n},{type:"colorpicker",label:"Background color (Low Congestion)",id:"colorLow",default:i},{type:"colorpicker",label:"Background color (Medium Congestion)",id:"colorMedium",default:a},{type:"colorpicker",label:"Background color (High Congestion)",id:"colorHigh",default:s}],callback:e=>!1===this.states.streaming?{bgcolor:e.options.colorNoStream}:this.states.streamCongestion>.8?{bgcolor:e.options.colorHigh}:this.states.congestion>.4?{bgcolor:e.options.colorMedium}:{bgcolor:e.options.colorLow}},e.freeDiskSpaceRemaining={type:"boolean",name:"Disk Space Remaining",description:"Change the style of the button if remaining disk space is below a certain value",defaultStyle:{color:t,bgcolor:s},options:[{type:"number",label:"Remaining Space (MB)",id:"diskSpace",default:1e4,min:0,range:!1}],callback:e=>this.states.stats?.availableDiskSpace<e.options.diskSpace},e.audioPeaking={type:"boolean",name:"Audio Peaking",description:"If audio is above a certain dB value, change the style of the button",defaultStyle:{color:o,bgcolor:s},options:[{type:"dropdown",label:"Source name",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList},{type:"number",label:"Peak in dB (-100 to 26) ",id:"peak",default:0,min:-100,max:26,range:!1}],callback:e=>this.audioPeak?.[e.options.source]>e.options.peak},e.audioMeter={type:"advanced",name:"Audio Meter",description:"Change the style of the button to show audio meter colors similar to the OBS UI",options:[{type:"dropdown",label:"Source name",id:"source",default:this.audioSourceListDefault,choices:this.audioSourceList}],callback:e=>{let t=this.audioPeak?.[e.options.source];return t>-9?{bgcolor:s}:t>-20?{bgcolor:a}:{bgcolor:i}}},e.vendorEvent={type:"boolean",name:"Vendor Event",description:"Change the style of the button based on third party vendor events",options:[{type:"textinput",label:"vendorName",id:"vendorName",default:"downstream-keyer"},{type:"textinput",label:"eventType",id:"eventType",default:"dsk_scene_changed"},{type:"textinput",label:"eventData Key",id:"eventDataKey",default:"new_scene"},{type:"textinput",label:"eventData Value",id:"eventDataValue",default:"Scene 1"}],callback:e=>{if(this.vendorEvent&&this.vendorEvent.vendorName==e.options.vendorName&&this.vendorEvent.eventType==e.options.eventType&&this.vendorEvent.eventData){let t=this.vendorEvent.eventData[e.options.eventDataKey];if(t&&t==e.options.eventDataValue)return!0}}},e}const u=[(0,r.CreateConvertToBooleanFeedbackUpgradeScript)({streaming:!0,scene_item_active:!0,profile_active:!0,scene_collection_active:!0,scene_item_active_in_scene:!0,output_active:!0,transition_active:!0,current_transition:!0,transition_duration:!0,filter_enabled:!0}),function(e,t){let n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};if(t.config){let e=t.config;null!=e.port&&""!=e.port&&4444!=e.port||(e.port=4455,n.updatedConfig=e)}for(const e of t.actions)"set-freetype-text"!==e.actionId&&"set-gdi-text"!==e.actionId||(e.actionId="setText",n.updatedActions.push(e)),"take_screenshot"===e.actionId&&(e.options.source="programScene",e.options.custom="",n.updatedActions.push(e));return n},function(e,t){let n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};for(const e of t.actions)"quick_transition"===e.actionId&&(e.options.transition_time>0?e.options.customDuration=!0:(e.options.customDuration=!1,e.options.transition_time=500),n.updatedActions.push(e));return n},function(e,t){let n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};for(const e of t.actions)"toggle_filter"===e.actionId&&(e.options.all=!1,n.updatedActions.push(e)),"toggle_scene_item"===e.actionId&&("allSources"===e.options.source?e.options.all=!0:e.options.all=!1,n.updatedActions.push(e));for(const e of t.feedbacks)"scene_item_active_in_scene"===e.feedbackId&&("anySource"===e.options.source?e.options.any=!0:e.options.any=!1,n.updatedFeedbacks.push(e));return n},function(e,t){let n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};for(const e of t.feedbacks)"streamCongestion"===e.feedbackId&&(e.options.colorNoStream||(e.options={colorNoStream:"#484848",colorLow:"#00c800",colorMedium:"#ff6600",colorHigh:"#c80000"}),n.updatedFeedbacks.push(e));return n},function(e,t){let n={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};for(const e of t.actions)"set_transition_duration"===e.actionId&&(e.options.duration<50&&(e.options.duration=50),e.options.duration>2e4&&(e.options.duration=2e4),e.options.variableValue="500",e.options.useVariable=!1,n.updatedActions.push(e));return n}];var l=n(25432),d=n(16996),p=n(66312),h=n(42080),f=n(32240),m=(e=>(e[e.None=0]="None",e[e.General=1]="General",e[e.Config=2]="Config",e[e.Scenes=4]="Scenes",e[e.Inputs=8]="Inputs",e[e.Transitions=16]="Transitions",e[e.Filters=32]="Filters",e[e.Outputs=64]="Outputs",e[e.SceneItems=128]="SceneItems",e[e.MediaInputs=256]="MediaInputs",e[e.Vendors=512]="Vendors",e[e.Ui=1024]="Ui",e[e.All=2047]="All",e[e.InputVolumeMeters=65536]="InputVolumeMeters",e[e.InputActiveStateChanged=131072]="InputActiveStateChanged",e[e.InputShowStateChanged=262144]="InputShowStateChanged",e[e.SceneItemTransformChanged=524288]="SceneItemTransformChanged",e))(m||{}),_=l("obs-websocket-js"),g=class extends Error{constructor(e,t){super(t),this.code=e}},S=class e extends d{static requestCounter=1;static generateMessageId(){return String(e.requestCounter++)}_identified=!1;internalListeners=new d;socket;get identified(){return this._identified}async connect(e="ws://127.0.0.1:4455",t,n={}){this.socket&&await this.disconnect();try{const r=this.internalEventPromise("ConnectionClosed"),o=this.internalEventPromise("ConnectionError");return await Promise.race([(async()=>{const r=await this.createConnection(e);return this.emit("Hello",r),this.identify(r,t,n)})(),new Promise(((e,t)=>{o.then((e=>{e.message&&t(e)})),r.then((e=>{t(e)}))}))])}catch(e){throw await this.disconnect(),e}}async disconnect(){if(!this.socket||this.socket.readyState===p.CLOSED)return;const e=this.internalEventPromise("ConnectionClosed");this.socket.close(),await e}async reidentify(e){const t=this.internalEventPromise("op:2");return await this.message(3,e),t}async call(t,n){const r=e.generateMessageId(),o=this.internalEventPromise(`res:${r}`);await this.message(6,{requestId:r,requestType:t,requestData:n});const{requestStatus:s,responseData:i}=await o;if(!s.result)throw new g(s.code,s.comment);return i}async callBatch(t,n={}){const r=e.generateMessageId(),o=this.internalEventPromise(`res:${r}`);await this.message(8,{requestId:r,requests:t,...n});const{results:s}=await o;return s}cleanup(){this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket=void 0,this._identified=!1,this.internalListeners.removeAllListeners())}async createConnection(e){var t;const n=this.internalEventPromise("ConnectionOpened"),r=this.internalEventPromise("op:0");this.socket=new p(e,this.protocol),this.socket.onopen=this.onOpen.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),await n;const o=null==(t=this.socket)?void 0:t.protocol;if(!o)throw new g(-1,"Server sent no subprotocol");if(o!==this.protocol)throw new g(-1,"Server sent an invalid subprotocol");return r}async identify({authentication:e,rpcVersion:t,...n},r,o={}){const s={rpcVersion:t,...o};e&&r&&(s.authentication=function(e,t,n){const r=f.stringify(h(n+e));return f.stringify(h(r+t))}(e.salt,e.challenge,r));const i=this.internalEventPromise("op:2");await this.message(1,s);const a=await i;return this._identified=!0,this.emit("Identified",a),{rpcVersion:t,...n,...a}}async message(e,t){if(!this.socket)throw new Error("Not connected");if(!this.identified&&1!==e)throw new Error("Socket not identified");const n=await this.encodeMessage({op:e,d:t});this.socket.send(n)}async internalEventPromise(e){return new Promise((t=>{this.internalListeners.once(e,t)}))}onOpen(e){_("socket.open"),this.emit("ConnectionOpened"),this.internalListeners.emit("ConnectionOpened",e)}async onMessage(e){try{const{op:t,d:n}=await this.decodeMessage(e.data);if(_("socket.message: %d %j",t,n),void 0===t||void 0===n)return;switch(t){case 5:{const{eventType:e,eventData:t}=n;return void this.emit(e,t)}case 7:case 9:{const{requestId:e}=n;return void this.internalListeners.emit(`res:${e}`,n)}default:this.internalListeners.emit(`op:${t}`,n)}}catch(e){_("error handling message: %o",e)}}onError(e){_("socket.error: %o",e);const t=new g(-1,e.message);this.emit("ConnectionError",t),this.internalListeners.emit("ConnectionError",t)}onClose(e){_("socket.close: %s (%d)",e.reason,e.code);const t=new g(e.code,e.reason);this.emit("ConnectionClosed",t),this.internalListeners.emit("ConnectionClosed",t),this.cleanup()}};"undefined"!=typeof exports&&Object.defineProperty(exports,"__esModule",{value:!0});var b,y,E,v=4294967295;function T(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}function I(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var R=("undefined"==typeof process||"never"!==(null===(b=null===process||void 0===process?void 0:process.env)||void 0===b?void 0:b.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function C(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if(0!=(4294967168&o))if(0==(4294965248&o))n+=2;else{if(o>=55296&&o<=56319&&r<t){var s=e.charCodeAt(r);56320==(64512&s)&&(++r,o=((1023&o)<<10)+(1023&s)+65536)}n+=0==(4294901760&o)?3:4}else n++}return n}var A=R?new TextEncoder:void 0,O=R?"undefined"!=typeof process&&"force"!==(null===(y=null===process||void 0===process?void 0:process.env)||void 0===y?void 0:y.TEXT_ENCODING)?200:0:v,N=(null==A?void 0:A.encodeInto)?function(e,t,n){A.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(A.encode(e),n)};function w(e,t,n){for(var r=t,o=r+n,s=[],i="";r<o;){var a=e[r++];if(0==(128&a))s.push(a);else if(192==(224&a)){var c=63&e[r++];s.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[r++];var u=63&e[r++];s.push((31&a)<<12|c<<6|u)}else if(240==(248&a)){var l=(7&a)<<18|(c=63&e[r++])<<12|(u=63&e[r++])<<6|63&e[r++];l>65535&&(l-=65536,s.push(l>>>10&1023|55296),l=56320|1023&l),s.push(l)}else s.push(a);s.length>=4096&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(i+=String.fromCharCode.apply(String,s)),i}var P,L=R?new TextDecoder:null,M=R?"undefined"!=typeof process&&"force"!==(null===(E=null===process||void 0===process?void 0:process.env)||void 0===E?void 0:E.TEXT_DECODER)?200:0:v,x=function(e,t){this.type=e,this.data=t},k=(P=function(e,t){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},P(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),U=function(e){function t(n){var r=e.call(this,n)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return k(t,e),t}(Error),G={type:-1,encode:function(e){var t,n,r,o;return e instanceof Date?function(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=17179869183){if(0===r&&n<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var s=n/4294967296,i=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,r<<2|3&s),t.setUint32(4,i),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,r),T(t,4,n),o}((r=1e6*((t=e.getTime())-1e3*(n=Math.floor(t/1e3))),{sec:n+(o=Math.floor(r/1e9)),nsec:r-1e9*o})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:I(t,4),nsec:t.getUint32(0)};default:throw new U("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},V=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(G)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var o=1+t;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(o=r(e,t)))return new x(-1-n,o);for(n=0;n<this.encoders.length;n++){var r,o;if(null!=(r=this.encoders[n])&&null!=(o=r(e,t)))return new x(n,o)}return e instanceof x?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new x(t,e)},e.defaultCodec=new e,e}();function D(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var B=function(){function e(e,t,n,r,o,s,i,a){void 0===e&&(e=V.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=o,this.forceFloat32=s,this.ignoreUndefined=i,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>O){var t=C(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),N(e,this.bytes,this.pos),this.pos+=t}else t=C(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,o=n,s=0;s<r;){var i=e.charCodeAt(s++);if(0!=(4294967168&i)){if(0==(4294965248&i))t[o++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&s<r){var a=e.charCodeAt(s);56320==(64512&a)&&(++s,i=((1023&i)<<10)+(1023&a)+65536)}0==(4294901760&i)?(t[o++]=i>>12&15|224,t[o++]=i>>6&63|128):(t[o++]=i>>18&7|240,t[o++]=i>>12&63|128,t[o++]=i>>6&63|128)}t[o++]=63&i|128}else t[o++]=i}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=D(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,o=e;r<o.length;r++){var s=o[r];this.doEncode(s,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,o=t;r<o.length;r++)void 0!==e[o[r]]&&n++;return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var o=0,s=n;o<s.length;o++){var i=s[o],a=e[i];this.ignoreUndefined&&void 0===a||(this.encodeString(i),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),T(this.view,this.pos,e),this.pos+=8},e}(),F={};function H(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var j=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,o=this.caches[n-1];r<o.length;r++){for(var s=o[r],i=s.bytes,a=0;a<n;a++)if(i[a]!==e[t+a])continue e;return s.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var o=w(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,o),o},e}(),Y=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},W=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}},K=function(e){return this instanceof K?(this.v=e,this):new K(e)},X=new DataView(new ArrayBuffer(0)),Z=new Uint8Array(X.buffer),$=function(){try{X.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),J=new $("Insufficient data"),z=new j,Q=function(){function e(e,t,n,r,o,s,i,a){void 0===e&&(e=V.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=v),void 0===r&&(r=v),void 0===o&&(o=v),void 0===s&&(s=v),void 0===i&&(i=v),void 0===a&&(a=z),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=o,this.maxMapLength=s,this.maxExtLength=i,this.keyDecoder=a,this.totalPos=0,this.pos=0,this.view=X,this.bytes=Z,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=D(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=D(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=D(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return Y(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,o,s,i,a,c;return s=this,i=void 0,c=function(){var s,i,a,c,u,l,d,p;return Y(this,(function(h){switch(h.label){case 0:s=!1,h.label=1;case 1:h.trys.push([1,6,7,12]),t=W(e),h.label=2;case 2:return[4,t.next()];case 3:if((n=h.sent()).done)return[3,5];if(a=n.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{i=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof $))throw e}this.totalPos+=this.pos,h.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=h.sent(),r={error:c},[3,12];case 7:return h.trys.push([7,,10,11]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:h.sent(),h.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,i]}throw l=(u=this).headByte,d=u.pos,p=u.totalPos,new RangeError("Insufficient data in parsing ".concat(H(l)," at ").concat(p," (").concat(d," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((c=c.apply(s,i||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof K?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(e){l(s[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function(){var n,r,o,s,i,a,c,u,l;return Y(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=W(e),d.label=2;case 2:return[4,K(o.next())];case 3:if((s=d.sent()).done)return[3,12];if(i=s.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,K(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=d.sent())instanceof $))throw a;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),u={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),s&&!s.done&&(l=o.return)?[4,K(l.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!=(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)n=this.lookU8(),t=this.decodeUtf8String(n,1);else if(218===e)n=this.lookU16(),t=this.decodeUtf8String(n,2);else if(219===e)n=this.lookU32(),t=this.decodeUtf8String(n,4);else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e)r=this.lookU16(),t=this.decodeBinary(r,2);else if(198===e)r=this.lookU32(),t=this.decodeBinary(r,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)r=this.lookU8(),t=this.decodeExtension(r,1);else if(200===e)r=this.lookU16(),t=this.decodeExtension(r,2);else{if(201!==e)throw new U("Unrecognized type byte: ".concat(H(e)));r=this.lookU32(),t=this.decodeExtension(r,4)}this.complete();for(var o=this.stack;o.length>0;){var s=o[o.length-1];if(0===s.type){if(s.array[s.position]=t,s.position++,s.position!==s.size)continue e;o.pop(),t=s.array}else{if(1===s.type){if(void 0,"string"!=(i=typeof t)&&"number"!==i)throw new U("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new U("The key __proto__ is not allowed");s.key=t,s.type=2;continue e}if(s.map[s.key]=t,s.readCount++,s.readCount!==s.size){s.key=null,s.type=1;continue e}o.pop(),t=s.map}}return t}var i},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new U("Unrecognized array type byte: ".concat(H(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new U("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new U("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new U("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw J;var r,o=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>M?function(e,t,n){var r=e.subarray(t,t+n);return L.decode(r)}(this.bytes,o,e):w(this.bytes,o,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new U("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw J;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new U("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=I(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),q={},ee=class extends S{protocol="obswebsocket.msgpack";async encodeMessage(e){return t=e,void 0===n&&(n=F),new B(n.extensionCodec,n.context,n.maxDepth,n.initialBufferSize,n.sortKeys,n.forceFloat32,n.ignoreUndefined,n.forceIntegerToFloat).encode(t);var t,n}async decodeMessage(e){return"undefined"!=typeof Blob&&e instanceof Blob&&(e=await e.arrayBuffer()),t=e,void 0===n&&(n=q),new Q(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength).decode(t);var t,n}};class te extends r.InstanceBase{constructor(e){super(e)}async init(e){this.config=e,this.updateStatus(r.InstanceStatus.Connecting),this.config.host&&this.config.port?this.connectOBS():this.config.host&&!this.config.port?this.updateStatus(r.InstanceStatus.BadConfig,"Missing WebSocket Server port"):!this.config.host&&this.config.port?this.updateStatus(r.InstanceStatus.BadConfig,"Missing WebSocket Server IP address or hostname"):this.updateStatus(r.InstanceStatus.BadConfig,"Missing WebSocket Server connection info")}getConfigFields(){return[{type:"textinput",id:"host",label:"Server IP / Hostname",width:8},{type:"textinput",id:"port",label:"Server Port",width:4,default:4455,regex:r.Regex.PORT},{type:"textinput",id:"pass",label:"Server Password",width:4}]}async configUpdated(e){this.config=e,this.init(e)}async destroy(){this.disconnectOBS(),this.stopReconnectionPoll()}initVariables(){const e=a.bind(this)();this.setVariableDefinitions(e)}initFeedbacks(){const e=c.bind(this)();this.setFeedbackDefinitions(e)}initPresets(){const e=i.bind(this)();this.setPresetDefinitions(e)}initActions(){const e=s.bind(this)();this.setActionDefinitions(e)}validName(e){try{return e.replace(/[\W]/gi,"_")}catch(t){return this.log("debug",`Unable to generate validName for ${e}: ${t}`),e}}formatTimecode(e){try{return new Date(e).toISOString().slice(11,19)}catch(e){}}roundNumber(e,t){try{return Number(Math.round(e+"e"+t??0)+"e-"+t??0)}catch(t){return this.log("debug",`Error rounding number ${e}: ${t}`),e}}organizeChoices(){this.sourceChoices?.sort(((e,t)=>e.id.localeCompare(t.id))),this.sceneChoices?.sort(((e,t)=>e.id.localeCompare(t.id))),this.textSourceList?.sort(((e,t)=>e.id.localeCompare(t.id))),this.mediaSourceList?.sort(((e,t)=>e.id.localeCompare(t.id))),this.filterList?.sort(((e,t)=>e.id.localeCompare(t.id))),this.audioSourceList?.sort(((e,t)=>e.id.localeCompare(t.id))),this.sceneChoicesProgramPreview=[{id:"Current Scene",label:"Current Scene"},{id:"Preview Scene",label:"Preview Scene"}].concat(this.sceneChoices),this.sceneChoicesAnyScene=[{id:"anyScene",label:"<ANY SCENE>"}].concat(this.sceneChoices),this.sceneChoicesCustomScene=[{id:"customSceneName",label:"<CUSTOM SCENE NAME>"}].concat(this.sceneChoices),this.sourceChoicesWithScenes=this.sourceChoices.concat(this.sceneChoices),this.mediaSourceListCurrentMedia=[{id:"currentMedia",label:"<CURRENT MEDIA>"}].concat(this.mediaSourceList),this.sourceListDefault=this.sourceChoices?.[0]?this.sourceChoices?.[0]?.id:"",this.sceneListDefault=this.sceneChoices?.[0]?this.sceneChoices?.[0]?.id:"",this.filterListDefault=this.filterList?.[0]?this.filterList?.[0]?.id:"",this.audioSourceListDefault=this.audioSourceList?.[0]?this.audioSourceList?.[0]?.id:"",this.profileChoicesDefault=this.profileChoices?.[0]?this.profileChoices[0].id:""}updateActionsFeedbacksVariables(){this.organizeChoices(),this.initActions(),this.initVariables(),this.initFeedbacks(),this.initPresets(),this.checkFeedbacks()}initializeStates(){this.scenes=[],this.sources={},this.states={},this.transitions={},this.profiles={},this.sceneCollections={},this.outputs={},this.sceneItems={},this.groups={},this.mediaSources={},this.imageSources={},this.textSources={},this.sourceFilters={},this.sceneChoices=[],this.sourceChoices=[],this.profileChoices=[],this.sceneCollectionList=[],this.textSourceList=[],this.mediaSourceList=[],this.imageSourceList=[],this.hotkeyNames=[],this.imageFormats=[],this.transitionList=[],this.monitors=[],this.outputList=[],this.filterList=[],this.audioSourceList=[],this.vendorEvent={},this.states.sceneCollectionChanging=!1}resetSceneSourceStates(){this.scenes=[],this.sources={},this.mediaSources={},this.imageSources={},this.textSources={},this.sourceFilters={},this.groups={},this.sceneChoices=[],this.sourceChoices=[],this.filterList=[],this.audioSourceList=[],this.mediaSourceList=[],this.textSourceList=[],this.imageSourceList=[]}async connectOBS(){this.obs?await this.obs.disconnect():this.obs=new ee;try{const{obsWebSocketVersion:e}=await this.obs.connect(`ws://${this.config.host}:${this.config.port}`,this.config.pass,{eventSubscriptions:m.All|m.InputActiveStateChanged|m.InputShowStateChanged|m.InputVolumeMeters|m.SceneItemTransformChanged,rpcVersion:1});if(e){if(this.updateStatus(r.InstanceStatus.Ok),this.stopReconnectionPoll(),this.log("info","Connected to OBS"),this.initializeStates(),!await this.obsInfo())throw new Error("could not get OBS info");this.obsListeners(),this.getStats(),this.getRecordStatus(),this.getStreamStatus(),this.startStatsPoll(),this.buildProfileList(),this.buildSceneCollectionList(),this.buildSceneTransitionList(),this.buildSpecialInputs(),this.buildSceneList()}}catch(e){this.processWebsocketError(e)}}processWebsocketError(e){if(!this.reconnectionPoll){let t=null;e?.message.match(/(Server sent no subprotocol)/i)?(t=!1,this.log("error","Failed to connect to OBS. Please upgrade OBS to version 28 or above"),this.updateStatus(r.InstanceStatus.ConnectionFailure,"Outdated websocket plugin")):e?.message.match(/(missing an `authentication` string)/i)?(t=!1,this.log("error","Failed to connect to OBS. Please enter your WebSocket Server password in the module settings")):e?.message.match(/(Authentication failed)/i)?(t=!1,this.log("error","Failed to connect to OBS. Please ensure your WebSocket Server password is correct in the module settings"),this.updateStatus(r.InstanceStatus.BadConfig,"Invalid password")):e?.message.match(/(ECONNREFUSED)/i)?(t=!0,this.log("error","Failed to connect to OBS. Please ensure OBS is open and reachable via your network"),this.updateStatus(r.InstanceStatus.ConnectionFailure)):(t=!0,this.log("error",`Failed to connect to OBS (${e.message})`),this.updateStatus(r.InstanceStatus.UnknownError)),t&&this.startReconnectionPoll()}}async disconnectOBS(){this.obs&&(await this.obs.disconnect(),this.stopStatsPoll(),this.stopMediaPoll())}connectionLost(){this.reconnectionPoll||(this.log("error","Connection lost to OBS"),this.updateStatus(r.InstanceStatus.Disconnected),this.disconnectOBS(),this.startReconnectionPoll())}async obsListeners(){this.obs.once("ExitStarted",(()=>{this.connectionLost()})),this.obs.on("ConnectionClosed",(()=>{this.connectionLost()})),this.obs.on("VendorEvent",(e=>{this.vendorEvent=e,this.checkFeedbacks("vendorEvent")})),this.obs.on("CurrentSceneCollectionChanging",(()=>{this.stopMediaPoll(),this.states.sceneCollectionChanging=!0})),this.obs.on("CurrentSceneCollectionChanged",(e=>{this.states.currentSceneCollection=e.sceneCollectionName,this.checkFeedbacks("scene_collection_active"),this.setVariableValues({scene_collection:this.states.currentSceneCollection}),this.states.sceneCollectionChanging=!1,this.resetSceneSourceStates(),this.buildSceneList(),this.buildSceneTransitionList(),this.obsInfo()})),this.obs.on("SceneCollectionListChanged",(()=>{this.buildSceneCollectionList()})),this.obs.on("CurrentProfileChanging",(()=>{})),this.obs.on("CurrentProfileChanged",(e=>{this.states.currentProfile=e.profileName,this.checkFeedbacks("profile_active"),this.setVariableValues({profile:this.states.currentProfile}),this.obsInfo()})),this.obs.on("ProfileListChanged",(()=>{this.buildProfileList()})),this.obs.on("SceneCreated",(e=>{!1===e?.isGroup&&!1===this.states.sceneCollectionChanging&&this.addScene(e.sceneName)})),this.obs.on("SceneRemoved",(e=>{!1===e?.isGroup&&!1===this.states.sceneCollectionChanging&&this.removeScene(e.sceneName)})),this.obs.on("SceneNameChanged",(e=>{this.sceneItems[e.oldSceneName]&&(this.sceneItems[e.sceneName]=this.sceneItems[e.oldSceneName],delete this.sceneItems[e.oldSceneName]);let t=this.sceneChoices.findIndex((t=>t.id===e.oldSceneName));this.sceneChoices.splice(t,1),this.sceneChoices.push({id:e.sceneName,label:e.sceneName}),this.updateActionsFeedbacksVariables()})),this.obs.on("CurrentProgramSceneChanged",(e=>{this.states.previousScene=this.states.programScene,this.states.programScene=e.sceneName,this.setVariableValues({scene_active:this.states.programScene,scene_previous:this.states.previousScene}),this.checkFeedbacks("scene_active","sceneProgram","scenePrevious")})),this.obs.on("CurrentPreviewSceneChanged",(e=>{this.states.previewScene=e.sceneName??"None",this.setVariableValues({scene_preview:this.states.previewScene}),this.checkFeedbacks("scene_active","scenePreview")})),this.obs.on("SceneListChanged",(e=>{this.scenes=e.scenes})),this.obs.on("InputCreated",(e=>{})),this.obs.on("InputRemoved",(e=>{let t=this.sourceChoices.findIndex((t=>t.id==e.inputName));t>-1&&this.sourceChoices.splice(t,1),delete this.sources[e.inputName],this.updateActionsFeedbacksVariables()})),this.obs.on("InputNameChanged",(()=>{})),this.obs.on("InputActiveStateChanged",(e=>{this.sources[e.inputName]&&(this.sources[e.inputName].active=e.videoActive,this.checkFeedbacks("scene_item_active"))})),this.obs.on("InputShowStateChanged",(e=>{this.sources[e.inputName]&&(this.sources[e.inputName].videoShowing=e.videoShowing,this.checkFeedbacks("scene_item_previewed"))})),this.obs.on("InputMuteStateChanged",(e=>{this.sources[e.inputName].inputMuted=e.inputMuted;let t=this.sources[e.inputName].validName;this.setVariableValues({[`mute_${t}`]:this.sources[e.inputName].inputMuted?"Muted":"Unmuted"}),this.checkFeedbacks("audio_muted")})),this.obs.on("InputVolumeChanged",(e=>{this.sources[e.inputName].inputVolume=this.roundNumber(e.inputVolumeDb,1);let t=this.sources[e.inputName].validName;this.setVariableValues({[`volume_${t}`]:this.sources[e.inputName].inputVolume+"db"}),this.checkFeedbacks("volume")})),this.obs.on("InputAudioBalanceChanged",(e=>{this.sources[e.inputName].inputAudioBalance=this.roundNumber(e.inputAudioBalance,1);let t=this.sources[e.inputName].validName;this.setVariableValues({[`balance_${t}`]:this.sources[e.inputName].inputAudioBalance})})),this.obs.on("InputAudioSyncOffsetChanged",(e=>{this.sources[e.inputName].inputAudioSyncOffset=e.inputAudioSyncOffset;let t=this.sources[e.inputName].validName;this.setVariableValues({[`sync_offset_${t}`]:this.sources[e.inputName].inputAudioSyncOffset+"ms"})})),this.obs.on("InputAudioTracksChanged",(()=>{})),this.obs.on("InputAudioMonitorTypeChanged",(e=>{this.sources[e.inputName].monitorType=e.monitorType;let t,n=this.sources[e.inputName].validName;t="OBS_MONITORING_TYPE_MONITOR_AND_OUTPUT"===e.monitorType?"Monitor / Output":"OBS_MONITORING_TYPE_MONITOR_ONLY"===e.monitorType?"Monitor Only":"Off",this.setVariableValues({[`monitor_${n}`]:t}),this.checkFeedbacks("audio_monitor_type")})),this.obs.on("InputVolumeMeters",(e=>{this.updateAudioPeak(e)})),this.obs.on("InputSettingsChanged",(e=>{let t=e.inputName,n=e.inputSettings;this.updateInputSettings(t,n)})),this.obs.on("CurrentSceneTransitionChanged",(async e=>{let t=await this.sendRequest("GetCurrentSceneTransition");this.states.currentTransition=e.transitionName,this.states.transitionDuration=t?.transitionDuration??"0",this.checkFeedbacks("transition_duration","current_transition"),this.setVariableValues({current_transition:this.states.currentTransition,transition_duration:this.states.transitionDuration})})),this.obs.on("CurrentSceneTransitionDurationChanged",(e=>{this.states.transitionDuration=e.transitionDuration??"0",this.checkFeedbacks("transition_duration"),this.setVariableValues({transition_duration:this.states.transitionDuration})})),this.obs.on("SceneTransitionStarted",(()=>{this.states.transitionActive=!0,this.setVariableValues({transition_active:"True"}),this.checkFeedbacks("transition_active")})),this.obs.on("SceneTransitionEnded",(()=>{this.states.transitionActive=!1,this.setVariableValues({transition_active:"False"}),this.checkFeedbacks("transition_active")})),this.obs.on("SceneTransitionVideoEnded",(()=>{})),this.obs.on("SourceFilterListReindexed",(()=>{})),this.obs.on("SourceFilterCreated",(e=>{this.getSourceFilters(e.sourceName)})),this.obs.on("SourceFilterRemoved",(e=>{this.getSourceFilters(e.sourceName)})),this.obs.on("SourceFilterNameChanged",(()=>{})),this.obs.on("SourceFilterEnableStateChanged",(e=>{if(this.sourceFilters[e.sourceName]){let t=this.sourceFilters[e.sourceName].findIndex((t=>t.filterName==e.filterName));void 0!==t&&(this.sourceFilters[e.sourceName][t].filterEnabled=e.filterEnabled,this.checkFeedbacks("filter_enabled"))}})),this.obs.on("SceneItemCreated",(e=>{!1===this.states.sceneCollectionChanging&&this.buildSourceList(e.sceneName)})),this.obs.on("SceneItemRemoved",(e=>{if(!1===this.states.sceneCollectionChanging){let t=this.sceneItems[e.sceneName].findIndex((t=>t.sceneItemId===e.sceneItemId));t>-1&&this.sceneItems[e.sceneName].splice(t,1)}})),this.obs.on("SceneItemListReindexed",(()=>{})),this.obs.on("SceneItemEnableStateChanged",(e=>{if(this.groups[e.sceneName]){let t=this.groups[e.sceneName].findIndex((t=>t.sceneItemId===e.sceneItemId));this.groups[e.sceneName][t].sceneItemEnabled=e.sceneItemEnabled}else{let t=this.sceneItems[e.sceneName].findIndex((t=>t.sceneItemId===e.sceneItemId));this.sceneItems[e.sceneName][t].sceneItemEnabled=e.sceneItemEnabled}this.checkFeedbacks("scene_item_active_in_scene")})),this.obs.on("SceneItemLockStateChanged",(()=>{})),this.obs.on("SceneItemSelected",(()=>{})),this.obs.on("SceneItemTransformChanged",(()=>{})),this.obs.on("StreamStateChanged",(e=>{this.states.streaming=e.outputActive,this.setVariableValues({streaming:this.states.streaming?"Live":"Off-Air"}),this.checkFeedbacks("streaming","streamCongestion")})),this.obs.on("RecordStateChanged",(e=>{!0===e.outputActive?this.states.recording="Recording":"OBS_WEBSOCKET_OUTPUT_PAUSED"===e.outputState?this.states.recording="Paused":(this.states.recording="Stopped",this.setVariableValues({recording_timecode:"00:00:00"})),e.outputPath&&this.setVariableValues({recording_file_name:e.outputPath.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/)}),this.setVariableValues({recording:this.states.recording}),this.checkFeedbacks("recording")})),this.obs.on("ReplayBufferStateChanged",(e=>{this.states.replayBuffer=e.outputActive,this.checkFeedbacks("replayBufferActive")})),this.obs.on("RecordFileChanged",(e=>{e.newOutputPath&&this.setVariableValues({recording_file_name:e.newOutputPath.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/)})})),this.obs.on("VirtualcamStateChanged",(e=>{this.outputs.virtualcam_output.outputActive=e.outputActive,this.checkFeedbacks("output_active")})),this.obs.on("ReplayBufferSaved",(e=>{this.setVariableValues({replay_buffer_path:e.savedReplayPath})})),this.obs.on("MediaInputPlaybackStarted",(e=>{this.states.currentMedia=e.inputName;let t=this.sources[e.inputName].validName;this.setVariableValues({current_media_name:this.states.currentMedia,[`media_status_${t}`]:"Playing"})})),this.obs.on("MediaInputPlaybackEnded",(e=>{if(this.states.currentMedia==e.inputName){let t=this.sources[e.inputName].validName;this.setVariableValues({current_media_name:"None",[`media_status_${t}`]:"Stopped"})}})),this.obs.on("MediaInputActionTriggered",(e=>{if("OBS_WEBSOCKET_MEDIA_INPUT_ACTION_PAUSE"==e.mediaAction){let t=this.sources[e.inputName].validName;this.setVariableValues({[`media_status_${t}`]:"Paused"})}})),this.obs.on("StudioModeStateChanged",(async e=>{if(this.states.studioMode=!!e.studioModeEnabled,this.checkFeedbacks("studioMode"),this.states.studioMode){let e=await this.sendRequest("GetCurrentPreviewScene");this.states.previewScene=e?.sceneName??"None"}else this.states.previewScene="None";this.checkFeedbacks("studioMode","scenePreview"),this.setVariableValues({scene_preview:this.states.previewScene})}))}async sendRequest(e,t){try{return await this.obs.call(e,t)}catch(t){this.log("debug",`Request ${e??""} failed (${t})`)}}async sendBatch(e){try{let t=await this.obs.callBatch(e),n=t.filter((e=>!1===e.requestStatus.result));if(n.length>0){let e=n.map((e=>e.requestStatus.comment)).join(" // ");this.log("debug",`Partial batch request failure (${e})`)}return t}catch(e){this.log("debug",`Batch request failed (${e})`)}}startReconnectionPoll(){this.stopReconnectionPoll(),this.reconnectionPoll=setInterval((()=>{this.connectOBS()}),5e3)}stopReconnectionPoll(){this.reconnectionPoll&&(clearInterval(this.reconnectionPoll),delete this.reconnectionPoll)}startStatsPoll(){this.stopStatsPoll(),this.obs&&(this.statsPoll=setInterval((()=>{if(this.getStats(),this.states.streaming&&this.getStreamStatus(),"Recording"===this.states.recording&&this.getRecordStatus(),this.outputs)for(let e in this.outputs)this.getOutputStatus(e)}),1e3))}stopStatsPoll(){this.statsPoll&&(clearInterval(this.statsPoll),delete this.statsPoll)}startMediaPoll(){this.stopMediaPoll(),this.mediaPoll=setInterval((()=>{this.getMediaStatus()}),1e3)}stopMediaPoll(){this.mediaPoll&&(clearInterval(this.mediaPoll),this.mediaPoll=null)}async obsInfo(){try{let e=await this.sendRequest("GetVersion");this.states.version=e,this.log("debug",`OBS Version: ${e.obsVersion} // OBS Websocket Version: ${e.obsWebSocketVersion} // Platform: ${e.platformDescription}`),e.supportedImageFormats.forEach((e=>{this.imageFormats.push({id:e,label:e})}));let t=await this.sendRequest("GetStudioModeEnabled");return this.states.studioMode=!!t.studioModeEnabled,this.buildHotkeyList(),this.buildOutputList(),this.buildMonitorList(),this.getVideoSettings(),this.getReplayBufferStatus(),!0}catch(e){return this.log("debug",e),!1}}async buildHotkeyList(){let e=await this.sendRequest("GetHotkeyList");e?.hotkeys?.forEach((e=>{this.hotkeyNames.push({id:e,label:e})})),this.updateActionsFeedbacksVariables()}async buildProfileList(){let e=await this.sendRequest("GetProfileList");this.profileChoices=[],this.states.currentProfile=e?.currentProfileName,e?.profiles.forEach((e=>{this.profileChoices.push({id:e,label:e})})),this.checkFeedbacks("profile_active"),this.setVariableValues({profile:this.states.currentProfile}),this.updateActionsFeedbacksVariables()}async buildSceneCollectionList(){let e=await this.sendRequest("GetSceneCollectionList");this.sceneCollectionList=[],this.states.currentSceneCollection=e?.currentSceneCollectionName,e?.sceneCollections.forEach((e=>{this.sceneCollectionList.push({id:e,label:e})})),this.checkFeedbacks("scene_collection_active"),this.setVariableValues({scene_collection:this.states.currentSceneCollection}),this.updateActionsFeedbacksVariables()}async buildSpecialInputs(){let e=await this.sendRequest("GetSpecialInputs");if(e)for(let t in e){let n=e[t];n&&(this.sources[n]={sourceName:n,validName:this.validName(n)},this.sourceChoices.find((e=>e.id===n))||this.sourceChoices.push({id:n,label:n}),this.getAudioSources(n))}}async buildOutputList(){this.outputs={},this.outputList=[];let e=await this.sendRequest("GetOutputList");e&&(e.outputs?.forEach((e=>{let t=e.outputKind;"virtualcam_output"===t?this.outputList.push({id:"virtualcam_output",label:"Virtual Camera"}):"ffmpeg_muxer"!=t&&"ffmpeg_output"!=t&&"replay_buffer"!=t&&"rtmp_output"!=t&&this.outputList.push({id:e.outputName,label:e.outputName}),this.getOutputStatus(e.outputName)})),this.updateActionsFeedbacksVariables())}async buildMonitorList(){let e=await this.sendRequest("GetMonitorList");this.states.monitors=e,e&&e.monitors?.forEach((e=>{let t=e.monitorName??`Display ${e.monitorIndex}`;this.monitors.push({id:e.monitorIndex,label:`${t} (${e.monitorWidth}x${e.monitorHeight})`})}))}getStats(){this.obs.call("GetStats").then((e=>{this.states.stats=e;let t=this.roundNumber(e.availableDiskSpace,0),n=t;n=n>1e3?`${this.roundNumber(n/1e3,0)} GB`:`${this.roundNumber(n,0)} MB`,this.setVariableValues({fps:this.roundNumber(e.activeFps,2),render_total_frames:e.renderTotalFrames,render_missed_frames:e.renderSkippedFrames,output_total_frames:e.outputTotalFrames,output_skipped_frames:e.outputSkippedFrames,average_frame_time:this.roundNumber(e.averageFrameRenderTime,2),cpu_usage:`${this.roundNumber(e.cpuUsage,2)}%`,memory_usage:`${this.roundNumber(e.memoryUsage,0)} MB`,free_disk_space:n,free_disk_space_mb:t}),this.checkFeedbacks("freeDiskSpaceRemaining")})).catch((e=>{e?.message.match(/(Not connected)/i)&&this.connectionLost()}))}async getVideoSettings(){let e=await this.sendRequest("GetVideoSettings");e&&(this.states.resolution=`${e.baseWidth}x${e.baseHeight}`,this.states.outputResolution=`${e.outputWidth}x${e.outputHeight}`,this.states.framerate=`${this.roundNumber(e.fpsNumerator/e.fpsDenominator,2)} fps`,this.setVariableValues({base_resolution:this.states.resolution,output_resolution:this.states.outputResolution,target_framerate:this.states.framerate}))}async getStreamStatus(){let e=await this.sendRequest("GetStreamStatus"),t=await this.sendRequest("GetStreamServiceSettings");if(e){this.states.streaming=e.outputActive,this.states.streamingTimecode=e.outputTimecode.match(/\d\d:\d\d:\d\d/i),this.states.streamCongestion=e.outputCongestion;let n=0;e.outputBytes>this.states.outputBytes?(n=Math.round(8*(e.outputBytes-this.states.outputBytes)/1e3),this.states.outputBytes=e.outputBytes):this.states.outputBytes=e.outputBytes,this.checkFeedbacks("streaming","streamCongestion"),this.setVariableValues({streaming:e.outputActive?"Live":"Off-Air",stream_timecode:this.states.streamingTimecode,output_skipped_frames:e.outputSkippedFrames,output_total_frames:e.outputTotalFrames,kbits_per_sec:n,stream_service:t?.streamServiceSettings?.service??"Custom"})}}async getRecordStatus(){let e=await this.sendRequest("GetRecordStatus"),t=await this.sendRequest("GetRecordDirectory");e&&(!0===e.outputActive?this.states.recording="Recording":this.states.recording=e.outputPaused?"Paused":"Stopped",this.states.recordingTimecode=e.outputTimecode.match(/\d\d:\d\d:\d\d/i),this.states.recordDirectory=t.recordDirectory,this.checkFeedbacks("recording"),this.setVariableValues({recording:this.states.recording,recording_timecode:this.states.recordingTimecode,recording_path:this.states.recordDirectory}))}async getOutputStatus(e){if(!this.states.sceneCollectionChanging){let t=await this.sendRequest("GetOutputStatus",{outputName:e});this.outputs[e]=t,this.checkFeedbacks("output_active")}}async getReplayBufferStatus(){let e=await this.sendRequest("GetReplayBufferStatus");e&&(this.states.replayBuffer=e.outputActive,this.checkFeedbacks("replayBufferActive"))}async buildSceneList(){this.scenes=[],this.sceneChoices=[];let e=await this.sendRequest("GetSceneList");e&&(this.scenes=e.scenes,this.states.previewScene=e.currentPreviewSceneName??"None",this.states.programScene=e.currentProgramSceneName,this.setVariableValues({scene_preview:this.states.te,scene_active:this.states.programScene}),this.scenes.forEach((e=>{let t=e.sceneName;this.sceneChoices.push({id:t,label:t}),this.buildSourceList(t)})),this.updateActionsFeedbacksVariables())}async buildSourceList(e){let t=await this.sendRequest("GetSceneItemList",{sceneName:e});if(t){this.sceneItems[e]=t.sceneItems;let n=[];for(const e of t.sceneItems){let t=e.sourceName;this.sources[t]=e,this.sources[t].validName=this.validName(e.sourceName),this.sourceChoices.find((e=>e.id===t))||this.sourceChoices.push({id:t,label:t}),e.isGroup&&this.getGroupInfo(t),n.push({requestId:t,requestType:"GetSourceActive",requestData:{sourceName:t}},{requestId:t,requestType:"GetSourceFilterList",requestData:{sourceName:t}}),e.inputKind&&n.push({requestId:t,requestType:"GetInputSettings",requestData:{inputName:t}}),this.getAudioSources(t)}let r=await this.sendBatch(n);if(r){for(const e of r)if(e.requestStatus.result){let t=e.requestId,n=e.requestType,r=e.responseData;switch(n){case"GetSourceActive":this.sources[t].active=r.videoActive,this.sources[t].videoShowing=r.videoShowing;break;case"GetSourceFilterList":this.sourceFilters[t]=r.filters,r?.filters&&(this.sourceFilters[t]=r.filters,r.filters.forEach((e=>{this.filterList.find((t=>t.id===e.filterName))||this.filterList.push({id:e.filterName,label:e.filterName})})));break;case"GetInputSettings":this.buildInputSettings(t,r.inputKind,r.inputSettings)}}this.checkFeedbacks("scene_item_active"),this.updateActionsFeedbacksVariables()}}}async getGroupInfo(e){let t=await this.sendRequest("GetGroupSceneItemList",{sceneName:e});t&&(this.groups[e]=t.sceneItems,t.sceneItems?.forEach((async t=>{let n=t.sourceName;if(this.sources[n]=t,this.sources[n].validName=this.validName(n),this.sources[n].groupedSource=!0,this.sources[n].groupName=e,this.sourceChoices.find((e=>e.id===n))||this.sourceChoices.push({id:n,label:n}),this.getSourceFilters(n),this.getAudioSources(n),t.inputKind){let e=await this.sendRequest("GetInputSettings",{inputName:n});e.inputSettings&&(this.buildInputSettings(n,t.inputKind,e.inputSettings),this.updateActionsFeedbacksVariables())}})),this.updateActionsFeedbacksVariables())}async buildSceneTransitionList(){this.transitionList=[];let e=await this.sendRequest("GetSceneTransitionList"),t=await this.sendRequest("GetCurrentSceneTransition");e&&(e.transitions?.forEach((e=>{this.transitionList.push({id:e.transitionName,label:e.transitionName})})),this.states.currentTransition=t?.transitionName??"None",this.states.transitionDuration=t?.transitionDuration??"0",this.checkFeedbacks("transition_duration","current_transition"),this.setVariableValues({current_transition:this.states.currentTransition,transition_duration:this.states.transitionDuration,transition_active:"False"}))}addScene(e){this.sceneChoices.push({id:e,label:e}),this.buildSourceList(e),this.updateActionsFeedbacksVariables()}removeScene(e){let t=this.sceneChoices.findIndex((t=>t.id===e));t&&this.sceneChoices.splice(t,1),delete this.sceneItems[e],this.updateActionsFeedbacksVariables()}async getMediaStatus(){let e=[];for(const t of this.mediaSourceList){let n=t.id;e.push({requestId:n,requestType:"GetMediaInputStatus",requestData:{inputName:n}})}let t=await this.sendBatch(e);if(t)for(const e of t)if(e.requestStatus.result){let t=e.requestId,n=this.sources[t].validName??t,r=e.responseData;this.mediaSources[t]=r;let o=r?.mediaDuration-r?.mediaCursor;if(o=o>0?this.formatTimecode(o):"--:--:--",this.mediaSources[t].timeElapsed=this.formatTimecode(r.mediaCursor),this.mediaSources[t].timeRemaining=o,r?.mediaState)switch(r?.mediaState){case"OBS_MEDIA_STATE_PLAYING":this.setVariableValues({current_media_name:t,current_media_time_elapsed:this.mediaSources[t].timeElapsed,current_media_time_remaining:this.mediaSources[t].timeRemaining,[`media_status_${n}`]:"Playing"});break;case"OBS_MEDIA_STATE_PAUSED":this.setVariableValues({[`media_status_${n}`]:"Paused"});break;default:this.setVariableValues({[`media_status_${n}`]:"Stopped"})}this.setVariableValues({[`media_time_elapsed_${n}`]:this.mediaSources[t].timeElapsed,[`media_time_remaining_${n}`]:o}),this.checkFeedbacks("media_playing","media_source_time_remaining")}}buildInputSettings(e,t,n){let r=this.sources[e].validName??e;switch(this.sources[e].settings=n,t){case"text_ft2_source_v2":case"text_gdiplus_v2":case"text_gdiplus_v3":n?.from_file||n?.read_from_file?this.setVariableValues({[`current_text_${r}`]:`Text from file: ${n.text_file??n.file}`}):n?.text&&(this.textSourceList.push({id:e,label:e}),this.setVariableValues({[`current_text_${r}`]:n.text??""}));break;case"ffmpeg_source":case"vlc_source":this.mediaSourceList.push({id:e,label:e}),this.mediaPoll||this.startMediaPoll();break;case"image_source":this.imageSourceList.push({id:e,label:e})}}updateInputSettings(e,t){if(this.sources[e]){this.sources[e].settings=t;let n=this.sources[e].validName??e;switch(this.sources[e].inputKind){case"text_ft2_source_v2":case"text_gdiplus_v2":case"text_gdiplus_v3":t?.from_file||t?.read_from_file?this.setVariableValues({[`current_text_${n}`]:`Text from file: ${t.text_file??t.file}`}):t?.text&&this.setVariableValues({[`current_text_${n}`]:t.text??""});break;case"ffmpeg_source":case"vlc_source":let e="";t?.playlist?e=t?.playlist[0]?.value?.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/):t?.local_file&&(e=t?.local_file?.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/)),this.setVariableValues({[`media_file_name_${n}`]:e});break;case"image_source":this.setVariableValues({[`image_file_name_${n}`]:t?.file?t?.file?.match(/[^\\\/]+(?=\.[\w]+$)|[^\\\/]+$/):""})}}}async getSourceFilters(e){let t=await this.sendRequest("GetSourceFilterList",{sourceName:e});t?.filters&&(this.sourceFilters[e]=t.filters,t.filters.forEach((e=>{this.filterList.find((t=>t.id===e.filterName))||(this.filterList.push({id:e.filterName,label:e.filterName}),this.updateActionsFeedbacksVariables())})))}getAudioSources(e){this.obs.call("GetInputAudioTracks",{inputName:e}).then((t=>{this.audioSourceList.find((t=>t.id===e))||(this.audioSourceList.push({id:e,label:e}),this.sources[e].inputAudioTracks=t.inputAudioTracks,this.getSourceAudio(e),this.updateActionsFeedbacksVariables())})).catch((e=>{}))}async getSourceAudio(e){let t=this.validName(e),n=[{requestId:e,requestType:"GetInputMute",requestData:{inputName:e}},{requestId:e,requestType:"GetInputVolume",requestData:{inputName:e}},{requestId:e,requestType:"GetInputAudioBalance",requestData:{inputName:e}},{requestId:e,requestType:"GetInputAudioSyncOffset",requestData:{inputName:e}},{requestId:e,requestType:"GetInputAudioMonitorType",requestData:{inputName:e}},{requestId:e,requestType:"GetInputAudioTracks",requestData:{inputName:e}}],r=await this.sendBatch(n);for(const e of r)if(e.requestStatus.result&&e.responseData){let n=e.requestId,r=e.requestType,o=e.responseData;switch(r){case"GetInputMute":this.sources[n].inputMuted=o.inputMuted;break;case"GetInputVolume":this.sources[n].inputVolume=this.roundNumber(o.inputVolumeDb,1);break;case"GetInputAudioBalance":this.sources[n].inputAudioBalance=this.roundNumber(o.inputAudioBalance,1);break;case"GetInputAudioSyncOffset":this.sources[n].inputAudioSyncOffset=o.inputAudioSyncOffset;break;case"GetInputAudioMonitorType":let e;this.sources[n].monitorType=o.monitorType,e="OBS_MONITORING_TYPE_MONITOR_AND_OUTPUT"===o.monitorType?"Monitor / Output":"OBS_MONITORING_TYPE_MONITOR_ONLY"===o.monitorType?"Monitor Only":"Off",this.setVariableValues({[`monitor_${t}`]:e});break;case"GetInputAudioTracks":this.sources[n].inputAudioTracks=o.inputAudioTracks}}this.setVariableValues({[`mute_${t}`]:this.sources[e].inputMuted?"Muted":"Unmuted",[`volume_${t}`]:this.sources[e].inputVolume+"dB",[`balance_${t}`]:this.sources[e].inputAudioBalance,[`sync_offset_${t}`]:this.sources[e].inputAudioSyncOffset+"ms"}),this.checkFeedbacks("audio_muted","volume","audio_monitor_type")}updateAudioPeak(e){this.audioPeak={},e.inputs.forEach((e=>{let t=e.inputLevelsMul[0];if(t){let n=t?.[1],r=Math.round(20*Math.log10(n));this.audioPeak&&r&&(this.audioPeak[e.inputName]=r,this.checkFeedbacks("audioPeaking","audioMeter"))}}))}}(0,r.runEntrypoint)(te,u)},81316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>x,__assign:()=>s,__asyncDelegator:()=>R,__asyncGenerator:()=>I,__asyncValues:()=>C,__await:()=>T,__awaiter:()=>f,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>M,__classPrivateFieldSet:()=>L,__createBinding:()=>_,__decorate:()=>a,__disposeResources:()=>U,__esDecorate:()=>u,__exportStar:()=>g,__extends:()=>o,__generator:()=>m,__importDefault:()=>w,__importStar:()=>N,__makeTemplateObject:()=>A,__metadata:()=>h,__param:()=>c,__propKey:()=>d,__read:()=>b,__rest:()=>i,__runInitializers:()=>l,__setFunctionName:()=>p,__spread:()=>y,__spreadArray:()=>v,__spreadArrays:()=>E,__values:()=>S,default:()=>G});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,o,s){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),p=!1,h=n.length-1;h>=0;h--){var f={};for(var m in r)f[m]="access"===m?{}:r[m];for(var m in r.access)f.access[m]=r.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(e||null))};var _=(0,n[h])("accessor"===c?{get:d.get,set:d.set}:d[u],f);if("accessor"===c){if(void 0===_)continue;if(null===_||"object"!=typeof _)throw new TypeError("Object expected");(a=i(_.get))&&(d.get=a),(a=i(_.set))&&(d.set=a),(a=i(_.init))&&o.unshift(a)}else(a=i(_))&&("field"===c?o.unshift(a):d[u]=a)}l&&Object.defineProperty(l,r.name,d),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var _=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||_(t,e,n)}function S(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r}function v(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function I(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof T?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(e){l(s[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function R(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:T(e[r](t)),done:!1}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=S(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&_(t,e,n);return O(t,e),t}function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function L(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function M(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function x(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var k="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function U(e){function t(t){e.error=e.hasError?new k(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const G={__extends:o,__assign:s,__rest:i,__decorate:a,__param:c,__metadata:h,__awaiter:f,__generator:m,__createBinding:_,__exportStar:g,__values:S,__read:b,__spread:y,__spreadArrays:E,__spreadArray:v,__await:T,__asyncGenerator:I,__asyncDelegator:R,__asyncValues:C,__makeTemplateObject:A,__importStar:N,__importDefault:w,__classPrivateFieldGet:P,__classPrivateFieldSet:L,__classPrivateFieldIn:M,__addDisposableResource:x,__disposeResources:U}},94928:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3","node:test/mock_loader":">= 22.3","node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')},62650:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')},9056:e=>{"use strict";e.exports=JSON.parse('{"Wg":{"q":"https://github.com/elastic/require-in-the-middle/issues"}}')}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=r,s.c=o,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,s.d(o,i),o},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".js",s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n={590:1},s.f.require=(e,t)=>{n[e]||(e=>{var t=e.modules,r=e.ids,o=e.runtime;for(var i in t)s.o(t,i)&&(s.m[i]=t[i]);o&&o(s);for(var a=0;a<r.length;a++)n[r[a]]=1})(require("./"+s.u(e)))},s(s.s=85472)})();