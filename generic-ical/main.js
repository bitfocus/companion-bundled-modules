(()=>{var e={131(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},228(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,s||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var u,c,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,a),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(d-1);h<d;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var u=0,c=[],l=o.length;u<l;u++)(o[u].fn!==t||i&&!o[u].once||n&&o[u].context!==n)&&c.push(o[u]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},360(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,r,n){let i=(255&e)<<16|(255&t)<<8|255&r;return n&&n>=0&&n<1&&(i+=16777216*Math.round(255*(1-n))),i},t.splitRgb=i,t.splitHsl=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsl()},t.splitHsv=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHsv()},t.splitHex=function(e){const t=i(e);return(0,n.colord)(`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`).toHex()},t.parseEscapeCharacters=function(e){return e.replaceAll("\\n","\n").replaceAll("\\r","\r").replaceAll("\\t","\t").replaceAll("\\f","\f").replaceAll("\\v","\v").replaceAll("\\b","\b").replaceAll("\\\\","\\").replaceAll("\\x00","\0").replaceAll("\\x01","").replaceAll("\\x02","").replaceAll("\\x03","")},t.substituteEscapeCharacters=function(e){return e.replaceAll("\n","\\n").replaceAll("\r","\\r").replaceAll("\t","\\t").replaceAll("\f","\\f").replaceAll("\v","\\v").replaceAll("\b","\\b").replaceAll("\\","\\\\").replaceAll("\0","\\x00").replaceAll("","\\x01").replaceAll("","\\x02").replaceAll("","\\x03")};const n=r(6284);function i(e){if("number"==typeof e)return e>16777215?{r:e>>16&255,g:e>>8&255,b:255&e,a:(255-(e>>24&255))/255}:{r:e>>16&255,g:e>>8&255,b:255&e,a:1};if("string"==typeof e&&(0,n.colord)(e).isValid()){const t=(0,n.colord)(e).toRgb();return{r:t.r,g:t.g,b:t.b,a:t.a}}return{r:0,g:0,b:0,a:1}}},493(e,t,r){"use strict";var n=r(7688);e.exports=function(e,t,r){var i=n(e);if(1===i.length){var s=i[0];if(1===(l=s.step)&&s.start===t&&s.end===r)return"*";if(1!==l&&s.start===t&&s.end===r-l+1)return"*/"+l}for(var a=[],o=0,u=i.length;o<u;++o){var c=i[o];if(1!==c.count){var l=c.step;if(1!==c.step){var d=0==c.start?c.count-1:c.count;c.step*d>c.end?a=a.concat(Array.from({length:c.end-c.start+1}).map((function(e,t){var r=c.start+t;return(r-c.start)%c.step==0?r:null})).filter((function(e){return null!=e}))):c.end===r-c.step+1?a.push(c.start+"/"+c.step):a.push(c.start+"-"+c.end+"/"+c.step)}else a.push(c.start+"-"+c.end)}else a.push(c.start)}return a.join(",")}},643(e,t){function r(e,t){return e===t?0:e<t?-1:1}function n(e,t,n){n||(n=r);var s=i(e,t,n);return-1===s?-1:0===n(e[s],t)?s:-1}function i(e,t,n){n||(n=r);for(var i=e.length,s=i-1,a=0,o=-1;s>=a&&a>=0&&s<i;){var u=n(e[o=Math.floor((s+a)/2)],t);if(0===u)return o;u>=0?s=o-1:a=o+1}return o}t.add=function(e,t,n){n||(n=r);for(var i=e.push(t)-1;i;){if(n(e[i-1],t)<0)return;e[i]=e[i-1],e[i-1]=t,i--}},t.addFromFront=function(e,t,n){n||(n=r);for(var i=e.unshift(t)-1,s=0;s<i;s++){if(n(t,e[s+1])<0)return;e[s]=e[s+1],e[s+1]=t}},t.remove=function(e,t,r){var i=n(e,t,r);return-1!==i&&(e.splice(i,1),!0)},t.has=function(e,t,r){return n(e,t,r)>-1},t.eq=n,t.lte=function(e,t,n){n||(n=r);var s=i(e,t,n);if(-1===s)return-1;for(;s>=0;s--)if(n(e[s],t)<=0)return s;return-1},t.lt=function(e,t,n){n||(n=r);var s=i(e,t,n);if(-1===s)return-1;for(;s>=0;s--)if(n(e[s],t)<0)return s;return-1},t.gte=function(e,t,n){n||(n=r);var s=i(e,t,n);if(-1===s)return-1;for(;s<e.length;s++)if(n(e[s],t)>=0)return s;return-1},t.gt=function(e,t,n){n||(n=r);var s=i(e,t,n);if(-1===s)return-1;for(;s<e.length;s++)if(n(e[s],t)>0)return s;return-1},t.nearest=function(e,t,n){n||(n=r);for(var i=e.length,s=i-1,a=0,o=-1,u=1;s>=a&&a>=0&&s<i;){var c=n(e[o=Math.floor((s+a)/2)],t);if(0===c)return o;if(c>=0){if(1===u)u=0;else if(2===u)return Math.abs(e[o]-t)>Math.abs(e[o-1]-t)?o-1:o;s=o-1}else{if(1===u)u=2;else if(0===u)return o;a=o+1}}return o}},1118(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=r(1635).__importDefault(r(228)),i=r(2203),s=r(8895);class a extends n.default{#e;#t;#r;get isConnected(){return this.#e.isConnected}get isConnecting(){return this.#e.isConnecting}get isDestroyed(){return this.#e.isDestroyed}constructor(e,t,r){super(),this.#e=new s.TCPHelper(e,t,r),this.#t=new o,this.#e._socket.pipe(this.#t),this.#e.on("connect",(()=>this.emit("connect"))),this.#e.on("end",(()=>this.emit("end"))),this.#e.on("error",(e=>this.emit("error",e))),this.#e.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#t.on("iac",((e,t)=>this.emit("iac",e,t))),this.#t.on("sb",(e=>this.emit("sb",e))),this.#t.on("data",(e=>this.emit("data",e))),this.#t.on("drain",(()=>this.emit("drain"))),this.#r=setTimeout((()=>{this.#r=void 0,this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#e.connect()}async send(e){return this.#e.send(e)}destroy(){this.#e.destroy(),void 0!==this.#r&&(clearTimeout(this.#r),this.#r=void 0),this.#t.removeAllListeners(),this.#t.destroy()}}t.TelnetHelper=a;class o extends i.Transform{#n;#i;#s;constructor(e){super(e),this.#n=Buffer.alloc(0),this.#i=Buffer.alloc(0),this.#s=0}_transform(e,t,r){for(let t=0;t<e.length;++t)this.#a(e[t]);const n=this.#o();n.length&&this.push(n),r()}#a(e){if(0===this.#s){if(255===e)return void(this.#s=255);this.#n=Buffer.concat([this.#n,Buffer.from([e])])}else if(255===this.#s)switch(e){case 250:case 251:case 252:case 253:case 254:this.#s=e;break;default:this.#s=0}else{if(this.#s>=251&&this.#s<=254){let t;switch(this.#s){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#s=0)}if(250===this.#s){if(240===e)return this.emit("sb",this.#i),this.#s=0,void(this.#i=Buffer.alloc(0));this.#i=Buffer.concat([this.#i,Buffer.from([e])])}}}#o(){const e=this.#n;return this.#n=Buffer.alloc(0),e}}},1169(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{}class n extends r{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class i extends r{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class s extends r{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends r{}class o extends r{constructor(e){super(`Invalid unit ${e}`)}}class u extends r{}class c extends r{constructor(){super("Zone is an abstract class")}}const l="numeric",d="short",h="long",f={year:l,month:l,day:l},p={year:l,month:d,day:l},m={year:l,month:d,day:l,weekday:d},y={year:l,month:h,day:l},g={year:l,month:h,day:l,weekday:h},b={hour:l,minute:l},v={hour:l,minute:l,second:l},w={hour:l,minute:l,second:l,timeZoneName:d},k={hour:l,minute:l,second:l,timeZoneName:h},_={hour:l,minute:l,hourCycle:"h23"},T={hour:l,minute:l,second:l,hourCycle:"h23"},S={hour:l,minute:l,second:l,hourCycle:"h23",timeZoneName:d},O={hour:l,minute:l,second:l,hourCycle:"h23",timeZoneName:h},E={year:l,month:l,day:l,hour:l,minute:l},I={year:l,month:l,day:l,hour:l,minute:l,second:l},A={year:l,month:d,day:l,hour:l,minute:l},C={year:l,month:d,day:l,hour:l,minute:l,second:l},D={year:l,month:d,day:l,weekday:d,hour:l,minute:l},x={year:l,month:h,day:l,hour:l,minute:l,timeZoneName:d},N={year:l,month:h,day:l,hour:l,minute:l,second:l,timeZoneName:d},M={year:l,month:h,day:l,weekday:h,hour:l,minute:l,timeZoneName:h},j={year:l,month:h,day:l,weekday:h,hour:l,minute:l,second:l,timeZoneName:h};class P{get type(){throw new c}get name(){throw new c}get ianaName(){return this.name}get isUniversal(){throw new c}offsetName(e,t){throw new c}formatOffset(e,t){throw new c}offset(e){throw new c}equals(e){throw new c}get isValid(){throw new c}}let U=null;class V extends P{static get instance(){return null===U&&(U=new V),U}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return tt(e,t,r)}formatOffset(e,t){return st(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let F={};const L={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $={};class R extends P{static create(e){return $[e]||($[e]=new R(e)),$[e]}static resetCache(){$={},F={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=R.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return tt(e,t,r,this.name)}formatOffset(e,t){return st(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const r=(n=this.name,F[n]||(F[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),F[n]);var n;let[i,s,a,o,u,c,l]=r.formatToParts?function(e,t){const r=e.formatToParts(t),n=[];for(let e=0;e<r.length;e++){const{type:t,value:i}=r[e],s=L[t];"era"===t?n[s]=i:je(s)||(n[s]=parseInt(i,10))}return n}(r,t):function(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,a,o,u,c,l]=n;return[a,i,s,o,u,c,l]}(r,t);"BC"===o&&(i=1-Math.abs(i));let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(Qe({year:i,month:s,day:a,hour:24===u?0:u,minute:c,second:l,millisecond:0})-d)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let W={},z={};function Y(e,t={}){const r=JSON.stringify([e,t]);let n=z[r];return n||(n=new Intl.DateTimeFormat(e,t),z[r]=n),n}let q={},H={},Z=null,J={};function B(e,t,r,n){const i=e.listingMode();return"error"===i?null:"en"===i?r(t):n(t)}class G{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:i,...s}=r;if(!t||Object.keys(s).length>0){const t={useGrouping:!1,...r};r.padTo>0&&(t.minimumIntegerDigits=r.padTo),this.inf=function(e,t={}){const r=JSON.stringify([e,t]);let n=q[r];return n||(n=new Intl.NumberFormat(e,t),q[r]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return ze(this.floor?Math.floor(e):Ze(e,3),this.padTo)}}class Q{constructor(e,t,r){let n;if(this.opts=r,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&R.create(r).valid?(n=r,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||n,this.dtf=Y(t,i)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class K{constructor(e,t,r){this.opts={style:"long",...r},!t&&Ve()&&(this.rtf=function(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=H[i];return s||(s=new Intl.RelativeTimeFormat(e,t),H[i]=s),s}(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&s){const r="days"===e;switch(t){case 1:return r?"tomorrow":`next ${i[e][0]}`;case-1:return r?"yesterday":`last ${i[e][0]}`;case 0:return r?"today":`this ${i[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),u=1===o,c=i[e],l=n?u?c[1]:c[2]||c[1]:u?i[e][0]:e;return a?`${o} ${l} ago`:`in ${o} ${l}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const X={firstDay:1,minimalDays:4,weekend:[6,7]};class ee{static fromOpts(e){return ee.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,n,i=!1){const s=e||be.defaultLocale,a=s||(i?"en-US":Z||(Z=(new Intl.DateTimeFormat).resolvedOptions().locale,Z)),o=t||be.defaultNumberingSystem,u=r||be.defaultOutputCalendar,c=Re(n)||be.defaultWeekSettings;return new ee(a,o,u,c,s)}static resetCache(){Z=null,z={},q={},H={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:n}={}){return ee.create(e,t,r,n)}constructor(e,t,r,n,i){const[s,a,o]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(-1===r)return[e];{let t,n;try{t=Y(e).resolvedOptions(),n=e}catch(i){const s=e.substring(0,r);t=Y(s).resolvedOptions(),n=s}const{numberingSystem:i,calendar:s}=t;return[n,i,s]}}(e);this.locale=s,this.numberingSystem=t||a||null,this.outputCalendar=r||o||null,this.weekSettings=n,this.intl=function(e,t,r){return r||t?(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?ee.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Re(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return B(this,e,lt,(()=>{const r=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let r=1;r<=12;r++){const n=dn.utc(2009,r,1);t.push(e(n))}return t}((e=>this.extract(e,r,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1){return B(this,e,pt,(()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let r=1;r<=7;r++){const n=dn.utc(2016,11,13+r);t.push(e(n))}return t}((e=>this.extract(e,r,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(){return B(this,void 0,(()=>mt),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[dn.utc(2016,11,13,9),dn.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return B(this,e,vt,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[dn.utc(-40,1,1),dn.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,r){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===r));return n?n.value:null}numberFormatter(e={}){return new G(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Q(e,this.intl,t)}relFormatter(e={}){return new K(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const r=JSON.stringify([e,t]);let n=W[r];return n||(n=new Intl.ListFormat(e,t),W[r]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Fe()?function(e){let t=J[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,J[e]=t}return t}(this.locale):X}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let te=null;class re extends P{static get utcInstance(){return null===te&&(te=new re(0)),te}static instance(e){return 0===e?re.utcInstance:new re(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new re(rt(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${st(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${st(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return st(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class ne extends P{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ie(e,t){if(je(e)||null===e)return t;if(e instanceof P)return e;if("string"==typeof e){const r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?V.instance:"utc"===r||"gmt"===r?re.utcInstance:re.parseSpecifier(r)||R.create(e)}return Pe(e)?re.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new ne(e)}const se={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ae={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},oe=se.hanidec.replace(/[\[|\]]/g,"").split("");let ue={};function ce({numberingSystem:e},t=""){const r=e||"latn";return ue[r]||(ue[r]={}),ue[r][t]||(ue[r][t]=new RegExp(`${se[r]}${t}`)),ue[r][t]}let le,de=()=>Date.now(),he="system",fe=null,pe=null,me=null,ye=60,ge=null;class be{static get now(){return de}static set now(e){de=e}static set defaultZone(e){he=e}static get defaultZone(){return ie(he,V.instance)}static get defaultLocale(){return fe}static set defaultLocale(e){fe=e}static get defaultNumberingSystem(){return pe}static set defaultNumberingSystem(e){pe=e}static get defaultOutputCalendar(){return me}static set defaultOutputCalendar(e){me=e}static get defaultWeekSettings(){return ge}static set defaultWeekSettings(e){ge=Re(e)}static get twoDigitCutoffYear(){return ye}static set twoDigitCutoffYear(e){ye=e%100}static get throwOnInvalid(){return le}static set throwOnInvalid(e){le=e}static resetCaches(){ee.resetCache(),R.resetCache(),dn.resetCache(),ue={}}}class ve{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const we=[0,31,59,90,120,151,181,212,243,273,304,334],ke=[0,31,60,91,121,152,182,213,244,274,305,335];function _e(e,t){return new ve("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Te(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return 0===i?7:i}function Se(e,t,r){return r+(Je(e)?ke:we)[t-1]}function Oe(e,t){const r=Je(e)?ke:we,n=r.findIndex((e=>e<t));return{month:n+1,day:t-r[n]}}function Ee(e,t){return(e-t+7)%7+1}function Ie(e,t=4,r=1){const{year:n,month:i,day:s}=e,a=Se(n,i,s),o=Ee(Te(n,i,s),r);let u,c=Math.floor((a-o+14-t)/7);return c<1?(u=n-1,c=Xe(u,t,r)):c>Xe(n,t,r)?(u=n+1,c=1):u=n,{weekYear:u,weekNumber:c,weekday:o,...at(e)}}function Ae(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,a=Ee(Te(n,1,t),r),o=Be(n);let u,c=7*i+s-a-7+t;c<1?(u=n-1,c+=Be(u)):c>o?(u=n+1,c-=Be(n)):u=n;const{month:l,day:d}=Oe(u,c);return{year:u,month:l,day:d,...at(e)}}function Ce(e){const{year:t,month:r,day:n}=e;return{year:t,ordinal:Se(t,r,n),...at(e)}}function De(e){const{year:t,ordinal:r}=e,{month:n,day:i}=Oe(t,r);return{year:t,month:n,day:i,...at(e)}}function xe(e,t){if(!je(e.localWeekday)||!je(e.localWeekNumber)||!je(e.localWeekYear)){if(!je(e.weekday)||!je(e.weekNumber)||!je(e.weekYear))throw new a("Cannot mix locale-based week fields with ISO-based week fields");return je(e.localWeekday)||(e.weekday=e.localWeekday),je(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),je(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ne(e){const t=Ue(e.year),r=We(e.month,1,12),n=We(e.day,1,Ge(e.year,e.month));return t?r?!n&&_e("day",e.day):_e("month",e.month):_e("year",e.year)}function Me(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=We(t,0,23)||24===t&&0===r&&0===n&&0===i,a=We(r,0,59),o=We(n,0,59),u=We(i,0,999);return s?a?o?!u&&_e("millisecond",i):_e("second",n):_e("minute",r):_e("hour",t)}function je(e){return void 0===e}function Pe(e){return"number"==typeof e}function Ue(e){return"number"==typeof e&&e%1==0}function Ve(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Fe(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Le(e,t,r){if(0!==e.length)return e.reduce(((e,n)=>{const i=[t(n),n];return e&&r(e[0],i[0])===e[0]?e:i}),null)[1]}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Re(e){if(null==e)return null;if("object"!=typeof e)throw new u("Week settings must be an object");if(!We(e.firstDay,1,7)||!We(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!We(e,1,7))))throw new u("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function We(e,t,r){return Ue(e)&&e>=t&&e<=r}function ze(e,t=2){let r;return r=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),r}function Ye(e){return je(e)||null===e||""===e?void 0:parseInt(e,10)}function qe(e){return je(e)||null===e||""===e?void 0:parseFloat(e)}function He(e){if(!je(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ze(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function Je(e){return e%4==0&&(e%100!=0||e%400==0)}function Be(e){return Je(e)?366:365}function Ge(e,t){const r=(n=t-1)-12*Math.floor(n/12)+1;var n;return 2===r?Je(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Qe(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Ke(e,t,r){return-Ee(Te(e,1,t),r)+t-1}function Xe(e,t=4,r=1){const n=Ke(e,t,r),i=Ke(e+1,t,r);return(Be(e)-n+i)/7}function et(e){return e>99?e:e>be.twoDigitCutoffYear?1900+e:2e3+e}function tt(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const a={timeZoneName:t,...s},o=new Intl.DateTimeFormat(r,a).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return o?o.value:null}function rt(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function nt(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new u(`Invalid unit value ${e}`);return t}function it(e,t){const r={};for(const n in e)if($e(e,n)){const i=e[n];if(null==i)continue;r[t(n)]=nt(i)}return r}function st(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${ze(r,2)}:${ze(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${ze(r,2)}${ze(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function at(e){return function(e){return["hour","minute","second","millisecond"].reduce(((t,r)=>(t[r]=e[r],t)),{})}(e)}const ot=["January","February","March","April","May","June","July","August","September","October","November","December"],ut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["J","F","M","A","M","J","J","A","S","O","N","D"];function lt(e){switch(e){case"narrow":return[...ct];case"short":return[...ut];case"long":return[...ot];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const dt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ht=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ft=["M","T","W","T","F","S","S"];function pt(e){switch(e){case"narrow":return[...ft];case"short":return[...ht];case"long":return[...dt];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const mt=["AM","PM"],yt=["Before Christ","Anno Domini"],gt=["BC","AD"],bt=["B","A"];function vt(e){switch(e){case"narrow":return[...bt];case"short":return[...gt];case"long":return[...yt];default:return null}}function wt(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const kt={D:f,DD:p,DDD:y,DDDD:g,t:b,tt:v,ttt:w,tttt:k,T:_,TT:T,TTT:S,TTTT:O,f:E,ff:A,fff:x,ffff:M,F:I,FF:C,FFF:N,FFFF:j};class _t{static create(e,t={}){return new _t(e,t)}static parseFormat(e){let t=null,r="",n=!1;const i=[];for(let s=0;s<e.length;s++){const a=e.charAt(s);"'"===a?(r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),t=null,r="",n=!n):n||a===t?r+=a:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=a,t=a)}return r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return kt[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return ze(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,r)=>this.loc.extract(e,t,r),s=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",a=(t,n)=>r?function(e,t){return lt(t)[e.month-1]}(e,t):i(n?{month:t}:{month:t,day:"numeric"},"month"),o=(t,n)=>r?function(e,t){return pt(t)[e.weekday-1]}(e,t):i(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),u=t=>{const r=_t.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},c=t=>r?function(e,t){return vt(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return wt(_t.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return r?function(e){return mt[e.hour<12?0:1]}(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return n?i({day:"numeric"},"day"):this.num(e.day);case"dd":return n?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return o("short",!0);case"cccc":return o("long",!0);case"ccccc":return o("narrow",!0);case"EEE":return o("short",!1);case"EEEE":return o("long",!1);case"EEEEE":return o("narrow",!1);case"L":return n?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return n?i({month:"numeric"},"month"):this.num(e.month);case"MM":return n?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return n?i({year:"numeric"},"year"):this.num(e.year);case"yy":return n?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(t)}}))}formatDurationFromString(e,t){const r=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=_t.parseFormat(t),i=n.reduce(((e,{literal:t,val:r})=>t?e:e.concat(r)),[]);return wt(n,(e=>t=>{const n=r(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...i.map(r).filter((e=>e)))))}}const Tt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function St(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function Ot(...e){return t=>e.reduce((([e,r,n],i)=>{const[s,a,o]=i(t,n);return[{...e,...s},a||r,o]}),[{},null,1]).slice(0,2)}function Et(e,...t){if(null==e)return[null,null];for(const[r,n]of t){const t=r.exec(e);if(t)return n(t)}return[null,null]}function It(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=Ye(t[r+i]);return[n,null,r+i]}}const At=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ct=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Dt=RegExp(`${Ct.source}(?:${At.source}?(?:\\[(${Tt.source})\\])?)?`),xt=RegExp(`(?:T${Dt.source})?`),Nt=It("weekYear","weekNumber","weekDay"),Mt=It("year","ordinal"),jt=RegExp(`${Ct.source} ?(?:${At.source}|(${Tt.source}))?`),Pt=RegExp(`(?: ${jt.source})?`);function Ut(e,t,r){const n=e[t];return je(n)?r:Ye(n)}function Vt(e,t){return[{hours:Ut(e,t,0),minutes:Ut(e,t+1,0),seconds:Ut(e,t+2,0),milliseconds:He(e[t+3])},null,t+4]}function Ft(e,t){const r=!e[t]&&!e[t+1],n=rt(e[t+1],e[t+2]);return[{},r?null:re.instance(n),t+3]}function Lt(e,t){return[{},e[t]?R.create(e[t]):null,t+1]}const $t=RegExp(`^T?${Ct.source}$`),Rt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Wt(e){const[t,r,n,i,s,a,o,u,c]=e,l="-"===t[0],d=u&&"-"===u[0],h=(e,t=!1)=>void 0!==e&&(t||e&&l)?-e:e;return[{years:h(qe(r)),months:h(qe(n)),weeks:h(qe(i)),days:h(qe(s)),hours:h(qe(a)),minutes:h(qe(o)),seconds:h(qe(u),"-0"===u),milliseconds:h(He(c),d)}]}const zt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Yt(e,t,r,n,i,s,a){const o={year:2===t.length?et(Ye(t)):Ye(t),month:ut.indexOf(r)+1,day:Ye(n),hour:Ye(i),minute:Ye(s)};return a&&(o.second=Ye(a)),e&&(o.weekday=e.length>3?dt.indexOf(e)+1:ht.indexOf(e)+1),o}const qt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ht(e){const[,t,r,n,i,s,a,o,u,c,l,d]=e,h=Yt(t,i,n,r,s,a,o);let f;return f=u?zt[u]:c?0:rt(l,d),[h,new re(f)]}const Zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Jt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Bt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Gt(e){const[,t,r,n,i,s,a,o]=e;return[Yt(t,i,n,r,s,a,o),re.utcInstance]}function Qt(e){const[,t,r,n,i,s,a,o]=e;return[Yt(t,o,r,n,i,s,a),re.utcInstance]}const Kt=St(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,xt),Xt=St(/(\d{4})-?W(\d\d)(?:-?(\d))?/,xt),er=St(/(\d{4})-?(\d{3})/,xt),tr=St(Dt),rr=Ot((function(e,t){return[{year:Ut(e,t),month:Ut(e,t+1,1),day:Ut(e,t+2,1)},null,t+3]}),Vt,Ft,Lt),nr=Ot(Nt,Vt,Ft,Lt),ir=Ot(Mt,Vt,Ft,Lt),sr=Ot(Vt,Ft,Lt),ar=Ot(Vt),or=St(/(\d{4})-(\d\d)-(\d\d)/,Pt),ur=St(jt),cr=Ot(Vt,Ft,Lt),lr="Invalid Duration",dr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},hr={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...dr},fr={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...dr},pr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],mr=pr.slice(0).reverse();function yr(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new vr(n)}function gr(e,t){var r;let n=null!=(r=t.milliseconds)?r:0;for(const r of mr.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function br(e,t){const r=gr(e,t)<0?-1:1;pr.reduceRight(((n,i)=>{if(je(t[i]))return n;if(n){const s=t[n]*r,a=e[i][n],o=Math.floor(s/a);t[i]+=o*r,t[n]-=o*a*r}return i}),null),pr.reduce(((r,n)=>{if(je(t[n]))return r;if(r){const i=t[r]%1;t[r]-=i,t[n]+=i*e[r][n]}return n}),null)}class vr{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let r=t?fr:hr;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||ee.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return vr.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new u("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new vr({values:it(e,vr.normalizeUnit),loc:ee.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Pe(e))return vr.fromMillis(e);if(vr.isDuration(e))return e;if("object"==typeof e)return vr.fromObject(e);throw new u(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=function(e){return Et(e,[Rt,Wt])}(e);return r?vr.fromObject(r,t):vr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=function(e){return Et(e,[$t,ar])}(e);return r?vr.fromObject(r,t):vr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new u("need to specify a reason the Duration is invalid");const r=e instanceof ve?e:new ve(e,t);if(be.throwOnInvalid)throw new s(r);return new vr({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new o(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?_t.create(this.loc,r).formatDurationFromString(this,e):lr}toHuman(e={}){if(!this.isValid)return lr;const t=pr.map((t=>{const r=this.values[t];return je(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(r)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ze(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},dn.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?gr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=vr.fromDurationLike(e),r={};for(const e of pr)($e(t.values,e)||$e(this.values,e))&&(r[e]=t.get(e)+this.get(e));return yr(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=vr.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=nt(e(this.values[r],r));return yr(this,{values:t},!0)}get(e){return this[vr.normalizeUnit(e)]}set(e){return this.isValid?yr(this,{values:{...this.values,...it(e,vr.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:n}={}){return yr(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:r})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return br(this.matrix,e),yr(this,{values:e},!0)}rescale(){return this.isValid?yr(this,{values:function(e){const t={};for(const[r,n]of Object.entries(e))0!==n&&(t[r]=n);return t}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>vr.normalizeUnit(e)));const t={},r={},n=this.toObject();let i;for(const s of pr)if(e.indexOf(s)>=0){i=s;let e=0;for(const t in r)e+=this.matrix[t][s]*r[t],r[t]=0;Pe(n[s])&&(e+=n[s]);const a=Math.trunc(e);t[s]=a,r[s]=(1e3*e-1e3*a)/1e3}else Pe(n[s])&&(r[s]=n[s]);for(const e in r)0!==r[e]&&(t[i]+=e===i?r[e]:r[e]/this.matrix[i][e]);return br(this.matrix,t),yr(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return yr(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of pr)if(t=this.values[n],r=e.values[n],!(void 0===t||0===t?void 0===r||0===r:t===r))return!1;var t,r;return!0}}const wr="Invalid Interval";class kr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new u("need to specify a reason the Interval is invalid");const r=e instanceof ve?e:new ve(e,t);if(be.throwOnInvalid)throw new i(r);return new kr({invalid:r})}static fromDateTimes(e,t){const r=hn(e),n=hn(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?kr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:kr.invalid("missing or invalid end"):kr.invalid("missing or invalid start")}(r,n);return null==i?new kr({start:r,end:n}):i}static after(e,t){const r=vr.fromDurationLike(t),n=hn(e);return kr.fromDateTimes(n,n.plus(r))}static before(e,t){const r=vr.fromDurationLike(t),n=hn(e);return kr.fromDateTimes(n.minus(r),n)}static fromISO(e,t){const[r,n]=(e||"").split("/",2);if(r&&n){let e,i,s,a;try{e=dn.fromISO(r,t),i=e.isValid}catch(n){i=!1}try{s=dn.fromISO(n,t),a=s.isValid}catch(n){a=!1}if(i&&a)return kr.fromDateTimes(e,s);if(i){const r=vr.fromISO(n,t);if(r.isValid)return kr.after(e,r)}else if(a){const e=vr.fromISO(r,t);if(e.isValid)return kr.before(s,e)}}return kr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let n;return n=null!=t&&t.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end,n=n.startOf(e,t),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?kr.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(hn).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),r=[];let{s:n}=this,i=0;for(;n<this.e;){const e=t[i]||this.e,s=+e>+this.e?this.e:e;r.push(kr.fromDateTimes(n,s)),n=s,i+=1}return r}splitBy(e){const t=vr.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let r,{s:n}=this,i=1;const s=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));r=+e>+this.e?this.e:e,s.push(kr.fromDateTimes(n,r)),n=r,i+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:kr.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return kr.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],r)=>t?t.overlaps(r)||t.abutsStart(r)?[e,t.union(r)]:[e.concat([t]),r]:[e,r]),[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const n=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),s=Array.prototype.concat(...i).sort(((e,t)=>e.time-t.time));for(const e of s)r+="s"===e.type?1:-1,1===r?t=e.time:(t&&+t!=+e.time&&n.push(kr.fromDateTimes(t,e.time)),t=null);return kr.merge(n)}difference(...e){return kr.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:wr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=f,t={}){return this.isValid?_t.create(this.s.loc.clone(t),e).formatInterval(this):wr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:wr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:wr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:wr}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:wr}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):vr.invalid(this.invalidReason)}mapEndpoints(e){return kr.fromDateTimes(e(this.s),e(this.e))}}class _r{static hasDST(e=be.defaultZone){const t=dn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return R.isValidZone(e)}static normalizeZone(e){return ie(e,be.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||ee.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||ee.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||ee.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||ee.create(t,r,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||ee.create(t,r,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||ee.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||ee.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ee.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ee.create(t,null,"gregory").eras(e)}static features(){return{relative:Ve(),localeWeek:Fe()}}}function Tr(e,t){const r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(vr.fromMillis(n).as("days"))}function Sr(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(-1!==e[r].search(se.hanidec))t+=oe.indexOf(e[r]);else for(const e in ae){const[r,i]=ae[e];n>=r&&n<=i&&(t+=n-r)}}return parseInt(t,10)}return t}(e))}}const Or=`[ ${String.fromCharCode(160)}]`,Er=new RegExp(Or,"g");function Ir(e){return e.replace(/\./g,"\\.?").replace(Er,Or)}function Ar(e){return e.replace(/\./g,"").replace(Er," ").toLowerCase()}function Cr(e,t){return null===e?null:{regex:RegExp(e.map(Ir).join("|")),deser:([r])=>e.findIndex((e=>Ar(r)===Ar(e)))+t}}function Dr(e,t){return{regex:e,deser:([,e,t])=>rt(e,t),groups:t}}function xr(e){return{regex:e,deser:([e])=>e}}const Nr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Mr=null;function jr(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const r=Vr(_t.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r}(e,t))))}class Pr{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=jr(_t.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const r=ce(t),n=ce(t,"{2}"),i=ce(t,"{3}"),s=ce(t,"{4}"),a=ce(t,"{6}"),o=ce(t,"{1,2}"),u=ce(t,"{1,3}"),c=ce(t,"{1,6}"),l=ce(t,"{1,9}"),d=ce(t,"{2,4}"),h=ce(t,"{4,6}"),f=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return f(p);switch(p.val){case"G":return Cr(t.eras("short"),0);case"GG":return Cr(t.eras("long"),0);case"y":return Sr(c);case"yy":case"kk":return Sr(d,et);case"yyyy":case"kkkk":return Sr(s);case"yyyyy":return Sr(h);case"yyyyyy":return Sr(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Sr(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Sr(n);case"MMM":return Cr(t.months("short",!0),1);case"MMMM":return Cr(t.months("long",!0),1);case"LLL":return Cr(t.months("short",!1),1);case"LLLL":return Cr(t.months("long",!1),1);case"o":case"S":return Sr(u);case"ooo":case"SSS":return Sr(i);case"u":return xr(l);case"uu":return xr(o);case"uuu":case"E":case"c":return Sr(r);case"a":return Cr(t.meridiems(),0);case"EEE":return Cr(t.weekdays("short",!1),1);case"EEEE":return Cr(t.weekdays("long",!1),1);case"ccc":return Cr(t.weekdays("short",!0),1);case"cccc":return Cr(t.weekdays("long",!0),1);case"Z":case"ZZ":return Dr(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Dr(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return xr(/[a-z_+-/]{1,256}?/i);case" ":return xr(/[^\S\n\r]/);default:return f(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=[`^${(r=this.units).map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,r];this.regex=RegExp(e,"i"),this.handlers=t}var r}explainFromTokens(e){if(this.isValid){const[t,r]=function(e,t,r){const n=e.match(t);if(n){const e={};let t=1;for(const i in r)if($e(r,i)){const s=r[i],a=s.groups?s.groups+1:1;!s.literal&&s.token&&(e[s.token.val[0]]=s.deser(n.slice(t,t+a))),t+=a}return[n,e]}return[n,{}]}(e,this.regex,this.handlers),[n,i,s]=r?function(e){let t,r=null;return je(e.z)||(r=R.create(e.z)),je(e.Z)||(r||(r=new re(e.Z)),t=e.Z),je(e.q)||(e.M=3*(e.q-1)+1),je(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),je(e.u)||(e.S=He(e.u)),[Object.keys(e).reduce(((t,r)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(r);return n&&(t[n]=e[r]),t}),{}),r,t]}(r):[null,null,void 0];if($e(r,"a")&&$e(r,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:r,result:n,zone:i,specificOffset:s}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Ur(e,t,r){return new Pr(e,r).explainFromTokens(t)}function Vr(e,t){if(!e)return null;const r=_t.create(t,e).dtFormatter((Mr||(Mr=dn.fromMillis(1555555555555)),Mr)),n=r.formatToParts(),i=r.resolvedOptions();return n.map((t=>function(e,t,r){const{type:n,value:i}=e;if("literal"===n){const e=/^\s+$/.test(i);return{literal:!e,val:e?" ":i}}const s=t[n];let a=n;"hour"===n&&(a=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");let o=Nr[a];if("object"==typeof o&&(o=o[s]),o)return{literal:!1,val:o}}(t,e,i)))}const Fr="Invalid DateTime",Lr=864e13;function $r(e){return new ve("unsupported zone",`the zone "${e.name}" is not supported`)}function Rr(e){return null===e.weekData&&(e.weekData=Ie(e.c)),e.weekData}function Wr(e){return null===e.localWeekData&&(e.localWeekData=Ie(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function zr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new dn({...r,...t,old:r})}function Yr(e,t,r){let n=e-60*t*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=60*(i-t)*1e3;const s=r.offset(n);return i===s?[n,i]:[e-60*Math.min(i,s)*1e3,Math.max(i,s)]}function qr(e,t){const r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Hr(e,t,r){return Yr(Qe(e),t,r)}function Zr(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),s={...e.c,year:n,month:i,day:Math.min(e.c.day,Ge(n,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},a=vr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=Qe(s);let[u,c]=Yr(o,r,e.zone);return 0!==a&&(u+=a,c=e.zone.offset(u)),{ts:u,o:c}}function Jr(e,t,r,n,i,s){const{setZone:a,zone:o}=r;if(e&&0!==Object.keys(e).length||t){const n=t||o,i=dn.fromObject(e,{...r,zone:n,specificOffset:s});return a?i:i.setZone(o)}return dn.invalid(new ve("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Br(e,t,r=!0){return e.isValid?_t.create(ee.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Gr(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=ze(e.c.year,r?6:4),t?(n+="-",n+=ze(e.c.month),n+="-",n+=ze(e.c.day)):(n+=ze(e.c.month),n+=ze(e.c.day)),n}function Qr(e,t,r,n,i,s){let a=ze(e.c.hour);return t?(a+=":",a+=ze(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(a+=":")):a+=ze(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(a+=ze(e.c.second),0===e.c.millisecond&&n||(a+=".",a+=ze(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!s?a+="Z":e.o<0?(a+="-",a+=ze(Math.trunc(-e.o/60)),a+=":",a+=ze(Math.trunc(-e.o%60))):(a+="+",a+=ze(Math.trunc(e.o/60)),a+=":",a+=ze(Math.trunc(e.o%60)))),s&&(a+="["+e.zone.ianaName+"]"),a}const Kr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Xr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},en={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tn=["year","month","day","hour","minute","second","millisecond"],rn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nn=["year","ordinal","hour","minute","second","millisecond"];function sn(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new o(e);return t}(e)}}function an(e,t){const r=ie(t.zone,be.defaultZone);if(!r.isValid)return dn.invalid($r(r));const n=ee.fromObject(t);let i,s;if(je(e.year))i=be.now();else{for(const t of tn)je(e[t])&&(e[t]=Kr[t]);const t=Ne(e)||Me(e);if(t)return dn.invalid(t);const n=function(e){return ln[e]||(void 0===cn&&(cn=be.now()),ln[e]=e.offset(cn)),ln[e]}(r);[i,s]=Hr(e,n,r)}return new dn({ts:i,zone:r,loc:n,o:s})}function on(e,t,r){const n=!!je(r.round)||r.round,i=(e,i)=>(e=Ze(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,i)),s=n=>r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(r.unit)return i(s(r.unit),r.unit);for(const e of r.units){const t=s(e);if(Math.abs(t)>=1)return i(t,e)}return i(e>t?-0:0,r.units[r.units.length-1])}function un(e){let t,r={};return e.length>0&&"object"==typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}let cn,ln={};class dn{constructor(e){const t=e.zone||be.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new ve("invalid input"):null)||(t.isValid?null:$r(t));this.ts=je(e.ts)?be.now():e.ts;let n=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,i]=[e.old.c,e.old.o];else{const s=Pe(e.o)&&!e.old?e.o:t.offset(this.ts);n=qr(this.ts,s),r=Number.isNaN(n.year)?new ve("invalid input"):null,n=r?null:n,i=r?null:s}this._zone=t,this.loc=e.loc||ee.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=i,this.isLuxonDateTime=!0}static now(){return new dn({})}static local(){const[e,t]=un(arguments),[r,n,i,s,a,o,u]=t;return an({year:r,month:n,day:i,hour:s,minute:a,second:o,millisecond:u},e)}static utc(){const[e,t]=un(arguments),[r,n,i,s,a,o,u]=t;return e.zone=re.utcInstance,an({year:r,month:n,day:i,hour:s,minute:a,second:o,millisecond:u},e)}static fromJSDate(e,t={}){const r=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(r))return dn.invalid("invalid input");const i=ie(t.zone,be.defaultZone);return i.isValid?new dn({ts:r,zone:i,loc:ee.fromObject(t)}):dn.invalid($r(i))}static fromMillis(e,t={}){if(Pe(e))return e<-Lr||e>Lr?dn.invalid("Timestamp out of range"):new dn({ts:e,zone:ie(t.zone,be.defaultZone),loc:ee.fromObject(t)});throw new u(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Pe(e))return new dn({ts:1e3*e,zone:ie(t.zone,be.defaultZone),loc:ee.fromObject(t)});throw new u("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=ie(t.zone,be.defaultZone);if(!r.isValid)return dn.invalid($r(r));const n=ee.fromObject(t),i=it(e,sn),{minDaysInFirstWeek:s,startOfWeek:o}=xe(i,n),u=be.now(),c=je(t.specificOffset)?r.offset(u):t.specificOffset,l=!je(i.ordinal),d=!je(i.year),h=!je(i.month)||!je(i.day),f=d||h,p=i.weekYear||i.weekNumber;if((f||l)&&p)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&l)throw new a("Can't mix ordinal dates with month/day");const m=p||i.weekday&&!f;let y,g,b=qr(u,c);m?(y=rn,g=Xr,b=Ie(b,s,o)):l?(y=nn,g=en,b=Ce(b)):(y=tn,g=Kr);let v=!1;for(const e of y)je(i[e])?i[e]=v?g[e]:b[e]:v=!0;const w=m?function(e,t=4,r=1){const n=Ue(e.weekYear),i=We(e.weekNumber,1,Xe(e.weekYear,t,r)),s=We(e.weekday,1,7);return n?i?!s&&_e("weekday",e.weekday):_e("week",e.weekNumber):_e("weekYear",e.weekYear)}(i,s,o):l?function(e){const t=Ue(e.year),r=We(e.ordinal,1,Be(e.year));return t?!r&&_e("ordinal",e.ordinal):_e("year",e.year)}(i):Ne(i),k=w||Me(i);if(k)return dn.invalid(k);const _=m?Ae(i,s,o):l?De(i):i,[T,S]=Hr(_,c,r),O=new dn({ts:T,zone:r,o:S,loc:n});return i.weekday&&f&&e.weekday!==O.weekday?dn.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${O.toISO()}`):O.isValid?O:dn.invalid(O.invalid)}static fromISO(e,t={}){const[r,n]=function(e){return Et(e,[Kt,rr],[Xt,nr],[er,ir],[tr,sr])}(e);return Jr(r,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,n]=function(e){return Et(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[qt,Ht])}(e);return Jr(r,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,n]=function(e){return Et(e,[Zt,Gt],[Jt,Gt],[Bt,Qt])}(e);return Jr(r,n,t,"HTTP",t)}static fromFormat(e,t,r={}){if(je(e)||je(t))throw new u("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:i=null}=r,s=ee.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),[a,o,c,l]=function(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:a}=Ur(e,t,r);return[n,i,s,a]}(s,e,t);return l?dn.invalid(l):Jr(a,o,r,`format ${t}`,e,c)}static fromString(e,t,r={}){return dn.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,n]=function(e){return Et(e,[or,rr],[ur,cr])}(e);return Jr(r,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new u("need to specify a reason the DateTime is invalid");const r=e instanceof ve?e:new ve(e,t);if(be.throwOnInvalid)throw new n(r);return new dn({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=Vr(e,ee.fromObject(t));return r?r.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return jr(_t.parseFormat(e),ee.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){cn=void 0,ln={}}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rr(this).weekYear:NaN}get weekNumber(){return this.isValid?Rr(this).weekNumber:NaN}get weekday(){return this.isValid?Rr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Wr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Wr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Wr(this).weekYear:NaN}get ordinal(){return this.isValid?Ce(this.c).ordinal:NaN}get monthShort(){return this.isValid?_r.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?_r.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?_r.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?_r.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=Qe(this.c),n=this.zone.offset(r-e),i=this.zone.offset(r+e),s=this.zone.offset(r-n*t),a=this.zone.offset(r-i*t);if(s===a)return[this];const o=r-s*t,u=r-a*t,c=qr(o,s),l=qr(u,a);return c.hour===l.hour&&c.minute===l.minute&&c.second===l.second&&c.millisecond===l.millisecond?[zr(this,{ts:o}),zr(this,{ts:u})]:[this]}get isInLeapYear(){return Je(this.year)}get daysInMonth(){return Ge(this.year,this.month)}get daysInYear(){return this.isValid?Be(this.year):NaN}get weeksInWeekYear(){return this.isValid?Xe(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Xe(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:n}=_t.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(re.instance(e),t)}toLocal(){return this.setZone(be.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if((e=ie(e,be.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||r){const t=e.offset(this.ts),r=this.toObject();[n]=Hr(r,t,e)}return zr(this,{ts:n,zone:e})}return dn.invalid($r(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){return zr(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=it(e,sn),{minDaysInFirstWeek:r,startOfWeek:n}=xe(t,this.loc),i=!je(t.weekYear)||!je(t.weekNumber)||!je(t.weekday),s=!je(t.ordinal),o=!je(t.year),u=!je(t.month)||!je(t.day),c=o||u,l=t.weekYear||t.weekNumber;if((c||s)&&l)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&s)throw new a("Can't mix ordinal dates with month/day");let d;i?d=Ae({...Ie(this.c,r,n),...t},r,n):je(t.ordinal)?(d={...this.toObject(),...t},je(t.day)&&(d.day=Math.min(Ge(d.year,d.month),d.day))):d=De({...Ce(this.c),...t});const[h,f]=Hr(d,this.o,this.zone);return zr(this,{ts:h,o:f})}plus(e){return this.isValid?zr(this,Zr(this,vr.fromDurationLike(e))):this}minus(e){return this.isValid?zr(this,Zr(this,vr.fromDurationLike(e).negate())):this}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},n=vr.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===n)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(r.weekNumber=this.weekNumber-1),r.weekday=e}else r.weekday=1;if("quarters"===n){const e=Math.ceil(this.month/3);r.month=3*(e-1)+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?_t.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Fr}toLocaleString(e=f,t={}){return this.isValid?_t.create(this.loc.clone(t),e).formatDateTime(this):Fr}toLocaleParts(e={}){return this.isValid?_t.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const s="extended"===e;let a=Gr(this,s);return a+="T",a+=Qr(this,s,t,r,n,i),a}toISODate({format:e="extended"}={}){return this.isValid?Gr(this,"extended"===e):null}toISOWeekDate(){return Br(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:i=!1,format:s="extended"}={}){return this.isValid?(n?"T":"")+Qr(this,"extended"===s,t,e,r,i):null}toRFC2822(){return Br(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Br(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Gr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(r&&(n+=" "),t?n+="z":e&&(n+="ZZ")),Br(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Fr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return vr.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=(o=t,Array.isArray(o)?o:[o]).map(vr.normalizeUnit),s=e.valueOf()>this.valueOf(),a=function(e,t,r,n){let[i,s,a,o]=function(e,t,r){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const r=Tr(e,t);return(r-r%7)/7}],["days",Tr]],i={},s=e;let a,o;for(const[u,c]of n)r.indexOf(u)>=0&&(a=u,i[u]=c(e,t),o=s.plus(i),o>t?(i[u]--,(e=s.plus(i))>t&&(o=e,i[u]--,e=s.plus(i))):e=o);return[e,i,o,a]}(e,t,r);const u=t-i,c=r.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(a<t&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+u/(a-i)));const l=vr.fromObject(s,n);return c.length>0?vr.fromMillis(u,n).shiftTo(...c).plus(l):l}(s?this:e,s?e:this,i,n);var o;return s?a.negate():a}diffNow(e="milliseconds",t={}){return this.diff(dn.now(),e,t)}until(e){return this.isValid?kr.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,r)<=n&&n<=i.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||dn.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(n=e.unit,i=void 0),on(t,this.plus(r),{...e,numeric:"always",units:n,unit:i})}toRelativeCalendar(e={}){return this.isValid?on(e.base||dn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(dn.isDateTime))throw new u("min requires all arguments be DateTimes");return Le(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(dn.isDateTime))throw new u("max requires all arguments be DateTimes");return Le(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:n=null,numberingSystem:i=null}=r;return Ur(ee.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,r={}){return dn.fromFormatExplain(e,t,r)}static buildFormatParser(e,t={}){const{locale:r=null,numberingSystem:n=null}=t,i=ee.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new Pr(i,e)}static fromFormatParser(e,t,r={}){if(je(e)||je(t))throw new u("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:i=null}=r,s=ee.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});if(!s.equals(t.locale))throw new u(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${t.locale}`);const{result:a,zone:o,specificOffset:c,invalidReason:l}=t.explainFromTokens(e);return l?dn.invalid(l):Jr(a,o,r,`format ${t.format}`,e,c)}static get DATE_SHORT(){return f}static get DATE_MED(){return p}static get DATE_MED_WITH_WEEKDAY(){return m}static get DATE_FULL(){return y}static get DATE_HUGE(){return g}static get TIME_SIMPLE(){return b}static get TIME_WITH_SECONDS(){return v}static get TIME_WITH_SHORT_OFFSET(){return w}static get TIME_WITH_LONG_OFFSET(){return k}static get TIME_24_SIMPLE(){return _}static get TIME_24_WITH_SECONDS(){return T}static get TIME_24_WITH_SHORT_OFFSET(){return S}static get TIME_24_WITH_LONG_OFFSET(){return O}static get DATETIME_SHORT(){return E}static get DATETIME_SHORT_WITH_SECONDS(){return I}static get DATETIME_MED(){return A}static get DATETIME_MED_WITH_SECONDS(){return C}static get DATETIME_MED_WITH_WEEKDAY(){return D}static get DATETIME_FULL(){return x}static get DATETIME_FULL_WITH_SECONDS(){return N}static get DATETIME_HUGE(){return M}static get DATETIME_HUGE_WITH_SECONDS(){return j}}function hn(e){if(dn.isDateTime(e))return e;if(e&&e.valueOf&&Pe(e.valueOf()))return dn.fromJSDate(e);if(e&&"object"==typeof e)return dn.fromObject(e);throw new u(`Unknown datetime argument: ${e}, of type ${typeof e}`)}t.DateTime=dn,t.Duration=vr,t.FixedOffsetZone=re,t.IANAZone=R,t.Info=_r,t.Interval=kr,t.InvalidZone=ne,t.Settings=be,t.SystemZone=V,t.VERSION="3.5.0",t.Zone=P},1211(e,t,r){"use strict";r.r(t),r.d(t,{ALL_WEEKDAYS:()=>n,Frequency:()=>q,RRule:()=>Le,RRuleSet:()=>qe,Weekday:()=>i,datetime:()=>g,rrulestr:()=>Re});var n=["MO","TU","WE","TH","FR","SA","SU"],i=function(){function e(e,t){if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return e.fromStr=function(t){return new e(n.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},e.prototype.toString=function(){var e=n[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},e.prototype.getJsWeekday=function(){return 6===this.weekday?0:this.weekday+1},e}(),s=function(e){return null!=e},a=function(e){return"number"==typeof e},o=function(e){return"string"==typeof e&&n.includes(e)},u=Array.isArray,c=function(e,t){void 0===t&&(t=e),1===arguments.length&&(t=e,e=0);for(var r=[],n=e;n<t;n++)r.push(n);return r},l=function(e,t){var r=0,n=[];if(u(e))for(;r<t;r++)n[r]=[].concat(e);else for(;r<t;r++)n[r]=e;return n};function d(e,t,r){void 0===r&&(r=" ");var n=String(e);return t|=0,n.length>t?String(n):((t-=n.length)>r.length&&(r+=l(r,t/r.length)),r.slice(0,t)+String(n))}var h=function(e,t){var r=e%t;return r*t<0?r+t:r},f=function(e,t){return{div:Math.floor(e/t),mod:h(e,t)}},p=function(e){return!s(e)||0===e.length},m=function(e){return!p(e)},y=function(e,t){return m(e)&&-1!==e.indexOf(t)},g=function(e,t,r,n,i,s){return void 0===n&&(n=0),void 0===i&&(i=0),void 0===s&&(s=0),new Date(Date.UTC(e,t-1,r,n,i,s))},b=[31,28,31,30,31,30,31,31,30,31,30,31],v=864e5,w=g(1970,1,1),k=[6,0,1,2,3,4,5],_=function(e){return e%4==0&&e%100!=0||e%400==0},T=function(e){return e instanceof Date},S=function(e){return T(e)&&!isNaN(e.getTime())},O=function(e){return t=w,r=e.getTime()-t.getTime(),Math.round(r/v);var t,r},E=function(e){return new Date(w.getTime()+e*v)},I=function(e){var t=e.getUTCMonth();return 1===t&&_(e.getUTCFullYear())?29:b[t]},A=function(e){return k[e.getUTCDay()]},C=function(e,t){var r=g(e,t+1,1);return[A(r),I(r)]},D=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},x=function(e){return new Date(e.getTime())},N=function(e){for(var t=[],r=0;r<e.length;r++)t.push(x(e[r]));return t},M=function(e){e.sort((function(e,t){return e.getTime()-t.getTime()}))},j=function(e,t){void 0===t&&(t=!0);var r=new Date(e);return[d(r.getUTCFullYear().toString(),4,"0"),d(r.getUTCMonth()+1,2,"0"),d(r.getUTCDate(),2,"0"),"T",d(r.getUTCHours(),2,"0"),d(r.getUTCMinutes(),2,"0"),d(r.getUTCSeconds(),2,"0"),t?"Z":""].join("")},P=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[5],10)||0,parseInt(t[6],10)||0,parseInt(t[7],10)||0))},U=function(e,t){return e.toLocaleString("sv-SE",{timeZone:t}).replace(" ","T")+"Z"};const V=function(){function e(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,"between"===e?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):"before"===e?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):"after"===e&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return e.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,r=this.maxDate&&e>this.maxDate;if("between"===this.method){if(t)return!0;if(r)return!1}else if("before"===this.method){if(r)return!1}else if("after"===this.method)return!!t||(this.add(e),!1);return this.add(e)},e.prototype.add=function(e){return this._result.push(e),!0},e.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;default:return e.length?e[e.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}();var F=r(1635);const L=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.iterator=n,i}return(0,F.__extends)(t,e),t.prototype.add=function(e){return!!this.iterator(e,this._result.length)&&(this._result.push(e),!0)},t}(V),$={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}};var R=function(e,t){return-1!==e.indexOf(t)},W=function(e){return e.toString()},z=function(e,t,r){return"".concat(t," ").concat(r,", ").concat(e)};const Y=function(){function e(e,t,r,n){if(void 0===t&&(t=W),void 0===r&&(r=$),void 0===n&&(n=z),this.text=[],this.language=r||$,this.gettext=t,this.dateFormatter=n,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var i=[].concat(this.options.bymonthday),a=[].concat(this.options.bynmonthday);i.sort((function(e,t){return e-t})),a.sort((function(e,t){return t-e})),this.bymonthday=i.concat(a),this.bymonthday.length||(this.bymonthday=null)}if(s(this.origOptions.byweekday)){var o=u(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(o);this.byweekday={allWeeks:o.filter((function(e){return!e.n})),someWeeks:o.filter((function(e){return Boolean(e.n)})),isWeekdays:-1!==c.indexOf("MO")&&-1!==c.indexOf("TU")&&-1!==c.indexOf("WE")&&-1!==c.indexOf("TH")&&-1!==c.indexOf("FR")&&-1===c.indexOf("SA")&&-1===c.indexOf("SU"),isEveryDay:-1!==c.indexOf("MO")&&-1!==c.indexOf("TU")&&-1!==c.indexOf("WE")&&-1!==c.indexOf("TH")&&-1!==c.indexOf("FR")&&-1!==c.indexOf("SA")&&-1!==c.indexOf("SU")};var l=function(e,t){return e.weekday-t.weekday};this.byweekday.allWeeks.sort(l),this.byweekday.someWeeks.sort(l),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){if(!(t.options.freq in e.IMPLEMENTED))return!1;if(t.origOptions.until&&t.origOptions.count)return!1;for(var r in t.origOptions){if(R(["dtstart","tzid","wkst","freq"],r))return!0;if(!R(e.IMPLEMENTED[t.options.freq],r))return!1}return!0},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[Le.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},e.prototype.MINUTELY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},e.prototype.DAILY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?1===this.options.interval?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(1===this.options.interval&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},e.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},e.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},e.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},e.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(e){var t;e=parseInt(e.toString(),10);var r=this.gettext;if(-1===e)return r("last");var n=Math.abs(e);switch(n){case 1:case 21:case 31:t=n+r("st");break;case 2:case 22:t=n+r("nd");break;case 3:case 23:t=n+r("rd");break;default:t=n+r("th")}return e<0?t+" "+r("last"):t},e.prototype.monthtext=function(e){return this.language.monthNames[e-1]},e.prototype.weekdaytext=function(e){var t=a(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},e.prototype.plural=function(e){return e%100!=1},e.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},e.prototype.list=function(e,t,r,n){var i=this;void 0===n&&(n=","),u(e)||(e=[e]),t=t||function(e){return e.toString()};var s=function(e){return t&&t.call(i,e)};return r?function(e,t,r){for(var n="",i=0;i<e.length;i++)0!==i&&(i===e.length-1?n+=" "+r+" ":n+=t+" "),n+=e[i];return n}(e.map(s),n,r):e.map(s).join(n+" ")},e}();var q,H=function(){function e(e){this.done=!0,this.rules=e}return e.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&null===this.symbol},e.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var r in e=null,this.rules){var n=this.rules[r].exec(this.text);n&&(null===e||n[0].length>e[0].length)&&(e=n,t=r)}if(null!=e&&(this.text=this.text.substr(e[0].length),""===this.text&&(this.done=!0)),null==e)return this.done=!0,this.symbol=null,void(this.value=null)}while("SKIP"===t);return this.symbol=t,this.value=e,!0},e.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},e}();function Z(e,t){void 0===t&&(t=$);var r={},n=new H(t.tokens);return n.start(e)?(function(){n.expect("every");var e=n.acceptNumber();if(e&&(r.interval=parseInt(e[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=Le.DAILY,n.nextSymbol()&&(s(),c());break;case"weekday(s)":r.freq=Le.WEEKLY,r.byweekday=[Le.MO,Le.TU,Le.WE,Le.TH,Le.FR],n.nextSymbol(),s(),c();break;case"week(s)":r.freq=Le.WEEKLY,n.nextSymbol()&&(i(),s(),c());break;case"hour(s)":r.freq=Le.HOURLY,n.nextSymbol()&&(i(),c());break;case"minute(s)":r.freq=Le.MINUTELY,n.nextSymbol()&&(i(),c());break;case"month(s)":r.freq=Le.MONTHLY,n.nextSymbol()&&(i(),c());break;case"year(s)":r.freq=Le.YEARLY,n.nextSymbol()&&(i(),c());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=Le.WEEKLY;var t=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[Le[t]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var l=o();if(!l)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(Le[l]),n.nextSymbol()}s(),function(){n.accept("on"),n.accept("the");var e=u();if(e)for(r.bymonthday=[e],n.nextSymbol();n.accept("comma");){if(!(e=u()))throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(e),n.nextSymbol()}}(),c();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=Le.YEARLY,r.bymonth=[a()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var d=a();if(!d)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(d),n.nextSymbol()}i(),c();break;default:throw new Error("Unknown symbol")}}(),r):null;function i(){var e=n.accept("on"),t=n.accept("the");if(e||t)do{var i=u(),s=o(),c=a();if(i)s?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(Le[s].nth(i))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(i),n.accept("day(s)"));else if(s)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(Le[s]);else if("weekday(s)"===n.symbol)n.nextSymbol(),r.byweekday||(r.byweekday=[Le.MO,Le.TU,Le.WE,Le.TH,Le.FR]);else if("week(s)"===n.symbol){n.nextSymbol();var l=n.acceptNumber();if(!l)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(l[0],10)];n.accept("comma");){if(!(l=n.acceptNumber()))throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(l[0],10))}}else{if(!c)return;n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(c)}}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function s(){if(n.accept("at"))do{var e=n.acceptNumber();if(!e)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(e[0],10)];n.accept("comma");){if(!(e=n.acceptNumber()))throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(e[0],10))}}while(n.accept("comma")||n.accept("at"))}function a(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function o(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var e=parseInt(n.value[1],10);if(e<-366||e>366)throw new Error("Nth out of range: "+e);return n.nextSymbol(),n.accept("last")?-e:e;default:return!1}}function c(){if("until"===n.symbol){var e=Date.parse(n.text);if(!e)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(e)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}function J(e){return e<q.HOURLY}!function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"}(q||(q={}));var B=function(e,t){return void 0===t&&(t=$),new Le(Z(e,t)||void 0)},G=["count","until","interval","byweekday","bymonthday","bymonth"];Y.IMPLEMENTED=[],Y.IMPLEMENTED[q.HOURLY]=G,Y.IMPLEMENTED[q.MINUTELY]=G,Y.IMPLEMENTED[q.DAILY]=["byhour"].concat(G),Y.IMPLEMENTED[q.WEEKLY]=G,Y.IMPLEMENTED[q.MONTHLY]=G,Y.IMPLEMENTED[q.YEARLY]=["byweekno","byyearday"].concat(G);var Q=Y.isFullyConvertible,K=function(){function e(e,t,r,n){this.hour=e,this.minute=t,this.second=r,this.millisecond=n||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},e}(),X=function(e){function t(t,r,n,i,s,a,o){var u=e.call(this,i,s,a,o)||this;return u.year=t,u.month=r,u.day=n,u}return(0,F.__extends)(t,e),t.fromDate=function(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)},t.prototype.getWeekday=function(){return A(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(e){this.year+=e},t.prototype.addMonths=function(e){if(this.month+=e,this.month>12){var t=Math.floor(this.month/12),r=h(this.month,12);this.month=r,this.year+=t,0===this.month&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(e,t){t>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-t))+7*e:this.day+=-(this.getWeekday()-t)+7*e,this.fixDay()},t.prototype.addDaily=function(e){this.day+=e,this.fixDay()},t.prototype.addHours=function(e,t,r){for(t&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;var n=f(this.hour,24),i=n.div,s=n.mod;if(i&&(this.hour=s,this.addDaily(i)),p(r)||y(r,this.hour))break}},t.prototype.addMinutes=function(e,t,r,n){for(t&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/e)*e);;){this.minute+=e;var i=f(this.minute,60),s=i.div,a=i.mod;if(s&&(this.minute=a,this.addHours(s,!1,r)),(p(r)||y(r,this.hour))&&(p(n)||y(n,this.minute)))break}},t.prototype.addSeconds=function(e,t,r,n,i){for(t&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/e)*e);;){this.second+=e;var s=f(this.second,60),a=s.div,o=s.mod;if(a&&(this.second=o,this.addMinutes(a,!1,r,n)),(p(r)||y(r,this.hour))&&(p(n)||y(n,this.minute))&&(p(i)||y(i,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var e=C(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,13===this.month&&(this.month=1,++this.year,this.year>9999))return;e=C(this.year,this.month-1)[1]}}},t.prototype.add=function(e,t){var r=e.freq,n=e.interval,i=e.wkst,s=e.byhour,a=e.byminute,o=e.bysecond;switch(r){case q.YEARLY:return this.addYears(n);case q.MONTHLY:return this.addMonths(n);case q.WEEKLY:return this.addWeekly(n,i);case q.DAILY:return this.addDaily(n);case q.HOURLY:return this.addHours(n,t,s);case q.MINUTELY:return this.addMinutes(n,t,s,a);case q.SECONDLY:return this.addSeconds(n,t,s,a,o)}},t}(K);function ee(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];y(Fe,i)||t.push(i),T(e[i])&&!S(e[i])&&t.push(i)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return(0,F.__assign)({},e)}function te(e){var t=(0,F.__assign)((0,F.__assign)({},Ve),ee(e));if(s(t.byeaster)&&(t.freq=Le.YEARLY),!s(t.freq)||!Le.FREQUENCIES[t.freq])throw new Error("Invalid frequency: ".concat(t.freq," ").concat(e.freq));if(t.dtstart||(t.dtstart=new Date((new Date).setMilliseconds(0))),s(t.wkst)?a(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=Le.MO.weekday,s(t.bysetpos)){a(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var r=0;r<t.bysetpos.length;r++)if(0===(l=t.bysetpos[r])||!(l>=-366&&l<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(Boolean(t.byweekno)||m(t.byweekno)||m(t.byyearday)||Boolean(t.bymonthday)||m(t.bymonthday)||s(t.byweekday)||s(t.byeaster)))switch(t.freq){case Le.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case Le.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case Le.WEEKLY:t.byweekday=[A(t.dtstart)]}if(s(t.bymonth)&&!u(t.bymonth)&&(t.bymonth=[t.bymonth]),s(t.byyearday)&&!u(t.byyearday)&&a(t.byyearday)&&(t.byyearday=[t.byyearday]),s(t.bymonthday))if(u(t.bymonthday)){var n=[],c=[];for(r=0;r<t.bymonthday.length;r++){var l;(l=t.bymonthday[r])>0?n.push(l):l<0&&c.push(l)}t.bymonthday=n,t.bynmonthday=c}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);else t.bymonthday=[],t.bynmonthday=[];if(s(t.byweekno)&&!u(t.byweekno)&&(t.byweekno=[t.byweekno]),s(t.byweekday))if(a(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(o(t.byweekday))t.byweekday=[i.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof i)!t.byweekday.n||t.freq>Le.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{var d=[],h=[];for(r=0;r<t.byweekday.length;r++){var f=t.byweekday[r];a(f)?d.push(f):o(f)?d.push(i.fromStr(f).weekday):!f.n||t.freq>Le.MONTHLY?d.push(f.weekday):h.push([f.weekday,f.n])}t.byweekday=m(d)?d:null,t.bynweekday=m(h)?h:null}else t.bynweekday=null;return s(t.byhour)?a(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<Le.HOURLY?[t.dtstart.getUTCHours()]:null,s(t.byminute)?a(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<Le.MINUTELY?[t.dtstart.getUTCMinutes()]:null,s(t.bysecond)?a(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<Le.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function re(e){var t=e.split("\n").map(ie).filter((function(e){return null!==e}));return(0,F.__assign)((0,F.__assign)({},t[0]),t[1])}function ne(e){var t={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!r)return t;var n=r[1],i=r[2];return n&&(t.tzid=n),t.dtstart=P(i),t}function ie(e){if(!(e=e.replace(/^\s+|\s+$/,"")).length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return se(e);var r=t[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return se(e);case"DTSTART":return ne(e);default:throw new Error("Unsupported RFC prop ".concat(r," in ").concat(e))}}function se(e){var t=ne(e.replace(/^RRULE:/i,""));return e.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach((function(r){var n=r.split("="),s=n[0],a=n[1];switch(s.toUpperCase()){case"FREQ":t.freq=q[a.toUpperCase()];break;case"WKST":t.wkst=Ue[a.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var o=function(e){return-1!==e.indexOf(",")?e.split(",").map(ae):ae(e)}(a),u=s.toLowerCase();t[u]=o;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=function(e){return e.split(",").map((function(e){if(2===e.length)return Ue[e];var t=e.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!t||t.length<3)throw new SyntaxError("Invalid weekday string: ".concat(e));var r=Number(t[1]),n=t[2],s=Ue[n].weekday;return new i(s,r)}))}(a);break;case"DTSTART":case"TZID":var c=ne(e);t.tzid=c.tzid,t.dtstart=c.dtstart;break;case"UNTIL":t.until=P(a);break;case"BYEASTER":t.byeaster=Number(a);break;default:throw new Error("Unknown RRULE property '"+s+"'")}})),t}function ae(e){return/^[+-]?\d+$/.test(e)?Number(e):e}var oe=function(){function e(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||"UTC"===this.tzid.toUpperCase()},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=j(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){return this.isUTC?this.date:(e=this.date,t=this.tzid,r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(U(e,r)),i=new Date(U(e,null!=t?t:"UTC")).getTime()-n.getTime(),new Date(e.getTime()-i));var e,t,r,n,i},e}();function ue(e){for(var t,r=[],n="",o=Object.keys(e),c=Object.keys(Ve),l=0;l<o.length;l++)if("tzid"!==o[l]&&y(c,o[l])){var d=o[l].toUpperCase(),h=e[o[l]],f="";if(s(h)&&(!u(h)||h.length)){switch(d){case"FREQ":f=Le.FREQUENCIES[e.freq];break;case"WKST":f=a(h)?new i(h).toString():h.toString();break;case"BYWEEKDAY":d="BYDAY",f=(t=h,u(t)?t:[t]).map((function(e){return e instanceof i?e:u(e)?new i(e[0],e[1]):new i(e)})).toString();break;case"DTSTART":n=ce(h,e.tzid);break;case"UNTIL":f=j(h,!e.tzid);break;default:if(u(h)){for(var p=[],m=0;m<h.length;m++)p[m]=String(h[m]);f=p.toString()}else f=String(h)}f&&r.push([d,f])}}var g=r.map((function(e){var t=e[0],r=e[1];return"".concat(t,"=").concat(r.toString())})).join(";"),b="";return""!==g&&(b="RRULE:".concat(g)),[n,b].filter((function(e){return!!e})).join("\n")}function ce(e,t){return e?"DTSTART"+new oe(new Date(e),t).toString():""}function le(e,t){return Array.isArray(e)?!!Array.isArray(t)&&e.length===t.length&&e.every((function(e,r){return e.getTime()===t[r].getTime()})):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var de=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(e,t,r){t&&(t=t instanceof Date?x(t):N(t)),"all"===e?this.all=t:(r._value=t,this[e].push(r))},e.prototype._cacheGet=function(e,t){var r=!1,n=t?Object.keys(t):[],i=function(e){for(var r=0;r<n.length;r++){var i=n[r];if(!le(t[i],e[i]))return!0}return!1},s=this[e];if("all"===e)r=this.all;else if(u(s))for(var a=0;a<s.length;a++){var o=s[a];if(!n.length||!i(o)){r=o._value;break}}if(!r&&this.all){var c=new V(e,t);for(a=0;a<this.all.length&&c.accept(this.all[a]);a++);r=c.getValue(),this._cacheAdd(e,r,t)}return u(r)?N(r):r instanceof Date?x(r):r},e}(),he=(0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)([],l(1,31),!0),l(2,28),!0),l(3,31),!0),l(4,30),!0),l(5,31),!0),l(6,30),!0),l(7,31),!0),l(8,31),!0),l(9,30),!0),l(10,31),!0),l(11,30),!0),l(12,31),!0),l(1,7),!0),fe=(0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)([],l(1,31),!0),l(2,29),!0),l(3,31),!0),l(4,30),!0),l(5,31),!0),l(6,30),!0),l(7,31),!0),l(8,31),!0),l(9,30),!0),l(10,31),!0),l(11,30),!0),l(12,31),!0),l(1,7),!0),pe=c(1,29),me=c(1,30),ye=c(1,31),ge=c(1,32),be=(0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)([],ge,!0),me,!0),ge,!0),ye,!0),ge,!0),ye,!0),ge,!0),ge,!0),ye,!0),ge,!0),ye,!0),ge,!0),ge.slice(0,7),!0),ve=(0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)([],ge,!0),pe,!0),ge,!0),ye,!0),ge,!0),ye,!0),ge,!0),ge,!0),ye,!0),ge,!0),ye,!0),ge,!0),ge.slice(0,7),!0),we=c(-28,0),ke=c(-29,0),_e=c(-30,0),Te=c(-31,0),Se=(0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)([],Te,!0),ke,!0),Te,!0),_e,!0),Te,!0),_e,!0),Te,!0),Te,!0),_e,!0),Te,!0),_e,!0),Te,!0),Te.slice(0,7),!0),Oe=(0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)((0,F.__spreadArray)([],Te,!0),we,!0),Te,!0),_e,!0),Te,!0),_e,!0),Te,!0),Te,!0),_e,!0),Te,!0),_e,!0),Te,!0),Te.slice(0,7),!0),Ee=[0,31,60,91,121,152,182,213,244,274,305,335,366],Ie=[0,31,59,90,120,151,181,212,243,273,304,334,365],Ae=function(){for(var e=[],t=0;t<55;t++)e=e.concat(c(7));return e}();const Ce=function(){function e(e){this.options=e}return e.prototype.rebuild=function(e,t){var r=this.options;if(e!==this.lastyear&&(this.yearinfo=function(e,t){var r,n,i=g(e,1,1),s=_(e)?366:365,a=_(e+1)?366:365,o=O(i),u=A(i),c=(0,F.__assign)((0,F.__assign)({yearlen:s,nextyearlen:a,yearordinal:o,yearweekday:u},function(e){var t=_(e)?366:365,r=g(e,1,1),n=A(r);return 365===t?{mmask:he,mdaymask:ve,nmdaymask:Oe,wdaymask:Ae.slice(n),mrange:Ie}:{mmask:fe,mdaymask:be,nmdaymask:Se,wdaymask:Ae.slice(n),mrange:Ee}}(e)),{wnomask:null});if(p(t.byweekno))return c;c.wnomask=l(0,s+7);var d=r=h(7-u+t.wkst,7);d>=4?(d=0,n=c.yearlen+h(u-t.wkst,7)):n=s-d;for(var f=Math.floor(n/7),m=h(n,7),b=Math.floor(f+m/4),v=0;v<t.byweekno.length;v++){var w=t.byweekno[v];if(w<0&&(w+=b+1),w>0&&w<=b){var k=void 0;w>1?(k=d+7*(w-1),d!==r&&(k-=7-r)):k=d;for(var T=0;T<7&&(c.wnomask[k]=1,k++,c.wdaymask[k]!==t.wkst);T++);}}if(y(t.byweekno,1)&&(k=d+7*b,d!==r&&(k-=7-r),k<s))for(v=0;v<7&&(c.wnomask[k]=1,k+=1,c.wdaymask[k]!==t.wkst);v++);if(d){var S=void 0;if(y(t.byweekno,-1))S=-1;else{var E=A(g(e-1,1,1)),I=h(7-E.valueOf()+t.wkst,7),C=_(e-1)?366:365,D=void 0;I>=4?(I=0,D=C+h(E-t.wkst,7)):D=s-d,S=Math.floor(52+h(D,7)/4)}if(y(t.byweekno,S))for(k=0;k<d;k++)c.wnomask[k]=1}return c}(e,r)),m(r.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var n=this.yearinfo,i=n.yearlen,a=n.mrange,o=n.wdaymask;this.monthinfo=function(e,t,r,n,i,s){var a={lastyear:e,lastmonth:t,nwdaymask:[]},o=[];if(s.freq===Le.YEARLY)if(p(s.bymonth))o=[[0,r]];else for(var u=0;u<s.bymonth.length;u++)t=s.bymonth[u],o.push(n.slice(t-1,t+1));else s.freq===Le.MONTHLY&&(o=[n.slice(t-1,t+1)]);if(p(o))return a;for(a.nwdaymask=l(0,r),u=0;u<o.length;u++)for(var c=o[u],d=c[0],f=c[1]-1,m=0;m<s.bynweekday.length;m++){var y=void 0,g=s.bynweekday[m],b=g[0],v=g[1];v<0?(y=f+7*(v+1),y-=h(i[y]-b,7)):(y=d+7*(v-1),y+=h(7-i[y]+b,7)),d<=y&&y<=f&&(a.nwdaymask[y]=1)}return a}(e,t,i,a,o,r)}s(r.byeaster)&&(this.eastermask=function(e,t){void 0===t&&(t=0);var r=e%19,n=Math.floor(e/100),i=e%100,s=Math.floor(n/4),a=n%4,o=Math.floor((n+8)/25),u=Math.floor((n-o+1)/3),c=Math.floor(19*r+n-s-u+15)%30,l=Math.floor(i/4),d=i%4,h=Math.floor(32+2*a+2*l-c-d)%7,f=Math.floor((r+11*c+22*h)/451),p=Math.floor((c+h-7*f+114)/31),m=(c+h-7*f+114)%31+1,y=Date.UTC(e,p-1,m+t),g=Date.UTC(e,0,1);return[Math.ceil((y-g)/864e5)]}(e,r.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),e.prototype.ydayset=function(){return[c(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(e,t){for(var r=this.mrange[t-1],n=this.mrange[t],i=l(null,this.yearlen),s=r;s<n;s++)i[s]=s;return[i,r,n]},e.prototype.wdayset=function(e,t,r){for(var n=l(null,this.yearlen+7),i=O(g(e,t,r))-this.yearordinal,s=i,a=0;a<7&&(n[i]=i,++i,this.wdaymask[i]!==this.options.wkst);a++);return[n,s,i]},e.prototype.ddayset=function(e,t,r){var n=l(null,this.yearlen),i=O(g(e,t,r))-this.yearordinal;return n[i]=i,[n,i,i+1]},e.prototype.htimeset=function(e,t,r,n){var i=this,s=[];return this.options.byminute.forEach((function(t){s=s.concat(i.mtimeset(e,t,r,n))})),M(s),s},e.prototype.mtimeset=function(e,t,r,n){var i=this.options.bysecond.map((function(r){return new K(e,t,r,n)}));return M(i),i},e.prototype.stimeset=function(e,t,r,n){return[new K(e,t,r,n)]},e.prototype.getdayset=function(e){switch(e){case q.YEARLY:return this.ydayset.bind(this);case q.MONTHLY:return this.mdayset.bind(this);case q.WEEKLY:return this.wdayset.bind(this);case q.DAILY:default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(e){switch(e){case q.HOURLY:return this.htimeset.bind(this);case q.MINUTELY:return this.mtimeset.bind(this);case q.SECONDLY:return this.stimeset.bind(this)}},e}();function De(e,t,r,n,i,a){for(var o=[],u=0;u<e.length;u++){var c=void 0,l=void 0,d=e[u];d<0?(c=Math.floor(d/t.length),l=h(d,t.length)):(c=Math.floor((d-1)/t.length),l=h(d-1,t.length));for(var f=[],p=r;p<n;p++){var m=a[p];s(m)&&f.push(m)}var g;g=c<0?f.slice(c)[0]:f[c];var b=t[l],v=E(i.yearordinal+g),w=D(v,b);y(o,w)||o.push(w)}return M(o),o}function xe(e,t){var r=t.dtstart,n=t.freq,i=t.interval,a=t.until,o=t.bysetpos,u=t.count;if(0===u||0===i)return je(e);var c=X.fromDate(r),l=new Ce(t);l.rebuild(c.year,c.month);for(var d=function(e,t,r){var n=r.freq,i=r.byhour,s=r.byminute,a=r.bysecond;return J(n)?function(e){var t=e.dtstart.getTime()%1e3;if(!J(e.freq))return[];var r=[];return e.byhour.forEach((function(n){e.byminute.forEach((function(i){e.bysecond.forEach((function(e){r.push(new K(n,i,e,t))}))}))})),r}(r):n>=Le.HOURLY&&m(i)&&!y(i,t.hour)||n>=Le.MINUTELY&&m(s)&&!y(s,t.minute)||n>=Le.SECONDLY&&m(a)&&!y(a,t.second)?[]:e.gettimeset(n)(t.hour,t.minute,t.second,t.millisecond)}(l,c,t);;){var h=l.getdayset(n)(c.year,c.month,c.day),f=h[0],p=h[1],g=h[2],b=Pe(f,p,g,l,t);if(m(o))for(var v=De(o,d,p,g,l,f),w=0;w<v.length;w++){var k=v[w];if(a&&k>a)return je(e);if(k>=r){var _=Me(k,t);if(!e.accept(_))return je(e);if(u&&! --u)return je(e)}}else for(w=p;w<g;w++){var T=f[w];if(s(T))for(var S=E(l.yearordinal+T),O=0;O<d.length;O++){var I=d[O];if(k=D(S,I),a&&k>a)return je(e);if(k>=r){if(_=Me(k,t),!e.accept(_))return je(e);if(u&&! --u)return je(e)}}}if(0===t.interval)return je(e);if(c.add(t,b),c.year>9999)return je(e);J(n)||(d=l.gettimeset(n)(c.hour,c.minute,c.second,0)),l.rebuild(c.year,c.month)}}function Ne(e,t,r){var n=r.bymonth,i=r.byweekno,s=r.byweekday,a=r.byeaster,o=r.bymonthday,u=r.bynmonthday,c=r.byyearday;return m(n)&&!y(n,e.mmask[t])||m(i)&&!e.wnomask[t]||m(s)&&!y(s,e.wdaymask[t])||m(e.nwdaymask)&&!e.nwdaymask[t]||null!==a&&!y(e.eastermask,t)||(m(o)||m(u))&&!y(o,e.mdaymask[t])&&!y(u,e.nmdaymask[t])||m(c)&&(t<e.yearlen&&!y(c,t+1)&&!y(c,-e.yearlen+t)||t>=e.yearlen&&!y(c,t+1-e.yearlen)&&!y(c,-e.nextyearlen+t-e.yearlen))}function Me(e,t){return new oe(e,t.tzid).rezonedDate()}function je(e){return e.getValue()}function Pe(e,t,r,n,i){for(var s=!1,a=t;a<r;a++){var o=e[a];(s=Ne(n,o,i))&&(e[o]=null)}return s}var Ue={MO:new i(0),TU:new i(1),WE:new i(2),TH:new i(3),FR:new i(4),SA:new i(5),SU:new i(6)},Ve={freq:q.YEARLY,dtstart:null,interval:1,wkst:Ue.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Fe=Object.keys(Ve),Le=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),this._cache=t?null:new de,this.origOptions=ee(e);var r=te(e).parsedOptions;this.options=r}return e.parseText=function(e,t){return Z(e,t)},e.fromText=function(e,t){return B(e,t)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(e){return xe(e,this.options)},e.prototype._cacheGet=function(e,t){return!!this._cache&&this._cache._cacheGet(e,t)},e.prototype._cacheAdd=function(e,t,r){if(this._cache)return this._cache._cacheAdd(e,t,r)},e.prototype.all=function(e){if(e)return this._iter(new L("all",{},e));var t=this._cacheGet("all");return!1===t&&(t=this._iter(new V("all",{})),this._cacheAdd("all",t)),t},e.prototype.between=function(e,t,r,n){if(void 0===r&&(r=!1),!S(e)||!S(t))throw new Error("Invalid date passed in to RRule.between");var i={before:t,after:e,inc:r};if(n)return this._iter(new L("between",i,n));var s=this._cacheGet("between",i);return!1===s&&(s=this._iter(new V("between",i)),this._cacheAdd("between",s,i)),s},e.prototype.before=function(e,t){if(void 0===t&&(t=!1),!S(e))throw new Error("Invalid date passed in to RRule.before");var r={dt:e,inc:t},n=this._cacheGet("before",r);return!1===n&&(n=this._iter(new V("before",r)),this._cacheAdd("before",n,r)),n},e.prototype.after=function(e,t){if(void 0===t&&(t=!1),!S(e))throw new Error("Invalid date passed in to RRule.after");var r={dt:e,inc:t},n=this._cacheGet("after",r);return!1===n&&(n=this._iter(new V("after",r)),this._cacheAdd("after",n,r)),n},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return ue(this.origOptions)},e.prototype.toText=function(e,t,r){return function(e,t,r,n){return new Y(e,t,r,n).toString()}(this,e,t,r)},e.prototype.isFullyConvertibleToText=function(){return Q(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=q.YEARLY,e.MONTHLY=q.MONTHLY,e.WEEKLY=q.WEEKLY,e.DAILY=q.DAILY,e.HOURLY=q.HOURLY,e.MINUTELY=q.MINUTELY,e.SECONDLY=q.SECONDLY,e.MO=Ue.MO,e.TU=Ue.TU,e.WE=Ue.WE,e.TH=Ue.TH,e.FR=Ue.FR,e.SA=Ue.SA,e.SU=Ue.SU,e.parseString=re,e.optionsToString=ue,e}(),$e={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function Re(e,t){return void 0===t&&(t={}),function(e,t){var r=function(e,t){var r=[],n=[],i=[],s=[],a=ne(e),o=a.dtstart,u=a.tzid,c=function(e,t){if(void 0===t&&(t=!1),!(e=e&&e.trim()))throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var r=e.split("\n"),n=0;n<r.length;){var i=r[n]=r[n].replace(/\s+$/g,"");i?n>0&&" "===i[0]?(r[n-1]+=i.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}(e,t.unfold);return c.forEach((function(e){var t;if(e){var a=function(e){var t=function(e){if(-1===e.indexOf(":"))return{name:"RRULE",value:e};var t,r=(t=e.split(":")).slice(0,1).concat([t.slice(1).join(":")]);return{name:r[0],value:r[1]}}(e),r=t.name,n=t.value,i=r.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}(e),o=a.name,c=a.parms,l=a.value;switch(o.toUpperCase()){case"RRULE":if(c.length)throw new Error("unsupported RRULE parm: ".concat(c.join(",")));r.push(re(e));break;case"RDATE":var d=(null!==(t=/RDATE(?:;TZID=([^:=]+))?/i.exec(e))&&void 0!==t?t:[])[1];d&&!u&&(u=d),n=n.concat(ze(l,c));break;case"EXRULE":if(c.length)throw new Error("unsupported EXRULE parm: ".concat(c.join(",")));i.push(re(l));break;case"EXDATE":s=s.concat(ze(l,c));break;case"DTSTART":break;default:throw new Error("unsupported property: "+o)}}})),{dtstart:o,tzid:u,rrulevals:r,rdatevals:n,exrulevals:i,exdatevals:s}}(e,t),n=r.rrulevals,i=r.rdatevals,s=r.exrulevals,a=r.exdatevals,o=r.dtstart,u=r.tzid,c=!1===t.cache;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||n.length>1||i.length||s.length||a.length){var l=new qe(c);return l.dtstart(o),l.tzid(u||void 0),n.forEach((function(e){l.rrule(new Le(We(e,o,u),c))})),i.forEach((function(e){l.rdate(e)})),s.forEach((function(e){l.exrule(new Le(We(e,o,u),c))})),a.forEach((function(e){l.exdate(e)})),t.compatible&&t.dtstart&&l.rdate(o),l}var d=n[0]||{};return new Le(We(d,d.dtstart||t.dtstart||o,d.tzid||t.tzid||u),c)}(e,function(e){var t=[],r=Object.keys(e),n=Object.keys($e);if(r.forEach((function(e){y(n,e)||t.push(e)})),t.length)throw new Error("Invalid options: "+t.join(", "));return(0,F.__assign)((0,F.__assign)({},$e),e)}(t))}function We(e,t,r){return(0,F.__assign)((0,F.__assign)({},e),{dtstart:t,tzid:r})}function ze(e,t){return function(e){e.forEach((function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)}))}(t),e.split(",").map((function(e){return P(e)}))}function Ye(e){var t=this;return function(r){if(void 0!==r&&(t["_".concat(e)]=r),void 0!==t["_".concat(e)])return t["_".concat(e)];for(var n=0;n<t._rrule.length;n++){var i=t._rrule[n].origOptions[e];if(i)return i}}}var qe=function(e){function t(t){void 0===t&&(t=!1);var r=e.call(this,{},t)||this;return r.dtstart=Ye.apply(r,["dtstart"]),r.tzid=Ye.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return(0,F.__extends)(t,e),t.prototype._iter=function(e){return function(e,t,r,n,i,s){var a={},o=e.accept;function u(e,t){r.forEach((function(r){r.between(e,t,!0).forEach((function(e){a[Number(e)]=!0}))}))}i.forEach((function(e){var t=new oe(e,s).rezonedDate();a[Number(t)]=!0})),e.accept=function(e){var t=Number(e);return isNaN(t)?o.call(this,e):!(!a[t]&&(u(new Date(t-1),new Date(t+1)),!a[t]))||(a[t]=!0,o.call(this,e))},"between"===e.method&&(u(e.args.after,e.args.before),e.accept=function(e){var t=Number(e);return!!a[t]||(a[t]=!0,o.call(this,e))});for(var c=0;c<n.length;c++){var l=new oe(n[c],s).rezonedDate();if(!e.accept(new Date(l.getTime())))break}t.forEach((function(t){xe(e,t.options)}));var d=e._result;switch(M(d),e.method){case"all":case"between":return d;case"before":return d.length&&d[d.length-1]||null;default:return d.length&&d[0]||null}}(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(e){He(e,this._rrule)},t.prototype.exrule=function(e){He(e,this._exrule)},t.prototype.rdate=function(e){Ze(e,this._rdate)},t.prototype.exdate=function(e){Ze(e,this._exdate)},t.prototype.rrules=function(){return this._rrule.map((function(e){return Re(e.toString())}))},t.prototype.exrules=function(){return this._exrule.map((function(e){return Re(e.toString())}))},t.prototype.rdates=function(){return this._rdate.map((function(e){return new Date(e.getTime())}))},t.prototype.exdates=function(){return this._exdate.map((function(e){return new Date(e.getTime())}))},t.prototype.valueOf=function(){var e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(ue({dtstart:this._dtstart}))),this._rrule.forEach((function(t){e=e.concat(t.toString().split("\n"))})),this._exrule.forEach((function(t){e=e.concat(t.toString().split("\n").map((function(e){return e.replace(/^RRULE:/,"EXRULE:")})).filter((function(e){return!/^DTSTART/.test(e)})))})),this._rdate.length&&e.push(Je("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(Je("EXDATE",this._exdate,this.tzid())),e},t.prototype.toString=function(){return this.valueOf().join("\n")},t.prototype.clone=function(){var e=new t(!!this._cache);return this._rrule.forEach((function(t){return e.rrule(t.clone())})),this._exrule.forEach((function(t){return e.exrule(t.clone())})),this._rdate.forEach((function(t){return e.rdate(new Date(t.getTime()))})),this._exdate.forEach((function(t){return e.exdate(new Date(t.getTime()))})),e},t}(Le);function He(e,t){if(!(e instanceof Le))throw new TypeError(String(e)+" is not RRule instance");y(t.map(String),String(e))||t.push(e)}function Ze(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");y(t.map(Number),Number(e))||(t.push(e),M(t))}function Je(e,t,r){var n=!r||"UTC"===r.toUpperCase(),i=n?"".concat(e,":"):"".concat(e,";TZID=").concat(r,":"),s=t.map((function(e){return j(e.valueOf(),n)})).join(",");return"".concat(i).concat(s)}},1400(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,function(e){e.Ok="ok",e.Connecting="connecting",e.Disconnected="disconnected",e.ConnectionFailure="connection_failure",e.BadConfig="bad_config",e.UnknownError="unknown_error",e.UnknownWarning="unknown_warning",e.AuthenticationFailure="authentication_failure"}(r||(t.InstanceStatus=r={})),function(e){e.IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",e.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",e.BOOLEAN="/^(true|false|0|1)$/i",e.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",e.MAC_ADDRESS="/^(?:[a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/",e.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",e.FLOAT="/^([0-9]*\\.)?[0-9]+$/",e.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",e.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",e.NUMBER="/^\\d+$/",e.SIGNED_NUMBER="/^[+-]?\\d+$/",e.SOMETHING="/^.+$/",e.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"}(n||(t.Regex=n={}))},1635(e,t,r){"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>P,__assign:()=>s,__asyncDelegator:()=>O,__asyncGenerator:()=>S,__asyncValues:()=>E,__await:()=>T,__awaiter:()=>p,__classPrivateFieldGet:()=>N,__classPrivateFieldIn:()=>j,__classPrivateFieldSet:()=>M,__createBinding:()=>y,__decorate:()=>o,__disposeResources:()=>V,__esDecorate:()=>c,__exportStar:()=>g,__extends:()=>i,__generator:()=>m,__importDefault:()=>x,__importStar:()=>D,__makeTemplateObject:()=>I,__metadata:()=>f,__param:()=>u,__propKey:()=>d,__read:()=>v,__rest:()=>a,__rewriteRelativeImportExtension:()=>F,__runInitializers:()=>l,__setFunctionName:()=>h,__spread:()=>w,__spreadArray:()=>_,__spreadArrays:()=>k,__values:()=>b,default:()=>L});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function o(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,u=n.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),h=!1,f=r.length-1;f>=0;f--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var y=(0,r[f])("accessor"===u?{get:d.get,set:d.set}:d[c],p);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(o=a(y.get))&&(d.get=o),(o=a(y.set))&&(d.set=o),(o=a(y.init))&&i.unshift(o)}else(o=a(y))&&("field"===u?i.unshift(o):d[c]=o)}l&&Object.defineProperty(l,n.name,d),h=!0}function l(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}u((n=n.apply(e,t||[])).next())}))}function m(e,t){var r,n,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var y=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||y(t,e,r)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function k(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function _(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||o(e,t)}))},t&&(n[e]=t(n[e])))}function o(e,t){try{(r=i[e](t)).value instanceof T?Promise.resolve(r.value.v).then(u,c):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function u(e){o("next",e)}function c(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function O(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:T(e[n](t)),done:!1}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},C(e)};function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),n=0;n<r.length;n++)"default"!==r[n]&&y(t,e,r[n]);return A(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function N(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function M(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function j(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function P(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var U="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function V(e){function t(t){e.error=e.hasError?new U(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,(function(e){return t(e),i()}))}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function F(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,r,n,i,s){return r?t?".jsx":".js":!n||i&&s?n+i+"."+s.toLowerCase()+"js":e})):e}const L={__extends:i,__assign:s,__rest:a,__decorate:o,__param:u,__esDecorate:c,__runInitializers:l,__propKey:d,__setFunctionName:h,__metadata:f,__awaiter:p,__generator:m,__createBinding:y,__exportStar:g,__values:b,__read:v,__spread:w,__spreadArrays:k,__spreadArray:_,__await:T,__asyncGenerator:S,__asyncDelegator:O,__asyncValues:E,__makeTemplateObject:I,__importStar:D,__importDefault:x,__classPrivateFieldGet:N,__classPrivateFieldSet:M,__classPrivateFieldIn:j,__addDisposableResource:P,__disposeResources:V,__rewriteRelativeImportExtension:F}},1649(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=r(1635),i=r(360),s=n.__importDefault(r(3290)),a=r(2593),o=r(1706),u=r(8039),c=r(4044),l=r(4289),d=r(2365);t.InstanceBase=class{#u;#c;id;#l=new s.default({concurrency:1});#d=!1;#h=!1;#f={};#p={};#m;#y;#g=new Map;#b=new Map;#v=new Map;#w;#k;get instanceOptions(){return this.#w}get label(){return this.#k}constructor(e){if(!(0,a.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.createSharedUdpSocket=this.createSharedUdpSocket.bind(this),this.#w={disableVariableValidation:!1,disableNewConfigLayout:!1},this.#u=new c.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),upgradeActionsAndFeedbacks:this._handleUpgradeActionsAndFeedbacks.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:async()=>{},sharedUdpSocketMessage:this._handleSharedUdpSocketMessage.bind(this),sharedUdpSocketError:this._handleSharedUdpSocketError.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#u.receivedMessage(e)}));const t=async e=>e.text.includes("$(")?this.#u.sendWithCb("parseVariablesInString",e):{text:e.text,variableIds:void 0};this.#m=new l.ActionManager(t,(e=>this.#u.sendWithNoCb("setActionDefinitions",e)),(e=>this.#u.sendWithNoCb("setCustomVariable",e)),this.log.bind(this)),this.#y=new u.FeedbackManager(t,(e=>this.#u.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#u.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#c=e.upgradeScripts,this.id=e.id,this.#k=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#l.add((async()=>{if(this.#d)throw new Error("Already initialized");if(this.#f=e.config,this.#p=e.secrets,this.#k=e.label,process.title=e.label,e.isFirstInit){const t={},r={},n=this.getConfigFields();for(const e of n)"default"in e&&(e.type.startsWith("secret")?r[e.id]=e.default:t[e.id]=e.default);this.#f=t,this.#p=r,this.saveConfig(this.#f,this.#p),e.lastUpgradeIndex=this.#c.length-1}const{updatedConfig:t,updatedSecrets:r}=(0,o.runThroughUpgradeScripts)([],[],e.lastUpgradeIndex,this.#c,this.#f,this.#p,!1);this.#f=t??this.#f,this.#p=r??this.#p;try{await this.init(this.#f,!!e.isFirstInit,this.#p),this.#d=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}return{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#c.length-1,disableNewConfigLayout:this.#w.disableNewConfigLayout,updatedConfig:this.#f,updatedSecrets:this.#p}}))}async _handleDestroy(){await this.#l.add((async()=>{if(!this.#d)throw new Error("Not initialized");await this.destroy(),this.#d=!1}))}async _handleConfigUpdateAndLabel(e){await this.#l.add((async()=>{if(!this.#d)throw new Error("Not initialized");this.#k=e.label,process.title=e.label,this.#f=e.config,this.#p=e.secrets,await this.configUpdated(this.#f,this.#p)}))}async _handleExecuteAction(e){return this.#m.handleExecuteAction(e)}async _handleUpdateFeedbacks(e){this.#y.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e){this.#m.handleUpdateActions(e.actions)}async _handleUpgradeActionsAndFeedbacks(e){return(0,o.runThroughUpgradeScripts)(e.actions,e.feedbacks,null,this.#c,this.#f,this.#p,!0)}async _handleGetConfigFields(e){return{fields:(0,a.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#m.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#y.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#h)return}else if(!this.#h)return;if(!this.handleStartStopRecordActions)throw this.#h=!1,new Error("Recording actions is not supported by this module!");this.#h=e.recording,this.handleStartStopRecordActions(this.#h)}async _handleSharedUdpSocketMessage(e){for(const t of this.#g.values())t.handleId===e.handleId&&t.receiveSocketMessage(e)}async _handleSharedUdpSocketError(e){for(const t of this.#g.values())t.handleId===e.handleId&&t.receiveSocketError(e.error)}saveConfig(e,t){e&&(this.#f=e),t&&(this.#p=t),this.#u.sendWithNoCb("saveConfig",{config:e,secrets:t})}setActionDefinitions(e){this.#m.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#y.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[r,n]of Object.entries(e))n&&t.push({...n,id:r});this.#u.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[],r=[];this.#b.clear();for(const n of e)t.push({id:n.variableId,name:n.name}),this.#b.set(n.variableId,n),this.#v.has(n.variableId)||(this.#v.set(n.variableId,""),r.push({id:n.variableId,value:""}));if(!this.#w.disableVariableValidation){const e=new Set(this.#b.keys());for(const t of this.#v.keys())e.has(t)||(this.#v.delete(t),r.push({id:t,value:void 0}))}this.#u.sendWithNoCb("setVariableDefinitions",{variables:t,newValues:r})}setVariableValues(e){const t=[];for(const[r,n]of Object.entries(e))this.#w.disableVariableValidation?(void 0===n?this.#v.delete(r):this.#v.set(r,n),t.push({id:r,value:n})):this.#b.has(r)?(this.#v.set(r,n??""),t.push({id:r,value:n??""})):t.push({id:r,value:void 0});this.#u.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#v.get(e)}async parseVariablesInString(e){const t=this.#y.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),e.includes("$(")?(await this.#u.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text:e}checkFeedbacks(...e){this.#y.checkFeedbacks(e)}checkFeedbacksById(...e){this.#y.checkFeedbacksById(e)}subscribeActions(...e){this.#m.subscribeActions(e)}unsubscribeActions(...e){this.#m.unsubscribeActions(e)}subscribeFeedbacks(...e){this.#y.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#y.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#h)throw new Error("Not currently recording actions");this.#u.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options,delay:e.delay})}oscSend(e,t,r,n){this.#u.sendWithNoCb("send-osc",(0,i.literal)({host:e,port:t,path:r,args:n}))}updateStatus(e,t){this.#u.sendWithNoCb("set-status",(0,i.literal)({status:e,message:t??null}))}log(e,t){this.#u.sendWithNoCb("log-message",(0,i.literal)({level:e,message:t}))}createSharedUdpSocket(e,t){const r="string"==typeof e?{type:e}:e,n=new d.SharedUdpSocketImpl(this.#u,this.#g,r);return t&&n.on("message",t),n}}},1706(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=function(e,t,r,s,a,o,u){const c=new Map,l=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of e){const e=t?.upgradeIndex??r;t&&"number"==typeof e&&l(e).actions.push(t.id)}for(const e of t){const t=e?.upgradeIndex??r;e&&"number"==typeof t&&l(t).feedbacks.push(e.id)}if(!u)for(let e=r??-1;e<s.length;e++)l(e).config=!0;const d=Object.fromEntries(e.map((e=>[e.id,e]))),h=Object.fromEntries(t.map((e=>[e.id,e]))),f={},p={};let m,y;if(c.size>0){const e=Array.from(c.keys()).sort(),t=Math.min(...e,r??-1)+1,u=[],l=[],g=s.length;for(let e=t;e<g;e++){const t=c.get(e-1);t&&(u.push(...t.actions),l.push(...t.feedbacks));const r=!!t?.config;if(!r&&0===u.length&&0===l.length)continue;const g=m??a,b=y??o,v=(0,s[e])({currentConfig:i(g)},{config:r?g:null,secrets:r?b:null,actions:u.map((e=>{const t=d[e];if(t)return(0,n.literal)({id:t.id,controlId:t.controlId,actionId:t.actionId,options:void 0!==t.options?i(t.options):{}})})).filter((e=>!!e)),feedbacks:l.map((e=>{const t=h[e];if(t)return(0,n.literal)({id:t.id,controlId:t.controlId,feedbackId:t.feedbackId,options:void 0!==t.options?i(t.options):{},isInverted:t.isInverted})})).filter((e=>!!e))});r&&v.updatedConfig&&(m=v.updatedConfig),r&&v.updatedSecrets&&(y=v.updatedSecrets);for(const t of v.updatedActions)if(t){const r=d[t.id];r&&(r.actionId=t.actionId,r.options=t.options,r.upgradeIndex=e,p[t.id]=r)}for(const t of v.updatedFeedbacks)if(t){const r=h[t.id];r&&(r.feedbackId=t.feedbackId,r.options=t.options,r.upgradeIndex=e,f[t.id]={...r,style:f[t.id]?.style??t.style,isInverted:t.isInverted??!1})}}for(const[e,t]of Object.entries(d))p[e]||"number"!=typeof t?.upgradeIndex||(p[e]=t);for(const[e,t]of Object.entries(h))f[e]||"number"!=typeof t?.upgradeIndex||(f[e]=t)}return{updatedActions:Object.values(p),updatedFeedbacks:Object.values(f),updatedConfig:m,updatedSecrets:y,latestUpgradeIndex:s.length-1}};const n=r(360);function i(e){return JSON.parse(JSON.stringify(e))}},1943(e){"use strict";e.exports=require("fs/promises")},2017(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;0!=i--;){var a=s[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},2018(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1635);n.__exportStar(r(3730),t),n.__exportStar(r(1649),t),n.__exportStar(r(4493),t),n.__exportStar(r(7386),t),n.__exportStar(r(1400),t),n.__exportStar(r(8983),t),n.__exportStar(r(8104),t),n.__exportStar(r(3258),t),n.__exportStar(r(131),t),n.__exportStar(r(3371),t),n.__exportStar(r(9786),t),n.__exportStar(r(6132),t)},2203(e){"use strict";e.exports=require("stream")},2365(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUdpSocketImpl=void 0;const n=r(1635).__importDefault(r(228)),i=r(360);class s extends n.default{#u;#_;#w;get handleId(){return this.boundState?.handleId}get portNumber(){return this.boundState?.portNumber}get boundState(){return this.#s&&"object"==typeof this.#s?this.#s:void 0}#s="pending";constructor(e,t,r){super(),this.#u=e,this.#_=t,this.#w={...r}}bind(e,t,r){if(this.#s&&"object"==typeof this.#s)throw new Error("Socket is already bound");switch(this.#s){case"fatalError":throw new Error("Socket has encountered fatal error");case"binding":throw new Error("Socket is already bound");case"closed":throw new Error("Socket is closing");case"pending":break;default:throw(0,i.assertNever)(this.#s),new Error("Invalid socket state")}this.#s="binding",r&&this.on("listening",r),this.#u.sendWithCb("sharedUdpSocketJoin",{family:this.#w.type,portNumber:e}).then((t=>{this.#s={portNumber:e,handleId:t},this.#_.set(t,this),this.emit("listening")}),(e=>{this.#s="closed",this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}close(e){if(this.#s&&"object"==typeof this.#s);else switch(this.#s){case"fatalError":throw new Error("Socket has encountered fatal error");case"pending":case"closed":case"binding":throw new Error("Socket is not open");default:throw(0,i.assertNever)(this.#s),new Error("Invalid socket state")}const t=this.#s.handleId;this.#s="closed",e&&this.on("close",e),this.#u.sendWithCb("sharedUdpSocketLeave",{handleId:t}).then((()=>{this.#_.delete(t),this.emit("close")}),(e=>{this.#_.delete(t),this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}send(e,t,r,n,i,s){if("number"!=typeof t)throw new Error("Invalid arguments");if("number"==typeof r){if("number"!=typeof n||"string"!=typeof i)throw new Error("Invalid arguments");if(void 0!==s&&"function"!=typeof s)throw new Error("Invalid arguments");const a=this.#T(e,t,r);this.#S(a,n,i,s)}else{if("string"!=typeof r)throw new Error("Invalid arguments");{if(void 0!==n&&"function"!=typeof n)throw new Error("Invalid arguments");const i=this.#T(e,0,void 0);this.#S(i,t,r,n)}}}#T(e,t,r){let n;if("string"==typeof e)n=Buffer.from(e,"utf-8");else if(Buffer.isBuffer(e))n=e;else{if(Array.isArray(e))return Buffer.from(e);n=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return n.subarray(t,void 0!==r?r+t:void 0)}#S(e,t,r,n){if(!this.#s||"object"!=typeof this.#s)throw new Error("Socket is not open");this.#u.sendWithCb("sharedUdpSocketSend",{handleId:this.#s.handleId,message:e,address:r,port:t}).then((()=>{n?.()}),(e=>{this.emit("error",e instanceof Error?e:new Error(e))})).catch((()=>null))}receiveSocketMessage(e){try{this.emit("message",e.message,e.source)}catch(e){}}receiveSocketError(e){this.#s="fatalError";const t=this.boundState;t&&this.#_.delete(t.handleId);try{this.emit("error",e)}catch(e){}}}t.SharedUdpSocketImpl=s},2411(e,t,r){const n=new Map,i=r(8706);function s(e){return String(e).replaceAll(/\s+/g," ").trim().toLowerCase()}const a=function(e){const t=new Map,r=(e,r)=>{const n=s(e);n&&!t.has(n)&&t.set(n,r)};for(const[t,n]of Object.entries(e)){r(t,n);const e=t.replace(/^\(utc[^)]*\)\s*/i,"").replace(/^\(gmt[^)]*\)\s*/i,"");if(e!==t&&(r(e,n),e.includes(",")))for(const t of e.split(","))r(t,n)}return t}(i);function o(e){return String(e).padStart(2,"0")}const u=new Map,c=new Map;function l(e){let t=u.get(e);return t||(t=new Intl.DateTimeFormat("en-CA",{timeZone:e,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),u.set(e,t)),t}function d(e,t,r){if(!r||"function"!=typeof t?.formatToParts)return r;const n=new Date(e.getTime()+1e3),i=t.formatToParts(n);for(const e of i)"year"===e.type&&(r.year=Number(e.value)),"month"===e.type&&(r.month=Number(e.value)),"day"===e.type&&(r.day=Number(e.value));return r.hour=0,r.minute=0,r.second=0,r}function h(e){if(!e)return;const t=String(e).trim().replace(/^\(?(?:utc|gmt)\)?\s*/i,"").replace(/\)$/,"").trim().match(/^([+-])(\d{1,2})(?::?(\d{2}))?$/);if(!t)return;const[,r,n,i]=t,s=Number(n),a=i?Number(i):0;if(Number.isNaN(s)||Number.isNaN(a))return;if(a>=60)return;if(s>14||14===s&&0!==a)return;const o=60*s+a;return"-"===r?-o:o}function f(e){if(!Number.isFinite(e))return;const t=e<0?"-":"+",r=Math.abs(e),n=r%60;return`${t}${o(Math.floor(r/60))}:${o(n)}`}function p(e={}){const{year:t,month:r,day:n,hour:i=0,minute:s=0,second:a=0}=e;return Date.UTC(t,r-1,n,i,s,a)}function m(e,t){if(!e||!t)return e;const r=e.tz===t,n=Object.prototype.propertyIsEnumerable.call(e,"tz");return r&&!n||Object.defineProperty(e,"tz",{value:t,enumerable:!1,configurable:!0,writable:!1}),e}function y(e){return e&&n.get(e)||e}function g(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}function b(e){if(!e)return;const t=y(e);return v(t)?t:void 0}function v(e){if(!e)return!1;const t=y(e);if(!t)return!1;if(c.has(t))return c.get(t);try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(new Date(0)),c.set(t,!0),!0}catch{return c.set(t,!1),!1}}function w(e){if(!e)return!1;const t=e.toLowerCase();return"etc/utc"===t||"utc"===t||"etc/gmt"===t}e.exports={guessLocalZone:g,getZoneNames:function(){return Intl.supportedValuesOf("timeZone")},findExactZoneMatch:b,isValidIana:v,parseDateTimeInZone:function(e,t){const r=String(e);let n,i=r.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/);if(i?n={year:Number(i[1]),month:Number(i[2]),day:Number(i[3]),hour:Number(i[4]),minute:Number(i[5]),second:Number(i[6]||0)}:(i=r.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})?$/),i&&(n={year:Number(i[1]),month:Number(i[2]),day:Number(i[3]),hour:Number(i[4]),minute:Number(i[5]),second:Number(i[6]||0)})),!n)return;const s=y(t);return v(s)?m(function(e,t,r){const n=p(t);let i,s=e,a=0;for(let e=0;e<3;e++){if(i=new Date(s),a=p(r(i))-n,0===a)return i;s-=a}const o=new Date(s);return p(r(o))-n>=0?o:i}(Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second),n,(e=>{const t=l(s),r=t.formatToParts(e),n={};for(const e of r)"year"===e.type&&(n.year=Number(e.value)),"month"===e.type&&(n.month=Number(e.value)),"day"===e.type&&(n.day=Number(e.value)),"hour"===e.type&&(n.hour=Number(e.value)),"minute"===e.type&&(n.minute=Number(e.value)),"second"===e.type&&(n.second=Number(e.value));return Object.hasOwn(n,"hour")&&24===n.hour&&d(e,t,n),n})),t):void 0},parseWithOffset:function(e,t){const r=String(e);let n=r.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})?$/);if(n||=r.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/),!n)return;const i=Number(n[1]),s=Number(n[2]),a=Number(n[3]),o=Number(n[4]),u=Number(n[5]),c=Number(n[6]||0),l=h(t);if(!Number.isFinite(l))throw new TypeError("Invalid offset string: "+t);const d=Date.UTC(i,s-1,a,o,u,c)-6e4*l,p=f(l);return m(new Date(d),p)},utcAdd:function(e,t,r){if(!(e instanceof Date))return;const n={weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3}[r];if(!n)throw new Error("Unsupported unit: "+r);return new Date(e.getTime()+t*n)},linkAlias:function(e,t){if(void 0!==t)n.set(String(e),String(t));else{const[t,r]=String(e).split("|");t&&r&&n.set(t,r)}},resolveTZID:function(e){if("string"!=typeof e||0===e.length)return{original:void 0,iana:void 0,offset:void 0,offsetMinutes:void 0,etc:void 0};let t=e;("tzone://Microsoft/Custom"===t||t.startsWith("Customized Time Zone")||t.startsWith("tzone://Microsoft/"))&&(t=g()),t=t.replace(/^"(.*)"$/,"$1");const r=t;if(t&&(t.includes(" ")||t.includes(","))){const e=function(e){const t=i[e];if(t&&Array.isArray(t.iana)&&t.iana.length>0)return t.iana[0];const r=s(e),n=a.get(r);if(n&&Array.isArray(n.iana)&&n.iana.length>0)return n.iana[0];if(e.includes(","))for(const t of e.split(",")){const e=a.get(s(t));if(e&&Array.isArray(e.iana)&&e.iana.length>0)return e.iana[0]}return null}(t);e&&(t=e)}let n;if(t&&t.startsWith("(")){const e=t.match(/([+-]\d{1,2}:\d{2})/);e&&(n=h(e[1])),t=null}if(void 0===n&&t){const e=h(t);Number.isFinite(e)&&(n=e,t=null)}return{original:r,iana:b(t)||(t&&v(t)?t:void 0),offset:f(n),offsetMinutes:n,etc:function(e){if(Number.isFinite(e)){if(0===e)return"Etc/GMT";if(e%60==0)return`Etc/GMT${e>0?"-":"+"}${Math.abs(e)/60}`}}(n)}},formatDateForRrule:function(e,t={}){if(e instanceof Date&&!Number.isNaN(e.getTime())){if(t.iana&&v(t.iana)){const r=l(t.iana),n=r.formatToParts(e),i=new Map([["year","year"],["month","month"],["day","day"],["hour","hour"],["minute","minute"],["second","second"]]),s={};for(const e of n){const t=i.get(e.type);t&&(s[t]=Number(e.value))}if(24===s.hour&&d(e,r,s),s.year&&s.month&&s.day&&void 0!==s.hour&&void 0!==s.minute&&void 0!==s.second)return`${s.year}${o(s.month)}${o(s.day)}T${o(s.hour)}${o(s.minute)}${o(s.second)}`}if(Number.isFinite(t.offsetMinutes)){const r=new Date(e.getTime()+6e4*t.offsetMinutes);return`${r.getUTCFullYear()}${o(r.getUTCMonth()+1)}${o(r.getUTCDate())}T${o(r.getUTCHours())}${o(r.getUTCMinutes())}${o(r.getUTCSeconds())}`}}},attachTz:m,isUtcTimezone:w},e.exports.__test__={normalizeMidnightParts:d,isUtcTimezone:w}},2593(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisibleExpression"in e&&"string"==typeof e.isVisibleExpression?{...e,isVisibleFnType:"expression",isVisibleFn:e.isVisibleExpression,isVisible:void 0,isVisibleExpression:void 0}:"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisibleFnType:"function",isVisible:void 0,isVisibleExpression:void 0}:{...e,isVisible:void 0,isVisibleFn:void 0,isVisibleFnType:void 0,isVisibleExpression:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},2916(e,t,r){const{randomUUID:n}=r(7598),i=r(1211).RRule,s=r(2411),a=function(e=""){return e.replaceAll(String.raw`\,`,",").replaceAll(String.raw`\;`,";").replaceAll(/\\[nN]/g,"\n").replaceAll("\\\\","\\").replace(/^"(.*)"$/,"$1")},o=function(e){if("TRUE"===e)return!0;if("FALSE"===e)return!1;const t=Number(e);return Number.isNaN(t)?e=e.replace(/^"(.*)"$/,"$1"):t},u=function(e){const t={};for(const r of e)if(r.includes("=")){const e=r.split("=");t[e[0]]=o(e.slice(1).join("="))}return t},c=function(e){return function(t,r){const n=r[e];return Array.isArray(n)?(n.push(t),r):(r[e]=void 0===n?t:[n,t],r)}},l=function(e){return function(t,r,n){const i=r&&r.length>0&&(1!==r.length||"CHARSET=utf-8"!==r[0]&&"VALUE=TEXT"!==r[0])?{params:u(r),val:a(t)}:a(t);return c(e)(i,n)}};function d(e,t){return t&&t.includes("VALUE=DATE")&&!t.includes("VALUE=DATE-TIME")||!0===/^\d{8}$/.test(e)}const h=function(e){return function(t,r,n,i){const o=r.indexOf("TZID=tzone");-1!==o&&(r[o]=r[o]+":"+t.split(":")[0],t=t.split(":")[1]);let l=a(t);if(d(t,r)){const r=/^(\d{4})(\d{2})(\d{2}).*$/.exec(t);if(null!==r)return l=new Date(r[1],Number.parseInt(r[2],10)-1,r[3]),l.dateOnly=!0,c(e)(l,n)}const h=/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})(Z)?$/.exec(t);if(null!==h){const e=Number.parseInt(h[1],10),n=Number.parseInt(h[2],10)-1,a=Number.parseInt(h[3],10),o=Number.parseInt(h[4],10),c=Number.parseInt(h[5],10),d=Number.parseInt(h[6],10);if("Z"===h[7])l=new Date(Date.UTC(e,n,a,o,c,d)),s.attachTz(l,"Etc/UTC");else{const h=()=>{const r=(i||[]).find((e=>Object.values(e).find((e=>"VTIMEZONE"===e.type))))||{},u=Object.values(r).find((({type:e})=>"VTIMEZONE"===e)),l=u?Array.isArray(u.tzid)?u.tzid.at(-1):u.tzid:null;if(!l)return new Date(e,n,a,o,c,d);const h=s.resolveTZID(l),f="string"==typeof h.offset?h.offset:void 0;return f?s.parseWithOffset(t,f):h.iana?s.parseDateTimeInZone(t,h.iana):new Date(e,n,a,o,c,d)};if(r){let i=u(r).TZID,f=Array.isArray(r)?r.findIndex((e=>"string"==typeof e&&e.toUpperCase().startsWith("TZID="))):-1;const p=e=>{if(!Array.isArray(r))return;const t="TZID="+e;f>=0?r[f]=t:(r.push(t),f=r.length-1)};if(i){i=i.toString().replace(/^"(.*)"$/,"$1"),("tzone://Microsoft/Custom"===i||"(no TZ description)"===i||i.startsWith("Customized Time Zone")||i.startsWith("tzone://Microsoft/"))&&(i=s.guessLocalZone());const h=s.resolveTZID(i);p(h.iana||h.original||i);const f="string"==typeof h.offset?h.offset:void 0;l=f?s.parseWithOffset(t,f):h.iana?s.parseDateTimeInZone(t,h.iana):new Date(e,n,a,o,c,d),l=function(e,t){if(!e)return e;const r=u(t);if(t&&r&&void 0!==r.TZID){let t=r.TZID.toString();return t=t.replace(/^"(.*)"$/,"$1"),s.attachTz(e,t)}return e.tz?s.attachTz(e,e.tz):e}(l,r)}else l=h()}else l=h()}}return c(e)(l,n)}};var f;e.exports={objectHandlers:{BEGIN:(e,t,r,n)=>(n.push(r),{type:e,params:t}),END(e,t,r,a){if(("VEVENT"===e||"VTODO"===e||"VJOURNAL"===e)&&r.rrule){let e=r.rrule.replace("RRULE:","");if(e=e.slice(e.lastIndexOf("FREQ=")),!1===e.includes("DTSTART")){if("date"===r.datetype){const e=r.start,t=e.getTimezoneOffset();let n;n=t<0?new Date(e.getTime()+6e4*Math.abs(t)):new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),r.start=n,e&&e.tz&&s.attachTz(r.start,e?.tz),e&&!0===e.dateOnly&&(r.start.dateOnly=!0)}if(!r.start||"function"!=typeof r.start.toISOString)throw new Error("No toISOString function in curr.start "+r.start);try{const t=s.isUtcTimezone(r.start.tz);if(r.start.tz&&!t){const t=s.resolveTZID(r.start.tz),n=s.formatDateForRrule(r.start,t),i=t.iana||t.etc||t.original;e+=n&&i?`;DTSTART;TZID=${i}:${n}`:n?`;DTSTART=${n}`:`;DTSTART=${r.start.toISOString().replaceAll(/[-:]/g,"")}`}else e+=`;DTSTART=${r.start.toISOString().replaceAll(/[-:]/g,"")}`;e=e.replace(/\.\d{3}/,"")}catch(e){throw new Error("ERROR when trying to convert to ISOString "+e)}}try{r.rrule=i.fromString(e)}catch(e){throw e}}return function(e,t,r,i){if("VCALENDAR"===e){let e,t;const n={};for(e in r)Object.hasOwn(r,e)&&(t=r[e],"string"==typeof t&&(n[e]=t,delete r[e]));return n.type&&(r[n.type.toLowerCase()]=n),r}const a=i.pop();if(!r.end&&(r.end="date-time"===r.datetype?new Date(r.start):s.utcAdd(r.start,1,"days"),void 0!==r.duration)){const e={W:"weeks",D:"days",H:"hours",M:"minutes",S:"seconds"},t=r.duration.match(/-?\d{1,10}[WDHMS]/g);if(!t||0===t.length)throw new Error("Invalid DURATION format: "+r.duration);let n=r.start;const i=r.duration.startsWith("-")?-1:1;for(const r of t){const t=r.slice(-1);if(!e[t])throw new Error(`Invalid duration unit: ${t}`);n=s.utcAdd(n,Number.parseInt(r,10)*i,e[r.toString().slice(-1)])}r.end=new Date(n)}if(r.uid){if(void 0===a[r.uid])a[r.uid]=r,a.method&&(a[r.uid].method=a.method);else if(void 0===r.recurrenceid){let e;for(e in r)null!==e&&(a[r.uid][e]=r[e])}if(void 0!==r.recurrenceid){const e={};let t;for(t in r)null!==t&&(e[t]=r[t]);if(void 0!==e.recurrences&&delete e.recurrences,void 0===a[r.uid].recurrences&&(a[r.uid].recurrences={}),"function"!=typeof r.recurrenceid.toISOString)throw new TypeError("No toISOString function in curr.recurrenceid ="+r.recurrenceid);a[r.uid].recurrences[r.recurrenceid.toISOString().slice(0,10)]=e}"__proto__"!==r.uid&&void 0!==a[r.uid].rrule&&void 0!==a[r.uid].recurrenceid&&delete a[r.uid].recurrenceid}else if("VALARM"!==e||"VEVENT"!==a.type&&"VTODO"!==a.type){const e=n();a[e]=r,a.method&&(a[e].method=a.method)}else a.alarms??=[],a.alarms.push(r);return a}.call(this,e,t,r,a)},SUMMARY:l("summary"),DESCRIPTION:l("description"),URL:l("url"),UID:l("uid"),LOCATION:l("location"),DTSTART(e,t,r,n,i){if(void 0===r.start)return r=h("start")(e,t,r,n),function(e,t,r){const n=d(e,t)?"date":"date-time";return c("datetype")(n,r)}(e,t,r);throw new Error("duplicate DTSTART encountered, line="+i)},DTEND(e,t,r,n,i){if(void 0===r.end)return h("end")(e,t,r,n);throw new Error("duplicate DTEND encountered, line="+i)},EXDATE:(f="exdate",function(e,t,r){r[f]||=[];const n=e?e.split(",").map((e=>e.trim())):[];for(const e of n){const n=[];if(h(f)(e,t,n),n[f]){if("function"!=typeof n[f].toISOString)throw new TypeError("No toISOString function in exdate[name] = "+n[f]);r[f][n[f].toISOString().slice(0,10)]=n[f]}}return r})," CLASS":l("class"),TRANSP:l("transparency"),GEO:function(e,t,r){l(e);const n=e.split(";");return r.geo={lat:Number(n[0]),lon:Number(n[1])},r},"PERCENT-COMPLETE":l("completion"),COMPLETED:h("completed"),CATEGORIES:function(e){return function(t,r,n){return l(t),void 0===n[e]?n[e]=t?t.split(",").map((e=>e.trim())):[]:t&&(n[e]=n[e].concat(t.split(",").map((e=>e.trim())))),n}}("categories"),FREEBUSY:function(e){return function(t,r,n){const i=function(e,t){const r=u(t);return t&&r&&(e.type=r.FBTYPE||"BUSY"),e}({},r);n[e]||=[],n[e].push(i),l(t);const s=t.split("/");for(const[e,t]of["start","end"].entries())h(t)(s[e],r,i);return n}}("freebusy"),DTSTAMP:h("dtstamp"),CREATED:h("created"),"LAST-MODIFIED":h("lastmodified"),"RECURRENCE-ID":h("recurrenceid"),RRULE:(e,t,r,n,i)=>(r.rrule=i,r)},handleObject(e,t,r,n,i,s){return this.objectHandlers[e]?this.objectHandlers[e](t,r,n,i,s):/X-[\w-]+/.test(e)&&i.length>0?(e=e.slice(2),l(e)(t,r,n,i,s)):l(e.toLowerCase())(t,r,n)},parseLines(e,t,r,n,i,s){s||"function"!=typeof r||(s=r,r=void 0),r||={},n||=[];let a=0,o=i||0;for(let i=e.length;o<i;o++){let i=e[o];for(;e[o+1]&&/[ \t]/.test(e[o+1][0]);)i+=e[o+1].slice(1),o++;i.includes("TZID=")&&!i.includes('"(')&&(i=i.replaceAll('"',""));const s=/^([\w\d-]+)((?:;[\w\d-]+=(?:(?:"[^"]*")|[^":;]+))*):(.*)$/;let u=i.match(s);if(null===u)continue;u=u.slice(1);const c=u.at(-1),l=u[0],d=u[1]?u[1].split(";").slice(1):[];if(r=this.handleObject(l,c,d,r,n,i)||{},++a>t)break}if(o>=e.length&&(delete r.type,delete r.params),!s)return r;o<e.length?setImmediate((()=>{this.parseLines(e,t,r,n,o+1,s)})):setImmediate((()=>{s(null,r)}))},parseICS(e,t){const r=e.split(/\r?\n/);let n;if(!t)return n=this.parseLines(r,r.length),n;this.parseLines(r,2e3,t)}}},3024(e){"use strict";e.exports=require("node:fs")},3258(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3290(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6368),i=r(6641),s=r(4774),a=()=>{},o=new i.TimeoutError;t.default=class extends n{constructor(e){var t,r,n,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=a,this._resolveIdle=a,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:s.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=a,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=a,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((r,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const s=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(o)}));r(await s)}catch(e){n(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},3371(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3453(e,t,r){"use strict";const{cancelJob:n,rescheduleJob:i,scheduledJobs:s,scheduleJob:a,gracefulShutdown:o}=r(8712),{Invocation:u,RecurrenceRule:c,Range:l}=r(7059),{Job:d}=r(5178);e.exports={Job:d,Invocation:u,Range:l,RecurrenceRule:c,cancelJob:n,rescheduleJob:i,scheduledJobs:s,scheduleJob:a,gracefulShutdown:o}},3730(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4044(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=r(1635),i=r(360),s=n.__importDefault(r(6022));t.IpcWrapper=class{#O;#E;#I;#A=1;#C=new Map;constructor(e,t,r){this.#O=e,this.#E=t,this.#I=r}async sendWithCb(e,t,r,n=0){n<=0&&(n=this.#I);const i={timeout:void 0,resolve:()=>null,reject:()=>null},a=new Promise(((e,t)=>{i.resolve=e,i.reject=t}));this.#A>268435456&&(this.#A=1);const o=this.#A++;this.#C.set(o,i),this.#E({direction:"call",name:String(e),payload:s.default.stringify(t),callbackId:o});const u=new Error("Call timed out");return i.timeout=setTimeout((()=>{i.reject(r?r():u),this.#C.delete(o)}),n),a}sendWithNoCb(e,t){this.#E({direction:"call",name:String(e),payload:s.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#O[e.name];if(!t)return void(e.callbackId&&this.#E({direction:"response",callbackId:e.callbackId,success:!1,payload:s.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?s.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#E({direction:"response",callbackId:e.callbackId,success:!0,payload:s.default.stringify(t)})}),(t=>{e.callbackId&&this.#E({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):s.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#C.get(e.callbackId);if(this.#C.delete(e.callbackId),!t)return;clearTimeout(t.timeout);const r=e.payload?s.default.parse(e.payload):void 0;if(e.success)t.resolve(r);else{let e=r;r&&"object"==typeof r&&"message"in r&&(e=new Error(r.message),r.stack&&(e.stack=r.stack)),t.reject(e)}break}default:(0,i.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},4289(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=r(2593);function i(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#D;#x;#N;#M;#j=new Map;#P=new Map;constructor(e,t,r,n){this.#D=e,this.#x=t,this.#N=r,this.#M=n}async handleExecuteAction(e){const t=this.#j.get(e.action.actionId);if(!t)return{success:!1,errorMessage:`Action definition not found for: ${e.action.actionId}`};const r={parseVariablesInString:async t=>(await this.#D({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:(t,r)=>{this.#N({customVariableId:t,value:r,controlId:e.action.controlId})}};try{return await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId},r),{success:!0,errorMessage:void 0}}catch(e){return{success:!1,errorMessage:e?.message??String(e)}}}handleUpdateActions(e){for(const[t,r]of Object.entries(e)){const e=this.#P.get(t);if(e){const t=this.#j.get(e.actionId);if(t?.unsubscribe&&!t.skipUnsubscribeOnOptionsChange){const r={parseVariablesInString:async e=>e,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during unsubscribe")}};Promise.resolve(t.unsubscribe(i(e),r)).catch((t=>{this.#M("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!r||r.disabled)this.#P.delete(t);else{this.#P.set(t,r);const e=this.#j.get(r.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>e,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during subscribe")}};Promise.resolve(e.subscribe(i(r),t)).catch((e=>{this.#M("error",`Action subscribe failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#j.get(e.action.actionId);if(t&&t.learn){const r={parseVariablesInString:async t=>(await this.#D({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during learn")}};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0},r)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#j.clear();for(const[r,i]of Object.entries(e))i&&(t.push({id:r,name:i.name,description:i.description,options:(0,n.serializeIsVisibleFn)(i.options),optionsToIgnoreForSubscribe:i.optionsToIgnoreForSubscribe,hasLearn:!!i.learn,learnTimeout:i.learnTimeout,hasLifecycleFunctions:!!i.subscribe||!!i.unsubscribe}),this.#j.set(r,i));this.#x({actions:t})}subscribeActions(e){let t=Array.from(this.#P.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.actionId))));for(const e of t){const t=this.#j.get(e.actionId);if(t?.subscribe){const r={parseVariablesInString:async e=>e,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during subscribe")}};Promise.resolve(t.subscribe(i(e),r)).catch((t=>{this.#M("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#P.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.actionId))));for(const e of t){const t=this.#j.get(e.actionId);if(t&&t.unsubscribe){const r={parseVariablesInString:async e=>e,setCustomVariableValue:()=>{throw new Error("setCustomVariableValue is not available during unsubscribe")}};Promise.resolve(t.unsubscribe(i(e),r)).catch((t=>{this.#M("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},4326(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(l)throw new Error("runEntrypoint can only be called once");if(l=!0,t||(t=[]),!Array.isArray(t))throw new Error("upgradeScripts must be an array");for(const e of t)if("function"!=typeof e)throw new Error("upgradeScripts must be an array of functions");const r=process.env.MODULE_MANIFEST;if(!r)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await s.default.readFile(r),d=JSON.parse(n.toString());if(d.runtime?.api!==i.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!d.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let h=d.runtime.apiVersion;if("0.0.0"===h)try{const e=await s.default.readFile(u.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(h=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const f=process.env.CONNECTION_ID;if("string"!=typeof f||!f)throw new Error("Module initialise is missing CONNECTION_ID");const p=process.env.VERIFICATION_TOKEN;if("string"!=typeof p||!p)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const m=new o.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{m.receivedMessage(e)})),c=new e((0,a.literal)({id:f,upgradeScripts:t,_isInstanceBaseProps:!0})),m.sendWithCb("register",{apiVersion:h,connectionId:f,verificationToken:p}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))};const n=r(1635),i=r(9967),s=n.__importDefault(r(1943)),a=r(360),o=r(4044),u=n.__importDefault(r(6928));let c,l=!1},4434(e){"use strict";e.exports=require("events")},4493(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4581(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4617(e){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},4694(e){e.exports=function(e){e.setActionDefinitions({refreshCalendar:{name:"Refresh Calendar",options:[],callback:async()=>{await e.setupIcalFeed()}},checkCurrentEvents:{name:"Check Current Events",options:[],callback:async()=>{const t=new Date;let r=!1;for(const[,n]of e.events)if(n.start<=t&&n.end>=t){r=!0,e.updateEventVariables();const t=n.start.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),i=n.end.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});e.log("info",`Current active event: ${n.summary} (${t} - ${i})`)}r||e.log("info","No active events found")}}})}},4774(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const i=n.default(this._queue,r,((e,t)=>t.priority-e.priority));this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},4797(e){e.exports=function(e){e.setFeedbackDefinitions({eventActive:{name:"Event Active",type:"boolean",label:"Event Status",defaultStyle:{bgcolor:16711680,color:16777215},options:[],callback:()=>{const t=new Date;for(const[,r]of e.events)if(r.start<=t&&r.end>=t)return!0;return!1}},eventWindow:{name:"Event Time Window",type:"boolean",label:"Event Window Status",defaultStyle:{bgcolor:65280,color:0},options:[{type:"number",label:"Minutes Before",id:"minutesBefore",default:5,min:0,max:120},{type:"number",label:"Minutes After",id:"minutesAfter",default:5,min:0,max:120}],callback:t=>{const r=new Date,n=t.options.minutesBefore||5,i=t.options.minutesAfter||5;for(const[,t]of e.events){const e=new Date(t.start.getTime()-60*n*1e3),s=new Date(t.end.getTime()+60*i*1e3);if(r>=e&&r<=t.start||r>=t.start&&r<=t.end||r>=t.end&&r<=s)return!0}return!1}}})}},4865(e){"use strict";const t=(e,t,n,i)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const s=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!r(s,a)&&i||Object.defineProperty(e,n,a)},r=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,r,{ignoreNonConfigurable:a=!1}={})=>{const{name:o}=e;for(const n of Reflect.ownKeys(r))t(e,r,n,a);return((e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)})(e,r),((e,t,r)=>{const a=""===r?"":`with ${r.trim()}() `,o=n.bind(null,a,t.toString());Object.defineProperty(o,"name",s),Object.defineProperty(e,"toString",{...i,value:o})})(e,r,o),e}},5158(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5178(e,t,r){"use strict";const n=r(4434),i=r(9160),s=r(6159),a=r(643),{scheduleNextRecurrence:o,scheduleInvocation:u,cancelInvocation:c,RecurrenceRule:l,sorter:d,Invocation:h}=r(7059),{isValidDate:f}=r(5710),p={};let m=0;function y(e,t,r){this.pendingInvocations=[];let n=0;const i=e&&"string"==typeof e?e:function(){const e=new Date;return m===Number.MAX_SAFE_INTEGER&&(m=0),m++,`<Anonymous Job ${m} ${e.toISOString()}>`}();this.job=e&&"function"==typeof e?e:t,this.job===e?this.callback="function"==typeof t&&t:this.callback="function"==typeof r&&r,this.running=0,"function"==typeof this.job&&this.job.prototype&&this.job.prototype.next&&(this.job=function(){return this.next().value}.bind(this.job.call(this))),Object.defineProperty(this,"name",{value:i,writable:!1,enumerable:!0}),this.trackInvocation=function(e){return a.add(this.pendingInvocations,e,d),!0},this.stopTrackingInvocation=function(e){const t=this.pendingInvocations.indexOf(e);return t>-1&&(this.pendingInvocations.splice(t,1),!0)},this.triggeredJobs=function(){return n},this.setTriggeredJobs=function(e){n=e},this.deleteFromSchedule=function(){g(this.name)},this.cancel=function(e){let t,r;e="boolean"==typeof e&&e;const n=[];for(let i=0;i<this.pendingInvocations.length;i++)t=this.pendingInvocations[i],c(t),e&&(t.recurrenceRule.recurs||t.recurrenceRule.next)&&(r=o(t.recurrenceRule,this,t.fireDate,t.endDate),null!==r&&n.push(r));this.pendingInvocations=[];for(let e=0;e<n.length;e++)this.trackInvocation(n[e]);return e||this.deleteFromSchedule(),!0},this.cancelNext=function(e){if(e="boolean"!=typeof e||e,!this.pendingInvocations.length)return!1;let t;const r=this.pendingInvocations.shift();return c(r),e&&(r.recurrenceRule.recurs||r.recurrenceRule.next)&&(t=o(r.recurrenceRule,this,r.fireDate,r.endDate),null!==t&&this.trackInvocation(t)),!0},this.reschedule=function(e){let t;const r=this.pendingInvocations.slice();for(let e=0;e<r.length;e++)t=r[e],c(t);return this.pendingInvocations=[],this.schedule(e)?(this.setTriggeredJobs(0),!0):(this.pendingInvocations=r,!1)},this.nextInvocation=function(){return this.pendingInvocations.length?this.pendingInvocations[0].fireDate:null}}function g(e){e&&delete p[e]}Object.setPrototypeOf(y.prototype,n.EventEmitter.prototype),y.prototype.invoke=function(e){return this.setTriggeredJobs(this.triggeredJobs()+1),this.job(e)},y.prototype.runOnDate=function(e){return this.schedule(e)},y.prototype.schedule=function(e){const t=this;let r,n,a,c,d=!1;"object"==typeof e&&"tz"in e&&(c=e.tz),"object"==typeof e&&e.rule&&(n=e.start||void 0,a=e.end||void 0,e=e.rule,n&&(n instanceof Date||(n=new Date(n)),n=new s(n,c),(!f(n)||n.getTime()<Date.now())&&(n=void 0)),!a||a instanceof Date||f(a=new Date(a))||(a=void 0),a&&(a=new s(a,c)));try{const s=i.parseExpression(e,{currentDate:n,tz:c});r=o(s,t,n,a),null!==r&&(d=t.trackInvocation(r))}catch(i){const p=typeof e;if("string"!==p&&"number"!==p||(e=new Date(e)),e instanceof Date&&f(e))e=new s(e),t.isOneTimeJob=!0,e.getTime()>=Date.now()&&(r=new h(t,e),u(r),d=t.trackInvocation(r));else if("object"===p){if(t.isOneTimeJob=!1,!(e instanceof l)){const t=new l;"year"in e&&(t.year=e.year),"month"in e&&(t.month=e.month),"date"in e&&(t.date=e.date),"dayOfWeek"in e&&(t.dayOfWeek=e.dayOfWeek),"hour"in e&&(t.hour=e.hour),"minute"in e&&(t.minute=e.minute),"second"in e&&(t.second=e.second),e=t}e.tz=c,r=o(e,t,n,a),null!==r&&(d=t.trackInvocation(r))}}return p[this.name]=this,d},e.exports={Job:y,deleteScheduledJob:g,scheduledJobs:p}},5710(e){"use strict";e.exports={isValidDate:function(e){return e.getTime()==e.getTime()}}},5821(e,t){var r=2147483647;function n(e,t){this.listener=e,this.after=t,this.unreffed=!1,this.start()}function i(e,t){this.listener=e,this.after=this.timeLeft=t,this.unreffed=!1,this.start()}t.setTimeout=function(e,t){return new n(e,t)},t.setInterval=function(e,t){return new i(e,t)},t.clearTimeout=function(e){e&&e.close()},t.clearInterval=t.clearTimeout,t.Timeout=n,t.Interval=i,n.prototype.unref=function(){this.unreffed||(this.unreffed=!0,this.timeout.unref())},n.prototype.ref=function(){this.unreffed&&(this.unreffed=!1,this.timeout.ref())},n.prototype.start=function(){if(this.after<=r)this.timeout=setTimeout(this.listener,this.after);else{var e=this;this.timeout=setTimeout((function(){e.after-=r,e.start()}),r)}this.unreffed&&this.timeout.unref()},n.prototype.close=function(){clearTimeout(this.timeout)},i.prototype.unref=function(){this.unreffed||(this.unreffed=!0,this.timeout.unref())},i.prototype.ref=function(){this.unreffed&&(this.unreffed=!1,this.timeout.ref())},i.prototype.start=function(){var e=this;this.timeLeft<=r?this.timeout=setTimeout((function(){e.listener(),e.timeLeft=e.after,e.start()}),this.timeLeft):this.timeout=setTimeout((function(){e.timeLeft-=r,e.start()}),r),this.unreffed&&this.timeout.unref()},i.prototype.close=function(){n.prototype.close.apply(this,arguments)}},6022(e){!function(){"use strict";var t=[,function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=i,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var n,i,s=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}return s}}(n,i)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s[0],o=s[1];return e[a]=o,e}),{})},t.isArguments=function(e){return null!=e&&i(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var s={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=s,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(s.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var r=Object.create(null),n=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},i=0;i<64;i++)r[n(i)]=i;var s=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],r=0;r<e;r++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},a={encode:function(e){if("string"==typeof e){var t=e;e=s(t.length);for(var r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[r]=i}}for(var a=[],o=null,u=null,c=null,l=null,d=0;d<e.length;d++)switch(d%3){case 0:o=e[d]>>2&63,u=(3&e[d])<<4;break;case 1:u|=e[d]>>4&15,c=(15&e[d])<<2;break;case 2:c|=e[d]>>6&3,l=63&e[d],a.push(n(o)),a.push(n(u)),a.push(n(c)),a.push(n(l)),o=null,u=null,c=null,l=null}return null!=o&&(a.push(n(o)),a.push(n(u)),null==c?a.push("="):a.push(n(c)),null==l&&a.push("=")),a.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var n,i=s(t),a=null,o=null,u=null,c=0,l=0;l<e.length;l++){var d="="===(n=e.charAt(l))?-1:r[n];switch(l%4){case 0:if(d<0)throw new Error("invalid base64 string");a=d<<2;break;case 1:if(d<0)throw new Error("invalid base64 string");a|=d>>4,i[c++]=a,o=(15&d)<<4;break;case 2:d>=0&&(o|=d>>2,i[c++]=o,u=(3&d)<<6);break;case 3:d>=0&&(i[c++]=u|d)}}return i},newBinary:s};t.Base64=a},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function e(t,i,s,a,o){var u=i[t];switch(r(u)){case"string":return n(u);case"number":return isFinite(u)?String(u):"null";case"boolean":return String(u);case"object":if(!u)return"null";var c,l=a+s,d=[];if(Array.isArray(u)||{}.hasOwnProperty.call(u,"callee")){for(var h=u.length,f=0;f<h;f+=1)d[f]=e(f,u,s,l,o)||"null";return c=0===d.length?"[]":l?"[\n"+l+d.join(",\n"+l)+"\n"+a+"]":"["+d.join(",")+"]"}var p=Object.keys(u);return o&&(p=p.sort()),p.forEach((function(t){(c=e(t,u,s,l,o))&&d.push(n(t)+(l?": ":":")+c)})),c=0===d.length?"{}":l?"{\n"+l+d.join(",\n"+l)+"\n"+a+"}":"{"+d.join(",")+"}"}};t.default=function(e,t){var r=Object.assign({indent:"",canonical:!1},t);if(!0===r.indent)r.indent="  ";else if("number"==typeof r.indent){for(var n="",s=0;s<r.indent;s++)n+=" ";r.indent=n}return i("",{"":e},r.indent,"",r.canonical)},e.exports=t.default}],r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}var i={};!function(){var e=i,t=n(2).Base64,r=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var s=n(1),a={};e.EJSON=a;var o=new Map;a.addType=function(e,t){if(o.has(e))throw new Error("Type ".concat(e," already present"));o.set(e,t)};var u=[{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$date")&&1===(0,s.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$regexp")&&(0,s.hasOwn)(e,"$flags")&&2===(0,s.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$InfNaN")&&1===(0,s.lengthOf)(e)},matchObject:s.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$binary")&&1===(0,s.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,s.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$escape")&&1===(0,s.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var r=(0,s.lengthOf)(e);1!==r&&2!==r||(t=u.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,s.keysOf)(e).forEach((function(r){t[r]=a.toJSONValue(e[r])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,s.keysOf)(e.$escape).forEach((function(r){t[r]=a.fromJSONValue(e.$escape[r])})),t}},{matchJSONValue:function(e){return(0,s.hasOwn)(e,"$type")&&(0,s.hasOwn)(e,"$value")&&2===(0,s.lengthOf)(e)},matchObject:function(e){return a._isCustomType(e)},toJSONValue:function(e){var t=r._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!o.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=o.get(t);return r._noYieldsAllowed((function(){return n(e.$value)}))}}];a._isCustomType=function(e){return e&&(0,s.isFunction)(e.toJSONValue)&&(0,s.isFunction)(e.typeName)&&o.has(e.typeName())},a._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?o:(0,s.convertMapToObject)(o)},a._getConverters=function(){return u};var c=function(e){for(var t=0;t<u.length;t++){var r=u[t];if(r.matchObject(e))return r.toJSONValue(e)}},l=function e(t){if(null===t)return null;var r=c(t);return void 0!==r?r:(0,s.isObject)(t)?((0,s.keysOf)(t).forEach((function(r){var n=t[r];if((0,s.isObject)(n)||void 0===n||(0,s.isInfOrNaN)(n)){var i=c(n);i?t[r]=i:e(n)}})),t):t};a._adjustTypesToJSONValue=l,a.toJSONValue=function(e){var t=c(e);if(void 0!==t)return t;var r=e;return(0,s.isObject)(e)&&(r=a.clone(e),l(r)),r};var d=function(e){if((0,s.isObject)(e)&&null!==e){var t=(0,s.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var r=0;r<u.length;r++){var n=u[r];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},h=function e(t){if(null===t)return null;var r=d(t);return r!==t?r:(0,s.isObject)(t)?((0,s.keysOf)(t).forEach((function(r){var n=t[r];if((0,s.isObject)(n)){var i=d(n);if(n!==i)return void(t[r]=i);e(n)}})),t):t};a._adjustTypesFromJSONValue=h,a.fromJSONValue=function(e){var t=d(e);return t===e&&(0,s.isObject)(e)&&(t=a.clone(e),h(t)),t},a.stringify=(0,s.handleError)((function(e,t){var r=a.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(r,t):JSON.stringify(r)})),a.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(e))},a.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},a.equals=function(e,t,r){var n,i=!(!r||!r.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,s.isObject)(e)||!(0,s.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(a.isBinary(e)&&a.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,s.isFunction)(e.equals))return e.equals(t,r);if((0,s.isFunction)(t.equals))return t.equals(e,r);var o,u=Array.isArray(e),c=Array.isArray(t);if(u!==c)return!1;if(u&&c){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!a.equals(e[n],t[n],r))return!1;return!0}switch(a._isCustomType(e)+a._isCustomType(t)){case 1:return!1;case 2:return a.equals(a.toJSONValue(e),a.toJSONValue(t))}var l=(0,s.keysOf)(e),d=(0,s.keysOf)(t);return i?(n=0,o=l.every((function(i){return!(n>=d.length||i!==d[n]||!a.equals(e[i],t[d[n]],r)||(n++,0))}))):(n=0,o=l.every((function(i){return!!(0,s.hasOwn)(t,i)&&!!a.equals(e[i],t[i],r)&&(n++,!0)}))),o&&n===d.length},a.clone=function(e){var t;if(!(0,s.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(a.isBinary(e)){t=a.newBinary(e.length);for(var r=0;r<e.length;r++)t[r]=e[r];return t}return Array.isArray(e)?e.map(a.clone):(0,s.isArguments)(e)?Array.from(e).map(a.clone):(0,s.isFunction)(e.clone)?e.clone():a._isCustomType(e)?a.fromJSONValue(a.clone(a.toJSONValue(e)),!0):(t={},(0,s.keysOf)(e).forEach((function(r){t[r]=a.clone(e[r])})),t)},a.newBinary=t.newBinary}(),e.exports=i.EJSON}()},6132(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6159(e,t,r){"use strict";var n=r(1169);function i(e,t){var r={zone:t};if(e?e instanceof i?this._date=e._date:e instanceof Date?this._date=n.DateTime.fromJSDate(e,r):"number"==typeof e?this._date=n.DateTime.fromMillis(e,r):"string"==typeof e&&(this._date=n.DateTime.fromISO(e,r),this._date.isValid||(this._date=n.DateTime.fromRFC2822(e,r)),this._date.isValid||(this._date=n.DateTime.fromSQL(e,r)),this._date.isValid||(this._date=n.DateTime.fromFormat(e,"EEE, d MMM yyyy HH:mm:ss",r))):this._date=n.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(e));t&&t!==this._date.zoneName&&(this._date=this._date.setZone(t))}i.prototype.addYear=function(){this._date=this._date.plus({years:1})},i.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")},i.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")},i.prototype.addHour=function(){var e=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=e&&(this._date=this._date.plus({hours:1}))},i.prototype.addMinute=function(){var e=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<e&&(this._date=this._date.plus({hours:1}))},i.prototype.addSecond=function(){var e=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<e&&(this._date=this._date.plus({hours:1}))},i.prototype.subtractYear=function(){this._date=this._date.minus({years:1})},i.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")},i.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")},i.prototype.subtractHour=function(){var e=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=e&&(this._date=this._date.minus({hours:1}))},i.prototype.subtractMinute=function(){var e=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>e&&(this._date=this._date.minus({hours:1}))},i.prototype.subtractSecond=function(){var e=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>e&&(this._date=this._date.minus({hours:1}))},i.prototype.getDate=function(){return this._date.day},i.prototype.getFullYear=function(){return this._date.year},i.prototype.getDay=function(){var e=this._date.weekday;return 7==e?0:e},i.prototype.getMonth=function(){return this._date.month-1},i.prototype.getHours=function(){return this._date.hour},i.prototype.getMinutes=function(){return this._date.minute},i.prototype.getSeconds=function(){return this._date.second},i.prototype.getMilliseconds=function(){return this._date.millisecond},i.prototype.getTime=function(){return this._date.valueOf()},i.prototype.getUTCDate=function(){return this._getUTC().day},i.prototype.getUTCFullYear=function(){return this._getUTC().year},i.prototype.getUTCDay=function(){var e=this._getUTC().weekday;return 7==e?0:e},i.prototype.getUTCMonth=function(){return this._getUTC().month-1},i.prototype.getUTCHours=function(){return this._getUTC().hour},i.prototype.getUTCMinutes=function(){return this._getUTC().minute},i.prototype.getUTCSeconds=function(){return this._getUTC().second},i.prototype.toISOString=function(){return this._date.toUTC().toISO()},i.prototype.toJSON=function(){return this._date.toJSON()},i.prototype.setDate=function(e){this._date=this._date.set({day:e})},i.prototype.setFullYear=function(e){this._date=this._date.set({year:e})},i.prototype.setDay=function(e){this._date=this._date.set({weekday:e})},i.prototype.setMonth=function(e){this._date=this._date.set({month:e+1})},i.prototype.setHours=function(e){this._date=this._date.set({hour:e})},i.prototype.setMinutes=function(e){this._date=this._date.set({minute:e})},i.prototype.setSeconds=function(e){this._date=this._date.set({second:e})},i.prototype.setMilliseconds=function(e){this._date=this._date.set({millisecond:e})},i.prototype._getUTC=function(){return this._date.toUTC()},i.prototype.toString=function(){return this.toDate().toString()},i.prototype.toDate=function(){return this._date.toJSDate()},i.prototype.isLastDayOfMonth=function(){var e=this._date.plus({days:1}).startOf("day");return this._date.month!==e.month},i.prototype.isLastWeekdayOfMonth=function(){var e=this._date.plus({days:7}).startOf("day");return this._date.month!==e.month},e.exports=i},6160(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1635);n.__exportStar(r(8895),t),n.__exportStar(r(1118),t),n.__exportStar(r(6259),t)},6250(e,t,r){"use strict";const n=r(2017);n.code='require("ajv/dist/runtime/equal").default',t.A=n},6259(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=r(1635).__importDefault(r(7194)),i=r(228),s=r(1400);class a extends i.EventEmitter{#U;#V;#F;#w;#L=!1;#$;#r;get isDestroyed(){return this.#L}constructor(e,t,r){super(),this.#U=e,this.#V=t,this.#w={...r},this.#F=n.default.createSocket("udp4");try{this.#F.bind(this.#w.bind_port||0,this.#w.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#w.bind_ip||"0.0.0.0"}:${this.#w.bind_port||0}`)}void 0!==this.#w.ttl&&this.#F.setTTL(this.#w.ttl),void 0!==this.#w.multicast_ttl&&this.#F.setMulticastTTL(this.#w.multicast_ttl),this.#F.on("error",(e=>{this.#R(s.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#F.on("listening",(()=>{this.#w.broadcast&&this.#F.setBroadcast(!0),this.#w.multicast_interface&&this.#F.setMulticastInterface(this.#w.multicast_interface),this.#R(s.InstanceStatus.Ok),this.emit("listening")})),this.#F.on("message",((e,t)=>this.emit("data",e,t))),this.#r=setTimeout((()=>{this.#L||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#U}:${this.#V} is missing an error handler!`)}),5e3)}async send(e){if(this.#L)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,r)=>{this.#F.send(e,this.#V,this.#U,(e=>{e?r(e):t()}))}))}destroy(){this.#L=!0,void 0!==this.#r&&(clearTimeout(this.#r),this.#r=void 0),this.#F.removeAllListeners(),this.#F.close(),this.removeAllListeners()}#R(e,t){this.#$!=e&&(this.#$=e,this.emit("status_change",e,t))}}t.UDPHelper=a},6278(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.substituteEscapeCharacters=t.parseEscapeCharacters=t.assertNever=t.splitHex=t.splitHsv=t.splitHsl=t.splitRgb=t.combineRgb=t.literal=void 0;const n=r(1635);n.__exportStar(r(9077),t),n.__exportStar(r(2018),t),n.__exportStar(r(4581),t),n.__exportStar(r(5158),t);var i=r(360);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return i.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return i.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return i.splitRgb}}),Object.defineProperty(t,"splitHsl",{enumerable:!0,get:function(){return i.splitHsl}}),Object.defineProperty(t,"splitHsv",{enumerable:!0,get:function(){return i.splitHsv}}),Object.defineProperty(t,"splitHex",{enumerable:!0,get:function(){return i.splitHex}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return i.assertNever}}),Object.defineProperty(t,"parseEscapeCharacters",{enumerable:!0,get:function(){return i.parseEscapeCharacters}}),Object.defineProperty(t,"substituteEscapeCharacters",{enumerable:!0,get:function(){return i.substituteEscapeCharacters}}),n.__exportStar(r(6160),t);var s=r(4326);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return s.runEntrypoint}})},6284(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},i=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},s=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},a=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},o=function(e){return{r:s(e.r,0,255),g:s(e.g,0,255),b:s(e.b,0,255),a:s(e.a)}},u=function(e){return{r:i(e.r),g:i(e.g),b:i(e.b),a:i(e.a,3)}},c=/^#([0-9a-f]{3,8})$/i,l=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},d=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=Math.max(t,r,n),a=s-Math.min(t,r,n),o=a?s===t?(r-n)/a:s===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:i}},h=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),a=n*(1-r),o=n*(1-(t-s)*r),u=n*(1-(1-t+s)*r),c=s%6;return{r:255*[n,o,a,a,u,n][c],g:255*[u,n,n,o,a,a][c],b:255*[a,a,u,n,n,o][c],a:i}},f=function(e){return{h:a(e.h),s:s(e.s,0,100),l:s(e.l,0,100),a:s(e.a)}},p=function(e){return{h:i(e.h),s:i(e.s),l:i(e.l),a:i(e.a,3)}},m=function(e){return h((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},y=function(e){return{h:(t=d(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},g=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k={string:[[function(e){var t=c.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?i(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?i(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=v.exec(e)||w.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:o({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=g.exec(e)||b.exec(e);if(!t)return null;var n,i,s=f({h:(n=t[1],i=t[2],void 0===i&&(i="deg"),Number(n)*(r[i]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(s)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,i=e.b,s=e.a,a=void 0===s?1:s;return n(t)&&n(r)&&n(i)?o({r:Number(t),g:Number(r),b:Number(i),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,r=e.s,i=e.l,s=e.a,a=void 0===s?1:s;if(!n(t)||!n(r)||!n(i))return null;var o=f({h:Number(t),s:Number(r),l:Number(i),a:Number(a)});return m(o)},"hsl"],[function(e){var t=e.h,r=e.s,i=e.v,o=e.a,u=void 0===o?1:o;if(!n(t)||!n(r)||!n(i))return null;var c=function(e){return{h:a(e.h),s:s(e.s,0,100),v:s(e.v,0,100),a:s(e.a)}}({h:Number(t),s:Number(r),v:Number(i),a:Number(u)});return h(c)},"hsv"]]},_=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},T=function(e){return"string"==typeof e?_(e.trim(),k.string):"object"==typeof e&&null!==e?_(e,k.object):[null,void 0]},S=function(e,t){var r=y(e);return{h:r.h,s:s(r.s+100*t,0,100),l:r.l,a:r.a}},O=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},E=function(e,t){var r=y(e);return{h:r.h,s:r.s,l:s(r.l+100*t,0,100),a:r.a}},I=function(){function e(e){this.parsed=T(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return i(O(this.rgba),2)},e.prototype.isDark=function(){return O(this.rgba)<.5},e.prototype.isLight=function(){return O(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=u(this.rgba)).r,r=e.g,n=e.b,a=(s=e.a)<1?l(i(255*s)):"","#"+l(t)+l(r)+l(n)+a;var e,t,r,n,s,a},e.prototype.toRgb=function(){return u(this.rgba)},e.prototype.toRgbString=function(){return t=(e=u(this.rgba)).r,r=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+n+", "+i+")":"rgb("+t+", "+r+", "+n+")";var e,t,r,n,i},e.prototype.toHsl=function(){return p(y(this.rgba))},e.prototype.toHslString=function(){return t=(e=p(y(this.rgba))).h,r=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+i+")":"hsl("+t+", "+r+"%, "+n+"%)";var e,t,r,n,i},e.prototype.toHsv=function(){return e=d(this.rgba),{h:i(e.h),s:i(e.s),v:i(e.v),a:i(e.a,3)};var e},e.prototype.invert=function(){return A({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),A(S(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),A(S(this.rgba,-e))},e.prototype.grayscale=function(){return A(S(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),A(E(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),A(E(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?A({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):i(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=y(this.rgba);return"number"==typeof e?A({h:e,s:t.s,l:t.l,a:t.a}):i(t.h)},e.prototype.isEqual=function(e){return this.toHex()===A(e).toHex()},e}(),A=function(e){return e instanceof I?e:new I(e)},C=[];t.Colord=I,t.colord=A,t.extend=function(e){e.forEach((function(e){C.indexOf(e)<0&&(e(I,k),C.push(e))}))},t.getFormat=function(e){return T(e)[1]},t.random=function(){return new I({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},6368(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,s||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var u,c,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,a),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(d-1);h<d;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var u=0,c=[],l=o.length;u<l;u++)(o[u].fn!==t||i&&!o[u].once||n&&o[u].context!==n)&&c.push(o[u]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},6641(e,t,r){"use strict";const n=r(4617);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const s=(e,t,r)=>new Promise(((s,a)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void s(e);const o=setTimeout((()=>{if("function"==typeof r){try{s(r())}catch(e){a(e)}return}const n=r instanceof Error?r:new i("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),a(n)}),t);n(e.then(s,a),(()=>{clearTimeout(o)}))}));e.exports=s,e.exports.default=s,e.exports.TimeoutError=i},6807(e,t,r){const n=r(3024),i=r(2916);function s(e,t){const r=new Promise(e);if(!t)return r;r.then((e=>{t(null,e)})).catch((e=>{t(e,null)}))}const a={},o={},u={};o.fromURL=function(e,t,r){return"function"==typeof t&&void 0===r&&(r=t,t=void 0),s(((r,n)=>{const s=t&&"object"==typeof t?{...t}:{};fetch(e,s).then((e=>{if(!e.ok)throw new Error(`${e.status} ${e.statusText}`);return e.text()})).then((e=>{i.parseICS(e,((e,t)=>{e?n(e):r(t)}))})).catch((e=>{n(e)}))}),r)},o.parseFile=function(e,t){return s(((t,r)=>{n.readFile(e,"utf8",((e,n)=>{e?r(e):i.parseICS(n,((e,n)=>{e?r(e):t(n)}))}))}),t)},o.parseICS=function(e,t){return s(((t,r)=>{i.parseICS(e,((e,n)=>{e?r(e):t(n)}))}),t)},a.parseFile=function(e){const t=n.readFileSync(e,"utf8");return i.parseICS(t)},a.parseICS=function(e){return i.parseICS(e)},u.parseFile=function(e,t){if(!t)return a.parseFile(e);o.parseFile(e,t)},u.parseICS=function(e,t){if(!t)return a.parseICS(e);o.parseICS(e,t)},e.exports={fromURL:o.fromURL,parseFile:u.parseFile,parseICS:u.parseICS,sync:a,async:o,objectHandlers:i.objectHandlers,handleObject:i.handleObject,parseLines:i.parseLines}},6928(e){"use strict";e.exports=require("path")},7e3(e,t,r){"use strict";const n=r(4865);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:i=0,before:s=!1,after:a=!0}=t;if(!s&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,u,c;const l=function(...t){const n=this,l=s&&!o;return clearTimeout(o),o=setTimeout((()=>{o=void 0,u&&(clearTimeout(u),u=void 0),a&&(c=e.apply(n,t))}),r),i>0&&!u&&a&&(u=setTimeout((()=>{u=void 0,o&&(clearTimeout(o),o=void 0),c=e.apply(n,t)}),i)),l&&(c=e.apply(n,t)),c};return n(l,e),l.cancel=()=>{o&&(clearTimeout(o),o=void 0),u&&(clearTimeout(u),u=void 0)},l}},7033(e,t,r){"use strict";var n=r(6159),i=r(493);function s(e,t){this._options=t,this._utc=t.utc||!1,this._tz=this._utc?"UTC":t.tz,this._currentDate=new n(t.currentDate,this._tz),this._startDate=t.startDate?new n(t.startDate,this._tz):null,this._endDate=t.endDate?new n(t.endDate,this._tz):null,this._isIterator=t.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=t.nthDayOfWeek||0,this.fields=s._freezeFields(e)}s.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"],s.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"},s.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}],s.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31],s.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},s.parseDefaults=["0","*","*","*","*","*"],s.standardValidCharacters=/^[,*\d/-]+$/,s.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/,s.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/,s.validCharacters={second:s.standardValidCharacters,minute:s.standardValidCharacters,hour:s.standardValidCharacters,dayOfMonth:s.dayOfMonthValidCharacters,month:s.standardValidCharacters,dayOfWeek:s.dayOfWeekValidCharacters},s._isValidConstraintChar=function(e,t){return"string"==typeof t&&e.chars.some((function(e){return t.indexOf(e)>-1}))},s._parseField=function(e,t,r){switch(e){case"month":case"dayOfWeek":var n=s.aliases[e];t=t.replace(/[a-z]{3}/gi,(function(e){if(e=e.toLowerCase(),void 0!==n[e])return n[e];throw new Error('Validation error, cannot resolve alias "'+e+'"')}))}if(!s.validCharacters[e].test(t))throw new Error("Invalid characters, got value: "+t);function i(e){var t=e.split("/");if(t.length>2)throw new Error("Invalid repeat: "+e);return t.length>1?(t[0]==+t[0]&&(t=[t[0]+"-"+r.max,t[1]]),a(t[0],t[t.length-1])):a(e,1)}function a(t,n){var i=[],s=t.split("-");if(s.length>1){if(s.length<2)return+t;if(!s[0].length){if(!s[1].length)throw new Error("Invalid range: "+t);return+t}var a=+s[0],o=+s[1];if(Number.isNaN(a)||Number.isNaN(o)||a<r.min||o>r.max)throw new Error("Constraint error, got range "+a+"-"+o+" expected range "+r.min+"-"+r.max);if(a>o)throw new Error("Invalid range: "+t);var u=+n;if(Number.isNaN(u)||u<=0)throw new Error("Constraint error, cannot repeat at every "+u+" time.");"dayOfWeek"===e&&o%7==0&&i.push(0);for(var c=a,l=o;c<=l;c++)-1===i.indexOf(c)&&u>0&&u%n==0?(u=1,i.push(c)):u++;return i}return Number.isNaN(+t)?t:+t}return-1!==t.indexOf("*")?t=t.replace(/\*/g,r.min+"-"+r.max):-1!==t.indexOf("?")&&(t=t.replace(/\?/g,r.min+"-"+r.max)),function(t){var n=[];function a(t){if(t instanceof Array)for(var i=0,a=t.length;i<a;i++){var o=t[i];if(s._isValidConstraintChar(r,o))n.push(o);else{if("number"!=typeof o||Number.isNaN(o)||o<r.min||o>r.max)throw new Error("Constraint error, got value "+o+" expected range "+r.min+"-"+r.max);n.push(o)}}else{if(s._isValidConstraintChar(r,t))return void n.push(t);var u=+t;if(Number.isNaN(u)||u<r.min||u>r.max)throw new Error("Constraint error, got value "+t+" expected range "+r.min+"-"+r.max);"dayOfWeek"===e&&(u%=7),n.push(u)}}var o=t.split(",");if(!o.every((function(e){return e.length>0})))throw new Error("Invalid list value format");if(o.length>1)for(var u=0,c=o.length;u<c;u++)a(i(o[u]));else a(i(t));return n.sort(s._sortCompareFn),n}(t)},s._sortCompareFn=function(e,t){var r="number"==typeof e,n="number"==typeof t;return r&&n?e-t:!r&&n?1:r&&!n?-1:e.localeCompare(t)},s._handleMaxDaysInMonth=function(e){if(1===e.month.length){var t=s.daysInMonth[e.month[0]-1];if(e.dayOfMonth[0]>t)throw new Error("Invalid explicit day of month definition");return e.dayOfMonth.filter((function(e){return"L"===e||e<=t})).sort(s._sortCompareFn)}},s._freezeFields=function(e){for(var t=0,r=s.map.length;t<r;++t){var n=s.map[t],i=e[n];e[n]=Object.freeze(i)}return Object.freeze(e)},s.prototype._applyTimezoneShift=function(e,t,r){if("Month"===r||"Day"===r){var n=e.getTime();e[t+r](),n===e.getTime()&&(0===e.getMinutes()&&0===e.getSeconds()?e.addHour():59===e.getMinutes()&&59===e.getSeconds()&&e.subtractHour())}else{var i=e.getHours();e[t+r]();var s=e.getHours(),a=s-i;2===a?24!==this.fields.hour.length&&(this._dstStart=s):0===a&&0===e.getMinutes()&&0===e.getSeconds()&&24!==this.fields.hour.length&&(this._dstEnd=s)}},s.prototype._findSchedule=function(e){function t(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r]>=e)return t[r]===e;return t[0]===e}function r(e,t){if(t<6){if(e.getDate()<8&&1===t)return!0;var r=e.getDate()%7?1:0,n=e.getDate()-e.getDate()%7;return Math.floor(n/7)+r===t}return!1}function i(e){return e.length>0&&e.some((function(e){return"string"==typeof e&&e.indexOf("L")>=0}))}for(var a=(e=e||!1)?"subtract":"add",o=new n(this._currentDate,this._tz),u=this._startDate,c=this._endDate,l=o.getTime(),d=0;d<1e4;){if(d++,e){if(u&&o.getTime()-u.getTime()<0)throw new Error("Out of the timespan range")}else if(c&&c.getTime()-o.getTime()<0)throw new Error("Out of the timespan range");var h=t(o.getDate(),this.fields.dayOfMonth);i(this.fields.dayOfMonth)&&(h=h||o.isLastDayOfMonth());var f=t(o.getDay(),this.fields.dayOfWeek);i(this.fields.dayOfWeek)&&(f=f||this.fields.dayOfWeek.some((function(e){if(!i([e]))return!1;var t=Number.parseInt(e[0])%7;if(Number.isNaN(t))throw new Error("Invalid last weekday of the month expression: "+e);return o.getDay()===t&&o.isLastWeekdayOfMonth()})));var p=this.fields.dayOfMonth.length>=s.daysInMonth[o.getMonth()],m=this.fields.dayOfWeek.length===s.constraints[5].max-s.constraints[5].min+1,y=o.getHours();if(h||f&&!m)if(p||!m||h)if(!p||m||f)if(this._nthDayOfWeek>0&&!r(o,this._nthDayOfWeek))this._applyTimezoneShift(o,a,"Day");else if(t(o.getMonth()+1,this.fields.month)){if(t(y,this.fields.hour)){if(this._dstEnd===y&&!e){this._dstEnd=null,this._applyTimezoneShift(o,"add","Hour");continue}}else{if(this._dstStart!==y){this._dstStart=null,this._applyTimezoneShift(o,a,"Hour");continue}if(!t(y-1,this.fields.hour)){o[a+"Hour"]();continue}}if(t(o.getMinutes(),this.fields.minute))if(t(o.getSeconds(),this.fields.second)){if(l!==o.getTime())break;"add"===a||0===o.getMilliseconds()?this._applyTimezoneShift(o,a,"Second"):o.setMilliseconds(0)}else this._applyTimezoneShift(o,a,"Second");else this._applyTimezoneShift(o,a,"Minute")}else this._applyTimezoneShift(o,a,"Month");else this._applyTimezoneShift(o,a,"Day");else this._applyTimezoneShift(o,a,"Day");else this._applyTimezoneShift(o,a,"Day")}if(d>=1e4)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new n(o,this._tz),this._hasIterated=!0,o},s.prototype.next=function(){var e=this._findSchedule();return this._isIterator?{value:e,done:!this.hasNext()}:e},s.prototype.prev=function(){var e=this._findSchedule(!0);return this._isIterator?{value:e,done:!this.hasPrev()}:e},s.prototype.hasNext=function(){var e=this._currentDate,t=this._hasIterated;try{return this._findSchedule(),!0}catch(e){return!1}finally{this._currentDate=e,this._hasIterated=t}},s.prototype.hasPrev=function(){var e=this._currentDate,t=this._hasIterated;try{return this._findSchedule(!0),!0}catch(e){return!1}finally{this._currentDate=e,this._hasIterated=t}},s.prototype.iterate=function(e,t){var r=[];if(e>=0)for(var n=0,i=e;n<i;n++)try{var s=this.next();r.push(s),t&&t(s,n)}catch(e){break}else for(n=0,i=e;n>i;n--)try{s=this.prev(),r.push(s),t&&t(s,n)}catch(e){break}return r},s.prototype.reset=function(e){this._currentDate=new n(e||this._options.currentDate)},s.prototype.stringify=function(e){for(var t=[],r=e?0:1,n=s.map.length;r<n;++r){var a=s.map[r],o=this.fields[a],u=s.constraints[r];"dayOfMonth"===a&&1===this.fields.month.length?u={min:1,max:s.daysInMonth[this.fields.month[0]-1]}:"dayOfWeek"===a&&(u={min:0,max:6},o=7===o[o.length-1]?o.slice(0,-1):o),t.push(i(o,u.min,u.max))}return t.join(" ")},s.parse=function(e,t){var r=this;return"function"==typeof t&&(t={}),function(e,t){t||(t={}),void 0===t.currentDate&&(t.currentDate=new n(void 0,r._tz)),s.predefined[e]&&(e=s.predefined[e]);var i=[],a=(e+"").trim().split(/\s+/);if(a.length>6)throw new Error("Invalid cron expression");for(var o=s.map.length-a.length,u=0,c=s.map.length;u<c;++u){var l=s.map[u],d=a[a.length>c?u:u-o];if(u<o||!d)i.push(s._parseField(l,s.parseDefaults[u],s.constraints[u]));else{var h="dayOfWeek"===l?m(d):d;i.push(s._parseField(l,h,s.constraints[u]))}}var f={};for(u=0,c=s.map.length;u<c;u++)f[s.map[u]]=i[u];var p=s._handleMaxDaysInMonth(f);return f.dayOfMonth=p||f.dayOfMonth,new s(f,t);function m(e){var r=e.split("#");if(r.length>1){var n=+r[r.length-1];if(/,/.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(r.length>2||Number.isNaN(n)||n<1||n>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return t.nthDayOfWeek=n,r[0]}return e}}(e,t)},s.fieldsToExpression=function(e,t){function r(e,t,r){if(!t)throw new Error("Validation error, Field "+e+" is missing");if(0===t.length)throw new Error("Validation error, Field "+e+" contains no values");for(var n=0,i=t.length;n<i;n++){var a=t[n];if(!s._isValidConstraintChar(r,a)&&("number"!=typeof a||Number.isNaN(a)||a<r.min||a>r.max))throw new Error("Constraint error, got value "+a+" expected range "+r.min+"-"+r.max)}}for(var n={},i=0,a=s.map.length;i<a;++i){var o=s.map[i],u=e[o];r(o,u,s.constraints[i]);for(var c=[],l=-1;++l<u.length;)c[l]=u[l];if((u=c.sort(s._sortCompareFn).filter((function(e,t,r){return!t||e!==r[t-1]}))).length!==c.length)throw new Error("Validation error, Field "+o+" contains duplicate values");n[o]=u}var d=s._handleMaxDaysInMonth(n);return n.dayOfMonth=d||n.dayOfMonth,new s(n,t||{})},e.exports=s},7059(e,t,r){"use strict";const n=r(5821),i=r(6159),s=r(643),a=[];let o=null;const u=new h;function c(e,t,r,n){this.job=e,this.fireDate=t,this.endDate=n,this.recurrenceRule=r||u,this.timerID=null}function l(e,t){return e.fireDate.getTime()-t.fireDate.getTime()}function d(e,t,r){this.start=e||0,this.end=t||60,this.step=r||1}function h(e,t,r,n,i,s,a){this.recurs=!0,this.year=null==e?null:e,this.month=null==t?null:t,this.date=null==r?null:r,this.dayOfWeek=null==n?null:n,this.hour=null==i?null:i,this.minute=null==s?null:s,this.second=null==a?0:a}function f(e,t){if(null==t)return!0;if("number"==typeof t)return e===t;if("string"==typeof t)return e===Number(t);if(t instanceof d)return t.contains(e);if(Array.isArray(t)||t instanceof Array)for(let r=0;r<t.length;r++)if(f(e,t[r]))return!0;return!1}function p(e,t){const r=Date.now(),i=e.getTime();return n.setTimeout((function(){i>Date.now()?p(e,t):t()}),i<r?0:i-r)}function m(e){s.add(a,e,l),y();const t=e.fireDate instanceof i?e.fireDate.toDate():e.fireDate;e.job.emit("scheduled",t)}function y(){if(a.length>0&&o!==a[0]){null!==o&&(n.clearTimeout(o.timerID),o.timerID=null,o=null),o=a[0];const e=o.job,t=o;o.timerID=p(o.fireDate,(function(){if(a.shift(),o=null,y(),e.callback&&e.callback(),t.recurrenceRule.recurs||null===t.recurrenceRule._endDate){const e=g(t.recurrenceRule,t.job,t.fireDate,t.endDate);null!==e&&e.job.trackInvocation(e)}e.stopTrackingInvocation(t);try{const r=e.invoke(t.fireDate instanceof i?t.fireDate.toDate():t.fireDate);e.emit("run"),e.running+=1,r instanceof Promise?r.then((function(t){e.emit("success",t),e.running-=1})).catch((function(t){e.emit("error",t),e.running-=1})):(e.emit("success",r),e.running-=1)}catch(t){e.emit("error",t),e.running-=1}e.isOneTimeJob&&e.deleteFromSchedule()}))}}function g(e,t,r,n){r=r instanceof i?r:new i;const s=e instanceof h?e._nextInvocationDate(r):e.next();if(null===s)return null;if(n instanceof i&&s.getTime()>n.getTime())return null;const a=new c(t,s,e,n);return m(a),a}u.recurs=!1,d.prototype.contains=function(e){if(null===this.step||1===this.step)return e>=this.start&&e<=this.end;for(let t=this.start;t<this.end;t+=this.step)if(t===e)return!0;return!1},h.prototype.isValid=function(){function e(t){return Array.isArray(t)||t instanceof Array?t.every((function(t){return e(t)})):!(Number.isNaN(Number(t))&&!(t instanceof d))}if(null!==this.month&&(this.month<0||this.month>11||!e(this.month)))return!1;if(null!==this.dayOfWeek&&(this.dayOfWeek<0||this.dayOfWeek>6||!e(this.dayOfWeek)))return!1;if(null!==this.hour&&(this.hour<0||this.hour>23||!e(this.hour)))return!1;if(null!==this.minute&&(this.minute<0||this.minute>59||!e(this.minute)))return!1;if(null!==this.second&&(this.second<0||this.second>59||!e(this.second)))return!1;if(null!==this.date){if(!e(this.date))return!1;switch(this.month){case 3:case 5:case 8:case 10:if(this.date<1||this.date>30)return!1;break;case 1:if(this.date<1||this.date>29)return!1;break;default:if(this.date<1||this.date>31)return!1}}return!0},h.prototype.nextInvocationDate=function(e){const t=this._nextInvocationDate(e);return t?t.toDate():null},h.prototype._nextInvocationDate=function(e){if(e=e instanceof i||e instanceof Date?e:new Date,!this.recurs)return null;if(!this.isValid())return null;let t=new i(Date.now(),this.tz).getFullYear();if(null!==this.year&&"number"==typeof this.year&&this.year<t)return null;let r=new i(e.getTime(),this.tz);for(r.addSecond();;){if(null!==this.year){if(t=r.getFullYear(),"number"==typeof this.year&&this.year<t){r=null;break}if(!f(t,this.year)){r.addYear(),r.setMonth(0),r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0);continue}}if(null==this.month||f(r.getMonth(),this.month))if(null==this.date||f(r.getDate(),this.date))if(null==this.dayOfWeek||f(r.getDay(),this.dayOfWeek))if(null==this.hour||f(r.getHours(),this.hour))if(null==this.minute||f(r.getMinutes(),this.minute)){if(null==this.second||f(r.getSeconds(),this.second))break;r.addSecond()}else r.addMinute();else r.addHour();else r.addDay();else r.addDay();else r.addMonth()}return r},e.exports={Range:d,RecurrenceRule:h,Invocation:c,cancelInvocation:function(e){const t=a.indexOf(e);t>-1&&(a.splice(t,1),null!==e.timerID&&n.clearTimeout(e.timerID),o===e&&(o=null),e.job.emit("canceled",e.fireDate),y())},scheduleInvocation:m,scheduleNextRecurrence:g,sorter:l,_invocations:a}},7060(e){e.exports=[function(e,t){return{updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}}]},7194(e){"use strict";e.exports=require("dgram")},7281(e,t,r){"use strict";e.exports=o,e.exports.default=o;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{$schema:{type:"string"},id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},isPrerelease:{type:"boolean",description:"Is this a pre-release version"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"},url:{type:"string"}},required:["name"],additionalProperties:!1}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18 or node22",enum:["node18","node22"]},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"},permissions:{type:"object",description:"Permissions required by the module. This is used to inform the user of the permissions required by the module.\nNote: this requires the node22 or newer runtime",properties:{"worker-threads":{type:"boolean",description:"Enable if the module uses worker threads"},"child-process":{type:"boolean",description:"Enable if the module uses child processes"},"native-addons":{type:"boolean",description:"Enable if the module uses native addons"},filesystem:{type:"boolean",description:"Enable if the module requires read/write access to the filesystem"}},additionalProperties:!1}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"},minItems:1},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}},bonjourQueries:{type:"object",description:"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name",patternProperties:{"":{oneOf:[{$ref:"#/definitions/bonjourQuery"},{type:"array",items:{$ref:"#/definitions/bonjourQuery"}}]}}}},required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"],definitions:{bonjourQuery:{type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},port:{type:"number"},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}}}},required:["type","protocol"]}}},i={type:"object",title:"ModuleBonjourQuery",description:"",properties:{type:{type:"string"},protocol:{type:"string",enum:["tcp","udp"]},port:{type:"number"},txt:{type:"object",description:"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported",patternProperties:{"":{type:"string"}}}},required:["type","protocol"]},s=r(6250).A,a=new RegExp("","u");function o(e,{instancePath:t="",parentData:r,parentDataProperty:u,rootData:c=e}={}){let l=null,d=0;if(0===d){if(!e||"object"!=typeof e||Array.isArray(e))return o.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.id&&(r="id")||void 0===e.name&&(r="name")||void 0===e.shortname&&(r="shortname")||void 0===e.description&&(r="description")||void 0===e.version&&(r="version")||void 0===e.license&&(r="license")||void 0===e.repository&&(r="repository")||void 0===e.bugs&&(r="bugs")||void 0===e.maintainers&&(r="maintainers")||void 0===e.legacyIds&&(r="legacyIds")||void 0===e.runtime&&(r="runtime")||void 0===e.manufacturer&&(r="manufacturer")||void 0===e.products&&(r="products")||void 0===e.keywords&&(r="keywords"))return o.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.$schema){const r=d;if("string"!=typeof e.$schema)return o.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=r===d}else h=!0;if(h){if(void 0!==e.id){const r=d;if("string"!=typeof e.id)return o.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.name){const r=d;if("string"!=typeof e.name)return o.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.shortname){const r=d;if("string"!=typeof e.shortname)return o.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.description){const r=d;if("string"!=typeof e.description)return o.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.version){const r=d;if("string"!=typeof e.version)return o.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.isPrerelease){const r=d;if("boolean"!=typeof e.isPrerelease)return o.errors=[{instancePath:t+"/isPrerelease",schemaPath:"#/properties/isPrerelease/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.license){const r=d;if("string"!=typeof e.license)return o.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.repository){const r=d;if("string"!=typeof e.repository)return o.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.bugs){const r=d;if("string"!=typeof e.bugs)return o.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.maintainers){let r=e.maintainers;const n=d;if(d===n){if(!Array.isArray(r))return o.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var f=!0;const e=r.length;for(let n=0;n<e;n++){let e=r[n];const i=d;if(d===i){if(!e||"object"!=typeof e||Array.isArray(e))return o.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.name&&(r="name"))return o.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=d;for(const r in e)if("name"!==r&&"email"!==r&&"github"!==r&&"url"!==r)return o.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===d){if(void 0!==e.name){const r=d;if("string"!=typeof e.name)return o.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=r===d}else p=!0;if(p){if(void 0!==e.email){const r=d;if("string"!=typeof e.email)return o.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p){if(void 0!==e.github){const r=d;if("string"!=typeof e.github)return o.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0;if(p)if(void 0!==e.url){const r=d;if("string"!=typeof e.url)return o.errors=[{instancePath:t+"/maintainers/"+n+"/url",schemaPath:"#/properties/maintainers/items/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===d}else p=!0}}}}}}if(!(f=i===d))break}if(f){let e,n=r.length;if(n>1)for(;n--;)for(e=n;e--;)if(s(r[n],r[e]))return o.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}h=n===d}else h=!0;if(h){if(void 0!==e.legacyIds){let r=e.legacyIds;const n=d;if(d===n){if(!Array.isArray(r))return o.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var m=!0;const e=r.length;for(let n=0;n<e;n++){const e=d;if("string"!=typeof r[n])return o.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=e===d))break}if(m){let e,n=r.length;if(n>1){const i={};for(;n--;){let s=r[n];if("string"==typeof s){if("number"==typeof i[s])return e=i[s],o.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[s]=n}}}}}}h=n===d}else h=!0;if(h){if(void 0!==e.runtime){let r=e.runtime;const i=d;if(d===i){if(!r||"object"!=typeof r||Array.isArray(r))return o.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.type&&(e="type")||void 0===r.api&&(e="api")||void 0===r.apiVersion&&(e="apiVersion")||void 0===r.entrypoint&&(e="entrypoint"))return o.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.type){let e=r.type;const i=d;if("string"!=typeof e)return o.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("node18"!==e&&"node22"!==e)return o.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var y=i===d}else y=!0;if(y){if(void 0!==r.api){let e=r.api;const i=d;if("string"!=typeof e)return o.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return o.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;y=i===d}else y=!0;if(y){if(void 0!==r.apiVersion){const e=d;if("string"!=typeof r.apiVersion)return o.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=e===d}else y=!0;if(y){if(void 0!==r.entrypoint){const e=d;if("string"!=typeof r.entrypoint)return o.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=e===d}else y=!0;if(y)if(void 0!==r.permissions){let e=r.permissions;const n=d;if(d===n){if(!e||"object"!=typeof e||Array.isArray(e))return o.errors=[{instancePath:t+"/runtime/permissions",schemaPath:"#/properties/runtime/properties/permissions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=d;for(const r in e)if("worker-threads"!==r&&"child-process"!==r&&"native-addons"!==r&&"filesystem"!==r)return o.errors=[{instancePath:t+"/runtime/permissions",schemaPath:"#/properties/runtime/properties/permissions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===d){if(void 0!==e["worker-threads"]){const r=d;if("boolean"!=typeof e["worker-threads"])return o.errors=[{instancePath:t+"/runtime/permissions/worker-threads",schemaPath:"#/properties/runtime/properties/permissions/properties/worker-threads/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var g=r===d}else g=!0;if(g){if(void 0!==e["child-process"]){const r=d;if("boolean"!=typeof e["child-process"])return o.errors=[{instancePath:t+"/runtime/permissions/child-process",schemaPath:"#/properties/runtime/properties/permissions/properties/child-process/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;g=r===d}else g=!0;if(g){if(void 0!==e["native-addons"]){const r=d;if("boolean"!=typeof e["native-addons"])return o.errors=[{instancePath:t+"/runtime/permissions/native-addons",schemaPath:"#/properties/runtime/properties/permissions/properties/native-addons/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;g=r===d}else g=!0;if(g)if(void 0!==e.filesystem){const r=d;if("boolean"!=typeof e.filesystem)return o.errors=[{instancePath:t+"/runtime/permissions/filesystem",schemaPath:"#/properties/runtime/properties/permissions/properties/filesystem/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;g=r===d}else g=!0}}}}}y=n===d}else y=!0}}}}}h=i===d}else h=!0;if(h){if(void 0!==e.manufacturer){const r=d;if("string"!=typeof e.manufacturer)return o.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=r===d}else h=!0;if(h){if(void 0!==e.products){let r=e.products;const n=d;if(d===n){if(!Array.isArray(r))return o.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return o.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var b=!0;const e=r.length;for(let n=0;n<e;n++){const e=d;if("string"!=typeof r[n])return o.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(b=e===d))break}if(b){let e,n=r.length;if(n>1){const i={};for(;n--;){let s=r[n];if("string"==typeof s){if("number"==typeof i[s])return e=i[s],o.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[s]=n}}}}}}h=n===d}else h=!0;if(h){if(void 0!==e.keywords){let r=e.keywords;const n=d;if(d===n){if(!Array.isArray(r))return o.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var v=!0;const e=r.length;for(let n=0;n<e;n++){const e=d;if("string"!=typeof r[n])return o.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(v=e===d))break}if(v){let e,n=r.length;if(n>1){const i={};for(;n--;){let s=r[n];if("string"==typeof s){if("number"==typeof i[s])return e=i[s],o.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;i[s]=n}}}}}}h=n===d}else h=!0;if(h)if(void 0!==e.bonjourQueries){let r=e.bonjourQueries;const n=d;if(d===n){if(!r||"object"!=typeof r||Array.isArray(r))return o.errors=[{instancePath:t+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r)if(a.test(e)){let n=r[e];const s=d,u=d;let c=!1,h=null;const f=d;if(d==d)if(n&&"object"==typeof n&&!Array.isArray(n)){let r;if(void 0===n.type&&(r="type")||void 0===n.protocol&&(r="protocol")){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===l?l=[n]:l.push(n),d++}else{if(void 0!==n.type){const r=d;if("string"!=typeof n.type){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[r]:l.push(r),d++}var w=r===d}else w=!0;if(w){if(void 0!==n.protocol){let r=n.protocol;const s=d;if("string"!=typeof r){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[r]:l.push(r),d++}if("tcp"!==r&&"udp"!==r){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:i.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===l?l=[r]:l.push(r),d++}w=s===d}else w=!0;if(w){if(void 0!==n.port){let r=n.port;const i=d;if("number"!=typeof r||!isFinite(r)){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/port",schemaPath:"#/definitions/bonjourQuery/properties/port/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[r]:l.push(r),d++}w=i===d}else w=!0;if(w)if(void 0!==n.txt){let r=n.txt;const i=d;if(d===i)if(r&&"object"==typeof r&&!Array.isArray(r)){for(const n in r)if(a.test(n)){const i=d;if("string"!=typeof r[n]){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[r]:l.push(r),d++}if(i!==d)break}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[r]:l.push(r),d++}w=i===d}else w=!0}}}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[r]:l.push(r),d++}f===d&&(c=!0,h=0);const p=d;if(d===p)if(Array.isArray(n)){const r=n.length;for(let s=0;s<r;s++){let r=n[s];const o=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let n;if(void 0===r.type&&(n="type")||void 0===r.protocol&&(n="protocol")){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s,schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"};null===l?l=[r]:l.push(r),d++}else{if(void 0!==r.type){const n=d;if("string"!=typeof r.type){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[r]:l.push(r),d++}var k=n===d}else k=!0;if(k){if(void 0!==r.protocol){let n=r.protocol;const a=d;if("string"!=typeof n){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[r]:l.push(r),d++}if("tcp"!==n&&"udp"!==n){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues:i.properties.protocol.enum},message:"must be equal to one of the allowed values"};null===l?l=[r]:l.push(r),d++}k=a===d}else k=!0;if(k){if(void 0!==r.port){let n=r.port;const i=d;if("number"!=typeof n||!isFinite(n)){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s+"/port",schemaPath:"#/definitions/bonjourQuery/properties/port/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[r]:l.push(r),d++}k=i===d}else k=!0;if(k)if(void 0!==r.txt){let n=r.txt;const i=d;if(d===i)if(n&&"object"==typeof n&&!Array.isArray(n)){for(const r in n)if(a.test(r)){const i=d;if("string"!=typeof n[r]){const n={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s+"/txt/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[n]:l.push(n),d++}if(i!==d)break}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[r]:l.push(r),d++}k=i===d}else k=!0}}}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+s,schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[r]:l.push(r),d++}if(o!==d)break}}else{const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[r]:l.push(r),d++}var _;if((_=p===d)&&c?(c=!1,h=[h,1]):_&&(c=!0,h=1),!c){const r={instancePath:t+"/bonjourQueries/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf",keyword:"oneOf",params:{passingSchemas:h},message:"must match exactly one schema in oneOf"};return null===l?l=[r]:l.push(r),d++,o.errors=l,!1}if(d=u,null!==l&&(u?l.length=u:l=null),s!==d)break}}h=n===d}else h=!0}}}}}}}}}}}}}}}}}return o.errors=l,0===d}},7386(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7598(e){"use strict";e.exports=require("node:crypto")},7688(e){"use strict";function t(e){return{start:e,count:1}}function r(e,t){e.end=t,e.step=t-e.start,e.count=2}function n(e,r,n){r&&(2===r.count?(e.push(t(r.start)),e.push(t(r.end))):e.push(r)),n&&e.push(n)}e.exports=function(e){for(var i=[],s=void 0,a=0;a<e.length;a++){var o=e[a];"number"!=typeof o?(n(i,s,t(o)),s=void 0):s?1===s.count?r(s,o):s.step===o-s.end?(s.count++,s.end=o):2===s.count?(i.push(t(s.start)),r(s=t(s.end),o)):(n(i,s),s=t(o)):s=t(o)}return n(i,s),i}},8039(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=r(1635),i=r(2593),s=n.__importDefault(r(7e3)),a=r(360);function o(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#D;#W;#z;#M;#Y=new Map;#q=new Map;#H=new Map;#Z=new Map;#J;get parseVariablesContext(){return this.#J}constructor(e,t,r,n){this.#D=e,this.#W=t,this.#z=r,this.#M=n}getDefinitionIds(){return Array.from(this.#Y.keys())}getInstanceIds(){return Array.from(this.#q.keys())}handleUpdateFeedbacks(e){for(const[t,r]of Object.entries(e)){const e=this.#q.get(t);if(e&&!r){const t=this.#Y.get(e.feedbackId);if(t?.unsubscribe){const r={parseVariablesInString:async e=>e};Promise.resolve(t.unsubscribe(o(t.type,e),r)).catch((t=>{this.#M("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!r||r.disabled)this.#q.delete(t);else{if(this.#q.set(t,{...r}),!e){const e=this.#Y.get(r.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>e};Promise.resolve(e.subscribe(o(e.type,r),t)).catch((e=>{this.#M("error",`Feedback subscribe failed: ${JSON.stringify(r)} - ${e?.message??e} ${e?.stack}`)}))}}this.#B(t)}}}async handleLearnFeedback(e){const t=this.#Y.get(e.feedback.feedbackId);if(t&&t.learn){const r={parseVariablesInString:async t=>(await this.#D({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},r)}}return{options:void 0}}#B(e){const t=this.#Z.get(e);if(t)return void(t.needsRecheck=!0);const r=this.#q.get(e);if(!r)return;const n=r,i={needsRecheck:!1};this.#Z.set(e,i),Promise.resolve().then((async()=>{const t=this.#Y.get(n.feedbackId);let r;if(t){this.#J=`Feedback ${n.feedbackId} (${e})`;const i={parseVariablesInString:async t=>(await this.#D({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e})).text};switch(t.type){case"boolean":r=t.callback({...o("boolean",n),type:"boolean"},i);break;case"value":r=t.callback({...o("value",n),type:"value"},i);break;case"advanced":r=t.callback({...o("advanced",n),type:"advanced",image:n.image},i);break;default:(0,a.assertNever)(t)}this.#J=void 0}const i=await r;this.#H.set(e,{id:e,controlId:n.controlId,value:i}),this.#G()})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#J=void 0,this.#Z.delete(e),i.needsRecheck&&setImmediate((()=>{this.#B(e)}))}))}#G=(0,s.default)((()=>{const e=this.#H;this.#H=new Map,e.size>0&&this.#W({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#Y.clear();for(const[r,n]of Object.entries(e))n&&(t.push({id:r,name:n.name,description:n.description,options:(0,i.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"boolean"===n.type?n.defaultStyle:void 0,hasLearn:!!n.learn,learnTimeout:n.learnTimeout,showInvert:"boolean"===n.type&&n.showInvert}),this.#Y.set(r,n));this.#z({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,r]of this.#q.entries())this.#Y.get(r.feedbackId)&&(0===t.size||t.has(r.feedbackId))&&this.#B(e)}checkFeedbacksById(e){for(const t of e)this.#B(t)}subscribeFeedbacks(e){let t=Array.from(this.#q.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.feedbackId))));for(const e of t){const t=this.#Y.get(e.feedbackId);if(t?.subscribe){const r={parseVariablesInString:async e=>e};Promise.resolve(t.subscribe(o(t.type,e),r)).catch((t=>{this.#M("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#q.values());const r=new Set(e);r.size&&(t=t.filter((e=>r.has(e.feedbackId))));for(const e of t){const t=this.#Y.get(e.feedbackId);if(t&&t.unsubscribe){const r={parseVariablesInString:async e=>e};Promise.resolve(t.unsubscribe(o(t.type,e),r)).catch((t=>{this.#M("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},8104(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8176(e){e.exports=async function(e){e.setVariableDefinitions([{name:"Event Name",variableId:"event_name"},{name:"Event Start Date",variableId:"event_start_date"},{name:"Event Start Time",variableId:"event_start_time"},{name:"Event End Date",variableId:"event_end_date"},{name:"Event End Time",variableId:"event_end_time"},{name:"Next Event Name",variableId:"next_event_name"},{name:"Next Event Start Date",variableId:"next_event_start_date"},{name:"Next Event Start Time",variableId:"next_event_start_time"},{name:"Next Event End Date",variableId:"next_event_end_date"},{name:"Next Event End Time",variableId:"next_event_end_time"}])}},8706(e){"use strict";e.exports=JSON.parse('{"(GMT+10:00) Canberra, Melbourne, Sydney":{"iana":["Australia/Sydney"]},"(UTC) Casablanca":{"iana":["Africa/Casablanca"]},"(UTC) Coordinated Universal Time":{"iana":["Etc/UTC"]},"(UTC) Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London":{"iana":["Europe/London"]},"(UTC) Monrovia, Reykjavik":{"iana":["Atlantic/Reykjavik"]},"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":{"iana":["Europe/Berlin"]},"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":{"iana":["Europe/Budapest"]},"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":{"iana":["Europe/Paris"]},"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":{"iana":["Europe/Warsaw"]},"(UTC+01:00) West Central Africa":{"iana":["Africa/Lagos"]},"(UTC+02:00) Amman":{"iana":["Asia/Amman"]},"(UTC+02:00) Athens, Bucharest, Istanbul":{"iana":["Europe/Bucharest"]},"(UTC+02:00) Beirut":{"iana":["Asia/Beirut"]},"(UTC+02:00) Cairo":{"iana":["Africa/Cairo"]},"(UTC+02:00) Harare, Pretoria":{"iana":["Africa/Johannesburg"]},"(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":{"iana":["Europe/Kiev"]},"(UTC+02:00) Jerusalem":{"iana":["Asia/Jerusalem"]},"(UTC+02:00) Minsk":{"iana":["Europe/Chisinau"]},"(UTC+02:00) Windhoek":{"iana":["Africa/Windhoek"]},"(UTC+03:00) Baghdad":{"iana":["Asia/Baghdad"]},"(UTC+03:00) Kuwait, Riyadh":{"iana":["Asia/Riyadh"]},"(UTC+03:00) Moscow, St. Petersburg, Volgograd":{"iana":["Europe/Moscow"]},"(UTC+03:00) Nairobi":{"iana":["Africa/Nairobi"]},"(UTC+03:00) Tbilisi":{"iana":["Asia/Tbilisi"]},"(UTC+03:30) Tehran":{"iana":["Asia/Tehran"]},"(UTC+04:00) Abu Dhabi, Muscat":{"iana":["Asia/Dubai"]},"(UTC+04:00) Baku":{"iana":["Asia/Baku"]},"(UTC+04:00) Baku, Tbilisi, Yerevan":{"iana":["Asia/Yerevan"]},"(UTC+04:00) Port Louis":{"iana":["Indian/Mauritius"]},"(UTC+04:00) Yerevan":{"iana":["Asia/Yerevan"]},"(UTC+04:30) Kabul":{"iana":["Asia/Kabul"]},"(UTC+05:00) Ekaterinburg":{"iana":["Asia/Yekaterinburg"]},"(UTC+05:00) Islamabad, Karachi":{"iana":["Asia/Karachi"]},"(UTC+05:00) Tashkent":{"iana":["Asia/Tashkent"]},"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":{"iana":["Asia/Calcutta"]},"(UTC+05:45) Kathmandu":{"iana":["Asia/Katmandu"]},"(UTC+06:00) Almaty, Novosibirsk":{"iana":["Asia/Novosibirsk"]},"(UTC+06:00) Astana, Dhaka":{"iana":["Asia/Bishkek"]},"(UTC+06:00) Sri Jayawardenepura":{"iana":["Asia/Colombo"]},"(UTC+06:30) Yangon (Rangoon)":{"iana":["Asia/Rangoon"]},"(UTC+07:00) Bangkok, Hanoi, Jakarta":{"iana":["Asia/Bangkok"]},"(UTC+07:00) Krasnoyarsk":{"iana":["Asia/Krasnoyarsk"]},"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi":{"iana":["Asia/Shanghai"]},"(UTC+08:00) Irkutsk, Ulaanbaatar":{"iana":["Asia/Irkutsk"]},"(UTC+08:00) Kuala Lumpur, Singapore":{"iana":["Asia/Singapore"]},"(UTC+08:00) Perth":{"iana":["Australia/Perth"]},"(UTC+08:00) Taipei":{"iana":["Asia/Taipei"]},"(UTC+09:00) Osaka, Sapporo, Tokyo":{"iana":["Asia/Tokyo"]},"(UTC+09:00) Seoul":{"iana":["Asia/Seoul"]},"(UTC+09:00) Yakutsk":{"iana":["Asia/Yakutsk"]},"(UTC+09:30) Adelaide":{"iana":["Australia/Adelaide"]},"(UTC+09:30) Darwin":{"iana":["Australia/Darwin"]},"(UTC+10:00) Brisbane":{"iana":["Australia/Brisbane"]},"(UTC+10:00) Canberra, Melbourne, Sydney":{"iana":["Australia/Sydney"]},"(UTC+10:00) Guam, Port Moresby":{"iana":["Pacific/Port_Moresby"]},"(UTC+10:00) Hobart":{"iana":["Australia/Hobart"]},"(UTC+10:00) Vladivostok":{"iana":["Asia/Vladivostok"]},"(UTC+11:00) Magadan, Solomon Islands, New Caledonia":{"iana":["Pacific/Guadalcanal"]},"(UTC+12:00) Auckland, Wellington":{"iana":["Pacific/Auckland"]},"(UTC+12:00) Fiji, Kamchatka, Marshall Is.":{"iana":["Pacific/Fiji"]},"(UTC+12:00) Petropavlovsk-Kamchatsky":{"iana":["Asia/Kamchatka"]},"(UTC+13:00) Nuku\'alofa":{"iana":["Pacific/Tongatapu"]},"(UTC-01:00) Azores":{"iana":["Atlantic/Azores"]},"(UTC-01:00) Cape Verde Islands":{"iana":["Atlantic/Cape_Verde"]},"(UTC-02:00) Mid-Atlantic":{"iana":["Etc/GMT+2"]},"(UTC-03:00) Brasilia":{"iana":["America/Sao_Paulo"]},"(UTC-03:00) Buenos Aires":{"iana":["America/Buenos_Aires"]},"(UTC-03:00) Georgetown":{"iana":["America/Cayenne"]},"(UTC-03:00) Greenland":{"iana":["America/Godthab"]},"(UTC-03:00) Montevideo":{"iana":["America/Montevideo"]},"(UTC-03:30) Newfoundland":{"iana":["America/St_Johns"]},"(UTC-04:00) Asuncion":{"iana":["America/Asuncion"]},"(UTC-04:00) Atlantic Time (Canada)":{"iana":["America/Halifax"]},"(UTC-04:00) Georgetown, La Paz, San Juan":{"iana":["America/La_Paz"]},"(UTC-04:00) Manaus":{"iana":["America/Cuiaba"]},"(UTC-04:00) Santiago":{"iana":["America/Santiago"]},"(UTC-04:30) Caracas":{"iana":["America/Caracas"]},"(UTC-05:00) Bogota, Lima, Quito":{"iana":["America/Bogota"]},"(UTC-05:00) Eastern Time (US & Canada)":{"iana":["America/New_York"]},"(UTC-05:00) Eastern Time (US and Canada)":{"iana":["America/New_York"]},"(UTC-05:00) Indiana (East)":{"iana":["America/Indianapolis"]},"(UTC-06:00) Central America":{"iana":["America/Guatemala"]},"(UTC-06:00) Central Time (US & Canada)":{"iana":["America/Chicago"]},"(UTC-06:00) Central Time (US and Canada)":{"iana":["America/Chicago"]},"(UTC-06:00) Guadalajara, Mexico City, Monterrey":{"iana":["America/Mexico_City"]},"(UTC-06:00) Guadalajara, Mexico City, Monterrey - New":{"iana":["America/Mexico_City"]},"(UTC-06:00) Saskatchewan":{"iana":["America/Regina"]},"(UTC-07:00) Arizona":{"iana":["America/Phoenix"]},"(UTC-07:00) Chihuahua, La Paz, Mazatlan":{"iana":["America/Mazatlan"]},"(UTC-07:00) Chihuahua, La Paz, Mazatlan - New":{"iana":["America/Mazatlan"]},"(UTC-07:00) Mountain Time (US & Canada)":{"iana":["America/Denver"]},"(UTC-07:00) Mountain Time (US and Canada)":{"iana":["America/Denver"]},"(UTC-08:00) Pacific Time (US & Canada); Tijuana":{"iana":["America/Los_Angeles"]},"(UTC-08:00) Pacific Time (US and Canada); Tijuana":{"iana":["America/Los_Angeles"]},"(UTC-08:00) Tijuana, Baja California":{"iana":["America/Tijuana"]},"(UTC-09:00) Alaska":{"iana":["America/Anchorage"]},"(UTC-10:00) Hawaii":{"iana":["Pacific/Honolulu"]},"(UTC-11:00) Midway Island, Samoa":{"iana":["Pacific/Apia"]},"(UTC-12:00) International Date Line West":{"iana":["Etc/GMT+12"]},"AUS Central Standard Time":{"iana":["Australia/Darwin"]},"AUS Eastern Standard Time":{"iana":["Australia/Sydney"]},"Afghanistan Standard Time":{"iana":["Asia/Kabul"]},"Alaskan Standard Time":{"iana":["America/Anchorage"]},"Aleutian Standard Time":{"iana":["America/Adak"]},"Altai Standard Time":{"iana":["Asia/Barnaul"]},"Arab Standard Time":{"iana":["Asia/Riyadh"]},"Arabian Standard Time":{"iana":["Asia/Dubai"]},"Arabic Standard Time":{"iana":["Asia/Baghdad"]},"Argentina Standard Time":{"iana":["America/Buenos_Aires"]},"Astrakhan Standard Time":{"iana":["Europe/Astrakhan"]},"Atlantic Standard Time":{"iana":["America/Halifax"]},"Aus Central W. Standard Time":{"iana":["Australia/Eucla"]},"Azerbaijan Standard Time":{"iana":["Asia/Baku"]},"Azores Standard Time":{"iana":["Atlantic/Azores"]},"Bahia Standard Time":{"iana":["America/Bahia"]},"Bangladesh Standard Time":{"iana":["Asia/Dhaka"]},"Belarus Standard Time":{"iana":["Europe/Minsk"]},"Bougainville Standard Time":{"iana":["Pacific/Bougainville"]},"Canada Central Standard Time":{"iana":["America/Regina"]},"Cape Verde Standard Time":{"iana":["Atlantic/Cape_Verde"]},"Caucasus Standard Time":{"iana":["Asia/Yerevan"]},"Cen. Australia Standard Time":{"iana":["Australia/Adelaide"]},"Central America Standard Time":{"iana":["America/Guatemala"]},"Central Asia Standard Time":{"iana":["Asia/Bishkek"]},"Central Brazilian Standard Time":{"iana":["America/Cuiaba"]},"Central Europe Standard Time":{"iana":["Europe/Budapest"]},"Central European Standard Time":{"iana":["Europe/Warsaw"]},"Central Pacific Standard Time":{"iana":["Pacific/Guadalcanal"]},"Central Standard Time":{"iana":["America/Chicago"]},"Central Standard Time (Mexico)":{"iana":["America/Mexico_City"]},"Chatham Islands Standard Time":{"iana":["Pacific/Chatham"]},"China Standard Time":{"iana":["Asia/Shanghai"]},"Cuba Standard Time":{"iana":["America/Havana"]},"Dateline Standard Time":{"iana":["Etc/GMT+12"]},"E. Africa Standard Time":{"iana":["Africa/Nairobi"]},"E. Australia Standard Time":{"iana":["Australia/Brisbane"]},"E. Europe Standard Time":{"iana":["Europe/Chisinau"]},"E. South America Standard Time":{"iana":["America/Sao_Paulo"]},"Easter Island Standard Time":{"iana":["Pacific/Easter"]},"Eastern Standard Time":{"iana":["America/New_York"]},"Eastern Standard Time (Mexico)":{"iana":["America/Cancun"]},"Egypt Standard Time":{"iana":["Africa/Cairo"]},"Ekaterinburg Standard Time":{"iana":["Asia/Yekaterinburg"]},"FLE Standard Time":{"iana":["Europe/Kiev"]},"Fiji Standard Time":{"iana":["Pacific/Fiji"]},"GMT Standard Time":{"iana":["Europe/London"]},"GTB Standard Time":{"iana":["Europe/Bucharest"]},"Georgian Standard Time":{"iana":["Asia/Tbilisi"]},"Greenland Standard Time":{"iana":["America/Godthab"]},"Greenwich Standard Time":{"iana":["Atlantic/Reykjavik"]},"Haiti Standard Time":{"iana":["America/Port-au-Prince"]},"Hawaiian Standard Time":{"iana":["Pacific/Honolulu"]},"India Standard Time":{"iana":["Asia/Calcutta"]},"Iran Standard Time":{"iana":["Asia/Tehran"]},"Israel Standard Time":{"iana":["Asia/Jerusalem"]},"Jordan Standard Time":{"iana":["Asia/Amman"]},"Kaliningrad Standard Time":{"iana":["Europe/Kaliningrad"]},"Korea Standard Time":{"iana":["Asia/Seoul"]},"Libya Standard Time":{"iana":["Africa/Tripoli"]},"Line Islands Standard Time":{"iana":["Pacific/Kiritimati"]},"Lord Howe Standard Time":{"iana":["Australia/Lord_Howe"]},"Magadan Standard Time":{"iana":["Asia/Magadan"]},"Magallanes Standard Time":{"iana":["America/Punta_Arenas"]},"Marquesas Standard Time":{"iana":["Pacific/Marquesas"]},"Mauritius Standard Time":{"iana":["Indian/Mauritius"]},"Middle East Standard Time":{"iana":["Asia/Beirut"]},"Montevideo Standard Time":{"iana":["America/Montevideo"]},"Morocco Standard Time":{"iana":["Africa/Casablanca"]},"Mountain Standard Time":{"iana":["America/Denver"]},"Mountain Standard Time (Mexico)":{"iana":["America/Mazatlan"]},"Myanmar Standard Time":{"iana":["Asia/Rangoon"]},"N. Central Asia Standard Time":{"iana":["Asia/Novosibirsk"]},"Namibia Standard Time":{"iana":["Africa/Windhoek"]},"Nepal Standard Time":{"iana":["Asia/Katmandu"]},"New Zealand Standard Time":{"iana":["Pacific/Auckland"]},"Newfoundland Standard Time":{"iana":["America/St_Johns"]},"Norfolk Standard Time":{"iana":["Pacific/Norfolk"]},"North Asia East Standard Time":{"iana":["Asia/Irkutsk"]},"North Asia Standard Time":{"iana":["Asia/Krasnoyarsk"]},"North Korea Standard Time":{"iana":["Asia/Pyongyang"]},"Omsk Standard Time":{"iana":["Asia/Omsk"]},"Pacific SA Standard Time":{"iana":["America/Santiago"]},"Pacific Standard Time":{"iana":["America/Los_Angeles"]},"Pacific Standard Time (Mexico)":{"iana":["America/Tijuana"]},"Pakistan Standard Time":{"iana":["Asia/Karachi"]},"Paraguay Standard Time":{"iana":["America/Asuncion"]},"Qyzylorda Standard Time":{"iana":["Asia/Qyzylorda"]},"Romance Standard Time":{"iana":["Europe/Paris"]},"Russia Time Zone 10":{"iana":["Asia/Srednekolymsk"]},"Russia Time Zone 11":{"iana":["Asia/Kamchatka"]},"Russia Time Zone 3":{"iana":["Europe/Samara"]},"Russian Standard Time":{"iana":["Europe/Moscow"]},"SA Eastern Standard Time":{"iana":["America/Cayenne"]},"SA Pacific Standard Time":{"iana":["America/Bogota"]},"SA Western Standard Time":{"iana":["America/La_Paz"]},"SE Asia Standard Time":{"iana":["Asia/Bangkok"]},"Saint Pierre Standard Time":{"iana":["America/Miquelon"]},"Sakhalin Standard Time":{"iana":["Asia/Sakhalin"]},"Samoa Standard Time":{"iana":["Pacific/Apia"]},"Sao Tome Standard Time":{"iana":["Africa/Sao_Tome"]},"Saratov Standard Time":{"iana":["Europe/Saratov"]},"Singapore Standard Time":{"iana":["Asia/Singapore"]},"South Africa Standard Time":{"iana":["Africa/Johannesburg"]},"South Sudan Standard Time":{"iana":["Africa/Juba"]},"Sri Lanka Standard Time":{"iana":["Asia/Colombo"]},"Sudan Standard Time":{"iana":["Africa/Khartoum"]},"Syria Standard Time":{"iana":["Asia/Damascus"]},"Taipei Standard Time":{"iana":["Asia/Taipei"]},"Tasmania Standard Time":{"iana":["Australia/Hobart"]},"Tocantins Standard Time":{"iana":["America/Araguaina"]},"Tokyo Standard Time":{"iana":["Asia/Tokyo"]},"Tomsk Standard Time":{"iana":["Asia/Tomsk"]},"Tonga Standard Time":{"iana":["Pacific/Tongatapu"]},"Transbaikal Standard Time":{"iana":["Asia/Chita"]},"Turkey Standard Time":{"iana":["Europe/Istanbul"]},"Turks And Caicos Standard Time":{"iana":["America/Grand_Turk"]},"US Eastern Standard Time":{"iana":["America/Indianapolis"]},"US Mountain Standard Time":{"iana":["America/Phoenix"]},"UTC":{"iana":["Etc/UTC"]},"UTC+12":{"iana":["Etc/GMT-12"]},"UTC+13":{"iana":["Etc/GMT-13"]},"UTC-02":{"iana":["Etc/GMT+2"]},"UTC-08":{"iana":["Etc/GMT+8"]},"UTC-09":{"iana":["Etc/GMT+9"]},"UTC-11":{"iana":["Etc/GMT+11"]},"Ulaanbaatar Standard Time":{"iana":["Asia/Ulaanbaatar"]},"Venezuela Standard Time":{"iana":["America/Caracas"]},"Vladivostok Standard Time":{"iana":["Asia/Vladivostok"]},"Volgograd Standard Time":{"iana":["Europe/Volgograd"]},"W. Australia Standard Time":{"iana":["Australia/Perth"]},"W. Central Africa Standard Time":{"iana":["Africa/Lagos"]},"W. Europe Standard Time":{"iana":["Europe/Berlin"]},"W. Mongolia Standard Time":{"iana":["Asia/Hovd"]},"West Asia Standard Time":{"iana":["Asia/Tashkent"]},"West Bank Standard Time":{"iana":["Asia/Hebron"]},"West Pacific Standard Time":{"iana":["Pacific/Port_Moresby"]},"Yakutsk Standard Time":{"iana":["Asia/Yakutsk"]},"Yukon Standard Time":{"iana":["America/Whitehorse"]}}')},8712(e,t,r){"use strict";const{Job:n,scheduledJobs:i}=r(5178);e.exports={scheduleJob:function(){if(arguments.length<2)throw new RangeError("Invalid number of arguments");const e=arguments.length>=3&&"string"==typeof arguments[0]?arguments[0]:null,t=e?arguments[1]:arguments[0],r=e?arguments[2]:arguments[1],i=e?arguments[3]:arguments[2];if("function"!=typeof r)throw new RangeError("The job method must be a function.");const s=new n(e,r,i);return s.schedule(t)?s:null},rescheduleJob:function(e,t){if(e instanceof n){if(e.reschedule(t))return e}else if("string"==typeof e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new Error("Cannot reschedule one-off job by name, pass job reference instead");if(i[e].reschedule(t))return i[e]}return null},scheduledJobs:i,cancelJob:function(e){let t=!1;return e instanceof n?t=e.cancel():("string"==typeof e||e instanceof String)&&e in i&&Object.prototype.hasOwnProperty.call(i,e)&&(t=i[e].cancel()),t},gracefulShutdown:function(){const e=Object.keys(i).map((e=>i[e]));e.forEach((function(e){e.cancel()}));let t=!1;for(let r=0;r<e.length;r++)if(e[r].running>0){t=!0;break}return new Promise((function(r){t?setInterval((function(){for(let t=0;t<e.length;t++)if(e[t].running>0)return;r()}),500):r()}))}}},8895(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=r(1635).__importDefault(r(9278)),i=r(228),s=r(1400);class a extends i.EventEmitter{#U;#V;_socket;#w;#Q=!1;#K=!1;#L=!1;#$;#X;#r;get isConnected(){return this.#Q}get isConnecting(){return this.#K}get isDestroyed(){return this.#L}constructor(e,t,r){super(),this.#U=e,this.#V=t,this.#w={reconnect_interval:2e3,reconnect:!0,...r},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#K=!1,this.#Q=!1,this.#w.reconnect&&this.#ee(),this.#R(s.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#Q=!0,this.#K=!1,this.#R(s.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#Q=!1,this.#R(s.InstanceStatus.Disconnected),!this.#K&&this.#w.reconnect&&this.#ee(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>{this.#L||this.connect()})),this.#r=setTimeout((()=>{this.#r=void 0,this.#L||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#U}:${this.#V} is missing an error handler!`)}),5e3)}connect(){if(this.#L)throw new Error("Cannot connect destroyed socket");return!this.#K&&(this.#K=!0,this._socket.connect(this.#V,this.#U),!0)}async send(e){if(this.#L||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#Q)return!1;try{return new Promise(((t,r)=>{this._socket.write(e,(e=>{e?r(e):t(!0)}))}))}catch(e){this.#Q=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#R(s.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#L=!0,void 0!==this.#X&&(clearTimeout(this.#X),this.#X=void 0),void 0!==this.#r&&(clearTimeout(this.#r),this.#r=void 0),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#ee(){void 0!==this.#X&&clearTimeout(this.#X),this.#X=setTimeout((()=>{this.#X=void 0,this.#R(s.InstanceStatus.Connecting),this.connect()}),this.#w.reconnect_interval)}#R(e,t){this.#$!=e&&(this.#$=e,this.emit("status_change",e,t))}}t.TCPHelper=a},8983(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9077(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=function(e,t){if(!t){const t=JSON.stringify(e);if(t.includes("companion-module-your-module-name"))throw new Error("Manifest incorrectly references template module 'companion-module-your-module-name'");if(t.includes("module-shortname"))throw new Error("Manifest incorrectly references template module 'module-shortname'");if(t.includes("A short one line description of your module"))throw new Error("Manifest incorrectly references template module 'A short one line description of your module'");if(t.includes("Your name"))throw new Error("Manifest incorrectly references template module 'Your name'");if(t.includes("Your email"))throw new Error("Manifest incorrectly references template module 'Your email'");if(t.includes("Your company"))throw new Error("Manifest incorrectly references template module 'Your company'");if(t.includes("Your product"))throw new Error("Manifest incorrectly references template module 'Your product'")}if(e.legacyIds.includes(e.id))throw new Error(`Manifest contains itself '${e.id}' in legacyIds`);if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}};const n=r(1635).__importDefault(r(7281))},9160(e,t,r){"use strict";var n=r(7033);function i(){}i._parseEntry=function(e){var t=e.split(" ");if(6===t.length)return{interval:n.parse(e)};if(t.length>6)return{interval:n.parse(t.slice(0,6).join(" ")),command:t.slice(6,t.length)};throw new Error("Invalid entry: "+e)},i.parseExpression=function(e,t){return n.parse(e,t)},i.fieldsToExpression=function(e,t){return n.fieldsToExpression(e,t)},i.parseString=function(e){for(var t=e.split("\n"),r={variables:{},expressions:[],errors:{}},n=0,s=t.length;n<s;n++){var a=null,o=t[n].trim();if(o.length>0){if(o.match(/^#/))continue;if(a=o.match(/^(.*)=(.*)$/))r.variables[a[1]]=a[2];else{var u=null;try{u=i._parseEntry("0 "+o),r.expressions.push(u.interval)}catch(e){r.errors[o]=e}}}}return r},i.parseFile=function(e,t){r(9896).readFile(e,(function(e,r){if(!e)return t(null,i.parseString(r.toString()));t(e)}))},e.exports=i},9278(e){"use strict";e.exports=require("net")},9786(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyUpgradeScript=void 0,t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,r)=>{const n=[];for(const t of r.feedbacks){let r=e[t.feedbackId];if(!0===r&&(r={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),r){t.style||(t.style={});for(const[e,i]of Object.entries(r))void 0!==t.options[e]&&(t.style[i]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedSecrets:null,updatedActions:[],updatedFeedbacks:n}}},t.CreateUseBuiltinInvertForFeedbacksUpgradeScript=function(e){return(t,r)=>{const n=[];for(const t of r.feedbacks){const r=e[t.feedbackId];if("string"!=typeof r)continue;const i=t.options[r];void 0!==i&&(delete t.options[r],t.isInverted="true"===i||!0===Boolean(i)||Number(i)>0,n.push(t))}return{updatedConfig:null,updatedSecrets:null,updatedActions:[],updatedFeedbacks:n}}},t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedSecrets:null,updatedActions:[],updatedFeedbacks:[]})},9896(e){"use strict";e.exports=require("fs")},9967(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},9998(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){const s=i/2|0;let a=n+s;r(e[a],t)<=0?(n=++a,i-=s+1):i=s}return n}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const{InstanceBase:n,Regex:i,runEntrypoint:s,InstanceStatus:a}=r(6278),o=r(7060),u=r(4694),c=r(4797),l=r(8176),d=r(6807),h=r(3453),{RRule:f}=r(1211);s(class extends n{constructor(e){super(e),this.scheduleJobs=new Map,this.events=new Map,this.activeCheckInterval=null}async init(e){if(this.config=e,this.updateStatus(a.Connecting),this.config.icalUrl){await this.setupIcalFeed(),this.updateStatus(a.Ok);const e=Math.max(1,Math.min(1440,parseInt(this.config.refreshInterval)||5));this.log("debug",`Setting up feed refresh interval: ${e} minutes`),setInterval((async()=>{this.log("debug","=== Feed Refresh Interval Triggered ==="),await this.setupIcalFeed()}),60*e*1e3)}else this.updateStatus(a.BadConfig,"No iCal URL provided");this.startActiveEventCheck(),this.updateActions(),this.updateFeedbacks(),this.updateVariableDefinitions()}async destroy(){this.log("debug","destroy");for(const e of this.scheduleJobs.values())e.cancel();this.scheduleJobs.clear(),this.events.clear(),this.activeCheckInterval&&(clearInterval(this.activeCheckInterval),this.activeCheckInterval=null)}startActiveEventCheck(){this.activeCheckInterval&&clearInterval(this.activeCheckInterval),this.activeCheckInterval=setInterval((()=>{this.checkFeedbackState(),this.updateEventVariables()}),3e4),this.checkFeedbackState(),this.updateEventVariables()}checkFeedbackState(){this.checkFeedbacks("eventActive"),this.checkFeedbacks("eventWindow")}formatEventDateTime(e){return e?{date:e.toISOString().split("T")[0],time:e.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}:{date:"",time:""}}updateEventVariables(){this.log("debug","=== Updating Variables ===");const e=new Date;let t=null,r=null;for(const[,n]of this.events)n.start<=e&&n.end>=e?(t=n,this.log("debug",`Found current event: "${n.summary||"Untitled"}"`)):n.start>e&&(!r||n.start<r.start)&&(r=n,this.log("debug",`Found next event: "${n.summary||"Untitled"}"`));const n={event_name:"Nothing Scheduled",event_start_date:"",event_start_time:"",event_end_date:"",event_end_time:"",next_event_name:"",next_event_start_date:"",next_event_start_time:"",next_event_end_date:"",next_event_end_time:""};if(t){const e=this.formatEventDateTime(t.start),r=this.formatEventDateTime(t.end);n.event_name=t.summary||"",n.event_start_date=e.date,n.event_start_time=e.time,n.event_end_date=r.date,n.event_end_time=r.time,this.log("debug","Current event details:"),this.log("debug",`  Name: ${n.event_name}`),this.log("debug",`  Start: ${n.event_start_date} ${n.event_start_time}`),this.log("debug",`  End: ${n.event_end_date} ${n.event_end_time}`)}else this.log("debug","No current event active");if(r){const e=this.formatEventDateTime(r.start),t=this.formatEventDateTime(r.end);n.next_event_name=r.summary||"",n.next_event_start_date=e.date,n.next_event_start_time=e.time,n.next_event_end_date=t.date,n.next_event_end_time=t.time,this.log("debug","Next event details:"),this.log("debug",`  Name: ${n.next_event_name}`),this.log("debug",`  Start: ${n.next_event_start_date} ${n.next_event_start_time}`),this.log("debug",`  End: ${n.next_event_end_date} ${n.next_event_end_time}`)}else this.log("debug","No next event scheduled");this.setVariableValues(n),this.log("debug","=== Variables Updated ===")}getNextOccurrence(e,t){if(!e.rrule)return null;const r=f.fromString(e.rrule.toString()).after(t);if(!r)return null;const n=e.end.getTime()-e.start.getTime();return{...e,uid:`${e.uid}_${r.getTime()}`,start:r,end:new Date(r.getTime()+n),recurrence:!0,originalEvent:e}}addEventAndSchedule(e,t){this.events.set(e.uid,e);const r=new Date(e.start.getTime()-3e5),n=new Date(e.end.getTime()+3e5);if(r>t){const t=h.scheduleJob(r,(()=>{this.checkFeedbackState()}));this.scheduleJobs.set(`window_start_${e.uid}`,t)}if(n>t){const t=h.scheduleJob(n,(()=>{this.checkFeedbackState()}));this.scheduleJobs.set(`window_end_${e.uid}`,t)}if(e.start>t){const r=h.scheduleJob(e.start,(()=>{if(this.handleEventStart(e),this.checkFeedbackState(),this.updateEventVariables(),e.recurrence&&e.originalEvent){const r=this.getNextOccurrence(e.originalEvent,e.start);r&&this.addEventAndSchedule(r,t)}}));this.scheduleJobs.set(`start_${e.uid}`,r)}if(e.end>t){const t=h.scheduleJob(e.end,(()=>{this.checkFeedbackState(),this.updateEventVariables()}));this.scheduleJobs.set(`end_${e.uid}`,t)}}async configUpdated(e){this.config=e;for(const e of this.scheduleJobs.values())e.cancel();this.scheduleJobs.clear(),this.events.clear(),this.config.icalUrl&&await this.setupIcalFeed(),this.startActiveEventCheck()}async setupIcalFeed(){try{const e=this.config.icalUrl.replace(/^webcal:\/\//i,"https://");this.log("debug",`Fetching calendar from: ${e}`);const t=await d.fromURL(e);this.updateStatus(a.Ok);const r=new Date;for(const[,e]of Object.entries(t))if("VEVENT"===e.type)if(e.rrule){const t=this.getNextOccurrence(e,r);t&&this.addEventAndSchedule(t,r)}else e.end<r||this.addEventAndSchedule(e,r);this.updateEventVariables(),this.checkFeedbackState()}catch(e){this.log("error","Failed to fetch iCal feed: "+e.toString()),this.updateStatus(a.Error,e.toString())}}handleEventStart(e){this.log("info",`Event started: ${e.summary}`),this.updateEventVariables(),this.checkFeedbackState()}handleEventEnd(e){this.log("info",`Event ended: ${e.summary}`),this.updateEventVariables(),this.checkFeedbackState()}getConfigFields(){return[{type:"textinput",id:"icalUrl",label:"iCal Feed URL",description:"iCal Feed URL (supports webcal:// or https://)",width:12,regex:i.URL},{type:"number",id:"refreshInterval",label:"Refresh Interval",description:"How often to check for calendar updates in minutes",width:6,min:1,max:1440,default:15}]}updateActions(){u(this)}updateFeedbacks(){c(this)}updateVariableDefinitions(){l(this)}},o)})();